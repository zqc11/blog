var U=Object.defineProperty,K=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var w=(n,e,t)=>e in n?U(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$=(n,e)=>{for(var t in e||(e={}))X.call(e,t)&&w(n,t,e[t]);if(E)for(var t of E(e))G.call(e,t)&&w(n,t,e[t]);return n},T=(n,e)=>K(n,P(e));import{q as v,P as W,d as Z,$ as J,G as M,Z as Q,cH as x,r as m,o as Y,n as ee,a,w as u,A as i,v as f,u as h,p as te,W as oe,X as ne,x as ae,aT as B}from"./vendor.7aac23bd.js";import le from"./config.c46cb1f1.js";import{_ as ue}from"./index.de2c2c86.js";function se(n){return typeof n!="undefined"}function ie(n){const e=v(n||""),t=v(!1),c=v(!1);return W(e,r=>{se(r)&&(c.value=!0,t.value=re(r))},{immediate:!!n,flush:"sync"}),{clipboardRef:e,isSuccessRef:t,copiedRef:c}}function re(n,{target:e=document.body}={}){const t=document.createElement("textarea"),c=document.activeElement;t.value=n,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const r=document.getSelection();let p;r&&r.rangeCount>0&&(p=r.getRangeAt(0)),e.append(t),t.select(),t.selectionStart=0,t.selectionEnd=n.length;let b=!1;try{b=document.execCommand("copy")}catch(_){throw new Error(_)}return t.remove(),p&&r&&(r.removeAllRanges(),r.addRange(p)),c&&c.focus(),b}const de={class:"text-model"},ce=f("\u7F16\u8F91"),me=f("\u65B0\u589E\u5B50\u7C7B\u578B"),fe=f("\u5B57\u5178\u914D\u7F6E"),pe=f("\u5220\u9664"),_e={name:"dict"},ve=Z(T($({},_e),{setup(n){const e=J({submitLoading:!1,showEdit:!1,selectRow:null,filterName:"",tableData:[{id:1,name:"\u72B6\u6001",model:"",children:[{id:"1-1",name:"\u670D\u52A1\u72B6\u6001",model:"serviceStatus"},{id:"1-2",name:"\u5728\u7EBF\u72B6\u6001",model:"onlienStatus"}]},{id:2,name:"\u64CD\u4F5C\u7CFB\u7EDF",model:"operatingSystem"}],formData:{name:"",model:""},formItems:[{field:"name",title:"\u5B57\u5178\u540D\u79F0",span:24,itemRender:{name:"$input",props:{placeholder:"\u8BF7\u8F93\u5165\u5B57\u5178\u540D\u79F0"}}},{field:"model",title:"\u5B57\u5178\u7C7B\u578B",span:24,itemRender:{name:"$input",props:{placeholder:"\u8BF7\u8F93\u5165\u5B57\u5178\u7C7B\u578B",disabled:!0}}},{align:"right",span:24,itemRender:{name:"$buttons",children:[{props:{type:"submit",content:"\u63D0\u4EA4",status:"primary"}},{props:{type:"reset",content:"\u91CD\u7F6E"}}]}}]});let t=M(e.tableData);const c=Q("xTree",null),r=()=>{const o=x.toValueString(e.filterName).trim();if(o){const l={children:"children"},g=["name"];e.tableData=x.searchTree(t,d=>g.some(D=>x.toValueString(d[D]).indexOf(o)>-1),l),ae(()=>{c.value.setAllTreeExpand(!0)})}else e.tableData=t},p=x.debounce(function(){r()},100,{leading:!1,trailing:!0}),b=async()=>{await await B.modal.confirm("\u60A8\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F")==="confirm"&&B.modal.message({content:"\u6D4B\u8BD5\u6570\u636E\uFF0C\u4E0D\u53EF\u5220\u9664",status:"error"})};function _(o,l){e.selectRow=o,e.showEdit=!0,e.formItems[1].itemRender.props.disabled=l}function R(){_(null,!1)}function k(o){_(null,!1)}function A(o){e.formData={name:o.name,model:o.model?o.model:"\u6682\u65E0\u5B57\u5178\u7C7B\u578B"},_(o,!0)}const{clipboardRef:S}=ie(),V=({row:o})=>{S.value=i(o).model},N=v({}),q=()=>{e.submitLoading=!0,setTimeout(()=>{const o=N.value;e.submitLoading=!1,e.showEdit=!1,e.selectRow?(B.modal.message({content:"\u4FDD\u5B58\u6210\u529F",status:"success"}),Object.assign(e.selectRow,e.formData)):(B.modal.message({content:"\u65B0\u589E\u6210\u529F",status:"success"}),o.insert(e.formData))},500)};let C=v(!1);function L(o){C.value=!0}function j(){C.value=!1}return(o,l)=>{const g=m("vxe-input"),d=m("vxe-button"),D=m("vxe-toolbar"),y=m("vxe-table-column"),I=m("el-tooltip"),z=m("vxe-table"),H=m("vxe-form"),O=m("vxe-modal");return Y(),ee("div",null,[a(D,null,{buttons:u(()=>[a(g,{modelValue:i(e).filterName,"onUpdate:modelValue":l[0]||(l[0]=s=>i(e).filterName=s),placeholder:o.$t("buttons.hssearch"),onKeyup:i(p)},null,8,["modelValue","placeholder","onKeyup"])]),tools:u(()=>[a(d,{icon:"fa fa-plus-square-o",status:"primary",onClick:R},{default:u(()=>[f(h(o.$t("buttons.hsadd")),1)]),_:1}),a(d,{icon:"fa fa-folder-open-o",status:"primary",onClick:l[1]||(l[1]=s=>o.$refs.xTree.setAllTreeExpand(!0))},{default:u(()=>[f(h(o.$t("buttons.hsexpendAll")),1)]),_:1}),a(d,{icon:"fa fa-folder-o",status:"primary",onClick:l[2]||(l[2]=s=>o.$refs.xTree.clearTreeExpand())},{default:u(()=>[f(h(o.$t("buttons.hscollapseAll")),1)]),_:1})]),_:1}),a(z,{ref_key:"xTree",ref:c,border:"",resizable:"","tree-config":{children:"children",iconOpen:"fa fa-minus-square-o",iconClose:"fa fa-plus-square-o"},data:i(e).tableData,onCellDblclick:V},{default:u(()=>[a(y,{"tree-node":"",field:"name",title:"\u5B57\u5178\u540D\u79F0"}),a(y,{title:"\u5B57\u5178\u7C7B\u578B"},{default:u(({row:s})=>[a(I,{effect:"dark",content:"\u53CC\u51FB\u590D\u5236\uFF1A"+s.model,placement:"right"},{default:u(()=>[te("span",de,h(s.model),1)]),_:2},1032,["content"])]),_:1}),a(y,{title:"\u64CD\u4F5C",width:"330",fixed:"right"},{default:u(({row:s})=>[a(d,{type:"text",icon:"fa fa-pencil-square-o",onClick:F=>A(s)},{default:u(()=>[ce]),_:2},1032,["onClick"]),a(d,{type:"text",icon:"fa fa-plus-square-o",onClick:F=>k()},{default:u(()=>[me]),_:2},1032,["onClick"]),oe(a(d,{type:"text",icon:"fa fa-cog",onClick:F=>L()},{default:u(()=>[fe]),_:2},1032,["onClick"]),[[ne,s.model]]),a(d,{type:"text",icon:"fa fa-trash-o",onClick:b},{default:u(()=>[pe]),_:1})]),_:1})]),_:1},8,["data"]),a(O,{resize:"",width:"450",modelValue:i(e).showEdit,"onUpdate:modelValue":l[3]||(l[3]=s=>i(e).showEdit=s),title:i(e).selectRow?"\u7F16\u8F91":"\u65B0\u589E",loading:i(e).submitLoading,onHide:l[4]||(l[4]=s=>o.$refs.xForm.reset())},{default:u(()=>[a(H,{ref:"xForm",data:i(e).formData,items:i(e).formItems,"title-align":"right","title-width":"100",onSubmit:q},null,8,["data","items"])]),_:1},8,["modelValue","title","loading"]),a(le,{drawer:i(C),drawTitle:"\u5B57\u5178\u5217\u8868",onHandleClose:j},null,8,["drawer"])])}}}));var Ce=ue(ve,[["__scopeId","data-v-3226b49c"]]);export{Ce as default};
