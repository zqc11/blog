import{_ as gi,j as Hy,H as OO,E as wO,s as xO,I as EO,J as jO,K as SO}from"./index.2c7e36b3.js";import{d as Ao,h as Fn,Q as PO,H as Et,r as Bt,o as It,z as xn,A as En,F as Lr,G as oo,e as wt,w as pt,I as Xy,Y as kO,$ as AO,N as TO,B as DO,C as jn,D as Sn,c as MO,a as NO,b as Or,j as bi,k as CO,n as RO,be as IO}from"./element-plus.5e3a2ffc.js";import{r as LO}from"./vform3-plus.79b63deb.js";import{c as Vy,s as zO}from"./search.4904df35.js";/* empty css                   */var Xe={exports:{}};(function(g,y){(function(c,p){g.exports=p()})(window,function(){return function(c){var p={};function a(f){if(p[f])return p[f].exports;var s=p[f]={i:f,l:!1,exports:{}};return c[f].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=c,a.c=p,a.d=function(f,s,v){a.o(f,s)||Object.defineProperty(f,s,{enumerable:!0,get:v})},a.r=function(f){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},a.t=function(f,s){if(1&s&&(f=a(f)),8&s||4&s&&typeof f=="object"&&f&&f.__esModule)return f;var v=Object.create(null);if(a.r(v),Object.defineProperty(v,"default",{enumerable:!0,value:f}),2&s&&typeof f!="string")for(var _ in f)a.d(v,_,function(w){return f[w]}.bind(null,_));return v},a.n=function(f){var s=f&&f.__esModule?function(){return f.default}:function(){return f};return a.d(s,"a",s),s},a.o=function(f,s){return Object.prototype.hasOwnProperty.call(f,s)},a.p="",a(a.s=202)}([function(c,p,a){(function(f,s){a.d(p,"a",function(){return A}),a.d(p,"b",function(){return Vo}),a.d(p,"c",function(){return kn}),a.d(p,"d",function(){return lt}),a.d(p,"e",function(){return ht}),a.d(p,"f",function(){return Qe}),a.d(p,"g",function(){return Je}),a.d(p,"h",function(){return Gr}),a.d(p,"i",function(){return Ut}),a.d(p,"j",function(){return He}),a.d(p,"k",function(){return Un}),a.d(p,"l",function(){return Lo}),a.d(p,"m",function(){return Mt}),a.d(p,"n",function(){return jr}),a.d(p,"o",function(){return R}),a.d(p,"p",function(){return Xi}),a.d(p,"q",function(){return Gn}),a.d(p,"r",function(){return Bi}),a.d(p,"s",function(){return mn}),a.d(p,"t",function(){return Br}),a.d(p,"u",function(){return lo}),a.d(p,"v",function(){return Ja}),a.d(p,"w",function(){return Hi}),a.d(p,"x",function(){return Hr}),a.d(p,"y",function(){return an}),a.d(p,"z",function(){return en}),a.d(p,"A",function(){return fn}),a.d(p,"B",function(){return Yn}),a.d(p,"C",function(){return Ge}),a.d(p,"D",function(){return Qa}),a.d(p,"E",function(){return Er}),a.d(p,"F",function(){return xr}),a.d(p,"G",function(){return Ka}),a.d(p,"H",function(){return Di}),a.d(p,"I",function(){return Ui}),a.d(p,"J",function(){return vn}),a.d(p,"K",function(){return Ee}),a.d(p,"L",function(){return Gt}),a.d(p,"M",function(){return gn});var v=[];Object.freeze(v);var _={};function w(){return++Ie.mobxGuid}function O(h){throw j(!1,h),"X"}function j(h,b){if(!h)throw new Error("[mobx] "+(b||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(_);function S(h){var b=!1;return function(){if(!b)return b=!0,h.apply(this,arguments)}}var k=function(){};function C(h){return h!==null&&typeof h=="object"}function I(h){if(h===null||typeof h!="object")return!1;var b=Object.getPrototypeOf(h);return b===Object.prototype||b===null}function G(h,b,x){Object.defineProperty(h,b,{enumerable:!1,writable:!0,configurable:!0,value:x})}function W(h,b){var x="isMobX"+h;return b.prototype[x]=!0,function(T){return C(T)&&T[x]===!0}}function L(h){return h instanceof Map}function K(h){return h instanceof Set}function q(h){var b=new Set;for(var x in h)b.add(x);return Object.getOwnPropertySymbols(h).forEach(function(T){Object.getOwnPropertyDescriptor(h,T).enumerable&&b.add(T)}),Array.from(b)}function X(h){return h&&h.toString?h.toString():new String(h).toString()}function N(h){return h===null?null:typeof h=="object"?""+h:h}var F=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(h){return Object.getOwnPropertyNames(h).concat(Object.getOwnPropertySymbols(h))}:Object.getOwnPropertyNames,A=Symbol("mobx administration"),z=function(){function h(b){b===void 0&&(b="Atom@"+w()),this.name=b,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=ee.NOT_TRACKING}return h.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(b){return b()})},h.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(b){return b()})},h.prototype.reportObserved=function(){return Vn(this)},h.prototype.reportChanged=function(){sn(),function(b){b.lowestObserverState!==ee.STALE&&(b.lowestObserverState=ee.STALE,b.observers.forEach(function(x){x.dependenciesState===ee.UP_TO_DATE&&(x.isTracing!==Fe.NONE&&wr(x,b),x.onBecomeStale()),x.dependenciesState=ee.STALE}))}(this),ln()},h.prototype.toString=function(){return this.name},h}(),V=W("Atom",z);function R(h,b,x){b===void 0&&(b=k),x===void 0&&(x=k);var T,M=new z(h);return b!==k&&Ci("onBecomeObserved",M,b,T),x!==k&&Er(M,x),M}var B={identity:function(h,b){return h===b},structural:function(h,b){return Yo(h,b)},default:function(h,b){return Object.is(h,b)},shallow:function(h,b){return Yo(h,b,1)}},$=function(h,b){return($=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,T){x.__proto__=T}||function(x,T){for(var M in T)T.hasOwnProperty(M)&&(x[M]=T[M])})(h,b)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ne=function(){return(ne=Object.assign||function(h){for(var b,x=1,T=arguments.length;x<T;x++)for(var M in b=arguments[x])Object.prototype.hasOwnProperty.call(b,M)&&(h[M]=b[M]);return h}).apply(this,arguments)};function ue(h){var b=typeof Symbol=="function"&&h[Symbol.iterator],x=0;return b?b.call(h):{next:function(){return h&&x>=h.length&&(h=void 0),{value:h&&h[x++],done:!h}}}}function de(h,b){var x=typeof Symbol=="function"&&h[Symbol.iterator];if(!x)return h;var T,M,U=x.call(h),oe=[];try{for(;(b===void 0||b-- >0)&&!(T=U.next()).done;)oe.push(T.value)}catch(Oe){M={error:Oe}}finally{try{T&&!T.done&&(x=U.return)&&x.call(U)}finally{if(M)throw M.error}}return oe}function _e(){for(var h=[],b=0;b<arguments.length;b++)h=h.concat(de(arguments[b]));return h}var pe=Symbol("mobx did run lazy initializers"),ce=Symbol("mobx pending decorators"),se={},fe={};function xe(h,b){var x=b?se:fe;return x[h]||(x[h]={configurable:!0,enumerable:b,get:function(){return ke(this),this[h]},set:function(T){ke(this),this[h]=T}})}function ke(h){var b,x;if(h[pe]!==!0){var T=h[ce];if(T){G(h,pe,!0);var M=_e(Object.getOwnPropertySymbols(T),Object.keys(T));try{for(var U=ue(M),oe=U.next();!oe.done;oe=U.next()){var Oe=T[oe.value];Oe.propertyCreator(h,Oe.prop,Oe.descriptor,Oe.decoratorTarget,Oe.decoratorArguments)}}catch(Ne){b={error:Ne}}finally{try{oe&&!oe.done&&(x=U.return)&&x.call(U)}finally{if(b)throw b.error}}}}}function Ae(h,b){return function(){var x,T=function(M,U,oe,Oe){if(Oe===!0)return b(M,U,oe,M,x),null;if(!Object.prototype.hasOwnProperty.call(M,ce)){var Ne=M[ce];G(M,ce,ne({},Ne))}return M[ce][U]={prop:U,propertyCreator:b,descriptor:oe,decoratorTarget:M,decoratorArguments:x},xe(U,h)};return Pe(arguments)?(x=v,T.apply(null,arguments)):(x=Array.prototype.slice.call(arguments),T)}}function Pe(h){return(h.length===2||h.length===3)&&(typeof h[1]=="string"||typeof h[1]=="symbol")||h.length===4&&h[3]===!0}function Me(h,b,x){return Hr(h)?h:Array.isArray(h)?Ge.array(h,{name:x}):I(h)?Ge.object(h,void 0,{name:x}):L(h)?Ge.map(h,{name:x}):K(h)?Ge.set(h,{name:x}):h}function qe(h){return h}function Q(h){j(h);var b=Ae(!0,function(T,M,U,oe,Oe){var Ne=U?U.initializer?U.initializer.call(T):U.value:void 0;Uo(T).addObservableProp(M,Ne,h)}),x=(f!==void 0&&f.env,b);return x.enhancer=h,x}var J={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ie(h){return h==null?J:typeof h=="string"?{name:h,deep:!0,proxy:!0}:h}Object.freeze(J);var ge=Q(Me),Te=Q(function(h,b,x){return h==null||fn(h)||an(h)||en(h)||Kt(h)?h:Array.isArray(h)?Ge.array(h,{name:x,deep:!1}):I(h)?Ge.object(h,void 0,{name:x,deep:!1}):L(h)?Ge.map(h,{name:x,deep:!1}):K(h)?Ge.set(h,{name:x,deep:!1}):O(!1)}),we=Q(qe),We=Q(function(h,b,x){return Yo(h,b)?b:h});function Ue(h){return h.defaultDecorator?h.defaultDecorator.enhancer:h.deep===!1?qe:Me}var Ze={box:function(h,b){arguments.length>2&&me("box");var x=ie(b);return new Jt(h,Ue(x),x.name,!0,x.equals)},array:function(h,b){arguments.length>2&&me("array");var x=ie(b);return Yi(h,Ue(x),x.name)},map:function(h,b){arguments.length>2&&me("map");var x=ie(b);return new Vo(h,Ue(x),x.name)},set:function(h,b){arguments.length>2&&me("set");var x=ie(b);return new cr(h,Ue(x),x.name)},object:function(h,b,x){typeof arguments[1]=="string"&&me("object");var T=ie(x);if(T.proxy===!1)return Gn({},h,b,T);var M=Ri(T),U=Gn({},void 0,void 0,T),oe=Vr(U);return Ii(oe,h,b,M),oe},ref:we,shallow:Te,deep:ge,struct:We},Ge=function(h,b,x){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return ge.apply(null,arguments);if(Hr(h))return h;var T=I(h)?Ge.object(h,b,x):Array.isArray(h)?Ge.array(h,b):L(h)?Ge.map(h,b):K(h)?Ge.set(h,b):h;if(T!==h)return T;O(!1)};function me(h){O("Expected one or two arguments to observable."+h+". Did you accidentally try to use observable."+h+" as decorator?")}Object.keys(Ze).forEach(function(h){return Ge[h]=Ze[h]});var ee,Fe,ze=Ae(!1,function(h,b,x,T,M){var U=x.get,oe=x.set,Oe=M[0]||{};Uo(h).addComputedProp(h,b,ne({get:U,set:oe,context:h},Oe))}),Ye=ze({equals:B.structural}),Mt=function(h,b,x){if(typeof b=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return ze.apply(null,arguments);var T=typeof b=="object"?b:{};return T.get=h,T.set=typeof b=="function"?b:T.set,T.name=T.name||h.name||"",new Xn(T)};Mt.struct=Ye,function(h){h[h.NOT_TRACKING=-1]="NOT_TRACKING",h[h.UP_TO_DATE=0]="UP_TO_DATE",h[h.POSSIBLY_STALE=1]="POSSIBLY_STALE",h[h.STALE=2]="STALE"}(ee||(ee={})),function(h){h[h.NONE=0]="NONE",h[h.LOG=1]="LOG",h[h.BREAK=2]="BREAK"}(Fe||(Fe={}));var ot=function(h){this.cause=h};function st(h){return h instanceof ot}function dt(h){switch(h.dependenciesState){case ee.UP_TO_DATE:return!1;case ee.NOT_TRACKING:case ee.STALE:return!0;case ee.POSSIBLY_STALE:for(var b=Qe(!0),x=Ke(),T=h.observing,M=T.length,U=0;U<M;U++){var oe=T[U];if(ir(oe)){if(Ie.disableErrorBoundaries)oe.get();else try{oe.get()}catch{return Ve(x),ht(b),!0}if(h.dependenciesState===ee.STALE)return Ve(x),ht(b),!0}}return Tt(h),Ve(x),ht(b),!1}}function Ut(){return Ie.trackingDerivation!==null}function Y(h){var b=h.observers.size>0;Ie.computationDepth>0&&b&&O(!1),Ie.allowStateChanges||!b&&Ie.enforceActions!=="strict"||O(!1)}function te(h,b,x){var T=Qe(!0);Tt(h),h.newObserving=new Array(h.observing.length+100),h.unboundDepsCount=0,h.runId=++Ie.runId;var M,U=Ie.trackingDerivation;if(Ie.trackingDerivation=h,Ie.disableErrorBoundaries===!0)M=b.call(x);else try{M=b.call(x)}catch(oe){M=new ot(oe)}return Ie.trackingDerivation=U,function(oe){for(var Oe=oe.observing,Ne=oe.observing=oe.newObserving,rt=ee.UP_TO_DATE,nt=0,mt=oe.unboundDepsCount,yt=0;yt<mt;yt++)(ft=Ne[yt]).diffValue===0&&(ft.diffValue=1,nt!==yt&&(Ne[nt]=ft),nt++),ft.dependenciesState>rt&&(rt=ft.dependenciesState);for(Ne.length=nt,oe.newObserving=null,mt=Oe.length;mt--;)(ft=Oe[mt]).diffValue===0&&ki(ft,oe),ft.diffValue=0;for(;nt--;){var ft;(ft=Ne[nt]).diffValue===1&&(ft.diffValue=0,Ga(ft,oe))}rt!==ee.UP_TO_DATE&&(oe.dependenciesState=rt,oe.onBecomeStale())}(h),ht(T),M}function ve(h){var b=h.observing;h.observing=[];for(var x=b.length;x--;)ki(b[x],h);h.dependenciesState=ee.NOT_TRACKING}function Ee(h){var b=Ke();try{return h()}finally{Ve(b)}}function Ke(){var h=Ie.trackingDerivation;return Ie.trackingDerivation=null,h}function Ve(h){Ie.trackingDerivation=h}function Qe(h){var b=Ie.allowStateReads;return Ie.allowStateReads=h,b}function ht(h){Ie.allowStateReads=h}function Tt(h){if(h.dependenciesState!==ee.UP_TO_DATE){h.dependenciesState=ee.UP_TO_DATE;for(var b=h.observing,x=b.length;x--;)b[x].lowestObserverState=ee.UP_TO_DATE}}var Ht=0,or=1,Hn=Object.getOwnPropertyDescriptor(function(){},"name");Hn&&Hn.configurable;function bt(h,b,x){var T=function(){return Re(h,b,x||this,arguments)};return T.isMobxAction=!0,T}function Re(h,b,x,T){var M=He();try{return b.apply(x,T)}catch(U){throw M.error=U,U}finally{Je(M)}}function He(h,b,x){var T=0,M=Ke();sn();var U={prevDerivation:M,prevAllowStateChanges:jt(!0),prevAllowStateReads:Qe(!0),notifySpy:!1,startTime:T,actionId:or++,parentActionId:Ht};return Ht=U.actionId,U}function Je(h){Ht!==h.actionId&&O("invalid action stack. did you forget to finish an action?"),Ht=h.parentActionId,h.error!==void 0&&(Ie.suppressReactionErrors=!0),Nt(h.prevAllowStateChanges),ht(h.prevAllowStateReads),ln(),Ve(h.prevDerivation),h.notifySpy,Ie.suppressReactionErrors=!1}function lt(h,b){var x,T=jt(h);try{x=b()}finally{Nt(T)}return x}function jt(h){var b=Ie.allowStateChanges;return Ie.allowStateChanges=h,b}function Nt(h){Ie.allowStateChanges=h}var Jt=function(h){function b(x,T,M,U,oe){M===void 0&&(M="ObservableValue@"+w()),oe===void 0&&(oe=B.default);var Oe=h.call(this,M)||this;return Oe.enhancer=T,Oe.name=M,Oe.equals=oe,Oe.hasUnreportedChange=!1,Oe.value=T(x,void 0,M),Oe}return function(x,T){function M(){this.constructor=x}$(x,T),x.prototype=T===null?Object.create(T):(M.prototype=T.prototype,new M)}(b,h),b.prototype.dehanceValue=function(x){return this.dehancer!==void 0?this.dehancer(x):x},b.prototype.set=function(x){this.value,(x=this.prepareNewValue(x))!==Ie.UNCHANGED&&this.setNewValue(x)},b.prototype.prepareNewValue=function(x){if(Y(this),bn(this)){var T=on(this,{object:this,type:"update",newValue:x});if(!T)return Ie.UNCHANGED;x=T.newValue}return x=this.enhancer(x,this.value,this.name),this.equals(this.value,x)?Ie.UNCHANGED:x},b.prototype.setNewValue=function(x){var T=this.value;this.value=x,this.reportChanged(),ut(this)&&Qt(this,{type:"update",object:this,newValue:x,oldValue:T})},b.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},b.prototype.intercept=function(x){return Wn(this,x)},b.prototype.observe=function(x,T){return T&&x({object:this,type:"update",newValue:this.value,oldValue:void 0}),Ur(this,x)},b.prototype.toJSON=function(){return this.get()},b.prototype.toString=function(){return this.name+"["+this.value+"]"},b.prototype.valueOf=function(){return N(this.get())},b.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},b}(z),Co=W("ObservableValue",Jt),Xn=function(){function h(b){this.dependenciesState=ee.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=ee.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+w(),this.value=new ot(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Fe.NONE,j(b.get,"missing option for computed: get"),this.derivation=b.get,this.name=b.name||"ComputedValue@"+w(),b.set&&(this.setter=bt(this.name+"-setter",b.set)),this.equals=b.equals||(b.compareStructural||b.struct?B.structural:B.default),this.scope=b.context,this.requiresReaction=!!b.requiresReaction,this.keepAlive=!!b.keepAlive}return h.prototype.onBecomeStale=function(){(function(b){b.lowestObserverState===ee.UP_TO_DATE&&(b.lowestObserverState=ee.POSSIBLY_STALE,b.observers.forEach(function(x){x.dependenciesState===ee.UP_TO_DATE&&(x.dependenciesState=ee.POSSIBLY_STALE,x.isTracing!==Fe.NONE&&wr(x,b),x.onBecomeStale())}))})(this)},h.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(b){return b()})},h.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(b){return b()})},h.prototype.get=function(){this.isComputing&&O("Cycle detected in computation "+this.name+": "+this.derivation),Ie.inBatch!==0||this.observers.size!==0||this.keepAlive?(Vn(this),dt(this)&&this.trackAndCompute()&&function(x){x.lowestObserverState!==ee.STALE&&(x.lowestObserverState=ee.STALE,x.observers.forEach(function(T){T.dependenciesState===ee.POSSIBLY_STALE?T.dependenciesState=ee.STALE:T.dependenciesState===ee.UP_TO_DATE&&(x.lowestObserverState=ee.UP_TO_DATE)}))}(this)):dt(this)&&(this.warnAboutUntrackedRead(),sn(),this.value=this.computeValue(!1),ln());var b=this.value;if(st(b))throw b.cause;return b},h.prototype.peek=function(){var b=this.computeValue(!1);if(st(b))throw b.cause;return b},h.prototype.set=function(b){if(this.setter){j(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,b)}finally{this.isRunningSetter=!1}}else j(!1,!1)},h.prototype.trackAndCompute=function(){var b=this.value,x=this.dependenciesState===ee.NOT_TRACKING,T=this.computeValue(!0),M=x||st(b)||st(T)||!this.equals(b,T);return M&&(this.value=T),M},h.prototype.computeValue=function(b){var x;if(this.isComputing=!0,Ie.computationDepth++,b)x=te(this,this.derivation,this.scope);else if(Ie.disableErrorBoundaries===!0)x=this.derivation.call(this.scope);else try{x=this.derivation.call(this.scope)}catch(T){x=new ot(T)}return Ie.computationDepth--,this.isComputing=!1,x},h.prototype.suspend=function(){this.keepAlive||(ve(this),this.value=void 0)},h.prototype.observe=function(b,x){var T=this,M=!0,U=void 0;return Lo(function(){var oe=T.get();if(!M||x){var Oe=Ke();b({type:"update",object:T,newValue:oe,oldValue:U}),Ve(Oe)}M=!1,U=oe})},h.prototype.warnAboutUntrackedRead=function(){},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},h.prototype.valueOf=function(){return N(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(),ir=W("ComputedValue",Xn),uo=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Ua={};function Pn(){return typeof window!="undefined"?window:s!==void 0?s:typeof self!="undefined"?self:Ua}var co=!0,Pi=!1,Ie=function(){var h=Pn();return h.__mobxInstanceCount>0&&!h.__mobxGlobals&&(co=!1),h.__mobxGlobals&&h.__mobxGlobals.version!==new uo().version&&(co=!1),co?h.__mobxGlobals?(h.__mobxInstanceCount+=1,h.__mobxGlobals.UNCHANGED||(h.__mobxGlobals.UNCHANGED={}),h.__mobxGlobals):(h.__mobxInstanceCount=1,h.__mobxGlobals=new uo):(setTimeout(function(){Pi||O("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new uo)}();function Ga(h,b){h.observers.add(b),h.lowestObserverState>b.dependenciesState&&(h.lowestObserverState=b.dependenciesState)}function ki(h,b){h.observers.delete(b),h.observers.size===0&&Ai(h)}function Ai(h){h.isPendingUnobservation===!1&&(h.isPendingUnobservation=!0,Ie.pendingUnobservations.push(h))}function sn(){Ie.inBatch++}function ln(){if(--Ie.inBatch==0){Ti();for(var h=Ie.pendingUnobservations,b=0;b<h.length;b++){var x=h[b];x.isPendingUnobservation=!1,x.observers.size===0&&(x.isBeingObserved&&(x.isBeingObserved=!1,x.onBecomeUnobserved()),x instanceof Xn&&x.suspend())}Ie.pendingUnobservations=[]}}function Vn(h){var b=Ie.trackingDerivation;return b!==null?(b.runId!==h.lastAccessedBy&&(h.lastAccessedBy=b.runId,b.newObserving[b.unboundDepsCount++]=h,h.isBeingObserved||(h.isBeingObserved=!0,h.onBecomeObserved())),!0):(h.observers.size===0&&Ie.inBatch>0&&Ai(h),!1)}function wr(h,b){if(console.log("[mobx.trace] '"+h.name+"' is invalidated due to a change in: '"+b.name+"'"),h.isTracing===Fe.BREAK){var x=[];(function T(M,U,oe){if(U.length>=1e3)return void U.push("(and many more)");U.push(""+new Array(oe).join("	")+M.name),M.dependencies&&M.dependencies.forEach(function(Oe){return T(Oe,U,oe+1)})})(Br(h),x,1),new Function(`debugger;
/*
Tracing '`+h.name+`'

You are entering this break point because derivation '`+h.name+"' is being traced and '"+b.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(h instanceof Xn?h.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+x.join(`
`)+`
*/
    `)()}}var kn=function(){function h(b,x,T,M){b===void 0&&(b="Reaction@"+w()),M===void 0&&(M=!1),this.name=b,this.onInvalidate=x,this.errorHandler=T,this.requiresObservable=M,this.observing=[],this.newObserving=[],this.dependenciesState=ee.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+w(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Fe.NONE}return h.prototype.onBecomeStale=function(){this.schedule()},h.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ie.pendingReactions.push(this),Ti())},h.prototype.isScheduled=function(){return this._isScheduled},h.prototype.runReaction=function(){if(!this.isDisposed){if(sn(),this._isScheduled=!1,dt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(b){this.reportExceptionInDerivation(b)}}ln()}},h.prototype.track=function(b){if(!this.isDisposed){sn(),this._isRunning=!0;var x=te(this,b,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ve(this),st(x)&&this.reportExceptionInDerivation(x.cause),ln()}},h.prototype.reportExceptionInDerivation=function(b){var x=this;if(this.errorHandler)this.errorHandler(b,this);else{if(Ie.disableErrorBoundaries)throw b;var T="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ie.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(T,b),Ie.globalReactionErrorHandlers.forEach(function(M){return M(b,x)})}},h.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(sn(),ve(this),ln()))},h.prototype.getDisposer=function(){var b=this.dispose.bind(this);return b[A]=this,b},h.prototype.toString=function(){return"Reaction["+this.name+"]"},h.prototype.trace=function(b){b===void 0&&(b=!1),function(){for(var x=[],T=0;T<arguments.length;T++)x[T]=arguments[T];var M=!1;typeof x[x.length-1]=="boolean"&&(M=x.pop());var U=Bo(x);if(!U)return O(!1);U.isTracing===Fe.NONE&&console.log("[mobx.trace] '"+U.name+"' tracing enabled"),U.isTracing=M?Fe.BREAK:Fe.LOG}(this,b)},h}(),Ro=function(h){return h()};function Ti(){Ie.inBatch>0||Ie.isRunningReactions||Ro(Ya)}function Ya(){Ie.isRunningReactions=!0;for(var h=Ie.pendingReactions,b=0;h.length>0;){++b==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+h[0]),h.splice(0));for(var x=h.splice(0),T=0,M=x.length;T<M;T++)x[T].runReaction()}Ie.isRunningReactions=!1}var so=W("Reaction",kn);function Wa(h){var b=Ro;Ro=function(x){return h(function(){return b(x)})}}function Di(h){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function $a(){O(!1)}function ar(h){return function(b,x,T){if(T){if(T.value)return{value:bt(h,T.value),enumerable:!1,configurable:!0,writable:!0};var M=T.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return bt(h,M.call(this))}}}return Mi(h).apply(this,arguments)}}function Mi(h){return function(b,x,T){Object.defineProperty(b,x,{configurable:!0,enumerable:!1,get:function(){},set:function(M){G(this,x,Un(h,M))}})}}var Un=function(h,b,x,T){return arguments.length===1&&typeof h=="function"?bt(h.name||"<unnamed action>",h):arguments.length===2&&typeof b=="function"?bt(h,b):arguments.length===1&&typeof h=="string"?ar(h):T!==!0?ar(b).apply(null,arguments):void G(h,b,bt(h.name||b,x.value,this))};function Ka(h,b){return Re(typeof h=="string"?h:h.name||"<unnamed action>",typeof h=="function"?h:b,this,void 0)}function lo(h){return typeof h=="function"&&h.isMobxAction===!0}function Io(h,b,x){G(h,b,bt(b,x.bind(h)))}function Lo(h,b){b===void 0&&(b=_);var x,T=b&&b.name||h.name||"Autorun@"+w();if(!b.scheduler&&!b.delay)x=new kn(T,function(){this.track(oe)},b.onError,b.requiresObservable);else{var M=Ni(b),U=!1;x=new kn(T,function(){U||(U=!0,M(function(){U=!1,x.isDisposed||x.track(oe)}))},b.onError,b.requiresObservable)}function oe(){h(x)}return x.schedule(),x.getDisposer()}Un.bound=function(h,b,x,T){return T===!0?(Io(h,b,x.value),null):x?{configurable:!0,enumerable:!1,get:function(){return Io(this,b,x.value||x.initializer.call(this)),this[b]},set:$a}:{enumerable:!1,configurable:!0,set:function(M){Io(this,b,M)},get:function(){}}};var qa=function(h){return h()};function Ni(h){return h.scheduler?h.scheduler:h.delay?function(b){return setTimeout(b,h.delay)}:qa}function xr(h,b,x){x===void 0&&(x=_);var T,M,U,oe=x.name||"Reaction@"+w(),Oe=Un(oe,x.onError?(T=x.onError,M=b,function(){try{return M.apply(this,arguments)}catch(_t){T.call(this,_t)}}):b),Ne=!x.scheduler&&!x.delay,rt=Ni(x),nt=!0,mt=!1,yt=x.compareStructural?B.structural:x.equals||B.default,ft=new kn(oe,function(){nt||Ne?St():mt||(mt=!0,rt(St))},x.onError,x.requiresObservable);function St(){if(mt=!1,!ft.isDisposed){var _t=!1;ft.track(function(){var vt=h(ft);_t=nt||!yt(U,vt),U=vt}),nt&&x.fireImmediately&&Oe(U,ft),nt||_t!==!0||Oe(U,ft),nt&&(nt=!1)}}return ft.schedule(),ft.getDisposer()}function Er(h,b,x){return Ci("onBecomeUnobserved",h,b,x)}function Ci(h,b,x,T){var M=typeof T=="function"?mn(b,x):mn(b),U=typeof T=="function"?T:x,oe=h+"Listeners";return M[oe]?M[oe].add(U):M[oe]=new Set([U]),typeof M[h]!="function"?O(!1):function(){var Oe=M[oe];Oe&&(Oe.delete(U),Oe.size===0&&delete M[oe])}}function jr(h){var b=h.enforceActions,x=h.computedRequiresReaction,T=h.computedConfigurable,M=h.disableErrorBoundaries,U=h.reactionScheduler,oe=h.reactionRequiresObservable,Oe=h.observableRequiresReaction;if(h.isolateGlobalState===!0&&((Ie.pendingReactions.length||Ie.inBatch||Ie.isRunningReactions)&&O("isolateGlobalState should be called before MobX is running any reactions"),Pi=!0,co&&(--Pn().__mobxInstanceCount==0&&(Pn().__mobxGlobals=void 0),Ie=new uo)),b!==void 0){var Ne=void 0;switch(b){case!0:case"observed":Ne=!0;break;case!1:case"never":Ne=!1;break;case"strict":case"always":Ne="strict";break;default:O("Invalid value for 'enforceActions': '"+b+"', expected 'never', 'always' or 'observed'")}Ie.enforceActions=Ne,Ie.allowStateChanges=Ne!==!0&&Ne!=="strict"}x!==void 0&&(Ie.computedRequiresReaction=!!x),oe!==void 0&&(Ie.reactionRequiresObservable=!!oe),Oe!==void 0&&(Ie.observableRequiresReaction=!!Oe,Ie.allowStateReads=!Ie.observableRequiresReaction),T!==void 0&&(Ie.computedConfigurable=!!T),M!==void 0&&(M===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ie.disableErrorBoundaries=!!M),U&&Wa(U)}function Gn(h,b,x,T){var M=Ri(T=ie(T));return ke(h),Uo(h,T.name,M.enhancer),b&&Ii(h,b,x,M),h}function Ri(h){return h.defaultDecorator||(h.deep===!1?we:ge)}function Ii(h,b,x,T){var M,U;sn();try{var oe=F(b);try{for(var Oe=ue(oe),Ne=Oe.next();!Ne.done;Ne=Oe.next()){var rt=Ne.value,nt=Object.getOwnPropertyDescriptor(b,rt),mt=(x&&rt in x?x[rt]:nt.get?ze:T)(h,rt,nt,!0);mt&&Object.defineProperty(h,rt,mt)}}catch(yt){M={error:yt}}finally{try{Ne&&!Ne.done&&(U=Oe.return)&&U.call(Oe)}finally{if(M)throw M.error}}}finally{ln()}}function Br(h,b){return Li(mn(h,b))}function Li(h){var b,x,T={name:h.name};return h.observing&&h.observing.length>0&&(T.dependencies=(b=h.observing,x=[],b.forEach(function(M){x.indexOf(M)===-1&&x.push(M)}),x).map(Li)),T}var Za=0;function zi(){this.message="FLOW_CANCELLED"}function Bi(h){arguments.length!==1&&O("Flow expects 1 argument and cannot be used as decorator");var b=h.name||"<unnamed flow>";return function(){var x,T=this,M=arguments,U=++Za,oe=Un(b+" - runid: "+U+" - init",h).apply(T,M),Oe=void 0,Ne=new Promise(function(rt,nt){var mt=0;function yt(_t){var vt;Oe=void 0;try{vt=Un(b+" - runid: "+U+" - yield "+mt++,oe.next).call(oe,_t)}catch(Tn){return nt(Tn)}St(vt)}function ft(_t){var vt;Oe=void 0;try{vt=Un(b+" - runid: "+U+" - yield "+mt++,oe.throw).call(oe,_t)}catch(Tn){return nt(Tn)}St(vt)}function St(_t){if(!_t||typeof _t.then!="function")return _t.done?rt(_t.value):(Oe=Promise.resolve(_t.value)).then(yt,ft);_t.then(St,nt)}x=nt,yt(void 0)});return Ne.cancel=Un(b+" - runid: "+U+" - cancel",function(){try{Oe&&Fr(Oe);var rt=oe.return(void 0),nt=Promise.resolve(rt.value);nt.then(k,k),Fr(nt),x(new zi)}catch(mt){x(mt)}}),Ne}}function Fr(h){typeof h.cancel=="function"&&h.cancel()}function Fi(h,b){if(h==null)return!1;if(b!==void 0){if(fn(h)===!1||!h[A].values.has(b))return!1;var x=mn(h,b);return ir(x)}return ir(h)}function Ja(h){return arguments.length>1?O(!1):Fi(h)}function Hi(h,b){return typeof b!="string"?O(!1):Fi(h,b)}function zo(h,b){return h!=null&&(b!==void 0?!!fn(h)&&h[A].values.has(b):fn(h)||!!h[A]||V(h)||so(h)||ir(h))}function Hr(h){return arguments.length!==1&&O(!1),zo(h)}function Yn(h){return fn(h)?h[A].getKeys():en(h)||Kt(h)?Array.from(h.keys()):an(h)?h.map(function(b,x){return x}):O(!1)}function Gt(h){return fn(h)?Yn(h).map(function(b){return h[b]}):en(h)?Yn(h).map(function(b){return h.get(b)}):Kt(h)?Array.from(h.values()):an(h)?h.slice():O(!1)}function Xi(h){return fn(h)?Yn(h).map(function(b){return[b,h[b]]}):en(h)?Yn(h).map(function(b){return[b,h.get(b)]}):Kt(h)?Array.from(h.entries()):an(h)?h.map(function(b,x){return[x,b]}):O(!1)}function Qa(h,b,x,T){return typeof x=="function"?function(M,U,oe,Oe){return Gr(M,U).observe(oe,Oe)}(h,b,x,T):function(M,U,oe){return Gr(M).observe(U,oe)}(h,b,x)}zi.prototype=Object.create(Error.prototype);var Vi={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Sr(h,b,x,T){return T.detectCycles&&h.set(b,x),x}function Ui(h,b){var x;return typeof b=="boolean"&&(b={detectCycles:b}),b||(b=Vi),b.detectCycles=b.detectCycles===void 0?b.recurseEverything===!0:b.detectCycles===!0,b.detectCycles&&(x=new Map),function T(M,U,oe){if(!U.recurseEverything&&!Hr(M)||typeof M!="object")return M;if(M===null)return null;if(M instanceof Date)return M;if(Co(M))return T(M.get(),U,oe);if(Hr(M)&&Yn(M),U.detectCycles===!0&&M!==null&&oe.has(M))return oe.get(M);if(an(M)||Array.isArray(M)){var Oe=Sr(oe,M,[],U),Ne=M.map(function(vt){return T(vt,U,oe)});Oe.length=Ne.length;for(var rt=0,nt=Ne.length;rt<nt;rt++)Oe[rt]=Ne[rt];return Oe}if(Kt(M)||Object.getPrototypeOf(M)===Set.prototype){if(U.exportMapsAsObjects===!1){var mt=Sr(oe,M,new Set,U);return M.forEach(function(vt){mt.add(T(vt,U,oe))}),mt}var yt=Sr(oe,M,[],U);return M.forEach(function(vt){yt.push(T(vt,U,oe))}),yt}if(en(M)||Object.getPrototypeOf(M)===Map.prototype){if(U.exportMapsAsObjects===!1){var ft=Sr(oe,M,new Map,U);return M.forEach(function(vt,Tn){ft.set(Tn,T(vt,U,oe))}),ft}var St=Sr(oe,M,{},U);return M.forEach(function(vt,Tn){St[Tn]=T(vt,U,oe)}),St}var _t=Sr(oe,M,{},U);return q(M).forEach(function(vt){_t[vt]=T(M[vt],U,oe)}),_t}(h,b,x)}function Bo(h){switch(h.length){case 0:return Ie.trackingDerivation;case 1:return mn(h[0]);case 2:return mn(h[0],h[1])}}function vn(h,b){b===void 0&&(b=void 0),sn();try{return h.apply(b)}finally{ln()}}function gn(h,b,x){return arguments.length===1||b&&typeof b=="object"?Gi(h,b):Fo(h,b,x||{})}function Fo(h,b,x){var T;typeof x.timeout=="number"&&(T=setTimeout(function(){if(!U[A].isDisposed){U();var oe=new Error("WHEN_TIMEOUT");if(!x.onError)throw oe;x.onError(oe)}},x.timeout)),x.name=x.name||"When@"+w();var M=bt(x.name+"-effect",b),U=Lo(function(oe){h()&&(oe.dispose(),T&&clearTimeout(T),M())},x);return U}function Gi(h,b){var x,T=new Promise(function(M,U){var oe=Fo(h,M,ne(ne({},b),{onError:U}));x=function(){oe(),U("WHEN_CANCELLED")}});return T.cancel=x,T}function fo(h){return h[A]}function po(h){return typeof h=="string"||typeof h=="number"||typeof h=="symbol"}var Xr={has:function(h,b){if(b===A||b==="constructor"||b===pe)return!0;var x=fo(h);return po(b)?x.has(b):b in h},get:function(h,b){if(b===A||b==="constructor"||b===pe)return h[b];var x=fo(h),T=x.values.get(b);if(T instanceof z){var M=T.get();return M===void 0&&x.has(b),M}return po(b)&&x.has(b),h[b]},set:function(h,b,x){return!!po(b)&&(function T(M,U,oe){if(arguments.length!==2||Kt(M))if(fn(M)){var Oe=M[A],Ne=Oe.values.get(U);Ne?Oe.write(U,oe):Oe.addObservableProp(U,oe,Oe.defaultEnhancer)}else if(en(M))M.set(U,oe);else if(Kt(M))M.add(U);else{if(!an(M))return O(!1);typeof U!="number"&&(U=parseInt(U,10)),j(U>=0,"Not a valid index: '"+U+"'"),sn(),U>=M.length&&(M.length=U+1),M[U]=oe,ln()}else{sn();var rt=U;try{for(var nt in rt)T(M,nt,rt[nt])}finally{ln()}}}(h,b,x),!0)},deleteProperty:function(h,b){return!!po(b)&&(fo(h).remove(b),!0)},ownKeys:function(h){return fo(h).keysAtom.reportObserved(),Reflect.ownKeys(h)},preventExtensions:function(h){return O("Dynamic observable objects cannot be frozen"),!1}};function Vr(h){var b=new Proxy(h,Xr);return h[A].proxy=b,b}function bn(h){return h.interceptors!==void 0&&h.interceptors.length>0}function Wn(h,b){var x=h.interceptors||(h.interceptors=[]);return x.push(b),S(function(){var T=x.indexOf(b);T!==-1&&x.splice(T,1)})}function on(h,b){var x=Ke();try{for(var T=_e(h.interceptors||[]),M=0,U=T.length;M<U&&(j(!(b=T[M](b))||b.type,"Intercept handlers should return nothing or a change object"),b);M++);return b}finally{Ve(x)}}function ut(h){return h.changeListeners!==void 0&&h.changeListeners.length>0}function Ur(h,b){var x=h.changeListeners||(h.changeListeners=[]);return x.push(b),S(function(){var T=x.indexOf(b);T!==-1&&x.splice(T,1)})}function Qt(h,b){var x=Ke(),T=h.changeListeners;if(T){for(var M=0,U=(T=T.slice()).length;M<U;M++)T[M](b);Ve(x)}}var Pr={get:function(h,b){return b===A?h[A]:b==="length"?h[A].getArrayLength():typeof b=="number"?An.get.call(h,b):typeof b!="string"||isNaN(b)?An.hasOwnProperty(b)?An[b]:h[b]:An.get.call(h,parseInt(b))},set:function(h,b,x){return b==="length"&&h[A].setArrayLength(x),typeof b=="number"&&An.set.call(h,b,x),typeof b=="symbol"||isNaN(b)?h[b]=x:An.set.call(h,parseInt(b),x),!0},preventExtensions:function(h){return O("Observable arrays cannot be frozen"),!1}};function Yi(h,b,x,T){x===void 0&&(x="ObservableArray@"+w()),T===void 0&&(T=!1);var M,U,oe,Oe=new ho(x,b,T);M=Oe.values,U=A,oe=Oe,Object.defineProperty(M,U,{enumerable:!1,writable:!1,configurable:!0,value:oe});var Ne=new Proxy(Oe.values,Pr);if(Oe.proxy=Ne,h&&h.length){var rt=jt(!0);Oe.spliceWithArray(0,0,h),Nt(rt)}return Ne}var ho=function(){function h(b,x,T){this.owned=T,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new z(b||"ObservableArray@"+w()),this.enhancer=function(M,U){return x(M,U,b+"[..]")}}return h.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},h.prototype.dehanceValues=function(b){return this.dehancer!==void 0&&b.length>0?b.map(this.dehancer):b},h.prototype.intercept=function(b){return Wn(this,b)},h.prototype.observe=function(b,x){return x===void 0&&(x=!1),x&&b({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Ur(this,b)},h.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},h.prototype.setArrayLength=function(b){if(typeof b!="number"||b<0)throw new Error("[mobx.array] Out of range: "+b);var x=this.values.length;if(b!==x)if(b>x){for(var T=new Array(b-x),M=0;M<b-x;M++)T[M]=void 0;this.spliceWithArray(x,0,T)}else this.spliceWithArray(b,x-b)},h.prototype.updateArrayLength=function(b,x){if(b!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=x},h.prototype.spliceWithArray=function(b,x,T){var M=this;Y(this.atom);var U=this.values.length;if(b===void 0?b=0:b>U?b=U:b<0&&(b=Math.max(0,U+b)),x=arguments.length===1?U-b:x==null?0:Math.max(0,Math.min(x,U-b)),T===void 0&&(T=v),bn(this)){var oe=on(this,{object:this.proxy,type:"splice",index:b,removedCount:x,added:T});if(!oe)return v;x=oe.removedCount,T=oe.added}T=T.length===0?T:T.map(function(Ne){return M.enhancer(Ne,void 0)});var Oe=this.spliceItemsIntoValues(b,x,T);return x===0&&T.length===0||this.notifyArraySplice(b,T,Oe),this.dehanceValues(Oe)},h.prototype.spliceItemsIntoValues=function(b,x,T){var M;if(T.length<1e4)return(M=this.values).splice.apply(M,_e([b,x],T));var U=this.values.slice(b,b+x);return this.values=this.values.slice(0,b).concat(T,this.values.slice(b+x)),U},h.prototype.notifyArrayChildUpdate=function(b,x,T){var M=!this.owned&&!1,U=ut(this),oe=U||M?{object:this.proxy,type:"update",index:b,newValue:x,oldValue:T}:null;this.atom.reportChanged(),U&&Qt(this,oe)},h.prototype.notifyArraySplice=function(b,x,T){var M=!this.owned&&!1,U=ut(this),oe=U||M?{object:this.proxy,type:"splice",index:b,removed:T,added:x,removedCount:T.length,addedCount:x.length}:null;this.atom.reportChanged(),U&&Qt(this,oe)},h}(),An={intercept:function(h){return this[A].intercept(h)},observe:function(h,b){return b===void 0&&(b=!1),this[A].observe(h,b)},clear:function(){return this.splice(0)},replace:function(h){var b=this[A];return b.spliceWithArray(0,b.values.length,h)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(h,b){for(var x=[],T=2;T<arguments.length;T++)x[T-2]=arguments[T];var M=this[A];switch(arguments.length){case 0:return[];case 1:return M.spliceWithArray(h);case 2:return M.spliceWithArray(h,b)}return M.spliceWithArray(h,b,x)},spliceWithArray:function(h,b,x){return this[A].spliceWithArray(h,b,x)},push:function(){for(var h=[],b=0;b<arguments.length;b++)h[b]=arguments[b];var x=this[A];return x.spliceWithArray(x.values.length,0,h),x.values.length},pop:function(){return this.splice(Math.max(this[A].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var h=[],b=0;b<arguments.length;b++)h[b]=arguments[b];var x=this[A];return x.spliceWithArray(0,0,h),x.values.length},reverse:function(){var h=this.slice();return h.reverse.apply(h,arguments)},sort:function(h){var b=this.slice();return b.sort.apply(b,arguments)},remove:function(h){var b=this[A],x=b.dehanceValues(b.values).indexOf(h);return x>-1&&(this.splice(x,1),!0)},get:function(h){var b=this[A];if(b){if(h<b.values.length)return b.atom.reportObserved(),b.dehanceValue(b.values[h]);console.warn("[mobx.array] Attempt to read an array index ("+h+") that is out of bounds ("+b.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(h,b){var x=this[A],T=x.values;if(h<T.length){Y(x.atom);var M=T[h];if(bn(x)){var U=on(x,{type:"update",object:x.proxy,index:h,newValue:b});if(!U)return;b=U.newValue}(b=x.enhancer(b,M))!==M&&(T[h]=b,x.notifyArrayChildUpdate(h,b,M))}else{if(h!==T.length)throw new Error("[mobx.array] Index out of bounds, "+h+" is larger than "+T.length);x.spliceWithArray(h,0,[b])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(h){typeof Array.prototype[h]=="function"&&(An[h]=function(){var b=this[A];b.atom.reportObserved();var x=b.dehanceValues(b.values);return x[h].apply(x,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(h){typeof Array.prototype[h]=="function"&&(An[h]=function(b,x){var T=this,M=this[A];return M.atom.reportObserved(),M.dehanceValues(M.values)[h](function(U,oe){return b.call(x,U,oe,T)},x)})}),["reduce","reduceRight"].forEach(function(h){An[h]=function(){var b=this,x=this[A];x.atom.reportObserved();var T=arguments[0];return arguments[0]=function(M,U,oe){return U=x.dehanceValue(U),T(M,U,oe,b)},x.values[h].apply(x.values,arguments)}});var Ho,eu=W("ObservableArrayAdministration",ho);function an(h){return C(h)&&eu(h[A])}var Xo,tu={},Vo=function(){function h(b,x,T){if(x===void 0&&(x=Me),T===void 0&&(T="ObservableMap@"+w()),this.enhancer=x,this.name=T,this[Ho]=tu,this._keysAtom=R(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(b)}return h.prototype._has=function(b){return this._data.has(b)},h.prototype.has=function(b){var x=this;if(!Ie.trackingDerivation)return this._has(b);var T=this._hasMap.get(b);if(!T){var M=T=new Jt(this._has(b),qe,this.name+"."+X(b)+"?",!1);this._hasMap.set(b,M),Er(M,function(){return x._hasMap.delete(b)})}return T.get()},h.prototype.set=function(b,x){var T=this._has(b);if(bn(this)){var M=on(this,{type:T?"update":"add",object:this,newValue:x,name:b});if(!M)return this;x=M.newValue}return T?this._updateValue(b,x):this._addValue(b,x),this},h.prototype.delete=function(b){var x=this;if(Y(this._keysAtom),bn(this)&&!(M=on(this,{type:"delete",object:this,name:b})))return!1;if(this._has(b)){var T=ut(this),M=T?{type:"delete",object:this,oldValue:this._data.get(b).value,name:b}:null;return vn(function(){x._keysAtom.reportChanged(),x._updateHasMapEntry(b,!1),x._data.get(b).setNewValue(void 0),x._data.delete(b)}),T&&Qt(this,M),!0}return!1},h.prototype._updateHasMapEntry=function(b,x){var T=this._hasMap.get(b);T&&T.setNewValue(x)},h.prototype._updateValue=function(b,x){var T=this._data.get(b);if((x=T.prepareNewValue(x))!==Ie.UNCHANGED){var M=ut(this),U=M?{type:"update",object:this,oldValue:T.value,name:b,newValue:x}:null;T.setNewValue(x),M&&Qt(this,U)}},h.prototype._addValue=function(b,x){var T=this;Y(this._keysAtom),vn(function(){var oe=new Jt(x,T.enhancer,T.name+"."+X(b),!1);T._data.set(b,oe),x=oe.value,T._updateHasMapEntry(b,!0),T._keysAtom.reportChanged()});var M=ut(this),U=M?{type:"add",object:this,name:b,newValue:x}:null;M&&Qt(this,U)},h.prototype.get=function(b){return this.has(b)?this.dehanceValue(this._data.get(b).get()):this.dehanceValue(void 0)},h.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},h.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},h.prototype.values=function(){var b=this,x=this.keys();return Wr({next:function(){var T=x.next(),M=T.done,U=T.value;return{done:M,value:M?void 0:b.get(U)}}})},h.prototype.entries=function(){var b=this,x=this.keys();return Wr({next:function(){var T=x.next(),M=T.done,U=T.value;return{done:M,value:M?void 0:[U,b.get(U)]}}})},h.prototype[Ho=A,Symbol.iterator]=function(){return this.entries()},h.prototype.forEach=function(b,x){var T,M;try{for(var U=ue(this),oe=U.next();!oe.done;oe=U.next()){var Oe=de(oe.value,2),Ne=Oe[0],rt=Oe[1];b.call(x,rt,Ne,this)}}catch(nt){T={error:nt}}finally{try{oe&&!oe.done&&(M=U.return)&&M.call(U)}finally{if(T)throw T.error}}},h.prototype.merge=function(b){var x=this;return en(b)&&(b=b.toJS()),vn(function(){var T=jt(!0);try{I(b)?q(b).forEach(function(M){return x.set(M,b[M])}):Array.isArray(b)?b.forEach(function(M){var U=de(M,2),oe=U[0],Oe=U[1];return x.set(oe,Oe)}):L(b)?(b.constructor!==Map&&O("Cannot initialize from classes that inherit from Map: "+b.constructor.name),b.forEach(function(M,U){return x.set(U,M)})):b!=null&&O("Cannot initialize map from "+b)}finally{Nt(T)}}),this},h.prototype.clear=function(){var b=this;vn(function(){Ee(function(){var x,T;try{for(var M=ue(b.keys()),U=M.next();!U.done;U=M.next()){var oe=U.value;b.delete(oe)}}catch(Oe){x={error:Oe}}finally{try{U&&!U.done&&(T=M.return)&&T.call(M)}finally{if(x)throw x.error}}})})},h.prototype.replace=function(b){var x=this;return vn(function(){var T,M,U,oe,Oe=function(tn){if(L(tn)||en(tn))return tn;if(Array.isArray(tn))return new Map(tn);if(I(tn)){var Ki=new Map;for(var $o in tn)Ki.set($o,tn[$o]);return Ki}return O("Cannot convert to map from '"+tn+"'")}(b),Ne=new Map,rt=!1;try{for(var nt=ue(x._data.keys()),mt=nt.next();!mt.done;mt=nt.next()){var yt=mt.value;if(!Oe.has(yt))if(x.delete(yt))rt=!0;else{var ft=x._data.get(yt);Ne.set(yt,ft)}}}catch(tn){T={error:tn}}finally{try{mt&&!mt.done&&(M=nt.return)&&M.call(nt)}finally{if(T)throw T.error}}try{for(var St=ue(Oe.entries()),_t=St.next();!_t.done;_t=St.next()){var vt=de(_t.value,2),Tn=(yt=vt[0],ft=vt[1],x._data.has(yt));if(x.set(yt,ft),x._data.has(yt)){var ru=x._data.get(yt);Ne.set(yt,ru),Tn||(rt=!0)}}}catch(tn){U={error:tn}}finally{try{_t&&!_t.done&&(oe=St.return)&&oe.call(St)}finally{if(U)throw U.error}}if(!rt)if(x._data.size!==Ne.size)x._keysAtom.reportChanged();else for(var $r=x._data.keys(),kr=Ne.keys(),Kr=$r.next(),Wo=kr.next();!Kr.done;){if(Kr.value!==Wo.value){x._keysAtom.reportChanged();break}Kr=$r.next(),Wo=kr.next()}x._data=Ne}),this},Object.defineProperty(h.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),h.prototype.toPOJO=function(){var b,x,T={};try{for(var M=ue(this),U=M.next();!U.done;U=M.next()){var oe=de(U.value,2),Oe=oe[0],Ne=oe[1];T[typeof Oe=="symbol"?Oe:X(Oe)]=Ne}}catch(rt){b={error:rt}}finally{try{U&&!U.done&&(x=M.return)&&x.call(M)}finally{if(b)throw b.error}}return T},h.prototype.toJS=function(){return new Map(this)},h.prototype.toJSON=function(){return this.toPOJO()},h.prototype.toString=function(){var b=this;return this.name+"[{ "+Array.from(this.keys()).map(function(x){return X(x)+": "+b.get(x)}).join(", ")+" }]"},h.prototype.observe=function(b,x){return Ur(this,b)},h.prototype.intercept=function(b){return Wn(this,b)},h}(),en=W("ObservableMap",Vo),ur={},cr=function(){function h(b,x,T){if(x===void 0&&(x=Me),T===void 0&&(T="ObservableSet@"+w()),this.name=T,this[Xo]=ur,this._data=new Set,this._atom=R(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(M,U){return x(M,U,T)},b&&this.replace(b)}return h.prototype.dehanceValue=function(b){return this.dehancer!==void 0?this.dehancer(b):b},h.prototype.clear=function(){var b=this;vn(function(){Ee(function(){var x,T;try{for(var M=ue(b._data.values()),U=M.next();!U.done;U=M.next()){var oe=U.value;b.delete(oe)}}catch(Oe){x={error:Oe}}finally{try{U&&!U.done&&(T=M.return)&&T.call(M)}finally{if(x)throw x.error}}})})},h.prototype.forEach=function(b,x){var T,M;try{for(var U=ue(this),oe=U.next();!oe.done;oe=U.next()){var Oe=oe.value;b.call(x,Oe,Oe,this)}}catch(Ne){T={error:Ne}}finally{try{oe&&!oe.done&&(M=U.return)&&M.call(U)}finally{if(T)throw T.error}}},Object.defineProperty(h.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),h.prototype.add=function(b){var x=this;if(Y(this._atom),bn(this)&&!(M=on(this,{type:"add",object:this,newValue:b})))return this;if(!this.has(b)){vn(function(){x._data.add(x.enhancer(b,void 0)),x._atom.reportChanged()});var T=ut(this),M=T?{type:"add",object:this,newValue:b}:null;T&&Qt(this,M)}return this},h.prototype.delete=function(b){var x=this;if(bn(this)&&!(M=on(this,{type:"delete",object:this,oldValue:b})))return!1;if(this.has(b)){var T=ut(this),M=T?{type:"delete",object:this,oldValue:b}:null;return vn(function(){x._atom.reportChanged(),x._data.delete(b)}),T&&Qt(this,M),!0}return!1},h.prototype.has=function(b){return this._atom.reportObserved(),this._data.has(this.dehanceValue(b))},h.prototype.entries=function(){var b=0,x=Array.from(this.keys()),T=Array.from(this.values());return Wr({next:function(){var M=b;return b+=1,M<T.length?{value:[x[M],T[M]],done:!1}:{done:!0}}})},h.prototype.keys=function(){return this.values()},h.prototype.values=function(){this._atom.reportObserved();var b=this,x=0,T=Array.from(this._data.values());return Wr({next:function(){return x<T.length?{value:b.dehanceValue(T[x++]),done:!1}:{done:!0}}})},h.prototype.replace=function(b){var x=this;return Kt(b)&&(b=b.toJS()),vn(function(){var T=jt(!0);try{Array.isArray(b)||K(b)?(x.clear(),b.forEach(function(M){return x.add(M)})):b!=null&&O("Cannot initialize set from "+b)}finally{Nt(T)}}),this},h.prototype.observe=function(b,x){return Ur(this,b)},h.prototype.intercept=function(b){return Wn(this,b)},h.prototype.toJS=function(){return new Set(this)},h.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},h.prototype[Xo=A,Symbol.iterator]=function(){return this.values()},h}(),Kt=W("ObservableSet",cr),Wi=function(){function h(b,x,T,M){x===void 0&&(x=new Map),this.target=b,this.values=x,this.name=T,this.defaultEnhancer=M,this.keysAtom=new z(T+".keys")}return h.prototype.read=function(b){return this.values.get(b).get()},h.prototype.write=function(b,x){var T=this.target,M=this.values.get(b);if(M instanceof Xn)M.set(x);else{if(bn(this)){if(!(oe=on(this,{type:"update",object:this.proxy||T,name:b,newValue:x})))return;x=oe.newValue}if((x=M.prepareNewValue(x))!==Ie.UNCHANGED){var U=ut(this),oe=U?{type:"update",object:this.proxy||T,oldValue:M.value,name:b,newValue:x}:null;M.setNewValue(x),U&&Qt(this,oe)}}},h.prototype.has=function(b){var x=this.pendingKeys||(this.pendingKeys=new Map),T=x.get(b);if(T)return T.get();var M=!!this.values.get(b);return T=new Jt(M,qe,this.name+"."+X(b)+"?",!1),x.set(b,T),T.get()},h.prototype.addObservableProp=function(b,x,T){T===void 0&&(T=this.defaultEnhancer);var M=this.target;if(bn(this)){var U=on(this,{object:this.proxy||M,name:b,type:"add",newValue:x});if(!U)return;x=U.newValue}var oe=new Jt(x,T,this.name+"."+X(b),!1);this.values.set(b,oe),x=oe.value,Object.defineProperty(M,b,function(Oe){return yo[Oe]||(yo[Oe]={configurable:!0,enumerable:!0,get:function(){return this[A].read(Oe)},set:function(Ne){this[A].write(Oe,Ne)}})}(b)),this.notifyPropertyAddition(b,x)},h.prototype.addComputedProp=function(b,x,T){var M,U,oe,Oe=this.target;T.name=T.name||this.name+"."+X(x),this.values.set(x,new Xn(T)),(b===Oe||(M=b,U=x,!(oe=Object.getOwnPropertyDescriptor(M,U))||oe.configurable!==!1&&oe.writable!==!1))&&Object.defineProperty(b,x,function(Ne){return vo[Ne]||(vo[Ne]={configurable:Ie.computedConfigurable,enumerable:!1,get:function(){return go(this).read(Ne)},set:function(rt){go(this).write(Ne,rt)}})}(x))},h.prototype.remove=function(b){if(this.values.has(b)){var x=this.target;if(bn(this)&&!(Oe=on(this,{object:this.proxy||x,name:b,type:"remove"})))return;try{sn();var T=ut(this),M=this.values.get(b),U=M&&M.get();if(M&&M.set(void 0),this.keysAtom.reportChanged(),this.values.delete(b),this.pendingKeys){var oe=this.pendingKeys.get(b);oe&&oe.set(!1)}delete this.target[b];var Oe=T?{type:"remove",object:this.proxy||x,oldValue:U,name:b}:null;T&&Qt(this,Oe)}finally{ln()}}},h.prototype.illegalAccess=function(b,x){console.warn("Property '"+x+"' of '"+b+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},h.prototype.observe=function(b,x){return Ur(this,b)},h.prototype.intercept=function(b){return Wn(this,b)},h.prototype.notifyPropertyAddition=function(b,x){var T=ut(this),M=T?{type:"add",object:this.proxy||this.target,name:b,newValue:x}:null;if(T&&Qt(this,M),this.pendingKeys){var U=this.pendingKeys.get(b);U&&U.set(!0)}this.keysAtom.reportChanged()},h.prototype.getKeys=function(){var b,x;this.keysAtom.reportObserved();var T=[];try{for(var M=ue(this.values),U=M.next();!U.done;U=M.next()){var oe=de(U.value,2),Oe=oe[0];oe[1]instanceof Jt&&T.push(Oe)}}catch(Ne){b={error:Ne}}finally{try{U&&!U.done&&(x=M.return)&&x.call(M)}finally{if(b)throw b.error}}return T},h}();function Uo(h,b,x){if(b===void 0&&(b=""),x===void 0&&(x=Me),Object.prototype.hasOwnProperty.call(h,A))return h[A];I(h)||(b=(h.constructor.name||"ObservableObject")+"@"+w()),b||(b="ObservableObject@"+w());var T=new Wi(h,new Map,X(b),x);return G(h,A,T),T}var yo=Object.create(null),vo=Object.create(null);function go(h){var b=h[A];return b||(ke(h),h[A])}var Go=W("ObservableObjectAdministration",Wi);function fn(h){return!!C(h)&&(ke(h),Go(h[A]))}function mn(h,b){if(typeof h=="object"&&h!==null){if(an(h))return b!==void 0&&O(!1),h[A].atom;if(Kt(h))return h[A];if(en(h)){var x=h;return b===void 0?x._keysAtom:((T=x._data.get(b)||x._hasMap.get(b))||O(!1),T)}var T;if(ke(h),b&&!h[A]&&h[b],fn(h))return b?((T=h[A].values.get(b))||O(!1),T):O(!1);if(V(h)||ir(h)||so(h))return h}else if(typeof h=="function"&&so(h[A]))return h[A];return O(!1)}function Gr(h,b){return h||O("Expecting some object"),b!==void 0?Gr(mn(h,b)):V(h)||ir(h)||so(h)||en(h)||Kt(h)?h:(ke(h),h[A]?h[A]:void O(!1))}var $i=Object.prototype.toString;function Yo(h,b,x){return x===void 0&&(x=-1),function T(M,U,oe,Oe,Ne){if(M===U)return M!==0||1/M==1/U;if(M==null||U==null)return!1;if(M!=M)return U!=U;var rt=typeof M;if(rt!=="function"&&rt!=="object"&&typeof U!="object")return!1;var nt=$i.call(M);if(nt!==$i.call(U))return!1;switch(nt){case"[object RegExp]":case"[object String]":return""+M==""+U;case"[object Number]":return+M!=+M?+U!=+U:+M==0?1/+M==1/U:+M==+U;case"[object Date]":case"[object Boolean]":return+M==+U;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(M)===Symbol.valueOf.call(U);case"[object Map]":case"[object Set]":oe>=0&&oe++}M=$n(M),U=$n(U);var mt=nt==="[object Array]";if(!mt){if(typeof M!="object"||typeof U!="object")return!1;var yt=M.constructor,ft=U.constructor;if(yt!==ft&&!(typeof yt=="function"&&yt instanceof yt&&typeof ft=="function"&&ft instanceof ft)&&"constructor"in M&&"constructor"in U)return!1}if(oe===0)return!1;oe<0&&(oe=-1),Ne=Ne||[];for(var St=(Oe=Oe||[]).length;St--;)if(Oe[St]===M)return Ne[St]===U;if(Oe.push(M),Ne.push(U),mt){if((St=M.length)!==U.length)return!1;for(;St--;)if(!T(M[St],U[St],oe-1,Oe,Ne))return!1}else{var _t=Object.keys(M),vt=void 0;if(St=_t.length,Object.keys(U).length!==St)return!1;for(;St--;)if(vt=_t[St],!Yr(U,vt)||!T(M[vt],U[vt],oe-1,Oe,Ne))return!1}return Oe.pop(),Ne.pop(),!0}(h,b,x)}function $n(h){return an(h)?h.slice():L(h)||en(h)||K(h)||Kt(h)?Array.from(h.entries()):h}function Yr(h,b){return Object.prototype.hasOwnProperty.call(h,b)}function Wr(h){return h[Symbol.iterator]=nu,h}function nu(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Di,extras:{getDebugName:function(h,b){return(b!==void 0?mn(h,b):fn(h)||en(h)||Kt(h)?Gr(h):mn(h)).name}},$mobx:A})}).call(this,a(151),a(75))},function(c,p,a){a.d(p,"a",function(){return X}),a.d(p,"b",function(){return q}),a.d(p,"c",function(){return Me}),a.d(p,"d",function(){return qe}),a.d(p,"e",function(){return W}),a.d(p,"f",function(){return K}),a.d(p,"g",function(){return W}),a.d(p,"h",function(){return Pe}),a.d(p,"i",function(){return s}),a.d(p,"j",function(){return Ae}),a.d(p,"k",function(){return B});var f,s,v,_,w,O,j,S={},k=[],C=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function I(Q,J){for(var ie in J)Q[ie]=J[ie];return Q}function G(Q){var J=Q.parentNode;J&&J.removeChild(Q)}function W(Q,J,ie){var ge,Te,we,We={};for(we in J)we=="key"?ge=J[we]:we=="ref"?Te=J[we]:We[we]=J[we];if(arguments.length>2&&(We.children=arguments.length>3?f.call(arguments,2):ie),typeof Q=="function"&&Q.defaultProps!=null)for(we in Q.defaultProps)We[we]===void 0&&(We[we]=Q.defaultProps[we]);return L(Q,We,ge,Te,null)}function L(Q,J,ie,ge,Te){var we={type:Q,props:J,key:ie,ref:ge,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Te==null?++v:Te};return Te==null&&s.vnode!=null&&s.vnode(we),we}function K(){return{current:null}}function q(Q){return Q.children}function X(Q,J){this.props=Q,this.context=J}function N(Q,J){if(J==null)return Q.__?N(Q.__,Q.__.__k.indexOf(Q)+1):null;for(var ie;J<Q.__k.length;J++)if((ie=Q.__k[J])!=null&&ie.__e!=null)return ie.__e;return typeof Q.type=="function"?N(Q):null}function F(Q){var J,ie;if((Q=Q.__)!=null&&Q.__c!=null){for(Q.__e=Q.__c.base=null,J=0;J<Q.__k.length;J++)if((ie=Q.__k[J])!=null&&ie.__e!=null){Q.__e=Q.__c.base=ie.__e;break}return F(Q)}}function A(Q){(!Q.__d&&(Q.__d=!0)&&_.push(Q)&&!z.__r++||O!==s.debounceRendering)&&((O=s.debounceRendering)||w)(z)}function z(){for(var Q;z.__r=_.length;)Q=_.sort(function(J,ie){return J.__v.__b-ie.__v.__b}),_=[],Q.some(function(J){var ie,ge,Te,we,We,Ue;J.__d&&(We=(we=(ie=J).__v).__e,(Ue=ie.__P)&&(ge=[],(Te=I({},we)).__v=we.__v+1,pe(Ue,we,Te,ie.__n,Ue.ownerSVGElement!==void 0,we.__h!=null?[We]:null,ge,We==null?N(we):We,we.__h),ce(ge,we),we.__e!=We&&F(we)))})}function V(Q,J,ie,ge,Te,we,We,Ue,Ze,Ge){var me,ee,Fe,ze,Ye,Mt,ot,st=ge&&ge.__k||k,dt=st.length;for(ie.__k=[],me=0;me<J.length;me++)if((ze=ie.__k[me]=(ze=J[me])==null||typeof ze=="boolean"?null:typeof ze=="string"||typeof ze=="number"||typeof ze=="bigint"?L(null,ze,null,null,ze):Array.isArray(ze)?L(q,{children:ze},null,null,null):ze.__b>0?L(ze.type,ze.props,ze.key,null,ze.__v):ze)!=null){if(ze.__=ie,ze.__b=ie.__b+1,(Fe=st[me])===null||Fe&&ze.key==Fe.key&&ze.type===Fe.type)st[me]=void 0;else for(ee=0;ee<dt;ee++){if((Fe=st[ee])&&ze.key==Fe.key&&ze.type===Fe.type){st[ee]=void 0;break}Fe=null}pe(Q,ze,Fe=Fe||S,Te,we,We,Ue,Ze,Ge),Ye=ze.__e,(ee=ze.ref)&&Fe.ref!=ee&&(ot||(ot=[]),Fe.ref&&ot.push(Fe.ref,null,ze),ot.push(ee,ze.__c||Ye,ze)),Ye!=null?(Mt==null&&(Mt=Ye),typeof ze.type=="function"&&ze.__k===Fe.__k?ze.__d=Ze=R(ze,Ze,Q):Ze=$(Q,ze,Fe,st,Ye,Ze),typeof ie.type=="function"&&(ie.__d=Ze)):Ze&&Fe.__e==Ze&&Ze.parentNode!=Q&&(Ze=N(Fe))}for(ie.__e=Mt,me=dt;me--;)st[me]!=null&&(typeof ie.type=="function"&&st[me].__e!=null&&st[me].__e==ie.__d&&(ie.__d=N(ge,me+1)),xe(st[me],st[me]));if(ot)for(me=0;me<ot.length;me++)fe(ot[me],ot[++me],ot[++me])}function R(Q,J,ie){for(var ge,Te=Q.__k,we=0;Te&&we<Te.length;we++)(ge=Te[we])&&(ge.__=Q,J=typeof ge.type=="function"?R(ge,J,ie):$(ie,ge,ge,Te,ge.__e,J));return J}function B(Q,J){return J=J||[],Q==null||typeof Q=="boolean"||(Array.isArray(Q)?Q.some(function(ie){B(ie,J)}):J.push(Q)),J}function $(Q,J,ie,ge,Te,we){var We,Ue,Ze;if(J.__d!==void 0)We=J.__d,J.__d=void 0;else if(ie==null||Te!=we||Te.parentNode==null)e:if(we==null||we.parentNode!==Q)Q.appendChild(Te),We=null;else{for(Ue=we,Ze=0;(Ue=Ue.nextSibling)&&Ze<ge.length;Ze+=2)if(Ue==Te)break e;Q.insertBefore(Te,we),We=we}return We!==void 0?We:Te.nextSibling}function ne(Q,J,ie){J[0]==="-"?Q.setProperty(J,ie):Q[J]=ie==null?"":typeof ie!="number"||C.test(J)?ie:ie+"px"}function ue(Q,J,ie,ge,Te){var we;e:if(J==="style")if(typeof ie=="string")Q.style.cssText=ie;else{if(typeof ge=="string"&&(Q.style.cssText=ge=""),ge)for(J in ge)ie&&J in ie||ne(Q.style,J,"");if(ie)for(J in ie)ge&&ie[J]===ge[J]||ne(Q.style,J,ie[J])}else if(J[0]==="o"&&J[1]==="n")we=J!==(J=J.replace(/Capture$/,"")),J=J.toLowerCase()in Q?J.toLowerCase().slice(2):J.slice(2),Q.l||(Q.l={}),Q.l[J+we]=ie,ie?ge||Q.addEventListener(J,we?_e:de,we):Q.removeEventListener(J,we?_e:de,we);else if(J!=="dangerouslySetInnerHTML"){if(Te)J=J.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(J!=="href"&&J!=="list"&&J!=="form"&&J!=="tabIndex"&&J!=="download"&&J in Q)try{Q[J]=ie==null?"":ie;break e}catch{}typeof ie=="function"||(ie!=null&&(ie!==!1||J[0]==="a"&&J[1]==="r")?Q.setAttribute(J,ie):Q.removeAttribute(J))}}function de(Q){this.l[Q.type+!1](s.event?s.event(Q):Q)}function _e(Q){this.l[Q.type+!0](s.event?s.event(Q):Q)}function pe(Q,J,ie,ge,Te,we,We,Ue,Ze){var Ge,me,ee,Fe,ze,Ye,Mt,ot,st,dt,Ut,Y=J.type;if(J.constructor!==void 0)return null;ie.__h!=null&&(Ze=ie.__h,Ue=J.__e=ie.__e,J.__h=null,we=[Ue]),(Ge=s.__b)&&Ge(J);try{e:if(typeof Y=="function"){if(ot=J.props,st=(Ge=Y.contextType)&&ge[Ge.__c],dt=Ge?st?st.props.value:Ge.__:ge,ie.__c?Mt=(me=J.__c=ie.__c).__=me.__E:("prototype"in Y&&Y.prototype.render?J.__c=me=new Y(ot,dt):(J.__c=me=new X(ot,dt),me.constructor=Y,me.render=ke),st&&st.sub(me),me.props=ot,me.state||(me.state={}),me.context=dt,me.__n=ge,ee=me.__d=!0,me.__h=[]),me.__s==null&&(me.__s=me.state),Y.getDerivedStateFromProps!=null&&(me.__s==me.state&&(me.__s=I({},me.__s)),I(me.__s,Y.getDerivedStateFromProps(ot,me.__s))),Fe=me.props,ze=me.state,ee)Y.getDerivedStateFromProps==null&&me.componentWillMount!=null&&me.componentWillMount(),me.componentDidMount!=null&&me.__h.push(me.componentDidMount);else{if(Y.getDerivedStateFromProps==null&&ot!==Fe&&me.componentWillReceiveProps!=null&&me.componentWillReceiveProps(ot,dt),!me.__e&&me.shouldComponentUpdate!=null&&me.shouldComponentUpdate(ot,me.__s,dt)===!1||J.__v===ie.__v){me.props=ot,me.state=me.__s,J.__v!==ie.__v&&(me.__d=!1),me.__v=J,J.__e=ie.__e,J.__k=ie.__k,J.__k.forEach(function(te){te&&(te.__=J)}),me.__h.length&&We.push(me);break e}me.componentWillUpdate!=null&&me.componentWillUpdate(ot,me.__s,dt),me.componentDidUpdate!=null&&me.__h.push(function(){me.componentDidUpdate(Fe,ze,Ye)})}me.context=dt,me.props=ot,me.state=me.__s,(Ge=s.__r)&&Ge(J),me.__d=!1,me.__v=J,me.__P=Q,Ge=me.render(me.props,me.state,me.context),me.state=me.__s,me.getChildContext!=null&&(ge=I(I({},ge),me.getChildContext())),ee||me.getSnapshotBeforeUpdate==null||(Ye=me.getSnapshotBeforeUpdate(Fe,ze)),Ut=Ge!=null&&Ge.type===q&&Ge.key==null?Ge.props.children:Ge,V(Q,Array.isArray(Ut)?Ut:[Ut],J,ie,ge,Te,we,We,Ue,Ze),me.base=J.__e,J.__h=null,me.__h.length&&We.push(me),Mt&&(me.__E=me.__=null),me.__e=!1}else we==null&&J.__v===ie.__v?(J.__k=ie.__k,J.__e=ie.__e):J.__e=se(ie.__e,J,ie,ge,Te,we,We,Ze);(Ge=s.diffed)&&Ge(J)}catch(te){J.__v=null,(Ze||we!=null)&&(J.__e=Ue,J.__h=!!Ze,we[we.indexOf(Ue)]=null),s.__e(te,J,ie)}}function ce(Q,J){s.__c&&s.__c(J,Q),Q.some(function(ie){try{Q=ie.__h,ie.__h=[],Q.some(function(ge){ge.call(ie)})}catch(ge){s.__e(ge,ie.__v)}})}function se(Q,J,ie,ge,Te,we,We,Ue){var Ze,Ge,me,ee=ie.props,Fe=J.props,ze=J.type,Ye=0;if(ze==="svg"&&(Te=!0),we!=null){for(;Ye<we.length;Ye++)if((Ze=we[Ye])&&"setAttribute"in Ze==!!ze&&(ze?Ze.localName===ze:Ze.nodeType===3)){Q=Ze,we[Ye]=null;break}}if(Q==null){if(ze===null)return document.createTextNode(Fe);Q=Te?document.createElementNS("http://www.w3.org/2000/svg",ze):document.createElement(ze,Fe.is&&Fe),we=null,Ue=!1}if(ze===null)ee===Fe||Ue&&Q.data===Fe||(Q.data=Fe);else{if(we=we&&f.call(Q.childNodes),Ge=(ee=ie.props||S).dangerouslySetInnerHTML,me=Fe.dangerouslySetInnerHTML,!Ue){if(we!=null)for(ee={},Ye=0;Ye<Q.attributes.length;Ye++)ee[Q.attributes[Ye].name]=Q.attributes[Ye].value;(me||Ge)&&(me&&(Ge&&me.__html==Ge.__html||me.__html===Q.innerHTML)||(Q.innerHTML=me&&me.__html||""))}if(function(Mt,ot,st,dt,Ut){var Y;for(Y in st)Y==="children"||Y==="key"||Y in ot||ue(Mt,Y,null,st[Y],dt);for(Y in ot)Ut&&typeof ot[Y]!="function"||Y==="children"||Y==="key"||Y==="value"||Y==="checked"||st[Y]===ot[Y]||ue(Mt,Y,ot[Y],st[Y],dt)}(Q,Fe,ee,Te,Ue),me)J.__k=[];else if(Ye=J.props.children,V(Q,Array.isArray(Ye)?Ye:[Ye],J,ie,ge,Te&&ze!=="foreignObject",we,We,we?we[0]:ie.__k&&N(ie,0),Ue),we!=null)for(Ye=we.length;Ye--;)we[Ye]!=null&&G(we[Ye]);Ue||("value"in Fe&&(Ye=Fe.value)!==void 0&&(Ye!==ee.value||Ye!==Q.value||ze==="progress"&&!Ye)&&ue(Q,"value",Ye,ee.value,!1),"checked"in Fe&&(Ye=Fe.checked)!==void 0&&Ye!==Q.checked&&ue(Q,"checked",Ye,ee.checked,!1))}return Q}function fe(Q,J,ie){try{typeof Q=="function"?Q(J):Q.current=J}catch(ge){s.__e(ge,ie)}}function xe(Q,J,ie){var ge,Te;if(s.unmount&&s.unmount(Q),(ge=Q.ref)&&(ge.current&&ge.current!==Q.__e||fe(ge,null,J)),(ge=Q.__c)!=null){if(ge.componentWillUnmount)try{ge.componentWillUnmount()}catch(we){s.__e(we,J)}ge.base=ge.__P=null}if(ge=Q.__k)for(Te=0;Te<ge.length;Te++)ge[Te]&&xe(ge[Te],J,typeof Q.type!="function");ie||Q.__e==null||G(Q.__e),Q.__e=Q.__d=void 0}function ke(Q,J,ie){return this.constructor(Q,ie)}function Ae(Q,J,ie){var ge,Te,we;s.__&&s.__(Q,J),Te=(ge=typeof ie=="function")?null:ie&&ie.__k||J.__k,we=[],pe(J,Q=(!ge&&ie||J).__k=W(q,null,[Q]),Te||S,S,J.ownerSVGElement!==void 0,!ge&&ie?[ie]:Te?null:J.firstChild?f.call(J.childNodes):null,we,!ge&&ie?ie:Te?Te.__e:J.firstChild,ge),ce(we,Q)}function Pe(Q,J){Ae(Q,J,Pe)}function Me(Q,J,ie){var ge,Te,we,We=I({},Q.props);for(we in J)we=="key"?ge=J[we]:we=="ref"?Te=J[we]:We[we]=J[we];return arguments.length>2&&(We.children=arguments.length>3?f.call(arguments,2):ie),L(Q.type,We,ge||Q.key,Te||Q.ref,null)}function qe(Q,J){var ie={__c:J="__cC"+j++,__:Q,Consumer:function(ge,Te){return ge.children(Te)},Provider:function(ge){var Te,we;return this.getChildContext||(Te=[],(we={})[J]=this,this.getChildContext=function(){return we},this.shouldComponentUpdate=function(We){this.props.value!==We.value&&Te.some(A)},this.sub=function(We){Te.push(We);var Ue=We.componentWillUnmount;We.componentWillUnmount=function(){Te.splice(Te.indexOf(We),1),Ue&&Ue.call(We)}}),ge.children}};return ie.Provider.__=ie.Consumer.contextType=ie}f=k.slice,s={__e:function(Q,J){for(var ie,ge,Te;J=J.__;)if((ie=J.__c)&&!ie.__)try{if((ge=ie.constructor)&&ge.getDerivedStateFromError!=null&&(ie.setState(ge.getDerivedStateFromError(Q)),Te=ie.__d),ie.componentDidCatch!=null&&(ie.componentDidCatch(Q),Te=ie.__d),Te)return ie.__E=ie}catch(we){Q=we}throw Q}},v=0,X.prototype.setState=function(Q,J){var ie;ie=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=I({},this.state),typeof Q=="function"&&(Q=Q(I({},ie),this.props)),Q&&I(ie,Q),Q!=null&&this.__v&&(J&&this.__h.push(J),A(this))},X.prototype.forceUpdate=function(Q){this.__v&&(this.__e=!0,Q&&this.__h.push(Q),A(this))},X.prototype.render=q,_=[],w=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,z.__r=0,j=0},function(c,p,a){var f=a(114),s=a(45),v=a(172);f||s(Object.prototype,"toString",v,{unsafe:!0})},function(c,p,a){var f=a(39),s=a(76),v=a(65),_=a(57),w=a(108),O=_.set,j=_.getterFor("Array Iterator");c.exports=w(Array,"Array",function(S,k){O(this,{type:"Array Iterator",target:f(S),index:0,kind:k})},function(){var S=j(this),k=S.target,C=S.kind,I=S.index++;return!k||I>=k.length?(S.target=void 0,{value:void 0,done:!0}):C=="keys"?{value:I,done:!1}:C=="values"?{value:k[I],done:!1}:{value:[I,k[I]],done:!1}},"values"),v.Arguments=v.Array,s("keys"),s("values"),s("entries")},function(c,p,a){var f=a(17),s=a(9),v=a(49),_=a(95),w=a(36),O=a(15),j=a(78),S=a(35),k=a(104),C=a(19),I=a(34),G=a(93),W=a(30),L=a(33),K=a(55),q=a(83),X=a(32),N=a(38),F=a(39),A=a(82),z=a(40),V=a(66),R=a(52),B=a(61),$=a(67),ne=a(134),ue=a(109),de=a(54),_e=a(37),pe=a(87),ce=a(117),se=a(45),fe=a(77),xe=a(86),ke=a(64),Ae=a(79),Pe=a(27),Me=a(145),qe=a(146),Q=a(90),J=a(57),ie=a(69).forEach,ge=xe("hidden"),Te=Pe("toPrimitive"),we=J.set,We=J.getterFor("Symbol"),Ue=Object.prototype,Ze=s.Symbol,Ge=Ze&&Ze.prototype,me=s.TypeError,ee=s.QObject,Fe=v("JSON","stringify"),ze=de.f,Ye=_e.f,Mt=ne.f,ot=pe.f,st=O([].push),dt=fe("symbols"),Ut=fe("op-symbols"),Y=fe("string-to-symbol-registry"),te=fe("symbol-to-string-registry"),ve=fe("wks"),Ee=!ee||!ee.prototype||!ee.prototype.findChild,Ke=S&&C(function(){return R(Ye({},"a",{get:function(){return Ye(this,"a",{value:7}).a}})).a!=7})?function(Re,He,Je){var lt=ze(Ue,He);lt&&delete Ue[He],Ye(Re,He,Je),lt&&Re!==Ue&&Ye(Ue,He,lt)}:Ye,Ve=function(Re,He){var Je=dt[Re]=R(Ge);return we(Je,{type:"Symbol",tag:Re,description:He}),S||(Je.description=He),Je},Qe=function(Re,He,Je){Re===Ue&&Qe(Ut,He,Je),X(Re);var lt=A(He);return X(Je),I(dt,lt)?(Je.enumerable?(I(Re,ge)&&Re[ge][lt]&&(Re[ge][lt]=!1),Je=R(Je,{enumerable:V(0,!1)})):(I(Re,ge)||Ye(Re,ge,V(1,{})),Re[ge][lt]=!0),Ke(Re,lt,Je)):Ye(Re,lt,Je)},ht=function(Re,He){X(Re);var Je=F(He),lt=B(Je).concat(Hn(Je));return ie(lt,function(jt){S&&!w(Tt,Je,jt)||Qe(Re,jt,Je[jt])}),Re},Tt=function(Re){var He=A(Re),Je=w(ot,this,He);return!(this===Ue&&I(dt,He)&&!I(Ut,He))&&(!(Je||!I(this,He)||!I(dt,He)||I(this,ge)&&this[ge][He])||Je)},Ht=function(Re,He){var Je=F(Re),lt=A(He);if(Je!==Ue||!I(dt,lt)||I(Ut,lt)){var jt=ze(Je,lt);return!jt||!I(dt,lt)||I(Je,ge)&&Je[ge][lt]||(jt.enumerable=!0),jt}},or=function(Re){var He=Mt(F(Re)),Je=[];return ie(He,function(lt){I(dt,lt)||I(ke,lt)||st(Je,lt)}),Je},Hn=function(Re){var He=Re===Ue,Je=Mt(He?Ut:F(Re)),lt=[];return ie(Je,function(jt){!I(dt,jt)||He&&!I(Ue,jt)||st(lt,dt[jt])}),lt};if(k||(se(Ge=(Ze=function(){if(K(Ge,this))throw me("Symbol is not a constructor");var Re=arguments.length&&arguments[0]!==void 0?z(arguments[0]):void 0,He=Ae(Re),Je=function(lt){this===Ue&&w(Je,Ut,lt),I(this,ge)&&I(this[ge],He)&&(this[ge][He]=!1),Ke(this,He,V(1,lt))};return S&&Ee&&Ke(Ue,He,{configurable:!0,set:Je}),Ve(He,Re)}).prototype,"toString",function(){return We(this).tag}),se(Ze,"withoutSetter",function(Re){return Ve(Ae(Re),Re)}),pe.f=Tt,_e.f=Qe,de.f=Ht,$.f=ne.f=or,ue.f=Hn,Me.f=function(Re){return Ve(Pe(Re),Re)},S&&(Ye(Ge,"description",{configurable:!0,get:function(){return We(this).description}}),j||se(Ue,"propertyIsEnumerable",Tt,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!k,sham:!k},{Symbol:Ze}),ie(B(ve),function(Re){qe(Re)}),f({target:"Symbol",stat:!0,forced:!k},{for:function(Re){var He=z(Re);if(I(Y,He))return Y[He];var Je=Ze(He);return Y[He]=Je,te[Je]=He,Je},keyFor:function(Re){if(!q(Re))throw me(Re+" is not a symbol");if(I(te,Re))return te[Re]},useSetter:function(){Ee=!0},useSimple:function(){Ee=!1}}),f({target:"Object",stat:!0,forced:!k,sham:!S},{create:function(Re,He){return He===void 0?R(Re):ht(R(Re),He)},defineProperty:Qe,defineProperties:ht,getOwnPropertyDescriptor:Ht}),f({target:"Object",stat:!0,forced:!k},{getOwnPropertyNames:or,getOwnPropertySymbols:Hn}),f({target:"Object",stat:!0,forced:C(function(){ue.f(1)})},{getOwnPropertySymbols:function(Re){return ue.f(N(Re))}}),Fe&&f({target:"JSON",stat:!0,forced:!k||C(function(){var Re=Ze();return Fe([Re])!="[null]"||Fe({a:Re})!="{}"||Fe(Object(Re))!="{}"})},{stringify:function(Re,He,Je){var lt=ce(arguments),jt=He;if((L(He)||Re!==void 0)&&!q(Re))return G(He)||(He=function(Nt,Jt){if(W(jt)&&(Jt=w(jt,this,Nt,Jt)),!q(Jt))return Jt}),lt[1]=He,_(Fe,null,lt)}}),!Ge[Te]){var bt=Ge.valueOf;se(Ge,Te,function(Re){return w(bt,this)})}Q(Ze,"Symbol"),ke[ge]=!0},function(c,p,a){var f=a(9),s=a(143),v=a(144),_=a(3),w=a(53),O=a(27),j=O("iterator"),S=O("toStringTag"),k=_.values,C=function(G,W){if(G){if(G[j]!==k)try{w(G,j,k)}catch{G[j]=k}if(G[S]||w(G,S,W),s[W]){for(var L in _)if(G[L]!==_[L])try{w(G,L,_[L])}catch{G[L]=_[L]}}}};for(var I in s)C(f[I]&&f[I].prototype,I);C(v,"DOMTokenList")},function(c,p,a){var f=a(142).charAt,s=a(40),v=a(57),_=a(108),w=v.set,O=v.getterFor("String Iterator");_(String,"String",function(j){w(this,{type:"String Iterator",string:s(j),index:0})},function(){var j,S=O(this),k=S.string,C=S.index;return C>=k.length?{value:void 0,done:!0}:(j=f(k,C),S.index+=j.length,{value:j,done:!1})})},function(c,p,a){var f=a(17),s=a(35),v=a(9),_=a(15),w=a(34),O=a(30),j=a(55),S=a(40),k=a(37).f,C=a(129),I=v.Symbol,G=I&&I.prototype;if(s&&O(I)&&(!("description"in G)||I().description!==void 0)){var W={},L=function(){var z=arguments.length<1||arguments[0]===void 0?void 0:S(arguments[0]),V=j(G,this)?new I(z):z===void 0?I():I(z);return z===""&&(W[V]=!0),V};C(L,I),L.prototype=G,G.constructor=L;var K=String(I("test"))=="Symbol(test)",q=_(G.toString),X=_(G.valueOf),N=/^Symbol\((.*)\)[^)]+$/,F=_("".replace),A=_("".slice);k(G,"description",{configurable:!0,get:function(){var z=X(this),V=q(z);if(w(W,z))return"";var R=K?A(V,7,-1):F(V,N,"$1");return R===""?void 0:R}}),f({global:!0,forced:!0},{Symbol:L})}},function(c,p,a){a(146)("iterator")},function(c,p,a){(function(f){var s=function(v){return v&&v.Math==Math&&v};c.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,a(75))},function(c,p,a){a.d(p,"a",function(){return _.a}),a.d(p,"c",function(){return _.e}),a.d(p,"h",function(){return N}),a.d(p,"i",function(){return K}),a.d(p,"j",function(){return W}),a.d(p,"b",function(){return de}),a.d(p,"e",function(){return se}),a.d(p,"f",function(){return _e}),a.d(p,"g",function(){return st});var f,s,v,_=a(1),w=0,O=[],j=_.i.__b,S=_.i.__r,k=_.i.diffed,C=_.i.__c,I=_.i.unmount;function G(Y,te){_.i.__h&&_.i.__h(s,Y,w||te),w=0;var ve=s.__H||(s.__H={__:[],__h:[]});return Y>=ve.__.length&&ve.__.push({}),ve.__[Y]}function W(Y){return w=1,L($,Y)}function L(Y,te,ve){var Ee=G(f++,2);return Ee.t=Y,Ee.__c||(Ee.__=[ve?ve(te):$(void 0,te),function(Ke){var Ve=Ee.t(Ee.__[0],Ke);Ee.__[0]!==Ve&&(Ee.__=[Ve,Ee.__[1]],Ee.__c.setState({}))}],Ee.__c=s),Ee.__}function K(Y,te){var ve=G(f++,3);!_.i.__s&&B(ve.__H,te)&&(ve.__=Y,ve.__H=te,s.__H.__h.push(ve))}function q(Y,te){var ve=G(f++,4);!_.i.__s&&B(ve.__H,te)&&(ve.__=Y,ve.__H=te,s.__h.push(ve))}function X(Y,te){var ve=G(f++,7);return B(ve.__H,te)&&(ve.__=Y(),ve.__H=te,ve.__h=Y),ve.__}function N(Y,te){return w=8,X(function(){return Y},te)}function F(){var Y;for(O.sort(function(te,ve){return te.__v.__b-ve.__v.__b});Y=O.pop();)if(Y.__P)try{Y.__H.__h.forEach(V),Y.__H.__h.forEach(R),Y.__H.__h=[]}catch(te){Y.__H.__h=[],_.i.__e(te,Y.__v)}}_.i.__b=function(Y){s=null,j&&j(Y)},_.i.__r=function(Y){S&&S(Y),f=0;var te=(s=Y.__c).__H;te&&(te.__h.forEach(V),te.__h.forEach(R),te.__h=[])},_.i.diffed=function(Y){k&&k(Y);var te=Y.__c;te&&te.__H&&te.__H.__h.length&&(O.push(te)!==1&&v===_.i.requestAnimationFrame||((v=_.i.requestAnimationFrame)||z)(F)),s=null},_.i.__c=function(Y,te){te.some(function(ve){try{ve.__h.forEach(V),ve.__h=ve.__h.filter(function(Ee){return!Ee.__||R(Ee)})}catch(Ee){te.some(function(Ke){Ke.__h&&(Ke.__h=[])}),te=[],_.i.__e(Ee,ve.__v)}}),C&&C(Y,te)},_.i.unmount=function(Y){I&&I(Y);var te,ve=Y.__c;ve&&ve.__H&&(ve.__H.__.forEach(function(Ee){try{V(Ee)}catch(Ke){te=Ke}}),te&&_.i.__e(te,ve.__v))};var A=typeof requestAnimationFrame=="function";function z(Y){var te,ve=function(){clearTimeout(Ee),A&&cancelAnimationFrame(te),setTimeout(Y)},Ee=setTimeout(ve,100);A&&(te=requestAnimationFrame(ve))}function V(Y){var te=s,ve=Y.__c;typeof ve=="function"&&(Y.__c=void 0,ve()),s=te}function R(Y){var te=s;Y.__c=Y.__(),s=te}function B(Y,te){return!Y||Y.length!==te.length||te.some(function(ve,Ee){return ve!==Y[Ee]})}function $(Y,te){return typeof te=="function"?te(Y):te}function ne(Y,te){for(var ve in te)Y[ve]=te[ve];return Y}function ue(Y,te){for(var ve in Y)if(ve!=="__source"&&!(ve in te))return!0;for(var Ee in te)if(Ee!=="__source"&&Y[Ee]!==te[Ee])return!0;return!1}function de(Y){this.props=Y}function _e(Y,te){function ve(Ke){var Ve=this.props.ref,Qe=Ve==Ke.ref;return!Qe&&Ve&&(Ve.call?Ve(null):Ve.current=null),te?!te(this.props,Ke)||!Qe:ue(this.props,Ke)}function Ee(Ke){return this.shouldComponentUpdate=ve,Object(_.e)(Y,Ke)}return Ee.displayName="Memo("+(Y.displayName||Y.name)+")",Ee.prototype.isReactComponent=!0,Ee.__f=!0,Ee}(de.prototype=new _.a).isPureReactComponent=!0,de.prototype.shouldComponentUpdate=function(Y,te){return ue(this.props,Y)||ue(this.state,te)};var pe=_.i.__b;_.i.__b=function(Y){Y.type&&Y.type.__f&&Y.ref&&(Y.props.ref=Y.ref,Y.ref=null),pe&&pe(Y)};var ce=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function se(Y){function te(ve,Ee){var Ke=ne({},ve);return delete Ke.ref,Y(Ke,!(Ee=ve.ref||Ee)||typeof Ee=="object"&&!("current"in Ee)?null:Ee)}return te.$$typeof=ce,te.render=te,te.prototype.isReactComponent=te.__f=!0,te.displayName="ForwardRef("+(Y.displayName||Y.name)+")",te}var fe=function(Y,te){return Y==null?null:Object(_.k)(Object(_.k)(Y).map(te))},xe={map:fe,forEach:fe,count:function(Y){return Y?Object(_.k)(Y).length:0},only:function(Y){var te=Object(_.k)(Y);if(te.length!==1)throw"Children.only";return te[0]},toArray:_.k},ke=_.i.__e;_.i.__e=function(Y,te,ve){if(Y.then){for(var Ee,Ke=te;Ke=Ke.__;)if((Ee=Ke.__c)&&Ee.__c)return te.__e==null&&(te.__e=ve.__e,te.__k=ve.__k),Ee.__c(Y,te)}ke(Y,te,ve)};var Ae=_.i.unmount;function Pe(){this.__u=0,this.t=null,this.__b=null}function Me(Y){var te=Y.__.__c;return te&&te.__e&&te.__e(Y)}function qe(){this.u=null,this.o=null}_.i.unmount=function(Y){var te=Y.__c;te&&te.__R&&te.__R(),te&&Y.__h===!0&&(Y.type=null),Ae&&Ae(Y)},(Pe.prototype=new _.a).__c=function(Y,te){var ve=te.__c,Ee=this;Ee.t==null&&(Ee.t=[]),Ee.t.push(ve);var Ke=Me(Ee.__v),Ve=!1,Qe=function(){Ve||(Ve=!0,ve.__R=null,Ke?Ke(ht):ht())};ve.__R=Qe;var ht=function(){if(!--Ee.__u){if(Ee.state.__e){var Ht=Ee.state.__e;Ee.__v.__k[0]=function Hn(bt,Re,He){return bt&&(bt.__v=null,bt.__k=bt.__k&&bt.__k.map(function(Je){return Hn(Je,Re,He)}),bt.__c&&bt.__c.__P===Re&&(bt.__e&&He.insertBefore(bt.__e,bt.__d),bt.__c.__e=!0,bt.__c.__P=He)),bt}(Ht,Ht.__c.__P,Ht.__c.__O)}var or;for(Ee.setState({__e:Ee.__b=null});or=Ee.t.pop();)or.forceUpdate()}},Tt=te.__h===!0;Ee.__u++||Tt||Ee.setState({__e:Ee.__b=Ee.__v.__k[0]}),Y.then(Qe,Qe)},Pe.prototype.componentWillUnmount=function(){this.t=[]},Pe.prototype.render=function(Y,te){if(this.__b){if(this.__v.__k){var ve=document.createElement("div"),Ee=this.__v.__k[0].__c;this.__v.__k[0]=function Ve(Qe,ht,Tt){return Qe&&(Qe.__c&&Qe.__c.__H&&(Qe.__c.__H.__.forEach(function(Ht){typeof Ht.__c=="function"&&Ht.__c()}),Qe.__c.__H=null),(Qe=ne({},Qe)).__c!=null&&(Qe.__c.__P===Tt&&(Qe.__c.__P=ht),Qe.__c=null),Qe.__k=Qe.__k&&Qe.__k.map(function(Ht){return Ve(Ht,ht,Tt)})),Qe}(this.__b,ve,Ee.__O=Ee.__P)}this.__b=null}var Ke=te.__e&&Object(_.e)(_.b,null,Y.fallback);return Ke&&(Ke.__h=null),[Object(_.e)(_.b,null,te.__e?null:Y.children),Ke]};var Q=function(Y,te,ve){if(++ve[1]===ve[0]&&Y.o.delete(te),Y.props.revealOrder&&(Y.props.revealOrder[0]!=="t"||!Y.o.size))for(ve=Y.u;ve;){for(;ve.length>3;)ve.pop()();if(ve[1]<ve[0])break;Y.u=ve=ve[2]}};function J(Y){return this.getChildContext=function(){return Y.context},Y.children}function ie(Y){var te=this,ve=Y.i;te.componentWillUnmount=function(){Object(_.j)(null,te.l),te.l=null,te.i=null},te.i&&te.i!==ve&&te.componentWillUnmount(),Y.__v?(te.l||(te.i=ve,te.l={nodeType:1,parentNode:ve,childNodes:[],appendChild:function(Ee){this.childNodes.push(Ee),te.i.appendChild(Ee)},insertBefore:function(Ee,Ke){this.childNodes.push(Ee),te.i.appendChild(Ee)},removeChild:function(Ee){this.childNodes.splice(this.childNodes.indexOf(Ee)>>>1,1),te.i.removeChild(Ee)}}),Object(_.j)(Object(_.e)(J,{context:te.context},Y.__v),te.l)):te.l&&te.componentWillUnmount()}(qe.prototype=new _.a).__e=function(Y){var te=this,ve=Me(te.__v),Ee=te.o.get(Y);return Ee[0]++,function(Ke){var Ve=function(){te.props.revealOrder?(Ee.push(Ke),Q(te,Y,Ee)):Ke()};ve?ve(Ve):Ve()}},qe.prototype.render=function(Y){this.u=null,this.o=new Map;var te=Object(_.k)(Y.children);Y.revealOrder&&Y.revealOrder[0]==="b"&&te.reverse();for(var ve=te.length;ve--;)this.o.set(te[ve],this.u=[1,0,this.u]);return Y.children},qe.prototype.componentDidUpdate=qe.prototype.componentDidMount=function(){var Y=this;this.o.forEach(function(te,ve){Q(Y,ve,te)})};var ge=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Te=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,we=typeof document!="undefined",We=function(Y){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(Y)};_.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(Y){Object.defineProperty(_.a.prototype,Y,{configurable:!0,get:function(){return this["UNSAFE_"+Y]},set:function(te){Object.defineProperty(this,Y,{configurable:!0,writable:!0,value:te})}})});var Ue=_.i.event;function Ze(){}function Ge(){return this.cancelBubble}function me(){return this.defaultPrevented}_.i.event=function(Y){return Ue&&(Y=Ue(Y)),Y.persist=Ze,Y.isPropagationStopped=Ge,Y.isDefaultPrevented=me,Y.nativeEvent=Y};var ee,Fe={configurable:!0,get:function(){return this.class}},ze=_.i.vnode;_.i.vnode=function(Y){var te=Y.type,ve=Y.props,Ee=ve;if(typeof te=="string"){var Ke=te.indexOf("-")===-1;for(var Ve in Ee={},ve){var Qe=ve[Ve];we&&Ve==="children"&&te==="noscript"||Ve==="value"&&"defaultValue"in ve&&Qe==null||(Ve==="defaultValue"&&"value"in ve&&ve.value==null?Ve="value":Ve==="download"&&Qe===!0?Qe="":/ondoubleclick/i.test(Ve)?Ve="ondblclick":/^onchange(textarea|input)/i.test(Ve+te)&&!We(ve.type)?Ve="oninput":/^onfocus$/i.test(Ve)?Ve="onfocusin":/^onblur$/i.test(Ve)?Ve="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ve)?Ve=Ve.toLowerCase():Ke&&Te.test(Ve)?Ve=Ve.replace(/[A-Z0-9]/,"-$&").toLowerCase():Qe===null&&(Qe=void 0),Ee[Ve]=Qe)}te=="select"&&Ee.multiple&&Array.isArray(Ee.value)&&(Ee.value=Object(_.k)(ve.children).forEach(function(ht){ht.props.selected=Ee.value.indexOf(ht.props.value)!=-1})),te=="select"&&Ee.defaultValue!=null&&(Ee.value=Object(_.k)(ve.children).forEach(function(ht){ht.props.selected=Ee.multiple?Ee.defaultValue.indexOf(ht.props.value)!=-1:Ee.defaultValue==ht.props.value})),Y.props=Ee,ve.class!=ve.className&&(Fe.enumerable="className"in ve,ve.className!=null&&(Ee.class=ve.className),Object.defineProperty(Ee,"className",Fe))}Y.$$typeof=ge,ze&&ze(Y)};var Ye=_.i.__r;_.i.__r=function(Y){Ye&&Ye(Y),ee=Y.__c};var Mt={ReactCurrentDispatcher:{current:{readContext:function(Y){return ee.__n[Y.__c].props.value}}}};function ot(Y){return!!Y&&Y.$$typeof===ge}var st=function(Y,te){return Y(te)},dt=_.b,Ut={useState:W,useReducer:L,useEffect:K,useLayoutEffect:q,useRef:function(Y){return w=5,X(function(){return{current:Y}},[])},useImperativeHandle:function(Y,te,ve){w=6,q(function(){typeof Y=="function"?Y(te()):Y&&(Y.current=te())},ve==null?ve:ve.concat(Y))},useMemo:X,useCallback:N,useContext:function(Y){var te=s.context[Y.__c],ve=G(f++,9);return ve.c=Y,te?(ve.__==null&&(ve.__=!0,te.sub(s)),te.props.value):Y.__},useDebugValue:function(Y,te){_.i.useDebugValue&&_.i.useDebugValue(te?te(Y):Y)},version:"17.0.2",Children:xe,render:function(Y,te,ve){return te.__k==null&&(te.textContent=""),Object(_.j)(Y,te),typeof ve=="function"&&ve(),Y?Y.__c:null},hydrate:function(Y,te,ve){return Object(_.h)(Y,te),typeof ve=="function"&&ve(),Y?Y.__c:null},unmountComponentAtNode:function(Y){return!!Y.__k&&(Object(_.j)(null,Y),!0)},createPortal:function(Y,te){return Object(_.e)(ie,{__v:Y,i:te})},createElement:_.e,createContext:_.d,createFactory:function(Y){return _.e.bind(null,Y)},cloneElement:function(Y){return ot(Y)?_.c.apply(null,arguments):Y},createRef:_.f,Fragment:_.b,isValidElement:ot,findDOMNode:function(Y){return Y&&(Y.base||Y.nodeType===1&&Y)||null},Component:_.a,PureComponent:de,memo:_e,forwardRef:se,flushSync:function(Y,te){return Y(te)},unstable_batchedUpdates:st,StrictMode:dt,Suspense:Pe,SuspenseList:qe,lazy:function(Y){var te,ve,Ee;function Ke(Ve){if(te||(te=Y()).then(function(Qe){ve=Qe.default||Qe},function(Qe){Ee=Qe}),Ee)throw Ee;if(!ve)throw te;return Object(_.e)(ve,Ve)}return Ke.displayName="Lazy",Ke.__f=!0,Ke},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Mt};p.d=Ut},function(c,p,a){var f=a(9),s=a(143),v=a(144),_=a(173),w=a(53),O=function(S){if(S&&S.forEach!==_)try{w(S,"forEach",_)}catch{S.forEach=_}};for(var j in s)s[j]&&O(f[j]&&f[j].prototype);O(v)},function(c,p,a){a(17)({target:"Object",stat:!0},{setPrototypeOf:a(111)})},function(c,p,a){var f=a(17),s=a(19),v=a(38),_=a(89),w=a(132);f({target:"Object",stat:!0,forced:s(function(){_(1)}),sham:!w},{getPrototypeOf:function(O){return _(v(O))}})},function(c,p,a){var f=a(17),s=a(49),v=a(95),_=a(194),w=a(152),O=a(32),j=a(33),S=a(52),k=a(19),C=s("Reflect","construct"),I=Object.prototype,G=[].push,W=k(function(){function q(){}return!(C(function(){},[],q)instanceof q)}),L=!k(function(){C(function(){})}),K=W||L;f({target:"Reflect",stat:!0,forced:K,sham:K},{construct:function(q,X){w(q),O(X);var N=arguments.length<3?q:w(arguments[2]);if(L&&!W)return C(q,X,N);if(q==N){switch(X.length){case 0:return new q;case 1:return new q(X[0]);case 2:return new q(X[0],X[1]);case 3:return new q(X[0],X[1],X[2]);case 4:return new q(X[0],X[1],X[2],X[3])}var F=[null];return v(G,F,X),new(v(_,q,F))}var A=N.prototype,z=S(j(A)?A:I),V=v(q,z,X);return j(V)?V:z}})},function(c,p){var a=Function.prototype,f=a.bind,s=a.call,v=f&&f.bind(s);c.exports=f?function(_){return _&&v(s,_)}:function(_){return _&&function(){return s.apply(_,arguments)}}},function(c,p,a){var f=a(17),s=a(9),v=a(93),_=a(94),w=a(33),O=a(62),j=a(43),S=a(39),k=a(58),C=a(27),I=a(70),G=a(117),W=I("slice"),L=C("species"),K=s.Array,q=Math.max;f({target:"Array",proto:!0,forced:!W},{slice:function(X,N){var F,A,z,V=S(this),R=j(V),B=O(X,R),$=O(N===void 0?R:N,R);if(v(V)&&(F=V.constructor,(_(F)&&(F===K||v(F.prototype))||w(F)&&(F=F[L])===null)&&(F=void 0),F===K||F===void 0))return G(V,B,$);for(A=new(F===void 0?K:F)(q($-B,0)),z=0;B<$;B++,z++)B in V&&k(A,z,V[B]);return A.length=z,A}})},function(c,p,a){var f=a(9),s=a(54).f,v=a(53),_=a(45),w=a(103),O=a(129),j=a(110);c.exports=function(S,k){var C,I,G,W,L,K=S.target,q=S.global,X=S.stat;if(C=q?f:X?f[K]||w(K,{}):(f[K]||{}).prototype)for(I in k){if(W=k[I],G=S.noTargetGet?(L=s(C,I))&&L.value:C[I],!j(q?I:K+(X?".":"#")+I,S.forced)&&G!==void 0){if(typeof W==typeof G)continue;O(W,G)}(S.sham||G&&G.sham)&&v(W,"sham",!0),_(C,I,W,S)}}},function(c,p,a){var f=a(17),s=a(96);f({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},function(c,p){c.exports=function(a){try{return!!a()}catch{return!0}}},function(c,p,a){var f=a(17),s=a(38),v=a(61);f({target:"Object",stat:!0,forced:a(19)(function(){v(1)})},{keys:function(_){return v(s(_))}})},function(c,p,a){var f=a(17),s=a(19),v=a(39),_=a(54).f,w=a(35),O=s(function(){_(1)});f({target:"Object",stat:!0,forced:!w||O,sham:!w},{getOwnPropertyDescriptor:function(j,S){return _(v(j),S)}})},function(c,p,a){var f=a(17),s=a(69).filter;f({target:"Array",proto:!0,forced:!a(70)("filter")},{filter:function(v){return s(this,v,arguments.length>1?arguments[1]:void 0)}})},function(c,p,a){var f=a(17),s=a(35),v=a(130),_=a(39),w=a(54),O=a(58);f({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(j){for(var S,k,C=_(j),I=w.f,G=v(C),W={},L=0;G.length>L;)(k=I(C,S=G[L++]))!==void 0&&O(W,S,k);return W}})},function(c,p,a){var f=a(35),s=a(88).EXISTS,v=a(15),_=a(37).f,w=Function.prototype,O=v(w.toString),j=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,S=v(j.exec);f&&!s&&_(w,"name",{configurable:!0,get:function(){try{return S(j,O(this))[1]}catch{return""}}})},function(c,p,a){var f=a(17),s=a(176);f({target:"Array",stat:!0,forced:!a(140)(function(v){Array.from(v)})},{from:s})},,function(c,p,a){var f=a(9),s=a(77),v=a(34),_=a(79),w=a(104),O=a(124),j=s("wks"),S=f.Symbol,k=S&&S.for,C=O?S:S&&S.withoutSetter||_;c.exports=function(I){if(!v(j,I)||!w&&typeof j[I]!="string"){var G="Symbol."+I;w&&v(S,I)?j[I]=S[I]:j[I]=O&&k?k(G):C(G)}return j[I]}},function(c,p,a){var f=a(17),s=a(9),v=a(19),_=a(93),w=a(33),O=a(38),j=a(43),S=a(58),k=a(115),C=a(70),I=a(27),G=a(80),W=I("isConcatSpreadable"),L=s.TypeError,K=G>=51||!v(function(){var N=[];return N[W]=!1,N.concat()[0]!==N}),q=C("concat"),X=function(N){if(!w(N))return!1;var F=N[W];return F!==void 0?!!F:_(N)};f({target:"Array",proto:!0,forced:!K||!q},{concat:function(N){var F,A,z,V,R,B=O(this),$=k(B,0),ne=0;for(F=-1,z=arguments.length;F<z;F++)if(X(R=F===-1?B:arguments[F])){if(ne+(V=j(R))>9007199254740991)throw L("Maximum allowed index exceeded");for(A=0;A<V;A++,ne++)A in R&&S($,ne,R[A])}else{if(ne>=9007199254740991)throw L("Maximum allowed index exceeded");S($,ne++,R)}return $.length=ne,$}})},function(c,p,a){var f=a(100),s=typeof self=="object"&&self&&self.Object===Object&&self,v=f.a||s||Function("return this")();p.a=v},function(c,p){c.exports=function(a){return typeof a=="function"}},function(c,p,a){var f=a(17),s=a(196);f({target:"Object",stat:!0,forced:Object.assign!==s},{assign:s})},function(c,p,a){var f=a(9),s=a(33),v=f.String,_=f.TypeError;c.exports=function(w){if(s(w))return w;throw _(v(w)+" is not an object")}},function(c,p,a){var f=a(30);c.exports=function(s){return typeof s=="object"?s!==null:f(s)}},function(c,p,a){var f=a(15),s=a(38),v=f({}.hasOwnProperty);c.exports=Object.hasOwn||function(_,w){return v(s(_),w)}},function(c,p,a){var f=a(19);c.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(c,p){var a=Function.prototype.call;c.exports=a.bind?a.bind(a):function(){return a.apply(a,arguments)}},function(c,p,a){var f=a(9),s=a(35),v=a(125),_=a(32),w=a(82),O=f.TypeError,j=Object.defineProperty;p.f=s?j:function(S,k,C){if(_(S),k=w(k),_(C),v)try{return j(S,k,C)}catch{}if("get"in C||"set"in C)throw O("Accessors not supported");return"value"in C&&(S[k]=C.value),S}},function(c,p,a){var f=a(9),s=a(44),v=f.Object;c.exports=function(_){return v(s(_))}},function(c,p,a){var f=a(74),s=a(44);c.exports=function(v){return f(s(v))}},function(c,p,a){var f=a(9),s=a(92),v=f.String;c.exports=function(_){if(s(_)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return v(_)}},function(c,p,a){var f=a(17),s=a(69).map;f({target:"Array",proto:!0,forced:!a(70)("map")},{map:function(v){return s(this,v,arguments.length>1?arguments[1]:void 0)}})},function(c,p,a){(function(f){a.d(p,"d",function(){return _}),a.d(p,"c",function(){return w}),a.d(p,"b",function(){return O}),a.d(p,"a",function(){return S});var s=a(10),v=function(k,C){var I=typeof Symbol=="function"&&k[Symbol.iterator];if(!I)return k;var G,W,L=I.call(k),K=[];try{for(;(C===void 0||C-- >0)&&!(G=L.next()).done;)K.push(G.value)}catch(q){W={error:q}}finally{try{G&&!G.done&&(I=L.return)&&I.call(L)}finally{if(W)throw W.error}}return K};function _(){var k=v(Object(s.j)(0),2)[1];return Object(s.h)(function(){k(function(C){return C+1})},[])}function w(k){if(!k||typeof k!="object")return!1;var C=Object.getPrototypeOf(k);return!C||C===Object.prototype}function O(k){return typeof Symbol=="function"?Symbol.for(k):"__$mobx-react "+k+"__"}var j={};function S(){return typeof window!="undefined"?window:f!==void 0?f:typeof self!="undefined"?self:j}}).call(this,a(75))},function(c,p,a){var f=a(85);c.exports=function(s){return f(s.length)}},function(c,p,a){var f=a(9).TypeError;c.exports=function(s){if(s==null)throw f("Can't call method on "+s);return s}},function(c,p,a){var f=a(9),s=a(30),v=a(34),_=a(53),w=a(103),O=a(107),j=a(57),S=a(88).CONFIGURABLE,k=j.get,C=j.enforce,I=String(String).split("String");(c.exports=function(G,W,L,K){var q,X=!!K&&!!K.unsafe,N=!!K&&!!K.enumerable,F=!!K&&!!K.noTargetGet,A=K&&K.name!==void 0?K.name:W;s(L)&&(String(A).slice(0,7)==="Symbol("&&(A="["+String(A).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!v(L,"name")||S&&L.name!==A)&&_(L,"name",A),(q=C(L)).source||(q.source=I.join(typeof A=="string"?A:""))),G!==f?(X?!F&&G[W]&&(N=!0):delete G[W],N?G[W]=L:_(G,W,L)):N?G[W]=L:w(W,L)})(Function.prototype,"toString",function(){return s(this)&&k(this).source||O(this)})},function(c,p,a){var f=a(17),s=a(36),v=a(33),_=a(32),w=a(195),O=a(54),j=a(89);f({target:"Reflect",stat:!0},{get:function S(k,C){var I,G,W=arguments.length<3?k:arguments[2];return _(k)===W?k[C]:(I=O.f(k,C))?w(I)?I.value:I.get===void 0?void 0:s(I.get,W):v(G=j(k))?S(G,C,W):void 0}})},function(c,p,a){(function(f){var s=a(29),v=a(156),_=y&&!y.nodeType&&y,w=_&&typeof f=="object"&&f&&!f.nodeType&&f,O=w&&w.exports===_?s.a.Buffer:void 0,j=(O?O.isBuffer:void 0)||v.a;p.a=j}).call(this,a(118)(c))},function(c,p,a){(function(f){var s=a(100),v=y&&!y.nodeType&&y,_=v&&typeof f=="object"&&f&&!f.nodeType&&f,w=_&&_.exports===v&&s.a.process,O=function(){try{var j=_&&_.require&&_.require("util").types;return j||w&&w.binding&&w.binding("util")}catch{}}();p.a=O}).call(this,a(118)(c))},function(c,p,a){var f=a(9),s=a(30),v=function(_){return s(_)?_:void 0};c.exports=function(_,w){return arguments.length<2?v(f[_]):f[_]&&f[_][w]}},function(c,p,a){var f=a(17),s=a(200).entries;f({target:"Object",stat:!0},{entries:function(v){return s(v)}})},function(c,p,a){var f=a(15),s=f({}.toString),v=f("".slice);c.exports=function(_){return v(s(_),8,-1)}},function(c,p,a){var f,s=a(32),v=a(159),_=a(106),w=a(64),O=a(161),j=a(105),S=a(86),k=S("IE_PROTO"),C=function(){},I=function(L){return"<script>"+L+"<\/script>"},G=function(L){L.write(I("")),L.close();var K=L.parentWindow.Object;return L=null,K},W=function(){try{f=new ActiveXObject("htmlfile")}catch{}var L,K;W=typeof document!="undefined"?document.domain&&f?G(f):((K=j("iframe")).style.display="none",O.appendChild(K),K.src=String("javascript:"),(L=K.contentWindow.document).open(),L.write(I("document.F=Object")),L.close(),L.F):G(f);for(var q=_.length;q--;)delete W.prototype[_[q]];return W()};w[k]=!0,c.exports=Object.create||function(L,K){var q;return L!==null?(C.prototype=s(L),q=new C,C.prototype=null,q[k]=L):q=W(),K===void 0?q:v(q,K)}},function(c,p,a){var f=a(35),s=a(37),v=a(66);c.exports=f?function(_,w,O){return s.f(_,w,v(1,O))}:function(_,w,O){return _[w]=O,_}},function(c,p,a){var f=a(35),s=a(36),v=a(87),_=a(66),w=a(39),O=a(82),j=a(34),S=a(125),k=Object.getOwnPropertyDescriptor;p.f=f?k:function(C,I){if(C=w(C),I=O(I),S)try{return k(C,I)}catch{}if(j(C,I))return _(!s(v.f,C,I),C[I])}},function(c,p,a){var f=a(15);c.exports=f({}.isPrototypeOf)},function(c,p,a){var f=a(60);c.exports=function(s,v){var _=s[v];return _==null?void 0:f(_)}},function(c,p,a){var f,s,v,_=a(162),w=a(9),O=a(15),j=a(33),S=a(53),k=a(34),C=a(102),I=a(86),G=a(64),W=w.TypeError,L=w.WeakMap;if(_||C.state){var K=C.state||(C.state=new L),q=O(K.get),X=O(K.has),N=O(K.set);f=function(A,z){if(X(K,A))throw new W("Object already initialized");return z.facade=A,N(K,A,z),z},s=function(A){return q(K,A)||{}},v=function(A){return X(K,A)}}else{var F=I("state");G[F]=!0,f=function(A,z){if(k(A,F))throw new W("Object already initialized");return z.facade=A,S(A,F,z),z},s=function(A){return k(A,F)?A[F]:{}},v=function(A){return k(A,F)}}c.exports={set:f,get:s,has:v,enforce:function(A){return v(A)?s(A):f(A,{})},getterFor:function(A){return function(z){var V;if(!j(z)||(V=s(z)).type!==A)throw W("Incompatible receiver, "+A+" required");return V}}}},function(c,p,a){var f=a(82),s=a(37),v=a(66);c.exports=function(_,w,O){var j=f(w);j in _?s.f(_,j,v(0,O)):_[j]=O}},function(c,p,a){var f=a(17),s=a(201),v=a(76);f({target:"Array",proto:!0},{fill:s}),v("fill")},function(c,p,a){var f=a(9),s=a(30),v=a(84),_=f.TypeError;c.exports=function(w){if(s(w))return w;throw _(v(w)+" is not a function")}},function(c,p,a){var f=a(127),s=a(106);c.exports=Object.keys||function(v){return f(v,s)}},function(c,p,a){var f=a(63),s=Math.max,v=Math.min;c.exports=function(_,w){var O=f(_);return O<0?s(O+w,0):v(O,w)}},function(c,p){var a=Math.ceil,f=Math.floor;c.exports=function(s){var v=+s;return v!=v||v===0?0:(v>0?f:a)(v)}},function(c,p){c.exports={}},function(c,p){c.exports={}},function(c,p){c.exports=function(a,f){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:f}}},function(c,p,a){var f=a(127),s=a(106).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(v){return f(v,s)}},function(c,p,a){a(165)("Map",function(f){return function(){return f(this,arguments.length?arguments[0]:void 0)}},a(169))},function(c,p,a){var f=a(91),s=a(15),v=a(74),_=a(38),w=a(43),O=a(115),j=s([].push),S=function(k){var C=k==1,I=k==2,G=k==3,W=k==4,L=k==6,K=k==7,q=k==5||L;return function(X,N,F,A){for(var z,V,R=_(X),B=v(R),$=f(N,F),ne=w(B),ue=0,de=A||O,_e=C?de(X,ne):I||K?de(X,0):void 0;ne>ue;ue++)if((q||ue in B)&&(V=$(z=B[ue],ue,R),k))if(C)_e[ue]=V;else if(V)switch(k){case 3:return!0;case 5:return z;case 6:return ue;case 2:j(_e,z)}else switch(k){case 4:return!1;case 7:j(_e,z)}return L?-1:G||W?W:_e}};c.exports={forEach:S(0),map:S(1),filter:S(2),some:S(3),every:S(4),find:S(5),findIndex:S(6),filterReject:S(7)}},function(c,p,a){var f=a(19),s=a(27),v=a(80),_=s("species");c.exports=function(w){return v>=51||!f(function(){var O=[];return(O.constructor={})[_]=function(){return{foo:1}},O[w](Boolean).foo!==1})}},function(c,p,a){var f=a(95),s=a(36),v=a(15),_=a(119),w=a(150),O=a(32),j=a(44),S=a(189),k=a(120),C=a(85),I=a(40),G=a(56),W=a(112),L=a(121),K=a(96),q=a(147),X=a(19),N=q.UNSUPPORTED_Y,F=Math.min,A=[].push,z=v(/./.exec),V=v(A),R=v("".slice);_("split",function(B,$,ne){var ue;return ue="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(de,_e){var pe=I(j(this)),ce=_e===void 0?4294967295:_e>>>0;if(ce===0)return[];if(de===void 0)return[pe];if(!w(de))return s($,pe,de,ce);for(var se,fe,xe,ke=[],Ae=(de.ignoreCase?"i":"")+(de.multiline?"m":"")+(de.unicode?"u":"")+(de.sticky?"y":""),Pe=0,Me=new RegExp(de.source,Ae+"g");(se=s(K,Me,pe))&&!((fe=Me.lastIndex)>Pe&&(V(ke,R(pe,Pe,se.index)),se.length>1&&se.index<pe.length&&f(A,ke,W(se,1)),xe=se[0].length,Pe=fe,ke.length>=ce));)Me.lastIndex===se.index&&Me.lastIndex++;return Pe===pe.length?!xe&&z(Me,"")||V(ke,""):V(ke,R(pe,Pe)),ke.length>ce?W(ke,0,ce):ke}:"0".split(void 0,0).length?function(de,_e){return de===void 0&&_e===0?[]:s($,this,de,_e)}:$,[function(de,_e){var pe=j(this),ce=de==null?void 0:G(de,B);return ce?s(ce,de,pe,_e):s(ue,I(pe),de,_e)},function(de,_e){var pe=O(this),ce=I(de),se=ne(ue,pe,ce,_e,ue!==$);if(se.done)return se.value;var fe=S(pe,RegExp),xe=pe.unicode,ke=(pe.ignoreCase?"i":"")+(pe.multiline?"m":"")+(pe.unicode?"u":"")+(N?"g":"y"),Ae=new fe(N?"^(?:"+pe.source+")":pe,ke),Pe=_e===void 0?4294967295:_e>>>0;if(Pe===0)return[];if(ce.length===0)return L(Ae,ce)===null?[ce]:[];for(var Me=0,qe=0,Q=[];qe<ce.length;){Ae.lastIndex=N?0:qe;var J,ie=L(Ae,N?R(ce,qe):ce);if(ie===null||(J=F(C(Ae.lastIndex+(N?qe:0)),ce.length))===Me)qe=k(ce,qe,xe);else{if(V(Q,R(ce,Me,qe)),Q.length===Pe)return Q;for(var ge=1;ge<=ie.length-1;ge++)if(V(Q,ie[ge]),Q.length===Pe)return Q;qe=Me=J}}return V(Q,R(ce,Me)),Q}]},!!X(function(){var B=/(?:)/,$=B.exec;B.exec=function(){return $.apply(this,arguments)};var ne="ab".split(B);return ne.length!==2||ne[0]!=="a"||ne[1]!=="b"}),N)},function(c,p,a){var f=a(35),s=a(9),v=a(15),_=a(110),w=a(45),O=a(34),j=a(141),S=a(55),k=a(83),C=a(126),I=a(19),G=a(67).f,W=a(54).f,L=a(37).f,K=a(192),q=a(153).trim,X=s.Number,N=X.prototype,F=s.TypeError,A=v("".slice),z=v("".charCodeAt),V=function(de){var _e=C(de,"number");return typeof _e=="bigint"?_e:R(_e)},R=function(de){var _e,pe,ce,se,fe,xe,ke,Ae,Pe=C(de,"number");if(k(Pe))throw F("Cannot convert a Symbol value to a number");if(typeof Pe=="string"&&Pe.length>2){if(Pe=q(Pe),(_e=z(Pe,0))===43||_e===45){if((pe=z(Pe,2))===88||pe===120)return NaN}else if(_e===48){switch(z(Pe,1)){case 66:case 98:ce=2,se=49;break;case 79:case 111:ce=8,se=55;break;default:return+Pe}for(xe=(fe=A(Pe,2)).length,ke=0;ke<xe;ke++)if((Ae=z(fe,ke))<48||Ae>se)return NaN;return parseInt(fe,ce)}}return+Pe};if(_("Number",!X(" 0o1")||!X("0b1")||X("+0x1"))){for(var B,$=function(de){var _e=arguments.length<1?0:X(V(de)),pe=this;return S(N,pe)&&I(function(){K(pe)})?j(Object(_e),pe,$):_e},ne=f?G(X):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ue=0;ne.length>ue;ue++)O(X,B=ne[ue])&&!O($,B)&&L($,B,W(X,B));$.prototype=N,N.constructor=$,w(s,"Number",$)}},function(c,p,a){a(17)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(c,p,a){var f=a(9),s=a(15),v=a(19),_=a(51),w=f.Object,O=s("".split);c.exports=v(function(){return!w("z").propertyIsEnumerable(0)})?function(j){return _(j)=="String"?O(j,""):w(j)}:w},function(c,p){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{typeof window=="object"&&(a=window)}c.exports=a},function(c,p,a){var f=a(27),s=a(52),v=a(37),_=f("unscopables"),w=Array.prototype;w[_]==null&&v.f(w,_,{configurable:!0,value:s(null)}),c.exports=function(O){w[_][O]=!0}},function(c,p,a){var f=a(78),s=a(102);(c.exports=function(v,_){return s[v]||(s[v]=_!==void 0?_:{})})("versions",[]).push({version:"3.19.3",mode:f?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(c,p){c.exports=!1},function(c,p,a){var f=a(15),s=0,v=Math.random(),_=f(1 .toString);c.exports=function(w){return"Symbol("+(w===void 0?"":w)+")_"+_(++s+v,36)}},function(c,p,a){var f,s,v=a(9),_=a(81),w=v.process,O=v.Deno,j=w&&w.versions||O&&O.version,S=j&&j.v8;S&&(s=(f=S.split("."))[0]>0&&f[0]<4?1:+(f[0]+f[1])),!s&&_&&(!(f=_.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=_.match(/Chrome\/(\d+)/))&&(s=+f[1]),c.exports=s},function(c,p,a){var f=a(49);c.exports=f("navigator","userAgent")||""},function(c,p,a){var f=a(126),s=a(83);c.exports=function(v){var _=f(v,"string");return s(_)?_:_+""}},function(c,p,a){var f=a(9),s=a(49),v=a(30),_=a(55),w=a(124),O=f.Object;c.exports=w?function(j){return typeof j=="symbol"}:function(j){var S=s("Symbol");return v(S)&&_(S.prototype,O(j))}},function(c,p,a){var f=a(9).String;c.exports=function(s){try{return f(s)}catch{return"Object"}}},function(c,p,a){var f=a(63),s=Math.min;c.exports=function(v){return v>0?s(f(v),9007199254740991):0}},function(c,p,a){var f=a(77),s=a(79),v=f("keys");c.exports=function(_){return v[_]||(v[_]=s(_))}},function(c,p,a){var f={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,v=s&&!f.call({1:2},1);p.f=v?function(_){var w=s(this,_);return!!w&&w.enumerable}:f},function(c,p,a){var f=a(35),s=a(34),v=Function.prototype,_=f&&Object.getOwnPropertyDescriptor,w=s(v,"name"),O=w&&function(){}.name==="something",j=w&&(!f||f&&_(v,"name").configurable);c.exports={EXISTS:w,PROPER:O,CONFIGURABLE:j}},function(c,p,a){var f=a(9),s=a(34),v=a(30),_=a(38),w=a(86),O=a(132),j=w("IE_PROTO"),S=f.Object,k=S.prototype;c.exports=O?S.getPrototypeOf:function(C){var I=_(C);if(s(I,j))return I[j];var G=I.constructor;return v(G)&&I instanceof G?G.prototype:I instanceof S?k:null}},function(c,p,a){var f=a(37).f,s=a(34),v=a(27)("toStringTag");c.exports=function(_,w,O){_&&!s(_=O?_:_.prototype,v)&&f(_,v,{configurable:!0,value:w})}},function(c,p,a){var f=a(15),s=a(60),v=f(f.bind);c.exports=function(_,w){return s(_),w===void 0?_:v?v(_,w):function(){return _.apply(w,arguments)}}},function(c,p,a){var f=a(9),s=a(114),v=a(30),_=a(51),w=a(27)("toStringTag"),O=f.Object,j=_(function(){return arguments}())=="Arguments";c.exports=s?_:function(S){var k,C,I;return S===void 0?"Undefined":S===null?"Null":typeof(C=function(G,W){try{return G[W]}catch{}}(k=O(S),w))=="string"?C:j?_(k):(I=_(k))=="Object"&&v(k.callee)?"Arguments":I}},function(c,p,a){var f=a(51);c.exports=Array.isArray||function(s){return f(s)=="Array"}},function(c,p,a){var f=a(15),s=a(19),v=a(30),_=a(92),w=a(49),O=a(107),j=function(){},S=[],k=w("Reflect","construct"),C=/^\s*(?:class|function)\b/,I=f(C.exec),G=!C.exec(j),W=function(L){if(!v(L))return!1;try{return k(j,S,L),!0}catch{return!1}};c.exports=!k||s(function(){var L;return W(W.call)||!W(Object)||!W(function(){L=!0})||L})?function(L){if(!v(L))return!1;switch(_(L)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return G||!!I(C,O(L))}:W},function(c,p){var a=Function.prototype,f=a.apply,s=a.bind,v=a.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(s?v.bind(f):function(){return v.apply(f,arguments)})},function(c,p,a){var f,s,v=a(36),_=a(15),w=a(40),O=a(178),j=a(147),S=a(77),k=a(52),C=a(57).get,I=a(179),G=a(180),W=S("native-string-replace",String.prototype.replace),L=RegExp.prototype.exec,K=L,q=_("".charAt),X=_("".indexOf),N=_("".replace),F=_("".slice),A=(s=/b*/g,v(L,f=/a/,"a"),v(L,s,"a"),f.lastIndex!==0||s.lastIndex!==0),z=j.BROKEN_CARET,V=/()??/.exec("")[1]!==void 0;(A||V||z||I||G)&&(K=function(R){var B,$,ne,ue,de,_e,pe,ce=this,se=C(ce),fe=w(R),xe=se.raw;if(xe)return xe.lastIndex=ce.lastIndex,B=v(K,xe,fe),ce.lastIndex=xe.lastIndex,B;var ke=se.groups,Ae=z&&ce.sticky,Pe=v(O,ce),Me=ce.source,qe=0,Q=fe;if(Ae&&(Pe=N(Pe,"y",""),X(Pe,"g")===-1&&(Pe+="g"),Q=F(fe,ce.lastIndex),ce.lastIndex>0&&(!ce.multiline||ce.multiline&&q(fe,ce.lastIndex-1)!==`
`)&&(Me="(?: "+Me+")",Q=" "+Q,qe++),$=new RegExp("^(?:"+Me+")",Pe)),V&&($=new RegExp("^"+Me+"$(?!\\s)",Pe)),A&&(ne=ce.lastIndex),ue=v(L,Ae?$:ce,Q),Ae?ue?(ue.input=F(ue.input,qe),ue[0]=F(ue[0],qe),ue.index=ce.lastIndex,ce.lastIndex+=ue[0].length):ce.lastIndex=0:A&&ue&&(ce.lastIndex=ce.global?ue.index+ue[0].length:ne),V&&ue&&ue.length>1&&v(W,ue[0],$,function(){for(de=1;de<arguments.length-2;de++)arguments[de]===void 0&&(ue[de]=void 0)}),ue&&ke)for(ue.groups=_e=k(null),de=0;de<ke.length;de++)_e[(pe=ke[de])[0]]=ue[pe[1]];return ue}),c.exports=K},function(c,p,a){var f=a(17),s=a(9),v=a(62),_=a(63),w=a(43),O=a(38),j=a(115),S=a(58),k=a(70)("splice"),C=s.TypeError,I=Math.max,G=Math.min;f({target:"Array",proto:!0,forced:!k},{splice:function(W,L){var K,q,X,N,F,A,z=O(this),V=w(z),R=v(W,V),B=arguments.length;if(B===0?K=q=0:B===1?(K=0,q=V-R):(K=B-2,q=G(I(_(L),0),V-R)),V+K-q>9007199254740991)throw C("Maximum allowed length exceeded");for(X=j(z,q),N=0;N<q;N++)(F=R+N)in z&&S(X,N,z[F]);if(X.length=q,K<q){for(N=R;N<V-q;N++)A=N+K,(F=N+q)in z?z[A]=z[F]:delete z[A];for(N=V;N>V-q+K;N--)delete z[N-1]}else if(K>q)for(N=V-q;N>R;N--)A=N+K-1,(F=N+q-1)in z?z[A]=z[F]:delete z[A];for(N=0;N<K;N++)z[N+R]=arguments[N+2];return z.length=V-q+K,X}})},function(c,p,a){var f=a(17),s=a(15),v=a(74),_=a(39),w=a(116),O=s([].join),j=v!=Object,S=w("join",",");f({target:"Array",proto:!0,forced:j||!S},{join:function(k){return O(_(this),k===void 0?",":k)}})},function(c,p,a){var f=a(17),s=a(197);f({target:"String",proto:!0,forced:a(198)("anchor")},{anchor:function(v){return s(this,"a","name",v)}})},function(c,p,a){(function(f){var s=typeof f=="object"&&f&&f.Object===Object&&f;p.a=s}).call(this,a(75))},function(c,p,a){(function(f){var s=a(29),v=y&&!y.nodeType&&y,_=v&&typeof f=="object"&&f&&!f.nodeType&&f,w=_&&_.exports===v?s.a.Buffer:void 0,O=w?w.allocUnsafe:void 0;p.a=function(j,S){if(S)return j.slice();var k=j.length,C=O?O(k):new j.constructor(k);return j.copy(C),C}}).call(this,a(118)(c))},function(c,p,a){var f=a(9),s=a(103),v=f["__core-js_shared__"]||s("__core-js_shared__",{});c.exports=v},function(c,p,a){var f=a(9),s=Object.defineProperty;c.exports=function(v,_){try{s(f,v,{value:_,configurable:!0,writable:!0})}catch{f[v]=_}return _}},function(c,p,a){var f=a(80),s=a(19);c.exports=!!Object.getOwnPropertySymbols&&!s(function(){var v=Symbol();return!String(v)||!(Object(v)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(c,p,a){var f=a(9),s=a(33),v=f.document,_=s(v)&&s(v.createElement);c.exports=function(w){return _?v.createElement(w):{}}},function(c,p){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(c,p,a){var f=a(15),s=a(30),v=a(102),_=f(Function.toString);s(v.inspectSource)||(v.inspectSource=function(w){return _(w)}),c.exports=v.inspectSource},function(c,p,a){var f=a(17),s=a(36),v=a(78),_=a(88),w=a(30),O=a(163),j=a(89),S=a(111),k=a(90),C=a(53),I=a(45),G=a(27),W=a(65),L=a(131),K=_.PROPER,q=_.CONFIGURABLE,X=L.IteratorPrototype,N=L.BUGGY_SAFARI_ITERATORS,F=G("iterator"),A=function(){return this};c.exports=function(z,V,R,B,$,ne,ue){O(R,V,B);var de,_e,pe,ce=function(Me){if(Me===$&&Ae)return Ae;if(!N&&Me in xe)return xe[Me];switch(Me){case"keys":case"values":case"entries":return function(){return new R(this,Me)}}return function(){return new R(this)}},se=V+" Iterator",fe=!1,xe=z.prototype,ke=xe[F]||xe["@@iterator"]||$&&xe[$],Ae=!N&&ke||ce($),Pe=V=="Array"&&xe.entries||ke;if(Pe&&(de=j(Pe.call(new z)))!==Object.prototype&&de.next&&(v||j(de)===X||(S?S(de,X):w(de[F])||I(de,F,A)),k(de,se,!0,!0),v&&(W[se]=A)),K&&$=="values"&&ke&&ke.name!=="values"&&(!v&&q?C(xe,"name","values"):(fe=!0,Ae=function(){return s(ke,this)})),$)if(_e={values:ce("values"),keys:ne?Ae:ce("keys"),entries:ce("entries")},ue)for(pe in _e)(N||fe||!(pe in xe))&&I(xe,pe,_e[pe]);else f({target:V,proto:!0,forced:N||fe},_e);return v&&!ue||xe[F]===Ae||I(xe,F,Ae,{name:$}),W[V]=Ae,_e}},function(c,p){p.f=Object.getOwnPropertySymbols},function(c,p,a){var f=a(19),s=a(30),v=/#|\.prototype\./,_=function(k,C){var I=O[w(k)];return I==S||I!=j&&(s(C)?f(C):!!C)},w=_.normalize=function(k){return String(k).replace(v,".").toLowerCase()},O=_.data={},j=_.NATIVE="N",S=_.POLYFILL="P";c.exports=_},function(c,p,a){var f=a(15),s=a(32),v=a(164);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var _,w=!1,O={};try{(_=f(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(O,[]),w=O instanceof Array}catch{}return function(j,S){return s(j),v(S),w?_(j,S):j.__proto__=S,j}}():void 0)},function(c,p,a){var f=a(9),s=a(62),v=a(43),_=a(58),w=f.Array,O=Math.max;c.exports=function(j,S,k){for(var C=v(j),I=s(S,C),G=s(k===void 0?C:k,C),W=w(O(G-I,0)),L=0;I<G;I++,L++)_(W,L,j[I]);return W.length=L,W}},function(c,p,a){var f=a(92),s=a(56),v=a(65),_=a(27)("iterator");c.exports=function(w){if(w!=null)return s(w,_)||s(w,"@@iterator")||v[f(w)]}},function(c,p,a){var f={};f[a(27)("toStringTag")]="z",c.exports=String(f)==="[object z]"},function(c,p,a){var f=a(174);c.exports=function(s,v){return new(f(s))(v===0?0:v)}},function(c,p,a){var f=a(19);c.exports=function(s,v){var _=[][s];return!!_&&f(function(){_.call(null,v||function(){throw 1},1)})}},function(c,p,a){var f=a(15);c.exports=f([].slice)},function(c,p){c.exports=function(a){if(!a.webpackPolyfill){var f=Object.create(a);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(c,p,a){a(18);var f=a(15),s=a(45),v=a(96),_=a(19),w=a(27),O=a(53),j=w("species"),S=RegExp.prototype;c.exports=function(k,C,I,G){var W=w(k),L=!_(function(){var N={};return N[W]=function(){return 7},""[k](N)!=7}),K=L&&!_(function(){var N=!1,F=/a/;return k==="split"&&((F={}).constructor={},F.constructor[j]=function(){return F},F.flags="",F[W]=/./[W]),F.exec=function(){return N=!0,null},F[W](""),!N});if(!L||!K||I){var q=f(/./[W]),X=C(W,""[k],function(N,F,A,z,V){var R=f(N),B=F.exec;return B===v||B===S.exec?L&&!V?{done:!0,value:q(F,A,z)}:{done:!0,value:R(A,F,z)}:{done:!1}});s(String.prototype,k,X[0]),s(S,W,X[1])}G&&O(S[W],"sham",!0)}},function(c,p,a){var f=a(142).charAt;c.exports=function(s,v,_){return v+(_?f(s,v).length:1)}},function(c,p,a){var f=a(9),s=a(36),v=a(32),_=a(30),w=a(51),O=a(96),j=f.TypeError;c.exports=function(S,k){var C=S.exec;if(_(C)){var I=s(C,S,k);return I!==null&&v(I),I}if(w(S)==="RegExp")return s(O,S,k);throw j("RegExp#exec called on incompatible receiver")}},function(c,p,a){var f=a(95),s=a(36),v=a(15),_=a(119),w=a(19),O=a(32),j=a(30),S=a(63),k=a(85),C=a(40),I=a(44),G=a(120),W=a(56),L=a(193),K=a(121),q=a(27)("replace"),X=Math.max,N=Math.min,F=v([].concat),A=v([].push),z=v("".indexOf),V=v("".slice),R="a".replace(/./,"$0")==="$0",B=!!/./[q]&&/./[q]("a","$0")==="";_("replace",function($,ne,ue){var de=B?"$":"$0";return[function(_e,pe){var ce=I(this),se=_e==null?void 0:W(_e,q);return se?s(se,_e,ce,pe):s(ne,C(ce),_e,pe)},function(_e,pe){var ce=O(this),se=C(_e);if(typeof pe=="string"&&z(pe,de)===-1&&z(pe,"$<")===-1){var fe=ue(ne,ce,se,pe);if(fe.done)return fe.value}var xe=j(pe);xe||(pe=C(pe));var ke=ce.global;if(ke){var Ae=ce.unicode;ce.lastIndex=0}for(var Pe=[];;){var Me=K(ce,se);if(Me===null||(A(Pe,Me),!ke))break;C(Me[0])===""&&(ce.lastIndex=G(se,k(ce.lastIndex),Ae))}for(var qe,Q="",J=0,ie=0;ie<Pe.length;ie++){for(var ge=C((Me=Pe[ie])[0]),Te=X(N(S(Me.index),se.length),0),we=[],We=1;We<Me.length;We++)A(we,(qe=Me[We])===void 0?qe:String(qe));var Ue=Me.groups;if(xe){var Ze=F([ge],we,Te,se);Ue!==void 0&&A(Ze,Ue);var Ge=C(f(pe,void 0,Ze))}else Ge=L(ge,se,Te,we,Ue,pe);Te>=J&&(Q+=V(se,J,Te)+Ge,J=Te+ge.length)}return Q+V(se,J)}]},!!w(function(){var $=/./;return $.exec=function(){var ne=[];return ne.groups={a:"7"},ne},"".replace($,"$<a>")!=="7"})||!R||B)},function(c,p,a){a(17)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(c,p,a){var f=a(104);c.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(c,p,a){var f=a(35),s=a(19),v=a(105);c.exports=!f&&!s(function(){return Object.defineProperty(v("div"),"a",{get:function(){return 7}}).a!=7})},function(c,p,a){var f=a(9),s=a(36),v=a(33),_=a(83),w=a(56),O=a(160),j=a(27),S=f.TypeError,k=j("toPrimitive");c.exports=function(C,I){if(!v(C)||_(C))return C;var G,W=w(C,k);if(W){if(I===void 0&&(I="default"),G=s(W,C,I),!v(G)||_(G))return G;throw S("Can't convert object to primitive value")}return I===void 0&&(I="number"),O(C,I)}},function(c,p,a){var f=a(15),s=a(34),v=a(39),_=a(128).indexOf,w=a(64),O=f([].push);c.exports=function(j,S){var k,C=v(j),I=0,G=[];for(k in C)!s(w,k)&&s(C,k)&&O(G,k);for(;S.length>I;)s(C,k=S[I++])&&(~_(G,k)||O(G,k));return G}},function(c,p,a){var f=a(39),s=a(62),v=a(43),_=function(w){return function(O,j,S){var k,C=f(O),I=v(C),G=s(S,I);if(w&&j!=j){for(;I>G;)if((k=C[G++])!=k)return!0}else for(;I>G;G++)if((w||G in C)&&C[G]===j)return w||G||0;return!w&&-1}};c.exports={includes:_(!0),indexOf:_(!1)}},function(c,p,a){var f=a(34),s=a(130),v=a(54),_=a(37);c.exports=function(w,O){for(var j=s(O),S=_.f,k=v.f,C=0;C<j.length;C++){var I=j[C];f(w,I)||S(w,I,k(O,I))}}},function(c,p,a){var f=a(49),s=a(15),v=a(67),_=a(109),w=a(32),O=s([].concat);c.exports=f("Reflect","ownKeys")||function(j){var S=v.f(w(j)),k=_.f;return k?O(S,k(j)):S}},function(c,p,a){var f,s,v,_=a(19),w=a(30),O=a(52),j=a(89),S=a(45),k=a(27),C=a(78),I=k("iterator"),G=!1;[].keys&&("next"in(v=[].keys())?(s=j(j(v)))!==Object.prototype&&(f=s):G=!0),f==null||_(function(){var W={};return f[I].call(W)!==W})?f={}:C&&(f=O(f)),w(f[I])||S(f,I,function(){return this}),c.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:G}},function(c,p,a){var f=a(19);c.exports=!f(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},function(c,p,a){var f=a(17),s=a(15),v=a(64),_=a(33),w=a(34),O=a(37).f,j=a(67),S=a(134),k=a(166),C=a(79),I=a(168),G=!1,W=C("meta"),L=0,K=function(X){O(X,W,{value:{objectID:"O"+L++,weakData:{}}})},q=c.exports={enable:function(){q.enable=function(){},G=!0;var X=j.f,N=s([].splice),F={};F[W]=1,X(F).length&&(j.f=function(A){for(var z=X(A),V=0,R=z.length;V<R;V++)if(z[V]===W){N(z,V,1);break}return z},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:S.f}))},fastKey:function(X,N){if(!_(X))return typeof X=="symbol"?X:(typeof X=="string"?"S":"P")+X;if(!w(X,W)){if(!k(X))return"F";if(!N)return"E";K(X)}return X[W].objectID},getWeakData:function(X,N){if(!w(X,W)){if(!k(X))return!0;if(!N)return!1;K(X)}return X[W].weakData},onFreeze:function(X){return I&&G&&k(X)&&!w(X,W)&&K(X),X}};v[W]=!0},function(c,p,a){var f=a(51),s=a(39),v=a(67).f,_=a(112),w=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(O){return w&&f(O)=="Window"?function(j){try{return v(j)}catch{return _(w)}}(O):v(s(O))}},function(c,p,a){var f=a(9),s=a(91),v=a(36),_=a(32),w=a(84),O=a(136),j=a(43),S=a(55),k=a(137),C=a(113),I=a(138),G=f.TypeError,W=function(K,q){this.stopped=K,this.result=q},L=W.prototype;c.exports=function(K,q,X){var N,F,A,z,V,R,B,$=X&&X.that,ne=!(!X||!X.AS_ENTRIES),ue=!(!X||!X.IS_ITERATOR),de=!(!X||!X.INTERRUPTED),_e=s(q,$),pe=function(se){return N&&I(N,"normal",se),new W(!0,se)},ce=function(se){return ne?(_(se),de?_e(se[0],se[1],pe):_e(se[0],se[1])):de?_e(se,pe):_e(se)};if(ue)N=K;else{if(!(F=C(K)))throw G(w(K)+" is not iterable");if(O(F)){for(A=0,z=j(K);z>A;A++)if((V=ce(K[A]))&&S(L,V))return V;return new W(!1)}N=k(K,F)}for(R=N.next;!(B=v(R,N)).done;){try{V=ce(B.value)}catch(se){I(N,"throw",se)}if(typeof V=="object"&&V&&S(L,V))return V}return new W(!1)}},function(c,p,a){var f=a(27),s=a(65),v=f("iterator"),_=Array.prototype;c.exports=function(w){return w!==void 0&&(s.Array===w||_[v]===w)}},function(c,p,a){var f=a(9),s=a(36),v=a(60),_=a(32),w=a(84),O=a(113),j=f.TypeError;c.exports=function(S,k){var C=arguments.length<2?O(S):k;if(v(C))return _(s(C,S));throw j(w(S)+" is not iterable")}},function(c,p,a){var f=a(36),s=a(32),v=a(56);c.exports=function(_,w,O){var j,S;s(_);try{if(!(j=v(_,"return"))){if(w==="throw")throw O;return O}j=f(j,_)}catch(k){S=!0,j=k}if(w==="throw")throw O;if(S)throw j;return s(j),O}},function(c,p,a){var f=a(9),s=a(55),v=f.TypeError;c.exports=function(_,w){if(s(w,_))return _;throw v("Incorrect invocation")}},function(c,p,a){var f=a(27)("iterator"),s=!1;try{var v=0,_={next:function(){return{done:!!v++}},return:function(){s=!0}};_[f]=function(){return this},Array.from(_,function(){throw 2})}catch{}c.exports=function(w,O){if(!O&&!s)return!1;var j=!1;try{var S={};S[f]=function(){return{next:function(){return{done:j=!0}}}},w(S)}catch{}return j}},function(c,p,a){var f=a(30),s=a(33),v=a(111);c.exports=function(_,w,O){var j,S;return v&&f(j=w.constructor)&&j!==O&&s(S=j.prototype)&&S!==O.prototype&&v(_,S),_}},function(c,p,a){var f=a(15),s=a(63),v=a(40),_=a(44),w=f("".charAt),O=f("".charCodeAt),j=f("".slice),S=function(k){return function(C,I){var G,W,L=v(_(C)),K=s(I),q=L.length;return K<0||K>=q?k?"":void 0:(G=O(L,K))<55296||G>56319||K+1===q||(W=O(L,K+1))<56320||W>57343?k?w(L,K):G:k?j(L,K,K+2):W-56320+(G-55296<<10)+65536}};c.exports={codeAt:S(!1),charAt:S(!0)}},function(c,p){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(c,p,a){var f=a(105)("span").classList,s=f&&f.constructor&&f.constructor.prototype;c.exports=s===Object.prototype?void 0:s},function(c,p,a){var f=a(27);p.f=f},function(c,p,a){var f=a(175),s=a(34),v=a(145),_=a(37).f;c.exports=function(w){var O=f.Symbol||(f.Symbol={});s(O,w)||_(O,w,{value:v.f(w)})}},function(c,p,a){var f=a(19),s=a(9).RegExp,v=f(function(){var O=s("a","y");return O.lastIndex=2,O.exec("abcd")!=null}),_=v||f(function(){return!s("a","y").sticky}),w=v||f(function(){var O=s("^r","gy");return O.lastIndex=2,O.exec("str")!=null});c.exports={BROKEN_CARET:w,MISSED_STICKY:_,UNSUPPORTED_Y:v}},function(c,p,a){var f=a(17),s=a(128).includes,v=a(76);f({target:"Array",proto:!0},{includes:function(_){return s(this,_,arguments.length>1?arguments[1]:void 0)}}),v("includes")},function(c,p,a){var f=a(17),s=a(15),v=a(187),_=a(44),w=a(40),O=a(188),j=s("".indexOf);f({target:"String",proto:!0,forced:!O("includes")},{includes:function(S){return!!~j(w(_(this)),w(v(S)),arguments.length>1?arguments[1]:void 0)}})},function(c,p,a){var f=a(33),s=a(51),v=a(27)("match");c.exports=function(_){var w;return f(_)&&((w=_[v])!==void 0?!!w:s(_)=="RegExp")}},function(c,p){var a,f,s=c.exports={};function v(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}function w(L){if(a===setTimeout)return setTimeout(L,0);if((a===v||!a)&&setTimeout)return a=setTimeout,setTimeout(L,0);try{return a(L,0)}catch{try{return a.call(null,L,0)}catch{return a.call(this,L,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:v}catch{a=v}try{f=typeof clearTimeout=="function"?clearTimeout:_}catch{f=_}})();var O,j=[],S=!1,k=-1;function C(){S&&O&&(S=!1,O.length?j=O.concat(j):k=-1,j.length&&I())}function I(){if(!S){var L=w(C);S=!0;for(var K=j.length;K;){for(O=j,j=[];++k<K;)O&&O[k].run();k=-1,K=j.length}O=null,S=!1,function(q){if(f===clearTimeout)return clearTimeout(q);if((f===_||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(q);try{f(q)}catch{try{return f.call(null,q)}catch{return f.call(this,q)}}}(L)}}function G(L,K){this.fun=L,this.array=K}function W(){}s.nextTick=function(L){var K=new Array(arguments.length-1);if(arguments.length>1)for(var q=1;q<arguments.length;q++)K[q-1]=arguments[q];j.push(new G(L,K)),j.length!==1||S||w(I)},G.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=W,s.addListener=W,s.once=W,s.off=W,s.removeListener=W,s.removeAllListeners=W,s.emit=W,s.prependListener=W,s.prependOnceListener=W,s.listeners=function(L){return[]},s.binding=function(L){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(L){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(c,p,a){var f=a(9),s=a(94),v=a(84),_=f.TypeError;c.exports=function(w){if(s(w))return w;throw _(v(w)+" is not a constructor")}},function(c,p,a){var f=a(15),s=a(44),v=a(40),_=a(154),w=f("".replace),O="["+_+"]",j=RegExp("^"+O+O+"*"),S=RegExp(O+O+"*$"),k=function(C){return function(I){var G=v(s(I));return 1&C&&(G=w(G,j,"")),2&C&&(G=w(G,S,"")),G}};c.exports={start:k(1),end:k(2),trim:k(3)}},function(c,p){c.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(c,p,a){var f=a(36),s=a(119),v=a(32),_=a(85),w=a(40),O=a(44),j=a(56),S=a(120),k=a(121);s("match",function(C,I,G){return[function(W){var L=O(this),K=W==null?void 0:j(W,C);return K?f(K,W,L):new RegExp(W)[C](w(L))},function(W){var L=v(this),K=w(W),q=G(I,L,K);if(q.done)return q.value;if(!L.global)return k(L,K);var X=L.unicode;L.lastIndex=0;for(var N,F=[],A=0;(N=k(L,K))!==null;){var z=w(N[0]);F[A]=z,z===""&&(L.lastIndex=S(K,_(L.lastIndex),X)),A++}return A===0?null:F}]})},function(c,p,a){p.a=function(){return!1}},function(c,p,a){(function(f){a.d(p,"a",function(){return K});var s=a(0);function v(N){throw new Error("[mobx-utils] "+N)}function _(N,F){F===void 0&&(F="Illegal state"),N||v(F)}var w=function(N){return N&&N!==Object.prototype&&Object.getOwnPropertyNames(N).concat(w(Object.getPrototypeOf(N))||[])},O=function(N){return function(F){var A=w(F);return A.filter(function(z,V){return A.indexOf(z)===V})}(N).filter(function(F){return F!=="constructor"&&!~F.indexOf("__")})};function j(N){switch(this.state){case"pending":return N.pending&&N.pending(this.value);case"rejected":return N.rejected&&N.rejected(this.value);case"fulfilled":return N.fulfilled?N.fulfilled(this.value):this.value}}function S(N,F){if(_(arguments.length<=2,"fromPromise expects up to two arguments"),_(typeof N=="function"||typeof N=="object"&&N&&typeof N.then=="function","Please pass a promise or function to fromPromise"),N.isPromiseBasedObservable===!0)return N;typeof N=="function"&&(N=new Promise(N));var A=N;N.then(Object(s.k)("observableFromPromise-resolve",function(V){A.value=V,A.state="fulfilled"}),Object(s.k)("observableFromPromise-reject",function(V){A.value=V,A.state="rejected"})),A.isPromiseBasedObservable=!0,A.case=j;var z=F&&F.state==="fulfilled"?F.value:void 0;return Object(s.q)(A,{value:z,state:"pending"},{},{deep:!1}),A}(function(N){N.reject=Object(s.k)("fromPromise.reject",function(F){var A=N(Promise.reject(F));return A.state="rejected",A.value=F,A}),N.resolve=Object(s.k)("fromPromise.resolve",function(F){F===void 0&&(F=void 0);var A=N(Promise.resolve(F));return A.state="fulfilled",A.value=F,A})})(S||(S={}));var k=function(N,F,A,z){var V,R=arguments.length,B=R<3?F:z===null?z=Object.getOwnPropertyDescriptor(F,A):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(N,F,A,z);else for(var $=N.length-1;$>=0;$--)(V=N[$])&&(B=(R<3?V(B):R>3?V(F,A,B):V(F,A))||B);return R>3&&B&&Object.defineProperty(F,A,B),B};(function(){function N(F,A){var z=this;Object(s.G)(function(){z.current=A,z.subscription=F.subscribe(z)})}N.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},N.prototype.next=function(F){this.current=F},N.prototype.complete=function(){this.dispose()},N.prototype.error=function(F){this.current=F,this.dispose()},k([s.C.ref],N.prototype,"current",void 0),k([s.k.bound],N.prototype,"next",null),k([s.k.bound],N.prototype,"complete",null),k([s.k.bound],N.prototype,"error",null)})();var C=function(){return(C=Object.assign||function(N){for(var F,A=1,z=arguments.length;A<z;A++)for(var V in F=arguments[A])Object.prototype.hasOwnProperty.call(F,V)&&(N[V]=F[V]);return N}).apply(this,arguments)},I=function(N,F,A,z){var V,R=arguments.length,B=R<3?F:z===null?z=Object.getOwnPropertyDescriptor(F,A):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(N,F,A,z);else for(var $=N.length-1;$>=0;$--)(V=N[$])&&(B=(R<3?V(B):R>3?V(F,A,B):V(F,A))||B);return R>3&&B&&Object.defineProperty(F,A,B),B},G=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function N(F){var A=this;this.model=F,this.localValues=s.C.map({}),this.localComputedValues=s.C.map({}),this.isPropertyDirty=function(z){return A.localValues.has(z)},_(Object(s.A)(F),"createViewModel expects an observable object"),O(F).forEach(function(z){if(z!==s.a&&z!=="__mobxDidRunLazyInitializers"){if(_(G.indexOf(z)===-1,"The propertyname "+z+" is reserved and cannot be used with viewModels"),Object(s.w)(F,z)){var V=Object(s.h)(F,z).derivation;A.localComputedValues.set(z,Object(s.m)(V.bind(A)))}var R=Object.getOwnPropertyDescriptor(F,z),B=R?{enumerable:R.enumerable}:{};Object.defineProperty(A,z,C(C({},B),{configurable:!0,get:function(){return Object(s.w)(F,z)?A.localComputedValues.get(z).get():A.isPropertyDirty(z)?A.localValues.get(z):A.model[z]},set:Object(s.k)(function($){$!==A.model[z]?A.localValues.set(z,$):A.localValues.delete(z)})}))}})}Object.defineProperty(N.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),N.prototype.submit=function(){var F=this;Object(s.B)(this.localValues).forEach(function(A){var z=F.localValues.get(A),V=F.model[A];Object(s.y)(V)?V.replace(z):Object(s.z)(V)?(V.clear(),V.merge(z)):Object(s.v)(z)||(F.model[A]=z)}),this.localValues.clear()},N.prototype.reset=function(){this.localValues.clear()},N.prototype.resetProperty=function(F){this.localValues.delete(F)},I([s.m],N.prototype,"isDirty",null),I([s.m],N.prototype,"changedValues",null),I([s.k.bound],N.prototype,"submit",null),I([s.k.bound],N.prototype,"reset",null),I([s.k.bound],N.prototype,"resetProperty",null)})();function W(N){if(!N)return"ROOT";for(var F=[];N.parent;)F.push(N.path),N=N.parent;return F.reverse().join("/")}function L(N){return Object(s.A)(N)||Object(s.y)(N)||Object(s.z)(N)}function K(N,F){var A=new WeakMap;function z(B){var $=A.get(B.object);(function(ne,ue){switch(ne.type){case"add":V(ne.newValue,ue,ne.name);break;case"update":R(ne.oldValue),V(ne.newValue,ue,ne.name||""+ne.index);break;case"remove":case"delete":R(ne.oldValue);break;case"splice":ne.removed.map(R),ne.added.forEach(function(pe,ce){return V(pe,ue,""+(ne.index+ce))});for(var de=ne.index+ne.addedCount;de<ne.object.length;de++)if(L(ne.object[de])){var _e=A.get(ne.object[de]);_e&&(_e.path=""+de)}}})(B,$),F(B,W($),N)}function V(B,$,ne){if(L(B)){var ue=A.get(B);if(ue){if(ue.parent!==$||ue.path!==ne)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+W($)+"/"+ne+"', but it already exists at '"+W(ue.parent)+"/"+ue.path+"'")}else{var de={parent:$,path:ne,dispose:Object(s.D)(B,z)};A.set(B,de),Object(s.p)(B).forEach(function(_e){var pe=_e[0];return V(_e[1],de,pe)})}}}function R(B){if(L(B)){var $=A.get(B);if(!$)return;A.delete(B),$.dispose(),Object(s.L)(B).forEach(R)}}return V(N,void 0,""),function(){R(N)}}var q,X=(q=function(N,F){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,z){A.__proto__=z}||function(A,z){for(var V in z)z.hasOwnProperty(V)&&(A[V]=z[V])})(N,F)},function(N,F){function A(){this.constructor=N}q(N,F),N.prototype=F===null?Object.create(F):(A.prototype=F.prototype,new A)});(function(N){function F(A,z,V){var R=V===void 0?{}:V,B=R.name,$=B===void 0?"ogm"+(1e3*Math.random()|0):B,ne=R.keyToName,ue=ne===void 0?function(pe){return""+pe}:ne,de=N.call(this)||this;de._keyToName=ue,de._groupBy=z,de._ogmInfoKey=Symbol("ogmInfo"+$),de._base=A;for(var _e=0;_e<A.length;_e++)de._addItem(A[_e]);return de._disposeBaseObserver=Object(s.D)(de._base,function(pe){if(pe.type==="splice")Object(s.J)(function(){for(var ce=0,se=pe.removed;ce<se.length;ce++){var fe=se[ce];de._removeItem(fe)}for(var xe=0,ke=pe.added;xe<ke.length;xe++){var Ae=ke[xe];de._addItem(Ae)}});else{if(pe.type!=="update")throw new Error("illegal state");Object(s.J)(function(){de._removeItem(pe.oldValue),de._addItem(pe.newValue)})}}),de}X(F,N),F.prototype.clear=function(){throw new Error("not supported")},F.prototype.delete=function(A){throw new Error("not supported")},F.prototype.set=function(A,z){throw new Error("not supported")},F.prototype.dispose=function(){this._disposeBaseObserver();for(var A=0;A<this._base.length;A++){var z=this._base[A];z[this._ogmInfoKey].reaction(),delete z[this._ogmInfoKey]}},F.prototype._getGroupArr=function(A){var z=N.prototype.get.call(this,A);return z===void 0&&(z=Object(s.C)([],{name:"GroupArray["+this._keyToName(A)+"]",deep:!1}),N.prototype.set.call(this,A,z)),z},F.prototype._removeFromGroupArr=function(A,z){var V=N.prototype.get.call(this,A);V.length===1?N.prototype.delete.call(this,A):(z===V.length-1||(V[z]=V[V.length-1],V[z][this._ogmInfoKey].groupArrIndex=z),V.length--)},F.prototype._addItem=function(A){var z=this,V=this._groupBy(A),R=this._getGroupArr(V),B={groupByValue:V,groupArrIndex:R.length,reaction:Object(s.F)(function(){return z._groupBy(A)},function($,ne){var ue=A[z._ogmInfoKey];z._removeFromGroupArr(ue.groupByValue,ue.groupArrIndex);var de=z._getGroupArr($),_e=de.length;de.push(A),ue.groupByValue=$,ue.groupArrIndex=_e})};Object.defineProperty(A,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:B}),R.push(A)},F.prototype._removeItem=function(A){var z=A[this._ogmInfoKey];this._removeFromGroupArr(z.groupByValue,z.groupArrIndex),z.reaction(),delete A[this._ogmInfoKey]}})(s.b),function(){function N(F,A){this.base=F,this.args=A,this.closestIdx=0,this.isDisposed=!1;for(var z=this.closest=this.root=F,V=0;V<this.args.length-1&&(z=z.get(A[V]));V++)this.closest=z;this.closestIdx=V}return N.prototype.exists=function(){this.assertNotDisposed();var F=this.args.length;return this.closestIdx>=F-1&&this.closest.has(this.args[F-1])},N.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},N.prototype.set=function(F){this.assertNotDisposed();for(var A=this.args.length,z=this.closest,V=this.closestIdx;V<A-1;V++){var R=new Map;z.set(this.args[V],R),z=R}this.closestIdx=A-1,this.closest=z,z.set(this.args[A-1],F)},N.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var F=this.args.length;this.closest.delete(this.args[F-1]);for(var A=this.root,z=[A],V=0;V<F-1;V++)A=A.get(this.args[V]),z.push(A);for(V=z.length-1;V>0;V--)z[V].size===0&&z[V-1].delete(this.args[V-1]);this.isDisposed=!0},N.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},N}(),Promise.resolve(),typeof queueMicrotask!="undefined"||f!==void 0&&f.nextTick}).call(this,a(151))},function(c,p,a){var f;(function(s,v,_){if(s){for(var w,O={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},j={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},S={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},C=1;C<20;++C)O[111+C]="f"+C;for(C=0;C<=9;++C)O[C+96]=C.toString();q.prototype.bind=function(X,N,F){return X=X instanceof Array?X:[X],this._bindMultiple.call(this,X,N,F),this},q.prototype.unbind=function(X,N){return this.bind.call(this,X,function(){},N)},q.prototype.trigger=function(X,N){return this._directMap[X+":"+N]&&this._directMap[X+":"+N]({},X),this},q.prototype.reset=function(){return this._callbacks={},this._directMap={},this},q.prototype.stopCallback=function(X,N){if((" "+N.className+" ").indexOf(" mousetrap ")>-1||function A(z,V){return z!==null&&z!==v&&(z===V||A(z.parentNode,V))}(N,this.target))return!1;if("composedPath"in X&&typeof X.composedPath=="function"){var F=X.composedPath()[0];F!==X.target&&(N=F)}return N.tagName=="INPUT"||N.tagName=="SELECT"||N.tagName=="TEXTAREA"||N.isContentEditable},q.prototype.handleKey=function(){var X=this;return X._handleKey.apply(X,arguments)},q.addKeycodes=function(X){for(var N in X)X.hasOwnProperty(N)&&(O[N]=X[N]);w=null},q.init=function(){var X=q(v);for(var N in X)N.charAt(0)!=="_"&&(q[N]=function(F){return function(){return X[F].apply(X,arguments)}}(N))},q.init(),s.Mousetrap=q,c.exports&&(c.exports=q),(f=function(){return q}.call(p,a,p,c))===void 0||(c.exports=f)}function I(X,N,F){X.addEventListener?X.addEventListener(N,F,!1):X.attachEvent("on"+N,F)}function G(X){if(X.type=="keypress"){var N=String.fromCharCode(X.which);return X.shiftKey||(N=N.toLowerCase()),N}return O[X.which]?O[X.which]:j[X.which]?j[X.which]:String.fromCharCode(X.which).toLowerCase()}function W(X){return X=="shift"||X=="ctrl"||X=="alt"||X=="meta"}function L(X,N,F){return F||(F=function(){if(!w)for(var A in w={},O)A>95&&A<112||O.hasOwnProperty(A)&&(w[O[A]]=A);return w}()[X]?"keydown":"keypress"),F=="keypress"&&N.length&&(F="keydown"),F}function K(X,N){var F,A,z,V=[];for(F=function(R){return R==="+"?["+"]:(R=R.replace(/\+{2}/g,"+plus")).split("+")}(X),z=0;z<F.length;++z)A=F[z],k[A]&&(A=k[A]),N&&N!="keypress"&&S[A]&&(A=S[A],V.push("shift")),W(A)&&V.push(A);return{key:A,modifiers:V,action:N=L(A,V,N)}}function q(X){var N=this;if(X=X||v,!(N instanceof q))return new q(X);N.target=X,N._callbacks={},N._directMap={};var F,A={},z=!1,V=!1,R=!1;function B(pe){pe=pe||{};var ce,se=!1;for(ce in A)pe[ce]?se=!0:A[ce]=0;se||(R=!1)}function $(pe,ce,se,fe,xe,ke){var Ae,Pe,Me,qe,Q=[],J=se.type;if(!N._callbacks[pe])return[];for(J=="keyup"&&W(pe)&&(ce=[pe]),Ae=0;Ae<N._callbacks[pe].length;++Ae)if(Pe=N._callbacks[pe][Ae],(fe||!Pe.seq||A[Pe.seq]==Pe.level)&&J==Pe.action&&(J=="keypress"&&!se.metaKey&&!se.ctrlKey||(Me=ce,qe=Pe.modifiers,Me.sort().join(",")===qe.sort().join(",")))){var ie=!fe&&Pe.combo==xe,ge=fe&&Pe.seq==fe&&Pe.level==ke;(ie||ge)&&N._callbacks[pe].splice(Ae,1),Q.push(Pe)}return Q}function ne(pe,ce,se,fe){N.stopCallback(ce,ce.target||ce.srcElement,se,fe)||pe(ce,se)===!1&&(function(xe){xe.preventDefault?xe.preventDefault():xe.returnValue=!1}(ce),function(xe){xe.stopPropagation?xe.stopPropagation():xe.cancelBubble=!0}(ce))}function ue(pe){typeof pe.which!="number"&&(pe.which=pe.keyCode);var ce=G(pe);ce&&(pe.type!="keyup"||z!==ce?N.handleKey(ce,function(se){var fe=[];return se.shiftKey&&fe.push("shift"),se.altKey&&fe.push("alt"),se.ctrlKey&&fe.push("ctrl"),se.metaKey&&fe.push("meta"),fe}(pe),pe):z=!1)}function de(pe,ce,se,fe){function xe(Me){return function(){R=Me,++A[pe],clearTimeout(F),F=setTimeout(B,1e3)}}function ke(Me){ne(se,Me,pe),fe!=="keyup"&&(z=G(Me)),setTimeout(B,10)}A[pe]=0;for(var Ae=0;Ae<ce.length;++Ae){var Pe=Ae+1===ce.length?ke:xe(fe||K(ce[Ae+1]).action);_e(ce[Ae],Pe,fe,pe,Ae)}}function _e(pe,ce,se,fe,xe){N._directMap[pe+":"+se]=ce;var ke,Ae=(pe=pe.replace(/\s+/g," ")).split(" ");Ae.length>1?de(pe,Ae,ce,se):(ke=K(pe,se),N._callbacks[ke.key]=N._callbacks[ke.key]||[],$(ke.key,ke.modifiers,{type:ke.action},fe,pe,xe),N._callbacks[ke.key][fe?"unshift":"push"]({callback:ce,modifiers:ke.modifiers,action:ke.action,seq:fe,level:xe,combo:pe}))}N._handleKey=function(pe,ce,se){var fe,xe=$(pe,ce,se),ke={},Ae=0,Pe=!1;for(fe=0;fe<xe.length;++fe)xe[fe].seq&&(Ae=Math.max(Ae,xe[fe].level));for(fe=0;fe<xe.length;++fe)if(xe[fe].seq){if(xe[fe].level!=Ae)continue;Pe=!0,ke[xe[fe].seq]=1,ne(xe[fe].callback,se,xe[fe].combo,xe[fe].seq)}else Pe||ne(xe[fe].callback,se,xe[fe].combo);var Me=se.type=="keypress"&&V;se.type!=R||W(pe)||Me||B(ke),V=Pe&&se.type=="keydown"},N._bindMultiple=function(pe,ce,se){for(var fe=0;fe<pe.length;++fe)_e(pe[fe],ce,se)},I(X,"keypress",ue),I(X,"keydown",ue),I(X,"keyup",ue)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(c,p,a){var f=a(35),s=a(37),v=a(32),_=a(39),w=a(61);c.exports=f?Object.defineProperties:function(O,j){v(O);for(var S,k=_(j),C=w(j),I=C.length,G=0;I>G;)s.f(O,S=C[G++],k[S]);return O}},function(c,p,a){var f=a(9),s=a(36),v=a(30),_=a(33),w=f.TypeError;c.exports=function(O,j){var S,k;if(j==="string"&&v(S=O.toString)&&!_(k=s(S,O))||v(S=O.valueOf)&&!_(k=s(S,O))||j!=="string"&&v(S=O.toString)&&!_(k=s(S,O)))return k;throw w("Can't convert object to primitive value")}},function(c,p,a){var f=a(49);c.exports=f("document","documentElement")},function(c,p,a){var f=a(9),s=a(30),v=a(107),_=f.WeakMap;c.exports=s(_)&&/native code/.test(v(_))},function(c,p,a){var f=a(131).IteratorPrototype,s=a(52),v=a(66),_=a(90),w=a(65),O=function(){return this};c.exports=function(j,S,k,C){var I=S+" Iterator";return j.prototype=s(f,{next:v(+!C,k)}),_(j,I,!1,!0),w[I]=O,j}},function(c,p,a){var f=a(9),s=a(30),v=f.String,_=f.TypeError;c.exports=function(w){if(typeof w=="object"||s(w))return w;throw _("Can't set "+v(w)+" as a prototype")}},function(c,p,a){var f=a(17),s=a(9),v=a(15),_=a(110),w=a(45),O=a(133),j=a(135),S=a(139),k=a(30),C=a(33),I=a(19),G=a(140),W=a(90),L=a(141);c.exports=function(K,q,X){var N=K.indexOf("Map")!==-1,F=K.indexOf("Weak")!==-1,A=N?"set":"add",z=s[K],V=z&&z.prototype,R=z,B={},$=function(ce){var se=v(V[ce]);w(V,ce,ce=="add"?function(fe){return se(this,fe===0?0:fe),this}:ce=="delete"?function(fe){return!(F&&!C(fe))&&se(this,fe===0?0:fe)}:ce=="get"?function(fe){return F&&!C(fe)?void 0:se(this,fe===0?0:fe)}:ce=="has"?function(fe){return!(F&&!C(fe))&&se(this,fe===0?0:fe)}:function(fe,xe){return se(this,fe===0?0:fe,xe),this})};if(_(K,!k(z)||!(F||V.forEach&&!I(function(){new z().entries().next()}))))R=X.getConstructor(q,K,N,A),O.enable();else if(_(K,!0)){var ne=new R,ue=ne[A](F?{}:-0,1)!=ne,de=I(function(){ne.has(1)}),_e=G(function(ce){new z(ce)}),pe=!F&&I(function(){for(var ce=new z,se=5;se--;)ce[A](se,se);return!ce.has(-0)});_e||((R=q(function(ce,se){S(ce,V);var fe=L(new z,ce,R);return se!=null&&j(se,fe[A],{that:fe,AS_ENTRIES:N}),fe})).prototype=V,V.constructor=R),(de||pe)&&($("delete"),$("has"),N&&$("get")),(pe||ue)&&$(A),F&&V.clear&&delete V.clear}return B[K]=R,f({global:!0,forced:R!=z},B),W(R,K),F||X.setStrong(R,K,N),R}},function(c,p,a){var f=a(19),s=a(33),v=a(51),_=a(167),w=Object.isExtensible,O=f(function(){});c.exports=O||_?function(j){return!!s(j)&&(!_||v(j)!="ArrayBuffer")&&(!w||w(j))}:w},function(c,p,a){var f=a(19);c.exports=f(function(){if(typeof ArrayBuffer=="function"){var s=new ArrayBuffer(8);Object.isExtensible(s)&&Object.defineProperty(s,"a",{value:8})}})},function(c,p,a){var f=a(19);c.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(c,p,a){var f=a(37).f,s=a(52),v=a(170),_=a(91),w=a(139),O=a(135),j=a(108),S=a(171),k=a(35),C=a(133).fastKey,I=a(57),G=I.set,W=I.getterFor;c.exports={getConstructor:function(L,K,q,X){var N=L(function(R,B){w(R,F),G(R,{type:K,index:s(null),first:void 0,last:void 0,size:0}),k||(R.size=0),B!=null&&O(B,R[X],{that:R,AS_ENTRIES:q})}),F=N.prototype,A=W(K),z=function(R,B,$){var ne,ue,de=A(R),_e=V(R,B);return _e?_e.value=$:(de.last=_e={index:ue=C(B,!0),key:B,value:$,previous:ne=de.last,next:void 0,removed:!1},de.first||(de.first=_e),ne&&(ne.next=_e),k?de.size++:R.size++,ue!=="F"&&(de.index[ue]=_e)),R},V=function(R,B){var $,ne=A(R),ue=C(B);if(ue!=="F")return ne.index[ue];for($=ne.first;$;$=$.next)if($.key==B)return $};return v(F,{clear:function(){for(var R=A(this),B=R.index,$=R.first;$;)$.removed=!0,$.previous&&($.previous=$.previous.next=void 0),delete B[$.index],$=$.next;R.first=R.last=void 0,k?R.size=0:this.size=0},delete:function(R){var B=A(this),$=V(this,R);if($){var ne=$.next,ue=$.previous;delete B.index[$.index],$.removed=!0,ue&&(ue.next=ne),ne&&(ne.previous=ue),B.first==$&&(B.first=ne),B.last==$&&(B.last=ue),k?B.size--:this.size--}return!!$},forEach:function(R){for(var B,$=A(this),ne=_(R,arguments.length>1?arguments[1]:void 0);B=B?B.next:$.first;)for(ne(B.value,B.key,this);B&&B.removed;)B=B.previous},has:function(R){return!!V(this,R)}}),v(F,q?{get:function(R){var B=V(this,R);return B&&B.value},set:function(R,B){return z(this,R===0?0:R,B)}}:{add:function(R){return z(this,R=R===0?0:R,R)}}),k&&f(F,"size",{get:function(){return A(this).size}}),N},setStrong:function(L,K,q){var X=K+" Iterator",N=W(K),F=W(X);j(L,K,function(A,z){G(this,{type:X,target:A,state:N(A),kind:z,last:void 0})},function(){for(var A=F(this),z=A.kind,V=A.last;V&&V.removed;)V=V.previous;return A.target&&(A.last=V=V?V.next:A.state.first)?z=="keys"?{value:V.key,done:!1}:z=="values"?{value:V.value,done:!1}:{value:[V.key,V.value],done:!1}:(A.target=void 0,{value:void 0,done:!0})},q?"entries":"values",!q,!0),S(K)}}},function(c,p,a){var f=a(45);c.exports=function(s,v,_){for(var w in v)f(s,w,v[w],_);return s}},function(c,p,a){var f=a(49),s=a(37),v=a(27),_=a(35),w=v("species");c.exports=function(O){var j=f(O),S=s.f;_&&j&&!j[w]&&S(j,w,{configurable:!0,get:function(){return this}})}},function(c,p,a){var f=a(114),s=a(92);c.exports=f?{}.toString:function(){return"[object "+s(this)+"]"}},function(c,p,a){var f=a(69).forEach,s=a(116)("forEach");c.exports=s?[].forEach:function(v){return f(this,v,arguments.length>1?arguments[1]:void 0)}},function(c,p,a){var f=a(9),s=a(93),v=a(94),_=a(33),w=a(27)("species"),O=f.Array;c.exports=function(j){var S;return s(j)&&(S=j.constructor,(v(S)&&(S===O||s(S.prototype))||_(S)&&(S=S[w])===null)&&(S=void 0)),S===void 0?O:S}},function(c,p,a){var f=a(9);c.exports=f},function(c,p,a){var f=a(9),s=a(91),v=a(36),_=a(38),w=a(177),O=a(136),j=a(94),S=a(43),k=a(58),C=a(137),I=a(113),G=f.Array;c.exports=function(W){var L=_(W),K=j(this),q=arguments.length,X=q>1?arguments[1]:void 0,N=X!==void 0;N&&(X=s(X,q>2?arguments[2]:void 0));var F,A,z,V,R,B,$=I(L),ne=0;if(!$||this==G&&O($))for(F=S(L),A=K?new this(F):G(F);F>ne;ne++)B=N?X(L[ne],ne):L[ne],k(A,ne,B);else for(R=(V=C(L,$)).next,A=K?new this:[];!(z=v(R,V)).done;ne++)B=N?w(V,X,[z.value,ne],!0):z.value,k(A,ne,B);return A.length=ne,A}},function(c,p,a){var f=a(32),s=a(138);c.exports=function(v,_,w,O){try{return O?_(f(w)[0],w[1]):_(w)}catch(j){s(v,"throw",j)}}},function(c,p,a){var f=a(32);c.exports=function(){var s=f(this),v="";return s.global&&(v+="g"),s.ignoreCase&&(v+="i"),s.multiline&&(v+="m"),s.dotAll&&(v+="s"),s.unicode&&(v+="u"),s.sticky&&(v+="y"),v}},function(c,p,a){var f=a(19),s=a(9).RegExp;c.exports=f(function(){var v=s(".","s");return!(v.dotAll&&v.exec(`
`)&&v.flags==="s")})},function(c,p,a){var f=a(19),s=a(9).RegExp;c.exports=f(function(){var v=s("(?<a>b)","g");return v.exec("b").groups.a!=="b"||"b".replace(v,"$<a>c")!=="bc"})},function(c,p,a){var f=a(17),s=a(15),v=a(60),_=a(38),w=a(43),O=a(40),j=a(19),S=a(182),k=a(116),C=a(183),I=a(184),G=a(80),W=a(185),L=[],K=s(L.sort),q=s(L.push),X=j(function(){L.sort(void 0)}),N=j(function(){L.sort(null)}),F=k("sort"),A=!j(function(){if(G)return G<70;if(!(C&&C>3)){if(I)return!0;if(W)return W<603;var z,V,R,B,$="";for(z=65;z<76;z++){switch(V=String.fromCharCode(z),z){case 66:case 69:case 70:case 72:R=3;break;case 68:case 71:R=4;break;default:R=2}for(B=0;B<47;B++)L.push({k:V+B,v:R})}for(L.sort(function(ne,ue){return ue.v-ne.v}),B=0;B<L.length;B++)V=L[B].k.charAt(0),$.charAt($.length-1)!==V&&($+=V);return $!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:X||!N||!F||!A},{sort:function(z){z!==void 0&&v(z);var V=_(this);if(A)return z===void 0?K(V):K(V,z);var R,B,$=[],ne=w(V);for(B=0;B<ne;B++)B in V&&q($,V[B]);for(S($,function(ue){return function(de,_e){return _e===void 0?-1:de===void 0?1:ue!==void 0?+ue(de,_e)||0:O(de)>O(_e)?1:-1}}(z)),R=$.length,B=0;B<R;)V[B]=$[B++];for(;B<ne;)delete V[B++];return V}})},function(c,p,a){var f=a(112),s=Math.floor,v=function(O,j){var S=O.length,k=s(S/2);return S<8?_(O,j):w(O,v(f(O,0,k),j),v(f(O,k),j),j)},_=function(O,j){for(var S,k,C=O.length,I=1;I<C;){for(k=I,S=O[I];k&&j(O[k-1],S)>0;)O[k]=O[--k];k!==I++&&(O[k]=S)}return O},w=function(O,j,S,k){for(var C=j.length,I=S.length,G=0,W=0;G<C||W<I;)O[G+W]=G<C&&W<I?k(j[G],S[W])<=0?j[G++]:S[W++]:G<C?j[G++]:S[W++];return O};c.exports=v},function(c,p,a){var f=a(81).match(/firefox\/(\d+)/i);c.exports=!!f&&+f[1]},function(c,p,a){var f=a(81);c.exports=/MSIE|Trident/.test(f)},function(c,p,a){var f=a(81).match(/AppleWebKit\/(\d+)\./);c.exports=!!f&&+f[1]},function(c,p,a){var f=a(17),s=a(69).find,v=a(76),_=!0;"find"in[]&&Array(1).find(function(){_=!1}),f({target:"Array",proto:!0,forced:_},{find:function(w){return s(this,w,arguments.length>1?arguments[1]:void 0)}}),v("find")},function(c,p,a){var f=a(9),s=a(150),v=f.TypeError;c.exports=function(_){if(s(_))throw v("The method doesn't accept regular expressions");return _}},function(c,p,a){var f=a(27)("match");c.exports=function(s){var v=/./;try{"/./"[s](v)}catch{try{return v[f]=!1,"/./"[s](v)}catch{}}return!1}},function(c,p,a){var f=a(32),s=a(152),v=a(27)("species");c.exports=function(_,w){var O,j=f(_).constructor;return j===void 0||(O=f(j)[v])==null?w:s(O)}},function(c,p,a){var f=a(17),s=a(153).trim;f({target:"String",proto:!0,forced:a(191)("trim")},{trim:function(){return s(this)}})},function(c,p,a){var f=a(88).PROPER,s=a(19),v=a(154);c.exports=function(_){return s(function(){return!!v[_]()||"\u200B\x85\u180E"[_]()!=="\u200B\x85\u180E"||f&&v[_].name!==_})}},function(c,p,a){var f=a(15);c.exports=f(1 .valueOf)},function(c,p,a){var f=a(15),s=a(38),v=Math.floor,_=f("".charAt),w=f("".replace),O=f("".slice),j=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,S=/\$([$&'`]|\d{1,2})/g;c.exports=function(k,C,I,G,W,L){var K=I+k.length,q=G.length,X=S;return W!==void 0&&(W=s(W),X=j),w(L,X,function(N,F){var A;switch(_(F,0)){case"$":return"$";case"&":return k;case"`":return O(C,0,I);case"'":return O(C,K);case"<":A=W[O(F,1,-1)];break;default:var z=+F;if(z===0)return N;if(z>q){var V=v(z/10);return V===0?N:V<=q?G[V-1]===void 0?_(F,1):G[V-1]+_(F,1):N}A=G[z-1]}return A===void 0?"":A})}},function(c,p,a){var f=a(9),s=a(15),v=a(60),_=a(33),w=a(34),O=a(117),j=f.Function,S=s([].concat),k=s([].join),C={},I=function(G,W,L){if(!w(C,W)){for(var K=[],q=0;q<W;q++)K[q]="a["+q+"]";C[W]=j("C,a","return new C("+k(K,",")+")")}return C[W](G,L)};c.exports=j.bind||function(G){var W=v(this),L=W.prototype,K=O(arguments,1),q=function(){var X=S(K,O(arguments));return this instanceof q?I(W,X.length,X):W.apply(G,X)};return _(L)&&(q.prototype=L),q}},function(c,p,a){var f=a(34);c.exports=function(s){return s!==void 0&&(f(s,"value")||f(s,"writable"))}},function(c,p,a){var f=a(35),s=a(15),v=a(36),_=a(19),w=a(61),O=a(109),j=a(87),S=a(38),k=a(74),C=Object.assign,I=Object.defineProperty,G=s([].concat);c.exports=!C||_(function(){if(f&&C({b:1},C(I({},"a",{enumerable:!0,get:function(){I(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var W={},L={},K=Symbol();return W[K]=7,"abcdefghijklmnopqrst".split("").forEach(function(q){L[q]=q}),C({},W)[K]!=7||w(C({},L)).join("")!="abcdefghijklmnopqrst"})?function(W,L){for(var K=S(W),q=arguments.length,X=1,N=O.f,F=j.f;q>X;)for(var A,z=k(arguments[X++]),V=N?G(w(z),N(z)):w(z),R=V.length,B=0;R>B;)A=V[B++],f&&!v(F,z,A)||(K[A]=z[A]);return K}:C},function(c,p,a){var f=a(15),s=a(44),v=a(40),_=/"/g,w=f("".replace);c.exports=function(O,j,S,k){var C=v(s(O)),I="<"+j;return S!==""&&(I+=" "+S+'="'+w(v(k),_,"&quot;")+'"'),I+">"+C+"</"+j+">"}},function(c,p,a){var f=a(19);c.exports=function(s){return f(function(){var v=""[s]('"');return v!==v.toLowerCase()||v.split('"').length>3})}},function(c,p,a){var f=a(17),s=Math.hypot,v=Math.abs,_=Math.sqrt;f({target:"Math",stat:!0,forced:!!s&&s(1/0,NaN)!==1/0},{hypot:function(w,O){for(var j,S,k=0,C=0,I=arguments.length,G=0;C<I;)G<(j=v(arguments[C++]))?(k=k*(S=G/j)*S+1,G=j):k+=j>0?(S=j/G)*S:j;return G===1/0?1/0:G*_(k)}})},function(c,p,a){var f=a(35),s=a(15),v=a(61),_=a(39),w=s(a(87).f),O=s([].push),j=function(S){return function(k){for(var C,I=_(k),G=v(I),W=G.length,L=0,K=[];W>L;)C=G[L++],f&&!w(I,C)||O(K,S?[C,I[C]]:I[C]);return K}};c.exports={entries:j(!0),values:j(!1)}},function(c,p,a){var f=a(38),s=a(62),v=a(43);c.exports=function(_){for(var w=f(this),O=v(w),j=arguments.length,S=s(j>1?arguments[1]:void 0,O),k=j>2?arguments[2]:void 0,C=k===void 0?O:s(k,O);C>S;)w[S++]=_;return w}},function(c,p,a){a.r(p),a.d(p,"observer",function(){return zn}),a.d(p,"LogicFlow",function(){return Vc}),a.d(p,"h",function(){return ee.g}),a.d(p,"LogicFlowUtil",function(){return f}),a.d(p,"BaseNode",function(){return br}),a.d(p,"RectNode",function(){return ac}),a.d(p,"CircleNode",function(){return cc}),a.d(p,"PolygonNode",function(){return lc}),a.d(p,"DiamondNode",function(){return pc}),a.d(p,"EllipseNode",function(){return hc}),a.d(p,"TextNode",function(){return vc}),a.d(p,"HtmlNode",function(){return bc}),a.d(p,"BaseEdge",function(){return di}),a.d(p,"LineEdge",function(){return kc}),a.d(p,"PolylineEdge",function(){return Dc}),a.d(p,"BezierEdge",function(){return Cc}),a.d(p,"Arrow",function(){return Uh}),a.d(p,"BaseEdgeModel",function(){return Ou}),a.d(p,"BezierEdgeModel",function(){return Vu}),a.d(p,"LineEdgeModel",function(){return xu}),a.d(p,"PolylineEdgeModel",function(){return ju}),a.d(p,"BaseNodeModel",function(){return hr}),a.d(p,"CircleNodeModel",function(){return Gu}),a.d(p,"DiamondNodeModel",function(){return Wu}),a.d(p,"EllipseNodeModel",function(){return $u}),a.d(p,"PolygonNodeModel",function(){return qu}),a.d(p,"RectNodeModel",function(){return Zu}),a.d(p,"TextNodeModel",function(){return Ju}),a.d(p,"HtmlNodeModel",function(){return ec}),a.d(p,"EditConfigModel",function(){return Ts}),a.d(p,"GraphModel",function(){return Of}),a.d(p,"SnaplineModel",function(){return $d}),a.d(p,"Keyboard",function(){return Cy}),a.d(p,"get",function(){return vp}),a.d(p,"defaults",function(){return bp});var f={};a.r(f),a.d(f,"createUuid",function(){return mo}),a.d(f,"refreshGraphId",function(){return Zg}),a.d(f,"createDrag",function(){return da}),a.d(f,"StepDrag",function(){return wo});var s=a(0),v=a(10);if(!v.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!s.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var _=a(42),w=Object(_.b)("observerBatching");function O(e){e()}var j=!1;function S(){return j}function k(e){return Object(s.t)(e)}var C,I=1e4,G=new Set;function W(){C===void 0&&(C=setTimeout(L,1e4))}function L(){C=void 0;var e=Date.now();G.forEach(function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,G.delete(t))}),G.size>0&&W()}var K=!1,q=[],X={};function N(e){return"observer"+e}function F(e,t,n){t===void 0&&(t="observed"),n===void 0&&(n=X),S();var r,i=function(m){return function(){K?q.push(m):m()}}((n.useForceUpdate||_.d)()),o=v.d.useRef(null);if(!o.current){var u=new s.c(N(t),function(){l.mounted?i():(u.dispose(),o.current=null)}),l=function(m){return{cleanAt:Date.now()+I,reaction:m}}(u);o.current=l,r=o,G.add(r),W()}var d=o.current.reaction;return v.d.useDebugValue(d,k),v.d.useEffect(function(){var m;return m=o,G.delete(m),o.current?o.current.mounted=!0:(o.current={reaction:new s.c(N(t),function(){i()}),cleanAt:1/0},i()),function(){o.current.reaction.dispose(),o.current=null}},[]),function(m){K=!0,q=[];try{var E=m();K=!1;var P=q.length>0?q:void 0;return v.d.useLayoutEffect(function(){P&&P.forEach(function(D){return D()})},[P]),E}finally{K=!1}}(function(){var m,E;if(d.track(function(){try{m=e()}catch(P){E=P}}),E)throw E;return m})}var A=function(){return(A=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function z(e,t){var n,r,i,o=A({forwardRef:!1},t),u=e.displayName||e.name,l=function(d,m){return F(function(){return e(d,m)},u)};return l.displayName=u,n=o.forwardRef?Object(v.f)(Object(v.e)(l)):Object(v.f)(l),r=e,i=n,Object.keys(r).forEach(function(d){V[d]||Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(r,d))}),n.displayName=u,n}var V={$$typeof:!0,render:!0,compare:!0,type:!0};function R(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:F(r)}function B(e,t,n,r,i){var o=t==="children"?"render":"children",u=typeof e[t]=="function",l=typeof e[o]=="function";return u&&l?new Error("MobX Observer: Do not use children and render in the same time in`"+n):u||l?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}R.propTypes={children:B,render:B},R.displayName="Observer";var $;($=v.g)||($=O),Object(s.n)({reactionScheduler:$}),Object(_.a)()[w]=!0;var ne=0,ue={};function de(e){return ue[e]||(ue[e]=function(t){if(typeof Symbol=="function")return Symbol(t);var n="__$mobx-react "+t+" ("+ne+")";return ne++,n}(e)),ue[e]}function _e(e,t){if(pe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(t,n[i])||!pe(e[n[i]],t[n[i]]))return!1;return!0}function pe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function ce(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var se=de("patchMixins"),fe=de("patchedDefinition");function xe(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.locks++;try{var u;return e!=null&&(u=e.apply(this,i)),u}finally{t.locks--,t.locks===0&&t.methods.forEach(function(l){l.apply(n,i)})}}function ke(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];xe.call.apply(xe,[this,e,t].concat(r))}}function Ae(e,t,n){var r=function(l,d){var m=l[se]=l[se]||{},E=m[d]=m[d]||{};return E.locks=E.locks||0,E.methods=E.methods||[],E}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[fe]){var o=e[t],u=function l(d,m,E,P,D){var H,Z=ke(D,P);return(H={})[fe]=!0,H.get=function(){return Z},H.set=function(re){if(this===d)Z=ke(re,P);else{var le=l(this,m,E,P,re);Object.defineProperty(this,m,le)}},H.configurable=!0,H.enumerable=E,H}(e,t,i?i.enumerable:void 0,r,o);Object.defineProperty(e,t,u)}}var Pe=s.a||"$mobx",Me=de("isMobXReactObserver"),qe=de("isUnmounted"),Q=de("skipRender"),J=de("isForcingUpdate");function ie(e){var t=e.prototype;if(e[Me]){var n=ge(t);console.warn("The provided component class ("+n+`) 
                has already been declared as an observer component.`)}else e[Me]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==v.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==we)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=we;We(t,"props"),We(t,"state");var r=t.render;return t.render=function(){return Te.call(this,r)},Ae(t,"componentWillUnmount",function(){var i;if((i=this.render[Pe])===null||i===void 0||i.dispose(),this[qe]=!0,!this.render[Pe]){var o=ge(this);console.warn("The reactive render of an observer class component ("+o+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ge(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function Te(e){var t=this;ce(this,Q,!1),ce(this,J,!1);var n=ge(this),r=e.bind(this),i=!1,o=new s.c(n+".render()",function(){if(!i&&(i=!0,t[qe]!==!0)){var l=!0;try{ce(t,J,!0),t[Q]||v.a.prototype.forceUpdate.call(t),l=!1}finally{ce(t,J,!1),l&&o.dispose()}}});function u(){i=!1;var l=void 0,d=void 0;if(o.track(function(){try{d=Object(s.d)(!1,r)}catch(m){l=m}}),l)throw l;return d}return o.reactComponent=this,u[Pe]=o,this.render=u,u.call(this)}function we(e,t){return this.state!==t||!_e(this.props,e)}function We(e,t){var n=de("reactProp_"+t+"_valueHolder"),r=de("reactProp_"+t+"_atomHolder");function i(){return this[r]||ce(this,r,Object(s.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var o=!1;return s.f&&s.e&&(o=Object(s.f)(!0)),i.call(this).reportObserved(),s.f&&s.e&&Object(s.e)(o),this[n]},set:function(o){this[J]||_e(this[n],o)?ce(this,n,o):(ce(this,n,o),ce(this,Q,!0),i.call(this).reportChanged(),ce(this,Q,!1))}})}var Ue=typeof Symbol=="function"&&Symbol.for,Ze=Ue?Symbol.for("react.forward_ref"):typeof v.e=="function"&&Object(v.e)(function(e){return null}).$$typeof,Ge=Ue?Symbol.for("react.memo"):typeof v.f=="function"&&Object(v.f)(function(e){return null}).$$typeof;function me(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),Ge&&e.$$typeof===Ge)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Ze&&e.$$typeof===Ze){var t=e.render;if(typeof t!="function")throw new Error("render property of ForwardRef was not a function");return Object(v.e)(function(){var n=arguments;return Object(v.c)(R,null,function(){return t.apply(void 0,n)})})}return typeof e!="function"||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(v.a,e)?ie(e):z(e)}if(!v.a)throw new Error("mobx-react requires React to be available");if(!s.C)throw new Error("mobx-react requires mobx to be available");var ee=a(1);a(3),a(68),a(2),a(6),a(5),a(11),a(41),a(24),a(20),a(4),a(22),a(21),a(23),a(7),a(8),a(16),a(25),a(18),a(28),a(181),a(186),a(97),a(148),a(149);var Fe=function(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},ze=function(){this.__data__=[],this.size=0},Ye=function(e,t){return e===t||e!=e&&t!=t},Mt=function(e,t){for(var n=e.length;n--;)if(Ye(e[n][0],t))return n;return-1},ot=Array.prototype.splice,st=function(e){var t=this.__data__,n=Mt(t,e);return!(n<0)&&(n==t.length-1?t.pop():ot.call(t,n,1),--this.size,!0)},dt=function(e){var t=this.__data__,n=Mt(t,e);return n<0?void 0:t[n][1]},Ut=function(e){return Mt(this.__data__,e)>-1},Y=function(e,t){var n=this.__data__,r=Mt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function te(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}te.prototype.clear=ze,te.prototype.delete=st,te.prototype.get=dt,te.prototype.has=Ut,te.prototype.set=Y;var ve=te,Ee=function(){this.__data__=new ve,this.size=0},Ke=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ve=function(e){return this.__data__.get(e)},Qe=function(e){return this.__data__.has(e)},ht=a(29),Tt=ht.a.Symbol,Ht=Object.prototype,or=Ht.hasOwnProperty,Hn=Ht.toString,bt=Tt?Tt.toStringTag:void 0,Re=function(e){var t=or.call(e,bt),n=e[bt];try{e[bt]=void 0;var r=!0}catch{}var i=Hn.call(e);return r&&(t?e[bt]=n:delete e[bt]),i},He=Object.prototype.toString,Je=function(e){return He.call(e)},lt=Tt?Tt.toStringTag:void 0,jt=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":lt&&lt in Object(e)?Re(e):Je(e)},Nt=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},Jt,Co=function(e){if(!Nt(e))return!1;var t=jt(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},Xn=ht.a["__core-js_shared__"],ir=(Jt=/[^.]+$/.exec(Xn&&Xn.keys&&Xn.keys.IE_PROTO||""))?"Symbol(src)_1."+Jt:"",uo=function(e){return!!ir&&ir in e},Ua=Function.prototype.toString,Pn=function(e){if(e!=null){try{return Ua.call(e)}catch{}try{return e+""}catch{}}return""},co=/^\[object .+?Constructor\]$/,Pi=Function.prototype,Ie=Object.prototype,Ga=Pi.toString,ki=Ie.hasOwnProperty,Ai=RegExp("^"+Ga.call(ki).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sn=function(e){return!(!Nt(e)||uo(e))&&(Co(e)?Ai:co).test(Pn(e))},ln=function(e,t){return e==null?void 0:e[t]},Vn=function(e,t){var n=ln(e,t);return sn(n)?n:void 0},wr=Vn(ht.a,"Map"),kn=Vn(Object,"create"),Ro=function(){this.__data__=kn?kn(null):{},this.size=0},Ti=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ya=Object.prototype.hasOwnProperty,so=function(e){var t=this.__data__;if(kn){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return Ya.call(t,e)?t[e]:void 0},Wa=Object.prototype.hasOwnProperty,Di=function(e){var t=this.__data__;return kn?t[e]!==void 0:Wa.call(t,e)},$a=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=kn&&t===void 0?"__lodash_hash_undefined__":t,this};function ar(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ar.prototype.clear=Ro,ar.prototype.delete=Ti,ar.prototype.get=so,ar.prototype.has=Di,ar.prototype.set=$a;var Mi=ar,Un=function(){this.size=0,this.__data__={hash:new Mi,map:new(wr||ve),string:new Mi}},Ka=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},lo=function(e,t){var n=e.__data__;return Ka(t)?n[typeof t=="string"?"string":"hash"]:n.map},Io=function(e){var t=lo(this,e).delete(e);return this.size-=t?1:0,t},Lo=function(e){return lo(this,e).get(e)},qa=function(e){return lo(this,e).has(e)},Ni=function(e,t){var n=lo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function xr(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}xr.prototype.clear=Un,xr.prototype.delete=Io,xr.prototype.get=Lo,xr.prototype.has=qa,xr.prototype.set=Ni;var Er=xr,Ci=function(e,t){var n=this.__data__;if(n instanceof ve){var r=n.__data__;if(!wr||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Er(r)}return n.set(e,t),this.size=n.size,this};function jr(e){var t=this.__data__=new ve(e);this.size=t.size}jr.prototype.clear=Ee,jr.prototype.delete=Ke,jr.prototype.get=Ve,jr.prototype.has=Qe,jr.prototype.set=Ci;var Gn=jr,Ri=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ii=function(e){return this.__data__.has(e)};function Br(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Er;++t<n;)this.add(e[t])}Br.prototype.add=Br.prototype.push=Ri,Br.prototype.has=Ii;var Li=Br,Za=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},zi=function(e,t){return e.has(t)},Bi=function(e,t,n,r,i,o){var u=1&n,l=e.length,d=t.length;if(l!=d&&!(u&&d>l))return!1;var m=o.get(e),E=o.get(t);if(m&&E)return m==t&&E==e;var P=-1,D=!0,H=2&n?new Li:void 0;for(o.set(e,t),o.set(t,e);++P<l;){var Z=e[P],re=t[P];if(r)var le=u?r(re,Z,P,t,e,o):r(Z,re,P,e,t,o);if(le!==void 0){if(le)continue;D=!1;break}if(H){if(!Za(t,function(ae,ye){if(!zi(H,ye)&&(Z===ae||i(Z,ae,n,r,o)))return H.push(ye)})){D=!1;break}}else if(Z!==re&&!i(Z,re,n,r,o)){D=!1;break}}return o.delete(e),o.delete(t),D},Fr=ht.a.Uint8Array,Fi=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n},Ja=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},Hi=Tt?Tt.prototype:void 0,zo=Hi?Hi.valueOf:void 0,Hr=function(e,t,n,r,i,o,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Fr(e),new Fr(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ye(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Fi;case"[object Set]":var d=1&r;if(l||(l=Ja),e.size!=t.size&&!d)return!1;var m=u.get(e);if(m)return m==t;r|=2,u.set(e,t);var E=Bi(l(e),l(t),r,i,o,u);return u.delete(e),E;case"[object Symbol]":if(zo)return zo.call(e)==zo.call(t)}return!1},Yn=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Gt=Array.isArray,Xi=function(e,t,n){var r=t(e);return Gt(e)?r:Yn(r,n(e))},Qa=function(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var u=e[n];t(u,n,e)&&(o[i++]=u)}return o},Vi=function(){return[]},Sr=Object.prototype.propertyIsEnumerable,Ui=Object.getOwnPropertySymbols,Bo=Ui?function(e){return e==null?[]:(e=Object(e),Qa(Ui(e),function(t){return Sr.call(e,t)}))}:Vi,vn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},gn=function(e){return e!=null&&typeof e=="object"},Fo=function(e){return gn(e)&&jt(e)=="[object Arguments]"},Gi=Object.prototype,fo=Gi.hasOwnProperty,po=Gi.propertyIsEnumerable,Xr=Fo(function(){return arguments}())?Fo:function(e){return gn(e)&&fo.call(e,"callee")&&!po.call(e,"callee")},Vr=a(47),bn=/^(?:0|[1-9]\d*)$/,Wn=function(e,t){var n=typeof e;return!!(t=t==null?9007199254740991:t)&&(n=="number"||n!="symbol"&&bn.test(e))&&e>-1&&e%1==0&&e<t},on=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},ut={};ut["[object Float32Array]"]=ut["[object Float64Array]"]=ut["[object Int8Array]"]=ut["[object Int16Array]"]=ut["[object Int32Array]"]=ut["[object Uint8Array]"]=ut["[object Uint8ClampedArray]"]=ut["[object Uint16Array]"]=ut["[object Uint32Array]"]=!0,ut["[object Arguments]"]=ut["[object Array]"]=ut["[object ArrayBuffer]"]=ut["[object Boolean]"]=ut["[object DataView]"]=ut["[object Date]"]=ut["[object Error]"]=ut["[object Function]"]=ut["[object Map]"]=ut["[object Number]"]=ut["[object Object]"]=ut["[object RegExp]"]=ut["[object Set]"]=ut["[object String]"]=ut["[object WeakMap]"]=!1;var Ur=function(e){return gn(e)&&on(e.length)&&!!ut[jt(e)]},Qt=function(e){return function(t){return e(t)}},Pr=a(48),Yi=Pr.a&&Pr.a.isTypedArray,ho=Yi?Qt(Yi):Ur,An=Object.prototype.hasOwnProperty,Ho=function(e,t){var n=Gt(e),r=!n&&Xr(e),i=!n&&!r&&Object(Vr.a)(e),o=!n&&!r&&!i&&ho(e),u=n||r||i||o,l=u?vn(e.length,String):[],d=l.length;for(var m in e)!t&&!An.call(e,m)||u&&(m=="length"||i&&(m=="offset"||m=="parent")||o&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||Wn(m,d))||l.push(m);return l},eu=Object.prototype,an=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||eu)},Xo=function(e,t){return function(n){return e(t(n))}},tu=Xo(Object.keys,Object),Vo=Object.prototype.hasOwnProperty,en=function(e){if(!an(e))return tu(e);var t=[];for(var n in Object(e))Vo.call(e,n)&&n!="constructor"&&t.push(n);return t},ur=function(e){return e!=null&&on(e.length)&&!Co(e)},cr=function(e){return ur(e)?Ho(e):en(e)},Kt=function(e){return Xi(e,cr,Bo)},Wi=Object.prototype.hasOwnProperty,Uo=function(e,t,n,r,i,o){var u=1&n,l=Kt(e),d=l.length;if(d!=Kt(t).length&&!u)return!1;for(var m=d;m--;){var E=l[m];if(!(u?E in t:Wi.call(t,E)))return!1}var P=o.get(e),D=o.get(t);if(P&&D)return P==t&&D==e;var H=!0;o.set(e,t),o.set(t,e);for(var Z=u;++m<d;){var re=e[E=l[m]],le=t[E];if(r)var ae=u?r(le,re,E,t,e,o):r(re,le,E,e,t,o);if(!(ae===void 0?re===le||i(re,le,n,r,o):ae)){H=!1;break}Z||(Z=E=="constructor")}if(H&&!Z){var ye=e.constructor,be=t.constructor;ye==be||!("constructor"in e)||!("constructor"in t)||typeof ye=="function"&&ye instanceof ye&&typeof be=="function"&&be instanceof be||(H=!1)}return o.delete(e),o.delete(t),H},yo=Vn(ht.a,"DataView"),vo=Vn(ht.a,"Promise"),go=Vn(ht.a,"Set"),Go=Vn(ht.a,"WeakMap"),fn=Pn(yo),mn=Pn(wr),Gr=Pn(vo),$i=Pn(go),Yo=Pn(Go),$n=jt;(yo&&$n(new yo(new ArrayBuffer(1)))!="[object DataView]"||wr&&$n(new wr)!="[object Map]"||vo&&$n(vo.resolve())!="[object Promise]"||go&&$n(new go)!="[object Set]"||Go&&$n(new Go)!="[object WeakMap]")&&($n=function(e){var t=jt(e),n=t=="[object Object]"?e.constructor:void 0,r=n?Pn(n):"";if(r)switch(r){case fn:return"[object DataView]";case mn:return"[object Map]";case Gr:return"[object Promise]";case $i:return"[object Set]";case Yo:return"[object WeakMap]"}return t});var Yr=$n,Wr=Object.prototype.hasOwnProperty,nu=function(e,t,n,r,i,o){var u=Gt(e),l=Gt(t),d=u?"[object Array]":Yr(e),m=l?"[object Array]":Yr(t),E=(d=d=="[object Arguments]"?"[object Object]":d)=="[object Object]",P=(m=m=="[object Arguments]"?"[object Object]":m)=="[object Object]",D=d==m;if(D&&Object(Vr.a)(e)){if(!Object(Vr.a)(t))return!1;u=!0,E=!1}if(D&&!E)return o||(o=new Gn),u||ho(e)?Bi(e,t,n,r,i,o):Hr(e,t,d,n,r,i,o);if(!(1&n)){var H=E&&Wr.call(e,"__wrapped__"),Z=P&&Wr.call(t,"__wrapped__");if(H||Z){var re=H?e.value():e,le=Z?t.value():t;return o||(o=new Gn),i(re,le,n,r,o)}}return!!D&&(o||(o=new Gn),Uo(e,t,n,r,i,o))},h=function e(t,n,r,i,o){return t===n||(t==null||n==null||!gn(t)&&!gn(n)?t!=t&&n!=n:nu(t,n,r,i,e,o))},b=function(e,t,n,r){var i=n.length,o=i,u=!r;if(e==null)return!o;for(e=Object(e);i--;){var l=n[i];if(u&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++i<o;){var d=(l=n[i])[0],m=e[d],E=l[1];if(u&&l[2]){if(m===void 0&&!(d in e))return!1}else{var P=new Gn;if(r)var D=r(m,E,d,e,t,P);if(!(D===void 0?h(E,m,3,r,P):D))return!1}}return!0},x=function(e){return e==e&&!Nt(e)},T=function(e){for(var t=cr(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,x(i)]}return t},M=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},U=function(e){var t=T(e);return t.length==1&&t[0][2]?M(t[0][0],t[0][1]):function(n){return n===e||b(n,e,t)}},oe=function(e){return typeof e=="symbol"||gn(e)&&jt(e)=="[object Symbol]"},Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ne=/^\w*$/,rt=function(e,t){if(Gt(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!oe(e))||Ne.test(e)||!Oe.test(e)||t!=null&&e in Object(t)};function nt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=e.apply(this,r);return n.cache=o.set(i,u)||o,u};return n.cache=new(nt.Cache||Er),n}nt.Cache=Er;var mt=nt,yt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ft=/\\(\\)?/g,St=function(e){var t=mt(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yt,function(n,r,i,o){t.push(i?o.replace(ft,"$1"):r||n)}),t}),_t=Tt?Tt.prototype:void 0,vt=_t?_t.toString:void 0,Tn=function e(t){if(typeof t=="string")return t;if(Gt(t))return Fe(t,e)+"";if(oe(t))return vt?vt.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},ru=function(e){return e==null?"":Tn(e)},$r=function(e,t){return Gt(e)?e:rt(e,t)?[e]:St(ru(e))},kr=function(e){if(typeof e=="string"||oe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Kr=function(e,t){for(var n=0,r=(t=$r(t,e)).length;e!=null&&n<r;)e=e[kr(t[n++])];return n&&n==r?e:void 0},Wo=function(e,t,n){var r=e==null?void 0:Kr(e,t);return r===void 0?n:r},tn=function(e,t){return e!=null&&t in Object(e)},Ki=function(e,t,n){for(var r=-1,i=(t=$r(t,e)).length,o=!1;++r<i;){var u=kr(t[r]);if(!(o=e!=null&&n(e,u)))break;e=e[u]}return o||++r!=i?o:!!(i=e==null?0:e.length)&&on(i)&&Wn(u,i)&&(Gt(e)||Xr(e))},$o=function(e,t){return e!=null&&Ki(e,t,tn)},Hv=function(e,t){return rt(e)&&x(t)?M(kr(e),t):function(n){var r=Wo(n,e);return r===void 0&&r===t?$o(n,e):h(t,r,3)}},ou=function(e){return e},Xv=function(e){return function(t){return t==null?void 0:t[e]}},Vv=function(e){return function(t){return Kr(t,e)}},Uv=function(e){return rt(e)?Xv(kr(e)):Vv(e)},Gv=function(e){return typeof e=="function"?e:e==null?ou:typeof e=="object"?Gt(e)?Hv(e[0],e[1]):U(e):Uv(e)},as=function(e){return function(t,n,r){for(var i=-1,o=Object(t),u=r(t),l=u.length;l--;){var d=u[e?l:++i];if(n(o[d],d,o)===!1)break}return t}}(),Yv=function(e,t){return function(n,r){if(n==null)return n;if(!ur(n))return e(n,r);for(var i=n.length,o=t?i:-1,u=Object(n);(t?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}(function(e,t){return e&&as(e,t,cr)}),Wv=function(e,t){var n=-1,r=ur(e)?Array(e.length):[];return Yv(e,function(i,o,u){r[++n]=t(i,o,u)}),r},qi=function(e,t){return(Gt(e)?Fe:Wv)(e,Gv(t))},Zi=function(){try{var e=Vn(Object,"defineProperty");return e({},"",{}),e}catch{}}(),iu=function(e,t,n){t=="__proto__"&&Zi?Zi(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},$v=Object.prototype.hasOwnProperty,Ji=function(e,t,n){var r=e[t];$v.call(e,t)&&Ye(r,n)&&(n!==void 0||t in e)||iu(e,t,n)},bo=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var l=t[o],d=r?r(n[l],e[l],l,n,e):void 0;d===void 0&&(d=e[l]),i?iu(n,l,d):Ji(n,l,d)}return n},Kv=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},us=Math.max,cs=function(e,t,n){return t=us(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=us(r.length-t,0),u=Array(o);++i<o;)u[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(u),Kv(e,this,l)}},qv=function(e){return function(){return e}},Zv=Zi?function(e,t){return Zi(e,"toString",{configurable:!0,enumerable:!1,value:qv(t),writable:!0})}:ou,Jv=Date.now,ss=function(e){var t=0,n=0;return function(){var r=Jv(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Zv),Qv=function(e,t){return ss(cs(e,t,ou),e+"")},eg=function(e,t,n){if(!Nt(n))return!1;var r=typeof t;return!!(r=="number"?ur(n)&&Wn(t,n.length):r=="string"&&t in n)&&Ye(n[t],e)},ls=function(e){return Qv(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,u&&eg(n[0],n[1],u)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var l=n[r];l&&e(t,l,r,o)}return t})},tg=Object.prototype.hasOwnProperty,nn=ls(function(e,t){if(an(t)||ur(t))bo(t,cr(t),e);else for(var n in t)tg.call(t,n)&&Ji(e,n,t[n])}),ng=function(e,t,n,r){if(!Nt(e))return e;for(var i=-1,o=(t=$r(t,e)).length,u=o-1,l=e;l!=null&&++i<o;){var d=kr(t[i]),m=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=u){var E=l[d];(m=r?r(E,d,l):void 0)===void 0&&(m=Nt(E)?E:Wn(t[i+1])?[]:{})}Ji(l,d,m),l=l[d]}return e},rg=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var u=t[r],l=Kr(e,u);n(l,u)&&ng(o,$r(u,e),l)}return o},og=function(e,t){return rg(e,t,function(n,r){return $o(e,r)})},fs=Tt?Tt.isConcatSpreadable:void 0,ig=function(e){return Gt(e)||Xr(e)||!!(fs&&e&&e[fs])},ag=function e(t,n,r,i,o){var u=-1,l=t.length;for(r||(r=ig),o||(o=[]);++u<l;){var d=t[u];n>0&&r(d)?n>1?e(d,n-1,r,i,o):Yn(o,d):i||(o[o.length]=d)}return o},ug=function(e){return(e==null?0:e.length)?ag(e,1):[]},Lt,ps,ds,hs,ys,vs,gs,bs,ms,_s,Os,ws,xs,Es,js,Ss,Ps,Ko=function(e){return ss(cs(e,void 0,ug),e+"")}(function(e,t){return e==null?{}:og(e,t)});function qt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function cg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ks(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yt(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Ot,As,ct,Xt,et,At,sg={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},au=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],Ts=(ps=Yt((Lt=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),qt(this,"isSilentMode",ps,this),qt(this,"stopZoomGraph",ds,this),qt(this,"stopScrollGraph",hs,this),qt(this,"stopMoveGraph",ys,this),qt(this,"adjustEdge",vs,this),qt(this,"adjustEdgeMiddle",gs,this),qt(this,"adjustEdgeStartAndEnd",bs,this),qt(this,"adjustNodePosition",ms,this),qt(this,"hideAnchors",_s,this),qt(this,"hoverOutline",Os,this),qt(this,"nodeSelectedOutline",ws,this),qt(this,"edgeSelectedOutline",xs,this),qt(this,"nodeTextEdit",Es,this),qt(this,"edgeTextEdit",js,this),qt(this,"nodeTextDraggable",Ss,this),qt(this,"edgeTextDraggable",Ps,this),ks(this,"multipleSelectKey",""),ks(this,"defaultConfig",{}),nn(this,this.getConfigDetail(r))}var t,n;return t=e,(n=[{key:"updateEditConfig",value:function(r){var i=this.getConfigDetail(r);nn(this,i)}},{key:"getConfigDetail",value:function(r){var i=r.isSilentMode,o=r.textEdit,u={};if(i===!1&&nn(u,this.defaultConfig),i===!0){var l=Ko(sg,au);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},nn(u,l)}o===!1&&nn(u,{nodeTextEdit:!1,edgeTextEdit:!1});var d=Ko(r,au);return nn(u,d)}},{key:"getConfig",value:function(){return Ko(this,au)}}])&&cg(t.prototype,n),e}()).prototype,"isSilentMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ds=Yt(Lt.prototype,"stopZoomGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hs=Yt(Lt.prototype,"stopScrollGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ys=Yt(Lt.prototype,"stopMoveGraph",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vs=Yt(Lt.prototype,"adjustEdge",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gs=Yt(Lt.prototype,"adjustEdgeMiddle",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bs=Yt(Lt.prototype,"adjustEdgeStartAndEnd",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ms=Yt(Lt.prototype,"adjustNodePosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_s=Yt(Lt.prototype,"hideAnchors",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Os=Yt(Lt.prototype,"hoverOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ws=Yt(Lt.prototype,"nodeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),xs=Yt(Lt.prototype,"edgeSelectedOutline",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Es=Yt(Lt.prototype,"nodeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),js=Yt(Lt.prototype,"edgeTextEdit",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ss=Yt(Lt.prototype,"nodeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ps=Yt(Lt.prototype,"edgeTextDraggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yt(Lt.prototype,"updateEditConfig",[s.k],Object.getOwnPropertyDescriptor(Lt.prototype,"updateEditConfig"),Lt.prototype),Lt);a(98),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(Ot||(Ot={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(As||(As={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(ct||(ct={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(Xt||(Xt={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DROP="anchor:drop",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(et||(et={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(At||(At={}));var pn,zt,Ds,Ms,Ns,Cs,Rs,Is,Ls;function Qi(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return zs(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return zs(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zs(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qr(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function lg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dn(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(pn||(pn={}));var fg=(Ds=Dn((zt=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),uu(this,"MINI_SCALE_SIZE",.2),uu(this,"MAX_SCALE_SIZE",16),qr(this,"SCALE_X",Ds,this),qr(this,"SKEW_Y",Ms,this),qr(this,"SKEW_X",Ns,this),qr(this,"SCALE_Y",Cs,this),qr(this,"TRANSLATE_X",Rs,this),qr(this,"TRANSLATE_Y",Is,this),qr(this,"ZOOM_SIZE",Ls,this),uu(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var i=Qi(r,2),o=i[0],u=i[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(u-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var i=Qi(r,2),o=i[0],u=i[1];return[o*this.SCALE_X+this.TRANSLATE_X,u*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,i,o){var u=Qi(r,2),l=u[0],d=u[1];return[l+i/this.SCALE_X,d+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,i){return[r/this.SCALE_X,i/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,u=this.SCALE_Y;return r===!0?(o+=this.ZOOM_SIZE,u+=this.ZOOM_SIZE):r===!1?(o-=this.ZOOM_SIZE,u-=this.ZOOM_SIZE):typeof r=="number"&&(o=r,u=r),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(i&&(this.TRANSLATE_X-=(o-this.SCALE_X)*i[0],this.TRANSLATE_Y-=(u-this.SCALE_Y)*i[1]),this.SCALE_X=o,this.SCALE_Y=u,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(et.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,i){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=i,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,i,o,u){var l=Qi(this.CanvasPointToHtmlPoint([r,i]),2),d=o/2-l[0],m=u/2-l[1];this.TRANSLATE_X+=d,this.TRANSLATE_Y+=m,this.emitGraphTransform("focusOn")}}])&&lg(t.prototype,n),e}()).prototype,"SCALE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ms=Dn(zt.prototype,"SKEW_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ns=Dn(zt.prototype,"SKEW_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Cs=Dn(zt.prototype,"SCALE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Rs=Dn(zt.prototype,"TRANSLATE_X",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Is=Dn(zt.prototype,"TRANSLATE_Y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ls=Dn(zt.prototype,"ZOOM_SIZE",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),Dn(zt.prototype,"zoom",[s.k],Object.getOwnPropertyDescriptor(zt.prototype,"zoom"),zt.prototype),Dn(zt.prototype,"resetZoom",[s.k],Object.getOwnPropertyDescriptor(zt.prototype,"resetZoom"),zt.prototype),Dn(zt.prototype,"translate",[s.k],Object.getOwnPropertyDescriptor(zt.prototype,"translate"),zt.prototype),Dn(zt.prototype,"focusOn",[s.k],Object.getOwnPropertyDescriptor(zt.prototype,"focusOn"),zt.prototype),zt),pg=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},dg=function(e,t){return e&&bo(t,cr(t),e)},hg=function(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t},yg=Object.prototype.hasOwnProperty,vg=function(e){if(!Nt(e))return hg(e);var t=an(e),n=[];for(var r in e)(r!="constructor"||!t&&yg.call(e,r))&&n.push(r);return n},qo=function(e){return ur(e)?Ho(e,!0):vg(e)},gg=function(e,t){return e&&bo(t,qo(t),e)},Bs=a(101),Fs=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},bg=function(e,t){return bo(e,Bo(e),t)},cu=Xo(Object.getPrototypeOf,Object),Hs=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Yn(t,Bo(e)),e=cu(e);return t}:Vi,mg=function(e,t){return bo(e,Hs(e),t)},_g=function(e){return Xi(e,qo,Hs)},Og=Object.prototype.hasOwnProperty,wg=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Og.call(e,"index")&&(n.index=e.index,n.input=e.input),n},su=function(e){var t=new e.constructor(e.byteLength);return new Fr(t).set(new Fr(e)),t},xg=function(e,t){var n=t?su(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Eg=/\w*$/,jg=function(e){var t=new e.constructor(e.source,Eg.exec(e));return t.lastIndex=e.lastIndex,t},Xs=Tt?Tt.prototype:void 0,Vs=Xs?Xs.valueOf:void 0,Sg=function(e){return Vs?Object(Vs.call(e)):{}},Us=function(e,t){var n=t?su(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Pg=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return su(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return xg(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Us(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return jg(e);case"[object Set]":return new r;case"[object Symbol]":return Sg(e)}},Gs=Object.create,kg=function(){function e(){}return function(t){if(!Nt(t))return{};if(Gs)return Gs(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Ys=function(e){return typeof e.constructor!="function"||an(e)?{}:kg(cu(e))},Ag=function(e){return gn(e)&&Yr(e)=="[object Map]"},Ws=Pr.a&&Pr.a.isMap,Tg=Ws?Qt(Ws):Ag,Dg=function(e){return gn(e)&&Yr(e)=="[object Set]"},$s=Pr.a&&Pr.a.isSet,Mg=$s?Qt($s):Dg,Pt={};Pt["[object Arguments]"]=Pt["[object Array]"]=Pt["[object ArrayBuffer]"]=Pt["[object DataView]"]=Pt["[object Boolean]"]=Pt["[object Date]"]=Pt["[object Float32Array]"]=Pt["[object Float64Array]"]=Pt["[object Int8Array]"]=Pt["[object Int16Array]"]=Pt["[object Int32Array]"]=Pt["[object Map]"]=Pt["[object Number]"]=Pt["[object Object]"]=Pt["[object RegExp]"]=Pt["[object Set]"]=Pt["[object String]"]=Pt["[object Symbol]"]=Pt["[object Uint8Array]"]=Pt["[object Uint8ClampedArray]"]=Pt["[object Uint16Array]"]=Pt["[object Uint32Array]"]=!0,Pt["[object Error]"]=Pt["[object Function]"]=Pt["[object WeakMap]"]=!1;var Ng=function e(t,n,r,i,o,u){var l,d=1&n,m=2&n,E=4&n;if(r&&(l=o?r(t,i,o,u):r(t)),l!==void 0)return l;if(!Nt(t))return t;var P=Gt(t);if(P){if(l=wg(t),!d)return Fs(t,l)}else{var D=Yr(t),H=D=="[object Function]"||D=="[object GeneratorFunction]";if(Object(Vr.a)(t))return Object(Bs.a)(t,d);if(D=="[object Object]"||D=="[object Arguments]"||H&&!o){if(l=m||H?{}:Ys(t),!d)return m?mg(t,gg(l,t)):bg(t,dg(l,t))}else{if(!Pt[D])return o?t:{};l=Pg(t,D,d)}}u||(u=new Gn);var Z=u.get(t);if(Z)return Z;u.set(t,l),Mg(t)?t.forEach(function(le){l.add(e(le,n,r,le,t,u))}):Tg(t)&&t.forEach(function(le,ae){l.set(ae,e(le,n,r,ae,t,u))});var re=P?void 0:(E?m?_g:Kt:m?qo:cr)(t);return pg(re||t,function(le,ae){re&&(le=t[ae=le]),Ji(l,ae,e(le,n,r,ae,t,u))}),l},Ct=function(e){return Ng(e,5)},lu=function(e,t,n){(n!==void 0&&!Ye(e[t],n)||n===void 0&&!(t in e))&&iu(e,t,n)},Cg=function(e){return gn(e)&&ur(e)},Rg=Function.prototype,Ig=Object.prototype,Ks=Rg.toString,Lg=Ig.hasOwnProperty,zg=Ks.call(Object),Bg=function(e){if(!gn(e)||jt(e)!="[object Object]")return!1;var t=cu(e);if(t===null)return!0;var n=Lg.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Ks.call(n)==zg},fu=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},Fg=function(e){return bo(e,qo(e))},Hg=function(e,t,n,r,i,o,u){var l=fu(e,n),d=fu(t,n),m=u.get(d);if(m)lu(e,n,m);else{var E=o?o(l,d,n+"",e,t,u):void 0,P=E===void 0;if(P){var D=Gt(d),H=!D&&Object(Vr.a)(d),Z=!D&&!H&&ho(d);E=d,D||H||Z?Gt(l)?E=l:Cg(l)?E=Fs(l):H?(P=!1,E=Object(Bs.a)(d,!0)):Z?(P=!1,E=Us(d,!0)):E=[]:Bg(d)||Xr(d)?(E=l,Xr(l)?E=Fg(l):Nt(l)&&!Co(l)||(E=Ys(d))):P=!1}P&&(u.set(d,E),i(E,d,r,o,u),u.delete(d)),lu(e,n,E)}},Xg=function e(t,n,r,i,o){t!==n&&as(n,function(u,l){if(o||(o=new Gn),Nt(u))Hg(t,n,l,r,e,i,o);else{var d=i?i(fu(t,l),u,l+"",t,n,o):void 0;d===void 0&&(d=u),lu(t,l,d)}},qo)},qs=ls(function(e,t,n){Xg(e,t,n)}),Vg={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}}},Zs=function(e){var t=Ct(Vg);return e&&(t=qs(t,e)),t};a(71),a(190);function Ug(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Gg=function(){function e(){var r,i,o;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),o={},(i="_events")in(r=this)?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}var t,n;return t=e,(n=[{key:"on",value:function(r,i,o){var u=this;return r==null||r.split(",").forEach(function(l){l=l.trim(),u._events[l]||(u._events[l]=[]),u._events[l].push({callback:i,once:!!o})}),this}},{key:"once",value:function(r,i){var o=this;r==null||r.split(",").forEach(function(u){return u=u.trim(),o.on(u,i,!0)})}},{key:"emit",value:function(r,i){var o=this;r==null||r.split(",").forEach(function(u){var l=o._events[u]||[],d=o._events["*"]||[],m=function(E){for(var P=E.length,D=0;D<P;D++)if(E[D]){var H=E[D],Z=H.callback;H.once&&(E.splice(D,1),E.length===0&&delete o._events[u],P--,D--),Z.apply(o,[i])}};m(l),m(d)})}},{key:"off",value:function(r,i){var o=this;return r||(this._events={}),r.split(",").forEach(function(u){if(i){for(var l=o._events[u]||[],d=l.length,m=0;m<d;m++)l[m].callback===i&&(l.splice(m,1),d--,m--);l.length===0&&delete o._events[u]}else delete o._events[u]}),this}},{key:"getEvents",value:function(){return this._events}}])&&Ug(t.prototype,n),e}();function ea(e,t){return t*Math.round(e/t)||e}function Js(e,t){return e%t}function pu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Qs(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Qs(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qs(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var du,hu=function(e,t,n){var r=pu(e,2),i=r[0],o=r[1],u=pu(t,2),l=u[0],d=u[1],m=pu(n,2),E=m[0],P=m[1];return i>l&&i<E&&o>d&&o<P},el=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;default:n=!1}return n},Yg=(a(72),a(155),a(122),a(73),a(12),a(13),a(14),a(46),a(31),new Uint8Array(16));function Wg(){if(!du&&!(du=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return du(Yg)}for(var $g=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Kg=function(e){return typeof e=="string"&&$g.test(e)},Wt=[],yu=0;yu<256;++yu)Wt.push((yu+256).toString(16).substr(1));var qg=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Wt[e[t+0]]+Wt[e[t+1]]+Wt[e[t+2]]+Wt[e[t+3]]+"-"+Wt[e[t+4]]+Wt[e[t+5]]+"-"+Wt[e[t+6]]+Wt[e[t+7]]+"-"+Wt[e[t+8]]+Wt[e[t+9]]+"-"+Wt[e[t+10]]+Wt[e[t+11]]+Wt[e[t+12]]+Wt[e[t+13]]+Wt[e[t+14]]+Wt[e[t+15]]).toLowerCase();if(!Kg(n))throw TypeError("Stringified UUID is invalid");return n},vu=function(e,t,n){var r=(e=e||{}).random||(e.rng||Wg)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return qg(r)},mo=function(){return vu()},Zg=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.nodes.reduce(function(r,i){return r[i.id]=t+vu(),i.id=r[i.id],r},{});return e.edges.forEach(function(r){r.id=t+vu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),e},Zo=(a(99),a(199),function(e,t,n){var r=e.x,i=e.y;return(r-t.x)*(r-n.x)<=0&&(i-t.y)*(i-n.y)<=0});function tl(e){return(tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nl(Object(n),!0).forEach(function(r){Jg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se,ol,il,al,ul,cl,sl,ll,fl,pl,dl,hl,yl,vl,gl,bl,ml,gu=function(e){return e.anchors},ta=function(e,t){for(var n,r=t.nodes,i=r.length-1;i>=0;i--){var o=r[i];if(tb(e,o)){var u=eb(e,o);if(u){var l={node:o,anchorIndex:u.index,anchor:u.anchor};n&&!Qg(o,n.node,t)||(n=l)}}}return n},Qg=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},eb=function(e,t){for(var n,r=gu(t),i=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var u=Kn(e.x,e.y,r[o].x,r[o].y);u<i&&(i=u,n={index:o,anchor:rl(rl({},r[o]),{},{x:r[o].x,y:r[o].y,id:r[o].id})})}return n},Kn=function(e,t,n,r){return Math.hypot(e-n,t-r)},Ar=function(e,t){var n=!1,r=dn(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},tb=function(e,t){var n=!1,r=dn(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},dn=function(e){var t=e.x,n=e.y,r=e.width,i=e.height;return{minX:t-r/2,minY:n-i/2,maxX:t+r/2,maxY:n+i/2,x:t,y:n,width:r,height:i,centerX:t,centerY:n}},_l=function(e,t,n){var r,i=function(u){var l=u,d=l.x,m=l.y,E=l.width,P=l.height,D=l.radius;return[{x:d-E/2+D,y:m-P/2+D,r:D},{x:d+E/2-D,y:m-P/2+D,r:D},{x:d-E/2+D,y:m+P/2-D,r:D},{x:d+E/2-D,y:m+P/2-D,r:D}]}(n),o=Number.MAX_SAFE_INTEGER;return i.forEach(function(u){var l=Kn(e.x,e.y,u.x,u.y);l<o&&(o=l,r=u)}),bu(e,t,r)},bu=function(e,t,n){var r,i=n,o=i.x,u=i.y,l=i.r;if(t===At.HORIZONTAL){var d=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)),m=o+Math.sqrt(l*l-(e.y-u)*(e.y-u));r={x:Math.abs(d-e.x)<Math.abs(m-e.x)?d:m,y:e.y}}else if(t===At.VERTICAL){var E=u-Math.sqrt(l*l-(e.x-o)*(e.x-o)),P=u+Math.sqrt(l*l-(e.x-o)*(e.x-o)),D=Math.abs(E-e.y)<Math.abs(P-e.y)?E:P;r={x:e.x,y:D}}return r},Ol=function(e,t){var n=t,r=!1,i=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,u=n.y-n.height/2+n.radius,l=n.y+n.height/2-n.radius,d=n.x,m=n.y,E=n.width,P=n.height;return e.y===m+P/2||e.y===m-P/2?r=e.x>i&&e.x<o:e.x!==d+E/2&&e.x!==d-E/2||(r=e.y>u&&e.y<l),r},wl=function(e,t,n){var r,i=n,o=i.x,u=i.y,l=i.rx,d=i.ry;if(t===At.HORIZONTAL){var m=o-Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d)),E=o+Math.sqrt(l*l-(e.y-u)*(e.y-u)*l*l/(d*d));r={x:Math.abs(m-e.x)<Math.abs(E-e.x)?m:E,y:e.y}}else if(t===At.VERTICAL){var P=u-Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),D=u+Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(l*l)),H=Math.abs(P-e.y)<Math.abs(D-e.y)?P:D;r={x:e.x,y:H}}return r},xl=function(e,t,n){for(var r,i=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,u=[],l=0;l<i.length;l++)u.push({start:i[l],end:i[(l+1)%i.length]});return u.forEach(function(d){var m=d.start,E=d.end,P=m,D=E;m.x>E.x&&(P=E,D=m);var H={x:e.x,y:e.y};if(P.x===D.x&&t===At.HORIZONTAL&&(H={x:P.x,y:e.y}),P.y===D.y&&t===At.VERTICAL&&(H={x:e.x,y:P.y}),P.x!==D.x&&P.y!==D.y){var Z=(D.y-P.y)/(D.x-P.x),re=(P.x*D.y-D.x*P.y)/(P.x-D.x);t===At.HORIZONTAL?H={x:(e.y-re)/Z,y:e.y}:t===At.VERTICAL&&(H={x:e.x,y:Z*e.x+re})}if(Zo(H,m,E)){var le=Kn(H.x,H.y,e.x,e.y);le<o&&(o=le,r=H)}}),r},El=function(e,t,n,r){var i=e.x,o=e.y;return t.x>e.x?i=e.x+n/2:t.x<e.x&&(i=e.x-n/2),t.y>e.y?o=e.y+r/2:t.y<e.y&&(o=e.y-r/2),{x:i,y:o}},jl=function(e){var t=e.rows,n=e.style,r=e.rowsLength,i=e.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=i,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?t.forEach(function(l){var d=document.createElement("div");d.textContent=l,o.appendChild(d)}):o.textContent=t,document.body.appendChild(o);var u=o.clientHeight;return document.body.removeChild(o),u},mu=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,i=0;return t&&t.forEach(function(o){var u=Ql(o);i=u>i?u:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},na=function(e){return tl(e)!=="object"?{isAllPass:!!e,msg:e?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:e},Sl={node:!1,edge:!1},nb={node:!0,edge:!0},rb={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},qn=function(e){try{return JSON.parse(JSON.stringify(e))}catch{return e}},ob=1e3,ib=999,_u=function(){return++ob};function Pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pl(Object(n),!0).forEach(function(r){Mn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function ab(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Ou=(ol=it((Se=function(){function e(r,i){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Mn(this,"id",mo()),Zt(this,"type",ol,this),Zt(this,"sourceNodeId",il,this),Zt(this,"targetNodeId",al,this),Zt(this,"startPoint",ul,this),Zt(this,"endPoint",cl,this),Zt(this,"text",sl,this),Zt(this,"properties",ll,this),Zt(this,"points",fl,this),Zt(this,"pointsList",pl,this),Zt(this,"isSelected",dl,this),Zt(this,"isHovered",hl,this),Zt(this,"isHitable",yl,this),Zt(this,"draggable",vl,this),Zt(this,"visible",gl,this),Mn(this,"graphModel",void 0),Zt(this,"zIndex",bl,this),Mn(this,"BaseType",Xt.EDGE),Mn(this,"modelType",ct.EDGE),Zt(this,"state",ml,this),Mn(this,"additionStateData",void 0),Mn(this,"sourceAnchorId",""),Mn(this,"targetAnchorId",""),Mn(this,"menu",void 0),Mn(this,"customTextPosition",!1),Mn(this,"animationData",rb),this.graphModel=i,this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var t,n;return t=e,(n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}nn(this,Eb(r)),this.graphModel.overlapMode===pn.INCREASE&&(this.zIndex=r.zIndex||_u())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){var r=this.graphModel.theme.baseEdge;return Ct(r)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Ct(r)}},{key:"getAnimation",value:function(){var r=this.animationData;return Ct(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Ct(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.sourceNodeId])===null||i===void 0?void 0:i.model}},{key:"targetNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.targetNodeId])===null||i===void 0?void 0:i.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,i){var o,u;return gu(r).forEach(function(l){var d=nf(l,i);u?d<u&&(u=d,o=l):(u=d,o=l)}),o}},{key:"getEndAnchor",value:function(r){var i,o,u=this;return gu(r).forEach(function(l){var d=nf(l,u.startPoint);o?d<o&&(o=d,i=l):(o=d,i=l)}),i}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,u=r.value,l={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(s.I)(this.properties)};return u&&(l.text={x:i,y:o,value:u}),this.graphModel.overlapMode===pn.INCREASE&&(l.zIndex=this.zIndex),l}},{key:"setProperty",value:function(r,i){this.properties[r]=qn(i),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=ra(ra({},this.properties),qn(r)),this.setAttributes()}},{key:"formatText",value:function(r){var i=this.textPosition,o=i.x,u=i.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||u,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:u,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,i=r.x,o=r.y;this.text.x=i,this.text.y=o}},{key:"moveText",value:function(r,i){if(this.text){var o=this.text,u=o.x,l=o.y,d=o.value,m=o.draggable,E=o.editable;this.text={value:d,draggable:m,x:u+r,y:l+i,editable:E}}}},{key:"setText",value:function(r){r&&nn(this.text,r)}},{key:"updateText",value:function(r){this.text=ra(ra({},this.text),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var i=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:i.x,y:i.y}),this.targetAnchorId||(this.targetAnchorId=i.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){nn(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var i=r.startPoint,o=r.endPoint;this.updateStartPoint({x:i.x,y:i.y}),this.updateEndPoint({x:o.x,y:o.y})}}])&&ab(t.prototype,n),e}()).prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),il=it(Se.prototype,"sourceNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),al=it(Se.prototype,"targetNodeId",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ul=it(Se.prototype,"startPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),cl=it(Se.prototype,"endPoint",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),sl=it(Se.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),ll=it(Se.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),fl=it(Se.prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pl=it(Se.prototype,"pointsList",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),dl=it(Se.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),hl=it(Se.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yl=it(Se.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vl=it(Se.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gl=it(Se.prototype,"visible",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),bl=it(Se.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ml=it(Se.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),it(Se.prototype,"sourceNode",[s.m],Object.getOwnPropertyDescriptor(Se.prototype,"sourceNode"),Se.prototype),it(Se.prototype,"targetNode",[s.m],Object.getOwnPropertyDescriptor(Se.prototype,"targetNode"),Se.prototype),it(Se.prototype,"textPosition",[s.m],Object.getOwnPropertyDescriptor(Se.prototype,"textPosition"),Se.prototype),it(Se.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"setProperty"),Se.prototype),it(Se.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"setProperties"),Se.prototype),it(Se.prototype,"formatText",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"formatText"),Se.prototype),it(Se.prototype,"resetTextPosition",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"resetTextPosition"),Se.prototype),it(Se.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"moveText"),Se.prototype),it(Se.prototype,"setText",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"setText"),Se.prototype),it(Se.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"updateText"),Se.prototype),it(Se.prototype,"setAnchors",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"setAnchors"),Se.prototype),it(Se.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"setSelected"),Se.prototype),it(Se.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"setHovered"),Se.prototype),it(Se.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"setHitable"),Se.prototype),it(Se.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"setElementState"),Se.prototype),it(Se.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"updateStartPoint"),Se.prototype),it(Se.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"updateEndPoint"),Se.prototype),it(Se.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"setZIndex"),Se.prototype),it(Se.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"initPoints"),Se.prototype),it(Se.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"updateAttributes"),Se.prototype),it(Se.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"getAdjustStart"),Se.prototype),it(Se.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"getAdjustEnd"),Se.prototype),it(Se.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(Se.prototype,"updateAfterAdjustStartAndEnd"),Se.prototype),Se),wu=Ou;function kl(e){return(kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Al(Object(n),!0).forEach(function(r){Cl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ub(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dl(){return(Dl=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=sb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function sb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Jo(e))!==null;);return e}function Ml(e,t){return(Ml=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function lb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Jo(e);if(t){var i=Jo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fb(this,n)}}function fb(e,t){if(t&&(kl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nl(e)}function Nl(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jo(e){return(Jo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Cl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var at,Rl,xu=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ml(o,u)})(i,e);var t,n,r=lb(i);function i(){var o;ub(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Cl(Nl(o=r.call.apply(r,[this].concat(l))),"modelType",ct.LINE_EDGE),o}return t=i,(n=[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line;return Tl(Tl({},Dl(Jo(i.prototype),"getEdgeStyle",this).call(this)),Ct(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&cb(t.prototype,n),i}(wu);function Il(e){return(Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function pb(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Ll(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ll(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ll(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zl(Object(n),!0).forEach(function(r){Eu(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function db(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function hb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oa(){return(oa=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=vb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function vb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Zr(e))!==null;);return e}function Fl(e,t){return(Fl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function gb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Zr(e);if(t){var i=Zr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bb(this,n)}}function bb(e,t){if(t&&(Il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qo(e)}function Qo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Eu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var ju=(Rl=hn((at=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Fl(o,u)})(i,e);var t,n,r=gb(i);function i(){var o;hb(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Eu(Qo(o=r.call.apply(r,[this].concat(l))),"modelType",ct.POLYLINE_EDGE),Eu(Qo(o),"draginngPointList",void 0),db(Qo(o),"dbClickPosition",Rl,Qo(o)),o}return t=i,(n=[{key:"initEdgeData",value:function(o){this.offset=30,oa(Zr(i.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline;return Bl(Bl({},oa(Zr(i.prototype),"getEdgeStyle",this).call(this)),Ct(o))}},{key:"getTextPosition",value:function(){var o,u=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!u){var l=this.dbClickPosition;return{x:l.x,y:l.y}}var d=_o(this.points),m=pb(wb(d),2),E=m[0],P=m[1];return{x:(E.x+P.x)/2,y:(E.y+P.y)/2}}},{key:"getAfterAnchor",value:function(o,u,l){var d,m;return l.forEach(function(E){var P;o===At.HORIZONTAL?P=Math.abs(u.y-E.y):o===At.VERTICAL&&(P=Math.abs(u.x-E.x)),(!m||m>P)&&(m=P,d=E)}),d}},{key:"getCorssPoint",value:function(o,u,l){var d;return o===At.HORIZONTAL?d={x:l.x,y:u.y}:o===At.VERTICAL&&(d={x:u.x,y:l.y}),d}},{key:"removeCrossPoints",value:function(o,u,l){var d=l.map(function(ae){return ae});if(o===1){var m=d[o],E=d[u],P=d[o-1];if(Kl(P,m,this.sourceNode)){if(ql(m,E,this.sourceNode)){var D=Zl(m,E,this.sourceNode);D&&(d[o]=D,d.splice(o-1,1),o--,u--)}}else this.sourceNode.anchors.forEach(function(ae){(ae.x===P.x&&ae.x===m.x||ae.y===P.y&&ae.y===m.y)&&Kn(ae.x,ae.y,m.x,m.y)<Kn(P.x,P.y,m.x,m.y)&&(d[o-1]=ae)})}if(u===l.length-2){var H=d[o],Z=d[u],re=d[u+1];if(Kl(Z,re,this.targetNode)){if(ql(H,Z,this.targetNode)){var le=Zl(H,Z,this.targetNode);le&&(d[u]=le,d.splice(u+1,1))}}else this.targetNode.anchors.forEach(function(ae){(ae.x===re.x&&ae.x===Z.x||ae.y===re.y&&ae.y===Z.y)&&Kn(ae.x,ae.y,Z.x,Z.y)<Kn(re.x,re.y,Z.x,Z.y)&&(d[u+1]=ae)})}return d}},{key:"getDragingPoints",value:function(o,u,l,d,m){var E=m.map(function(H){return H}),P=this.getAfterAnchor(o,l,d),D=this.getCorssPoint(o,l,P);return u==="start"?(E.unshift(D),E.unshift(P)):(E.push(D),E.push(P)),E}},{key:"updateCrossPoints",value:function(o){var u=o.map(function(be){return be}),l=o[0],d=o[1],m=o[u.length-2],E=o[u.length-1],P=this.sourceNode,D=this.targetNode,H=P.modelType,Z=D.modelType,re=la(l,d),le=u[0];switch(H){case ct.RECT_NODE:P.radius!==0&&(Ol(l,P)||(le=_l(l,re,P)));break;case ct.CIRCLE_NODE:le=bu(l,re,P);break;case ct.ELLIPSE_NODE:le=wl(l,re,P);break;case ct.DIAMOND_NODE:case ct.POLYGON_NODE:le=xl(l,re,P)}u[0]=le;var ae=la(m,E),ye=u[u.length-1];switch(Z){case ct.RECT_NODE:D.radius!==0&&(Ol(E,D)||(ye=_l(E,ae,D)));break;case ct.CIRCLE_NODE:ye=bu(E,ae,D);break;case ct.ELLIPSE_NODE:ye=wl(E,ae,D);break;case ct.DIAMOND_NODE:case ct.POLYGON_NODE:ye=xl(E,ae,D)}return u[u.length-1]=ye,u}},{key:"getData",value:function(){var o=oa(Zr(i.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return Object.assign({},o,{pointsList:u})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=$l({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(u){return"".concat(u.x,",").concat(u.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,m=o.startIndex,E=o.endIndex,P=o.direction,D=this.pointsList,H=D;return P===At.HORIZONTAL?(D[m]={x:l.x,y:l.y+u.y},D[E]={x:d.x,y:d.y+u.y},H=this.pointsList.map(function(Z){return Z})):P===At.VERTICAL&&(D[m]={x:l.x+u.x,y:l.y},D[E]={x:d.x+u.x,y:d.y},H=this.pointsList.map(function(Z){return Z})),this.updatePointsAfterDrage(H),this.draginngPointList=H,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[m]),end:Object.assign({},D[E]),startIndex:m,endIndex:E,direction:P}}},{key:"dragAppend",value:function(o,u){this.isDragging=!0;var l=o.start,d=o.end,m=o.startIndex,E=o.endIndex,P=o.direction,D=this.pointsList;if(P===At.HORIZONTAL){D[m]={x:l.x,y:l.y+u.y},D[E]={x:d.x,y:d.y+u.y};var H=this.pointsList.map(function(Be){return Be});if(m!==0&&E!==this.pointsList.length-1&&(H=this.removeCrossPoints(m,E,H)),m===0){var Z={x:l.x,y:l.y+u.y};if(!Ar(Z,this.sourceNode)){var re=this.sourceNode.anchors;H=this.getDragingPoints(P,"start",Z,re,H)}}if(E===this.pointsList.length-1){var le={x:d.x,y:d.y+u.y};if(!Ar(le,this.targetNode)){var ae=this.targetNode.anchors;H=this.getDragingPoints(P,"end",le,ae,H)}}H=Tu(H),this.updatePointsAfterDrage(H),this.draginngPointList=H}else if(P===At.VERTICAL){D[m]={x:l.x+u.x,y:l.y},D[E]={x:d.x+u.x,y:d.y};var ye=this.pointsList.map(function(Be){return Be});if(m!==0&&E!==this.pointsList.length-1&&(ye=this.removeCrossPoints(m,E,ye)),m===0){var be={x:l.x+u.x,y:l.y};if(!Ar(be,this.sourceNode)){var De=this.sourceNode.anchors;ye=this.getDragingPoints(P,"start",be,De,ye)}}if(E===this.pointsList.length-1){var je={x:d.x+u.x,y:d.y};if(!Ar(je,this.targetNode)){var Ce=this.targetNode.anchors;ye=this.getDragingPoints(P,"end",je,Ce,ye)}}ye=Tu(ye),this.updatePointsAfterDrage(ye),this.draginngPointList=ye}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},D[m]),end:Object.assign({},D[E]),startIndex:m,endIndex:E,direction:P}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=_o(this.points);this.pointsList=o.map(function(d){return d}),this.draginngPointList=[];var u=o[0];this.startPoint=Object.assign({},u);var l=o[o.length-1];this.endPoint=Object.assign({},l)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(o){var u=this.updateCrossPoints(o);this.points=u.map(function(l){return"".concat(l.x,",").concat(l.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,m=o.targetNode,E=$l({x:u.x,y:u.y},{x:l.x,y:l.y},d,m,this.offset||0);this.pointsList=E,this.initPoints()}}])&&yb(t.prototype,n),i}(wu)).prototype,"dbClickPosition",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),hn(at.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"initPoints"),at.prototype),hn(at.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePoints"),at.prototype),hn(at.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"updateStartPoint"),at.prototype),hn(at.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"updateEndPoint"),at.prototype),hn(at.prototype,"dragAppendStart",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendStart"),at.prototype),hn(at.prototype,"dragAppendSimple",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendSimple"),at.prototype),hn(at.prototype,"dragAppend",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppend"),at.prototype),hn(at.prototype,"dragAppendEnd",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"dragAppendEnd"),at.prototype),hn(at.prototype,"updatePointsAfterDrage",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"updatePointsAfterDrage"),at.prototype),hn(at.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustStart"),at.prototype),hn(at.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"getAdjustEnd"),at.prototype),hn(at.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(at.prototype,"updateAfterAdjustStartAndEnd"),at.prototype),at),ei=function(e){var t=e.start,n=e.end,r=e.offset,i=e.verticalLength,o=e.type,u={leftX:0,leftY:0,rightX:0,rightY:0},l=Math.atan((n.y-t.y)/(n.x-t.x)),d=Math.atan(r/i),m=Math.sqrt(i*i+r*r);return o==="start"?n.x>=t.x?(u.leftX=t.x+m*Math.sin(l+d),u.leftY=t.y-m*Math.cos(l+d),u.rightX=t.x-m*Math.sin(l-d),u.rightY=t.y+m*Math.cos(l-d)):(u.leftX=t.x-m*Math.sin(l+d),u.leftY=t.y+m*Math.cos(l+d),u.rightX=t.x+m*Math.sin(l-d),u.rightY=t.y-m*Math.cos(l-d)):o==="end"&&(n.x>=t.x?(u.leftX=n.x+m*Math.sin(l-d),u.leftY=n.y-m*Math.cos(l-d),u.rightX=n.x-m*Math.sin(l+d),u.rightY=n.y+m*Math.cos(l+d)):(u.leftX=n.x-m*Math.sin(l-d),u.leftY=n.y+m*Math.cos(l-d),u.rightX=n.x+m*Math.sin(l+d),u.rightY=n.y-m*Math.cos(l+d))),u};function Hl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hl(Object(n),!0).forEach(function(r){mb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _b(e){return function(t){if(Array.isArray(t))return Pu(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Vl(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xl(e){return(Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Su(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||Vl(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vl(e,t){if(e){if(typeof e=="string")return Pu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pu(e,t):void 0}}function Pu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ku=function(e){var t=[],n={};return e.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,n[i]=r}),Object.keys(n).forEach(function(r){t.push(n[r])}),t},aa=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},ua=function(e,t){return function(n,r){var i=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY);return i/r.width>o/r.height?At.HORIZONTAL:At.VERTICAL}(t,e)===At.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},Ul=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},ti=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach(function(E){n.push(E.x),r.push(E.y)});var i=Math.min.apply(Math,n),o=Math.max.apply(Math,n),u=Math.min.apply(Math,r),l=Math.max.apply(Math,r),d=o-i,m=l-u;return t&&(d+=t,m+=t),{centerX:(i+o)/2,centerY:(u+l)/2,maxX:o,maxY:l,minX:i,minY:u,x:(i+o)/2,y:(u+l)/2,height:m,width:d}},ca=function(e){var t=e.minX,n=e.minY,r=e.maxX,i=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:i},{x:t,y:i}]},sa=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},Au=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Gl=function(e,t,n,r,i){return Au(e,t)+Au(e,n)+function(o,u){var l=0;return u.forEach(function(d){d&&(o.x===d.x&&(l+=-2),o.y===d.y&&(l+=-2))}),l}(e,[t,n,r,i])},ni=function(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,u=r.x-n.x,l=r.y-n.y,d=(-o*(e.x-n.x)+i*(e.y-n.y))/(-u*o+i*l),m=(u*(e.y-n.y)-l*(e.x-n.x))/(-u*o+i*l);return d>=0&&d<=1&&m>=0&&m<=1},Yl=function(e,t,n){if(n.width===0&&n.height===0)return!1;var r=Su(ca(n),4),i=r[0],o=r[1],u=r[2],l=r[3];return ni(e,t,i,o)||ni(e,t,i,l)||ni(e,t,o,u)||ni(e,t,u,l)},Ob=function(e,t,n,r,i,o,u){var l=[],d=[t],m={},E={},P={};E[t.id]=0,P[t.id]=Gl(t,n,t);var D={};e.forEach(function(re){D[re.id]=re});for(var H=function(){var re,le,ae,ye=void 0,be=1/0;if(d.forEach(function(je){P[je.id]<be&&(be=P[je.id],ye=je)}),ye===n){var De=[];return function je(Ce,Be,tt,xt,Dt){Dt||(Dt=0),Ce.unshift(Be[xt]),tt[xt]&&tt[xt]!==xt&&Dt<=100&&je(Ce,Be,tt,tt[xt],Dt+1)}(De,D,m,n.id),{v:De}}le=ye,(ae=(re=d).indexOf(le))>-1&&re.splice(ae,1),l.push(ye),function(je,Ce,Be,tt){var xt=[];return je.forEach(function(Dt){Dt!==Ce&&(Dt.x!==Ce.x&&Dt.y!==Ce.y||Yl(Dt,Ce,Be)||Yl(Dt,Ce,tt)||xt.push(Dt))}),ku(xt)}(e,ye,r,i).forEach(function(je){if(l.indexOf(je)===-1){d.indexOf(je)===-1&&d.push(je);var Ce=P[ye.id]+Au(ye,je);E[je.id]&&Ce>=E[je.id]||(m[je.id]=ye.id,E[je.id]=Ce,P[je.id]=E[je.id]+Gl(je,n,t,o,u))}})};d.length;){var Z=H();if(Xl(Z)==="object")return Z.v}return[t,n]},Wl=function(e){return dn(e)},Tu=function(e){for(var t=e,n=1;n<t.length-1;){var r=t[n-1],i=t[n],o=t[n+1];r.x===i.x&&i.x===o.x||r.y===i.y&&i.y===o.y?t.splice(n,1):n++}return t},$l=function(e,t,n,r,i){var o,u,l=Wl(n),d=Wl(r),m=aa(l,i),E=aa(d,i),P=ua(m,e),D=ua(E,t);if(o=m,u=E,2*Math.abs(o.centerX-u.centerX)<o.width+u.width&&2*Math.abs(o.centerY-u.centerY)<o.height+u.height){var H=xb(e,t,P,D);return[e,P].concat(_b(H),[D,t])}var Z=ti([P,D]),re=Ul(m,Z),le=Ul(E,Z),ae=[];ae=(ae=ae.concat(ca(re))).concat(ca(le));var ye={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[Z,re,le].forEach(function(De){ae=ae.concat(function(je,Ce){return function(Be,tt){return tt<Be.minX||tt>Be.maxX?[]:[{x:tt,y:Be.minY},{x:tt,y:Be.maxY}]}(je,Ce.x).concat(function(Be,tt){return tt<Be.minY||tt>Be.maxY?[]:[{x:Be.minX,y:tt},{x:Be.maxX,y:tt}]}(je,Ce.y))}(De,ye).filter(function(je){return sa(je,m)&&sa(je,E)}))}),[{x:P.x,y:D.y},{x:D.x,y:P.y}].forEach(function(De){sa(De,m)&&sa(De,E)&&ae.push(De)}),ae.unshift(P),ae.push(D),ae=ku(ae);var be=Ob(ae,P,D,l,d,e,t);return be.unshift(e),be.push(t),be.length>2&&(be=Tu(be)),ku(be)},wb=function(e){var t;if(e.length===1)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],i=Kn(n.x,n.y,r.x,r.y),o=1;o<e.length-1;o++){var u=e[o],l=e[o+1],d=Kn(u.x,u.y,l.x,l.y);d>i&&(i=d,n=u,r=l)}t=[n,r]}return t},Kl=function(e,t,n){var r=Ar(e,n),i=Ar(t,n);return r&&i},ql=function(e,t,n){var r=Ar(e,n),i=Ar(t,n);return!(r&&i)&&(r||i)},Zl=function(e,t,n){for(var r,i,o=dn(n),u=ca(o),l=0;l<u.length;l++)ni(e,t,u[l],u[(l+1)%u.length])&&(i=[u[l],u[(l+1)%u.length]]);return i&&(r=function(d,m,E,P){var D=(m.y-d.y)*(P.x-E.x)-(d.x-m.x)*(E.y-P.y);if(D===0)return!1;var H=((m.x-d.x)*(P.x-E.x)*(E.y-d.y)+(m.y-d.y)*(P.x-E.x)*d.x-(P.y-E.y)*(m.x-d.x)*E.x)/D,Z=-((m.y-d.y)*(P.y-E.y)*(E.x-d.x)+(m.x-d.x)*(P.y-E.y)*d.y-(P.x-E.x)*(m.y-d.y)*E.y)/D;return(H-d.x)*(H-m.x)<=0&&(Z-d.y)*(Z-m.y)<=0&&(H-E.x)*(H-P.x)<=0&&(Z-E.y)*(Z-P.y)<=0&&{x:H,y:Z}}(e,t,i[0],i[1])),r},la=function(e,t){var n;return e.x===t.x?n=At.VERTICAL:e.y===t.y&&(n=At.HORIZONTAL),n},_o=function(e){var t=e.split(" "),n=[];return t&&t.forEach(function(r){var i=Su(r.split(","),2),o=i[0],u=i[1];n.push({x:Number(o),y:Number(u)})}),n},xb=function(e,t,n,r){var i=[];if(la(e,n)===la(t,r))e.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},u=Zo(o,e,n),l=Zo(o,t,r);if(u||l)o={x:r.x,y:n.y};else{var d=Jl(o,e,n),m=Jl(o,t,r);d&&m&&(o={x:r.x,y:n.y})}i.push(o)}return i},Jl=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},Ql=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},ef=function(e){var t=e.start,n=e.end,r=e.sourceNode,i=e.targetNode,o=e.offset,u=dn(r),l=dn(i),d=aa(u,o),m=aa(l,o);return{sNext:ua(d,t),ePre:ua(m,n)}},fa=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[pa(t[0]),pa(t[1]),pa(t[2]),pa(t[3])]},pa=function(e){var t=Su(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},tf=function(e,t){for(var n,r=e.x,i=e.y,o=_o(t),u=Number.MAX_SAFE_INTEGER,l=[],d=0;d<o.length;d++)l.push({start:o[d],end:o[(d+1)%o.length]});if(l.forEach(function(D){var H=D.start,Z=D.end;if(H.x===Z.x){var re={x:H.x,y:i};if(Zo(re,H,Z)){var le=Math.abs(H.x-r);le<u&&(u=le,n=re)}}else if(H.y===Z.y){var ae={x:r,y:H.y};if(Zo(ae,H,Z)){var ye=Math.abs(H.y-i);ye<u&&(u=ye,n=ae)}}}),!n){var m=l[0],E=m.start,P=m.end;n={x:E.x+(P.x-E.x)/2,y:E.y+(P.y-E.y)/2}}return n},Eb=function(e){return Ko(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},nf=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},Oo=function(){};function jb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tr=window.document;function da(e){var t=e.onDragStart,n=t===void 0?Oo:t,r=e.onDraging,i=r===void 0?Oo:r,o=e.onDragEnd,u=o===void 0?Oo:o,l=e.step,d=l===void 0?1:l,m=e.isStopPropagation,E=m===void 0||m,P=!1,D=!1,H=0,Z=0,re=0,le=0;function ae(be){if(E&&be.stopPropagation(),D&&(P=!0,re+=be.clientX-H,le+=be.clientY-Z,H=be.clientX,Z=be.clientY,Math.abs(re)>d||Math.abs(le)>d)){var De=re%d,je=le%d,Ce=re-De,Be=le-je;re=De,le=je,i({deltaX:Ce,deltaY:Be,event:be})}}function ye(be){if(E&&be.stopPropagation(),D=!1,Tr.removeEventListener("mousemove",ae,!1),Tr.removeEventListener("mouseup",ye,!1),P)return P=!1,u({event:be})}return function(be){if(be.button===0)return E&&be.stopPropagation(),D=!0,H=be.clientX,Z=be.clientY,Tr.addEventListener("mousemove",ae,!1),Tr.addEventListener("mouseup",ye,!1),n({event:be})}}var he,rf,of,af,uf,cf,sf,lf,ff,pf,df,hf,yf,wo=function(){function e(r){var i=this,o=r.onDragStart,u=o===void 0?Oo:o,l=r.onDraging,d=l===void 0?Oo:l,m=r.onDragEnd,E=m===void 0?Oo:m,P=r.eventType,D=P===void 0?"":P,H=r.eventCenter,Z=H===void 0?null:H,re=r.step,le=re===void 0?1:re,ae=r.isStopPropagation,ye=ae===void 0||ae,be=r.model,De=be===void 0?null:be;(function(je,Ce){if(!(je instanceof Ce))throw new TypeError("Cannot call a class as a function")})(this,e),Vt(this,"onDragStart",void 0),Vt(this,"onDraging",void 0),Vt(this,"onDragEnd",void 0),Vt(this,"step",void 0),Vt(this,"isStopPropagation",void 0),Vt(this,"isDraging",!1),Vt(this,"isStartDraging",!1),Vt(this,"startX",0),Vt(this,"startY",0),Vt(this,"sumDeltaX",0),Vt(this,"sumDeltaY",0),Vt(this,"eventType",void 0),Vt(this,"eventCenter",void 0),Vt(this,"model",void 0),Vt(this,"startTime",void 0),Vt(this,"isGrag",void 0),Vt(this,"handleMouseDown",function(je){var Ce,Be;if(je.button===0){i.isStopPropagation&&je.stopPropagation(),i.isStartDraging=!0,i.startX=je.clientX,i.startY=je.clientY,Tr.addEventListener("mousemove",i.handleMouseMove,!1),Tr.addEventListener("mouseup",i.handleMouseUp,!1);var tt=(Ce=i.model)===null||Ce===void 0?void 0:Ce.getData();(Be=i.eventCenter)===null||Be===void 0||Be.emit(et["".concat(i.eventType,"_MOUSEDOWN")],{e:je,data:tt}),i.startTime=new Date().getTime()}}),Vt(this,"handleMouseMove",function(je){if(i.isStopPropagation&&je.stopPropagation(),i.isStartDraging&&(i.sumDeltaX+=je.clientX-i.startX,i.sumDeltaY+=je.clientY-i.startY,i.startX=je.clientX,i.startY=je.clientY,i.step<=1||Math.abs(i.sumDeltaX)>i.step||Math.abs(i.sumDeltaY)>i.step)){var Ce,Be=i.sumDeltaX%i.step,tt=i.sumDeltaY%i.step,xt=i.sumDeltaX-Be,Dt=i.sumDeltaY-tt;i.sumDeltaX=Be,i.sumDeltaY=tt;var un,Bn=(Ce=i.model)===null||Ce===void 0?void 0:Ce.getData();i.isDraging||((un=i.eventCenter)===null||un===void 0||un.emit(et["".concat(i.eventType,"_DRAGSTART")],{e:je,data:Bn}),i.onDragStart({event:je})),i.isDraging=!0,setTimeout(function(){var Rr,Ir;i.onDraging({deltaX:xt,deltaY:Dt,event:je}),(Rr=i.eventCenter)===null||Rr===void 0||Rr.emit(et["".concat(i.eventType,"_MOUSEMOVE")],{e:je,data:Bn}),(Ir=i.eventCenter)===null||Ir===void 0||Ir.emit(et["".concat(i.eventType,"_DRAG")],{e:je,data:Bn})},0)}}),Vt(this,"handleMouseUp",function(je){var Ce,Be,tt;i.isStartDraging=!1,i.isStopPropagation&&je.stopPropagation(),Tr.removeEventListener("mousemove",i.handleMouseMove,!1),Tr.removeEventListener("mouseup",i.handleMouseUp,!1);var xt=(Ce=i.model)===null||Ce===void 0?void 0:Ce.getData();(Be=i.eventCenter)===null||Be===void 0||Be.emit(et["".concat(i.eventType,"_MOUSEUP")],{e:je,data:xt}),i.isDraging&&(i.isDraging=!1,i.onDragEnd({event:je}),(tt=i.eventCenter)===null||tt===void 0||tt.emit(et["".concat(i.eventType,"_DROP")],{e:je,data:xt}))}),this.onDragStart=u,this.onDraging=d,this.onDragEnd=E,this.step=le,this.isStopPropagation=ye,this.eventType=D,this.eventCenter=Z,this.model=De}var t,n;return t=e,(n=[{key:"setStep",value:function(r){this.step=r}}])&&jb(t.prototype,n),e}();function vf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vf(Object(n),!0).forEach(function(r){sr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gf(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||mf(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bf(e){return function(t){if(Array.isArray(t))return Du(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||mf(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function mf(e,t){if(e){if(typeof e=="string")return Du(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Du(e,t):void 0}}function Du(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mu(e){return(Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function _n(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Sb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var _f,Of=(rf=$e((he=function(){function e(r){(function(H,Z){if(!(H instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,e),sr(this,"rootEl",void 0),_n(this,"width",rf,this),_n(this,"height",of,this),sr(this,"theme",void 0),sr(this,"eventCenter",void 0),sr(this,"modelMap",new Map),sr(this,"topElement",void 0),sr(this,"animation",void 0),sr(this,"idGenerator",void 0),sr(this,"nodeMoveRules",[]),_n(this,"edgeType",af,this),_n(this,"nodes",uf,this),_n(this,"edges",cf,this),_n(this,"overlapMode",sf,this),_n(this,"background",lf,this),_n(this,"transformModel",ff,this),_n(this,"editConfigModel",pf,this),_n(this,"gridSize",df,this),_n(this,"partial",hf,this),_n(this,"fakerNode",yf,this);var i,o=r.container,u=r.background,l=u===void 0?{}:u,d=r.grid,m=r.width,E=r.height,P=r.idGenerator,D=r.animation;this.background=l,Mu(d)==="object"&&(this.gridSize=d.size),this.rootEl=o,this.editConfigModel=new Ts(r),this.eventCenter=new Gg,this.transformModel=new fg(this.eventCenter),this.theme=Zs(r.style),this.edgeType=r.edgeType||"polyline",this.width=m!=null?m:o.getBoundingClientRect().width,this.height=E!=null?E:o.getBoundingClientRect().height,this.animation=(i=D)&&typeof i!="boolean"?qs(Ct(Sl),i):Ct(i===!0?nb:Sl),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=P}var t,n;return t=e,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"modelsMap",get:function(){return[].concat(bf(this.nodes),bf(this.edges)).reduce(function(r,i){return r[i.id]=i,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(P){return r.push(P)}),this.edges.forEach(function(P){return r.push(P)}),r=r.sort(function(P,D){return P.zIndex-D.zIndex});for(var i=[],o=-1,u=[-200,-200],l=[this.width+200,this.height+200],d=0;d<r.length;d++){var m=r[d];!m.visible||this.partial&&!this.isElementInArea(m,u,l,!1)||(m.zIndex===9999&&(o=i.length),i.push(m))}if(o!==-1){var E=i[i.length-1];i[i.length-1]=i[o],i[o]=E}return i}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===Ot.TEXT_EDIT}),i=this.edges.find(function(o){return o.state===Ot.TEXT_EDIT});return r||i}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(i){i.isSelected&&r.set(i.id,i)}),this.edges.forEach(function(i){i.isSelected&&r.set(i.id,i)}),r}},{key:"getAreaElement",value:function(r,i){var o=[],u=[];this.nodes.forEach(function(m){return u.push(m)}),this.edges.forEach(function(m){return u.push(m)});for(var l=0;l<u.length;l++){var d=u[l];this.isElementInArea(d,r,i)&&o.push(d)}return o}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var i;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(i=this.nodesMap[r])===null||i===void 0?void 0:i.model}},{key:"getPointByClient",value:function(r){var i=r.x,o=r.y,u=this.rootEl.getBoundingClientRect(),l={x:i-u.left,y:o-u.top},d=gf(this.transformModel.HtmlPointToCanvasPoint([l.x,l.y]),2);return{domOverlayPosition:l,canvasOverlayPosition:{x:d[0],y:d[1]}}}},{key:"isElementInArea",value:function(r,i,o){var u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(r.BaseType===Xt.NODE){for(var l=dn(r=r),d=l.minX,m=l.minY,E=l.maxX,P=l.maxY,D=[{x:d,y:m},{x:E,y:m},{x:E,y:P},{x:d,y:P}],H=!0,Z=0;Z<D.length;Z++){var re=D[Z],le=re.x,ae=re.y,ye=this.transformModel.CanvasPointToHtmlPoint([le,ae]),be=gf(ye,2);if(le=be[0],ae=be[1],!hu([le,ae],i,o)){H=!1;break}}return H}if(r.BaseType===Xt.EDGE){var De=r=r,je=De.startPoint,Ce=De.endPoint,Be=this.transformModel.CanvasPointToHtmlPoint([je.x,je.y]),tt=this.transformModel.CanvasPointToHtmlPoint([Ce.x,Ce.y]),xt=hu(Be,i,o),Dt=hu(tt,i,o);return u?xt&&Dt:xt||Dt}return!1}},{key:"graphDataToModel",value:function(r){var i=this;this.nodes=qi(r.nodes,function(o){var u=i.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var l=o.x,d=o.y;return l&&d&&(o.x=ea(l,i.gridSize),o.y=ea(d,i.gridSize),Mu(o.text)==="object"&&(o.text.x-=Js(l,i.gridSize),o.text.y-=Js(d,i.gridSize))),new u(o,i)}),this.edges=qi(r.edges,function(o){var u=i.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new u(o,i)})}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(o){var u=o.getData();u&&r.push(u)});var i=[];return this.nodes.forEach(function(o){var u=o.getData();u&&i.push(u)}),{nodes:i,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,i=[],o=0;o<this.nodes.length;o++){var u=this.nodes[o];if(u.isDragging){r=!0;break}i.push(u.getData())}if(r)return!1;for(var l=!1,d=[],m=0;m<this.edges.length;m++){var E=this.edges[m];if(E.isDragging){l=!0;break}d.push(E.getData())}return!l&&{nodes:i,edges:d}}},{key:"getEdgeModelById",value:function(r){var i;return(i=this.edgesMap[r])===null||i===void 0?void 0:i.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var i=[],o=0;o<this.edges.length;o++){var u=this.edges[o],l=this.edges[o].sourceNodeId===r,d=this.edges[o].targetNodeId===r;(l||d)&&i.push(u)}return i}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=this.selectElements,o={nodes:[],edges:[]};return i.forEach(function(u){if(u.BaseType===Xt.NODE&&o.nodes.push(u.getData()),u.BaseType===Xt.EDGE){var l=u.getData(),d=i.get(l.sourceNodeId)&&i.get(l.targetNodeId);(r||d)&&o.edges.push(l)}}),o}},{key:"updateAttributes",value:function(r,i){this.getElement(r).updateAttributes(i)}},{key:"changeNodeId",value:function(r,i){return i||(i=mo()),this.nodesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=i),o.targetNodeId===r&&(o.targetNodeId=i)}),this.nodesMap[r].model.id=i,i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(r,i){return i||(i=mo()),this.edgesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=i)}),i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,i){return this.modelMap.set(r,i)}},{key:"toFront",value:function(r){var i,o,u,l=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);l&&(this.overlapMode===pn.DEFAULT&&((u=this.topElement)===null||u===void 0||u.setZIndex(),l.setZIndex(9999),this.topElement=l),this.overlapMode===pn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,i){var o,u,l,d=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((u=this.edgesMap[r])===null||u===void 0?void 0:u.model);d&&(typeof i=="number"&&(l=i),i==="top"&&(l=_u()),i==="bottom"&&(l=--ib),d.setZIndex(l))}},{key:"deleteNode",value:function(r){var i=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(et.NODE_DELETE,{data:i})}},{key:"addNode",value:function(r){var i=qn(r);i.id&&this.nodesMap[r.id]&&delete i.id;var o=this.getModel(i.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var u=new o(i,this);this.nodes.push(u);var l=u.getData();return this.eventCenter.emit(et.NODE_ADD,{data:l}),u}},{key:"cloneNode",value:function(r){var i=this.getNodeModelById(r),o=i.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var u=this.addNode(o);return u.setSelected(!0),i.setSelected(!1),u.getData()}},{key:"moveNode",value:function(r,i,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,m=d.move(i,o,u);m&&this.moveEdge(r,i,o)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(r,i,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],l=this.nodesMap[r];if(l){var d=l.model,m=d.x,E=d.y,P=i-m,D=o-E;this.moveNode(r,P,D,u)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"editText",value:function(r){this.setElementStateById(r,Ot.TEXT_EDIT)}},{key:"addEdge",value:function(r){var i=qn(r),o=i.type;o||(o=this.edgeType),i.id&&this.edgesMap[i.id]&&delete i.id;var u=this.getModel(o);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var l=new u(ha(ha({},i),{},{type:o}),this),d=l.getData();return this.edges.push(l),this.eventCenter.emit(et.EDGE_ADD,{data:d}),l}},{key:"moveEdge",value:function(r,i,o){for(var u=0;u<this.edges.length;u++){var l,d=this.edges[u],m=d.textPosition,E=m.x,P=m.y,D=this.edges[u].sourceNodeId===r,H=this.edges[u].targetNodeId===r;if(D&&d.updateStartPoint({x:d.startPoint.x+i,y:d.startPoint.y+o}),H&&d.updateEndPoint({x:d.endPoint.x+i,y:d.endPoint.y+o}),D||H)if(d.customTextPosition===!0)d.resetTextPosition();else if(d.modelType===ct.POLYLINE_EDGE&&(l=d.text)!==null&&l!==void 0&&l.value){var Z=d.text,re=tf(Z,d.points);d.moveText(re.x-Z.x,re.y-Z.y)}else{var le=d.textPosition,ae=le.x,ye=le.y;d.moveText(ae-E,ye-P)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,i){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===i){var u=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(et.EDGE_DELETE,{data:u})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var i=this.edgesMap[r].index,o=this.edgesMap[r].model.getData();this.edges.splice(i,1),this.eventCenter.emit(et.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeBySource",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(et.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].targetNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(et.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(r,i,o){this.nodes.forEach(function(u){u.id===r?u.setElementState(i,o):u.setElementState(Ot.DEFAULT)}),this.edges.forEach(function(u){u.id===r?u.setElementState(i,o):u.setElementState(Ot.DEFAULT)})}},{key:"updateText",value:function(r,i){this.nodes.forEach(function(o){o.id===r&&o.updateText(i)}),this.edges.forEach(function(o){o.id===r&&o.updateText(i)})}},{key:"selectNodeById",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(i=this.nodesMap[r])===null||i===void 0?void 0:i.model;u==null||u.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(i=this.edgesMap[r])===null||i===void 0?void 0:i.model;u==null||u.setSelected(!0)}},{key:"selectElementById",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var o=this.getElement(r);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(i){i==null||i.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===pn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,i,o){var u=this,l=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(d){return u.moveNode(d,i,o,l)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,i){var o=this.getNodeModelById(r);if(o){var u=o.getData();u.type=i;var l=this.getModel(i);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var d=new l(u,this);this.nodes.splice(this.nodesMap[r].index,1,d),this.getNodeEdges(r).forEach(function(m){if(m.sourceNodeId===r){var E=El(d,m.startPoint,d.width,d.height);m.updateStartPoint(E)}if(m.targetNodeId===r){var P=El(d,m.endPoint,d.width,d.height);m.updateEndPoint(P)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"changeEdgeType",value:function(r,i){var o=this.getEdgeModelById(r);if(o){if(o.type!==i){var u=o.getData();u.type=i;var l=this.getModel(i);if(!l)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete u.pointsList;var d=new l(u,this);this.edges.splice(this.edgesMap[r].index,1,d)}}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8FB9"))}},{key:"getNodeIncomingEdge",value:function(r){var i=[];return this.edges.forEach(function(o){o.targetNodeId===r&&i.push(o)}),i}},{key:"getNodeOutgoingEdge",value:function(r){var i=[];return this.edges.forEach(function(o){o.sourceNodeId===r&&i.push(o)}),i}},{key:"getNodeIncomingNode",value:function(r){var i=this,o=[];return this.edges.forEach(function(u){u.targetNodeId===r&&o.push(i.nodesMap[u.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(r){var i=this,o=[];return this.edges.forEach(function(u){u.sourceNodeId===r&&o.push(i.nodesMap[u.targetNodeId].model)}),o}},{key:"setTheme",value:function(r){this.theme=Zs(ha(ha({},this.theme),r))}},{key:"resize",value:function(r,i){this.width=r!=null?r:this.width,this.height=i!=null?i:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}}])&&Sb(t.prototype,n),e}()).prototype,"width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),of=$e(he.prototype,"height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),af=$e(he.prototype,"edgeType",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uf=$e(he.prototype,"nodes",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),cf=$e(he.prototype,"edges",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),sf=$e(he.prototype,"overlapMode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return pn.DEFAULT}}),lf=$e(he.prototype,"background",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ff=$e(he.prototype,"transformModel",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pf=$e(he.prototype,"editConfigModel",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),df=$e(he.prototype,"gridSize",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),hf=$e(he.prototype,"partial",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yf=$e(he.prototype,"fakerNode",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e(he.prototype,"nodesMap",[s.m],Object.getOwnPropertyDescriptor(he.prototype,"nodesMap"),he.prototype),$e(he.prototype,"edgesMap",[s.m],Object.getOwnPropertyDescriptor(he.prototype,"edgesMap"),he.prototype),$e(he.prototype,"modelsMap",[s.m],Object.getOwnPropertyDescriptor(he.prototype,"modelsMap"),he.prototype),$e(he.prototype,"sortElements",[s.m],Object.getOwnPropertyDescriptor(he.prototype,"sortElements"),he.prototype),$e(he.prototype,"textEditElement",[s.m],Object.getOwnPropertyDescriptor(he.prototype,"textEditElement"),he.prototype),$e(he.prototype,"selectElements",[s.m],Object.getOwnPropertyDescriptor(he.prototype,"selectElements"),he.prototype),$e(he.prototype,"setFakerNode",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"setFakerNode"),he.prototype),$e(he.prototype,"removeFakerNode",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"removeFakerNode"),he.prototype),$e(he.prototype,"setModel",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"setModel"),he.prototype),$e(he.prototype,"toFront",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"toFront"),he.prototype),$e(he.prototype,"setElementZIndex",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"setElementZIndex"),he.prototype),$e(he.prototype,"deleteNode",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteNode"),he.prototype),$e(he.prototype,"addNode",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"addNode"),he.prototype),$e(he.prototype,"cloneNode",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"cloneNode"),he.prototype),$e(he.prototype,"moveNode",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"moveNode"),he.prototype),$e(he.prototype,"moveNode2Coordinate",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"moveNode2Coordinate"),he.prototype),$e(he.prototype,"editText",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"editText"),he.prototype),$e(he.prototype,"addEdge",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"addEdge"),he.prototype),$e(he.prototype,"moveEdge",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"moveEdge"),he.prototype),$e(he.prototype,"deleteEdgeBySourceAndTarget",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteEdgeBySourceAndTarget"),he.prototype),$e(he.prototype,"deleteEdgeById",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteEdgeById"),he.prototype),$e(he.prototype,"deleteEdgeBySource",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteEdgeBySource"),he.prototype),$e(he.prototype,"deleteEdgeByTarget",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"deleteEdgeByTarget"),he.prototype),$e(he.prototype,"setElementStateById",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"setElementStateById"),he.prototype),$e(he.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"updateText"),he.prototype),$e(he.prototype,"selectNodeById",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"selectNodeById"),he.prototype),$e(he.prototype,"selectEdgeById",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"selectEdgeById"),he.prototype),$e(he.prototype,"selectElementById",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"selectElementById"),he.prototype),$e(he.prototype,"clearSelectElements",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"clearSelectElements"),he.prototype),$e(he.prototype,"moveNodes",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"moveNodes"),he.prototype),$e(he.prototype,"setDefaultEdgeType",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"setDefaultEdgeType"),he.prototype),$e(he.prototype,"changeNodeType",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"changeNodeType"),he.prototype),$e(he.prototype,"changeEdgeType",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"changeEdgeType"),he.prototype),$e(he.prototype,"getNodeIncomingEdge",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"getNodeIncomingEdge"),he.prototype),$e(he.prototype,"getNodeOutgoingEdge",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"getNodeOutgoingEdge"),he.prototype),$e(he.prototype,"getNodeIncomingNode",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"getNodeIncomingNode"),he.prototype),$e(he.prototype,"getNodeOutgoingNode",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"getNodeOutgoingNode"),he.prototype),$e(he.prototype,"setTheme",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"setTheme"),he.prototype),$e(he.prototype,"resize",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"resize"),he.prototype),$e(he.prototype,"clearData",[s.k],Object.getOwnPropertyDescriptor(he.prototype,"clearData"),he.prototype),he),Pb=Of;function wf(e){return(wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xf(){return(xf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function kb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ef(e,t){return(Ef=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Ab(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Nu(e);if(t){var i=Nu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tb(this,n)}}function Tb(e,t){if(t&&(wf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zn(e)}function Zn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nu(e){return(Nu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jf,Db=zn(_f=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ef(o,u)})(i,e);var t,n,r=Ab(i);function i(o){var u;(function(E,P){if(!(E instanceof P))throw new TypeError("Cannot call a class as a function")})(this,i),lr(Zn(u=r.call(this)),"stepDrag",void 0),lr(Zn(u),"stepScrollX",0),lr(Zn(u),"stepScrollY",0),lr(Zn(u),"onDraging",function(E){var P=E.deltaX,D=E.deltaY;u.setState({isDraging:!0});var H=u.props.graphModel,Z=H.transformModel;H.editConfigModel.stopMoveGraph||Z.translate(P,D)}),lr(Zn(u),"onDragEnd",function(){u.setState({isDraging:!1})}),lr(Zn(u),"zoomHandler",function(E){var P=u.props,D=P.graphModel,H=D.editConfigModel,Z=D.transformModel,re=D.gridSize,le=P.graphModel,ae=E.deltaX,ye=E.deltaY;if(H.stopScrollGraph||E.ctrlKey===!0){if(!H.stopZoomGraph){E.preventDefault();var be=le.getPointByClient({x:E.clientX,y:E.clientY}).canvasOverlayPosition,De=be.x,je=be.y;Z.zoom(E.deltaY<0,[De,je])}}else{if(E.preventDefault(),u.stepScrollX+=ae,u.stepScrollY+=ye,Math.abs(u.stepScrollX)>=re){var Ce=u.stepScrollX%re,Be=u.stepScrollX-Ce;Z.translate(-Be*Z.SCALE_X,0),u.stepScrollX=Ce}if(Math.abs(u.stepScrollY)>=re){var tt=u.stepScrollY%re,xt=u.stepScrollY-tt;Z.translate(0,-xt*Z.SCALE_Y),u.stepScrollY=tt}}}),lr(Zn(u),"clickHandler",function(E){if(E.target.getAttribute("name")==="canvas-overlay"){var P=u.props.graphModel;P.selectElements.size>0&&P.clearSelectElements(),P.eventCenter.emit(et.BLANK_CLICK,{e:E})}}),lr(Zn(u),"handleContextMenu",function(E){if(E.target.getAttribute("name")==="canvas-overlay"){E.preventDefault();var P=u.props.graphModel,D=P.getPointByClient({x:E.clientX,y:E.clientY});P.eventCenter.emit(et.BLANK_CONTEXTMENU,{e:E,position:D})}}),lr(Zn(u),"mouseDownHandler",function(E){var P=u.props.graphModel,D=P.eventCenter,H=P.editConfigModel,Z=P.transformModel.SCALE_X,re=P.gridSize;H.stopMoveGraph?D.emit(et.BLANK_MOUSEDOWN,{e:E}):(u.stepDrag.setStep(re*Z),u.stepDrag.handleMouseDown(E)),u.clickHandler(E)});var l=o.graphModel,d=l.gridSize,m=l.eventCenter;return u.stepDrag=new wo({onDraging:u.onDraging,onDragEnd:u.onDragEnd,step:d,eventType:"BLANK",eventCenter:m,model:null}),u.state={isDraging:!1},u}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props,l=u.children,d=u.dnd,m=this.state.isDraging;return Object(ee.g)("svg",xf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:m?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},d.eventMap()),Object(ee.g)("g",{transform:o},l))}}])&&kb(t.prototype,n),i}(ee.a))||_f;function Sf(e){return(Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Mb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pf(e,t){return(Pf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Cb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Cu(e);if(t){var i=Cu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Rb(this,n)}}function Rb(e,t){if(t&&(Sf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kf(e)}function kf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cu(e){return(Cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ib(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lb=zn(jf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Pf(o,u)})(i,e);var t,n,r=Cb(i);function i(){var o;Mb(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Ib(kf(o=r.call.apply(r,[this].concat(l))),"setToolOverlayRef",function(m){var E=o.props.tool.getInstance();E.components.forEach(function(P){return P(E,m)}),E.components=[]}),o}return t=i,(n=[{key:"getTools",value:function(){var o=this.props,u=o.tool,l=o.graphModel,d=u.getTools().map(function(m){return Object(ee.g)(m,{graphModel:l,logicFlow:u.instance})});return u.components=d,d}},{key:"render",value:function(){return Object(ee.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&Nb(t.prototype,n),i}(ee.a))||jf;function Af(e){return(Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function zb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tf(e,t){return(Tf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Fb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ru(e);if(t){var i=Ru(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Hb(this,n)}}function Hb(e,t){if(t&&(Af(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ru(e){return(Ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Df,Xb=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Tf(o,u)})(i,e);var t,n,r=Fb(i);function i(){return zb(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.background;return Object(ee.g)("div",{className:"lf-background"},Object(ee.g)("div",{style:o,className:"lf-background-area"}))}}])&&Bb(t.prototype,n),i}(ee.a);function Mf(e){return(Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Vb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ub(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nf(e,t){return(Nf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Gb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Iu(e);if(t){var i=Iu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yb(this,n)}}function Yb(e,t){if(t&&(Mf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cf(e)}function Cf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iu(e){return(Iu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Wb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rf=zn(Df=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Nf(o,u)})(i,e);var t,n,r=Gb(i);function i(){var o;Vb(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Wb(Cf(o=r.call.apply(r,[this].concat(l))),"id",mo()),o}return t=i,(n=[{key:"renderDot",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,m=d===void 0?2:d,E=o.size,P=o.visible,D=Math.min(Math.max(2,m),E/2),H=1;return P||(H=0),Object(ee.g)("rect",{width:D,height:D,rx:D/2,ry:D/2,fill:l,opacity:H})}},{key:"renderMesh",value:function(){var o=this.props,u=o.config,l=u.color,d=u.thickness,m=d===void 0?1:d,E=o.size,P=o.visible,D=Math.min(Math.max(1,m),E/2),H="M ".concat(E," 0 H0 M0 0 V0 ").concat(E),Z=1;return P||(Z=0),Object(ee.g)("path",{d:H,stroke:l,strokeWidth:D,opacity:Z})}},{key:"render",value:function(){var o=this.props,u=o.type,l=o.size,d=o.graphModel.transformModel,m=[d.SCALE_X,d.SKEW_Y,d.SKEW_X,d.SCALE_Y,d.TRANSLATE_X,d.TRANSLATE_Y].join(","),E="matrix(".concat(m,")");return Object(ee.g)("div",{className:"lf-grid"},Object(ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ee.g)("defs",null,Object(ee.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:E,x:"0",y:"0",width:l,height:l},u==="dot"&&this.renderDot(),u==="mesh"&&this.renderMesh())),Object(ee.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&Ub(t.prototype,n),i}(ee.a))||Df;Rf.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},a(50);function If(e){return(If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function $b(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Lf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Lf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Lf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zf,Jr=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(n){var r=$b(n,2),i=r[0],o=r[1];If(o)!=="object"&&(t[i]=o)}),Object(ee.g)("line",t)};function Bf(e){return(Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ff(Object(n),!0).forEach(function(r){Kb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ff(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hf(e,t){return(Hf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Jb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Lu(e);if(t){var i=Lu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qb(this,n)}}function Qb(e,t){if(t&&(Bf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Lu(e){return(Lu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Xf,em=zn(zf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Hf(o,u)})(i,e);var t,n,r=Jb(i);function i(){return qb(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,u=o.position,l=o.isShowHorizontal,d=o.isShowVertical,m=o.getStyle(),E=u.x,P=E===void 0?0:E,D=u.y,H=D===void 0?0:D,Z=ya(ya({x1:-1e5,y1:H,x2:1e5,y2:H},m),{},{stroke:l?m.stroke:"none"}),re=ya(ya({x1:P,y1:-1e5,x2:P,y2:1e5},m),{},{stroke:d?m.stroke:"none"});return Object(ee.g)("g",{className:"lf-snapline"},Object(ee.g)(Jr,Z),Object(ee.g)(Jr,re))}}])&&Zb(t.prototype,n),i}(ee.a))||zf;function Vf(e){return(Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function tm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Uf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Uf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dr(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.className,u=e.radius,l=t-r/2,d=n-i/2,m={};return Object.entries(e).forEach(function(E){var P=tm(E,2),D=P[0],H=P[1];Vf(H)!=="object"&&(m[D]=H)}),m.className=o?"lf-basic-shape ".concat(o):"lf-basic-shape",u&&(m.rx=u,m.ry=u),m.x=l,m.y=d,Object(ee.g)("rect",m)}function Gf(e){return(Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ri(){return(ri=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Yf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yf(Object(n),!0).forEach(function(r){nm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $f(e,t){return($f=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function im(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=zu(e);if(t){var i=zu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return am(this,n)}}function am(e,t){if(t&&(Gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function zu(e){return(zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Dr.defaultProps={className:"",radius:""};var Kf,um=zn(Xf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&$f(o,u)})(i,e);var t,n,r=im(i);function i(){return rm(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,u=o.nodes,l=o.editConfigModel,d=l.hoverOutline,m=l.nodeSelectedOutline,E=[];return u.forEach(function(P){if(P.isHovered||P.isSelected){var D=P.isHovered,H=P.isSelected,Z=P.x,re=P.y,le=P.width,ae=P.height;if(m&&H||d&&D){var ye=P.getOutlineStyle(),be={};if(Object.keys(ye).forEach(function(je){je!=="hover"&&(be[je]=ye[je])}),D){var De=ye.hover;be=Wf(Wf({},be),De)}E.push(Object(ee.g)(Dr,ri({className:"lf-outline-node",x:Z,y:re,width:le+10,height:ae+10},be)))}}}),E}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,u=o.edges,l=o.editConfigModel,d=l.edgeSelectedOutline,m=l.hoverOutline,E=[],P=0;P<u.length;P++){var D=u[P];(d&&D.isSelected||m&&D.isHovered)&&(D.modelType===ct.LINE_EDGE?E.push(this.getLineOutline(D)):D.modelType===ct.POLYLINE_EDGE?E.push(this.getPolylineOutline(D)):D.modelType===ct.BEZIER_EDGE&&E.push(this.getBezierOutline(D)))}return E}},{key:"getLineOutline",value:function(o){var u=o.startPoint,l=o.endPoint,d=(u.x+l.x)/2,m=(u.y+l.y)/2,E=Math.abs(u.x-l.x)+10,P=Math.abs(u.y-l.y)+10,D=o.getOutlineStyle();return Object(ee.g)(Dr,ri({className:"lf-outline-edge",x:d,y:m,width:E,height:P},D))}},{key:"getPolylineOutline",value:function(o){var u=o.points,l=_o(u),d=ti(l,8),m=d.x,E=d.y,P=d.width,D=d.height,H=o.getOutlineStyle();return Object(ee.g)(Dr,ri({className:"lf-outline",x:m,y:E,width:P,height:D},H))}},{key:"getBezierOutline",value:function(o){var u=o.path,l=fa(u),d=ti(l,8),m=d.x,E=d.y,P=d.width,D=d.height,H=o.getOutlineStyle();return Object(ee.g)(Dr,ri({className:"lf-outline",x:m,y:E,width:P,height:D},H))}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&om(t.prototype,n),i}(ee.a))||Xf;function qf(e){return(qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function cm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Zf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Zf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Zf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oi(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.r,u=o===void 0?4:o,l=e.className,d={cx:n,cy:i,r:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(m){var E=cm(m,2),P=E[0],D=E[1];qf(D)!=="object"&&(d[P]=D)}),d.className=l?"lf-basic-shape ".concat(l):"lf-basic-shape",Object(ee.g)("circle",d)}function Jf(e){return(Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function va(){return(va=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Qf(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ep(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ep(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ep(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function np(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rp(e,t,n){return t&&np(e.prototype,t),n&&np(e,n),e}function op(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ip(e,t)}function ip(e,t){return(ip=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function ap(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bu(e);if(t){var i=Bu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sm(this,n)}}function sm(e,t){if(t&&(Jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ga(e)}function ga(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bu(e){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Fu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var up,cp=function(e){op(n,e);var t=ap(n);function n(r){var i;tp(this,n),Fu(ga(i=t.call(this)),"dragHandler",void 0),Fu(ga(i),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,m=i.props,E=m.graphModel,P=m.bezierModel,D=m.type,H=E.transformModel,Z=i.state,re=Z.endX,le=Z.endY,ae=Qf(H.moveCanvasPointByHtml([re,le],l,d),2),ye=ae[0],be=ae[1];i.setState({endX:ye,endY:be}),P.updateAdjustAnchor({x:ye,y:be},D)}),Fu(ga(i),"onDragEnd",function(){var u=i.state,l=u.endX,d=u.endY,m=i.props,E=m.bezierModel,P=m.type;E.updateAdjustAnchor({x:l,y:d},P),E.isDragging=!1}),i.dragHandler=da({onDraging:i.onDraging,onDragEnd:i.onDragEnd});var o=r.position;return i.state={endX:o.x,endY:o.y},i}return rp(n,[{key:"render",value:function(){var r=this.props.position,i=r.x,o=r.y,u=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(ee.g)(oi,va({className:"lf-bezier-adjust-anchor",x:i,y:o},u,{onMouseDown:this.dragHandler}))}}]),n}(ee.a),lm=zn(Kf=function(e){op(n,e);var t=ap(n);function n(){return tp(this,n),t.apply(this,arguments)}return rp(n,[{key:"getBezierAdjust",value:function(r,i){var o=r.path,u=r.id,l=Qf(fa(o),4),d=l[0],m=l[1],E=l[2],P=l[3],D=r.getEdgeStyle().adjustLine,H=[];return H.push(Object(ee.g)(Jr,va({x1:d.x,y1:d.y,x2:m.x,y2:m.y},D))),H.push(Object(ee.g)(cp,{position:m,bezierModel:r,graphModel:i,key:"".concat(u,"_ePre"),type:"sNext"})),H.push(Object(ee.g)(Jr,va({x1:P.x,y1:P.y,x2:E.x,y2:E.y},D))),H.push(Object(ee.g)(cp,{position:E,bezierModel:r,graphModel:i,key:"".concat(u,"_sNext"),type:"ePre"})),H}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,i=r.edges,o=[],u=0;u<i.length;u++){var l=i[u];l.isSelected&&l.modelType===ct.BEZIER_EDGE&&l.draggable&&o.push(this.getBezierAdjust(l,r))}return o}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(ee.a))||Kf;function sp(e){return(sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function fm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lp(e,t){return(lp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function dm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Hu(e);if(t){var i=Hu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hm(this,n)}}function hm(e,t){if(t&&(sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Hu(e){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var fp,ym=zn(up=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&lp(o,u)})(i,e);var t,n,r=dm(i);function i(){return fm(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props.children;return Object(ee.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ee.g)("g",{transform:o},u))}}])&&pm(t.prototype,n),i}(ee.a))||up;function pp(e){return(pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function dp(){return(dp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hp(e,t){return(hp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function bm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Xu(e);if(t){var i=Xu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mm(this,n)}}function mm(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Xu(e){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var _m=zn(fp=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&hp(o,u)})(i,e);var t,n,r=bm(i);function i(){return vm(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getComponent",value:function(o,u){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",d=this.props.getView,m=d(o.type);return Object(ee.g)(m,{key:o.id,model:o,graphModel:u,overlay:l})}},{key:"render",value:function(){var o=this,u=this.props,l=u.graphModel,d=u.tool,m=u.options,E=u.dnd,P=u.snaplineModel,D={};m.width&&(D.width="".concat(l.width,"px")),m.height&&(D.height="".concat(l.height,"px"));var H=l.fakerNode,Z=l.editConfigModel.adjustEdge;return Object(ee.g)("div",{className:"lf-graph",style:D},Object(ee.g)(Db,{graphModel:l,dnd:E},Object(ee.g)("g",{className:"lf-base"},qi(l.sortElements,function(re){return o.getComponent(re,l)})),H?this.getComponent(H,l):""),Object(ee.g)(ym,{graphModel:l},Object(ee.g)(um,{graphModel:l}),Z?Object(ee.g)(lm,{graphModel:l}):"",m.isSilentMode||m.snapline===!1?"":Object(ee.g)(em,{snaplineModel:P})),Object(ee.g)(Lb,{graphModel:l,tool:d}),m.background&&Object(ee.g)(Xb,{background:m.background}),m.grid&&Object(ee.g)(Rf,dp({},m.grid,{graphModel:l})))}}])&&gm(t.prototype,n),i}(ee.a))||fp;function yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yp(Object(n),!0).forEach(function(r){fr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wm=function(){function e(r){var i=this;(function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")})(this,e),fr(this,"nodeConfig",void 0),fr(this,"lf",void 0),fr(this,"fakerNode",void 0),fr(this,"stopDrag",function(){i.nodeConfig=null,window.document.removeEventListener("mouseup",i.stopDrag)}),fr(this,"dragEnter",function(u){i.nodeConfig&&!i.fakerNode&&(i.fakerNode=i.lf.createFakerNode(ba(ba({},i.nodeConfig),i.clientToLocalPoint({x:u.clientX,y:u.clientY}))))}),fr(this,"onDragOver",function(u){if(u.preventDefault(),i.fakerNode){var l=i.clientToLocalPoint({x:u.clientX,y:u.clientY}),d=l.x,m=l.y;i.fakerNode.moveTo(d,m);var E=i.fakerNode.getData();i.lf.setNodeSnapLine(E),i.lf.graphModel.eventCenter.emit(et.NODE_DND_DRAG,{data:E})}return!1}),fr(this,"onDragLeave",function(){i.fakerNode&&(i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)}),fr(this,"onDrop",function(u){if(i.lf.graphModel&&u&&i.nodeConfig){var l=i.lf.addNode(ba(ba({},i.nodeConfig),i.clientToLocalPoint({x:u.clientX,y:u.clientY})));u.preventDefault(),u.stopPropagation(),i.nodeConfig=null,i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null;var d=l.getData();i.lf.graphModel.eventCenter.emit(et.NODE_DND_ADD,{data:d})}});var o=r.lf;this.lf=o}var t,n;return t=e,(n=[{key:"clientToLocalPoint",value:function(r){var i=r.x,o=r.y,u=Wo(this.lf.options,["grid","size"]),l=this.lf.graphModel.getPointByClient({x:i,y:o}).canvasOverlayPosition,d=l.x,m=l.y;return{x:ea(d,u),y:ea(m,u)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Om(t.prototype,n),e}();function vp(e){var t=e.container,n=e.grid,r=e.width,i=e.height;if(!t)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof r=="string"||typeof i=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return n&&(e.grid=nn({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),nn({},bp,e)}var kt,gp,bp={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function mp(e){return(mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return _p(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _p(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _p(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Op(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ma(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Op(Object(n),!0).forEach(function(r){xp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Op(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Em(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function jm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _a(){return(_a=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Pm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Pm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Qr(e))!==null;);return e}function wp(e,t){return(wp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function km(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qr(e);if(t){var i=Qr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Am(this,n)}}function Am(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oa(e)}function Oa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qr(e){return(Qr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function xp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pr(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Vu=(gp=pr((kt=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&wp(o,u)})(i,e);var t,n,r=km(i);function i(){var o;jm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return xp(Oa(o=r.call.apply(r,[this].concat(l))),"modelType",ct.BEZIER_EDGE),Em(Oa(o),"path",gp,Oa(o)),o}return t=i,(n=[{key:"initEdgeData",value:function(o){this.offset=100,_a(Qr(i.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier;return ma(ma({},_a(Qr(i.prototype),"getEdgeStyle",this).call(this)),Ct(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,u=0;return this.pointsList.forEach(function(l){var d=l.x,m=l.y;o+=d,u+=m}),{x:o/this.pointsList.length,y:u/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=_a(Qr(i.prototype),"getData",this).call(this),u=this.pointsList.map(function(l){return{x:l.x,y:l.y}});return ma(ma({},o),{},{pointsList:u})}},{key:"getControls",value:function(){var o=this.startPoint,u=this.endPoint;return ef({start:o,end:u,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var u=xm(o,4),l=u[0],d=u[1],m=u[2],E=u[3];return"M ".concat(l.x," ").concat(l.y,`
    C `).concat(d.x," ").concat(d.y,`,
    `).concat(m.x," ").concat(m.y,`,
    `).concat(E.x," ").concat(E.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},u={x:this.endPoint.x,y:this.endPoint.y},l=this.getControls(),d=l.sNext,m=l.ePre;this.pointsList=[o,d,m,u],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"updateAdjustAnchor",value:function(o,u){u==="sNext"?this.pointsList[1]=o:u==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,l=o.endPoint,d=o.sourceNode,m=o.targetNode,E=ef({start:u,end:l,sourceNode:d,targetNode:m,offset:this.offset}),P=E.sNext,D=E.ePre;this.pointsList=[u,P,D,l],this.initPoints()}}])&&Sm(t.prototype,n),i}(wu)).prototype,"path",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pr(kt.prototype,"initPoints",[s.k],Object.getOwnPropertyDescriptor(kt.prototype,"initPoints"),kt.prototype),pr(kt.prototype,"updatePoints",[s.k],Object.getOwnPropertyDescriptor(kt.prototype,"updatePoints"),kt.prototype),pr(kt.prototype,"updateStartPoint",[s.k],Object.getOwnPropertyDescriptor(kt.prototype,"updateStartPoint"),kt.prototype),pr(kt.prototype,"updateEndPoint",[s.k],Object.getOwnPropertyDescriptor(kt.prototype,"updateEndPoint"),kt.prototype),pr(kt.prototype,"updateAdjustAnchor",[s.k],Object.getOwnPropertyDescriptor(kt.prototype,"updateAdjustAnchor"),kt.prototype),pr(kt.prototype,"getAdjustStart",[s.k],Object.getOwnPropertyDescriptor(kt.prototype,"getAdjustStart"),kt.prototype),pr(kt.prototype,"getAdjustEnd",[s.k],Object.getOwnPropertyDescriptor(kt.prototype,"getAdjustEnd"),kt.prototype),pr(kt.prototype,"updateAfterAdjustStartAndEnd",[s.k],Object.getOwnPropertyDescriptor(kt.prototype,"updateAfterAdjustStartAndEnd"),kt.prototype),kt),Le,Ep,jp,Sp,Pp,kp,Ap,Tp,Dp,Mp,Np,Cp,Rp,Ip,Lp,zp,Bp,Fp,Tm=function(e){return e==null};function Hp(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(d,m){if(!!d){if(typeof d=="string")return Xp(d,m);var E=Object.prototype.toString.call(d).slice(8,-1);if(E==="Object"&&d.constructor&&(E=d.constructor.name),E==="Map"||E==="Set")return Array.from(d);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return Xp(d,m)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return u=d.done,d},e:function(d){l=!0,o=d},f:function(){try{u||n.return==null||n.return()}finally{if(l)throw o}}}}function Xp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vp(Object(n),!0).forEach(function(r){On(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $t(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Dm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function On(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Mr,Up,hr=(Ep=gt((Le=function(){function e(r,i){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),On(this,"id",mo()),$t(this,"type",Ep,this),$t(this,"x",jp,this),$t(this,"y",Sp,this),$t(this,"text",Pp,this),$t(this,"properties",kp,this),$t(this,"_width",Ap,this),$t(this,"_height",Tp,this),$t(this,"anchorsOffset",Dp,this),$t(this,"isSelected",Mp,this),$t(this,"isHovered",Np,this),$t(this,"isDragging",Cp,this),$t(this,"isHitable",Rp,this),$t(this,"draggable",Ip,this),$t(this,"visible",Lp,this),On(this,"graphModel",void 0),$t(this,"zIndex",zp,this),$t(this,"state",Bp,this),$t(this,"autoToFront",Fp,this),On(this,"BaseType",Xt.NODE),On(this,"modelType",ct.NODE),On(this,"additionStateData",void 0),On(this,"targetRules",[]),On(this,"sourceRules",[]),On(this,"moveRules",[]),On(this,"hasSetTargetRules",!1),On(this,"hasSetSourceRules",!1),this.graphModel=i,this.initNodeData(r),this.setAttributes()}var t,n;return t=e,(n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}this.formatText(r),nn(this,function(l){return Ko(l,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===pn.INCREASE&&(this.zIndex=r.zIndex||_u())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,u=r.value,l=this.properties;Object(s.x)(l)&&(l=Object(s.I)(l));var d={id:this.id,type:this.type,x:this.x,y:this.y,properties:l};return this.graphModel.overlapMode===pn.INCREASE&&(d.zIndex=this.zIndex),u&&(d.text={x:i,y:o,value:u}),d}},{key:"getProperties",value:function(){return Object(s.I)(this.properties)}},{key:"getNodeStyle",value:function(){return dr({},this.graphModel.theme.baseNode)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Ct(r)}},{key:"getAnchorStyle",value:function(r){var i=this.graphModel.theme.anchor;return Ct(i)}},{key:"getAnchorLineStyle",value:function(){var r=this.graphModel.theme.anchorLine;return Ct(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Ct(r)}},{key:"isAllowConnectedAsSource",value:function(r,i,o){var u=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var l,d=!0,m=0;m<u.length;m++){var E=u[m];if(!E.validate.call(this,this,r,i,o)){d=!1,l=E.message;break}}return{isAllPass:d,msg:l}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,i,o){var u=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var l,d=!0,m=0;m<u.length;m++){var E=u[m];if(!E.validate.call(this,r,this,i,o)){d=!1,l=E.message;break}}return{isAllPass:d,msg:l}}},{key:"isAllowMoveNode",value:function(r,i){var o,u=Hp(this.moveRules);try{for(u.s();!(o=u.n()).done;)if(!(0,o.value)(this,r,i))return!1}catch(m){u.e(m)}finally{u.f()}var l,d=Hp(this.graphModel.nodeMoveRules);try{for(d.s();!(l=d.n()).done;)if(!(0,l.value)(this,r,i))return!1}catch(m){d.e(m)}finally{d.f()}return!0}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,i=this.id,o=this.x,u=this.y;return r&&r.length>0?r.map(function(l,d){return l.length?(l=l,{id:"".concat(i,"_").concat(d),x:o+l[0],y:u+l[1]}):dr(dr({},l=l),{},{x:o+l.x,y:u+l.y,id:l.id||"".concat(i,"_").concat(d)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(r){if(!Tm(r))for(var i=0;i<this.anchors.length;i++){var o=this.anchors[i];if(o.id===r)return o}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!o&&!this.isAllowMoveNode(r,i))return!1;var u=this.x+r,l=this.y+i;return this.x=u,this.y=l,this.text&&this.moveText(r,i),!0}},{key:"moveTo",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=r-this.x,l=i-this.y;return!(!o&&!this.isAllowMoveNode(u,l)||(this.text&&this.text&&this.moveText(u,l),this.x=r,this.y=i,0))}},{key:"moveText",value:function(r,i){var o=this.text,u=o.x,l=o.y,d=o.value,m=o.draggable,E=o.editable;this.text={value:d,editable:E,draggable:m,x:u+r,y:l+i}}},{key:"updateText",value:function(r){this.text=dr(dr({},this.text),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"setProperty",value:function(r,i){this.properties=dr(dr({},this.properties),{},On({},r,qn(i))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=dr(dr({},this.properties),qn(r)),this.setAttributes()}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){nn(this,r)}}])&&Dm(t.prototype,n),e}()).prototype,"type",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),jp=gt(Le.prototype,"x",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sp=gt(Le.prototype,"y",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Pp=gt(Le.prototype,"text",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),kp=gt(Le.prototype,"properties",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Ap=gt(Le.prototype,"_width",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Tp=gt(Le.prototype,"_height",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Dp=gt(Le.prototype,"anchorsOffset",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Mp=gt(Le.prototype,"isSelected",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Np=gt(Le.prototype,"isHovered",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cp=gt(Le.prototype,"isDragging",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rp=gt(Le.prototype,"isHitable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ip=gt(Le.prototype,"draggable",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Lp=gt(Le.prototype,"visible",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zp=gt(Le.prototype,"zIndex",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Bp=gt(Le.prototype,"state",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Fp=gt(Le.prototype,"autoToFront",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gt(Le.prototype,"incoming",[s.m],Object.getOwnPropertyDescriptor(Le.prototype,"incoming"),Le.prototype),gt(Le.prototype,"outgoing",[s.m],Object.getOwnPropertyDescriptor(Le.prototype,"outgoing"),Le.prototype),gt(Le.prototype,"addNodeMoveRules",[s.k],Object.getOwnPropertyDescriptor(Le.prototype,"addNodeMoveRules"),Le.prototype),gt(Le.prototype,"move",[s.k],Object.getOwnPropertyDescriptor(Le.prototype,"move"),Le.prototype),gt(Le.prototype,"moveTo",[s.k],Object.getOwnPropertyDescriptor(Le.prototype,"moveTo"),Le.prototype),gt(Le.prototype,"moveText",[s.k],Object.getOwnPropertyDescriptor(Le.prototype,"moveText"),Le.prototype),gt(Le.prototype,"updateText",[s.k],Object.getOwnPropertyDescriptor(Le.prototype,"updateText"),Le.prototype),gt(Le.prototype,"setSelected",[s.k],Object.getOwnPropertyDescriptor(Le.prototype,"setSelected"),Le.prototype),gt(Le.prototype,"setHovered",[s.k],Object.getOwnPropertyDescriptor(Le.prototype,"setHovered"),Le.prototype),gt(Le.prototype,"setHitable",[s.k],Object.getOwnPropertyDescriptor(Le.prototype,"setHitable"),Le.prototype),gt(Le.prototype,"setElementState",[s.k],Object.getOwnPropertyDescriptor(Le.prototype,"setElementState"),Le.prototype),gt(Le.prototype,"setProperty",[s.k],Object.getOwnPropertyDescriptor(Le.prototype,"setProperty"),Le.prototype),gt(Le.prototype,"setProperties",[s.k],Object.getOwnPropertyDescriptor(Le.prototype,"setProperties"),Le.prototype),gt(Le.prototype,"setZIndex",[s.k],Object.getOwnPropertyDescriptor(Le.prototype,"setZIndex"),Le.prototype),gt(Le.prototype,"updateAttributes",[s.k],Object.getOwnPropertyDescriptor(Le.prototype,"updateAttributes"),Le.prototype),Le);function Gp(e){return(Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Yp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Yp(Object(n),!0).forEach(function(r){qp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Nm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $p(){return($p=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Rm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Rm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ii(e))!==null;);return e}function Kp(e,t){return(Kp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Im(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ii(e);if(t){var i=ii(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Lm(this,n)}}function Lm(e,t){if(t&&(Gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wa(e)}function wa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ii(e){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function qp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uu(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var rn,Zp,Jp,Gu=(Up=Uu((Mr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Kp(o,u)})(i,e);var t,n,r=Im(i);function i(){var o;Nm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return qp(wa(o=r.call.apply(r,[this].concat(l))),"modelType",ct.CIRCLE_NODE),Mm(wa(o),"r",Up,wa(o)),o}return t=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var o=$p(ii(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.circle;return Wp(Wp({},o),Ct(u))}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.r;return[{x:o,y:u-l,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+l,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&Cm(t.prototype,n),i}(hr)).prototype,"r",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Uu(Mr.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Mr.prototype,"width"),Mr.prototype),Uu(Mr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Mr.prototype,"height"),Mr.prototype),Mr);a(123);function Qp(e){return(Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Yu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ed(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ed(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ed(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function td(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?td(Object(n),!0).forEach(function(r){ad(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):td(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function zm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function od(){return(od=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Fm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Fm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ai(e))!==null;);return e}function id(e,t){return(id=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Hm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ai(e);if(t){var i=ai(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Xm(this,n)}}function Xm(e,t){if(t&&(Qp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xo(e)}function xo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ai(e){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ad(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eo(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var yr,ud,cd,Wu=(Zp=Eo((rn=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&id(o,u)})(i,e);var t,n,r=Hm(i);function i(){var o;zm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return ad(xo(o=r.call.apply(r,[this].concat(l))),"modelType",ct.DIAMOND_NODE),rd(xo(o),"rx",Zp,xo(o)),rd(xo(o),"ry",Jp,xo(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=od(ai(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.diamond;return nd(nd({},o),Ct(u))}},{key:"points",get:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[[o,u-d],[o+l,u],[o,u+d],[o-l,u]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Yu(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Yu(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(u,l){var d=Yu(u,2);return{x:d[0],y:d[1],id:"".concat(o.id,"_").concat(l)}})}}])&&Bm(t.prototype,n),i}(hr)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Jp=Eo(rn.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Eo(rn.prototype,"points",[s.m],Object.getOwnPropertyDescriptor(rn.prototype,"points"),rn.prototype),Eo(rn.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(rn.prototype,"pointsPosition"),rn.prototype),Eo(rn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(rn.prototype,"width"),rn.prototype),Eo(rn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(rn.prototype,"height"),rn.prototype),rn);function sd(e){return(sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ld(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ld(Object(n),!0).forEach(function(r){yd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ld(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Vm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Um(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dd(){return(dd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Gm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Gm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ui(e))!==null;);return e}function hd(e,t){return(hd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Ym(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ui(e);if(t){var i=ui(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Wm(this,n)}}function Wm(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jo(e)}function jo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function yd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xa(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Nn,vd,$u=(ud=xa((yr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&hd(o,u)})(i,e);var t,n,r=Ym(i);function i(){var o;Vm(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return yd(jo(o=r.call.apply(r,[this].concat(l))),"modelType",ct.ELLIPSE_NODE),pd(jo(o),"rx",ud,jo(o)),pd(jo(o),"ry",cd,jo(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=dd(ui(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.ellipse;return fd(fd({},o),Ct(u))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.rx,d=this.ry;return[{x:o,y:u-d,id:"".concat(this.id,"_0")},{x:o+l,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d,id:"".concat(this.id,"_2")},{x:o-l,y:u,id:"".concat(this.id,"_3")}]}}])&&Um(t.prototype,n),i}(hr)).prototype,"rx",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),cd=xa(yr.prototype,"ry",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),xa(yr.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(yr.prototype,"width"),yr.prototype),xa(yr.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(yr.prototype,"height"),yr.prototype),yr);function gd(e){return(gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ku(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return bd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return bd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _d(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?md(Object(n),!0).forEach(function(r){xd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Km(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Od(){return(Od=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Zm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Zm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ci(e))!==null;);return e}function wd(e,t){return(wd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Jm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ci(e);if(t){var i=ci(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qm(this,n)}}function Qm(e,t){if(t&&(gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ea(e)}function Ea(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function xd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ja(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Ed,jd,qu=(vd=ja((Nn=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&wd(o,u)})(i,e);var t,n,r=Jm(i);function i(){var o;Km(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return xd(Ea(o=r.call.apply(r,[this].concat(l))),"modelType",ct.POLYGON_NODE),$m(Ea(o),"points",vd,Ea(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=Od(ci(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.polygon;return _d(_d({},o),Ct(u))}},{key:"pointsPosition",get:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return this.points.map(function(m){return{x:m[0]+o-l/2,y:m[1]+u-d/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Ku(l,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(l){var d=Ku(l,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this,u=this.x,l=this.y,d=this.width,m=this.height;return this.points.map(function(E,P){var D=Ku(E,2),H=D[0],Z=D[1];return{x:u+H-d/2,y:l+Z-m/2,id:"".concat(o.id,"_").concat(P)}})}}])&&qm(t.prototype,n),i}(hr)).prototype,"points",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),ja(Nn.prototype,"pointsPosition",[s.m],Object.getOwnPropertyDescriptor(Nn.prototype,"pointsPosition"),Nn.prototype),ja(Nn.prototype,"width",[s.m],Object.getOwnPropertyDescriptor(Nn.prototype,"width"),Nn.prototype),ja(Nn.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(Nn.prototype,"height"),Nn.prototype),Nn);function Sd(e){return(Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pd(Object(n),!0).forEach(function(r){Dd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function t0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ad(){return(Ad=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=r0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function r0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=si(e))!==null;);return e}function Td(e,t){return(Td=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function o0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=si(e);if(t){var i=si(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return i0(this,n)}}function i0(e,t){if(t&&(Sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sa(e)}function Sa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function si(e){return(si=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Dd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eo,Zu=(jd=function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}((Ed=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Td(o,u)})(i,e);var t,n,r=o0(i);function i(){var o;t0(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Dd(Sa(o=r.call.apply(r,[this].concat(l))),"modelType",ct.RECT_NODE),e0(Sa(o),"radius",jd,Sa(o)),o}return t=i,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Ad(si(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.rect;return kd(kd({},o),Ct(u))}}])&&n0(t.prototype,n),i}(hr)).prototype,"radius",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ed);function Md(e){return(Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Nd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nd(Object(n),!0).forEach(function(r){zd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rd(){return(Rd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=c0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function c0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=li(e))!==null;);return e}function Id(e,t){return(Id=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function s0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=li(e);if(t){var i=li(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l0(this,n)}}function l0(e,t){if(t&&(Md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ld(e)}function Ld(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function li(e){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function zd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bd(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Ju=(Bd((eo=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Id(o,u)})(i,e);var t,n,r=s0(i);function i(){var o;a0(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return zd(Ld(o=r.call.apply(r,[this].concat(l))),"modelType",ct.TEXT_NODE),o}return t=i,(n=[{key:"getTextStyle",value:function(){var o=Rd(li(i.prototype),"getTextStyle",this).call(this),u=this.graphModel.theme.text;return Cd(Cd({},o),Ct(u))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return mu({rows:o,fontSize:u,rowsLength:o.length}).width}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return mu({rows:o,fontSize:u,rowsLength:o.length}).height}}])&&u0(t.prototype,n),i}(hr)).prototype,"width",[s.m],Object.getOwnPropertyDescriptor(eo.prototype,"width"),eo.prototype),Bd(eo.prototype,"height",[s.m],Object.getOwnPropertyDescriptor(eo.prototype,"height"),eo.prototype),eo);function Fd(e){return(Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function f0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hd(e,t){return(Hd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function d0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Qu(e);if(t){var i=Qu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h0(this,n)}}function h0(e,t){if(t&&(Fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xd(e)}function Xd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qu(e){return(Qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function y0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jn,Vd,Ud,Gd,ec=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Hd(o,u)})(i,e);var t,n,r=d0(i);function i(){var o;f0(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return y0(Xd(o=r.call.apply(r,[this].concat(l))),"modelType",ct.HTML_NODE),o}return t=i,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,l=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+l/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-l/2,y:u,id:"".concat(this.id,"_3")}]}}])&&p0(t.prototype,n),i}(hr);function Yd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tc(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fi(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,l){return l(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var $d=(Vd=fi((Jn=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Wd(this,"graphModel",void 0),tc(this,"isShowHorizontal",Vd,this),tc(this,"isShowVertical",Ud,this),tc(this,"position",Gd,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var t,n;return t=e,(n=[{key:"getStyle",value:function(){return function(r){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?Yd(Object(o),!0).forEach(function(u){Wd(r,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Yd(Object(o)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(o,u))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,i){for(var o=r.x,u=r.y,l=!1,d=!1,m=0;m<i.length;m++){var E=i[m];if(E.id!==r.id&&(o===E.x&&(l=!0),u===E.y&&(d=!0),l&&d))break}return{isShowVertical:l,isShowHorizontal:d,position:{x:o,y:u}}}},{key:"getHorizontalSnapline",value:function(r,i){var o,u,l=!1,d=r.id;if(d){var m=this.graphModel.fakerNode;if(m&&m.id===d)u=dn(m);else{var E=this.graphModel.getNodeModelById(d);u=dn(E)}}for(var P=0;P<i.length;P++){var D=i[P];if(D.id!==r.id){var H=dn(D);if(H.minY===u.minY||H.maxY===u.minY){l=!0,o=u.minY;break}if(H.minY===u.maxY||H.maxY===u.maxY){l=!0,o=u.maxY;break}}}return nn({isShowHorizontal:l,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,i){var o,u,l=!1,d=r.id;if(d){var m=this.graphModel.fakerNode;if(m&&m.id===d)u=dn(m);else{var E=this.graphModel.getNodeModelById(d);u=dn(E)}}for(var P=0;P<i.length;P++){var D=i[P];if(D.id!==r.id){var H=dn(D);if(H.minX===u.minX||H.maxX===u.minX){l=!0,o=u.minX;break}if(H.minX===u.maxX||H.maxX===u.maxX){l=!0,o=u.maxX;break}}}return nn({isShowVertical:l,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,i){var o=this.getCenterSnapLine(r,i),u=o.isShowHorizontal,l=o.isShowVertical;if(!u){var d=this.getHorizontalSnapline(r,i);d.isShowHorizontal&&(o.isShowHorizontal=d.isShowHorizontal,o.position.y=d.position.y)}if(!l){var m=this.getVerticalSnapline(r,i);m.isShowVertical&&(o.isShowVertical=m.isShowVertical,o.position.x=m.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var i=r.isShowHorizontal,o=r.isShowVertical,u=r.position;this.position=u,this.isShowHorizontal=i,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var i=this.graphModel.nodes,o=this.getSnapLinePosition(r,i);this.setSnaplineInfo(o)}}])&&v0(t.prototype,n),e}()).prototype,"isShowHorizontal",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ud=fi(Jn.prototype,"isShowVertical",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gd=fi(Jn.prototype,"position",[s.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fi(Jn.prototype,"clearSnapline",[s.k],Object.getOwnPropertyDescriptor(Jn.prototype,"clearSnapline"),Jn.prototype),fi(Jn.prototype,"setNodeSnapLine",[s.k],Object.getOwnPropertyDescriptor(Jn.prototype,"setNodeSnapLine"),Jn.prototype),Jn);function Kd(e){return(Kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Pa(){return(Pa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qd(Object(n),!0).forEach(function(r){gr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Jd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Jd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qd(e,t){return(Qd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function m0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=nc(e);if(t){var i=nc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _0(this,n)}}function _0(e,t){if(t&&(Kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vr(e)}function vr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nc(e){return(nc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function gr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O0=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Qd(o,u)})(i,e);var t,n,r=m0(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),gr(vr(o=r.call(this)),"preTargetNode",void 0),gr(vr(o),"sourceRuleResults",void 0),gr(vr(o),"targetRuleResults",void 0),gr(vr(o),"dragHandler",void 0),gr(vr(o),"onDragStart",function(u){var l=u.event,d=o.props,m=d.anchorData,E=d.nodeModel,P=d.graphModel,D=P.overlapMode;P.selectNodeById(E.id),D!==pn.INCREASE&&E.autoToFront&&P.toFront(E.id),P.eventCenter.emit(et.ANCHOR_DRAGSTART,{data:m,e:l,nodeModel:E}),o.setState({startX:m.x,startY:m.y,endX:m.x,endY:m.y})}),gr(vr(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,m=(u.event,o.state),E=m.endX,P=m.endY,D=o.props,H=D.graphModel,Z=D.nodeModel,re=D.anchorData,le=g0(H.transformModel.moveCanvasPointByHtml([E,P],l,d),2),ae=le[0],ye=le[1];o.setState({endX:ae,endY:ye,draging:!0});var be=ta({x:E,y:P},H);if(be){var De=be.node,je=be.anchor.id;if(o.preTargetNode&&o.preTargetNode!==be.node&&o.preTargetNode.setElementState(Ot.DEFAULT),re.id===je)return;o.preTargetNode=De;var Ce="".concat(Z.id,"_").concat(De.id,"_").concat(je,"_").concat(re.id);if(!o.targetRuleResults.has(Ce)){var Be=be.anchor,tt=Z.isAllowConnectedAsSource(De,re,Be),xt=De.isAllowConnectedAsTarget(Z,re,Be);o.sourceRuleResults.set(Ce,na(tt)),o.targetRuleResults.set(Ce,na(xt))}var Dt=o.sourceRuleResults.get(Ce).isAllPass,un=o.targetRuleResults.get(Ce).isAllPass;Dt&&un?De.setElementState(Ot.ALLOW_CONNECT):De.setElementState(Ot.NOT_ALLOW_CONNECT)}else o.preTargetNode&&o.preTargetNode.state!==Ot.DEFAULT&&o.preTargetNode.setElementState(Ot.DEFAULT)}),gr(vr(o),"onDragEnd",function(u){o.checkEnd(),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear();var l=o.props,d=l.graphModel,m=l.nodeModel,E=l.anchorData;d.eventCenter.emit(et.ANCHOR_DROP,{data:E,e:u,nodeModel:m})}),gr(vr(o),"checkEnd",function(){var u=o.props,l=u.graphModel,d=u.nodeModel,m=u.anchorData,E=m.x,P=m.y,D=m.id,H=l.edgeType,Z=o.state,re=Z.endX,le=Z.endY,ae=Z.draging,ye=ta({x:re,y:le},l);if(o.preTargetNode&&o.preTargetNode.state!==Ot.DEFAULT&&o.preTargetNode.setElementState(Ot.DEFAULT),ae&&ye&&ye.node){var be=ye.node,De=ye.anchor.id,je="".concat(d.id,"_").concat(be.id,"_").concat(De,"_").concat(D),Ce=o.sourceRuleResults.get(je)||{},Be=Ce.isAllPass,tt=Ce.msg,xt=o.targetRuleResults.get(je)||{},Dt=xt.isAllPass,un=xt.msg;if(Be&&Dt)be.setElementState(Ot.DEFAULT),l.addEdge({type:H,sourceNodeId:d.id,sourceAnchorId:D,startPoint:{x:E,y:P},targetNodeId:ye.node.id,targetAnchorId:ye.anchor.id,endPoint:{x:ye.anchor.x,y:ye.anchor.y}});else{var Bn=be.getData();l.eventCenter.emit(et.CONNECTION_NOT_ALLOWED,{data:Bn,msg:un||tt})}}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=new wo({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=i,(n=[{key:"getAnchorShape",value:function(){var o=this.props,u=o.anchorData,l=o.style,d=o.node.getAnchorShape(u);if(d)return d;var m=u.x,E=u.y,P=Zd(Zd({},l),l.hover);return Object(ee.g)("g",null,Object(ee.g)(oi,Pa({className:"lf-node-anchor-hover"},P,{x:m,y:E})),Object(ee.g)(oi,Pa({className:"lf-node-anchor"},l,{x:m,y:E})))}},{key:"isShowLine",value:function(){var o=this.state,u=o.startX,l=o.startY,d=o.endX,m=o.endY;return Kn(u,l,d,m)>10}},{key:"render",value:function(){var o=this,u=this.state,l=u.startX,d=u.startY,m=u.endX,E=u.endY,P=this.props,D=P.anchorData.edgeAddable,H=P.edgeStyle;return Object(ee.g)("g",{className:"lf-anchor"},Object(ee.g)("g",{onMouseDown:function(Z){D!==!1&&o.dragHandler.handleMouseDown(Z)}},this.getAnchorShape()),this.isShowLine()&&Object(ee.g)(Jr,Pa({x1:l,y1:d,x2:m,y2:E},H,{"pointer-events":"none"})))}}])&&b0(t.prototype,n),i}(ee.a);a(59);function eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function w0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eh(Object(n),!0).forEach(function(r){x0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function x0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function th(e){return(th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function E0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return nh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return nh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rh(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.value,u=e.fontSize,l=e.fill,d=l===void 0?"currentColor":l,m=e.overflowMode,E=m===void 0?"default":m,P=e.textWidth,D=P===void 0?"":P,H=e.model,Z={textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:d};if(Object.entries(e).forEach(function(De){var je=E0(De,2),Ce=je[0],Be=je[1];th(Be)!=="object"&&(Z[Ce]=Be)}),o){var re=String(o).split(/[\r\n]/g),le=re.length;if(E!=="default"){var ae=H.BaseType,ye=H.modelType;if(ae===Xt.NODE&&ye!==ct.TEXT_NODE||ae===Xt.EDGE&&D)return function(De){var je=De.value,Ce=De.fontSize,Be=De.model,tt=De.fontFamily,xt=tt===void 0?"":tt,Dt=De.lineHeight,un=De.wrapPadding,Bn=un===void 0?"0, 0":un,Rr=De.overflowMode,Ir=De.x,Da=De.y,Uc=Be.width,Ma=Be.textHeight,ro=De.textWidth||Uc,Gc=String(je).split(/[\r\n]/g),bO=Gc.length,Fy=jl({rows:Gc,style:{fontSize:"".concat(Ce,"px"),width:"".concat(ro,"px"),fontFamily:xt,lineHeight:Dt,padding:Bn},rowsLength:bO,className:"lf-get-text-height"}),Na=Be.height>Fy?Be.height:Fy;Ma&&(Na=Ma);var mO=Rr==="ellipsis";return Object(ee.g)("g",null,Object(ee.g)("foreignObject",{width:ro,height:Na,x:Ir-ro/2,y:Da-Na/2},Object(ee.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:Na,width:ro,padding:Bn}},Object(ee.g)("div",{className:mO?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:w0({},De)},Gc.map(function(_O){return Object(ee.g)("div",{className:"lf-node-text--auto-wrap-inner"},_O)})))))}(e)}if(le>1){var be=re.map(function(De,je){var Ce=(je-(le-1)/2)*(u+2);return Object(ee.g)("tspan",{className:"lf-text-tspan",x:n,y:i+Ce},De)});return Object(ee.g)("text",Z,be)}return Object(ee.g)("text",Z,o)}}function oh(e){return(oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ih(){return(ih=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ah(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ah(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ah(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uh(e,t){return(uh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function P0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=rc(e);if(t){var i=rc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k0(this,n)}}function k0(e,t){if(t&&(oh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nr(e)}function Nr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rc(e){return(rc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function to(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ch=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&uh(o,u)})(i,e);var t,n,r=P0(i);function i(o){var u;(function(m,E){if(!(m instanceof E))throw new TypeError("Cannot call a class as a function")})(this,i),to(Nr(u=r.call(this)),"dragHandler",void 0),to(Nr(u),"sumDeltaX",0),to(Nr(u),"sumDeltaY",0),to(Nr(u),"stepDrag",void 0),to(Nr(u),"onDraging",function(m){var E=m.deltaX,P=m.deltaY,D=u.props,H=D.model,Z=j0(D.graphModel.transformModel.fixDeltaXY(E,P),2),re=Z[0],le=Z[1];H.moveText(re,le)}),to(Nr(u),"dblClickHandler",function(){u.props.editable&&u.props.model.setElementState(Ot.TEXT_EDIT)}),to(Nr(u),"mouseDownHandle",function(m){var E=u.props,P=E.draggable,D=E.graphModel.editConfigModel.nodeTextDraggable;(P||D)&&u.stepDrag.handleMouseDown(m)});var l=o.model,d=o.draggable;return u.stepDrag=new wo({onDraging:u.onDraging,step:1,model:l,isStopPropagation:d}),u}return t=i,(n=[{key:"getShape",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.text,m=l.editConfigModel,E=d.value,P=d.x,D=d.y,H=d.editable,Z=d.draggable,re={x:P,y:D,className:"",value:E};H?re.className="lf-element-text":Z||m.nodeTextDraggable?re.className="lf-text-draggable":re.className="lf-text-disabled";var le=u.getTextStyle();return Object(ee.g)(rh,ih({},re,le,{model:u}))}},{key:"render",value:function(){if(this.props.model.text)return Object(ee.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&S0(t.prototype,n),i}(ee.a),A0=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function sh(e){return(sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function T0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return lh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return lh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function fh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ph(e,t){return(ph=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function D0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=oc(e);if(t){var i=oc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M0(this,n)}}function M0(e,t){if(t&&(sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yn(e)}function yn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oc(e){return(oc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var br=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&ph(u,l)})(o,e);var t,n,r,i=D0(o);function o(u){var l;(function(D,H){if(!(D instanceof H))throw new TypeError("Cannot call a class as a function")})(this,o),wn(yn(l=i.call(this)),"stepDrag",void 0),wn(yn(l),"contextMenuTime",void 0),wn(yn(l),"startTime",void 0),wn(yn(l),"clickTimer",void 0),wn(yn(l),"onDraging",function(D){var H=D.deltaX,Z=D.deltaY,re=l.props,le=re.model,ae=re.graphModel;l.state.isDraging||l.setState({isDraging:!0});var ye=T0(ae.transformModel.fixDeltaXY(H,Z),2),be=ye[0],De=ye[1];ae.moveNode(le.id,be,De)}),wn(yn(l),"onDragEnd",function(){l.props.model.isDragging=!1}),wn(yn(l),"handleClick",function(D){if(l.startTime&&!(new Date().getTime()-l.startTime>200)){var H=l.props,Z=H.model,re=H.graphModel,le={data:Z.getData(),e:D,position:re.getPointByClient({x:D.clientX,y:D.clientY})},ae=D.button===2,ye=D.detail===2;if(!ae){var be=re.editConfigModel;re.selectNodeById(Z.id,el(D,be)),l.toFront(),ye?(be.nodeTextEdit&&Z.text.editable&&(Z.setSelected(!1),re.setElementStateById(Z.id,Ot.TEXT_EDIT)),re.eventCenter.emit(et.NODE_DBCLICK,le)):(re.eventCenter.emit(et.ELEMENT_CLICK,le),re.eventCenter.emit(et.NODE_CLICK,le))}}}),wn(yn(l),"handleContextMenu",function(D){D.preventDefault();var H=l.props,Z=H.model,re=H.graphModel,le=Z.getData(),ae=re.getPointByClient({x:D.clientX,y:D.clientY});re.setElementStateById(Z.id,Ot.SHOW_MENU,ae.domOverlayPosition),re.selectNodeById(Z.id),re.eventCenter.emit(et.NODE_CONTEXTMENU,{data:le,e:D,position:ae}),l.toFront()}),wn(yn(l),"handleMouseDown",function(D){var H=l.props,Z=H.model,re=H.graphModel;l.toFront(),l.startTime=new Date().getTime(),re.editConfigModel.adjustNodePosition&&Z.draggable&&l.stepDrag&&l.stepDrag.handleMouseDown(D)}),wn(yn(l),"setHoverON",function(D){if(!l.state.isHovered){l.setState({isHovered:!0});var H=l.props,Z=H.model,re=H.graphModel,le=Z.getData();Z.setHovered(!0),re.eventCenter.emit(et.NODE_MOUSEENTER,{data:le,e:D})}}),wn(yn(l),"setHoverOFF",function(D){l.setState({isHovered:!1});var H=l.props,Z=H.model,re=H.graphModel,le=Z.getData();Z.setHovered(!1),re.eventCenter.emit(et.NODE_MOUSELEAVE,{data:le,e:D})}),wn(yn(l),"onMouseOut",function(D){A0&&l.setHoverOFF(D)});var d=u.graphModel,m=d.gridSize,E=d.eventCenter,P=u.model;return l.stepDrag=new wo({onDraging:l.onDraging,onDragEnd:l.onDragEnd,step:m,eventType:"NODE",eventCenter:E,model:P}),l.state={isHovered:!1},l}return t=o,r=[{key:"getModel",value:function(u){return u}}],(n=[{key:"getAnchorShape",value:function(u){return null}},{key:"getAnchors",value:function(){var u=this,l=this.props,d=l.model,m=l.graphModel,E=d.isSelected,P=d.isHitable,D=d.isDragging,H=this.state.isHovered;if(P&&(E||H)){var Z=d.getAnchorLineStyle();return qi(d.anchors,function(re,le){var ae=d.getAnchorStyle(re);return Object(ee.g)(O0,{anchorData:re,nodeDraging:D,node:u,style:ae,edgeStyle:Z,anchorIndex:le,nodeModel:d,graphModel:m,setHoverOFF:u.setHoverOFF})})}return[]}},{key:"getText",value:function(){var u=this.props,l=u.model,d=u.graphModel;if(l.state===Ot.TEXT_EDIT)return"";if(l.text){var m=d.editConfigModel,E=!1;return(l.text.draggable||m.nodeTextDraggable)&&(E=!0),Object(ee.g)(ch,{editable:m.nodeTextEdit&&l.text.editable,model:l,graphModel:d,draggable:E})}}},{key:"getStateClassName",value:function(){var u=this.props.model,l=u.state,d=u.isDraging,m="lf-node";switch(l){case Ot.ALLOW_CONNECT:m+=" lf-node-allow";break;case Ot.NOT_ALLOW_CONNECT:m+=" lf-node-not-allow";break;default:m+=" lf-node-default"}return d&&(m+=" lf-isDragging"),m}},{key:"toFront",value:function(){var u=this.props,l=u.model,d=u.graphModel;d.overlapMode!==pn.INCREASE&&l.autoToFront&&d.toFront(l.id)}},{key:"render",value:function(){var u,l=this.props,d=l.model,m=l.graphModel,E=m.editConfigModel,P=E.hideAnchors,D=E.adjustNodePosition,H=m.gridSize,Z=m.transformModel.SCALE_X,re=d.isHitable,le=d.draggable,ae=Object(ee.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),P?null:this.getAnchors());return re?(D&&le&&this.stepDrag.setStep(H*Z),u=Object(ee.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},ae)):u=Object(ee.g)("g",{className:this.getStateClassName()},ae),u}}])&&fh(t.prototype,n),r&&fh(t,r),o}(ee.a);function dh(e){return(dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hh(){return(hh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yh(e,t){return(yh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function R0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ic(e);if(t){var i=ic(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I0(this,n)}}function I0(e,t){if(t&&(dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function ic(e){return(ic=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var ac=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&yh(o,u)})(i,e);var t,n,r=R0(i);function i(){return N0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(ee.g)(Dr,hh({},u,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}])&&C0(t.prototype,n),i}(br);function vh(e){return(vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function gh(){return(gh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bh(e,t){return(bh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function B0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=uc(e);if(t){var i=uc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return F0(this,n)}}function F0(e,t){if(t&&(vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function uc(e){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var cc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&bh(o,u)})(i,e);var t,n,r=B0(i);function i(){return L0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.r,m=o.getNodeStyle();return Object(ee.g)(oi,gh({},m,{x:u,y:l,r:d}))}}])&&z0(t.prototype,n),i}(br);function mh(e){return(mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function H0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return _h(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _h(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _h(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oh(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(i){var o=H0(i,2),u=o[0],l=o[1];mh(l)!=="object"&&(r[u]=l)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map(function(i){return i.join(",")}).join(" "),Object(ee.g)("polygon",r)}function wh(e){return(wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function xh(){return(xh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Eh(e,t){return(Eh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function U0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=sc(e);if(t){var i=sc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return G0(this,n)}}function G0(e,t){if(t&&(wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function sc(e){return(sc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var lc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Eh(o,u)})(i,e);var t,n,r=U0(i);function i(){return X0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.width,m=o.height,E=o.points,P=o.getNodeStyle(),D={transform:"matrix(1 0 0 1 ".concat(u-d/2," ").concat(l-m/2,")")};return Object(ee.g)("g",D,Object(ee.g)(Oh,xh({},P,{points:E,x:u,y:l})))}}])&&V0(t.prototype,n),i}(br);function jh(e){return(jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sh(){return(Sh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Y0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ph(e,t){return(Ph=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function $0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fc(e);if(t){var i=fc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return K0(this,n)}}function K0(e,t){if(t&&(jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function fc(e){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var pc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ph(o,u)})(i,e);var t,n,r=$0(i);function i(){return Y0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(ee.g)("g",null,Object(ee.g)(Oh,Sh({},u,{points:o.points,x:o.x,y:o.y})))}}])&&W0(t.prototype,n),i}(br);function kh(e){return(kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function q0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Ah(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ah(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ah(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z0(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.rx,u=o===void 0?4:o,l=e.ry,d=l===void 0?4:l,m=e.className,E={cx:n,cy:i,rx:u,ry:d,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(P){var D=q0(P,2),H=D[0],Z=D[1];kh(Z)!=="object"&&(E[H]=Z)}),E.className=m?"lf-basic-shape ".concat(m):"lf-basic-shape",Object(ee.g)("ellipse",E)}function Th(e){return(Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Dh(){return(Dh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mh(e,t){return(Mh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function e_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=dc(e);if(t){var i=dc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return t_(this,n)}}function t_(e,t){if(t&&(Th(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function dc(e){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var hc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Mh(o,u)})(i,e);var t,n,r=e_(i);function i(){return J0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(ee.g)(Z0,Dh({},u,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}])&&Q0(t.prototype,n),i}(br);function Nh(e){return(Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ch(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ch(Object(n),!0).forEach(function(r){n_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ch(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ih(e,t){return(Ih=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function i_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=yc(e);if(t){var i=yc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a_(this,n)}}function a_(e,t){if(t&&(Nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function yc(e){return(yc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var vc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ih(o,u)})(i,e);var t,n,r=i_(i);function i(){return r_(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text;if(l&&l.value&&u.background&&u.background.fill!=="transparnet"){var d=l.x,m=l.y,E=o.width,P=o.height,D=Rh(Rh({},u.background),{},{x:d,y:m-1,width:E,height:P});return Object(ee.g)(Dr,D)}}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getBackgroud())}}])&&o_(t.prototype,n),i}(br);function Lh(e){return(Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function u_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zh(e,t){return(zh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function s_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gc(e);if(t){var i=gc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l_(this,n)}}function l_(e,t){if(t&&(Lh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pi(e)}function pi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gc(e){return(gc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&zh(o,u)})(i,e);var t,n,r=s_(i);function i(){var o;u_(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return ka(pi(o=r.call.apply(r,[this].concat(l))),"ref",void 0),ka(pi(o),"currrentProperties",void 0),ka(pi(o),"preProperties",void 0),ka(pi(o),"setRef",function(m){o.ref=m}),o}return t=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,u=o.x,l=o.y,d=o.height,m=o.width;return this.currrentProperties=JSON.stringify(o.properties),Object(ee.g)("foreignObject",{x:u-m/2,y:l-d/2,width:m,height:d,ref:this.setRef})}}])&&c_(t.prototype,n),i}(br);function Bh(e){return(Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function f_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Fh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Fh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var So=function(e){var t={d:""};return Object.entries(e).forEach(function(n){var r=f_(n,2),i=r[0],o=r[1];Bh(o)!=="object"&&(t[i]=o)}),Object(ee.g)("path",t)};function Hh(e){return(Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Xh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function p_(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vh(e,t){return(Vh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function y_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=mc(e);if(t){var i=mc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v_(this,n)}}function v_(e,t){if(t&&(Hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function mc(e){return(mc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Uh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Vh(o,u)})(i,e);var t,n,r=y_(i);function i(){return d_(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getArrowAttributes",value:function(){var o=this.props,u=o.arrowInfo,l=o.style,d=u.start,m=u.end,E={start:d,end:m,offset:l.offset,verticalLength:l.verticalLength,type:"end"},P=ei(E),D=P.leftX,H=P.leftY,Z=P.rightX,re=P.rightY;return function(le){for(var ae=1;ae<arguments.length;ae++){var ye=arguments[ae]!=null?arguments[ae]:{};ae%2?Xh(Object(ye),!0).forEach(function(be){p_(le,be,ye[be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(ye)):Xh(Object(ye)).forEach(function(be){Object.defineProperty(le,be,Object.getOwnPropertyDescriptor(ye,be))})}return le}({d:"M".concat(D," ").concat(H," L").concat(m.x," ").concat(m.y," L").concat(Z," ").concat(re," z")},l)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),u=o.d,l=o.strokeWidth,d=o.stroke,m=o.fill;return Object(ee.g)(So,{d:u,fill:m,strokeWidth:l,stroke:d})}},{key:"render",value:function(){return Object(ee.g)("g",{className:"lf-arrow"},this.getShape())}}])&&h_(t.prototype,n),i}(ee.a);function Gh(e){return(Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Yh(){return(Yh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wh(Object(n),!0).forEach(function(r){wc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $h(e,t){return($h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function b_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Oc(e);if(t){var i=Oc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m_(this,n)}}function m_(e,t){if(t&&(Gh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _c(e)}function _c(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oc(e){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qn,__=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&$h(o,u)})(i,e);var t,n,r=b_(i);function i(o){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),wc(_c(u=r.call(this,o)),"setHoverON",function(){u.setState({isHoverd:!0})}),wc(_c(u),"setHoverOFF",function(){u.setState({isHoverd:!1})}),u.state={isHoverd:!1},u}return t=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),l=o.text,d=u.background||{};if(this.state.isHoverd&&u.hover&&u.hover.background&&(d=no(no({},d),u.hover.background)),l&&l.value&&d.fill!=="transparnet"){var m,E=u.fontSize,P=u.overflowMode,D=u.lineHeight,H=u.wrapPadding,Z=u.textWidth,re=l.value,le=l.x,ae=l.y,ye=String(re).split(/[\r\n]/g),be=ye.length;if(P==="autoWrap"&&Z){var De=jl({rows:ye,style:{fontSize:"".concat(E,"px"),width:"".concat(Z,"px"),lineHeight:D,padding:H},rowsLength:be,className:"lf-get-text-height"});m=no(no({},d),{},{x:le-1,y:ae-1,width:Z,height:De})}else{ye&&ye.forEach(function(tt){Ql(tt)});var je=mu({rows:ye,fontSize:E,rowsLength:be}),Ce=je.width,Be=je.height;m=no(no({},d),{},{x:le-1,y:ae-1,width:Ce,height:Be})}return Object(ee.g)(Dr,m)}}},{key:"getShape",value:function(){var o=this.props.model,u=o.text,l=u.value,d=u.x,m=u.y;if(l){var E=no({x:d,y:m,className:"lf-element-text",value:l},o.getTextStyle());return Object(ee.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(ee.g)(rh,Yh({},E,{model:o})))}}}])&&g_(t.prototype,n),i}(ch);function Kh(e){return(Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function qh(){return(qh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zh(Object(n),!0).forEach(function(r){Rn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Jh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Jh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Jh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qh(e,t){return(Qh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function x_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=xc(e);if(t){var i=xc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E_(this,n)}}function E_(e,t){if(t&&(Kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cn(e)}function Cn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xc(e){return(xc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Qn||(Qn={}));var ey=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Qh(o,u)})(i,e);var t,n,r=x_(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),Rn(Cn(o=r.call(this)),"dragHandler",void 0),Rn(Cn(o),"oldEdge",void 0),Rn(Cn(o),"preTargetNode",void 0),Rn(Cn(o),"targetRuleResults",void 0),Rn(Cn(o),"sourceRuleResults",void 0),Rn(Cn(o),"onDragStart",function(){var u=o.props,l=u.x,d=u.y,m=u.edgeModel,E=m.startPoint,P=m.endPoint,D=m.pointsList;o.oldEdge={startPoint:E,endPoint:P,pointsList:D},o.setState({endX:l,endY:d,draging:!0}),m.isHitable=!1}),Rn(Cn(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,m=o.state,E=m.endX,P=m.endY,D=o.props,H=D.graphModel,Z=D.type,re=O_(H.transformModel.moveCanvasPointByHtml([E,P],l,d),2),le=re[0],ae=re[1];o.setState({endX:le,endY:ae,draging:!0});var ye=o.props.edgeModel,be=ta({x:E,y:P},H);if(be&&be.node&&o.isAllowAdjust(be)){var De,je=ye.startPoint,Ce=ye.endPoint,Be=ye.sourceNode,tt=ye.targetNode;Z===Qn.SOURCE?De={startPoint:{x:be.anchor.x,y:be.anchor.y},endPoint:{x:Ce.x,y:Ce.y},sourceNode:be.node,targetNode:tt}:Z===Qn.TARGET&&(De={startPoint:{x:je.x,y:je.y},endPoint:{x:be.anchor.x,y:be.anchor.y},sourceNode:Be,targetNode:be.node}),ye.updateAfterAdjustStartAndEnd(De)}else Z===Qn.SOURCE?ye.updateStartPoint({x:le,y:ae}):Z===Qn.TARGET&&ye.updateEndPoint({x:le,y:ae})}),Rn(Cn(o),"onDragEnd",function(){var u;o.setState({draging:!1});var l=o.props,d=l.graphModel,m=l.edgeModel,E=l.type;m.isHitable=!0;var P=o.state,D=P.endX,H=P.endY,Z=P.draging,re=ta({x:D,y:H},d);if(Z){if(re&&re.node&&o.isAllowAdjust(re)){var le,ae=m.getData(),ye=mr(mr({},ae),{},{sourceAnchorId:"",targetAnchorId:"",text:(ae==null||(le=ae.text)===null||le===void 0?void 0:le.value)||""});E===Qn.SOURCE?ye=mr(mr({},ye),{},{sourceNodeId:re.node.id,sourceAnchorId:re.anchor.id,startPoint:{x:re.anchor.x,y:re.anchor.y},targetNodeId:m.targetNodeId,endPoint:mr({},m.endPoint)}):E===Qn.TARGET&&(ye=mr(mr({},ye),{},{sourceNodeId:m.sourceNodeId,startPoint:mr({},m.startPoint),targetNodeId:re.node.id,targetAnchorId:re.anchor.id,endPoint:{x:re.anchor.x,y:re.anchor.y}})),d.deleteEdgeById(m.id);var be=d.addEdge(mr({},ye));d.eventCenter.emit(et.EDGE_EXCHANGE_NODE,{data:{newEdge:be.getData(),oldEdge:m.getData()}})}else o.recoveryEdge();(u=o.preTargetNode)===null||u===void 0||u.setElementState(Ot.DEFAULT)}}),Rn(Cn(o),"recoveryEdge",function(){var u=o.props.edgeModel,l=o.oldEdge,d=l.startPoint,m=l.endPoint,E=l.pointsList;u.updateStartPoint(d),u.updateEndPoint(m),u.modelType!==ct.LINE_EDGE&&(u.pointsList=E,u.initPoints())}),Rn(Cn(o),"getAdjustPointStyle",function(){return o.props.graphModel.theme.edgeAdjust}),o.state={draging:!1,endX:0,endY:0},o.targetRuleResults=new Map,o.sourceRuleResults=new Map,o.dragHandler=da({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=i,(n=[{key:"isAllowAdjust",value:function(o){var u=this.props,l=u.edgeModel,d=(l.id,l.sourceNode),m=l.targetNode,E=l.sourceAnchorId,P=l.targetAnchorId,D=u.type,H=null,Z=null,re=null,le=null;if(D===Qn.SOURCE?(H=o.node,Z=m,re=o.anchor,le=m.getAnchorInfo(P)):(H=d,Z=o.node,le=o.anchor,re=d.getAnchorInfo(E)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(Ot.DEFAULT),this.preTargetNode=o.node,le.id===re.id)return!1;var ae="".concat(H.id,"_").concat(Z.id,"_").concat(re.id,"_").concat(le.id);if(!this.targetRuleResults.has(ae)){var ye=H.isAllowConnectedAsSource(Z,re,le),be=Z.isAllowConnectedAsTarget(H,re,le);this.sourceRuleResults.set(ae,na(ye)),this.targetRuleResults.set(ae,na(be))}var De=this.sourceRuleResults.get(ae).isAllPass,je=this.targetRuleResults.get(ae).isAllPass,Ce=De&&je?Ot.ALLOW_CONNECT:Ot.NOT_ALLOW_CONNECT;return D===Qn.SOURCE?H.setElementState(Ce):Z.setElementState(Ce),De&&je}},{key:"render",value:function(){var o=this.props,u=o.x,l=o.y,d=this.state.draging,m=this.getAdjustPointStyle();return Object(ee.g)("g",null,Object(ee.g)(oi,qh({className:"lf-edge-adjust-point"},m,{x:u,y:l,onMouseDown:this.dragHandler,"pointer-events":d?"none":""})))}}])&&w_(t.prototype,n),i}(ee.a);function ty(e){return(ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ec(){return(Ec=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ny(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ny(Object(n),!0).forEach(function(r){Ln(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ny(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oy(e,t){return(oy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function P_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=jc(e);if(t){var i=jc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k_(this,n)}}function k_(e,t){if(t&&(ty(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return In(e)}function In(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jc(e){return(jc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var di=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&oy(o,u)})(i,e);var t,n,r=P_(i);function i(){var o;j_(this,i);for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return Ln(In(o=r.call.apply(r,[this].concat(l))),"startTime",void 0),Ln(In(o),"contextMenuTime",void 0),Ln(In(o),"clickTimer",void 0),Ln(In(o),"handleHover",function(m,E){var P=o.props,D=P.model,H=P.graphModel.eventCenter;D.setHovered(m);var Z=m?et.EDGE_MOUSEENTER:et.EDGE_MOUSELEAVE,re=D.getData();H.emit(Z,{data:re,e:E})}),Ln(In(o),"setHoverON",function(m){o.handleHover(!0,m)}),Ln(In(o),"setHoverOFF",function(m){o.handleHover(!1,m)}),Ln(In(o),"handleContextMenu",function(m){m.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var E=o.props,P=E.model,D=E.graphModel,H=D.getPointByClient({x:m.clientX,y:m.clientY});D.setElementStateById(P.id,Ot.SHOW_MENU,H.domOverlayPosition),o.toFront(),D.selectEdgeById(P.id);var Z=P==null?void 0:P.getData();D.eventCenter.emit(et.EDGE_CONTEXTMENU,{data:Z,e:m,position:H})}),Ln(In(o),"handleMouseDown",function(m){m.stopPropagation(),o.startTime=new Date().getTime()}),Ln(In(o),"handleMouseUp",function(m){if(o.startTime&&!(new Date().getTime()-o.startTime>200||m.button===2)){var E=m.detail===2,P=o.props,D=P.model,H=P.graphModel,Z=D==null?void 0:D.getData(),re=H.getPointByClient({x:m.clientX,y:m.clientY});if(E){var le=H.editConfigModel,ae=H.textEditElement;if(ae&&ae.id===D.id&&H.setElementStateById(D.id,Ot.DEFAULT),le.edgeTextEdit&&D.text.editable&&H.setElementStateById(D.id,Ot.TEXT_EDIT),D.modelType===ct.POLYLINE_EDGE){var ye=D,be=H.getPointByClient({x:m.x,y:m.y}).canvasOverlayPosition,De=be.x,je=be.y,Ce=tf({x:De,y:je},ye.points);ye.dbClickPosition=Ce}H.eventCenter.emit(et.EDGE_DBCLICK,{data:Z,e:m,position:re})}else H.eventCenter.emit(et.ELEMENT_CLICK,{data:Z,e:m,position:re}),H.eventCenter.emit(et.EDGE_CLICK,{data:Z,e:m,position:re});var Be=H.editConfigModel;H.selectEdgeById(D.id,el(m,Be)),o.toFront()}}),Ln(In(o),"getIsDraging",function(){return!1}),o}return t=i,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,u=o.model,l=o.graphModel;if(u.state===Ot.TEXT_EDIT)return"";var d=!1,m=l.editConfigModel;return(u.text.draggable||m.edgeTextDraggable)&&(d=!0),Object(ee.g)(__,{editable:m.edgeTextEdit&&u.text.editable,model:u,graphModel:l,draggable:d})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.isSelected;return{start:u,end:l,hover:this.state.hover,isSelected:d}}},{key:"getArrowStyle",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getEdgeStyle(),m=l.theme.arrow;return ry(ry({},d),{},{fill:d.stroke},m)}},{key:"getArrow",value:function(){var o=this.getArrowInfo(),u=o.start,l=o.end;if(u&&l&&(u.x!==l.x||u.y!==l.y)){var d=this.getArrowStyle();return Object(ee.g)(Uh,{arrowInfo:o,style:d})}}},{key:"getAdjustPoints",value:function(){var o=this.props,u=o.model,l=o.graphModel,d=u.getAdjustStart(),m=u.getAdjustEnd();return Object(ee.g)("g",null,Object(ee.g)(ey,Ec({type:"SOURCE"},d,{edgeModel:u,graphModel:l})),Object(ee.g)(ey,Ec({type:"TARGET"},m,{edgeModel:u,graphModel:l})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(ee.g)("g",null)}},{key:"getAppend",value:function(){return Object(ee.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,u=o.graphModel,l=o.model;u.overlapMode!==pn.INCREASE&&u.toFront(l.id)}},{key:"render",value:function(){var o=this.props,u=o.model,l=u.isSelected,d=u.isHitable,m=o.graphModel,E=this.getIsDraging(),P=m.editConfigModel.adjustEdgeStartAndEnd,D=m.animation,H=l&&D.edge&&m.getSelectElements().edges.length===1;return Object(ee.g)("g",null,Object(ee.g)("g",{className:d?"lf-edge":"lf-edge pointer-none",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),H&&this.getAnimation(),this.getText(),this.getArrow()),P&&l&&!E?this.getAdjustPoints():"")}}])&&S_(t.prototype,n),i}(ee.a);function iy(e){return(iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sc(){return(Sc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ay(e,t){return(ay=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function D_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Pc(e);if(t){var i=Pc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M_(this,n)}}function M_(e,t){if(t&&(iy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Pc(e){return(Pc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var kc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ay(o,u)})(i,e);var t,n,r=D_(i);function i(){return A_(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.startPoint,l=o.endPoint,d=o.getEdgeStyle();return Object(ee.g)(Jr,Sc({},d,{x1:u.x,y1:u.y,x2:l.x,y2:l.y}))}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,m=u.strokeDasharray,E=o.startPoint,P=o.endPoint,D=o.getEdgeStyle();return Object(ee.g)("g",null,Object(ee.g)(Jr,Sc({},D,{x1:E.x,y1:E.y,x2:P.x,y2:P.y,className:d,strokeDasharray:m,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,u=function(D){var H,Z=D.start,re=D.end;if(Z.x===re.x&&Z.y===re.y)H="";else{var le={start:Z,end:re,offset:10,verticalLength:5},ae=ei(ia(ia({},le),{},{type:"start"})),ye=ei(ia(ia({},le),{},{type:"end"}));H="M".concat(ae.leftX," ").concat(ae.leftY,` 
    L`).concat(ae.rightX," ").concat(ae.rightY,` 
    L`).concat(ye.rightX," ").concat(ye.rightY,`
    L`).concat(ye.leftX," ").concat(ye.leftY," z")}return{d:H,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),l=u.d,d=u.strokeWidth,m=u.fill,E=u.strokeDasharray,P=u.stroke;return Object(ee.g)(So,{d:l,fill:m,strokeWidth:d,stroke:P,strokeDasharray:E})}}])&&T_(t.prototype,n),i}(di);function uy(e){return(uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function N_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return cy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return cy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var sy=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach(function(n){var r=N_(n,2),i=r[0],o=r[1];uy(o)!=="object"&&(t[i]=o)}),Object(ee.g)("polyline",t)};function ly(e){return(ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function fy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fy(Object(n),!0).forEach(function(r){tr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ac(){return(Ac=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return py(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return py(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function py(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dy(e,t){return(dy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function I_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Tc(e);if(t){var i=Tc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return L_(this,n)}}function L_(e,t){if(t&&(ly(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return er(e)}function er(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Tc(e){return(Tc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function tr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&dy(o,u)})(i,e);var t,n,r=I_(i);function i(){var o;return function(u,l){if(!(u instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),tr(er(o=r.call(this)),"drag",void 0),tr(er(o),"isDraging",void 0),tr(er(o),"appendInfo",void 0),tr(er(o),"dragHandler",void 0),tr(er(o),"onDragStart",function(){o.props.model.dragAppendStart()}),tr(er(o),"onDraging",function(u){var l=u.deltaX,d=u.deltaY,m=o.props,E=m.model,P=m.graphModel;o.isDraging=!0;var D=P.transformModel,H=P.editConfigModel,Z=C_(D.fixDeltaXY(l,d),2),re=Z[0],le=Z[1],ae=E,ye=H.adjustEdgeMiddle;o.appendInfo=ye?ae.dragAppendSimple(o.appendInfo,{x:re,y:le}):ae.dragAppend(o.appendInfo,{x:re,y:le})}),tr(er(o),"onDragEnd",function(){var u=o.props,l=u.model,d=u.graphModel.eventCenter,m=l;m.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0,d.emit(et.EDGE_ADJUST,{data:m.getData()})}),tr(er(o),"beforeDragStart",function(u,l){l.dragAble&&o.dragHandler(u),o.appendInfo=l}),tr(er(o),"getIsDraging",function(){return o.isDraging}),o.drag=da({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle();return Object(ee.g)(sy,Ac({points:o.points},u))}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,m=u.strokeDasharray,E=o.getEdgeStyle();return Object(ee.g)("g",null,Object(ee.g)(sy,Ac({points:o.points},E,{className:d,strokeDasharray:m,stroke:l})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.points,l=o.isSelected,d={start:null,end:null,hover:this.state.hover,isSelected:l},m=_o(u);return m.length>=2&&(d.start=m[m.length-2],d.end=m[m.length-1]),d}},{key:"getAppendAttributes",value:function(o){var u,l=o.start,d=o.end;if(l.x===d.x&&l.y===d.y)u="";else{var m={start:l,end:d,offset:10,verticalLength:5},E=ei(Aa(Aa({},m),{},{type:"start"})),P=ei(Aa(Aa({},m),{},{type:"end"}));u="M".concat(E.leftX," ").concat(E.leftY,` 
      L`).concat(E.rightX," ").concat(E.rightY,` 
      L`).concat(P.rightX," ").concat(P.rightY,`
      L`).concat(P.leftX," ").concat(P.leftY," z")}return{d:u,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var u=this.getAppendAttributes(o),l=u.d,d=u.strokeWidth,m=u.fill,E=u.strokeDasharray,P=u.stroke;return Object(ee.g)(So,{d:l,fill:m,strokeWidth:d,stroke:P,strokeDasharray:E})}},{key:"getAppendWidth",value:function(){for(var o=this,u=this.props,l=u.model,d=u.graphModel,m=l.pointsList,E=l.draggable,P=[],D=m.length,H=function(re){var le="lf-polyline-append",ae={start:{x:m[re].x,y:m[re].y},end:{x:m[re+1].x,y:m[re+1].y},startIndex:re,endIndex:re+1,direction:"",dragAble:!0},ye=Object(ee.g)("g",{className:le},o.getAppendShape(ae)),be=d.editConfigModel,De=be.adjustEdge,je=be.adjustEdgeMiddle;if(De&&E){o.dragHandler=o.drag;var Ce=ae.startIndex,Be=ae.endIndex,tt=je&&(Ce===0||Be===D-1);ae.dragAble=!tt,ae.start.x===ae.end.x?(ae.dragAble&&(le+="-ew-resize"),ae.direction=At.VERTICAL):ae.start.y===ae.end.y&&(ae.dragAble&&(le+="-ns-resize"),ae.direction=At.HORIZONTAL),ye=Object(ee.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(xt){return o.beforeDragStart(xt,ae)}},Object(ee.g)("g",{className:le},o.getAppendShape(ae)))}else o.dragHandler=function(){};P.push(ye)},Z=0;Z<D-1;Z++)H(Z);return Object(ee.g)("g",null,P)}}])&&R_(t.prototype,n),i}(di);function hy(e){return(hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function z_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return yy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return yy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mc(){return(Mc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function B_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vy(e,t){return(vy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function H_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Nc(e);if(t){var i=Nc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return X_(this,n)}}function X_(e,t){if(t&&(hy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Nc(e){return(Nc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Cc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vy(o,u)})(i,e);var t,n,r=H_(i);function i(){return B_(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle();return Object(ee.g)(So,Mc({d:o.path},u))}},{key:"getShape",value:function(){return Object(ee.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),l=u.stroke,d=u.className,m=u.strokeDasharray,E=o.getEdgeStyle();return Object(ee.g)("g",null,Object(ee.g)(So,Mc({d:o.path},E,{className:d,strokeDasharray:m,stroke:l})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(ee.g)(So,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=this.state.hover,l=o,d=l.path,m=l.isSelected,E=z_(function(P){var D=fa(P);return[D[2],D[3]]}(d),2);return{start:E[0],end:E[1],hover:u,isSelected:m}}}])&&F_(t.prototype,n),i}(di),gy=function(e,t){return h(e,t)},V_=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},Rc=function(){return ht.a.Date.now()},U_=/\s/,G_=function(e){for(var t=e.length;t--&&U_.test(e.charAt(t)););return t},Y_=/^\s+/,W_=function(e){return e&&e.slice(0,G_(e)+1).replace(Y_,"")},$_=/^[-+]0x[0-9a-f]+$/i,K_=/^0b[01]+$/i,q_=/^0o[0-7]+$/i,Z_=parseInt,by=function(e){if(typeof e=="number")return e;if(oe(e))return NaN;if(Nt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Nt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=W_(e);var n=K_.test(e);return n||q_.test(e)?Z_(e.slice(2),n?2:8):$_.test(e)?NaN:+e},J_=Math.max,Q_=Math.min,eO=function(e,t,n){var r,i,o,u,l,d,m=0,E=!1,P=!1,D=!0;if(typeof e!="function")throw new TypeError("Expected a function");function H(be){var De=r,je=i;return r=i=void 0,m=be,u=e.apply(je,De)}function Z(be){return m=be,l=setTimeout(le,t),E?H(be):u}function re(be){var De=be-d;return d===void 0||De>=t||De<0||P&&be-m>=o}function le(){var be=Rc();if(re(be))return ae(be);l=setTimeout(le,function(De){var je=t-(De-d);return P?Q_(je,o-(De-m)):je}(be))}function ae(be){return l=void 0,D&&r?H(be):(r=i=void 0,u)}function ye(){var be=Rc(),De=re(be);if(r=arguments,i=this,d=be,De){if(l===void 0)return Z(d);if(P)return clearTimeout(l),l=setTimeout(le,t),H(d)}return l===void 0&&(l=setTimeout(le,t)),u}return t=by(t)||0,Nt(n)&&(E=!!n.leading,o=(P="maxWait"in n)?J_(by(n.maxWait)||0,t):o,D="trailing"in n?!!n.trailing:D),ye.cancel=function(){l!==void 0&&clearTimeout(l),m=0,r=d=i=l=void 0},ye.flush=function(){return l===void 0?u:ae(Rc())},ye},tO=a(157);function nO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var my,_y,Oy,rO=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Cr(this,"undos",[]),Cr(this,"redos",[]),Cr(this,"callbacks",[]),Cr(this,"stopWatch",null),Cr(this,"curData",null),Cr(this,"maxSize",50),Cr(this,"waitTime",100),Cr(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"add",value:function(r){gy(V_(this.undos),r)||(this.undos.push(r),gy(this.curData,r)||(this.redos=[]),this.eventCenter.emit(et.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var i=this.undos.pop();return this.curData=Ct(i),i}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Ct(r),r}}},{key:"watch",value:function(r){var i=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(tO.a)(r,eO(function(){var o=r.modelToHistoryData();o&&i.add(o)},this.waitTime))}}])&&nO(t.prototype,n),e}();function wy(e){return(wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function oO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return xy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return xy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Po(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ey(Object(n),!0).forEach(function(r){ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ey(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sy(e,t){return(Sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function iO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ic(e);if(t){var i=Ic(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return aO(this,n)}}function aO(e,t){if(t&&(wy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hi(e)}function hi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ic(e){return(Ic=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Py,ky,Ay,Lc=zn((Oy=_y=function(e){(function(u,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(l&&l.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),l&&Sy(u,l)})(o,e);var t,n,r,i=iO(o);function o(){var u;return function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),ko(hi(u=i.call(this)),"ref",Object(ee.f)()),ko(hi(u),"__prevText",{type:"",text:"",id:""}),ko(hi(u),"keyupHandler",function(l){var d=u.props.graphModel.textEditElement;l.key==="Enter"&&l.altKey&&d.setElementState(0)}),ko(hi(u),"inputHandler",function(l){var d=l.target.innerText,m=u.props.graphModel.textEditElement;u.__prevText={type:m.type,text:d.replace(/(\r\n)+$|(\n)+$/,""),id:m.id}}),u.state={style:{left:0,top:0}},u}return t=o,r=[{key:"getDerivedStateFromProps",value:function(u){var l,d=u.graphModel,m=d.transformModel,E=d.theme,P=d.textEditElement;if(P){var D;if((D=P.text)===null||D===void 0||!D.value)if(P.BaseType===Xt.EDGE){var H=(P=P).text,Z=P.textPosition,re=Z.x,le=Z.y;H.x=re,H.y=le,P.setText(H)}else P=P;var ae={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(P.BaseType===Xt.EDGE){var ye=E.edgeText,be=ye.overflowMode,De=ye.lineHeight,je=ye.wrapPadding,Ce=ye.textWidth;Ce&&be==="autoWrap"&&(l=Po(Po({},ae),{},{width:Ce,minWidth:Ce,lineHeight:De,padding:je}))}else if(P.BaseType===Xt.NODE){var Be=E.nodeText,tt=Be.overflowMode,xt=Be.lineHeight,Dt=Be.wrapPadding,un=Be.textWidth,Bn=P,Rr=Bn.width,Ir=Bn.modelType;(Ir!==ct.TEXT_NODE&&tt==="autoWrap"||Ir===ct.TEXT_NODE&&un)&&(l=Po(Po({},ae),{},{width:un||Rr,minWidth:un||Rr,lineHeight:xt,padding:Dt}))}var Da=P.text,Uc=Da.x,Ma=Da.y,ro=oO(m.CanvasPointToHtmlPoint([Uc,Ma]),2);return{style:Po({left:ro[0],top:ro[1]},l)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var u=this.props.graphModel,l=u.eventCenter,d=u.editConfigModel,m=d.edgeTextEdit,E=d.nodeTextEdit;(m||E)&&l.on("".concat(et.GRAPH_TRANSFORM,",").concat(et.NODE_CLICK,",").concat(et.BLANK_CLICK," "),function(){u.textEditElement&&u.textEditElement.setElementState(Ot.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var u=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var l=this.__prevText,d=l.text,m=l.id;u.updateText(m,d),u.eventCenter.emit(et.TEXT_UPDATE,Po({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(u){if(window.getSelection!==void 0&&document.createRange!==void 0){var l=document.createRange();l.selectNodeContents(u),l.collapse(!1);var d=window.getSelection();d.removeAllRanges(),d.addRange(l)}}},{key:"render",value:function(){var u,l=this.props.graphModel.textEditElement,d=this.state.style;return l?Object(ee.g)("div",{contentEditable:!0,className:"lf-text-input",style:d,ref:this.ref,key:l.id,onKeyUp:this.keyupHandler,onInput:this.inputHandler},(u=l.text)===null||u===void 0?void 0:u.value):null}}])&&jy(t.prototype,n),r&&jy(t,r),o}(ee.a),ko(_y,"toolName","textEdit"),my=Oy))||my,uO=function(e){return e.modelType===ct.LINE_EDGE?function(t){var n=t.startPoint,r=t.endPoint,i=(n.x+r.x)/2,o=(n.y+r.y)/2,u=Math.abs(n.x-r.x)+10,l=Math.abs(n.y-r.y)+10;return{x:i-u/2,y:o-l/2,x1:i+u/2,y1:o+l/2}}(e):e.modelType===ct.POLYLINE_EDGE?function(t){var n=t.points,r=_o(n),i=ti(r,8),o=i.x,u=i.y,l=i.width,d=i.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):e.modelType===ct.BEZIER_EDGE?function(t){var n=t.path,r=fa(n),i=ti(r,8),o=i.x,u=i.y,l=i.width,d=i.height;return{x:o-l/2,y:u-d/2,x1:o+l/2,y1:u+d/2}}(e):void 0};function Ty(e){return(Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Dy(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,l=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(l.push(o.value),!r||l.length!==r);d=!0);}catch(E){m=!0,u=E}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return l}}(e,t)||My(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function cO(e){return function(t){if(Array.isArray(t))return zc(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||My(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function My(e,t){if(e){if(typeof e=="string")return zc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zc(e,t):void 0}}function zc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function sO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ny(e,t){return(Ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function lO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bc(e);if(t){var i=Bc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return fO(this,n)}}function fO(e,t){if(t&&(Ty(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yi(e)}function yi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bc(e){return(Bc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fc=zn((Ay=ky=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ny(o,u)})(i,e);var t,n,r=lO(i);function i(o){var u;(function(E,P){if(!(E instanceof P))throw new TypeError("Cannot call a class as a function")})(this,i),vi(yi(u=r.call(this)),"stepDrag",void 0),vi(yi(u),"handleMouseDown",function(E){u.stepDrag.handleMouseDown(E)}),vi(yi(u),"onDraging",function(E){var P=E.deltaX,D=E.deltaY,H=u.props.graphModel,Z=H.getSelectElements(!0);H.moveNodes(Z.nodes.map(function(re){return re.id}),P,D)}),vi(yi(u),"handleContextMenu",function(E){E.preventDefault();var P=u.props,D=P.graphModel,H=P.graphModel,Z=H.eventCenter,re=H.selectElements,le=D.getPointByClient({x:E.clientX,y:E.clientY}),ae={nodes:[],edges:[]};cO(re.values()).forEach(function(ye){ye.BaseType===Xt.NODE&&ae.nodes.push(ye.getData()),ye.BaseType===Xt.EDGE&&ae.edges.push(ye.getData())}),Z.emit(et.SELECTION_CONTEXTMENU,{data:ae,e:E,position:le})});var l=o.graphModel,d=l.gridSize,m=l.eventCenter;return u.stepDrag=new wo({onDraging:u.onDraging,step:d,eventType:"SELECTION",eventCenter:m}),u}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel,u=o.selectElements,l=o.transformModel;if(!(u.size<=1)){var d=Number.MAX_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,E=Number.MIN_SAFE_INTEGER,P=Number.MIN_SAFE_INTEGER;u.forEach(function(re){var le={x:0,y:0,x1:0,y1:0};re.BaseType===Xt.NODE&&(le=function(ae){var ye=ae.x,be=ae.y,De=ae.width,je=ae.height;return{x:ye-De/2,y:be-je/2,x1:ye+De/2,y1:be+je/2}}(re)),re.BaseType===Xt.EDGE&&(le=uO(re)),d=Math.min(d,le.x),m=Math.min(m,le.y),E=Math.max(E,le.x1),P=Math.max(P,le.y1)});var D=Dy(l.CanvasPointToHtmlPoint([d,m]),2);d=D[0],m=D[1];var H=Dy(l.CanvasPointToHtmlPoint([E,P]),2);E=H[0],P=H[1];var Z={left:"".concat(d-10,"px"),top:"".concat(m-10,"px"),width:"".concat(E-d+20,"px"),height:"".concat(P-m+20,"px")};return Object(ee.g)("div",{className:"lf-multiple-select",style:Z,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&sO(t.prototype,n),i}(ee.a),vi(ky,"toolName","multipleSelect"),Py=Ay))||Py;function pO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var dO=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Ta(this,"tools",void 0),Ta(this,"components",void 0),Ta(this,"toolMap",new Map),Ta(this,"instance",void 0),this.instance=r,this.isDisabledTool(Lc.toolName)||this.registerTool(Lc.toolName,Lc),this.isDisabledTool(Fc.toolName)||this.registerTool(Fc.toolName,Fc)}var t,n;return t=e,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,i){this.toolMap.set(r,i)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&pO(t.prototype,n),e}(),hO=a(158),yO=a.n(hO);function vO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cy=function(){function e(r){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Hc(this,"mousetrap",void 0),Hc(this,"options",void 0),Hc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var i=r.lf;this.target=i.container,this.mousetrap=new yO.a(this.target),r.keyboard.enabled&&this.enable(!0)}var t,n;return t=e,(n=[{key:"initShortcuts",value:function(){var r=this,i=this.options.keyboard.shortcuts;if(i)if(Gt(i))i.forEach(function(d){var m=d.keys,E=d.callback,P=d.action;return r.on(m,E,P)});else{var o=i.keys,u=i.callback,l=i.action;this.on(o,u,l)}}},{key:"on",value:function(r,i,o){this.mousetrap.bind(this.getKeys(r),i,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,i){this.mousetrap.unbind(this.getKeys(r),i)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var i=this;return(Array.isArray(r)?r:[r]).map(function(o){return i.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&vO(t.prototype,n),e}(),gO=Cy,_r=null;function Ry(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function Iy(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(n){n.x+=t,n.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}function Ly(e){return(Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function zy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zy(Object(n),!0).forEach(function(r){Rt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function By(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vc=function(){function e(i){var o,u,l=this;(function(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")})(this,e),Rt(this,"container",void 0),Rt(this,"width",void 0),Rt(this,"height",void 0),Rt(this,"graphModel",void 0),Rt(this,"history",void 0),Rt(this,"viewMap",new Map),Rt(this,"tool",void 0),Rt(this,"keyboard",void 0),Rt(this,"dnd",void 0),Rt(this,"options",void 0),Rt(this,"snaplineModel",void 0),Rt(this,"components",[]),Rt(this,"plugins",void 0),Rt(this,"extension",{}),Rt(this,"adapterIn",void 0),Rt(this,"adapterOut",void 0),Rt(this,"getView",function(d){return l.viewMap.get(d)}),i=vp(i),this.options=i,this.container=i.container,this.plugins=i.plugins,this.graphModel=new Pb(Xc({},i)),this.tool=new dO(this),this.history=new rO(this.graphModel.eventCenter),this.dnd=new wm({lf:this}),this.keyboard=new gO({lf:this,keyboard:i.keyboard}),i.isSilentMode||i.snapline===!1||(this.snaplineModel=new $d(this.graphModel),o=this.graphModel.eventCenter,u=this.snaplineModel,o.on("node:mousemove",function(d){var m=d.data;u.setNodeSnapLine(m)}),o.on("node:mouseup",function(){u.clearSnapline()})),function(d,m){var E=d.keyboard,P=E.options.keyboard;E.on(["cmd + c","ctrl + c"],function(){if(P.enabled&&!m.textEditElement){var D=d.options.guards,H=m.getSelectElements(!1);return D&&D.beforeClone&&!D.beforeClone(H)?(_r=null,!1):((_r=H).nodes.forEach(function(Z){return Ry(Z,40)}),_r.edges.forEach(function(Z){return Iy(Z,40)}),!1)}}),E.on(["cmd + v","ctrl + v"],function(){if(P.enabled&&!m.textEditElement){if(_r&&(_r.nodes||_r.edges)){d.clearSelectElements();var D=d.addElements(_r);if(!D)return;D.nodes.forEach(function(H){return d.selectElementById(H.id,!0)}),D.edges.forEach(function(H){return d.selectElementById(H.id,!0)}),_r.nodes.forEach(function(H){return Ry(H,40)}),_r.edges.forEach(function(H){return Iy(H,40)})}return!1}}),E.on(["cmd + z","ctrl + z"],function(){if(P.enabled&&!m.textEditElement)return d.undo(),!1}),E.on(["cmd + y","ctrl + y"],function(){if(P.enabled&&!m.textEditElement)return d.redo(),!1}),E.on(["backspace"],function(){if(P.enabled&&!m.textEditElement){var D=m.getSelectElements(!0);return d.clearSelectElements(),D.edges.forEach(function(H){return d.deleteEdge(H.id)}),D.nodes.forEach(function(H){return d.deleteNode(H.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(i.disabledPlugins)}var t,n,r;return t=e,r=[{key:"use",value:function(i){var o=i.pluginName;o||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(i.name||i.constructor.name,"\u6307\u5B9ApluginName!")),o=i.name);var u=this.extensions.get(o);u&&u.destroy&&u.destroy(),this.extensions.set(o,i)}}],(n=[{key:"register",value:function(i,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof i=="string"){var l={BaseEdge:di,BaseEdgeModel:Ou,BaseNode:br,BaseNodeModel:hr,RectNode:ac,RectNodeModel:Zu,CircleNode:cc,CircleNodeModel:Gu,PolygonNode:lc,PolygonNodeModel:qu,TextNode:vc,TextNodeModel:Ju,LineEdge:kc,LineEdgeModel:xu,DiamondNode:pc,DiamondNodeModel:Wu,PolylineEdge:Dc,PolylineEdgeModel:ju,BezierEdge:Cc,BezierEdgeModel:Vu,EllipseNode:hc,EllipseNodeModel:$u,HtmlNode:bc,HtmlNodeModel:ec,h:ee.g,type:i};this.viewMap.forEach(function(D){var H=D.extendKey;H&&(l[H]=D)}),this.graphModel.modelMap.forEach(function(D){var H=D.extendKey;H&&(l[H]=D)});var d=o(l),m=d.view,E=d.model,P=m;u&&!P.isObervered&&(P.isObervered=!0,P=me(P)),this.setView(i,P),this.graphModel.setModel(i,E)}else this.registerElement(i)}},{key:"registerElement",value:function(i){var o=i.view;i.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=me(o)),this.setView(i.type,o),this.graphModel.setModel(i.type,i.model)}},{key:"defaultRegister",value:function(){this.registerElement({view:ac,model:Zu,type:"rect"}),this.registerElement({type:"circle",view:cc,model:Gu}),this.registerElement({type:"polygon",view:lc,model:qu}),this.registerElement({type:"line",view:kc,model:xu}),this.registerElement({type:"polyline",view:Dc,model:ju}),this.registerElement({type:"bezier",view:Cc,model:Vu}),this.registerElement({type:"text",view:vc,model:Ju}),this.registerElement({type:"ellipse",view:hc,model:$u}),this.registerElement({type:"diamond",view:pc,model:Wu}),this.registerElement({type:"html",view:bc,model:ec})}},{key:"selectElementById",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(i,o),o||this.graphModel.toFront(i)}},{key:"focusOn",value:function(i){var o=this.graphModel.transformModel,u=i.coordinate,l=i.id;if(!u){var d=this.getNodeModelById(l);d&&(u=d.getData());var m=this.getEdgeModelById(l);m&&(u=m.textPosition)}var E=u,P=E.x,D=E.y;o.focusOn(P,D,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(i){this.graphModel.setTheme(i)}},{key:"resize",value:function(i,o){this.options.width=i!=null?i:this.options.width,this.options.height=o!=null?o:this.options.height,this.graphModel.resize(i,o)}},{key:"setDefaultEdgeType",value:function(i){this.graphModel.setDefaultEdgeType(i)}},{key:"updateText",value:function(i,o){this.graphModel.updateText(i,o)}},{key:"deleteElement",value:function(i){var o,u,l,d=this.getModelById(i);return!!d&&(u=(l=(Rt(o={},Xt.NODE,this.deleteNode),Rt(o,Xt.EDGE,this.deleteEdge),o)[d.BaseType])===null||l===void 0?void 0:l.call(this,i))!==null&&u!==void 0&&u}},{key:"getModelById",value:function(i){return this.graphModel.getElement(i)}},{key:"getDataById",value:function(i){return this.graphModel.getElement(i).getData()}},{key:"changeNodeType",value:function(i,o){this.graphModel.changeNodeType(i,o)}},{key:"changeEdgeType",value:function(i,o){this.graphModel.changeEdgeType(i,o)}},{key:"getNodeEdges",value:function(i){return this.graphModel.getNodeEdges(i)}},{key:"addNode",value:function(i){return this.graphModel.addNode(i)}},{key:"deleteNode",value:function(i){var o=this.graphModel.getNodeModelById(i);if(!o)return!1;var u=o.getData(),l=this.options.guards,d=!l||!l.beforeDelete||l.beforeDelete(u);return d&&this.graphModel.deleteNode(i),d}},{key:"cloneNode",value:function(i){var o=this.graphModel.getNodeModelById(i).getData(),u=this.options.guards;if(!u||!u.beforeClone||u.beforeClone(o))return this.graphModel.cloneNode(i)}},{key:"changeNodeId",value:function(i,o){return this.graphModel.changeNodeId(i,o)}},{key:"getNodeModelById",value:function(i){return this.graphModel.getNodeModelById(i)}},{key:"getNodeDataById",value:function(i){return this.graphModel.getNodeModelById(i).getData()}},{key:"addEdge",value:function(i){return this.graphModel.addEdge(i)}},{key:"deleteEdge",value:function(i){var o=this.options.guards,u=this.graphModel.edgesMap[i];if(!u)return!1;var l=u.model.getData(),d=!o||!o.beforeDelete||o.beforeDelete(l);return d&&this.graphModel.deleteEdgeById(i),d}},{key:"deleteEdgeByNodeId",value:function(i){var o=i.sourceNodeId,u=i.targetNodeId;o&&u?this.graphModel.deleteEdgeBySourceAndTarget(o,u):o?this.graphModel.deleteEdgeBySource(o):u&&this.graphModel.deleteEdgeByTarget(u)}},{key:"changeEdgeId",value:function(i,o){return this.graphModel.changeEdgeId(i,o)}},{key:"getEdgeModelById",value:function(i){var o;return(o=this.graphModel.edgesMap[i])===null||o===void 0?void 0:o.model}},{key:"getEdgeModels",value:function(i){var o=this.graphModel.edges,u=i.sourceNodeId,l=i.targetNodeId;if(u&&l){var d=[];return o.forEach(function(P){P.sourceNodeId===u&&P.targetNodeId===l&&d.push(P)}),d}if(u){var m=[];return o.forEach(function(P){P.sourceNodeId===u&&m.push(P)}),m}if(l){var E=[];return o.forEach(function(P){P.targetNodeId===l&&E.push(P)}),E}return[]}},{key:"getEdgeDataById",value:function(i){var o;return(o=this.getEdgeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"getNodeIncomingEdge",value:function(i){return this.graphModel.getNodeIncomingEdge(i)}},{key:"getNodeOutgoingEdge",value:function(i){return this.graphModel.getNodeOutgoingEdge(i)}},{key:"getNodeIncomingNode",value:function(i){return this.graphModel.getNodeIncomingNode(i)}},{key:"getNodeOutgoingNode",value:function(i){return this.graphModel.getNodeOutgoingNode(i)}},{key:"editText",value:function(i){this.graphModel.editText(i)}},{key:"setProperties",value:function(i,o){var u;(u=this.graphModel.getElement(i))===null||u===void 0||u.setProperties(qn(o))}},{key:"getProperties",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getProperties()}},{key:"toFront",value:function(i){this.graphModel.toFront(i)}},{key:"setElementZIndex",value:function(i,o){return this.graphModel.setElementZIndex(i,o)}},{key:"addElements",value:function(i){for(var o=this,u=i.nodes,l=i.edges,d={},m={nodes:[],edges:[]},E=0;E<u.length;E++){var P=u[E],D=P.id,H=this.addNode(P);if(!H)return;D&&(d[D]=H.id),m.nodes.push(H)}return l.forEach(function(Z){var re=Z.sourceNodeId,le=Z.targetNodeId;d[re]&&(Z.sourceNodeId=d[re]),d[le]&&(Z.targetNodeId=d[le]);var ae=o.graphModel.addEdge(Z);m.edges.push(ae)}),m}},{key:"getAreaElement",value:function(i,o){return this.graphModel.getAreaElement(i,o).map(function(u){return u.getData()})}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(i)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var i=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(i):i}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(i){this.graphModel.editConfigModel.updateEditConfig(i)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(i,o){return this.graphModel.getPointByClient({x:i,y:o})}},{key:"undo",value:function(){if(this.history.undoAble()){var i=qn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"redo",value:function(){if(this.history.redoAble()){var i=qn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"zoom",value:function(i,o){return this.graphModel.transformModel.zoom(i,o)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(i){this.graphModel.transformModel.setZoomMiniSize(i)}},{key:"setZoomMaxSize",value:function(i){this.graphModel.transformModel.setZoomMaxSize(i)}},{key:"getTransform",value:function(){var i=this.graphModel.transformModel;return{SCALE_X:i.SCALE_X,SCALE_Y:i.SCALE_Y,TRANSLATE_X:i.TRANSLATE_X,TRANSLATE_Y:i.TRANSLATE_Y}}},{key:"translate",value:function(i,o){this.graphModel.transformModel.translate(i,o)}},{key:"resetTranslate",value:function(){var i=this.graphModel.transformModel,o=i.TRANSLATE_X,u=i.TRANSLATE_Y;this.translate(-o,-u)}},{key:"on",value:function(i,o){this.graphModel.eventCenter.on(i,o)}},{key:"off",value:function(i,o){this.graphModel.eventCenter.off(i,o)}},{key:"once",value:function(i,o){this.graphModel.eventCenter.once(i,o)}},{key:"emit",value:function(i,o){this.graphModel.eventCenter.emit(i,o)}},{key:"installPlugins",value:function(){var i,o=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=(i=this.plugins)!==null&&i!==void 0?i:e.extensions;l.forEach(function(d){var m=d.pluginName||d.name;u.indexOf(m)===-1&&o.installPlugin(d)})}},{key:"installPlugin",value:function(i){if(Ly(i)==="object"){var o=i.install,u=i.render;return o&&o.call(i,this,e),u&&this.components.push(u.bind(i)),void(this.extension[i.pluginName]=i)}var l=i,d=new l({lf:this,LogicFlow:e});d.render&&this.components.push(d.render.bind(d)),this.extension[l.pluginName]=d}},{key:"updateAttributes",value:function(i,o){this.graphModel.updateAttributes(i,o)}},{key:"createFakerNode",value:function(i){var o=this.graphModel.modelMap.get(i.type);if(o){var u=new o(Xc(Xc({},i),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(u),u}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(i.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(i){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(i)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(i,o){this.viewMap.set(i,o)}},{key:"render",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(i=this.adapterIn(i)),this.graphModel.graphDataToModel(qn(i)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object(ee.j)(Object(ee.g)(_m,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(et.GRAPH_RENDERED,this.graphModel.modelToGraphData())}}])&&By(t.prototype,n),r&&By(t,r),e}();function zn(e){return me(e)}Rt(Vc,"extensions",new Map),p.default=Vc}])})})(Xe,Xe.exports);function BO(g,y){return y={exports:{}},g(y,y.exports),y.exports}var FO=BO(function(g){var y=g.exports=function(c,p){if(p||(p=16),c===void 0&&(c=128),c<=0)return"0";for(var a=Math.log(Math.pow(2,c))/Math.log(p),f=2;a===1/0;f*=2)a=Math.log(Math.pow(2,c/f))/Math.log(p)*f;for(var s=a-Math.floor(a),v="",f=0;f<Math.floor(a);f++){var _=Math.floor(Math.random()*p).toString(p);v=_+v}if(s){var w=Math.pow(p,s),_=Math.floor(Math.random()*w).toString(p);v=_+v}var O=parseInt(v,p);return O!==1/0&&O>=Math.pow(2,c)?y(c,p):v};y.rack=function(c,p,a){var f=function(v){var _=0;do{if(_++>10)if(a)c+=a;else throw new Error("too many ID collisions, use more bits");var w=y(c,p)}while(Object.hasOwnProperty.call(s,w));return s[w]=v,w},s=f.hats={};return f.get=function(v){return f.hats[v]},f.set=function(v,_){return f.hats[v]=_,f},f.bits=c||128,f.base=p||16,f}});function nr(g){if(!(this instanceof nr))return new nr(g);g=g||[128,36,1],this._seed=g.length?FO.rack(g[0],g[1],g[2]):g}nr.prototype.next=function(g){return this._seed(g||!0)};nr.prototype.nextPrefixed=function(g,y){var c;do c=g+this.next(!0);while(this.assigned(c));return this.claim(c,y),c};nr.prototype.claim=function(g,y){this._seed.set(g,y||!0)};nr.prototype.assigned=function(g){return this._seed.get(g)||!1};nr.prototype.unclaim=function(g){delete this._seed.hats[g]};nr.prototype.clear=function(){var g=this._seed.hats,y;for(y in g)this.unclaim(y)};var HO=new nr([32,32,1]);function To(){return HO.next()}var Uy=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),XO=function(g){Uy(y,g);function y(c,p){var a=this;return c.id||(c.id="Event_"+To()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=g.call(this,c,p)||this,a}return y.prototype.setAttributes=function(){this.r=18},y.prototype.getConnectedTargetRules=function(){var c=g.prototype.getConnectedTargetRules.call(this),p={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(p),c},y.extendKey="StartEventModel",y}(Xe.exports.CircleNodeModel),VO=function(g){Uy(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.extendKey="StartEventNode",y}(Xe.exports.CircleNode),UO={type:"bpmn:startEvent",view:VO,model:XO},Gy=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ca=globalThis&&globalThis.__assign||function(){return Ca=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},Ca.apply(this,arguments)},GO=function(g){Gy(y,g);function y(c,p){var a=this;return c.id||(c.id="Event_"+To()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=g.call(this,c,p)||this,a}return y.prototype.setAttributes=function(){this.r=18},y.prototype.getConnectedSourceRules=function(){var c=g.prototype.getConnectedSourceRules.call(this),p={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(p),c},y.extendKey="EndEventModel",y}(Xe.exports.CircleNodeModel),YO=function(g){Gy(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},y.prototype.getShape=function(){var c=this.props.model,p=c.getNodeStyle(),a=c.x,f=c.y,s=c.r,v=g.prototype.getShape.call(this);return Xe.exports.h("g",{},v,Xe.exports.h("circle",Ca(Ca({},p),{cx:a,cy:f,r:s-5})))},y.extendKey="EndEventView",y}(Xe.exports.CircleNode),WO={type:"bpmn:endEvent",view:YO,model:GO},Yy=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),mi=globalThis&&globalThis.__assign||function(){return mi=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},mi.apply(this,arguments)},$O=function(g){Yy(y,g);function y(c,p){var a=this;return c.id||(c.id="Gateway_"+To()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=g.call(this,c,p)||this,a.points=[[25,0],[50,25],[25,50],[0,25]],a}return y.extendKey="ExclusiveGatewayModel",y}(Xe.exports.PolygonNodeModel),KO=function(g){Yy(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getShape=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,s=c.height,v=c.points,_=c.getNodeStyle();return Xe.exports.h("g",{transform:"matrix(1 0 0 1 "+(p-f/2)+" "+(a-s/2)+")"},Xe.exports.h("polygon",mi(mi({},_),{x:p,y:a,points:v})),Xe.exports.h("path",mi({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},_)))},y.extendKey="ExclusiveGatewayNode",y}(Xe.exports.PolygonNode),qO={type:"bpmn:exclusiveGateway",view:KO,model:$O},Wy=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ra=globalThis&&globalThis.__assign||function(){return Ra=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},Ra.apply(this,arguments)},ZO=function(g){Wy(y,g);function y(c,p){var a=this;return c.id||(c.id="Activity_"+To()),a=g.call(this,c,p)||this,a}return y.extendKey="UserTaskModel",y}(Xe.exports.RectNodeModel),JO=function(g){Wy(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,s=c.height,v=c.getNodeStyle();return Xe.exports.h("svg",{x:p-f/2+5,y:a-s/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Xe.exports.h("path",{fill:v.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},y.prototype.getShape=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,s=c.height,v=c.radius,_=c.getNodeStyle();return Xe.exports.h("g",{},[Xe.exports.h("rect",Ra(Ra({},_),{x:p-f/2,y:a-s/2,rx:v,ry:v,width:f,height:s})),this.getLabelShape()])},y.extendKey="UserTaskNode",y}(Xe.exports.RectNode),QO={type:"bpmn:userTask",view:JO,model:ZO},$y=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Yc=globalThis&&globalThis.__assign||function(){return Yc=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},Yc.apply(this,arguments)},e1=function(g){$y(y,g);function y(c,p){var a=this;return c.id||(c.id="Activity_"+To()),a=g.call(this,c,p)||this,a}return y.extendKey="ServiceTaskModel",y}(Xe.exports.RectNodeModel),t1=function(g){$y(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getLabelShape=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,s=c.height,v=c.getNodeStyle();return Xe.exports.h("svg",{x:p-f/2+5,y:a-s/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Xe.exports.h("path",{fill:v.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},y.prototype.getShape=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,s=c.height,v=c.radius,_=c.getNodeStyle();return Xe.exports.h("g",{},[Xe.exports.h("rect",Yc({x:p-f/2,y:a-s/2,rx:v,ry:v,width:f,height:s},_)),this.getLabelShape()])},y.extendKey="ServiceTaskNode",y}(Xe.exports.RectNode),n1={type:"bpmn:serviceTask",view:t1,model:e1},Ky=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),r1=function(g){Ky(y,g);function y(c,p){var a=this;return c.id||(c.id="Flow_"+To()),a=g.call(this,c,p)||this,a}return y.extendKey="SequenceFlowModel",y}(Xe.exports.PolylineEdgeModel),o1=function(g){Ky(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.extendKey="SequenceFlowEdge",y}(Xe.exports.PolylineEdge),i1={type:"bpmn:sequenceFlow",view:o1,model:r1},qy={width:40,height:40},Zy={width:40,height:40},Jy={width:40,height:40},Qy={width:100,height:80},ev={width:100,height:80},a1={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},ow=function(){function g(y){var c=y.lf;c.setTheme(a1),c.register(UO),c.register(WO),c.register(qO),c.register(QO),c.register(n1),c.options.customBpmnEdge||(c.register(i1),c.setDefaultEdgeType("bpmn:sequenceFlow"))}return g.pluginName="bpmnElement",g}(),iw={pluginName:"snapshot",install:function(g){var y=this;this.lf=g,g.getSnapshot=function(c,p){y.offsetX=Number.MAX_SAFE_INTEGER,y.offsetY=Number.MAX_SAFE_INTEGER,y.fileName=c||"logic-flow."+Date.now()+".png";var a=y.getSvgRootElement(g);y.downloadSvg(a,y.fileName,p)},g.getSnapshotBlob=function(c){y.offsetX=Number.MAX_SAFE_INTEGER,y.offsetY=Number.MAX_SAFE_INTEGER;var p=y.getSvgRootElement(g);return y.getBlob(p,c)},g.getSnapshotBase64=function(c){y.offsetX=Number.MAX_SAFE_INTEGER,y.offsetY=Number.MAX_SAFE_INTEGER;var p=y.getSvgRootElement(g);return y.getBase64(p,c)}},getSvgRootElement:function(g){var y=this;g.graphModel.nodes.forEach(function(p){var a=p.x,f=p.width,s=p.y,v=p.height,_=a-f/2,w=s-v/2;_<y.offsetX&&(y.offsetX=_-5),w<y.offsetY&&(y.offsetY=w-5)}),g.graphModel.edges.forEach(function(p){p.pointsList&&p.pointsList.forEach(function(a){var f=a.x,s=a.y;f<y.offsetX&&(y.offsetX=f-5),s<y.offsetY&&(y.offsetY=s-5)})});var c=g.container.querySelector(".lf-canvas-overlay");return c},triggerDownload:function(g){var y=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",g),c.setAttribute("target","_blank"),c.dispatchEvent(y)},removeAnchor:function(g){for(var y=g.childNodes,c=g.childNodes&&g.childNodes.length,p=0;p<c;p++){var a=y[p],f=a.classList&&Array.from(a.classList)||[];f.indexOf("lf-anchor")>-1&&(g.removeChild(g.childNodes[p]),c--,p--)}},downloadSvg:function(g,y,c){var p=this;this.getCanvasData(g,c).then(function(a){var f=a.toDataURL("image/png").replace("image/png","image/octet-stream");p.triggerDownload(f,y)})},getBase64:function(g,y){var c=this;return new Promise(function(p){c.getCanvasData(g,y).then(function(a){var f=a.toDataURL("image/png");p({data:f,width:a.width,height:a.height})})})},getBlob:function(g,y){var c=this;return new Promise(function(p){c.getCanvasData(g,y).then(function(a){a.toBlob(function(f){p({data:f,width:a.width,height:a.height})},"image/png")})})},getClassRules:function(){for(var g="",y=document.styleSheets,c=0;c<y.length;c++)for(var p=y[c],a=0;a<p.cssRules.length;a++)g+=p.cssRules[a].cssText;return g},getCanvasData:function(g,y){var c=this,p=g.cloneNode(!0),a=p.lastChild,f=a.childNodes&&a.childNodes.length;if(f)for(var s=0;s<f;s++){var v=a.childNodes[s],_=v.classList&&Array.from(v.classList);if(_&&_.indexOf("lf-base")<0)a.removeChild(a.childNodes[s]),f--,s--;else{var w=a.childNodes[s];w&&w.childNodes.forEach(function(A){var z=A;c.removeAnchor(z.firstChild)})}}p.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var O=window.devicePixelRatio||1,j=document.createElement("canvas"),S=document.getElementsByClassName("lf-base")[0],k=S.getBoundingClientRect(),C=this.lf.graphModel,I=C.transformModel,G=I.SCALE_X,W=I.SCALE_Y,L=Math.ceil(k.width/G),K=Math.ceil(k.height/W);j.style.width=L+"px",j.style.height=K+"px",j.width=L*O+80,j.height=K*O+80;var q=j.getContext("2d");q.clearRect(0,0,j.width,j.height),q.scale(O,O),y?(q.fillStyle=y,q.fillRect(0,0,L*O+80,K*O+80)):q.clearRect(0,0,L,K);var X=new Image,N=document.createElement("style");N.innerHTML=this.getClassRules();var F=document.createElement("foreignObject");return F.appendChild(N),p.appendChild(F),new Promise(function(A){X.onload=function(){q.drawImage(X,0,0),A(j)};var z="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(p),V=z.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");X.src=V})}},u1=new nr([32,32,1]);function tv(){return u1.next()}var cn=function(){};cn.ObjTree=function(){return this};cn.ObjTree.VERSION="0.23";cn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;cn.ObjTree.prototype.attr_prefix="-";cn.ObjTree.prototype.parseXML=function(g){var y;if(window.DOMParser){var c=new DOMParser,p=c.parseFromString(g,"application/xml");if(!p)return;y=p.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(g),y=c.documentElement);if(!!y)return this.parseDOM(y)};cn.ObjTree.prototype.parseHTTP=function(g,y,c){var p={};for(var a in y)p[a]=y[a];if(p.method||(typeof p.postBody=="undefined"&&typeof p.postbody=="undefined"&&typeof p.parameters=="undefined"?p.method="get":p.method="post"),c){p.asynchronous=!0;var f=this,s=c,v=p.onComplete;p.onComplete=function(O){var j;O&&O.responseXML&&O.responseXML.documentElement&&(j=f.parseDOM(O.responseXML.documentElement)),s(j,O),v&&v(O)}}else p.asynchronous=!1;var _;if(typeof HTTP!="undefined"&&HTTP.Request){p.uri=g;var w=new HTTP.Request(p);w&&(_=w.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var w=new Ajax.Request(g,p);w&&(_=w.transport)}if(c)return _;if(_&&_.responseXML&&_.responseXML.documentElement)return this.parseDOM(_.responseXML.documentElement)};cn.ObjTree.prototype.parseDOM=function(g){if(!!g){if(this.__force_array={},this.force_array)for(var y=0;y<this.force_array.length;y++)this.__force_array[this.force_array[y]]=1;var c=this.parseElement(g);if(this.__force_array[g.nodeName]&&(c=[c]),g.nodeType!=11){var p={};p[g.nodeName]=c,c=p}return c}};cn.ObjTree.prototype.parseElement=function(g){if(g.nodeType!=7){if(g.nodeType==3||g.nodeType==4){var y=g.nodeValue.match(/[^\x00-\x20]/);return y==null?void 0:g.nodeValue}var c,p={};if(g.attributes&&g.attributes.length){c={};for(var a=0;a<g.attributes.length;a++){var f=g.attributes[a].nodeName;if(typeof f=="string"){var s=g.attributes[a].nodeValue;!s||(f=this.attr_prefix+f,typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],s))}}}if(g.childNodes&&g.childNodes.length){var v=!0;c&&(v=!1);for(var a=0;a<g.childNodes.length&&v;a++){var _=g.childNodes[a].nodeType;_==3||_==4||(v=!1)}if(v){c||(c="");for(var a=0;a<g.childNodes.length;a++)c+=g.childNodes[a].nodeValue}else{c||(c={});for(var a=0;a<g.childNodes.length;a++){var f=g.childNodes[a].nodeName;if(typeof f=="string"){var s=this.parseElement(g.childNodes[a]);!s||(typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(c,f,p[f],s))}}}}return c}};cn.ObjTree.prototype.addNode=function(g,y,c,p){this.__force_array[y]?(c==1&&(g[y]=[]),g[y][g[y].length]=p):c==1?g[y]=p:c==2?g[y]=[g[y],p]:g[y][g[y].length]=p};cn.ObjTree.prototype.writeXML=function(g){var y=this.hash_to_xml(null,g);return this.xmlDecl+y};cn.ObjTree.prototype.hash_to_xml=function(g,y){var c=[],p=[];for(var a in y)if(!!y.hasOwnProperty(a)){var f=y[a];a.charAt(0)!=this.attr_prefix?typeof f=="undefined"||f==null?c[c.length]="<"+a+" />":typeof f=="object"&&f.constructor==Array?c[c.length]=this.array_to_xml(a,f):typeof f=="object"?c[c.length]=this.hash_to_xml(a,f):c[c.length]=this.scalar_to_xml(a,f):p[p.length]=" "+a.substring(1)+'="'+this.xml_escape(f)+'"'}var s=p.join(""),v=c.join("");return typeof g=="undefined"||g==null||(c.length>0?v.match(/\n/)?v="<"+g+s+`>
`+v+"</"+g+`>
`:v="<"+g+s+">"+v+"</"+g+`>
`:v="<"+g+s+` />
`),v};cn.ObjTree.prototype.array_to_xml=function(g,y){for(var c=[],p=0;p<y.length;p++){var a=y[p];typeof a=="undefined"||a==null?c[c.length]="<"+g+" />":typeof a=="object"&&a.constructor==Array?c[c.length]=this.array_to_xml(g,a):typeof a=="object"?c[c.length]=this.hash_to_xml(g,a):c[c.length]=this.scalar_to_xml(g,a)}return c.join("")};cn.ObjTree.prototype.scalar_to_xml=function(g,y){return g=="#text"?this.xml_escape(y):"<"+g+">"+this.xml_escape(y)+"</"+g+`>
`};cn.ObjTree.prototype.xml_escape=function(g){return g.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Ia=globalThis&&globalThis.__read||function(g,y){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),a,f=[],s;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},rr;(function(g){g.START="bpmn:startEvent",g.END="bpmn:endEvent",g.GATEWAY="bpmn:exclusiveGateway",g.USER="bpmn:userTask",g.SYSTEM="bpmn:serviceTask",g.FLOW="bpmn:sequenceFlow"})(rr||(rr={}));var nv=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function Wc(g){var y={};return Object.entries(g).forEach(function(c){var p=Ia(c,2),a=p[0],f=p[1];typeof f!="object"?a.indexOf("-")===0?y[a]=f:y["-"+a]=f:y[a]=Wc(f)}),y}function $c(g){var y={};return Object.entries(g).forEach(function(c){var p=Ia(c,2),a=p[0],f=p[1];typeof f=="string"?a.indexOf("-")===0?y[a.substr(1)]=f:y[a]=f:typeof f=="object"?y[a]=$c(f):y[a]=f}),y}function c1(g,y){var c=new Map;y.nodes.forEach(function(a){var f,s={"-id":a.id};if(((f=a.text)===null||f===void 0?void 0:f.value)&&(s["-name"]=a.text.value),a.properties){var v=Wc(a.properties);Object.assign(s,v)}c.set(a.id,s),g[a.type]?Array.isArray(g[a.type])?g[a.type].push(s):g[a.type]=[g[a.type],s]:g[a.type]=s});var p=y.edges.map(function(a){var f,s,v=c.get(a.targetNodeId);v["bpmn:incoming"]?Array.isArray(v["bpmn:incoming"])?v["bpmn:incoming"].push(a.id):v["bpmn:incoming"]=[v["bpmn:incoming"],a.id]:v["bpmn:incoming"]=a.id;var _=c.get(a.sourceNodeId);_["bpmn:outgoing"]?Array.isArray(_["bpmn:outgoing"])?_["bpmn:outgoing"].push(a.id):_["bpmn:outgoing"]=[_["bpmn:outgoing"],a.id]:_["bpmn:outgoing"]=a.id;var w={"-id":a.id,"-sourceRef":a.sourceNodeId,"-targetRef":a.targetNodeId};if(((f=a.text)===null||f===void 0?void 0:f.value)&&(w["-name"]=(s=a.text)===null||s===void 0?void 0:s.value),a.properties){var O=Wc(a.properties);Object.assign(w,O)}return w});g[rr.FLOW]=p}function s1(g,y){g["bpmndi:BPMNEdge"]=y.edges.map(function(c){var p,a=c.id,f=c.pointsList.map(function(v){var _=v.x,w=v.y;return{"-x":_,"-y":w}}),s={"-id":a+"_di","-bpmnElement":a,"di:waypoint":f};return((p=c.text)===null||p===void 0?void 0:p.value)&&(s["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),s}),g["bpmndi:BPMNShape"]=y.nodes.map(function(c){var p,a=c.id,f=100,s=80,v=c.x,_=c.y,w=io.shapeConfigMap.get(c.type);w&&(f=w.width,s=w.height),v-=f/2,_-=s/2;var O={"-id":a+"_di","-bpmnElement":a,"dc:Bounds":{"-x":v,"-y":_,"-width":f,"-height":s}};return((p=c.text)===null||p===void 0?void 0:p.value)&&(O["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),O})}function l1(g){var y=[],c=[],p=g["bpmn:definitions"];if(p){var a=p["bpmn:process"];Object.keys(a).forEach(function(f){if(f.indexOf("bpmn:")===0){var s=a[f];if(f===rr.FLOW){var v=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=p1(s,v)}else{var _=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];y=y.concat(f1(s,_,f))}}})}return{nodes:y,edges:c}}function f1(g,y,c){var p=[];if(Array.isArray(g))g.forEach(function(s){var v;Array.isArray(y)?v=y.find(function(w){return w["-bpmnElement"]===s["-id"]}):v=y;var _=rv(v,c,s);p.push(_)});else{var a=void 0;Array.isArray(y)?a=y.find(function(s){return s["-bpmnElement"]===g["-id"]}):a=y;var f=rv(a,c,g);p.push(f)}return p}function rv(g,y,c){var p=Number(g["dc:Bounds"]["-x"]),a=Number(g["dc:Bounds"]["-y"]),f=c["-name"],s=io.shapeConfigMap.get(y);s&&(p+=s.width/2,a+=s.height/2);var v;Object.entries(c).forEach(function(j){var S=Ia(j,2),k=S[0],C=S[1];nv.indexOf(k)===-1&&(v||(v={}),v[k]=C)}),v&&(v=$c(v));var _;if(f&&(_={x:p,y:a,value:f},g["bpmndi:BPMNLabel"]&&g["bpmndi:BPMNLabel"]["dc:Bounds"])){var w=g["bpmndi:BPMNLabel"]["dc:Bounds"];_.x=Number(w["-x"])+Number(w["-width"])/2,_.y=Number(w["-y"])+Number(w["-height"])/2}var O={id:g["-bpmnElement"],type:y,x:p,y:a,properties:v};return _&&(O.text=_),O}function p1(g,y){var c=[];if(Array.isArray(g))g.forEach(function(a){var f;Array.isArray(y)?f=y.find(function(s){return s["-bpmnElement"]===a["-id"]}):f=y,c.push(ov(f,a))});else{var p=void 0;Array.isArray(y)?p=y.find(function(a){return a["-bpmnElement"]===g["-id"]}):p=y,c.push(ov(p,g))}return c}function ov(g,y){var c,p=y["-name"];if(p){var a=g["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;p.split(`
`).forEach(function(_){f<_.length&&(f=_.length)}),c={value:p,x:Number(a["-x"])+f*10/2,y:Number(a["-y"])+7}}var s;Object.entries(y).forEach(function(_){var w=Ia(_,2),O=w[0],j=w[1];nv.indexOf(O)===-1&&(s||(s={}),s[O]=j)}),s&&(s=$c(s));var v={id:y["-id"],type:rr.FLOW,pointsList:g["di:waypoint"].map(function(_){return{x:Number(_["-x"]),y:Number(_["-y"])}}),sourceNodeId:y["-sourceRef"],targetNodeId:y["-targetRef"],properties:s};return c&&(v.text=c),v}var io={pluginName:"bpmn-adapter",install:function(g){g.adapterIn=this.adapterIn,g.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(g,y){this.shapeConfigMap.set(g,y)},adapterOut:function(g){var y={"-id":"Process_"+tv(),"-isExecutable":"false"};c1(y,g);var c={"-id":"BPMNPlane_1","-bpmnElement":y["-id"]};s1(c,g);var p={"bpmn:definitions":{"-id":"Definitions_"+tv(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":y,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return p},adapterIn:function(g){if(g)return l1(g)}};io.shapeConfigMap.set(rr.START,{width:qy.width,height:qy.height});io.shapeConfigMap.set(rr.END,{width:Zy.width,height:Zy.height});io.shapeConfigMap.set(rr.GATEWAY,{width:Jy.width,height:Jy.height});io.shapeConfigMap.set(rr.SYSTEM,{width:Qy.width,height:Qy.height});io.shapeConfigMap.set(rr.USER,{width:ev.width,height:ev.height});var iv=globalThis&&globalThis.__assign||function(){return iv=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},iv.apply(this,arguments)},av;(function(g){g[g.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",g[g.START_EVENT=2]="START_EVENT",g[g.END_EVENT=3]="END_EVENT",g[g.USER_TASK=4]="USER_TASK",g[g.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"})(av||(av={}));var uv;(function(g){g.HORIZONTAL="horizontal",g.VERTICAL="vertical"})(uv||(uv={}));var d1=globalThis&&globalThis.__read||function(g,y){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),a,f=[],s;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var h1=globalThis&&globalThis.__read||function(g,y){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),a,f=[],s;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var y1=globalThis&&globalThis.__read||function(g,y){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),a,f=[],s;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},v1=globalThis&&globalThis.__spread||function(){for(var g=[],y=0;y<arguments.length;y++)g=g.concat(y1(arguments[y]));return g},_i="lf:defaultNodeMenu",Oi="lf:defaultEdgeMenu",wi="lf:defaultGraphMenu",cv="lf:defaultSelectionMenu",aw=function(){function g(y){var c=this,p=y.lf;this.__menuDOM=document.createElement("ul"),this.lf=p,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(a){c.setMenuConfig(a)},this.lf.addMenuConfig=function(a){c.addMenuConfig(a)},this.lf.setMenuByType=function(a){c.setMenuByType(a)}}return g.prototype.init=function(){var y=this,c=[{text:"\u5220\u9664",callback:function(f){y.lf.deleteNode(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){y.lf.graphModel.editText(f.id)}},{text:"\u590D\u5236",callback:function(f){y.lf.cloneNode(f.id)}}];this.menuTypeMap.set(_i,c);var p=[{text:"\u5220\u9664",callback:function(f){y.lf.deleteEdge(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){y.lf.graphModel.editText(f.id)}}];this.menuTypeMap.set(Oi,p),this.menuTypeMap.set(wi,[]);var a=[{text:"\u5220\u9664",callback:function(f){y.lf.clearSelectElements(),f.edges.forEach(function(s){return y.lf.deleteEdge(s.id)}),f.nodes.forEach(function(s){return y.lf.deleteNode(s.id)})}}];this.menuTypeMap.set(cv,a)},g.prototype.render=function(y,c){var p=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(a){a.stopPropagation();for(var f=a.target;Array.from(f.classList).indexOf("lf-menu-item")===-1&&Array.from(f.classList).indexOf("lf-menu")===-1;)f=f.parentElement;Array.from(f.classList).indexOf("lf-menu-item")>-1?(f.onclickCallback(p.__currentData),p.__menuDOM.style.display="none",p.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(a){var f=a.data,s=a.position,v=s.domOverlayPosition,_=v.x,w=v.y,O=f.id,j=p.lf.graphModel.getNodeModelById(O),S=[],k=p.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?S=j.menu:k?S=k:S=p.menuTypeMap.get(_i),p.__currentData=f,p.showMenu(_,w,S)}),this.lf.on("edge:contextmenu",function(a){var f=a.data,s=a.position,v=s.domOverlayPosition,_=v.x,w=v.y,O=f.id,j=p.lf.graphModel.getEdgeModelById(O),S=[],k=p.menuTypeMap.get(j.type);j&&j.menu&&Array.isArray(j.menu)?S=j.menu:k?S=k:S=p.menuTypeMap.get(Oi),p.__currentData=f,p.showMenu(_,w,S)}),this.lf.on("blank:contextmenu",function(a){var f=a.position,s=p.menuTypeMap.get(wi),v=f.domOverlayPosition,_=v.x,w=v.y;p.showMenu(_,w,s)}),this.lf.on("selection:contextmenu",function(a){var f=a.data,s=a.position,v=p.menuTypeMap.get(cv),_=s.domOverlayPosition,w=_.x,O=_.y;p.__currentData=f,p.showMenu(w,O,v)}),this.lf.on("node:mousedown",function(){p.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){p.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){p.__menuDOM.style.display="none"})},g.prototype.destroy=function(){var y;(y=this===null||this===void 0?void 0:this.__container)===null||y===void 0||y.removeChild(this.__menuDOM),this.__menuDOM=null},g.prototype.showMenu=function(y,c,p){if(!(!p||!p.length)){var a=this.__menuDOM;a.innerHTML="",a.append.apply(a,v1(this.__getMenuDom(p))),!!a.children.length&&(a.style.display="block",a.style.top=c+"px",a.style.left=y+"px")}},g.prototype.setMenuByType=function(y){!y.type||!y.menu||this.menuTypeMap.set(y.type,y.menu)},g.prototype.__getMenuDom=function(y){var c=[];return y&&y.length>0&&y.forEach(function(p){var a=document.createElement("li");if(p.className?a.className="lf-menu-item "+p.className:a.className="lf-menu-item",p.icon===!0){var f=document.createElement("span");f.className="lf-menu-item-icon",a.appendChild(f)}var s=document.createElement("span");s.className="lf-menu-item-text",p.text&&(s.innerText=p.text),a.appendChild(s),a.onclickCallback=p.callback,c.push(a)}),c},g.prototype.setMenuConfig=function(y){!y||(y.nodeMenu!==void 0&&this.menuTypeMap.set(_i,y.nodeMenu?y.nodeMenu:[]),y.edgeMenu!==void 0&&this.menuTypeMap.set(Oi,y.edgeMenu?y.edgeMenu:[]),y.graphMenu!==void 0&&this.menuTypeMap.set(wi,y.graphMenu?y.graphMenu:[]))},g.prototype.addMenuConfig=function(y){if(!!y){if(Array.isArray(y.nodeMenu)){var c=this.menuTypeMap.get(_i);this.menuTypeMap.set(_i,c.concat(y.nodeMenu))}if(Array.isArray(y.edgeMenu)){var c=this.menuTypeMap.get(Oi);this.menuTypeMap.set(Oi,c.concat(y.edgeMenu))}if(Array.isArray(y.graphMenu)){var c=this.menuTypeMap.get(wi);this.menuTypeMap.set(wi,c.concat(y.graphMenu))}}},g.prototype.changeMenuItem=function(y,c){if(y==="add")this.addMenuConfig(c);else if(y==="reset")this.setMenuConfig(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},g.pluginName="menu",g}();globalThis&&globalThis.__read;globalThis&&globalThis.__values;var sv=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),xi=globalThis&&globalThis.__read||function(g,y){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),a,f=[],s;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};(function(g){sv(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getEdge=function(){for(var c=this.props.model.getEdgeStyle(),p=c.strokeWidth,a=c.stroke,f=c.strokeDashArray,s=this.props.model.points,v=s.split(" ").map(function(B){return B.split(",").map(function($){return Number($)})}),_=xi(v[0],2),w=_[0],O=_[1],j="M"+w+" "+O,S=5,k=1;k<v.length-1;k++){var C=xi(v[k-1],2),I=C[0],G=C[1],W=xi(v[k],2),L=W[0],K=W[1],q=xi(v[k+1],2),X=q[0],N=q[1];if(L===I&&K!==G){var F=K>G?K-S:K+S;j=j+" L "+L+" "+F}if(K===G&&L!==I){var A=L>I?L-S:L+S;j=j+" L "+A+" "+K}if(j=j+" Q "+L+" "+K,L===X&&K!==N){var F=K>N?K-S:K+S;j=j+" "+L+" "+F}if(K===N&&L!==X){var A=L>X?L-S:L+S;j=j+" "+A+" "+K}}var z=xi(v[v.length-1],2),V=z[0],R=z[1];return j=j+" L "+V+" "+R,Xe.exports.h("path",{d:j,strokeWidth:p,stroke:a,fill:"none",strokeDashArray:f})},y.extendKey="curvedEdge",y})(Xe.exports.PolylineEdge);(function(g){sv(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y})(Xe.exports.PolylineEdgeModel);var Kc,Ft,lv,Ei,fv,pv,dv={},hv=[],g1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function zr(g,y){for(var c in y)g[c]=y[c];return g}function yv(g){var y=g.parentNode;y&&y.removeChild(g)}function ji(g,y,c){var p,a,f,s={};for(f in y)f=="key"?p=y[f]:f=="ref"?a=y[f]:s[f]=y[f];if(arguments.length>2&&(s.children=arguments.length>3?Kc.call(arguments,2):c),typeof g=="function"&&g.defaultProps!=null)for(f in g.defaultProps)s[f]===void 0&&(s[f]=g.defaultProps[f]);return La(g,s,p,a,null)}function La(g,y,c,p,a){var f={type:g,props:y,key:c,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a==null?++lv:a};return a==null&&Ft.vnode!=null&&Ft.vnode(f),f}function qc(g){return g.children}function Do(g,y){this.props=g,this.context=y}function Mo(g,y){if(y==null)return g.__?Mo(g.__,g.__.__k.indexOf(g)+1):null;for(var c;y<g.__k.length;y++)if((c=g.__k[y])!=null&&c.__e!=null)return c.__e;return typeof g.type=="function"?Mo(g):null}function vv(g){var y,c;if((g=g.__)!=null&&g.__c!=null){for(g.__e=g.__c.base=null,y=0;y<g.__k.length;y++)if((c=g.__k[y])!=null&&c.__e!=null){g.__e=g.__c.base=c.__e;break}return vv(g)}}function gv(g){(!g.__d&&(g.__d=!0)&&Ei.push(g)&&!za.__r++||pv!==Ft.debounceRendering)&&((pv=Ft.debounceRendering)||fv)(za)}function za(){for(var g;za.__r=Ei.length;)g=Ei.sort(function(y,c){return y.__v.__b-c.__v.__b}),Ei=[],g.some(function(y){var c,p,a,f,s,v;y.__d&&(s=(f=(c=y).__v).__e,(v=c.__P)&&(p=[],(a=zr({},f)).__v=f.__v+1,Ev(v,f,a,c.__n,v.ownerSVGElement!==void 0,f.__h!=null?[s]:null,p,s==null?Mo(f):s,f.__h),m1(p,f),f.__e!=s&&vv(f)))})}function bv(g,y,c,p,a,f,s,v,_,w){var O,j,S,k,C,I,G,W=p&&p.__k||hv,L=W.length;for(c.__k=[],O=0;O<y.length;O++)if((k=c.__k[O]=(k=y[O])==null||typeof k=="boolean"?null:typeof k=="string"||typeof k=="number"||typeof k=="bigint"?La(null,k,null,null,k):Array.isArray(k)?La(qc,{children:k},null,null,null):k.__b>0?La(k.type,k.props,k.key,null,k.__v):k)!=null){if(k.__=c,k.__b=c.__b+1,(S=W[O])===null||S&&k.key==S.key&&k.type===S.type)W[O]=void 0;else for(j=0;j<L;j++){if((S=W[j])&&k.key==S.key&&k.type===S.type){W[j]=void 0;break}S=null}Ev(g,k,S=S||dv,a,f,s,v,_,w),C=k.__e,(j=k.ref)&&S.ref!=j&&(G||(G=[]),S.ref&&G.push(S.ref,null,k),G.push(j,k.__c||C,k)),C!=null?(I==null&&(I=C),typeof k.type=="function"&&k.__k===S.__k?k.__d=_=mv(k,_,g):_=_v(g,k,S,W,C,_),typeof c.type=="function"&&(c.__d=_)):_&&S.__e==_&&_.parentNode!=g&&(_=Mo(S))}for(c.__e=I,O=L;O--;)W[O]!=null&&(typeof c.type=="function"&&W[O].__e!=null&&W[O].__e==c.__d&&(c.__d=Mo(p,O+1)),Sv(W[O],W[O]));if(G)for(O=0;O<G.length;O++)jv(G[O],G[++O],G[++O])}function mv(g,y,c){for(var p,a=g.__k,f=0;a&&f<a.length;f++)(p=a[f])&&(p.__=g,y=typeof p.type=="function"?mv(p,y,c):_v(c,p,p,a,p.__e,y));return y}function _v(g,y,c,p,a,f){var s,v,_;if(y.__d!==void 0)s=y.__d,y.__d=void 0;else if(c==null||a!=f||a.parentNode==null)e:if(f==null||f.parentNode!==g)g.appendChild(a),s=null;else{for(v=f,_=0;(v=v.nextSibling)&&_<p.length;_+=2)if(v==a)break e;g.insertBefore(a,f),s=f}return s!==void 0?s:a.nextSibling}function b1(g,y,c,p,a){var f;for(f in c)f==="children"||f==="key"||f in y||Ba(g,f,null,c[f],p);for(f in y)a&&typeof y[f]!="function"||f==="children"||f==="key"||f==="value"||f==="checked"||c[f]===y[f]||Ba(g,f,y[f],c[f],p)}function Ov(g,y,c){y[0]==="-"?g.setProperty(y,c):g[y]=c==null?"":typeof c!="number"||g1.test(y)?c:c+"px"}function Ba(g,y,c,p,a){var f;e:if(y==="style")if(typeof c=="string")g.style.cssText=c;else{if(typeof p=="string"&&(g.style.cssText=p=""),p)for(y in p)c&&y in c||Ov(g.style,y,"");if(c)for(y in c)p&&c[y]===p[y]||Ov(g.style,y,c[y])}else if(y[0]==="o"&&y[1]==="n")f=y!==(y=y.replace(/Capture$/,"")),y=y.toLowerCase()in g?y.toLowerCase().slice(2):y.slice(2),g.l||(g.l={}),g.l[y+f]=c,c?p||g.addEventListener(y,f?xv:wv,f):g.removeEventListener(y,f?xv:wv,f);else if(y!=="dangerouslySetInnerHTML"){if(a)y=y.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(y!=="href"&&y!=="list"&&y!=="form"&&y!=="tabIndex"&&y!=="download"&&y in g)try{g[y]=c==null?"":c;break e}catch{}typeof c=="function"||(c!=null&&(c!==!1||y[0]==="a"&&y[1]==="r")?g.setAttribute(y,c):g.removeAttribute(y))}}function wv(g){this.l[g.type+!1](Ft.event?Ft.event(g):g)}function xv(g){this.l[g.type+!0](Ft.event?Ft.event(g):g)}function Ev(g,y,c,p,a,f,s,v,_){var w,O,j,S,k,C,I,G,W,L,K,q=y.type;if(y.constructor!==void 0)return null;c.__h!=null&&(_=c.__h,v=y.__e=c.__e,y.__h=null,f=[v]),(w=Ft.__b)&&w(y);try{e:if(typeof q=="function"){if(G=y.props,W=(w=q.contextType)&&p[w.__c],L=w?W?W.props.value:w.__:p,c.__c?I=(O=y.__c=c.__c).__=O.__E:("prototype"in q&&q.prototype.render?y.__c=O=new q(G,L):(y.__c=O=new Do(G,L),O.constructor=q,O.render=O1),W&&W.sub(O),O.props=G,O.state||(O.state={}),O.context=L,O.__n=p,j=O.__d=!0,O.__h=[]),O.__s==null&&(O.__s=O.state),q.getDerivedStateFromProps!=null&&(O.__s==O.state&&(O.__s=zr({},O.__s)),zr(O.__s,q.getDerivedStateFromProps(G,O.__s))),S=O.props,k=O.state,j)q.getDerivedStateFromProps==null&&O.componentWillMount!=null&&O.componentWillMount(),O.componentDidMount!=null&&O.__h.push(O.componentDidMount);else{if(q.getDerivedStateFromProps==null&&G!==S&&O.componentWillReceiveProps!=null&&O.componentWillReceiveProps(G,L),!O.__e&&O.shouldComponentUpdate!=null&&O.shouldComponentUpdate(G,O.__s,L)===!1||y.__v===c.__v){O.props=G,O.state=O.__s,y.__v!==c.__v&&(O.__d=!1),O.__v=y,y.__e=c.__e,y.__k=c.__k,y.__k.forEach(function(X){X&&(X.__=y)}),O.__h.length&&s.push(O);break e}O.componentWillUpdate!=null&&O.componentWillUpdate(G,O.__s,L),O.componentDidUpdate!=null&&O.__h.push(function(){O.componentDidUpdate(S,k,C)})}O.context=L,O.props=G,O.state=O.__s,(w=Ft.__r)&&w(y),O.__d=!1,O.__v=y,O.__P=g,w=O.render(O.props,O.state,O.context),O.state=O.__s,O.getChildContext!=null&&(p=zr(zr({},p),O.getChildContext())),j||O.getSnapshotBeforeUpdate==null||(C=O.getSnapshotBeforeUpdate(S,k)),K=w!=null&&w.type===qc&&w.key==null?w.props.children:w,bv(g,Array.isArray(K)?K:[K],y,c,p,a,f,s,v,_),O.base=y.__e,y.__h=null,O.__h.length&&s.push(O),I&&(O.__E=O.__=null),O.__e=!1}else f==null&&y.__v===c.__v?(y.__k=c.__k,y.__e=c.__e):y.__e=_1(c.__e,y,c,p,a,f,s,_);(w=Ft.diffed)&&w(y)}catch(X){y.__v=null,(_||f!=null)&&(y.__e=v,y.__h=!!_,f[f.indexOf(v)]=null),Ft.__e(X,y,c)}}function m1(g,y){Ft.__c&&Ft.__c(y,g),g.some(function(c){try{g=c.__h,c.__h=[],g.some(function(p){p.call(c)})}catch(p){Ft.__e(p,c.__v)}})}function _1(g,y,c,p,a,f,s,v){var _,w,O,j=c.props,S=y.props,k=y.type,C=0;if(k==="svg"&&(a=!0),f!=null){for(;C<f.length;C++)if((_=f[C])&&"setAttribute"in _==!!k&&(k?_.localName===k:_.nodeType===3)){g=_,f[C]=null;break}}if(g==null){if(k===null)return document.createTextNode(S);g=a?document.createElementNS("http://www.w3.org/2000/svg",k):document.createElement(k,S.is&&S),f=null,v=!1}if(k===null)j===S||v&&g.data===S||(g.data=S);else{if(f=f&&Kc.call(g.childNodes),w=(j=c.props||dv).dangerouslySetInnerHTML,O=S.dangerouslySetInnerHTML,!v){if(f!=null)for(j={},C=0;C<g.attributes.length;C++)j[g.attributes[C].name]=g.attributes[C].value;(O||w)&&(O&&(w&&O.__html==w.__html||O.__html===g.innerHTML)||(g.innerHTML=O&&O.__html||""))}if(b1(g,S,j,a,v),O)y.__k=[];else if(C=y.props.children,bv(g,Array.isArray(C)?C:[C],y,c,p,a&&k!=="foreignObject",f,s,f?f[0]:c.__k&&Mo(c,0),v),f!=null)for(C=f.length;C--;)f[C]!=null&&yv(f[C]);v||("value"in S&&(C=S.value)!==void 0&&(C!==g.value||k==="progress"&&!C||k==="option"&&C!==j.value)&&Ba(g,"value",C,j.value,!1),"checked"in S&&(C=S.checked)!==void 0&&C!==g.checked&&Ba(g,"checked",C,j.checked,!1))}return g}function jv(g,y,c){try{typeof g=="function"?g(y):g.current=y}catch(p){Ft.__e(p,c)}}function Sv(g,y,c){var p,a;if(Ft.unmount&&Ft.unmount(g),(p=g.ref)&&(p.current&&p.current!==g.__e||jv(p,null,y)),(p=g.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(f){Ft.__e(f,y)}p.base=p.__P=null}if(p=g.__k)for(a=0;a<p.length;a++)p[a]&&Sv(p[a],y,typeof g.type!="function");c||g.__e==null||yv(g.__e),g.__e=g.__d=void 0}function O1(g,y,c){return this.constructor(g,c)}Kc=hv.slice,Ft={__e:function(g,y){for(var c,p,a;y=y.__;)if((c=y.__c)&&!c.__)try{if((p=c.constructor)&&p.getDerivedStateFromError!=null&&(c.setState(p.getDerivedStateFromError(g)),a=c.__d),c.componentDidCatch!=null&&(c.componentDidCatch(g),a=c.__d),a)return c.__E=c}catch(f){g=f}throw g}},lv=0,Do.prototype.setState=function(g,y){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=zr({},this.state),typeof g=="function"&&(g=g(zr({},c),this.props)),g&&zr(c,g),g!=null&&this.__v&&(y&&this.__h.push(y),gv(this))},Do.prototype.forceUpdate=function(g){this.__v&&(this.__e=!0,g&&this.__h.push(g),gv(this))},Do.prototype.render=qc,Ei=[],fv=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,za.__r=0;var Si=globalThis&&globalThis.__assign||function(){return Si=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},Si.apply(this,arguments)};function Zc(g){var y=g.x,c=g.y,p=g.width,a=g.height,f=g.radius,s=g.className,v=y-p/2,_=c-a/2,w=Si(Si({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+s},g),{x:v,y:_});return Xe.exports.h("rect",Si({},w))}Zc.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var No;(function(g){g.NODE="node",g.CIRCLE_NODE="circle-node",g.POLYGON_NODE="polygon-node",g.RECT_NODE="rect-node",g.HTML_NODE="html-node",g.TEXT_NODE="text-node",g.ELLIPSE_NODE="ellipse-node",g.DIAMOND_NODE="diamond-node",g.EDGE="edge",g.LINE_EDGE="line-edge",g.POLYLINE_EDGE="polyline-edge",g.BEZIER_EDGE="bezier-edge",g.GRAPH="graph"})(No||(No={}));function Fa(g){var y=g.x,c=g.y,p=g.width,a=g.height;return{minX:y-p/2,minY:c-a/2,maxX:y+p/2,maxY:c+a/2}}function Pv(g){var y=Fa(g),c=g.radius,p=y.minX,a=y.minY,f=y.maxX,s=y.maxY;return[{x:p+c,y:a+c},{x:f-c,y:a+c},{x:f-c,y:s-c},{x:p+c,y:s-c}]}function kv(g){var y=g.point,c=g.beforeNode,p=g.afterNode,a=y.x,f=y.y,s={x:a,y:f},v=c.radius,_=Fa(c),w=Fa(p);if(a===_.minX){s.x=w.minX;var O=(f-c.y)/(c.height/2-v);O?s.y=p.y+(p.height/2-v)*O:s.y=p.y}else if(a===_.maxX){s.x=w.maxX;var O=(f-c.y)/(c.height/2-v);O?s.y=p.y+(p.height/2-v)*O:s.y=p.y}else if(f===_.minY){s.y=w.minY;var O=(a-c.x)/(c.width/2-v);O?s.x=p.x+(p.width/2-v)*O:s.x=p.x}else if(f===_.maxY){s.y=w.maxY;var O=(a-c.x)/(c.width/2-v);O?s.x=p.x+(p.width/2-v)*O:s.x=p.x}else{var j=Pv(c),S=Pv(p),k=Fa(c),C=k.minX,I=k.minY,G=k.maxX,W=k.maxY,L=-1;if(a-C<v&&f-I<v?L=0:G-a<v&&f-I<v?L=1:G-a<v&&W-f<v?L=2:a-C<v&&I-f<v&&(L=3),L>-1){var K=Math.atan2(f-j[L].y,a-j[L].x);s.x=S[L].x+v*Math.cos(K),s.y=S[L].y+v*Math.sin(K)}}return s}function Av(g){var y=g.point,c=g.beforeNode,p=g.afterNode,a=p.rx,f=p.ry,s=y,v=(y.y-c.y)/(y.x-c.x),_=a,w=f,O,j;return v>=1/0?(O=0,j=w):v<=-1/0?(O=0,j=-w):y.x-c.x>0?(O=_*w/Math.sqrt(w*w+_*_*v*v),j=_*w*v/Math.sqrt(w*w+_*_*v*v)):(O=-(_*w)/Math.sqrt(w*w+_*_*v*v),j=-(_*w*v)/Math.sqrt(w*w+_*_*v*v)),s={x:O+p.x,y:j+p.y},s}function Tv(g){var y=g.point,c=g.beforeNode,p=g.afterNode,a=y,f,s,v=y.x-c.x,_=y.y-c.y,w=c.rx,O=c.ry,j=Math.sqrt((w-Math.abs(v))*(w-Math.abs(v))+_*_)/Math.sqrt(w*w+O*O),S=p.rx,k=p.ry,C=Math.sqrt((S*S+k*k)*j*j*(S*S/(S*S+k*k))),I=C*(k/S);return v>=0?f=S-C:f=C-S,_>0?s=I:s=-I,a={x:f+p.x,y:s+p.y},a}var w1=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),ao=globalThis&&globalThis.__assign||function(){return ao=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},ao.apply(this,arguments)},x1=Xe.exports.LogicFlowUtil.createDrag,E1=function(g){w1(y,g);function y(c){var p=g.call(this)||this;p.updatePosition=function(s){var v=s.deltaX,_=s.deltaY,w=p.nodeModel,O=w.x,j=w.y;p.nodeModel.x=O+v/2,p.nodeModel.y=j+_/2,p.nodeModel.moveText(v/2,_/2)},p.getResize=function(s){var v=s.index,_=s.deltaX,w=s.deltaY,O=s.width,j=s.height,S=s.pct,k=S===void 0?1:S,C={width:O,height:j};switch(v){case 0:C.width=O-_*k,C.height=j-w*k;break;case 1:C.width=O+_*k,C.height=j-w*k;break;case 2:C.width=O+_,C.height=j+w*k;break;case 3:C.width=O-_*k,C.height=j+w*k;break}return C},p.updateRect=function(s){var v=s.deltaX,_=s.deltaY,w=p.nodeModel,O=w.id,j=w.x,S=w.y,k=w.width,C=w.height,I=w.radius,G=p.index,W=p.getResize({index:G,deltaX:v,deltaY:_,width:k,height:C,pct:1}),L=p.nodeModel,K=L.minWidth,q=L.minHeight,X=L.maxWidth,N=L.maxHeight;if(!(W.width<K||W.width>X||W.height<q||W.height>N)){p.updatePosition({deltaX:v,deltaY:_}),p.nodeModel.width=W.width,p.nodeModel.height=W.height,p.nodeModel.setProperties({nodeSize:{width:W.width,height:W.height}});var F=p.getNodeEdges(O),A={x:j,y:S,width:k,height:C,radius:I},z={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:I},V={point:"",beforeNode:A,afterNode:z},R;F.sourceEdges.forEach(function(B){V.point=B.startPoint,R=kv(V),B.updateStartPoint(R)}),F.targetEdges.forEach(function(B){V.point=B.endPoint,R=kv(V),B.updateEndPoint(R)}),p.eventEmit({beforeNode:A,afterNode:z})}},p.updateEllipse=function(s){var v=s.deltaX,_=s.deltaY,w=p.nodeModel,O=w.id,j=w.rx,S=w.ry,k=w.x,C=w.y,I=p.index,G=j,W=S,L=p.getResize({index:I,deltaX:v,deltaY:_,width:G,height:W,pct:1/2}),K=p.nodeModel,q=K.minWidth,X=K.minHeight,N=K.maxWidth,F=K.maxHeight;if(!(L.width<q/2||L.width>N/2||L.height<X/2||L.height>F/2)){p.updatePosition({deltaX:v,deltaY:_}),p.nodeModel.rx=L.width,p.nodeModel.ry=L.height,p.nodeModel.setProperties({nodeSize:{rx:L.width,ry:L.height}});var A=p.getNodeEdges(O),z={x:k,y:C},V={rx:L.width,ry:L.height,x:p.nodeModel.x,y:p.nodeModel.y},R={point:{},beforeNode:z,afterNode:V},B;A.sourceEdges.forEach(function($){R.point=$.startPoint,B=Av(R),$.updateStartPoint(B)}),A.targetEdges.forEach(function($){R.point=$.endPoint,B=Av(R),$.updateEndPoint(B)}),p.eventEmit({beforeNode:ao(ao({},z),{rx:j,ry:S}),afterNode:V})}},p.updateDiamond=function(s){var v=s.deltaX,_=s.deltaY,w=p.nodeModel,O=w.id,j=w.rx,S=w.ry,k=w.x,C=w.y,I=p.index,G=j,W=S,L=p.getResize({index:I,deltaX:v,deltaY:_,width:G,height:W,pct:1/2}),K=p.nodeModel,q=K.minWidth,X=K.minHeight,N=K.maxWidth,F=K.maxHeight;if(!(L.width<q/2||L.width>N/2||L.height<X/2||L.height>F/2)){p.updatePosition({deltaX:v,deltaY:_}),p.nodeModel.rx=L.width,p.nodeModel.ry=L.height,p.nodeModel.setProperties({nodeSize:{rx:L.width,ry:L.height}});var A={x:k,y:C,rx:j,ry:S},z={rx:L.width,ry:L.height,x:p.nodeModel.x,y:p.nodeModel.y},V={point:{},beforeNode:A,afterNode:z},R,B=p.getNodeEdges(O);B.sourceEdges.forEach(function($){V.point=$.startPoint,R=Tv(V),$.updateStartPoint(R)}),B.targetEdges.forEach(function($){V.point=$.endPoint,R=Tv(V),$.updateEndPoint(R)}),p.eventEmit({beforeNode:A,afterNode:z})}},p.eventEmit=function(s){var v=s.beforeNode,_=s.afterNode,w=p.nodeModel,O=w.id,j=w.modelType,S=w.type,k=ao({id:O,modelType:j,type:S},v),C=ao({id:O,modelType:j,type:S},_);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:k,newNodeSize:C})},p.onDraging=function(s){var v=s.deltaX,_=s.deltaY,w=p.nodeModel.modelType;w===No.RECT_NODE||w===No.HTML_NODE?p.updateRect({deltaX:v,deltaY:_}):w===No.ELLIPSE_NODE?p.updateEllipse({deltaX:v,deltaY:_}):w===No.DIAMOND_NODE&&p.updateDiamond({deltaX:v,deltaY:_})},p.index=c.index,p.nodeModel=c.model,p.graphModel=c.graphModel;var a=p.graphModel.gridSize,f=2;return a>1&&(f=2*a),p.state={},p.dragHandler=x1({onDraging:p.onDraging,step:f}),p}return y.prototype.getNodeEdges=function(c){for(var p=this.graphModel,a=p.edges,f=[],s=[],v=0;v<a.length;v++){var _=a[v];_.sourceNodeId===c?f.push(_):a[v].targetNodeId===c&&s.push(_)}return{sourceEdges:f,targetEdges:s}},y.prototype.render=function(){var c=this.props,p=c.x,a=c.y,f=c.index,s=c.model,v=s.getControlPointStyle();return ji("g",{className:"lf-resize-control-"+f},ji(Zc,ao({className:"lf-node-control"},{x:p,y:a},v,{onMouseDown:this.dragHandler})))},y}(Do),j1=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Ha=globalThis&&globalThis.__assign||function(){return Ha=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},Ha.apply(this,arguments)},Xa=function(g){j1(y,g);function y(){var c=g.call(this)||this;return c.state={},c}return y.prototype.getResizeControl=function(){var c=this.props,p=c.model,a=c.graphModel,f=p.x,s=p.y,v=p.width,_=p.height,w={minX:f-v/2,minY:s-_/2,maxX:f+v/2,maxY:s+_/2},O=w.minX,j=w.minY,S=w.maxX,k=w.maxY,C=[{x:O,y:j},{x:S,y:j},{x:S,y:k},{x:O,y:k}];return C.map(function(I,G){return ji(E1,Ha({index:G},I,{model:p,graphModel:a}))})},y.prototype.getGroupSolid=function(){var c=this.props.model,p=c.x,a=c.y,f=c.width,s=c.height,v=c.getResizeOutlineStyle();return ji(Zc,Ha({fill:"none"},v,{x:p,y:a,width:f,height:s}))},y.prototype.render=function(){return ji("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},y}(Do),Dv=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),S1=function(g){Dv(y,g);function y(c,p){var a=g.call(this,c,p)||this;a.minWidth=30,a.minHeight=30,a.maxWidth=2e3,a.maxHeight=2e3;var f=a.properties.nodeSize;return f&&(a.width=f.width,a.height=f.height),a}return y.prototype.getOutlineStyle=function(){var c=g.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},y.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y.prototype.resize=function(c,p){console.log(c,p)},y}(Xe.exports.RectNodeModel),P1=function(g){Dv(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var c=this.props,p=c.model,a=c.graphModel;return Xe.exports.h(Xa,{model:p,graphModel:a})},y.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},y.prototype.getShape=function(){var c=this.props.model.isSelected;return Xe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},y}(Xe.exports.RectNode),Mv={type:"rect",view:P1,model:S1},Nv=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(g){Nv(y,g);function y(c,p){var a=g.call(this,c,p)||this;a.minWidth=30,a.minHeight=30,a.maxWidth=2e3,a.maxHeight=2e3;var f=a.properties.nodeSize;return f&&(a.rx=f.rx,a.ry=f.ry),a}return y.prototype.getOutlineStyle=function(){var c=g.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y})(Xe.exports.EllipseNodeModel);(function(g){Nv(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var c=this.props,p=c.model,a=c.graphModel;return Xe.exports.h(Xa,{model:p,graphModel:a})},y.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},y.prototype.getShape=function(){var c=this.props.model;return Xe.exports.h("g",null,this.getResizeShape(),c.isSelected?this.getControlGroup():"")},y})(Xe.exports.EllipseNode);var Jc=globalThis&&globalThis.__assign||function(){return Jc=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},Jc.apply(this,arguments)};function k1(g){var y=g.fillOpacity,c=y===void 0?1:y,p=g.strokeWidth,a=p===void 0?1:p,f=g.strokeOpacity,s=f===void 0?1:f,v=g.fill,_=v===void 0?"transparent":v,w=g.stroke,O=w===void 0?"#000":w,j=g.points,S=g.className,k=S===void 0?"lf-basic-shape":S,C={fill:_,fillOpacity:c,strokeWidth:a,stroke:O,strokeOpacity:s,points:"",className:k};return C.points=j.map(function(I){return I.join(",")}).join(" "),Xe.exports.h("polygon",Jc({},C))}var Cv=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Qc=globalThis&&globalThis.__assign||function(){return Qc=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},Qc.apply(this,arguments)};(function(g){Cv(y,g);function y(c,p){var a=g.call(this,c,p)||this;a.minWidth=30,a.minHeight=30,a.maxWidth=2e3,a.maxHeight=2e3;var f=a.properties.nodeSize;return f&&(a.rx=f.rx,a.ry=f.ry),a}return y.prototype.getOutlineStyle=function(){var c=g.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y})(Xe.exports.DiamondNodeModel);(function(g){Cv(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var c=this.props,p=c.model,a=c.graphModel;return Xe.exports.h(Xa,{model:p,graphModel:a})},y.prototype.getResizeShape=function(){var c=this.props.model,p=c.points,a=c.getNodeStyle();return Xe.exports.h("g",null,Xe.exports.h(k1,Qc({},a,{points:p})))},y.prototype.getShape=function(){var c=this.props.model.isSelected;return Xe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},y})(Xe.exports.DiamondNode);var Rv=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}();(function(g){Rv(y,g);function y(c,p){var a=g.call(this,c,p)||this;a.minWidth=30,a.minHeight=30,a.maxWidth=2e3,a.maxHeight=2e3;var f=a.properties.nodeSize;return f&&(a.width=f.width,a.height=f.height),a}return y.prototype.getOutlineStyle=function(){var c=g.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},y.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},y.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},y})(Xe.exports.HtmlNodeModel);(function(g){Rv(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var c=this.props,p=c.model,a=c.graphModel;return Xe.exports.h(Xa,{model:p,graphModel:a})},y.prototype.getResizeShape=function(){return g.prototype.getShape.call(this)},y.prototype.getShape=function(){var c=this.props.model.isSelected;return Xe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},y})(Xe.exports.HtmlNode);var Iv=globalThis&&globalThis.__extends||function(){var g=function(y,c){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,a){p.__proto__=a}||function(p,a){for(var f in a)a.hasOwnProperty(f)&&(p[f]=a[f])},g(y,c)};return function(y,c){g(y,c);function p(){this.constructor=y}y.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),Va=globalThis&&globalThis.__assign||function(){return Va=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},Va.apply(this,arguments)},A1=globalThis&&globalThis.__read||function(g,y){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),a,f=[],s;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f},T1=globalThis&&globalThis.__spread||function(){for(var g=[],y=0;y<arguments.length;y++)g=g.concat(A1(arguments[y]));return g},Lv=500,zv=300;(function(g){Iv(y,g);function y(){var c=g!==null&&g.apply(this,arguments)||this;return c.isGroup=!0,c.unfoldedWidth=Lv,c.unfoldedHight=zv,c}return y.prototype.initNodeData=function(c){g.prototype.initNodeData.call(this,c);var p=[];Array.isArray(c.children)&&(p=c.children),this.children=new Set(p),this.width=Lv,this.height=zv,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded=!1,this.isFolded=this.properties.isFolded},y.prototype.getResizeOutlineStyle=function(){var c=g.prototype.getResizeOutlineStyle.call(this);return c.stroke="none",c},y.prototype.foldGroup=function(c){var p=this;this.setProperty("isFolded",c),this.isFolded=c,c?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var a=this.graphModel.getNodeIncomingEdge(this.id),f=this.graphModel.getNodeOutgoingEdge(this.id);a.concat(f).forEach(function(s){if(p.graphModel.deleteEdgeById(s.id),!s.isFoldedEdge){var v=s.targetNodeId===p.id,_=s.getData();v?_.endPoint=void 0:_.startPoint=void 0,_.pointsList=void 0,p.graphModel.addEdge(_)}}),this.children.forEach(function(s){var v=p.graphModel.getElement(s);v.visible=!c,p.foldEdge(s,c)})},y.prototype.foldEdge=function(c,p){var a=this,f=this.graphModel.getNodeIncomingEdge(c),s=this.graphModel.getNodeOutgoingEdge(c);f.concat(s).forEach(function(v,_){var w;if(v.visible=!p,p&&(!a.children.has(v.targetNodeId)||!a.children.has(v.sourceNodeId))){var O=v.targetNodeId===c;if(p){var j=v.getData();j.id=j.id+"__"+_,O?(j.endPoint=void 0,j.targetNodeId=a.id):(j.startPoint=void 0,j.sourceNodeId=a.id),j.text=(w=j.text)===null||w===void 0?void 0:w.value,j.pointsList=void 0;var S=a.graphModel.addEdge(j);S.virtual=!0,S.getData=function(){return null},S.text.editable=!1,S.isFoldedEdge=!0}}})},y.prototype.isInRange=function(c){var p=c.x1,a=c.y1,f=c.x2,s=c.y2;return p>=this.x-this.width/2&&f<=this.x+this.width/2&&a>=this.y-this.height/2&&s<=this.y+this.height/2},y.prototype.setAllowAppendChild=function(c){this.setProperty("groupAddable",c)},y.prototype.addChild=function(c){this.children.add(c)},y.prototype.removeChild=function(c){this.children.delete(c)},y.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},y.prototype.getData=function(){var c=g.prototype.getData.call(this);c.children=T1(this.children);var p=c.properties;return delete p.groupAddable,delete p.isFolded,c},y})(Mv.model);(function(g){Iv(y,g);function y(){return g!==null&&g.apply(this,arguments)||this}return y.prototype.getControlGroup=function(){var c=this.props.model,p=c.resizable,a=c.properties;return p&&!a.isFolded?g.prototype.getControlGroup.call(this):null},y.prototype.getAddedableShape=function(){var c=this.props.model,p=c.width,a=c.height,f=c.x,s=c.y,v=c.radius,_=c.properties;if(!_.groupAddable)return null;var w=this.props.model.getNodeStyle().strokeWidth,O=this.props.model.getAddableOutlineStyle(),j=p+w+8,S=a+w+8;return Xe.exports.h("rect",Va(Va({},O),{width:j,height:S,x:f-j/2,y:s-S/2,rx:v,ry:v}))},y.prototype.getFoldIcon=function(){var c=this.props.model,p=c.x-c.width/2+5,a=c.y-c.height/2+5;if(!c.foldable)return null;var f=Xe.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c.properties.isFolded?"M "+(p+3)+","+(a+6)+" "+(p+11)+","+(a+6)+" M"+(p+7)+","+(a+2)+" "+(p+7)+","+(a+10):"M "+(p+3)+","+(a+6)+" "+(p+11)+","+(a+6)+" "});return Xe.exports.h("g",{},[Xe.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:c.x-c.width/2+5,y:c.y-c.height/2+5,onClick:function(){c.foldGroup(!c.properties.isFolded)}}),f])},y.prototype.getResizeShape=function(){return Xe.exports.h("g",{},[this.getAddedableShape(),g.prototype.getResizeShape.call(this),this.getFoldIcon()])},y})(Mv.view);var D1=globalThis&&globalThis.__read||function(g,y){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),a,f=[],s;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var M1=globalThis&&globalThis.__read||function(g,y){var c=typeof Symbol=="function"&&g[Symbol.iterator];if(!c)return g;var p=c.call(g),a,f=[],s;try{for(;(y===void 0||y-- >0)&&!(a=p.next()).done;)f.push(a.value)}catch(v){s={error:v}}finally{try{a&&!a.done&&(c=p.return)&&c.call(p)}finally{if(s)throw s.error}}return f};globalThis&&globalThis.__spread;var Bv=globalThis&&globalThis.__assign||function(){return Bv=Object.assign||function(g){for(var y,c=1,p=arguments.length;c<p;c++){y=arguments[c];for(var a in y)Object.prototype.hasOwnProperty.call(y,a)&&(g[a]=y[a])}return g},Bv.apply(this,arguments)};const uw=[{type:"bpmn:startEvent",text:"\u5F00\u59CB",class:"bpmn-start",properties:{description:"",checkers:[],status:"",orderNum:0,operations:[],rejectTo:0}},{type:"bpmn:endEvent",text:"\u7ED3\u675F",class:"bpmn-end",properties:{description:"",checkers:[],status:"",orderNum:-1,operations:[],rejectTo:0}},{type:"bpmn:exclusiveGateway",text:"\u7F51\u5173",class:"bpmn-exclusiveGateway",properties:{description:"",checkers:[],status:"\u672A\u5F00\u59CB",orderNum:-1,operations:[],rejectTo:0}},{type:"bpmn:userTask",text:"\u4EFB\u52A1",class:"bpmn-user",properties:{description:"",checkers:[],status:"\u672A\u5F00\u59CB",orderNum:-1,operations:[],rejectTo:0}}];const N1={class:"control-container"},C1=["title"],R1=Ao({props:{lf:{default:null},catTurboData:{type:Boolean}},emits:["catData","next"],setup(g,{emit:y}){const c=g,p=Hy("controlButton3",null),a=Hy("controlButton4",null);let f=Fn([{icon:"icon-zoom-out-hs",text:"\u7F29\u5C0F",disabled:!1},{icon:"icon-enlarge-hs",text:"\u653E\u5927",disabled:!1},{icon:"icon-full-screen-hs",text:"\u9002\u5E94",disabled:!1},{icon:"icon-previous-hs",text:"\u64A4\u9500",disabled:!0},{icon:"icon-next-step-hs",text:"\u91CD\u505A",disabled:!0},{icon:"icon-watch-hs",text:"\u67E5\u770B\u6570\u636E",disabled:!1}]);const s=(v,_)=>{["zoom","zoom","resetZoom","undo","redo"].forEach((w,O)=>{let j=c.lf;_===1&&j.zoom(!0),_===5&&y("catData"),_===O&&j[w]()})};return PO(()=>{c.lf.on("history:change",({data:{undoAble:v,redoAble:_}})=>{Et(f)[3].disabled=Et(p).disabled=!v,Et(f)[4].disabled=Et(a).disabled=!_})}),(v,_)=>{const w=Bt("el-button");return It(),xn("div",N1,[En("ul",null,[(It(!0),xn(Lr,null,oo(Et(f),(O,j)=>(It(),xn("li",{key:j,title:O.text},[wt(w,{ref_for:!0,ref:"controlButton"+j,disabled:O.disabled,style:kO({cursor:O.disabled===!1?"pointer":"not-allowed"}),size:"small",onClick:S=>s(O,j)},{default:pt(()=>[En("span",{class:Xy("iconfont "+O.icon)},null,2)]),_:2},1032,["disabled","style","onClick"])],8,C1))),128)),En("li",null,[AO(v.$slots,"right",{},void 0,!0)])])])}}});var es=gi(R1,[["__scopeId","data-v-1b582064"]]);const I1=Sn("\u6D41\u7A0B\u6A21\u677F"),L1={class:"node-panel"},z1=["onMousedown"],B1={key:0,class:"shape"},F1={class:"node-label"},H1=Ao({props:{lf:{default:null},nodeList:{default:null}},emits:["loadFlowChartJson"],setup(g,{emit:y}){const c=g,p=Fn(!1),a=v=>{c.lf.dnd.startDrag({type:v.type,text:v.text,properties:v.properties})},f=()=>{p.value=!0},s=v=>{y("loadFlowChartJson",v)};return TO("dialogTableVisible",p),(v,_)=>{const w=Bt("el-button");return It(),xn(Lr,null,[wt(w,{class:"flow-template",onClick:f,type:"success",plain:""},{default:pt(()=>[I1]),_:1}),wt(Et(J1),{onLoadFlowChartJson:s}),En("div",L1,[(It(!0),xn(Lr,null,oo(c.nodeList,O=>(It(),xn("div",{class:"node-item",key:O.text,onMousedown:j=>a(O)},[En("div",{class:Xy(["node-item-icon",O.class])},[O.type==="user"||O.type==="time"?(It(),xn("div",B1)):DO("",!0)],2),En("span",F1,jn(O.text),1)],40,z1))),128))])],64)}}});var ts=gi(H1,[["__scopeId","data-v-e31f089a"]]),Fv={exports:{}};(function(g,y){(function(c,p){g.exports=p(LO)})(MO,function(c){return function(){var p={452:function(v){v.exports=c}},a={};function f(v){var _=a[v];if(_!==void 0)return _.exports;var w=a[v]={exports:{}};return p[v](w,w.exports,f),w.exports}f.d=function(v,_){for(var w in _)f.o(_,w)&&!f.o(v,w)&&Object.defineProperty(v,w,{enumerable:!0,get:_[w]})},f.o=function(v,_){return Object.prototype.hasOwnProperty.call(v,_)},f.r=function(v){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})};var s={};return function(){f.r(s),f.d(s,{default:function(){return V}});var v=f(452);function _(R,B){(B==null||B>R.length)&&(B=R.length);for(var $=0,ne=new Array(B);$<B;$++)ne[$]=R[$];return ne}function w(R,B){if(R){if(typeof R=="string")return _(R,B);var $=Object.prototype.toString.call(R).slice(8,-1);return $==="Object"&&R.constructor&&($=R.constructor.name),$==="Map"||$==="Set"?Array.from(R):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?_(R,B):void 0}}function O(R,B){return function($){if(Array.isArray($))return $}(R)||function($,ne){var ue=$==null?null:typeof Symbol!="undefined"&&$[Symbol.iterator]||$["@@iterator"];if(ue!=null){var de,_e,pe=[],ce=!0,se=!1;try{for(ue=ue.call($);!(ce=(de=ue.next()).done)&&(pe.push(de.value),!ne||pe.length!==ne);ce=!0);}catch(fe){se=!0,_e=fe}finally{try{ce||ue.return==null||ue.return()}finally{if(se)throw _e}}return pe}}(R,B)||w(R,B)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j(R){return function(B){if(Array.isArray(B))return _(B)}(R)||function(B){if(typeof Symbol!="undefined"&&B[Symbol.iterator]!=null||B["@@iterator"]!=null)return Array.from(B)}(R)||w(R)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function S(R,B,$){return B in R?Object.defineProperty(R,B,{value:$,enumerable:!0,configurable:!0,writable:!0}):R[B]=$,R}var k=(0,v.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var R=this.data,B=this.onClick;return(0,v.createVNode)("span",{class:"vjs-tree__brackets",onClick:B},[R])}}),C=(0,v.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(R,B){var $=B.emit;return{uiType:(0,v.computed)(function(){return R.isMultiple?"checkbox":"radio"}),model:(0,v.computed)({get:function(){return R.checked},set:function(ne){return $("update:modelValue",ne)}})}},render:function(){var R=this.uiType,B=this.model,$=this.$emit;return(0,v.createVNode)("label",{class:["vjs-check-controller",B?"is-checked":""],onClick:function(ne){return ne.stopPropagation()}},[(0,v.createVNode)("span",{class:"vjs-check-controller__inner is-".concat(R)},null),(0,v.createVNode)("input",{checked:B,class:"vjs-check-controller__original is-".concat(R),type:R,onChange:function(){return $("change",B)}},null)])}});function I(R,B){var $=Object.keys(R);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(R);B&&(ne=ne.filter(function(ue){return Object.getOwnPropertyDescriptor(R,ue).enumerable})),$.push.apply($,ne)}return $}function G(R){for(var B=1;B<arguments.length;B++){var $=arguments[B]!=null?arguments[B]:{};B%2?I(Object($),!0).forEach(function(ne){S(R,ne,$[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors($)):I(Object($)).forEach(function(ne){Object.defineProperty(R,ne,Object.getOwnPropertyDescriptor($,ne))})}return R}function W(R){return Object.prototype.toString.call(R).slice(8,-1).toLowerCase()}function L(R){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ne=arguments.length>3?arguments[3]:void 0,ue=ne||{},de=ue.key,_e=ue.index,pe=ue.type,ce=pe===void 0?"content":pe,se=ue.showComma,fe=se!==void 0&&se,xe=ue.length,ke=xe===void 0?1:xe,Ae=W(R);if(Ae==="array"){var Pe=R.map(function(J,ie,ge){return L(J,"".concat(B,"[").concat(ie,"]"),$+1,{index:ie,showComma:ie!==ge.length-1,length:ke,type:ce})}).reduce(function(J,ie){return J.concat(ie)},[]);return[L("[",B,$,{showComma:!1,key:de,length:R.length,type:"arrayStart"})[0]].concat(Pe,L("]",B,$,{showComma:fe,length:R.length,type:"arrayEnd"})[0])}if(Ae==="object"){var Me=Object.keys(R),qe=Me.map(function(J,ie,ge){return L(R[J],J.includes(".")?"".concat(B,'["').concat(J,'"]'):"".concat(B,".").concat(J),$+1,{key:J,showComma:ie!==ge.length-1,length:ke,type:ce})}).reduce(function(J,ie){return J.concat(ie)},[]);return[L("{",B,$,{showComma:!1,key:de,index:_e,length:Me.length,type:"objectStart"})[0]].concat(qe,L("}",B,$,{showComma:fe,length:Me.length,type:"objectEnd"})[0])}var Q=Object.entries({content:R,level:$,key:de,index:_e,path:B,showComma:fe,length:ke,type:ce}).reduce(function(J,ie){var ge=O(ie,2),Te=ge[0],we=ge[1];return we!==void 0?G(G({},J),{},S({},Te,we)):J},{});return[Q]}function K(R,B){var $=Object.keys(R);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(R);B&&(ne=ne.filter(function(ue){return Object.getOwnPropertyDescriptor(R,ue).enumerable})),$.push.apply($,ne)}return $}function q(R){for(var B=1;B<arguments.length;B++){var $=arguments[B]!=null?arguments[B]:{};B%2?K(Object($),!0).forEach(function(ne){S(R,ne,$[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors($)):K(Object($)).forEach(function(ne){Object.defineProperty(R,ne,Object.getOwnPropertyDescriptor($,ne))})}return R}var X={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},customValueFormatter:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},selectOnClickNode:{type:Boolean,default:!0},collapsedOnClickBrackets:{type:Boolean,default:!0},pathSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0}},N=(0,v.defineComponent)({name:"TreeNode",props:q(q({},X),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,onTreeNodeClick:{type:Function},onBracketsClick:{type:Function},onSelectedChange:{type:Function}}),setup:function(R,B){var $=B.emit,ne=(0,v.computed)(function(){return W(R.node.content)}),ue=(0,v.computed)(function(){return"vjs-value vjs-value__".concat(ne.value)}),de=(0,v.computed)(function(){return R.showDoubleQuotes?'"'.concat(R.node.key,'"'):R.node.key}),_e=(0,v.computed)(function(){return R.selectableType==="multiple"}),pe=(0,v.computed)(function(){return R.selectableType==="single"}),ce=(0,v.computed)(function(){return R.pathSelectable(R.node.path,R.node.content)&&(_e.value||pe.value)}),se=function(fe){var xe=fe+"";return ne.value==="string"&&(xe='"'.concat(xe,'"')),xe};return{state:(0,v.reactive)({valueClass:ue,prettyKey:de,isMultiple:_e,selectable:ce}),defaultFormatter:se,customFormatter:function(fe){return R.customValueFormatter?R.customValueFormatter(fe,R.node.key,R.node.path,se(fe)):se(fe)},onBracketsClickHandler:function(){R.collapsedOnClickBrackets&&$("brackets-click",!R.collapsed,R.node.path)},onCheckedChange:function(){$("selected-change",R.node)},onNodeClick:function(){$("tree-node-click",R.node),ce.value&&R.selectOnClickNode&&$("selected-change",R.node)}}},render:function(){var R=this.state,B=this.node,$=this.showSelectController,ne=this.highlightSelectedNode,ue=this.checked,de=this.showLength,_e=this.collapsed,pe=this.showLine,ce=this.customValueFormatter,se=this.defaultFormatter,fe=this.customFormatter,xe=this.onNodeClick,ke=this.onCheckedChange,Ae=this.onBracketsClickHandler;return(0,v.createVNode)("div",{class:{"vjs-tree__node":!0,"has-selector":$,"is-highlight":ne&&ue},onClick:xe},[$&&R.selectable&&B.type!=="objectEnd"&&B.type!=="arrayEnd"&&(0,v.createVNode)(C,{isMultiple:R.isMultiple,checked:ue,onChange:ke},null),Array.from(Array(B.level)).map(function(Pe,Me){return(0,v.createVNode)("div",{key:Me,class:{"vjs-tree__indent":!0,"has-line":pe}},null)}),B.key&&(0,v.createVNode)("span",{class:"vjs-key"},["".concat(R.prettyKey,": ")]),(0,v.createVNode)("span",null,[B.type!=="content"?(0,v.createVNode)(k,{data:B.content,onClick:Ae},null):ce?(0,v.createVNode)("span",{class:R.valueClass,innerHTML:fe(B.content)},null):(0,v.createVNode)("span",{class:R.valueClass},[se(B.content)]),B.showComma&&(0,v.createVNode)("span",null,[","]),de&&_e&&(0,v.createVNode)("span",{class:"vjs-comment"},[(0,v.createTextVNode)(" // "),B.length,(0,v.createTextVNode)(" items ")])])])}});function F(R,B){var $=Object.keys(R);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(R);B&&(ne=ne.filter(function(ue){return Object.getOwnPropertyDescriptor(R,ue).enumerable})),$.push.apply($,ne)}return $}function A(R){for(var B=1;B<arguments.length;B++){var $=arguments[B]!=null?arguments[B]:{};B%2?F(Object($),!0).forEach(function(ne){S(R,ne,$[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors($)):F(Object($)).forEach(function(ne){Object.defineProperty(R,ne,Object.getOwnPropertyDescriptor($,ne))})}return R}var z=(0,v.defineComponent)({name:"Tree",props:A(A({},X),{},{data:{type:Object,default:null},deep:{type:Number,default:1/0},deepCollapseChildren:{type:Boolean,default:!1},path:{type:String,default:"root"},virtual:{type:Boolean,default:!1},virtualLines:{type:Number,default:10},itemHeight:{type:Number,default:20},modelValue:{type:[String,Array],default:function(){return""}}}),emits:["click","change","update:modelValue"],setup:function(R,B){var $=B.emit,ne=(0,v.ref)(),ue=(0,v.reactive)({translateY:0,visibleData:null,hiddenPaths:L(R.data,R.path).reduce(function(se,fe){var xe=R.deepCollapseChildren?fe.level>=R.deep:fe.level===R.deep;return fe.type!=="objectStart"&&fe.type!=="arrayStart"||!xe?se:A(A({},se),{},S({},fe.path,1))},{})}),de=(0,v.computed)(function(){var se=null;return L(R.data,R.path).reduce(function(fe,xe,ke){var Ae=A(A({},xe),{},{id:ke}),Pe=ue.hiddenPaths[Ae.path];if(se&&se.path===Ae.path){var Me=se.type==="objectStart",qe=A(A(A({},se),Ae),{},{content:Me?"{...}":"[...]",type:Me?"objectCollapsed":"arrayCollapsed"});return se=null,fe.concat(qe)}return Pe&&!se?(se=Ae,fe):se?fe:fe.concat(Ae)},[])}),_e=(0,v.computed)(function(){var se=R.modelValue;return se&&R.selectableType==="multiple"&&Array.isArray(se)?se:[se]}),pe=(0,v.computed)(function(){return!R.selectableType||R.selectOnClickNode||R.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),ce=function(se){if(R.virtual){var fe=ne.value,xe=R.virtualLines,ke=fe&&fe.scrollTop||0,Ae=Math.floor(ke/R.itemHeight),Pe=Ae<0?0:Ae+xe>se.length?se.length-xe:Ae;Pe<0&&(Pe=0);var Me=Pe+xe;ue.translateY=Pe*R.itemHeight,ue.visibleData=se.filter(function(qe,Q){return Q>=Pe&&Q<Me})}else ue.visibleData=se};return(0,v.watchEffect)(function(){pe.value&&function(se){throw new Error("[VueJSONPretty] ".concat(se))}(pe.value)}),(0,v.watchEffect)(function(){de.value&&ce(de.value)}),{tree:ne,state:ue,flatData:de,selectedPaths:_e,onTreeScroll:function(){ce(de.value)},onSelectedChange:function(se){var fe=se.path,xe=R.selectableType;if(xe==="multiple"){var ke=_e.value.findIndex(function(qe){return qe===fe}),Ae=j(_e.value);ke!==-1?Ae.splice(ke,1):Ae.push(fe),$("update:modelValue",Ae),$("change",Ae,j(_e.value))}else if(xe==="single"&&_e.value[0]!==fe){var Pe=O(_e.value,1)[0],Me=fe;$("update:modelValue",Me),$("change",Me,Pe)}},onTreeNodeClick:function(se){var fe=se.content,xe=se.path;$("click",xe,fe)},onBracketsClick:function(se,fe){if(se)ue.hiddenPaths=A(A({},ue.hiddenPaths),{},S({},fe,1));else{var xe=A({},ue.hiddenPaths);delete xe[fe],ue.hiddenPaths=xe}}}},render:function(){var R=this.virtual,B=this.itemHeight,$=this.customValueFormatter,ne=this.showDoubleQuotes,ue=this.showLength,de=this.showLine,_e=this.showSelectController,pe=this.selectOnClickNode,ce=this.pathSelectable,se=this.highlightSelectedNode,fe=this.collapsedOnClickBrackets,xe=this.state,ke=this.flatData,Ae=this.selectedPaths,Pe=this.selectableType,Me=this.onTreeNodeClick,qe=this.onBracketsClick,Q=this.onSelectedChange,J=this.onTreeScroll,ie=xe.visibleData&&xe.visibleData.map(function(ge){return(0,v.createVNode)(N,{key:ge.id,node:ge,collapsed:!!xe.hiddenPaths[ge.path],"custom-value-formatter":$,"show-double-quotes":ne,"show-length":ue,"collapsed-on-click-brackets":fe,checked:Ae.includes(ge.path),"selectable-type":Pe,"show-line":de,"show-select-controller":_e,"select-on-click-node":pe,"path-selectable":ce,"highlight-selected-node":se,onTreeNodeClick:Me,onBracketsClick:qe,onSelectedChange:Q},null)});return(0,v.createVNode)("div",{ref:"tree",class:{"vjs-tree":!0,"is-virtual":R},onScroll:J},[R?(0,v.createVNode)("div",{style:{height:"".concat(ke.length*B,"px")}},[(0,v.createVNode)("div",{style:{transform:"translateY(".concat(xe.translateY,"px)")}},[ie])]):ie])}}),V=(0,v.defineComponent)(z)}(),s}()})})(Fv);var X1=NO(Fv.exports);const ns=Ao({props:{graphData:Object},setup(g){const y=g;return(c,p)=>(It(),Or(Et(X1),{path:"res",deep:3,showLength:!0,data:y.graphData},null,8,["data"]))}});const V1={class:"dialog-footer"},U1=Sn("\u786E\u5B9A"),G1={class:"dialog-footer"},Y1=Sn("\u786E\u5B9A"),W1=Ao({setup(g){let y=bi("openNodeDrawer");const c=bi("selectedNode");let p=Fn([...c.value.properties.checkers]),a=Fn([]);const f=Fn([]),s=Fn(!1),v=Fn([...c.value.properties.operations]),_=Fn([]),w=Fn([]),O=Fn(!1),j=q=>{OO(q).then(X=>{X.success&&a.value.push(X.data)})},S=q=>{wO(q).then(X=>{X.success&&_.value.push(X.data)})},k=()=>{y.value=!1,s.value=!1,O.value=!1,c.value.properties.checkers=[...p.value],c.value.properties.operations=[...v.value]},C=q=>{p.value.splice(q,1),a.value.splice(q,1)},I=q=>{v.value.splice(q,1),_.value.splice(q,1)},G=()=>{s.value=!0;const q=xO.getItem("info").userInfo.id;EO(q).then(X=>{X.success&&(f.value=X.data)})},W=()=>{O.value=!0,jO().then(q=>{q.success&&(w.value=q.data)})},L=q=>{const X=f.value[q].id;p.value.findIndex(F=>F===X)>=0||(j(X),p.value.push(X),f.value.splice(q,1))},K=q=>{const X=w.value[q].id;v.value.findIndex(F=>F===X)>=0||(S(X),v.value.push(X),w.value.splice(q,1))};return p.value.forEach(q=>{j(q)}),v.value.forEach(q=>{S(q)}),(q,X)=>{const N=Bt("el-input"),F=Bt("el-form-item"),A=Bt("el-tag"),z=Bt("el-button"),V=Bt("el-divider"),R=Bt("el-dialog"),B=Bt("el-form"),$=Bt("el-drawer");return It(),Or($,{"model-value":Et(y),title:"\u8282\u70B9\u4FE1\u606F",direction:"rtl","before-close":k},{default:pt(()=>[wt(B,{model:Et(c),"label-width":"120px"},{default:pt(()=>[wt(F,{label:"\u8282\u70B9\u540D\u79F0"},{default:pt(()=>[wt(N,{modelValue:Et(c).text.value,"onUpdate:modelValue":X[0]||(X[0]=ne=>Et(c).text.value=ne)},{default:pt(()=>[Sn(jn(Et(c).text.value),1)]),_:1},8,["modelValue"])]),_:1}),wt(F,{label:"\u8282\u70B9\u63CF\u8FF0"},{default:pt(()=>[wt(N,{modelValue:Et(c).properties.description,"onUpdate:modelValue":X[1]||(X[1]=ne=>Et(c).properties.description=ne)},{default:pt(()=>[Sn(jn(Et(c).properties.description),1)]),_:1},8,["modelValue"])]),_:1}),wt(F,{label:"\u5BA1\u6279\u4EBA"},{default:pt(()=>[(It(!0),xn(Lr,null,oo(Et(a),(ne,ue)=>(It(),Or(A,{key:ue,class:"check-container",closable:"",onClose:de=>C(ue)},{default:pt(()=>[Sn(jn(ne.name),1)]),_:2},1032,["onClose"]))),128)),wt(z,{type:"primary",size:"small",icon:Et(Vy),onClick:G,circle:""},null,8,["icon"]),wt(R,{modelValue:s.value,"onUpdate:modelValue":X[3]||(X[3]=ne=>s.value=ne),title:"\u8BF7\u9009\u62E9\u6DFB\u52A0\u7684\u5BA1\u6279\u4EBA",width:"30%"},{footer:pt(()=>[En("span",V1,[wt(z,{type:"primary",onClick:X[2]||(X[2]=ne=>s.value=!1)},{default:pt(()=>[U1]),_:1})])]),default:pt(()=>[wt(N,{placeholder:"\u8F93\u5165\u9700\u8981\u67E5\u627E\u7684\u8D26\u53F7"},{append:pt(()=>[wt(z,{type:"primary",icon:Et(zO)},null,8,["icon"])]),_:1}),wt(V),(It(!0),xn(Lr,null,oo(f.value,(ne,ue)=>(It(),Or(A,{key:ue,class:"check-container",onClick:de=>L(ue)},{default:pt(()=>[Sn(jn(ne.name),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["modelValue"])]),_:1}),wt(F,{label:"\u8282\u70B9\u64CD\u4F5C"},{default:pt(()=>[(It(!0),xn(Lr,null,oo(_.value,(ne,ue)=>(It(),Or(A,{key:ue,class:"check-container",closable:"",onClose:de=>I(ue)},{default:pt(()=>[Sn(jn(ne.name),1)]),_:2},1032,["onClose"]))),128)),wt(z,{type:"primary",size:"small",icon:Et(Vy),onClick:W,circle:""},null,8,["icon"]),wt(R,{modelValue:O.value,"onUpdate:modelValue":X[5]||(X[5]=ne=>O.value=ne),title:"\u8BF7\u9009\u62E9\u6DFB\u52A0\u7684\u8282\u70B9\u64CD\u4F5C",width:"30%"},{footer:pt(()=>[En("span",G1,[wt(z,{type:"primary",onClick:X[4]||(X[4]=ne=>O.value=!1)},{default:pt(()=>[Y1]),_:1})])]),default:pt(()=>[(It(!0),xn(Lr,null,oo(w.value,(ne,ue)=>(It(),Or(A,{key:ue,class:"check-container",onClick:de=>K(ue)},{default:pt(()=>[Sn(jn(ne.name),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value"])}}});var rs=gi(W1,[["__scopeId","data-v-21d4aa30"]]);const $1=Ao({setup(g){let y=bi("openEdgeDrawer");const c=bi("selectedEdge"),p=()=>{y.value=!1};return(a,f)=>{const s=Bt("el-input"),v=Bt("el-form-item"),_=Bt("el-option"),w=Bt("el-select"),O=Bt("el-form"),j=Bt("el-drawer");return It(),Or(j,{"model-value":Et(y),title:"\u8282\u70B9\u4FE1\u606F",direction:"rtl","before-close":p},{default:pt(()=>[wt(O,{model:Et(c),"label-width":"120px"},{default:pt(()=>[wt(v,{label:"\u51FA\u53E3\u540D\u79F0"},{default:pt(()=>[wt(s,{modelValue:Et(c).text.value,"onUpdate:modelValue":f[0]||(f[0]=S=>Et(c).text.value=S)},{default:pt(()=>[Sn(jn(a.node.text.value),1)]),_:1},8,["modelValue"])]),_:1}),wt(v,{label:"\u51FA\u53E3\u63CF\u8FF0"},{default:pt(()=>[wt(s,{modelValue:Et(c).properties.desc,"onUpdate:modelValue":f[1]||(f[1]=S=>Et(c).properties.desc=S)},{default:pt(()=>[Sn(jn(Et(c).properties.desc),1)]),_:1},8,["modelValue"])]),_:1}),wt(v,{label:"\u51FA\u53E3\u903B\u8F91"},{default:pt(()=>[wt(w,{modelValue:Et(c).properties.condition,"onUpdate:modelValue":f[2]||(f[2]=S=>Et(c).properties.condition=S),placeholder:"\u9009\u62E9\u51FA\u53E3\u903B\u8F91"},{default:pt(()=>[wt(_,{label:"\u5168\u90E8\u901A\u8FC7",value:"and"}),wt(_,{label:"\u5176\u4E00\u901A\u8FC7",value:"or"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["model-value"])}}});var os=gi($1,[["__scopeId","data-v-7cc40c61"]]);const K1={class:"item-container"},q1=Sn("\u52A0\u8F7D"),Z1=Ao({emits:["loadFlowChartJson"],setup(g,{emit:y}){const c=bi("dialogTableVisible"),p=Fn([]),a=()=>{c.value=!1},f=s=>{y("loadFlowChartJson",JSON.parse(s)),IO.success("\u52A0\u8F7D\u6210\u529F"),c.value=!1};return CO(c,()=>{SO().then(s=>{s.success&&(p.value=s.data)})}),(s,v)=>{const _=Bt("el-button"),w=Bt("el-card"),O=Bt("el-scrollbar"),j=Bt("el-dialog");return It(),Or(j,{modelValue:Et(c),"onUpdate:modelValue":v[0]||(v[0]=S=>RO(c)?c.value=S:null),title:"\u6D41\u7A0B\u6A21\u677F",onClose:a,"destroy-on-close":""},{default:pt(()=>[wt(O,{height:"50vh"},{default:pt(()=>[(It(!0),xn(Lr,null,oo(p.value,S=>(It(),Or(w,{key:S.id,class:"item-card"},{header:pt(()=>[En("div",K1,[En("span",null,jn(S.title),1),wt(_,{type:"primary",onClick:k=>f(S.json)},{default:pt(()=>[q1]),_:2},1032,["onClick"])])]),default:pt(()=>[En("div",null,"\u63CF\u8FF0\uFF1A"+jn(S.description),1),En("div",null,"\u521B\u5EFA\u4EBA: "+jn(S.creator.name),1)]),_:2},1024))),128))]),_:1})]),_:1},8,["modelValue"])}}});var is=gi(Z1,[["__scopeId","data-v-3be76416"]]);const cw=Object.assign(es,{install(g){g.component(es.name,es)}}),sw=Object.assign(ts,{install(g){g.component(ts.name,ts)}}),lw=Object.assign(ns,{install(g){g.component(ns.name,ns)}}),fw=Object.assign(rs,{install(g){g.component(rs.name,rs)}}),pw=Object.assign(os,{install(g){g.component(os.name,os)}}),J1=Object.assign(is,{install(g){g.component(is.name,is)}});export{uw as B,cw as C,lw as D,pw as E,aw as M,sw as N,iw as S,fw as a,ow as b,Xe as l};
