var Sf=Object.defineProperty,Ef=Object.defineProperties;var Tf=Object.getOwnPropertyDescriptors;var Lc=Object.getOwnPropertySymbols;var xh=Object.prototype.hasOwnProperty,wh=Object.prototype.propertyIsEnumerable;var Pu=(e,r,l)=>r in e?Sf(e,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[r]=l,gi=(e,r)=>{for(var l in r||(r={}))xh.call(r,l)&&Pu(e,l,r[l]);if(Lc)for(var l of Lc(r))wh.call(r,l)&&Pu(e,l,r[l]);return e},Us=(e,r)=>Ef(e,Tf(r));var Ou=(e,r)=>{var l={};for(var g in e)xh.call(e,g)&&r.indexOf(g)<0&&(l[g]=e[g]);if(e!=null&&Lc)for(var g of Lc(e))r.indexOf(g)<0&&wh.call(e,g)&&(l[g]=e[g]);return l};var zc=(e,r,l)=>(Pu(e,typeof r!="symbol"?r+"":r,l),l);import{a as getDefaultExportFromCjs,d as defineComponent,E as ElConfigProvider,r as resolveComponent,b as createBlock,w as withCtx,o as openBlock,e as createVNode,c as commonjsGlobal,f as effectScope,h as ref,m as markRaw,i as getCurrentInstance,j as inject,k as watch,l as reactive,n as isRef,p as isReactive,t as toRaw,q as onUnmounted,s as nextTick,u as toRefs,x as computed,y as ElMessageBox,z as createElementBlock,A as createBaseVNode,B as createCommentVNode,C as toDisplayString,D as createTextVNode,F as Fragment,G as renderList,H as unref,I as normalizeClass,J as pushScopeId,K as popScopeId,L as shallowRef,M as h$1,N as provide,O as getCurrentScope,P as onScopeDispose,Q as onMounted,R as customRef,S as onUpdated,g as getAugmentedNamespace,T as withModifiers,U as TransitionGroup,V as withDirectives,W as vShow,X as onBeforeMount,Y as normalizeStyle,Z as resolveDynamicComponent,_ as Transition,$ as renderSlot,a0 as KeepAlive,a1 as useCssModule,a2 as resolveDirective,a3 as createApp,a4 as Teleport,a5 as onBeforeUnmount,a6 as onActivated,a7 as onDeactivated,a8 as ElLoading,a9 as ElInfiniteScroll,aa as ElTag,ab as ElAffix,ac as ElSkeleton,ad as ElBreadcrumb,ae as ElBreadcrumbItem,af as ElScrollbar,ag as ElSubMenu,ah as ElButton,ai as ElSteps,aj as ElStep,ak as ElCol,al as ElRow,am as ElSpace,an as ElDivider,ao as ElCard,ap as ElDropdown,aq as ElDialog,ar as ElMenu,as as ElMenuItem,at as ElDropdownItem,au as ElDropdownMenu,av as ElIcon,aw as ElInput,ax as ElForm,ay as ElFormItem,az as ElSelect,aA as ElOption,aB as ElPopover,aC as ElPopper,aD as ElTooltip,aE as ElDrawer,aF as ElPagination,aG as ElAlert,aH as ElRadio,aI as ElRadioButton,aJ as ElRadioGroup,aK as ElDescriptions,aL as ElDescriptionsItem,aM as ElBacktop,aN as ElSwitch,aO as ElBadge,aP as ElTabs,aQ as ElTabPane,aR as ElAvatar,aS as ElEmpty,aT as ElCollapse,aU as ElCollapseItem,aV as ElTreeV2,aW as ElUpload,aX as ElCheckboxButton,aY as ElCheckbox,aZ as ElCheckboxGroup,a_ as ElTimePicker,a$ as ElSlider,b0 as ElHeader,b1 as ElAside,b2 as ElMain,b3 as ElContainer,b4 as ElButtonGroup,b5 as ElTree,b6 as ElInputNumber,b7 as ElPageHeader,b8 as ElImage,b9 as ElColorPicker,ba as warn}from"./element-plus.ab042766.js";import{V as VForm3}from"./vform3-plus.5c4eeb71.js";const p=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))g(x);new MutationObserver(x=>{for(const C of x)if(C.type==="childList")for(const u of C.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&g(u)}).observe(document,{childList:!0,subtree:!0});function l(x){const C={};return x.integrity&&(C.integrity=x.integrity),x.referrerpolicy&&(C.referrerPolicy=x.referrerpolicy),x.crossorigin==="use-credentials"?C.credentials="include":x.crossorigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function g(x){if(x.ep)return;x.ep=!0;const C=l(x);fetch(x.href,C)}};p();var base$1="",elConfigProvider="",zhCn$1={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var r={name:"zh-cn",el:{colorpicker:{confirm:"\u786E\u5B9A",clear:"\u6E05\u7A7A"},datepicker:{now:"\u6B64\u523B",today:"\u4ECA\u5929",cancel:"\u53D6\u6D88",clear:"\u6E05\u7A7A",confirm:"\u786E\u5B9A",selectDate:"\u9009\u62E9\u65E5\u671F",selectTime:"\u9009\u62E9\u65F6\u95F4",startDate:"\u5F00\u59CB\u65E5\u671F",startTime:"\u5F00\u59CB\u65F6\u95F4",endDate:"\u7ED3\u675F\u65E5\u671F",endTime:"\u7ED3\u675F\u65F6\u95F4",prevYear:"\u524D\u4E00\u5E74",nextYear:"\u540E\u4E00\u5E74",prevMonth:"\u4E0A\u4E2A\u6708",nextMonth:"\u4E0B\u4E2A\u6708",year:"\u5E74",month1:"1 \u6708",month2:"2 \u6708",month3:"3 \u6708",month4:"4 \u6708",month5:"5 \u6708",month6:"6 \u6708",month7:"7 \u6708",month8:"8 \u6708",month9:"9 \u6708",month10:"10 \u6708",month11:"11 \u6708",month12:"12 \u6708",weeks:{sun:"\u65E5",mon:"\u4E00",tue:"\u4E8C",wed:"\u4E09",thu:"\u56DB",fri:"\u4E94",sat:"\u516D"},months:{jan:"\u4E00\u6708",feb:"\u4E8C\u6708",mar:"\u4E09\u6708",apr:"\u56DB\u6708",may:"\u4E94\u6708",jun:"\u516D\u6708",jul:"\u4E03\u6708",aug:"\u516B\u6708",sep:"\u4E5D\u6708",oct:"\u5341\u6708",nov:"\u5341\u4E00\u6708",dec:"\u5341\u4E8C\u6708"}},select:{loading:"\u52A0\u8F7D\u4E2D",noMatch:"\u65E0\u5339\u914D\u6570\u636E",noData:"\u65E0\u6570\u636E",placeholder:"\u8BF7\u9009\u62E9"},cascader:{noMatch:"\u65E0\u5339\u914D\u6570\u636E",loading:"\u52A0\u8F7D\u4E2D",placeholder:"\u8BF7\u9009\u62E9",noData:"\u6682\u65E0\u6570\u636E"},pagination:{goto:"\u524D\u5F80",pagesize:"\u6761/\u9875",total:"\u5171 {total} \u6761",pageClassifier:"\u9875",deprecationWarning:"\u4F60\u4F7F\u7528\u4E86\u4E00\u4E9B\u5DF2\u88AB\u5E9F\u5F03\u7684\u7528\u6CD5\uFF0C\u8BF7\u53C2\u8003 el-pagination \u7684\u5B98\u65B9\u6587\u6863"},messagebox:{title:"\u63D0\u793A",confirm:"\u786E\u5B9A",cancel:"\u53D6\u6D88",error:"\u8F93\u5165\u7684\u6570\u636E\u4E0D\u5408\u6CD5!"},upload:{deleteTip:"\u6309 delete \u952E\u53EF\u5220\u9664",delete:"\u5220\u9664",preview:"\u67E5\u770B\u56FE\u7247",continue:"\u7EE7\u7EED\u4E0A\u4F20"},table:{emptyText:"\u6682\u65E0\u6570\u636E",confirmFilter:"\u7B5B\u9009",resetFilter:"\u91CD\u7F6E",clearFilter:"\u5168\u90E8",sumText:"\u5408\u8BA1"},tree:{emptyText:"\u6682\u65E0\u6570\u636E"},transfer:{noMatch:"\u65E0\u5339\u914D\u6570\u636E",noData:"\u65E0\u6570\u636E",titles:["\u5217\u8868 1","\u5217\u8868 2"],filterPlaceholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9",noCheckedFormat:"\u5171 {total} \u9879",hasCheckedFormat:"\u5DF2\u9009 {checked}/{total} \u9879"},image:{error:"\u52A0\u8F7D\u5931\u8D25"},pageHeader:{title:"\u8FD4\u56DE"},popconfirm:{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88"}}};e.default=r})(zhCn$1);var zhCn=getDefaultExportFromCjs(zhCn$1),_export_sfc=(e,r)=>{const l=e.__vccOpts||e;for(const[g,x]of r)l[g]=x;return l};const _sfc_main$h=defineComponent({name:"app",components:{[ElConfigProvider.name]:ElConfigProvider},setup(){return{zhCn}}});function _sfc_render$1(e,r,l,g,x,C){const u=resolveComponent("router-view"),f=resolveComponent("el-config-provider");return openBlock(),createBlock(f,{locale:e.zhCn},{default:withCtx(()=>[createVNode(u)]),_:1},8,["locale"])}var App=_export_sfc(_sfc_main$h,[["render",_sfc_render$1]]);const openLink=e=>{const r=document.createElement("a");r.setAttribute("href",e),r.setAttribute("target","_blank"),r.setAttribute("rel","noreferrer noopener"),r.setAttribute("id","external"),document.getElementById("external")&&document.body.removeChild(document.getElementById("external")),document.body.appendChild(r),r.click(),r.remove()};var nprogress$1={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(e,r){(function(l,g){e.exports=g()})(commonjsGlobal,function(){var l={};l.version="0.2.0";var g=l.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};l.configure=function(R){var B,V;for(B in R)V=R[B],V!==void 0&&R.hasOwnProperty(B)&&(g[B]=V);return this},l.status=null,l.set=function(R){var B=l.isStarted();R=x(R,g.minimum,1),l.status=R===1?null:R;var V=l.render(!B),j=V.querySelector(g.barSelector),U=g.speed,q=g.easing;return V.offsetWidth,f(function(Y){g.positionUsing===""&&(g.positionUsing=l.getPositioningCSS()),n(j,u(R,U,q)),R===1?(n(V,{transition:"none",opacity:1}),V.offsetWidth,setTimeout(function(){n(V,{transition:"all "+U+"ms linear",opacity:0}),setTimeout(function(){l.remove(),Y()},U)},U)):setTimeout(Y,U)}),this},l.isStarted=function(){return typeof l.status=="number"},l.start=function(){l.status||l.set(0);var R=function(){setTimeout(function(){!l.status||(l.trickle(),R())},g.trickleSpeed)};return g.trickle&&R(),this},l.done=function(R){return!R&&!l.status?this:l.inc(.3+.5*Math.random()).set(1)},l.inc=function(R){var B=l.status;return B?(typeof R!="number"&&(R=(1-B)*x(Math.random()*B,.1,.95)),B=x(B+R,0,.994),l.set(B)):l.start()},l.trickle=function(){return l.inc(Math.random()*g.trickleRate)},function(){var R=0,B=0;l.promise=function(V){return!V||V.state()==="resolved"?this:(B===0&&l.start(),R++,B++,V.always(function(){B--,B===0?(R=0,l.done()):l.set((R-B)/R)}),this)}}(),l.render=function(R){if(l.isRendered())return document.getElementById("nprogress");k(document.documentElement,"nprogress-busy");var B=document.createElement("div");B.id="nprogress",B.innerHTML=g.template;var V=B.querySelector(g.barSelector),j=R?"-100":C(l.status||0),U=document.querySelector(g.parent),q;return n(V,{transition:"all 0 linear",transform:"translate3d("+j+"%,0,0)"}),g.showSpinner||(q=B.querySelector(g.spinnerSelector),q&&$(q)),U!=document.body&&k(U,"nprogress-custom-parent"),U.appendChild(B),B},l.remove=function(){M(document.documentElement,"nprogress-busy"),M(document.querySelector(g.parent),"nprogress-custom-parent");var R=document.getElementById("nprogress");R&&$(R)},l.isRendered=function(){return!!document.getElementById("nprogress")},l.getPositioningCSS=function(){var R=document.body.style,B="WebkitTransform"in R?"Webkit":"MozTransform"in R?"Moz":"msTransform"in R?"ms":"OTransform"in R?"O":"";return B+"Perspective"in R?"translate3d":B+"Transform"in R?"translate":"margin"};function x(R,B,V){return R<B?B:R>V?V:R}function C(R){return(-1+R)*100}function u(R,B,V){var j;return g.positionUsing==="translate3d"?j={transform:"translate3d("+C(R)+"%,0,0)"}:g.positionUsing==="translate"?j={transform:"translate("+C(R)+"%,0)"}:j={"margin-left":C(R)+"%"},j.transition="all "+B+"ms "+V,j}var f=function(){var R=[];function B(){var V=R.shift();V&&V(B)}return function(V){R.push(V),R.length==1&&B()}}(),n=function(){var R=["Webkit","O","Moz","ms"],B={};function V(Y){return Y.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(Q,te){return te.toUpperCase()})}function j(Y){var Q=document.body.style;if(Y in Q)return Y;for(var te=R.length,re=Y.charAt(0).toUpperCase()+Y.slice(1),oe;te--;)if(oe=R[te]+re,oe in Q)return oe;return Y}function U(Y){return Y=V(Y),B[Y]||(B[Y]=j(Y))}function q(Y,Q,te){Q=U(Q),Y.style[Q]=te}return function(Y,Q){var te=arguments,re,oe;if(te.length==2)for(re in Q)oe=Q[re],oe!==void 0&&Q.hasOwnProperty(re)&&q(Y,re,oe);else q(Y,te[1],te[2])}}();function S(R,B){var V=typeof R=="string"?R:P(R);return V.indexOf(" "+B+" ")>=0}function k(R,B){var V=P(R),j=V+B;S(V,B)||(R.className=j.substring(1))}function M(R,B){var V=P(R),j;!S(R,B)||(j=V.replace(" "+B+" "," "),R.className=j.substring(1,j.length-1))}function P(R){return(" "+(R.className||"")+" ").replace(/\s+/gi," ")}function $(R){R&&R.parentNode&&R.parentNode.removeChild(R)}return l})})(nprogress$1);var NProgress=nprogress$1.exports,nprogress="";NProgress.configure({easing:"ease",speed:500,showSpinner:!1,trickleSpeed:200,minimum:.3});const scriptRel="modulepreload",seen={},base="/vue-pure/",__vitePreload=function(r,l){return!l||l.length===0?r():Promise.all(l.map(g=>{if(g=`${base}${g}`,g in seen)return;seen[g]=!0;const x=g.endsWith(".css"),C=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${C}`))return;const u=document.createElement("link");if(u.rel=x?"stylesheet":scriptRel,x||(u.as="script",u.crossOrigin=""),u.href=g,document.head.appendChild(u),x)return new Promise((f,n)=>{u.addEventListener("load",f),u.addEventListener("error",n)})})).then(()=>r())},routerArrays=[{path:"/welcome",parentPath:"/",meta:{title:"\u9996\u9875",icon:"home-filled"}}];function mitt(e){return{all:e=e||new Map,on:function(r,l){var g=e.get(r);g?g.push(l):e.set(r,[l])},off:function(r,l){var g=e.get(r);g&&(l?g.splice(g.indexOf(l)>>>0,1):e.set(r,[]))},emit:function(r,l){var g=e.get(r);g&&g.slice().map(function(x){x(l)}),(g=e.get("*"))&&g.slice().map(function(x){x(r,l)})}}}const emitter=mitt();var isVue2=!1;function set$2(e,r,l){return Array.isArray(e)?(e.length=Math.max(e.length,r),e.splice(r,1,l),l):(e[r]=l,l)}function del(e,r){if(Array.isArray(e)){e.splice(r,1);return}delete e[r]}/*!
  * pinia v2.0.11
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */let activePinia;const setActivePinia=e=>activePinia=e,piniaSymbol=Symbol();function isPlainObject$8(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var MutationType;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const e=effectScope(!0),r=e.run(()=>ref({}));let l=[],g=[];const x=markRaw({install(C){setActivePinia(x),x._a=C,C.provide(piniaSymbol,x),C.config.globalProperties.$pinia=x,g.forEach(u=>l.push(u)),g=[]},use(C){return!this._a&&!isVue2?g.push(C):l.push(C),this},_p:l,_a:null,_e:e,_s:new Map,state:r});return x}const noop$4=()=>{};function addSubscription(e,r,l,g=noop$4){e.push(r);const x=()=>{const C=e.indexOf(r);C>-1&&(e.splice(C,1),g())};return!l&&getCurrentInstance()&&onUnmounted(x),x}function triggerSubscriptions(e,...r){e.slice().forEach(l=>{l(...r)})}function mergeReactiveObjects(e,r){for(const l in r){const g=r[l],x=e[l];isPlainObject$8(x)&&isPlainObject$8(g)&&!isRef(g)&&!isReactive(g)?e[l]=mergeReactiveObjects(x,g):e[l]=g}return e}const skipHydrateSymbol=Symbol();function shouldHydrate(e){return!isPlainObject$8(e)||!e.hasOwnProperty(skipHydrateSymbol)}const{assign:assign$f}=Object;function isComputed(e){return!!(isRef(e)&&e.effect)}function createOptionsStore(e,r,l,g){const{state:x,actions:C,getters:u}=r,f=l.state.value[e];let n;function S(){f||(l.state.value[e]=x?x():{});const k=toRefs(l.state.value[e]);return assign$f(k,C,Object.keys(u||{}).reduce((M,P)=>(M[P]=markRaw(computed(()=>{setActivePinia(l);const $=l._s.get(e);return u[P].call($,$)})),M),{}))}return n=createSetupStore(e,S,r,l),n.$reset=function(){const M=x?x():{};this.$patch(P=>{assign$f(P,M)})},n}function createSetupStore(e,r,l={},g,x){let C;const u=l.state,f=assign$f({actions:{}},l),n={deep:!0};let S,k,M=markRaw([]),P=markRaw([]),$;const R=g.state.value[e];!u&&!R&&(g.state.value[e]={}),ref({});function B(te){let re;S=k=!1,typeof te=="function"?(te(g.state.value[e]),re={type:MutationType.patchFunction,storeId:e,events:$}):(mergeReactiveObjects(g.state.value[e],te),re={type:MutationType.patchObject,payload:te,storeId:e,events:$}),nextTick().then(()=>{S=!0}),k=!0,triggerSubscriptions(M,re,g.state.value[e])}const V=noop$4;function j(){C.stop(),M=[],P=[],g._s.delete(e)}function U(te,re){return function(){setActivePinia(g);const oe=Array.from(arguments),se=[],fe=[];function ge(be){se.push(be)}function Ce(be){fe.push(be)}triggerSubscriptions(P,{args:oe,name:te,store:Y,after:ge,onError:Ce});let $e;try{$e=re.apply(this&&this.$id===e?this:Y,oe)}catch(be){throw triggerSubscriptions(fe,be),be}return $e instanceof Promise?$e.then(be=>(triggerSubscriptions(se,be),be)).catch(be=>(triggerSubscriptions(fe,be),Promise.reject(be))):(triggerSubscriptions(se,$e),$e)}}const q={_p:g,$id:e,$onAction:addSubscription.bind(null,P),$patch:B,$reset:V,$subscribe(te,re={}){const oe=addSubscription(M,te,re.detached,()=>se()),se=C.run(()=>watch(()=>g.state.value[e],fe=>{(re.flush==="sync"?k:S)&&te({storeId:e,type:MutationType.direct,events:$},fe)},assign$f({},n,re)));return oe},$dispose:j},Y=reactive(assign$f({},q));g._s.set(e,Y);const Q=g._e.run(()=>(C=effectScope(),C.run(()=>r())));for(const te in Q){const re=Q[te];if(isRef(re)&&!isComputed(re)||isReactive(re))u||(R&&shouldHydrate(re)&&(isRef(re)?re.value=R[te]:mergeReactiveObjects(re,R[te])),g.state.value[e][te]=re);else if(typeof re=="function"){const oe=U(te,re);Q[te]=oe,f.actions[te]=re}}return assign$f(Y,Q),assign$f(toRaw(Y),Q),Object.defineProperty(Y,"$state",{get:()=>g.state.value[e],set:te=>{B(re=>{assign$f(re,te)})}}),g._p.forEach(te=>{assign$f(Y,C.run(()=>te({store:Y,app:g._a,pinia:g,options:f})))}),R&&u&&l.hydrate&&l.hydrate(Y.$state,R),S=!0,k=!0,Y}function defineStore(e,r,l){let g,x;const C=typeof r=="function";typeof e=="string"?(g=e,x=C?l:r):(x=e,g=e.id);function u(f,n){const S=getCurrentInstance();return f=f||S&&inject(piniaSymbol),f&&setActivePinia(f),f=activePinia,f._s.has(g)||(C?createSetupStore(g,r,x,f):createOptionsStore(g,x,f)),f._s.get(g)}return u.$id=g,u}const store=createPinia();function setupStore(e){e.use(store)}var axios$2={exports:{}},bind$6=function(r,l){return function(){for(var x=new Array(arguments.length),C=0;C<x.length;C++)x[C]=arguments[C];return r.apply(l,x)}},bind$5=bind$6,toString$2=Object.prototype.toString;function isArray$z(e){return Array.isArray(e)}function isUndefined$b(e){return typeof e=="undefined"}function isBuffer$3(e){return e!==null&&!isUndefined$b(e)&&e.constructor!==null&&!isUndefined$b(e.constructor)&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)}function isArrayBuffer(e){return toString$2.call(e)==="[object ArrayBuffer]"}function isFormData$2(e){return toString$2.call(e)==="[object FormData]"}function isArrayBufferView(e){var r;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&isArrayBuffer(e.buffer),r}function isString$d(e){return typeof e=="string"}function isNumber$d(e){return typeof e=="number"}function isObject$7(e){return e!==null&&typeof e=="object"}function isPlainObject$7(e){if(toString$2.call(e)!=="[object Object]")return!1;var r=Object.getPrototypeOf(e);return r===null||r===Object.prototype}function isDate$a(e){return toString$2.call(e)==="[object Date]"}function isFile(e){return toString$2.call(e)==="[object File]"}function isBlob(e){return toString$2.call(e)==="[object Blob]"}function isFunction$e(e){return toString$2.call(e)==="[object Function]"}function isStream(e){return isObject$7(e)&&isFunction$e(e.pipe)}function isURLSearchParams(e){return toString$2.call(e)==="[object URLSearchParams]"}function trim$3(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function forEach$2(e,r){if(!(e===null||typeof e=="undefined"))if(typeof e!="object"&&(e=[e]),isArray$z(e))for(var l=0,g=e.length;l<g;l++)r.call(null,e[l],l,e);else for(var x in e)Object.prototype.hasOwnProperty.call(e,x)&&r.call(null,e[x],x,e)}function merge$3(){var e={};function r(x,C){isPlainObject$7(e[C])&&isPlainObject$7(x)?e[C]=merge$3(e[C],x):isPlainObject$7(x)?e[C]=merge$3({},x):isArray$z(x)?e[C]=x.slice():e[C]=x}for(var l=0,g=arguments.length;l<g;l++)forEach$2(arguments[l],r);return e}function extend(e,r,l){return forEach$2(r,function(x,C){l&&typeof x=="function"?e[C]=bind$5(x,l):e[C]=x}),e}function stripBOM(e){return e.charCodeAt(0)===65279&&(e=e.slice(1)),e}var utils$l={isArray:isArray$z,isArrayBuffer,isBuffer:isBuffer$3,isFormData:isFormData$2,isArrayBufferView,isString:isString$d,isNumber:isNumber$d,isObject:isObject$7,isPlainObject:isPlainObject$7,isUndefined:isUndefined$b,isDate:isDate$a,isFile,isBlob,isFunction:isFunction$e,isStream,isURLSearchParams,isStandardBrowserEnv,forEach:forEach$2,merge:merge$3,extend,trim:trim$3,stripBOM},utils$k=utils$l;function encode$1(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$2=function(r,l,g){if(!l)return r;var x;if(g)x=g(l);else if(utils$k.isURLSearchParams(l))x=l.toString();else{var C=[];utils$k.forEach(l,function(n,S){n===null||typeof n=="undefined"||(utils$k.isArray(n)?S=S+"[]":n=[n],utils$k.forEach(n,function(M){utils$k.isDate(M)?M=M.toISOString():utils$k.isObject(M)&&(M=JSON.stringify(M)),C.push(encode$1(S)+"="+encode$1(M))}))}),x=C.join("&")}if(x){var u=r.indexOf("#");u!==-1&&(r=r.slice(0,u)),r+=(r.indexOf("?")===-1?"?":"&")+x}return r},utils$j=utils$l;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(r,l,g){return this.handlers.push({fulfilled:r,rejected:l,synchronous:g?g.synchronous:!1,runWhen:g?g.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)};InterceptorManager$1.prototype.forEach=function(r){utils$j.forEach(this.handlers,function(g){g!==null&&r(g)})};var InterceptorManager_1=InterceptorManager$1,utils$i=utils$l,normalizeHeaderName$1=function(r,l){utils$i.forEach(r,function(x,C){C!==l&&C.toUpperCase()===l.toUpperCase()&&(r[l]=x,delete r[C])})},enhanceError$2=function(r,l,g,x,C){return r.config=l,g&&(r.code=g),r.request=x,r.response=C,r.isAxiosError=!0,r.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},r},enhanceError$1=enhanceError$2,createError$2=function(r,l,g,x,C){var u=new Error(r);return enhanceError$1(u,l,g,x,C)},createError$1=createError$2,settle$1=function(r,l,g){var x=g.config.validateStatus;!g.status||!x||x(g.status)?r(g):l(createError$1("Request failed with status code "+g.status,g.config,null,g.request,g))},utils$h=utils$l,cookies$1=utils$h.isStandardBrowserEnv()?function(){return{write:function(l,g,x,C,u,f){var n=[];n.push(l+"="+encodeURIComponent(g)),utils$h.isNumber(x)&&n.push("expires="+new Date(x).toGMTString()),utils$h.isString(C)&&n.push("path="+C),utils$h.isString(u)&&n.push("domain="+u),f===!0&&n.push("secure"),document.cookie=n.join("; ")},read:function(l){var g=document.cookie.match(new RegExp("(^|;\\s*)("+l+")=([^;]*)"));return g?decodeURIComponent(g[3]):null},remove:function(l){this.write(l,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),isAbsoluteURL$1=function(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)},combineURLs$1=function(r,l){return l?r.replace(/\/+$/,"")+"/"+l.replace(/^\/+/,""):r},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function(r,l){return r&&!isAbsoluteURL(l)?combineURLs(r,l):l},utils$g=utils$l,ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders$1=function(r){var l={},g,x,C;return r&&utils$g.forEach(r.split(`
`),function(f){if(C=f.indexOf(":"),g=utils$g.trim(f.substr(0,C)).toLowerCase(),x=utils$g.trim(f.substr(C+1)),g){if(l[g]&&ignoreDuplicateOf.indexOf(g)>=0)return;g==="set-cookie"?l[g]=(l[g]?l[g]:[]).concat([x]):l[g]=l[g]?l[g]+", "+x:x}}),l},utils$f=utils$l,isURLSameOrigin$1=utils$f.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),l=document.createElement("a"),g;function x(C){var u=C;return r&&(l.setAttribute("href",u),u=l.href),l.setAttribute("href",u),{href:l.href,protocol:l.protocol?l.protocol.replace(/:$/,""):"",host:l.host,search:l.search?l.search.replace(/^\?/,""):"",hash:l.hash?l.hash.replace(/^#/,""):"",hostname:l.hostname,port:l.port,pathname:l.pathname.charAt(0)==="/"?l.pathname:"/"+l.pathname}}return g=x(window.location.href),function(u){var f=utils$f.isString(u)?x(u):u;return f.protocol===g.protocol&&f.host===g.host}}():function(){return function(){return!0}}();function Cancel$3(e){this.message=e}Cancel$3.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Cancel$3.prototype.__CANCEL__=!0;var Cancel_1=Cancel$3,utils$e=utils$l,settle=settle$1,cookies=cookies$1,buildURL$1=buildURL$2,buildFullPath=buildFullPath$1,parseHeaders=parseHeaders$1,isURLSameOrigin=isURLSameOrigin$1,createError=createError$2,defaults$8=defaults_1,Cancel$2=Cancel_1,xhr=function(r){return new Promise(function(g,x){var C=r.data,u=r.headers,f=r.responseType,n;function S(){r.cancelToken&&r.cancelToken.unsubscribe(n),r.signal&&r.signal.removeEventListener("abort",n)}utils$e.isFormData(C)&&delete u["Content-Type"];var k=new XMLHttpRequest;if(r.auth){var M=r.auth.username||"",P=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";u.Authorization="Basic "+btoa(M+":"+P)}var $=buildFullPath(r.baseURL,r.url);k.open(r.method.toUpperCase(),buildURL$1($,r.params,r.paramsSerializer),!0),k.timeout=r.timeout;function R(){if(!!k){var V="getAllResponseHeaders"in k?parseHeaders(k.getAllResponseHeaders()):null,j=!f||f==="text"||f==="json"?k.responseText:k.response,U={data:j,status:k.status,statusText:k.statusText,headers:V,config:r,request:k};settle(function(Y){g(Y),S()},function(Y){x(Y),S()},U),k=null}}if("onloadend"in k?k.onloadend=R:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(R)},k.onabort=function(){!k||(x(createError("Request aborted",r,"ECONNABORTED",k)),k=null)},k.onerror=function(){x(createError("Network Error",r,null,k)),k=null},k.ontimeout=function(){var j=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded",U=r.transitional||defaults$8.transitional;r.timeoutErrorMessage&&(j=r.timeoutErrorMessage),x(createError(j,r,U.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",k)),k=null},utils$e.isStandardBrowserEnv()){var B=(r.withCredentials||isURLSameOrigin($))&&r.xsrfCookieName?cookies.read(r.xsrfCookieName):void 0;B&&(u[r.xsrfHeaderName]=B)}"setRequestHeader"in k&&utils$e.forEach(u,function(j,U){typeof C=="undefined"&&U.toLowerCase()==="content-type"?delete u[U]:k.setRequestHeader(U,j)}),utils$e.isUndefined(r.withCredentials)||(k.withCredentials=!!r.withCredentials),f&&f!=="json"&&(k.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&k.addEventListener("progress",r.onDownloadProgress),typeof r.onUploadProgress=="function"&&k.upload&&k.upload.addEventListener("progress",r.onUploadProgress),(r.cancelToken||r.signal)&&(n=function(V){!k||(x(!V||V&&V.type?new Cancel$2("canceled"):V),k.abort(),k=null)},r.cancelToken&&r.cancelToken.subscribe(n),r.signal&&(r.signal.aborted?n():r.signal.addEventListener("abort",n))),C||(C=null),k.send(C)})},utils$d=utils$l,normalizeHeaderName=normalizeHeaderName$1,enhanceError=enhanceError$2,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,r){!utils$d.isUndefined(e)&&utils$d.isUndefined(e["Content-Type"])&&(e["Content-Type"]=r)}function getDefaultAdapter(){var e;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(e=xhr),e}function stringifySafely(e,r,l){if(utils$d.isString(e))try{return(r||JSON.parse)(e),utils$d.trim(e)}catch(g){if(g.name!=="SyntaxError")throw g}return(l||JSON.stringify)(e)}var defaults$7={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:getDefaultAdapter(),transformRequest:[function(r,l){return normalizeHeaderName(l,"Accept"),normalizeHeaderName(l,"Content-Type"),utils$d.isFormData(r)||utils$d.isArrayBuffer(r)||utils$d.isBuffer(r)||utils$d.isStream(r)||utils$d.isFile(r)||utils$d.isBlob(r)?r:utils$d.isArrayBufferView(r)?r.buffer:utils$d.isURLSearchParams(r)?(setContentTypeIfUnset(l,"application/x-www-form-urlencoded;charset=utf-8"),r.toString()):utils$d.isObject(r)||l&&l["Content-Type"]==="application/json"?(setContentTypeIfUnset(l,"application/json"),stringifySafely(r)):r}],transformResponse:[function(r){var l=this.transitional||defaults$7.transitional,g=l&&l.silentJSONParsing,x=l&&l.forcedJSONParsing,C=!g&&this.responseType==="json";if(C||x&&utils$d.isString(r)&&r.length)try{return JSON.parse(r)}catch(u){if(C)throw u.name==="SyntaxError"?enhanceError(u,this,"E_JSON_PARSE"):u}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$d.forEach(["delete","get","head"],function(r){defaults$7.headers[r]={}});utils$d.forEach(["post","put","patch"],function(r){defaults$7.headers[r]=utils$d.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$7,utils$c=utils$l,defaults$6=defaults_1,transformData$1=function(r,l,g){var x=this||defaults$6;return utils$c.forEach(g,function(u){r=u.call(x,r,l)}),r},isCancel$1=function(r){return!!(r&&r.__CANCEL__)},utils$b=utils$l,transformData=transformData$1,isCancel=isCancel$1,defaults$5=defaults_1,Cancel$1=Cancel_1;function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cancel$1("canceled")}var dispatchRequest$1=function(r){throwIfCancellationRequested(r),r.headers=r.headers||{},r.data=transformData.call(r,r.data,r.headers,r.transformRequest),r.headers=utils$b.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),utils$b.forEach(["delete","get","head","post","put","patch","common"],function(x){delete r.headers[x]});var l=r.adapter||defaults$5.adapter;return l(r).then(function(x){return throwIfCancellationRequested(r),x.data=transformData.call(r,x.data,x.headers,r.transformResponse),x},function(x){return isCancel(x)||(throwIfCancellationRequested(r),x&&x.response&&(x.response.data=transformData.call(r,x.response.data,x.response.headers,r.transformResponse))),Promise.reject(x)})},utils$a=utils$l,mergeConfig$2=function(r,l){l=l||{};var g={};function x(k,M){return utils$a.isPlainObject(k)&&utils$a.isPlainObject(M)?utils$a.merge(k,M):utils$a.isPlainObject(M)?utils$a.merge({},M):utils$a.isArray(M)?M.slice():M}function C(k){if(utils$a.isUndefined(l[k])){if(!utils$a.isUndefined(r[k]))return x(void 0,r[k])}else return x(r[k],l[k])}function u(k){if(!utils$a.isUndefined(l[k]))return x(void 0,l[k])}function f(k){if(utils$a.isUndefined(l[k])){if(!utils$a.isUndefined(r[k]))return x(void 0,r[k])}else return x(void 0,l[k])}function n(k){if(k in l)return x(r[k],l[k]);if(k in r)return x(void 0,r[k])}var S={url:u,method:u,data:u,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:n};return utils$a.forEach(Object.keys(r).concat(Object.keys(l)),function(M){var P=S[M]||C,$=P(M);utils$a.isUndefined($)&&P!==n||(g[M]=$)}),g},data$u={version:"0.25.0"},VERSION=data$u.version,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(e,r){validators$1[e]=function(g){return typeof g===e||"a"+(r<1?"n ":" ")+e}});var deprecatedWarnings={};validators$1.transitional=function(r,l,g){function x(C,u){return"[Axios v"+VERSION+"] Transitional option '"+C+"'"+u+(g?". "+g:"")}return function(C,u,f){if(r===!1)throw new Error(x(u," has been removed"+(l?" in "+l:"")));return l&&!deprecatedWarnings[u]&&(deprecatedWarnings[u]=!0,console.warn(x(u," has been deprecated since v"+l+" and will be removed in the near future"))),r?r(C,u,f):!0}};function assertOptions(e,r,l){if(typeof e!="object")throw new TypeError("options must be an object");for(var g=Object.keys(e),x=g.length;x-- >0;){var C=g[x],u=r[C];if(u){var f=e[C],n=f===void 0||u(f,C,e);if(n!==!0)throw new TypeError("option "+C+" must be "+n);continue}if(l!==!0)throw Error("Unknown option "+C)}}var validator$1={assertOptions,validators:validators$1},utils$9=utils$l,buildURL=buildURL$2,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator=validator$1,validators=validator.validators;function Axios$1(e){this.defaults=e,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(r,l){if(typeof r=="string"?(l=l||{},l.url=r):l=r||{},!l.url)throw new Error("Provided config url is not valid");l=mergeConfig$1(this.defaults,l),l.method?l.method=l.method.toLowerCase():this.defaults.method?l.method=this.defaults.method.toLowerCase():l.method="get";var g=l.transitional;g!==void 0&&validator.assertOptions(g,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var x=[],C=!0;this.interceptors.request.forEach(function($){typeof $.runWhen=="function"&&$.runWhen(l)===!1||(C=C&&$.synchronous,x.unshift($.fulfilled,$.rejected))});var u=[];this.interceptors.response.forEach(function($){u.push($.fulfilled,$.rejected)});var f;if(!C){var n=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(n,x),n=n.concat(u),f=Promise.resolve(l);n.length;)f=f.then(n.shift(),n.shift());return f}for(var S=l;x.length;){var k=x.shift(),M=x.shift();try{S=k(S)}catch(P){M(P);break}}try{f=dispatchRequest(S)}catch(P){return Promise.reject(P)}for(;u.length;)f=f.then(u.shift(),u.shift());return f};Axios$1.prototype.getUri=function(r){if(!r.url)throw new Error("Provided config url is not valid");return r=mergeConfig$1(this.defaults,r),buildURL(r.url,r.params,r.paramsSerializer).replace(/^\?/,"")};utils$9.forEach(["delete","get","head","options"],function(r){Axios$1.prototype[r]=function(l,g){return this.request(mergeConfig$1(g||{},{method:r,url:l,data:(g||{}).data}))}});utils$9.forEach(["post","put","patch"],function(r){Axios$1.prototype[r]=function(l,g,x){return this.request(mergeConfig$1(x||{},{method:r,url:l,data:g}))}});var Axios_1=Axios$1,Cancel=Cancel_1;function CancelToken(e){if(typeof e!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(x){r=x});var l=this;this.promise.then(function(g){if(!!l._listeners){var x,C=l._listeners.length;for(x=0;x<C;x++)l._listeners[x](g);l._listeners=null}}),this.promise.then=function(g){var x,C=new Promise(function(u){l.subscribe(u),x=u}).then(g);return C.cancel=function(){l.unsubscribe(x)},C},e(function(x){l.reason||(l.reason=new Cancel(x),r(l.reason))})}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};CancelToken.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]};CancelToken.prototype.unsubscribe=function(r){if(!!this._listeners){var l=this._listeners.indexOf(r);l!==-1&&this._listeners.splice(l,1)}};CancelToken.source=function(){var r,l=new CancelToken(function(x){r=x});return{token:l,cancel:r}};var CancelToken_1=CancelToken,spread=function(r){return function(g){return r.apply(null,g)}},utils$8=utils$l,isAxiosError=function(r){return utils$8.isObject(r)&&r.isAxiosError===!0},utils$7=utils$l,bind$4=bind$6,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults$4=defaults_1;function createInstance(e){var r=new Axios(e),l=bind$4(Axios.prototype.request,r);return utils$7.extend(l,Axios.prototype,r),utils$7.extend(l,r),l.create=function(x){return createInstance(mergeConfig(e,x))},l}var axios$1=createInstance(defaults$4);axios$1.Axios=Axios;axios$1.Cancel=Cancel_1;axios$1.CancelToken=CancelToken_1;axios$1.isCancel=isCancel$1;axios$1.VERSION=data$u.version;axios$1.all=function(r){return Promise.all(r)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;axios$2.exports=axios$1;axios$2.exports.default=axios$1;var axios=axios$2.exports;const loadEnv=()=>({VITE_PROXY_DOMAIN_REAL:"https://blueprint-system-1733269-1310383477.ap-shanghai.run.tcloudbase.com",VITE_PUBLIC_PATH:"/vue-pure/",VITE_ROUTER_HISTORY:"hash",VITE_LEGACY:"false",VITE_PORT:"8848",BASE_URL:"/vue-pure/",MODE:"production",DEV:!1,PROD:!0});var elMessageBox="",elButton="",elInput="",elOverlay="";let config$2={};const{VITE_PUBLIC_PATH}=loadEnv(),setConfig$1=e=>{config$2=Object.assign(config$2,e)},getConfig=e=>{if(typeof e=="string"){const r=e.split(".");if(r&&r.length){let l=config$2;return r.forEach(g=>{l&&typeof l[g]!="undefined"?l=l[g]:l=null}),l}}return config$2},getServerConfig=async e=>(e.config.globalProperties.$confirm=ElMessageBox.confirm,e.config.globalProperties.$config=getConfig(),axios({baseURL:"",method:"get",url:`${VITE_PUBLIC_PATH}serverConfig.json`}).then(({data:r})=>{let l=e.config.globalProperties.$config;return e&&l&&typeof r=="object"&&(l=Object.assign(l,r),e.config.globalProperties.$config=l,setConfig$1(l)),e.config.globalProperties.$baseUrl=l.baseURL,l}).catch(()=>{throw"\u8BF7\u5728public\u6587\u4EF6\u5939\u4E0B\u6DFB\u52A0serverConfig.json\u914D\u7F6E\u6587\u4EF6"}));class sessionStorageProxy{constructor(r){zc(this,"storage");this.storage=r}setItem(r,l){this.storage.setItem(r,JSON.stringify(l))}getItem(r){return JSON.parse(this.storage.getItem(r))}removeItem(r){this.storage.removeItem(r)}clear(){this.storage.clear()}}class localStorageProxy extends sessionStorageProxy{constructor(r){super(r)}}const storageSession=new sessionStorageProxy(sessionStorage),storageLocal=new localStorageProxy(localStorage),deviceDetection=()=>{const e=navigator.userAgent.toLowerCase(),r=e.match(/iphone os/i)=="iphone os",l=e.match(/midp/i)=="midp",g=e.match(/rv:1.2.3.4/i)=="rv:1.2.3.4",x=e.match(/ucweb/i)=="ucweb",C=e.match(/android/i)=="android",u=e.match(/windows ce/i)=="windows ce",f=e.match(/windows mobile/i)=="windows mobile";return r||l||g||x||C||u||f},useAppStore$1=defineStore({id:"pure-app",state:()=>{var e,r,l,g;return{sidebar:{opened:(r=(e=storageLocal.getItem("responsive-layout"))==null?void 0:e.sidebarStatus)!=null?r:getConfig().SidebarStatus,withoutAnimation:!1,isClickHamburger:!1},layout:(g=(l=storageLocal.getItem("responsive-layout"))==null?void 0:l.layout)!=null?g:getConfig().Layout,device:deviceDetection()?"mobile":"desktop"}},getters:{getSidebarStatus(){return this.sidebar.opened},getDevice(){return this.device}},actions:{TOGGLE_SIDEBAR(e,r){const l=storageLocal.getItem("responsive-layout");e&&r?(this.sidebar.withoutAnimation=!0,this.sidebar.opened=!0,l.sidebarStatus=!0):!e&&r?(this.sidebar.withoutAnimation=!0,this.sidebar.opened=!1,l.sidebarStatus=!1):!e&&!r&&(this.sidebar.withoutAnimation=!1,this.sidebar.opened=!this.sidebar.opened,this.sidebar.isClickHamburger=!this.sidebar.opened,l.sidebarStatus=this.sidebar.opened),storageLocal.setItem("responsive-layout",l)},TOGGLE_DEVICE(e){this.device=e},async toggleSideBar(e,r){await this.TOGGLE_SIDEBAR(e,r)},toggleDevice(e){this.TOGGLE_DEVICE(e)},setLayout(e){this.layout=e}}});function useAppStoreHook(){return useAppStore$1(store)}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeGlobal$1=freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")(),root$1=root,Symbol$1=root$1.Symbol,Symbol$2=Symbol$1,objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(e){var r=hasOwnProperty$c.call(e,symToStringTag$1),l=e[symToStringTag$1];try{e[symToStringTag$1]=void 0;var g=!0}catch{}var x=nativeObjectToString$1.call(e);return g&&(r?e[symToStringTag$1]=l:delete e[symToStringTag$1]),x}var objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString$4(e){return nativeObjectToString.call(e)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(e){return e==null?e===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(e)?getRawTag(e):objectToString$4(e)}function isObjectLike(e){return e!=null&&typeof e=="object"}var symbolTag$3="[object Symbol]";function isSymbol$4(e){return typeof e=="symbol"||isObjectLike(e)&&baseGetTag(e)==symbolTag$3}function arrayMap(e,r){for(var l=-1,g=e==null?0:e.length,x=Array(g);++l<g;)x[l]=r(e[l],l,e);return x}var isArray$x=Array.isArray,isArray$y=isArray$x,INFINITY$2=1/0,symbolProto$2=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(e){if(typeof e=="string")return e;if(isArray$y(e))return arrayMap(e,baseToString)+"";if(isSymbol$4(e))return symbolToString?symbolToString.call(e):"";var r=e+"";return r=="0"&&1/e==-INFINITY$2?"-0":r}var reWhitespace=/\s/;function trimmedEndIndex(e){for(var r=e.length;r--&&reWhitespace.test(e.charAt(r)););return r}var reTrimStart=/^\s+/;function baseTrim(e){return e&&e.slice(0,trimmedEndIndex(e)+1).replace(reTrimStart,"")}function isObject$6(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$8(e){if(typeof e=="number")return e;if(isSymbol$4(e))return NAN;if(isObject$6(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=isObject$6(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=baseTrim(e);var l=reIsBinary.test(e);return l||reIsOctal.test(e)?freeParseInt(e.slice(2),l?2:8):reIsBadHex.test(e)?NAN:+e}var INFINITY$1=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(e){if(!e)return e===0?e:0;if(e=toNumber$8(e),e===INFINITY$1||e===-INFINITY$1){var r=e<0?-1:1;return r*MAX_INTEGER}return e===e?e:0}function toInteger$2(e){var r=toFinite(e),l=r%1;return r===r?l?r-l:r:0}function identity(e){return e}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$d(e){if(!isObject$6(e))return!1;var r=baseGetTag(e);return r==funcTag$2||r==genTag$1||r==asyncTag||r==proxyTag}var coreJsData=root$1["__core-js_shared__"],coreJsData$1=coreJsData,maskSrcKey=function(){var e=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(e){if(e!=null){try{return funcToString$1.call(e)}catch{}try{return e+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$d=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$b=objectProto$d.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$b).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){if(!isObject$6(e)||isMasked(e))return!1;var r=isFunction$d(e)?reIsNative:reIsHostCtor;return r.test(toSource(e))}function getValue(e,r){return e==null?void 0:e[r]}function getNative(e,r){var l=getValue(e,r);return baseIsNative(l)?l:void 0}var WeakMap$1=getNative(root$1,"WeakMap"),WeakMap$2=WeakMap$1,objectCreate=Object.create,baseCreate=function(){function e(){}return function(r){if(!isObject$6(r))return{};if(objectCreate)return objectCreate(r);e.prototype=r;var l=new e;return e.prototype=void 0,l}}(),baseCreate$1=baseCreate;function copyArray(e,r){var l=-1,g=e.length;for(r||(r=Array(g));++l<g;)r[l]=e[l];return r}var defineProperty=function(){try{var e=getNative(Object,"defineProperty");return e({},"",{}),e}catch{}}(),defineProperty$1=defineProperty;function arrayEach$f(e,r){for(var l=-1,g=e==null?0:e.length;++l<g&&r(e[l],l,e)!==!1;);return e}function baseFindIndex(e,r,l,g){for(var x=e.length,C=l+(g?1:-1);g?C--:++C<x;)if(r(e[C],C,e))return C;return-1}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(e,r){var l=typeof e;return r=r==null?MAX_SAFE_INTEGER$1:r,!!r&&(l=="number"||l!="symbol"&&reIsUint.test(e))&&e>-1&&e%1==0&&e<r}function baseAssignValue(e,r,l){r=="__proto__"&&defineProperty$1?defineProperty$1(e,r,{configurable:!0,enumerable:!0,value:l,writable:!0}):e[r]=l}function eq(e,r){return e===r||e!==e&&r!==r}var objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function assignValue(e,r,l){var g=e[r];(!(hasOwnProperty$a.call(e,r)&&eq(g,l))||l===void 0&&!(r in e))&&baseAssignValue(e,r,l)}function copyObject(e,r,l,g){var x=!l;l||(l={});for(var C=-1,u=r.length;++C<u;){var f=r[C],n=g?g(l[f],e[f],f,l,e):void 0;n===void 0&&(n=e[f]),x?baseAssignValue(l,f,n):assignValue(l,f,n)}return l}var MAX_SAFE_INTEGER=9007199254740991;function isLength(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=MAX_SAFE_INTEGER}function isArrayLike(e){return e!=null&&isLength(e.length)&&!isFunction$d(e)}function isIterateeCall(e,r,l){if(!isObject$6(l))return!1;var g=typeof r;return(g=="number"?isArrayLike(l)&&isIndex(r,l.length):g=="string"&&r in l)?eq(l[r],e):!1}var objectProto$b=Object.prototype;function isPrototype(e){var r=e&&e.constructor,l=typeof r=="function"&&r.prototype||objectProto$b;return e===l}function baseTimes(e,r){for(var l=-1,g=Array(e);++l<e;)g[l]=r(l);return g}var argsTag$3="[object Arguments]";function baseIsArguments(e){return isObjectLike(e)&&baseGetTag(e)==argsTag$3}var objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty,propertyIsEnumerable$1=objectProto$a.propertyIsEnumerable,isArguments$2=baseIsArguments(function(){return arguments}())?baseIsArguments:function(e){return isObjectLike(e)&&hasOwnProperty$9.call(e,"callee")&&!propertyIsEnumerable$1.call(e,"callee")},isArguments$3=isArguments$2;function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$1.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer$1=nativeIsBuffer||stubFalse,isBuffer$2=isBuffer$1,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$6="[object Map]",numberTag$3="[object Number]",objectTag$3="[object Object]",regexpTag$4="[object RegExp]",setTag$6="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$6]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$3]=typedArrayTags[regexpTag$4]=typedArrayTags[setTag$6]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(e){return isObjectLike(e)&&isLength(e.length)&&!!typedArrayTags[baseGetTag(e)]}function baseUnary(e){return function(r){return e(r)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$1.process,nodeUtil=function(){try{var e=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return e||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeUtil$1=nodeUtil,nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray$1=isTypedArray,objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function arrayLikeKeys(e,r){var l=isArray$y(e),g=!l&&isArguments$3(e),x=!l&&!g&&isBuffer$2(e),C=!l&&!g&&!x&&isTypedArray$1(e),u=l||g||x||C,f=u?baseTimes(e.length,String):[],n=f.length;for(var S in e)(r||hasOwnProperty$8.call(e,S))&&!(u&&(S=="length"||x&&(S=="offset"||S=="parent")||C&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||isIndex(S,n)))&&f.push(S);return f}function overArg(e,r){return function(l){return e(r(l))}}var nativeKeys=overArg(Object.keys,Object),nativeKeys$1=nativeKeys,objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function baseKeys(e){if(!isPrototype(e))return nativeKeys$1(e);var r=[];for(var l in Object(e))hasOwnProperty$7.call(e,l)&&l!="constructor"&&r.push(l);return r}function keys$b(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}function nativeKeysIn(e){var r=[];if(e!=null)for(var l in Object(e))r.push(l);return r}var objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function baseKeysIn(e){if(!isObject$6(e))return nativeKeysIn(e);var r=isPrototype(e),l=[];for(var g in e)g=="constructor"&&(r||!hasOwnProperty$6.call(e,g))||l.push(g);return l}function keysIn(e){return isArrayLike(e)?arrayLikeKeys(e,!0):baseKeysIn(e)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(e,r){if(isArray$y(e))return!1;var l=typeof e;return l=="number"||l=="symbol"||l=="boolean"||e==null||isSymbol$4(e)?!0:reIsPlainProp.test(e)||!reIsDeepProp.test(e)||r!=null&&e in Object(r)}var nativeCreate=getNative(Object,"create"),nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function hashGet(e){var r=this.__data__;if(nativeCreate$1){var l=r[e];return l===HASH_UNDEFINED$2?void 0:l}return hasOwnProperty$5.call(r,e)?r[e]:void 0}var objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function hashHas(e){var r=this.__data__;return nativeCreate$1?r[e]!==void 0:hasOwnProperty$4.call(r,e)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(e,r){var l=this.__data__;return this.size+=this.has(e)?0:1,l[e]=nativeCreate$1&&r===void 0?HASH_UNDEFINED$1:r,this}function Hash(e){var r=-1,l=e==null?0:e.length;for(this.clear();++r<l;){var g=e[r];this.set(g[0],g[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(e,r){for(var l=e.length;l--;)if(eq(e[l][0],r))return l;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(e){var r=this.__data__,l=assocIndexOf(r,e);if(l<0)return!1;var g=r.length-1;return l==g?r.pop():splice.call(r,l,1),--this.size,!0}function listCacheGet(e){var r=this.__data__,l=assocIndexOf(r,e);return l<0?void 0:r[l][1]}function listCacheHas(e){return assocIndexOf(this.__data__,e)>-1}function listCacheSet(e,r){var l=this.__data__,g=assocIndexOf(l,e);return g<0?(++this.size,l.push([e,r])):l[g][1]=r,this}function ListCache(e){var r=-1,l=e==null?0:e.length;for(this.clear();++r<l;){var g=e[r];this.set(g[0],g[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$1,"Map"),Map$2=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function getMapData(e,r){var l=e.__data__;return isKeyable(r)?l[typeof r=="string"?"string":"hash"]:l.map}function mapCacheDelete(e){var r=getMapData(this,e).delete(e);return this.size-=r?1:0,r}function mapCacheGet(e){return getMapData(this,e).get(e)}function mapCacheHas(e){return getMapData(this,e).has(e)}function mapCacheSet(e,r){var l=getMapData(this,e),g=l.size;return l.set(e,r),this.size+=l.size==g?0:1,this}function MapCache(e){var r=-1,l=e==null?0:e.length;for(this.clear();++r<l;){var g=e[r];this.set(g[0],g[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(FUNC_ERROR_TEXT);var l=function(){var g=arguments,x=r?r.apply(this,g):g[0],C=l.cache;if(C.has(x))return C.get(x);var u=e.apply(this,g);return l.cache=C.set(x,u)||C,u};return l.cache=new(memoize.Cache||MapCache),l}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(e){var r=memoize(e,function(g){return l.size===MAX_MEMOIZE_SIZE&&l.clear(),g}),l=r.cache;return r}var rePropName$1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar$1=/\\(\\)?/g,stringToPath$1=memoizeCapped(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(rePropName$1,function(l,g,x,C){r.push(x?C.replace(reEscapeChar$1,"$1"):g||l)}),r}),stringToPath$2=stringToPath$1;function toString$1(e){return e==null?"":baseToString(e)}function castPath(e,r){return isArray$y(e)?e:isKey(e,r)?[e]:stringToPath$2(toString$1(e))}var INFINITY=1/0;function toKey(e){if(typeof e=="string"||isSymbol$4(e))return e;var r=e+"";return r=="0"&&1/e==-INFINITY?"-0":r}function baseGet(e,r){r=castPath(r,e);for(var l=0,g=r.length;e!=null&&l<g;)e=e[toKey(r[l++])];return l&&l==g?e:void 0}function get$6(e,r,l){var g=e==null?void 0:baseGet(e,r);return g===void 0?l:g}function arrayPush(e,r){for(var l=-1,g=r.length,x=e.length;++l<g;)e[x+l]=r[l];return e}var getPrototype=overArg(Object.getPrototypeOf,Object),getPrototype$1=getPrototype;function baseSlice(e,r,l){var g=-1,x=e.length;r<0&&(r=-r>x?0:x+r),l=l>x?x:l,l<0&&(l+=x),x=r>l?0:l-r>>>0,r>>>=0;for(var C=Array(x);++g<x;)C[g]=e[g+r];return C}function castSlice(e,r,l){var g=e.length;return l=l===void 0?g:l,!r&&l>=g?e:baseSlice(e,r,l)}var rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsZWJ$1="\\u200d",reHasUnicode=RegExp("["+rsZWJ$1+rsAstralRange$1+rsComboRange$1+rsVarRange$1+"]");function hasUnicode(e){return reHasUnicode.test(e)}function asciiToArray(e){return e.split("")}var rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange+"]",rsCombo="["+rsComboRange+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange+"]?",rsOptJoin="(?:"+rsZWJ+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray(e){return e.match(reUnicode)||[]}function stringToArray(e){return hasUnicode(e)?unicodeToArray(e):asciiToArray(e)}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(e){var r=this.__data__,l=r.delete(e);return this.size=r.size,l}function stackGet(e){return this.__data__.get(e)}function stackHas(e){return this.__data__.has(e)}var LARGE_ARRAY_SIZE=200;function stackSet(e,r){var l=this.__data__;if(l instanceof ListCache){var g=l.__data__;if(!Map$2||g.length<LARGE_ARRAY_SIZE-1)return g.push([e,r]),this.size=++l.size,this;l=this.__data__=new MapCache(g)}return l.set(e,r),this.size=l.size,this}function Stack(e){var r=this.__data__=new ListCache(e);this.size=r.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function baseAssign(e,r){return e&&copyObject(r,keys$b(r),e)}function baseAssignIn(e,r){return e&&copyObject(r,keysIn(r),e)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root$1.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(e,r){if(r)return e.slice();var l=e.length,g=allocUnsafe?allocUnsafe(l):new e.constructor(l);return e.copy(g),g}function arrayFilter(e,r){for(var l=-1,g=e==null?0:e.length,x=0,C=[];++l<g;){var u=e[l];r(u,l,e)&&(C[x++]=u)}return C}function stubArray(){return[]}var objectProto$4=Object.prototype,propertyIsEnumerable=objectProto$4.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(e){return e==null?[]:(e=Object(e),arrayFilter(nativeGetSymbols$1(e),function(r){return propertyIsEnumerable.call(e,r)}))}:stubArray,getSymbols$1=getSymbols;function copySymbols(e,r){return copyObject(e,getSymbols$1(e),r)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(e){for(var r=[];e;)arrayPush(r,getSymbols$1(e)),e=getPrototype$1(e);return r}:stubArray,getSymbolsIn$1=getSymbolsIn;function copySymbolsIn(e,r){return copyObject(e,getSymbolsIn$1(e),r)}function baseGetAllKeys(e,r,l){var g=r(e);return isArray$y(e)?g:arrayPush(g,l(e))}function getAllKeys(e){return baseGetAllKeys(e,keys$b,getSymbols$1)}function getAllKeysIn(e){return baseGetAllKeys(e,keysIn,getSymbolsIn$1)}var DataView$1=getNative(root$1,"DataView"),DataView$2=DataView$1,Promise$1=getNative(root$1,"Promise"),Promise$2=Promise$1,Set$1=getNative(root$1,"Set"),Set$2=Set$1,mapTag$5="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$5="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$2),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$2),getTag=baseGetTag;(DataView$2&&getTag(new DataView$2(new ArrayBuffer(1)))!=dataViewTag$3||Map$2&&getTag(new Map$2)!=mapTag$5||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$2&&getTag(new Set$2)!=setTag$5||WeakMap$2&&getTag(new WeakMap$2)!=weakMapTag$1)&&(getTag=function(e){var r=baseGetTag(e),l=r==objectTag$2?e.constructor:void 0,g=l?toSource(l):"";if(g)switch(g){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$5;case promiseCtorString:return promiseTag;case setCtorString:return setTag$5;case weakMapCtorString:return weakMapTag$1}return r});var getTag$1=getTag,objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function initCloneArray(e){var r=e.length,l=new e.constructor(r);return r&&typeof e[0]=="string"&&hasOwnProperty$3.call(e,"index")&&(l.index=e.index,l.input=e.input),l}var Uint8Array$1=root$1.Uint8Array,Uint8Array$2=Uint8Array$1;function cloneArrayBuffer(e){var r=new e.constructor(e.byteLength);return new Uint8Array$2(r).set(new Uint8Array$2(e)),r}function cloneDataView(e,r){var l=r?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(l,e.byteOffset,e.byteLength)}var reFlags=/\w*$/;function cloneRegExp(e){var r=new e.constructor(e.source,reFlags.exec(e));return r.lastIndex=e.lastIndex,r}var symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(e){return symbolValueOf$1?Object(symbolValueOf$1.call(e)):{}}function cloneTypedArray(e,r){var l=r?cloneArrayBuffer(e.buffer):e.buffer;return new e.constructor(l,e.byteOffset,e.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$4="[object Map]",numberTag$2="[object Number]",regexpTag$3="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(e,r,l){var g=e.constructor;switch(r){case arrayBufferTag$2:return cloneArrayBuffer(e);case boolTag$2:case dateTag$2:return new g(+e);case dataViewTag$2:return cloneDataView(e,l);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(e,l);case mapTag$4:return new g;case numberTag$2:case stringTag$2:return new g(e);case regexpTag$3:return cloneRegExp(e);case setTag$4:return new g;case symbolTag$2:return cloneSymbol(e)}}function initCloneObject(e){return typeof e.constructor=="function"&&!isPrototype(e)?baseCreate$1(getPrototype$1(e)):{}}var mapTag$3="[object Map]";function baseIsMap(e){return isObjectLike(e)&&getTag$1(e)==mapTag$3}var nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap$3=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,isMap$4=isMap$3,setTag$3="[object Set]";function baseIsSet(e){return isObjectLike(e)&&getTag$1(e)==setTag$3}var nodeIsSet=nodeUtil$1&&nodeUtil$1.isSet,isSet$3=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet$4=isSet$3,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$1=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$2="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$2]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$2]=cloneableTags[setTag$2]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(e,r,l,g,x,C){var u,f=r&CLONE_DEEP_FLAG$1,n=r&CLONE_FLAT_FLAG,S=r&CLONE_SYMBOLS_FLAG$1;if(l&&(u=x?l(e,g,x,C):l(e)),u!==void 0)return u;if(!isObject$6(e))return e;var k=isArray$y(e);if(k){if(u=initCloneArray(e),!f)return copyArray(e,u)}else{var M=getTag$1(e),P=M==funcTag||M==genTag;if(isBuffer$2(e))return cloneBuffer(e,f);if(M==objectTag$1||M==argsTag$1||P&&!x){if(u=n||P?{}:initCloneObject(e),!f)return n?copySymbolsIn(e,baseAssignIn(u,e)):copySymbols(e,baseAssign(u,e))}else{if(!cloneableTags[M])return x?e:{};u=initCloneByTag(e,M,f)}}C||(C=new Stack);var $=C.get(e);if($)return $;C.set(e,u),isSet$4(e)?e.forEach(function(V){u.add(baseClone(V,r,l,V,e,C))}):isMap$4(e)&&e.forEach(function(V,j){u.set(j,baseClone(V,r,l,j,e,C))});var R=S?n?getAllKeysIn:getAllKeys:n?keysIn:keys$b,B=k?void 0:R(e);return arrayEach$f(B||e,function(V,j){B&&(j=V,V=e[j]),assignValue(u,j,baseClone(V,r,l,j,e,C))}),u}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(e){return baseClone(e,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(e){return this.__data__.set(e,HASH_UNDEFINED),this}function setCacheHas(e){return this.__data__.has(e)}function SetCache(e){var r=-1,l=e==null?0:e.length;for(this.__data__=new MapCache;++r<l;)this.add(e[r])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(e,r){for(var l=-1,g=e==null?0:e.length;++l<g;)if(r(e[l],l,e))return!0;return!1}function cacheHas(e,r){return e.has(r)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(e,r,l,g,x,C){var u=l&COMPARE_PARTIAL_FLAG$5,f=e.length,n=r.length;if(f!=n&&!(u&&n>f))return!1;var S=C.get(e),k=C.get(r);if(S&&k)return S==r&&k==e;var M=-1,P=!0,$=l&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(C.set(e,r),C.set(r,e);++M<f;){var R=e[M],B=r[M];if(g)var V=u?g(B,R,M,r,e,C):g(R,B,M,e,r,C);if(V!==void 0){if(V)continue;P=!1;break}if($){if(!arraySome(r,function(j,U){if(!cacheHas($,U)&&(R===j||x(R,j,l,g,C)))return $.push(U)})){P=!1;break}}else if(!(R===B||x(R,B,l,g,C))){P=!1;break}}return C.delete(e),C.delete(r),P}function mapToArray(e){var r=-1,l=Array(e.size);return e.forEach(function(g,x){l[++r]=[x,g]}),l}function setToArray(e){var r=-1,l=Array(e.size);return e.forEach(function(g){l[++r]=g}),l}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag$1="[object Map]",numberTag="[object Number]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(e,r,l,g,x,C,u){switch(l){case dataViewTag:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case arrayBufferTag:return!(e.byteLength!=r.byteLength||!C(new Uint8Array$2(e),new Uint8Array$2(r)));case boolTag:case dateTag:case numberTag:return eq(+e,+r);case errorTag:return e.name==r.name&&e.message==r.message;case regexpTag$1:case stringTag:return e==r+"";case mapTag$1:var f=mapToArray;case setTag$1:var n=g&COMPARE_PARTIAL_FLAG$4;if(f||(f=setToArray),e.size!=r.size&&!n)return!1;var S=u.get(e);if(S)return S==r;g|=COMPARE_UNORDERED_FLAG$2,u.set(e,r);var k=equalArrays(f(e),f(r),g,x,C,u);return u.delete(e),k;case symbolTag:if(symbolValueOf)return symbolValueOf.call(e)==symbolValueOf.call(r)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function equalObjects(e,r,l,g,x,C){var u=l&COMPARE_PARTIAL_FLAG$3,f=getAllKeys(e),n=f.length,S=getAllKeys(r),k=S.length;if(n!=k&&!u)return!1;for(var M=n;M--;){var P=f[M];if(!(u?P in r:hasOwnProperty$2.call(r,P)))return!1}var $=C.get(e),R=C.get(r);if($&&R)return $==r&&R==e;var B=!0;C.set(e,r),C.set(r,e);for(var V=u;++M<n;){P=f[M];var j=e[P],U=r[P];if(g)var q=u?g(U,j,P,r,e,C):g(j,U,P,e,r,C);if(!(q===void 0?j===U||x(j,U,l,g,C):q)){B=!1;break}V||(V=P=="constructor")}if(B&&!V){var Y=e.constructor,Q=r.constructor;Y!=Q&&"constructor"in e&&"constructor"in r&&!(typeof Y=="function"&&Y instanceof Y&&typeof Q=="function"&&Q instanceof Q)&&(B=!1)}return C.delete(e),C.delete(r),B}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function baseIsEqualDeep(e,r,l,g,x,C){var u=isArray$y(e),f=isArray$y(r),n=u?arrayTag:getTag$1(e),S=f?arrayTag:getTag$1(r);n=n==argsTag?objectTag:n,S=S==argsTag?objectTag:S;var k=n==objectTag,M=S==objectTag,P=n==S;if(P&&isBuffer$2(e)){if(!isBuffer$2(r))return!1;u=!0,k=!1}if(P&&!k)return C||(C=new Stack),u||isTypedArray$1(e)?equalArrays(e,r,l,g,x,C):equalByTag(e,r,n,l,g,x,C);if(!(l&COMPARE_PARTIAL_FLAG$2)){var $=k&&hasOwnProperty$1.call(e,"__wrapped__"),R=M&&hasOwnProperty$1.call(r,"__wrapped__");if($||R){var B=$?e.value():e,V=R?r.value():r;return C||(C=new Stack),x(B,V,l,g,C)}}return P?(C||(C=new Stack),equalObjects(e,r,l,g,x,C)):!1}function baseIsEqual(e,r,l,g,x){return e===r?!0:e==null||r==null||!isObjectLike(e)&&!isObjectLike(r)?e!==e&&r!==r:baseIsEqualDeep(e,r,l,g,baseIsEqual,x)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(e,r,l,g){var x=l.length,C=x,u=!g;if(e==null)return!C;for(e=Object(e);x--;){var f=l[x];if(u&&f[2]?f[1]!==e[f[0]]:!(f[0]in e))return!1}for(;++x<C;){f=l[x];var n=f[0],S=e[n],k=f[1];if(u&&f[2]){if(S===void 0&&!(n in e))return!1}else{var M=new Stack;if(g)var P=g(S,k,n,e,r,M);if(!(P===void 0?baseIsEqual(k,S,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,g,M):P))return!1}}return!0}function isStrictComparable(e){return e===e&&!isObject$6(e)}function getMatchData(e){for(var r=keys$b(e),l=r.length;l--;){var g=r[l],x=e[g];r[l]=[g,x,isStrictComparable(x)]}return r}function matchesStrictComparable(e,r){return function(l){return l==null?!1:l[e]===r&&(r!==void 0||e in Object(l))}}function baseMatches(e){var r=getMatchData(e);return r.length==1&&r[0][2]?matchesStrictComparable(r[0][0],r[0][1]):function(l){return l===e||baseIsMatch(l,e,r)}}function baseHasIn(e,r){return e!=null&&r in Object(e)}function hasPath(e,r,l){r=castPath(r,e);for(var g=-1,x=r.length,C=!1;++g<x;){var u=toKey(r[g]);if(!(C=e!=null&&l(e,u)))break;e=e[u]}return C||++g!=x?C:(x=e==null?0:e.length,!!x&&isLength(x)&&isIndex(u,x)&&(isArray$y(e)||isArguments$3(e)))}function hasIn(e,r){return e!=null&&hasPath(e,r,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(e,r){return isKey(e)&&isStrictComparable(r)?matchesStrictComparable(toKey(e),r):function(l){var g=get$6(l,e);return g===void 0&&g===r?hasIn(l,e):baseIsEqual(r,g,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(e){return function(r){return r==null?void 0:r[e]}}function basePropertyDeep(e){return function(r){return baseGet(r,e)}}function property$6(e){return isKey(e)?baseProperty(toKey(e)):basePropertyDeep(e)}function baseIteratee(e){return typeof e=="function"?e:e==null?identity:typeof e=="object"?isArray$y(e)?baseMatchesProperty(e[0],e[1]):baseMatches(e):property$6(e)}function createFind(e){return function(r,l,g){var x=Object(r);if(!isArrayLike(r)){var C=baseIteratee(l);r=keys$b(r),l=function(f){return C(x[f],f,x)}}var u=e(r,l,g);return u>-1?x[C?r[u]:u]:void 0}}var nativeMax=Math.max;function findIndex(e,r,l){var g=e==null?0:e.length;if(!g)return-1;var x=l==null?0:toInteger$2(l);return x<0&&(x=nativeMax(g+x,0)),baseFindIndex(e,baseIteratee(r),x)}var find$2=createFind(findIndex),find$3=find$2,mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function isEmpty$3(e){if(e==null)return!0;if(isArrayLike(e)&&(isArray$y(e)||typeof e=="string"||typeof e.splice=="function"||isBuffer$2(e)||isTypedArray$1(e)||isArguments$3(e)))return!e.length;var r=getTag$1(e);if(r==mapTag||r==setTag)return!e.size;if(isPrototype(e))return!baseKeys(e).length;for(var l in e)if(hasOwnProperty.call(e,l))return!1;return!0}function isEqual$3(e,r){return baseIsEqual(e,r)}var regexpTag="[object RegExp]";function baseIsRegExp(e){return isObjectLike(e)&&baseGetTag(e)==regexpTag}var nodeIsRegExp=nodeUtil$1&&nodeUtil$1.isRegExp,isRegExp$6=nodeIsRegExp?baseUnary(nodeIsRegExp):baseIsRegExp,isRegExp$7=isRegExp$6,MAX_ARRAY_LENGTH=4294967295;function split$1(e,r,l){return l&&typeof l!="number"&&isIterateeCall(e,r,l)&&(r=l=void 0),l=l===void 0?MAX_ARRAY_LENGTH:l>>>0,l?(e=toString$1(e),e&&(typeof r=="string"||r!=null&&!isRegExp$7(r))&&(r=baseToString(r),!r&&hasUnicode(e))?castSlice(stringToArray(e),0,l):e.split(r,l)):[]}const useMultiTagsStore=defineStore({id:"pure-multiTags",state:()=>({multiTags:storageLocal.getItem("responsive-configure").multiTagsCache?storageLocal.getItem("responsive-tags"):[{path:"/welcome",parentPath:"/",meta:{title:"\u9996\u9875",icon:"home-filled"}}],multiTagsCache:storageLocal.getItem("responsive-configure").multiTagsCache}),getters:{getMultiTagsCache(){return this.multiTagsCache}},actions:{multiTagsCacheChange(e){this.multiTagsCache=e,e?storageLocal.setItem("responsive-tags",this.multiTags):storageLocal.removeItem("responsive-tags")},tagsCache(e){this.getMultiTagsCache&&storageLocal.setItem("responsive-tags",e)},handleTags(e,r,l){var g,x;switch(e){case"equal":this.multiTags=r,this.tagsCache(this.multiTags);break;case"push":{const C=r,u=C==null?void 0:C.path,f=this.multiTags.some(k=>k.path===u),n=this.multiTags.some(k=>isEqual$3(k.query,C==null?void 0:C.query));if(f&&n)return;const S=(x=(g=C==null?void 0:C.meta)==null?void 0:g.dynamicLevel)!=null?x:-1;if(S>0&&this.multiTags.filter(k=>(k==null?void 0:k.path)===u).length>=S){const k=this.multiTags.findIndex(M=>(M==null?void 0:M.path)===u);k!==-1&&this.multiTags.splice(k,1)}this.multiTags.push(r),this.tagsCache(this.multiTags)}break;case"splice":return this.multiTags.splice(l==null?void 0:l.startIndex,l==null?void 0:l.length),this.tagsCache(this.multiTags),this.multiTags;case"slice":return this.multiTags.slice(-1)}}}});function useMultiTagsStoreHook(){return useMultiTagsStore(store)}const useSettingStore=defineStore({id:"pure-setting",state:()=>({title:getConfig().Title,fixedHeader:getConfig().FixedHeader,hiddenSideBar:getConfig().HiddenSideBar}),getters:{getTitle(){return this.title},getFixedHeader(){return this.fixedHeader},getHiddenSideBar(){return this.HiddenSideBar}},actions:{CHANGE_SETTING({key:e,value:r}){this.hasOwnProperty(e)&&(this[e]=r)},changeSetting(e){this.CHANGE_SETTING(e)}}});function useSettingStoreHook(){return useSettingStore(store)}const _hoisted_1$p={xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24"},_hoisted_2$l=createBaseVNode("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),_hoisted_3$h=createBaseVNode("path",{d:"M2.88 18.054a35.897 35.897 0 0 1 8.531-16.32.8.8 0 0 1 1.178 0c.166.18.304.332.413.455a35.897 35.897 0 0 1 8.118 15.865c-2.141.451-4.34.747-6.584.874l-2.089 4.178a.5.5 0 0 1-.894 0l-2.089-4.178a44.019 44.019 0 0 1-6.584-.874zm6.698-1.123 1.157.066L12 19.527l1.265-2.53 1.157-.066a42.137 42.137 0 0 0 4.227-.454A33.913 33.913 0 0 0 12 4.09a33.913 33.913 0 0 0-6.649 12.387c1.395.222 2.805.374 4.227.454zM12 15a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"},null,-1),_hoisted_4$9=[_hoisted_2$l,_hoisted_3$h];function render$c(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$p,_hoisted_4$9)}const _hoisted_1$o={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",width:"1em",height:"1em",class:"re-screen",color:"#00000073",viewBox:"0 0 16 16"},_hoisted_2$k=createBaseVNode("path",{d:"M3 12h10V4H3v8zm2-6h6v4H5V6zM2 6H1V2.5l.5-.5H5v1H2v3zm13-3.5V6h-1V3h-3V2h3.5l.5.5zM14 10h1v3.5l-.5.5H11v-1h3v-3zM2 13h3v1H1.5l-.5-.5V10h1v3z",fill:"currentColor"},null,-1),_hoisted_3$g=[_hoisted_2$k];function render$b(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$o,_hoisted_3$g)}const _hoisted_1$n={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",width:"1em",height:"1em",class:"re-screen",color:"#00000073",viewBox:"0 0 16 16"},_hoisted_2$j=createBaseVNode("path",{d:"M3.5 4H1V3h2V1h1v2.5l-.5.5zM13 3V1h-1v2.5l.5.5H15V3h-2zm-1 9.5V15h1v-2h2v-1h-2.5l-.5.5zM1 12v1h2v2h1v-2.5l-.5-.5H1zm11-1.5-.5.5h-7l-.5-.5v-5l.5-.5h7l.5.5v5zM10 7H6v2h4V7z",fill:"currentColor"},null,-1),_hoisted_3$f=[_hoisted_2$j];function render$a(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$n,_hoisted_3$f)}var noticeItem_vue_vue_type_style_index_0_lang="",noticeItem_vue_vue_type_style_index_1_scoped_true_lang="";const _hoisted_1$m={class:"notice-container"},_hoisted_2$i={class:"notice-container-text"},_hoisted_3$e={class:"notice-text-title"},_hoisted_4$8={class:"notice-text-datetime"},_sfc_main$g=defineComponent({props:{noticeItem:{type:Object,default:()=>{}}},setup(e){const r=e,l=ref(null),g=ref(null),x=ref(!1),C=ref(!1);function u(){nextTick(()=>{var n,S;((n=l.value)==null?void 0:n.scrollWidth)>((S=l.value)==null?void 0:S.clientWidth)?x.value=!0:x.value=!1})}function f(n,S){let k=document.createElement("span");k.innerText=S,k.className="getDescriptionWidth",document.querySelector("body").appendChild(k);let M=document.querySelector(".getDescriptionWidth").offsetWidth;document.querySelector(".getDescriptionWidth").remove();const P=n.target.offsetWidth;M>2*P?C.value=!0:C.value=!1}return(n,S)=>{var $,R;const k=resolveComponent("el-avatar"),M=resolveComponent("el-tooltip"),P=resolveComponent("el-tag");return openBlock(),createElementBlock("div",_hoisted_1$m,[r.noticeItem.avatar?(openBlock(),createBlock(k,{key:0,size:30,src:r.noticeItem.avatar,class:"notice-container-avatar"},null,8,["src"])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_2$i,[createBaseVNode("div",_hoisted_3$e,[createVNode(M,{"popper-class":"notice-title-popper",disabled:!x.value,content:r.noticeItem.title,placement:"top-start"},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"titleRef",ref:l,class:"notice-title-content",onMouseover:u},toDisplayString(r.noticeItem.title),545)]),_:1},8,["disabled","content"]),(($=r.noticeItem)==null?void 0:$.extra)?(openBlock(),createBlock(P,{key:0,type:(R=r.noticeItem)==null?void 0:R.status,size:"small",class:"notice-title-extra"},{default:withCtx(()=>{var B;return[createTextVNode(toDisplayString((B=r.noticeItem)==null?void 0:B.extra),1)]}),_:1},8,["type"])):createCommentVNode("",!0)]),createVNode(M,{"popper-class":"notice-title-popper",disabled:!C.value,content:r.noticeItem.description,placement:"top-start"},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"descriptionRef",ref:g,class:"notice-text-description",onMouseover:S[0]||(S[0]=B=>f(B,r.noticeItem.description))},toDisplayString(r.noticeItem.description),545)]),_:1},8,["disabled","content"]),createBaseVNode("div",_hoisted_4$8,toDisplayString(r.noticeItem.datetime),1)])])}}});var NoticeItem=_export_sfc(_sfc_main$g,[["__scopeId","data-v-033f8a2f"]]);const _hoisted_1$l={key:0},_sfc_main$f=defineComponent({props:{list:{type:Array,default:()=>[]}},setup(e){const r=e;return(l,g)=>{const x=resolveComponent("el-empty");return r.list.length?(openBlock(),createElementBlock("div",_hoisted_1$l,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.list,(C,u)=>(openBlock(),createBlock(NoticeItem,{noticeItem:C,key:u},null,8,["noticeItem"]))),128))])):(openBlock(),createBlock(x,{key:1,description:"\u6682\u65E0\u6570\u636E"}))}}}),noticesData=[{key:"1",name:"\u901A\u77E5",list:[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"\u4F60\u6536\u5230\u4E86 12 \u4EFD\u65B0\u5468\u62A5",datetime:"\u4E00\u5E74\u524D",description:"",type:"1"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"\u4F60\u63A8\u8350\u7684 \u524D\u7AEF\u9AD8\u624B \u5DF2\u901A\u8FC7\u7B2C\u4E09\u8F6E\u9762\u8BD5",datetime:"\u4E00\u5E74\u524D",description:"",type:"1"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/kISTdvpyTAhtGxpovNWd.png",title:"\u8FD9\u79CD\u6A21\u677F\u53EF\u4EE5\u533A\u5206\u591A\u79CD\u901A\u77E5\u7C7B\u578B",datetime:"\u4E00\u5E74\u524D",description:"",type:"1"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"\u5C55\u793A\u6807\u9898\u5185\u5BB9\u8D85\u8FC7\u4E00\u884C\u540E\u7684\u5904\u7406\u65B9\u5F0F\uFF0C\u5982\u679C\u5185\u5BB9\u8D85\u8FC71\u884C\u5C06\u81EA\u52A8\u622A\u65AD\u5E76\u652F\u6301tooltip\u663E\u793A\u5B8C\u6574\u6807\u9898\u3002",datetime:"\u4E00\u5E74\u524D",description:"",type:"1"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"\u5DE6\u4FA7\u56FE\u6807\u7528\u4E8E\u533A\u5206\u4E0D\u540C\u7684\u7C7B\u578B",datetime:"\u4E00\u5E74\u524D",description:"",type:"1"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"\u5DE6\u4FA7\u56FE\u6807\u7528\u4E8E\u533A\u5206\u4E0D\u540C\u7684\u7C7B\u578B",datetime:"\u4E00\u5E74\u524D",description:"",type:"1"}]},{key:"2",name:"\u6D88\u606F",list:[{avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"\u674E\u767D \u8BC4\u8BBA\u4E86\u4F60",description:"\u957F\u98CE\u7834\u6D6A\u4F1A\u6709\u65F6,\u76F4\u6302\u4E91\u5E06\u6D4E\u6CA7\u6D77",datetime:"\u4E00\u5E74\u524D",type:"2"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"\u674E\u767D \u56DE\u590D\u4E86\u4F60",description:"\u884C\u8DEF\u96BE\uFF0C\u884C\u8DEF\u96BE\uFF0C\u591A\u6B67\u8DEF\uFF0C\u4ECA\u5B89\u5728\u3002",datetime:"\u4E00\u5E74\u524D",type:"2"},{avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"\u6807\u9898",description:"\u8BF7\u5C06\u9F20\u6807\u79FB\u52A8\u5230\u6B64\u5904\uFF0C\u4EE5\u4FBF\u6D4B\u8BD5\u8D85\u957F\u7684\u6D88\u606F\u5728\u6B64\u5904\u5C06\u5982\u4F55\u5904\u7406\u3002\u672C\u4F8B\u4E2D\u8BBE\u7F6E\u7684\u63CF\u8FF0\u6700\u5927\u884C\u6570\u4E3A2\uFF0C\u8D85\u8FC72\u884C\u7684\u63CF\u8FF0\u5185\u5BB9\u5C06\u88AB\u7701\u7565\u5E76\u4E14\u53EF\u4EE5\u901A\u8FC7tooltip\u67E5\u770B\u5B8C\u6574\u5185\u5BB9",datetime:"\u4E00\u5E74\u524D",type:"2"}]},{key:"3",name:"\u4EE3\u529E",list:[{avatar:"",title:"\u4EFB\u52A1\u540D\u79F0",description:"\u4EFB\u52A1\u9700\u8981\u5728 2022-11-16 20:00 \u524D\u542F\u52A8",datetime:"",extra:"\u672A\u5F00\u59CB",status:"info",type:"3"},{avatar:"",title:"\u7B2C\u4E09\u65B9\u7D27\u6025\u4EE3\u7801\u53D8\u66F4",description:"\u4E00\u62F3\u63D0\u4EA4\u4E8E 2022-11-16\uFF0C\u9700\u5728 2022-11-18 \u524D\u5B8C\u6210\u4EE3\u7801\u53D8\u66F4\u4EFB\u52A1",datetime:"",extra:"\u9A6C\u4E0A\u5230\u671F",status:"danger",type:"3"},{avatar:"",title:"\u4FE1\u606F\u5B89\u5168\u8003\u8BD5",description:"\u6307\u6D3E\u5C0F\u4ED9\u4E8E 2022-12-12 \u524D\u5B8C\u6210\u66F4\u65B0\u5E76\u53D1\u5E03",datetime:"",extra:"\u5DF2\u8017\u65F6 8 \u5929",status:"warning",type:"3"},{avatar:"",title:"vue-pure-admin \u7248\u672C\u53D1\u5E03",description:"vue-pure-admin \u7248\u672C\u53D1\u5E03",datetime:"",extra:"\u8FDB\u884C\u4E2D",type:"3"}]}];var index_vue_vue_type_style_index_0_scoped_true_lang$3="";const _hoisted_1$k={class:"dropdown-badge"},_hoisted_2$h={class:"noticeList-container"},_sfc_main$e=defineComponent({setup(e){const r=ref(noticesData[0].name),l=ref(noticesData);let g=ref(0);return l.value.forEach(x=>{g.value+=x.list.length}),(x,C)=>{const u=resolveComponent("IconifyIconOffline"),f=resolveComponent("el-icon"),n=resolveComponent("el-badge"),S=resolveComponent("el-scrollbar"),k=resolveComponent("el-tab-pane"),M=resolveComponent("el-tabs"),P=resolveComponent("el-dropdown-menu"),$=resolveComponent("el-dropdown");return openBlock(),createBlock($,{trigger:"click",placement:"bottom-end"},{dropdown:withCtx(()=>[createVNode(P,null,{default:withCtx(()=>[createVNode(M,{modelValue:r.value,"onUpdate:modelValue":C[0]||(C[0]=R=>r.value=R),class:"dropdown-tabs"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,R=>(openBlock(),createBlock(k,{key:R.key,label:`${R.name}(${R.list.length})`,name:R.name},{default:withCtx(()=>[createVNode(S,{"max-height":"330px"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_2$h,[createVNode(_sfc_main$f,{list:R.list},null,8,["list"])])]),_:2},1024)]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1})]),default:withCtx(()=>[createBaseVNode("span",_hoisted_1$k,[createVNode(n,{value:unref(g),max:99},{default:withCtx(()=>[createVNode(f,{class:"header-notice-icon"},{default:withCtx(()=>[createVNode(u,{icon:"bell"})]),_:1})]),_:1},8,["value"])])]),_:1})}}});var Notice=_export_sfc(_sfc_main$e,[["__scopeId","data-v-4768dd2b"]]),avatars="/vue-pure/assets/avatars.596f7aa0.jpg";const useEpThemeStore=defineStore({id:"pure-epTheme",state:()=>{var e,r;return{epThemeColor:(r=(e=storageLocal.getItem("responsive-layout"))==null?void 0:e.epThemeColor)!=null?r:getConfig().EpThemeColor}},getters:{getEpThemeColor(){return this.epThemeColor}},actions:{setEpThemeColor(e){const r=storageLocal.getItem("responsive-layout");this.epThemeColor=e,r.epThemeColor=e,storageLocal.setItem("responsive-layout",r)}}});function useEpThemeStoreHook(){return useEpThemeStore(store)}const container="_container_1xx95_3";var style0$1={container},hamBurger_vue_vue_type_style_index_1_scoped_true_lang="";const _withScopeId$2=e=>(pushScopeId("data-v-0bdb3233"),e=e(),popScopeId(),e),_hoisted_1$j=["title"],_hoisted_2$g=["fill"],_hoisted_3$d=_withScopeId$2(()=>createBaseVNode("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"},null,-1)),_hoisted_4$7=[_hoisted_3$d],_sfc_main$d=defineComponent({props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(e,{emit:r}){const l=e,g=ref(""),x=()=>{r("toggleClick")};return(C,u)=>(openBlock(),createElementBlock("div",{class:normalizeClass(C.classes.container),title:l.isActive?"\u70B9\u51FB\u6298\u53E0":"\u70B9\u51FB\u5C55\u5F00",onClick:x,onMouseenter:u[0]||(u[0]=f=>g.value=unref(useEpThemeStoreHook)().epThemeColor),onMouseleave:u[1]||(u[1]=f=>g.value="")},[(openBlock(),createElementBlock("svg",{fill:g.value,class:normalizeClass(["hamburger",l.isActive?"is-active":""]),viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"},_hoisted_4$7,10,_hoisted_2$g))],42,_hoisted_1$j))}}),cssModules$1={classes:style0$1};var Hamburger=_export_sfc(_sfc_main$d,[["__cssModules",cssModules$1],["__scopeId","data-v-0bdb3233"]]);/*!
  * vue-router v4.0.12
  * (c) 2021 Eduardo San Martin Morote
  * @license MIT
  */const hasSymbol=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",PolySymbol=e=>hasSymbol?Symbol(e):"_vr_"+e,matchedRouteKey=PolySymbol("rvlm"),viewDepthKey=PolySymbol("rvd"),routerKey=PolySymbol("r"),routeLocationKey=PolySymbol("rl"),routerViewLocationKey=PolySymbol("rvl"),isBrowser$1=typeof window!="undefined";function isESModule(e){return e.__esModule||hasSymbol&&e[Symbol.toStringTag]==="Module"}const assign$e=Object.assign;function applyToParams(e,r){const l={};for(const g in r){const x=r[g];l[g]=Array.isArray(x)?x.map(e):e(x)}return l}const noop$3=()=>{},TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=e=>e.replace(TRAILING_SLASH_RE,"");function parseURL(e,r,l="/"){let g,x={},C="",u="";const f=r.indexOf("?"),n=r.indexOf("#",f>-1?f:0);return f>-1&&(g=r.slice(0,f),C=r.slice(f+1,n>-1?n:r.length),x=e(C)),n>-1&&(g=g||r.slice(0,n),u=r.slice(n,r.length)),g=resolveRelativePath(g!=null?g:r,l),{fullPath:g+(C&&"?")+C+u,path:g,query:x,hash:u}}function stringifyURL(e,r){const l=r.query?e(r.query):"";return r.path+(l&&"?")+l+(r.hash||"")}function stripBase(e,r){return!r||!e.toLowerCase().startsWith(r.toLowerCase())?e:e.slice(r.length)||"/"}function isSameRouteLocation(e,r,l){const g=r.matched.length-1,x=l.matched.length-1;return g>-1&&g===x&&isSameRouteRecord(r.matched[g],l.matched[x])&&isSameRouteLocationParams(r.params,l.params)&&e(r.query)===e(l.query)&&r.hash===l.hash}function isSameRouteRecord(e,r){return(e.aliasOf||e)===(r.aliasOf||r)}function isSameRouteLocationParams(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const l in e)if(!isSameRouteLocationParamsValue(e[l],r[l]))return!1;return!0}function isSameRouteLocationParamsValue(e,r){return Array.isArray(e)?isEquivalentArray(e,r):Array.isArray(r)?isEquivalentArray(r,e):e===r}function isEquivalentArray(e,r){return Array.isArray(r)?e.length===r.length&&e.every((l,g)=>l===r[g]):e.length===1&&e[0]===r}function resolveRelativePath(e,r){if(e.startsWith("/"))return e;if(!e)return r;const l=r.split("/"),g=e.split("/");let x=l.length-1,C,u;for(C=0;C<g.length;C++)if(u=g[C],!(x===1||u==="."))if(u==="..")x--;else break;return l.slice(0,x).join("/")+"/"+g.slice(C-(C===g.length?1:0)).join("/")}var NavigationType;(function(e){e.pop="pop",e.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(e){e.back="back",e.forward="forward",e.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(e){if(!e)if(isBrowser$1){const r=document.querySelector("base");e=r&&r.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),removeTrailingSlash(e)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(e,r){return e.replace(BEFORE_HASH_RE,"#")+r}function getElementPosition(e,r){const l=document.documentElement.getBoundingClientRect(),g=e.getBoundingClientRect();return{behavior:r.behavior,left:g.left-l.left-(r.left||0),top:g.top-l.top-(r.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(e){let r;if("el"in e){const l=e.el,g=typeof l=="string"&&l.startsWith("#"),x=typeof l=="string"?g?document.getElementById(l.slice(1)):document.querySelector(l):l;if(!x)return;r=getElementPosition(x,e)}else r=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(r):window.scrollTo(r.left!=null?r.left:window.pageXOffset,r.top!=null?r.top:window.pageYOffset)}function getScrollKey(e,r){return(history.state?history.state.position-r:-1)+e}const scrollPositions=new Map;function saveScrollPosition(e,r){scrollPositions.set(e,r)}function getSavedScrollPosition(e){const r=scrollPositions.get(e);return scrollPositions.delete(e),r}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(e,r){const{pathname:l,search:g,hash:x}=r,C=e.indexOf("#");if(C>-1){let f=x.includes(e.slice(C))?e.slice(C).length:1,n=x.slice(f);return n[0]!=="/"&&(n="/"+n),stripBase(n,"")}return stripBase(l,e)+g+x}function useHistoryListeners(e,r,l,g){let x=[],C=[],u=null;const f=({state:P})=>{const $=createCurrentLocation(e,location),R=l.value,B=r.value;let V=0;if(P){if(l.value=$,r.value=P,u&&u===R){u=null;return}V=B?P.position-B.position:0}else g($);x.forEach(j=>{j(l.value,R,{delta:V,type:NavigationType.pop,direction:V?V>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function n(){u=l.value}function S(P){x.push(P);const $=()=>{const R=x.indexOf(P);R>-1&&x.splice(R,1)};return C.push($),$}function k(){const{history:P}=window;!P.state||P.replaceState(assign$e({},P.state,{scroll:computeScrollPosition()}),"")}function M(){for(const P of C)P();C=[],window.removeEventListener("popstate",f),window.removeEventListener("beforeunload",k)}return window.addEventListener("popstate",f),window.addEventListener("beforeunload",k),{pauseListeners:n,listen:S,destroy:M}}function buildState(e,r,l,g=!1,x=!1){return{back:e,current:r,forward:l,replaced:g,position:window.history.length,scroll:x?computeScrollPosition():null}}function useHistoryStateNavigation(e){const{history:r,location:l}=window,g={value:createCurrentLocation(e,l)},x={value:r.state};x.value||C(g.value,{back:null,current:g.value,forward:null,position:r.length-1,replaced:!0,scroll:null},!0);function C(n,S,k){const M=e.indexOf("#"),P=M>-1?(l.host&&document.querySelector("base")?e:e.slice(M))+n:createBaseLocation()+e+n;try{r[k?"replaceState":"pushState"](S,"",P),x.value=S}catch($){console.error($),l[k?"replace":"assign"](P)}}function u(n,S){const k=assign$e({},r.state,buildState(x.value.back,n,x.value.forward,!0),S,{position:x.value.position});C(n,k,!0),g.value=n}function f(n,S){const k=assign$e({},x.value,r.state,{forward:n,scroll:computeScrollPosition()});C(k.current,k,!0);const M=assign$e({},buildState(g.value,n,null),{position:k.position+1},S);C(n,M,!1),g.value=n}return{location:g,state:x,push:f,replace:u}}function createWebHistory(e){e=normalizeBase(e);const r=useHistoryStateNavigation(e),l=useHistoryListeners(e,r.state,r.location,r.replace);function g(C,u=!0){u||l.pauseListeners(),history.go(C)}const x=assign$e({location:"",base:e,go:g,createHref:createHref.bind(null,e)},r,l);return Object.defineProperty(x,"location",{enumerable:!0,get:()=>r.location.value}),Object.defineProperty(x,"state",{enumerable:!0,get:()=>r.state.value}),x}function createWebHashHistory(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),createWebHistory(e)}function isRouteLocation(e){return typeof e=="string"||e&&typeof e=="object"}function isRouteName(e){return typeof e=="string"||typeof e=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=PolySymbol("nf");var NavigationFailureType;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(e,r){return assign$e(new Error,{type:e,[NavigationFailureSymbol]:!0},r)}function isNavigationFailure(e,r){return e instanceof Error&&NavigationFailureSymbol in e&&(r==null||!!(e.type&r))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(e,r){const l=assign$e({},BASE_PATH_PARSER_OPTIONS,r),g=[];let x=l.start?"^":"";const C=[];for(const S of e){const k=S.length?[]:[90];l.strict&&!S.length&&(x+="/");for(let M=0;M<S.length;M++){const P=S[M];let $=40+(l.sensitive?.25:0);if(P.type===0)M||(x+="/"),x+=P.value.replace(REGEX_CHARS_RE,"\\$&"),$+=40;else if(P.type===1){const{value:R,repeatable:B,optional:V,regexp:j}=P;C.push({name:R,repeatable:B,optional:V});const U=j||BASE_PARAM_PATTERN;if(U!==BASE_PARAM_PATTERN){$+=10;try{new RegExp(`(${U})`)}catch(Y){throw new Error(`Invalid custom RegExp for param "${R}" (${U}): `+Y.message)}}let q=B?`((?:${U})(?:/(?:${U}))*)`:`(${U})`;M||(q=V&&S.length<2?`(?:/${q})`:"/"+q),V&&(q+="?"),x+=q,$+=20,V&&($+=-8),B&&($+=-20),U===".*"&&($+=-50)}k.push($)}g.push(k)}if(l.strict&&l.end){const S=g.length-1;g[S][g[S].length-1]+=.7000000000000001}l.strict||(x+="/?"),l.end?x+="$":l.strict&&(x+="(?:/|$)");const u=new RegExp(x,l.sensitive?"":"i");function f(S){const k=S.match(u),M={};if(!k)return null;for(let P=1;P<k.length;P++){const $=k[P]||"",R=C[P-1];M[R.name]=$&&R.repeatable?$.split("/"):$}return M}function n(S){let k="",M=!1;for(const P of e){(!M||!k.endsWith("/"))&&(k+="/"),M=!1;for(const $ of P)if($.type===0)k+=$.value;else if($.type===1){const{value:R,repeatable:B,optional:V}=$,j=R in S?S[R]:"";if(Array.isArray(j)&&!B)throw new Error(`Provided param "${R}" is an array but it is not repeatable (* or + modifiers)`);const U=Array.isArray(j)?j.join("/"):j;if(!U)if(V)P.length<2&&(k.endsWith("/")?k=k.slice(0,-1):M=!0);else throw new Error(`Missing required param "${R}"`);k+=U}}return k}return{re:u,score:g,keys:C,parse:f,stringify:n}}function compareScoreArray(e,r){let l=0;for(;l<e.length&&l<r.length;){const g=r[l]-e[l];if(g)return g;l++}return e.length<r.length?e.length===1&&e[0]===40+40?-1:1:e.length>r.length?r.length===1&&r[0]===40+40?1:-1:0}function comparePathParserScore(e,r){let l=0;const g=e.score,x=r.score;for(;l<g.length&&l<x.length;){const C=compareScoreArray(g[l],x[l]);if(C)return C;l++}return x.length-g.length}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if(e==="/")return[[ROOT_TOKEN]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function r($){throw new Error(`ERR (${l})/"${S}": ${$}`)}let l=0,g=l;const x=[];let C;function u(){C&&x.push(C),C=[]}let f=0,n,S="",k="";function M(){!S||(l===0?C.push({type:0,value:S}):l===1||l===2||l===3?(C.length>1&&(n==="*"||n==="+")&&r(`A repeatable param (${S}) must be alone in its segment. eg: '/:ids+.`),C.push({type:1,value:S,regexp:k,repeatable:n==="*"||n==="+",optional:n==="*"||n==="?"})):r("Invalid state to consume buffer"),S="")}function P(){S+=n}for(;f<e.length;){if(n=e[f++],n==="\\"&&l!==2){g=l,l=4;continue}switch(l){case 0:n==="/"?(S&&M(),u()):n===":"?(M(),l=1):P();break;case 4:P(),l=g;break;case 1:n==="("?l=2:VALID_PARAM_RE.test(n)?P():(M(),l=0,n!=="*"&&n!=="?"&&n!=="+"&&f--);break;case 2:n===")"?k[k.length-1]=="\\"?k=k.slice(0,-1)+n:l=3:k+=n;break;case 3:M(),l=0,n!=="*"&&n!=="?"&&n!=="+"&&f--,k="";break;default:r("Unknown state");break}}return l===2&&r(`Unfinished custom RegExp for param "${S}"`),M(),u(),x}function createRouteRecordMatcher(e,r,l){const g=tokensToParser(tokenizePath(e.path),l),x=assign$e(g,{record:e,parent:r,children:[],alias:[]});return r&&!x.record.aliasOf==!r.record.aliasOf&&r.children.push(x),x}function createRouterMatcher(e,r){const l=[],g=new Map;r=mergeOptions({strict:!1,end:!0,sensitive:!1},r);function x(k){return g.get(k)}function C(k,M,P){const $=!P,R=normalizeRouteRecord(k);R.aliasOf=P&&P.record;const B=mergeOptions(r,k),V=[R];if("alias"in k){const q=typeof k.alias=="string"?[k.alias]:k.alias;for(const Y of q)V.push(assign$e({},R,{components:P?P.record.components:R.components,path:Y,aliasOf:P?P.record:R}))}let j,U;for(const q of V){const{path:Y}=q;if(M&&Y[0]!=="/"){const Q=M.record.path,te=Q[Q.length-1]==="/"?"":"/";q.path=M.record.path+(Y&&te+Y)}if(j=createRouteRecordMatcher(q,M,B),P?P.alias.push(j):(U=U||j,U!==j&&U.alias.push(j),$&&k.name&&!isAliasRecord(j)&&u(k.name)),"children"in R){const Q=R.children;for(let te=0;te<Q.length;te++)C(Q[te],j,P&&P.children[te])}P=P||j,n(j)}return U?()=>{u(U)}:noop$3}function u(k){if(isRouteName(k)){const M=g.get(k);M&&(g.delete(k),l.splice(l.indexOf(M),1),M.children.forEach(u),M.alias.forEach(u))}else{const M=l.indexOf(k);M>-1&&(l.splice(M,1),k.record.name&&g.delete(k.record.name),k.children.forEach(u),k.alias.forEach(u))}}function f(){return l}function n(k){let M=0;for(;M<l.length&&comparePathParserScore(k,l[M])>=0;)M++;l.splice(M,0,k),k.record.name&&!isAliasRecord(k)&&g.set(k.record.name,k)}function S(k,M){let P,$={},R,B;if("name"in k&&k.name){if(P=g.get(k.name),!P)throw createRouterError(1,{location:k});B=P.record.name,$=assign$e(paramsFromLocation(M.params,P.keys.filter(U=>!U.optional).map(U=>U.name)),k.params),R=P.stringify($)}else if("path"in k)R=k.path,P=l.find(U=>U.re.test(R)),P&&($=P.parse(R),B=P.record.name);else{if(P=M.name?g.get(M.name):l.find(U=>U.re.test(M.path)),!P)throw createRouterError(1,{location:k,currentLocation:M});B=P.record.name,$=assign$e({},M.params,k.params),R=P.stringify($)}const V=[];let j=P;for(;j;)V.unshift(j.record),j=j.parent;return{name:B,path:R,params:$,matched:V,meta:mergeMetaFields(V)}}return e.forEach(k=>C(k)),{addRoute:C,resolve:S,removeRoute:u,getRoutes:f,getRecordMatcher:x}}function paramsFromLocation(e,r){const l={};for(const g of r)g in e&&(l[g]=e[g]);return l}function normalizeRouteRecord(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:normalizeRecordProps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function normalizeRecordProps(e){const r={},l=e.props||!1;if("component"in e)r.default=l;else for(const g in e.components)r[g]=typeof l=="boolean"?l:l[g];return r}function isAliasRecord(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mergeMetaFields(e){return e.reduce((r,l)=>assign$e(r,l.meta),{})}function mergeOptions(e,r){const l={};for(const g in e)l[g]=g in r?r[g]:e[g];return l}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(e){return encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(e){return commonEncode(e).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(e){return commonEncode(e).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(e){return encodeQueryValue(e).replace(EQUAL_RE,"%3D")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return e==null?"":encodePath(e).replace(SLASH_RE,"%2F")}function decode$1(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function parseQuery(e){const r={};if(e===""||e==="?")return r;const g=(e[0]==="?"?e.slice(1):e).split("&");for(let x=0;x<g.length;++x){const C=g[x].replace(PLUS_RE," "),u=C.indexOf("="),f=decode$1(u<0?C:C.slice(0,u)),n=u<0?null:decode$1(C.slice(u+1));if(f in r){let S=r[f];Array.isArray(S)||(S=r[f]=[S]),S.push(n)}else r[f]=n}return r}function stringifyQuery(e){let r="";for(let l in e){const g=e[l];if(l=encodeQueryKey(l),g==null){g!==void 0&&(r+=(r.length?"&":"")+l);continue}(Array.isArray(g)?g.map(C=>C&&encodeQueryValue(C)):[g&&encodeQueryValue(g)]).forEach(C=>{C!==void 0&&(r+=(r.length?"&":"")+l,C!=null&&(r+="="+C))})}return r}function normalizeQuery(e){const r={};for(const l in e){const g=e[l];g!==void 0&&(r[l]=Array.isArray(g)?g.map(x=>x==null?null:""+x):g==null?g:""+g)}return r}function useCallbacks(){let e=[];function r(g){return e.push(g),()=>{const x=e.indexOf(g);x>-1&&e.splice(x,1)}}function l(){e=[]}return{add:r,list:()=>e,reset:l}}function guardToPromiseFn(e,r,l,g,x){const C=g&&(g.enterCallbacks[x]=g.enterCallbacks[x]||[]);return()=>new Promise((u,f)=>{const n=M=>{M===!1?f(createRouterError(4,{from:l,to:r})):M instanceof Error?f(M):isRouteLocation(M)?f(createRouterError(2,{from:r,to:M})):(C&&g.enterCallbacks[x]===C&&typeof M=="function"&&C.push(M),u())},S=e.call(g&&g.instances[x],r,l,n);let k=Promise.resolve(S);e.length<3&&(k=k.then(n)),k.catch(M=>f(M))})}function extractComponentsGuards(e,r,l,g){const x=[];for(const C of e)for(const u in C.components){let f=C.components[u];if(!(r!=="beforeRouteEnter"&&!C.instances[u]))if(isRouteComponent(f)){const S=(f.__vccOpts||f)[r];S&&x.push(guardToPromiseFn(S,l,g,C,u))}else{let n=f();x.push(()=>n.then(S=>{if(!S)return Promise.reject(new Error(`Couldn't resolve component "${u}" at "${C.path}"`));const k=isESModule(S)?S.default:S;C.components[u]=k;const P=(k.__vccOpts||k)[r];return P&&guardToPromiseFn(P,l,g,C,u)()}))}}return x}function isRouteComponent(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function useLink(e){const r=inject(routerKey),l=inject(routeLocationKey),g=computed(()=>r.resolve(unref(e.to))),x=computed(()=>{const{matched:n}=g.value,{length:S}=n,k=n[S-1],M=l.matched;if(!k||!M.length)return-1;const P=M.findIndex(isSameRouteRecord.bind(null,k));if(P>-1)return P;const $=getOriginalPath(n[S-2]);return S>1&&getOriginalPath(k)===$&&M[M.length-1].path!==$?M.findIndex(isSameRouteRecord.bind(null,n[S-2])):P}),C=computed(()=>x.value>-1&&includesParams(l.params,g.value.params)),u=computed(()=>x.value>-1&&x.value===l.matched.length-1&&isSameRouteLocationParams(l.params,g.value.params));function f(n={}){return guardEvent(n)?r[unref(e.replace)?"replace":"push"](unref(e.to)).catch(noop$3):Promise.resolve()}return{route:g,href:computed(()=>g.value.href),isActive:C,isExactActive:u,navigate:f}}const RouterLinkImpl=defineComponent({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(e,{slots:r}){const l=reactive(useLink(e)),{options:g}=inject(routerKey),x=computed(()=>({[getLinkClass(e.activeClass,g.linkActiveClass,"router-link-active")]:l.isActive,[getLinkClass(e.exactActiveClass,g.linkExactActiveClass,"router-link-exact-active")]:l.isExactActive}));return()=>{const C=r.default&&r.default(l);return e.custom?C:h$1("a",{"aria-current":l.isExactActive?e.ariaCurrentValue:null,href:l.href,onClick:l.navigate,class:x.value},C)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const r=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(r))return}return e.preventDefault&&e.preventDefault(),!0}}function includesParams(e,r){for(const l in r){const g=r[l],x=e[l];if(typeof g=="string"){if(g!==x)return!1}else if(!Array.isArray(x)||x.length!==g.length||g.some((C,u)=>C!==x[u]))return!1}return!0}function getOriginalPath(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const getLinkClass=(e,r,l)=>e!=null?e:r!=null?r:l,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup(e,{attrs:r,slots:l}){const g=inject(routerViewLocationKey),x=computed(()=>e.route||g.value),C=inject(viewDepthKey,0),u=computed(()=>x.value.matched[C]);provide(viewDepthKey,C+1),provide(matchedRouteKey,u),provide(routerViewLocationKey,x);const f=ref();return watch(()=>[f.value,u.value,e.name],([n,S,k],[M,P,$])=>{S&&(S.instances[k]=n,P&&P!==S&&n&&n===M&&(S.leaveGuards.size||(S.leaveGuards=P.leaveGuards),S.updateGuards.size||(S.updateGuards=P.updateGuards))),n&&S&&(!P||!isSameRouteRecord(S,P)||!M)&&(S.enterCallbacks[k]||[]).forEach(R=>R(n))},{flush:"post"}),()=>{const n=x.value,S=u.value,k=S&&S.components[e.name],M=e.name;if(!k)return normalizeSlot(l.default,{Component:k,route:n});const P=S.props[e.name],$=P?P===!0?n.params:typeof P=="function"?P(n):P:null,B=h$1(k,assign$e({},$,r,{onVnodeUnmounted:V=>{V.component.isUnmounted&&(S.instances[M]=null)},ref:f}));return normalizeSlot(l.default,{Component:B,route:n})||B}}});function normalizeSlot(e,r){if(!e)return null;const l=e(r);return l.length===1?l[0]:l}const RouterView=RouterViewImpl;function createRouter(e){const r=createRouterMatcher(e.routes,e),l=e.parseQuery||parseQuery,g=e.stringifyQuery||stringifyQuery,x=e.history,C=useCallbacks(),u=useCallbacks(),f=useCallbacks(),n=shallowRef(START_LOCATION_NORMALIZED);let S=START_LOCATION_NORMALIZED;isBrowser$1&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const k=applyToParams.bind(null,je=>""+je),M=applyToParams.bind(null,encodeParam),P=applyToParams.bind(null,decode$1);function $(je,tt){let We,Gt;return isRouteName(je)?(We=r.getRecordMatcher(je),Gt=tt):Gt=je,r.addRoute(Gt,We)}function R(je){const tt=r.getRecordMatcher(je);tt&&r.removeRoute(tt)}function B(){return r.getRoutes().map(je=>je.record)}function V(je){return!!r.getRecordMatcher(je)}function j(je,tt){if(tt=assign$e({},tt||n.value),typeof je=="string"){const Jt=parseURL(l,je,tt.path),ut=r.resolve({path:Jt.path},tt),Ht=x.createHref(Jt.fullPath);return assign$e(Jt,ut,{params:P(ut.params),hash:decode$1(Jt.hash),redirectedFrom:void 0,href:Ht})}let We;if("path"in je)We=assign$e({},je,{path:parseURL(l,je.path,tt.path).path});else{const Jt=assign$e({},je.params);for(const ut in Jt)Jt[ut]==null&&delete Jt[ut];We=assign$e({},je,{params:M(je.params)}),tt.params=M(tt.params)}const Gt=r.resolve(We,tt),gt=je.hash||"";Gt.params=k(P(Gt.params));const Mt=stringifyURL(g,assign$e({},je,{hash:encodeHash(gt),path:Gt.path})),Rt=x.createHref(Mt);return assign$e({fullPath:Mt,hash:gt,query:g===stringifyQuery?normalizeQuery(je.query):je.query||{}},Gt,{redirectedFrom:void 0,href:Rt})}function U(je){return typeof je=="string"?parseURL(l,je,n.value.path):assign$e({},je)}function q(je,tt){if(S!==je)return createRouterError(8,{from:tt,to:je})}function Y(je){return re(je)}function Q(je){return Y(assign$e(U(je),{replace:!0}))}function te(je){const tt=je.matched[je.matched.length-1];if(tt&&tt.redirect){const{redirect:We}=tt;let Gt=typeof We=="function"?We(je):We;return typeof Gt=="string"&&(Gt=Gt.includes("?")||Gt.includes("#")?Gt=U(Gt):{path:Gt},Gt.params={}),assign$e({query:je.query,hash:je.hash,params:je.params},Gt)}}function re(je,tt){const We=S=j(je),Gt=n.value,gt=je.state,Mt=je.force,Rt=je.replace===!0,Jt=te(We);if(Jt)return re(assign$e(U(Jt),{state:gt,force:Mt,replace:Rt}),tt||We);const ut=We;ut.redirectedFrom=tt;let Ht;return!Mt&&isSameRouteLocation(g,Gt,We)&&(Ht=createRouterError(16,{to:ut,from:Gt}),bt(Gt,Gt,!0,!1)),(Ht?Promise.resolve(Ht):se(ut,Gt)).catch(cr=>isNavigationFailure(cr)?cr:He(cr,ut,Gt)).then(cr=>{if(cr){if(isNavigationFailure(cr,2))return re(assign$e(U(cr.to),{state:gt,force:Mt,replace:Rt}),tt||ut)}else cr=ge(ut,Gt,!0,Rt,gt);return fe(ut,Gt,cr),cr})}function oe(je,tt){const We=q(je,tt);return We?Promise.reject(We):Promise.resolve()}function se(je,tt){let We;const[Gt,gt,Mt]=extractChangingRecords(je,tt);We=extractComponentsGuards(Gt.reverse(),"beforeRouteLeave",je,tt);for(const Jt of Gt)Jt.leaveGuards.forEach(ut=>{We.push(guardToPromiseFn(ut,je,tt))});const Rt=oe.bind(null,je,tt);return We.push(Rt),runGuardQueue(We).then(()=>{We=[];for(const Jt of C.list())We.push(guardToPromiseFn(Jt,je,tt));return We.push(Rt),runGuardQueue(We)}).then(()=>{We=extractComponentsGuards(gt,"beforeRouteUpdate",je,tt);for(const Jt of gt)Jt.updateGuards.forEach(ut=>{We.push(guardToPromiseFn(ut,je,tt))});return We.push(Rt),runGuardQueue(We)}).then(()=>{We=[];for(const Jt of je.matched)if(Jt.beforeEnter&&!tt.matched.includes(Jt))if(Array.isArray(Jt.beforeEnter))for(const ut of Jt.beforeEnter)We.push(guardToPromiseFn(ut,je,tt));else We.push(guardToPromiseFn(Jt.beforeEnter,je,tt));return We.push(Rt),runGuardQueue(We)}).then(()=>(je.matched.forEach(Jt=>Jt.enterCallbacks={}),We=extractComponentsGuards(Mt,"beforeRouteEnter",je,tt),We.push(Rt),runGuardQueue(We))).then(()=>{We=[];for(const Jt of u.list())We.push(guardToPromiseFn(Jt,je,tt));return We.push(Rt),runGuardQueue(We)}).catch(Jt=>isNavigationFailure(Jt,8)?Jt:Promise.reject(Jt))}function fe(je,tt,We){for(const Gt of f.list())Gt(je,tt,We)}function ge(je,tt,We,Gt,gt){const Mt=q(je,tt);if(Mt)return Mt;const Rt=tt===START_LOCATION_NORMALIZED,Jt=isBrowser$1?history.state:{};We&&(Gt||Rt?x.replace(je.fullPath,assign$e({scroll:Rt&&Jt&&Jt.scroll},gt)):x.push(je.fullPath,gt)),n.value=je,bt(je,tt,We,Rt),ft()}let Ce;function $e(){Ce=x.listen((je,tt,We)=>{const Gt=j(je),gt=te(Gt);if(gt){re(assign$e(gt,{replace:!0}),Gt).catch(noop$3);return}S=Gt;const Mt=n.value;isBrowser$1&&saveScrollPosition(getScrollKey(Mt.fullPath,We.delta),computeScrollPosition()),se(Gt,Mt).catch(Rt=>isNavigationFailure(Rt,4|8)?Rt:isNavigationFailure(Rt,2)?(re(Rt.to,Gt).then(Jt=>{isNavigationFailure(Jt,4|16)&&!We.delta&&We.type===NavigationType.pop&&x.go(-1,!1)}).catch(noop$3),Promise.reject()):(We.delta&&x.go(-We.delta,!1),He(Rt,Gt,Mt))).then(Rt=>{Rt=Rt||ge(Gt,Mt,!1),Rt&&(We.delta?x.go(-We.delta,!1):We.type===NavigationType.pop&&isNavigationFailure(Rt,4|16)&&x.go(-1,!1)),fe(Gt,Mt,Rt)}).catch(noop$3)})}let be=useCallbacks(),ke=useCallbacks(),Ee;function He(je,tt,We){ft(je);const Gt=ke.list();return Gt.length?Gt.forEach(gt=>gt(je,tt,We)):console.error(je),Promise.reject(je)}function rt(){return Ee&&n.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((je,tt)=>{be.add([je,tt])})}function ft(je){Ee||(Ee=!0,$e(),be.list().forEach(([tt,We])=>je?We(je):tt()),be.reset())}function bt(je,tt,We,Gt){const{scrollBehavior:gt}=e;if(!isBrowser$1||!gt)return Promise.resolve();const Mt=!We&&getSavedScrollPosition(getScrollKey(je.fullPath,0))||(Gt||!We)&&history.state&&history.state.scroll||null;return nextTick().then(()=>gt(je,tt,Mt)).then(Rt=>Rt&&scrollToPosition(Rt)).catch(Rt=>He(Rt,je,tt))}const Ye=je=>x.go(je);let De;const at=new Set;return{currentRoute:n,addRoute:$,removeRoute:R,hasRoute:V,getRoutes:B,resolve:j,options:e,push:Y,replace:Q,go:Ye,back:()=>Ye(-1),forward:()=>Ye(1),beforeEach:C.add,beforeResolve:u.add,afterEach:f.add,onError:ke.add,isReady:rt,install(je){const tt=this;je.component("RouterLink",RouterLink),je.component("RouterView",RouterView),je.config.globalProperties.$router=tt,Object.defineProperty(je.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(n)}),isBrowser$1&&!De&&n.value===START_LOCATION_NORMALIZED&&(De=!0,Y(x.location).catch(gt=>{}));const We={};for(const gt in START_LOCATION_NORMALIZED)We[gt]=computed(()=>n.value[gt]);je.provide(routerKey,tt),je.provide(routeLocationKey,reactive(We)),je.provide(routerViewLocationKey,n);const Gt=je.unmount;at.add(je),je.unmount=function(){at.delete(je),at.size<1&&(S=START_LOCATION_NORMALIZED,Ce&&Ce(),n.value=START_LOCATION_NORMALIZED,De=!1,Ee=!1),Gt()}}}}function runGuardQueue(e){return e.reduce((r,l)=>r.then(()=>l()),Promise.resolve())}function extractChangingRecords(e,r){const l=[],g=[],x=[],C=Math.max(r.matched.length,e.matched.length);for(let u=0;u<C;u++){const f=r.matched[u];f&&(e.matched.find(S=>isSameRouteRecord(S,f))?g.push(f):l.push(f));const n=e.matched[u];n&&(r.matched.find(S=>isSameRouteRecord(S,n))||x.push(n))}return[l,g,x]}function useRouter(){return inject(routerKey)}function useRoute(){return inject(routeLocationKey)}function tryOnScopeDispose(e){return getCurrentScope()?(onScopeDispose(e),!0):!1}const isClient=typeof window!="undefined",toString=Object.prototype.toString,isNumber$c=e=>typeof e=="number",isString$c=e=>typeof e=="string",isObject$5=e=>toString.call(e)==="[object Object]",noop$2=()=>{};function createFilterWrapper(e,r){function l(...g){e(()=>r.apply(this,g),{fn:r,thisArg:this,args:g})}return l}function debounceFilter(e,r={}){let l,g;return C=>{const u=unref(e),f=unref(r.maxWait);if(l&&clearTimeout(l),u<=0||f!==void 0&&f<=0)return g&&(clearTimeout(g),g=null),C();f&&!g&&(g=setTimeout(()=>{l&&clearTimeout(l),g=null,C()},f)),l=setTimeout(()=>{g&&clearTimeout(g),g=null,C()},u)}}function useDebounceFn(e,r=200,l={}){return createFilterWrapper(debounceFilter(r,l),e)}function tryOnMounted(e,r=!0){getCurrentInstance()?onMounted(e):r?e():nextTick(e)}function tryOnUnmounted(e){getCurrentInstance()&&onUnmounted(e)}function useTimeoutFn(e,r,l={}){const{immediate:g=!0}=l,x=ref(!1);let C=null;function u(){C&&(clearTimeout(C),C=null)}function f(){x.value=!1,u()}function n(...S){u(),x.value=!0,C=setTimeout(()=>{x.value=!1,C=null,e(...S)},unref(r))}return g&&(x.value=!0,isClient&&n()),tryOnScopeDispose(f),{isPending:x,start:n,stop:f}}function unrefElement(e){var r;const l=unref(e);return(r=l==null?void 0:l.$el)!=null?r:l}const defaultWindow=isClient?window:void 0,defaultDocument=isClient?window.document:void 0;function useEventListener(...e){let r,l,g,x;if(isString$c(e[0])?([l,g,x]=e,r=defaultWindow):[r,l,g,x]=e,!r)return noop$2;let C=noop$2;const u=watch(()=>unref(r),n=>{C(),!!n&&(n.addEventListener(l,g,x),C=()=>{n.removeEventListener(l,g,x),C=noop$2})},{immediate:!0,flush:"post"}),f=()=>{u(),C()};return tryOnScopeDispose(f),f}function onClickOutside(e,r,l={}){const{window:g=defaultWindow}=l;if(!g)return;const x=ref(!0),u=[useEventListener(g,"click",n=>{const S=unrefElement(e);!S||S===n.target||n.composedPath().includes(S)||!x.value||r(n)},{passive:!0,capture:!0}),useEventListener(g,"pointerdown",n=>{const S=unrefElement(e);x.value=!!S&&!n.composedPath().includes(S)},{passive:!0})];return()=>u.forEach(n=>n())}function templateRef(e,r=null){const l=getCurrentInstance();let g=()=>{};const x=customRef((C,u)=>(g=u,{get(){var f,n;return C(),(n=(f=l==null?void 0:l.proxy)==null?void 0:f.$refs[e])!=null?n:r},set(){}}));return tryOnMounted(g),onUpdated(g),x}const _global=typeof globalThis=="undefined"?void 0:globalThis,globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};_global[globalKey];var __getOwnPropSymbols$b=Object.getOwnPropertySymbols,__hasOwnProp$b=Object.prototype.hasOwnProperty,__propIsEnum$b=Object.prototype.propertyIsEnumerable,__objRest$2=(e,r)=>{var l={};for(var g in e)__hasOwnProp$b.call(e,g)&&r.indexOf(g)<0&&(l[g]=e[g]);if(e!=null&&__getOwnPropSymbols$b)for(var g of __getOwnPropSymbols$b(e))r.indexOf(g)<0&&__propIsEnum$b.call(e,g)&&(l[g]=e[g]);return l};function useResizeObserver(e,r,l={}){const g=l,{window:x=defaultWindow}=g,C=__objRest$2(g,["window"]);let u;const f=x&&"ResizeObserver"in x,n=()=>{u&&(u.disconnect(),u=void 0)},S=watch(()=>unrefElement(e),M=>{n(),f&&x&&M&&(u=new x.ResizeObserver(r),u.observe(M,C))},{immediate:!0,flush:"post"}),k=()=>{n(),S()};return tryOnScopeDispose(k),{isSupported:f,stop:k}}const functionsMap=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function useFullscreen(e,r={}){const{document:l=defaultDocument}=r,g=e||(l==null?void 0:l.querySelector("html")),x=ref(!1);let C=!1,u=functionsMap[0];if(!l)C=!1;else for(const R of functionsMap)if(R[1]in l){u=R,C=!0;break}const[f,n,S,,k]=u;async function M(){!C||((l==null?void 0:l[S])&&await l[n](),x.value=!1)}async function P(){if(!C)return;await M();const R=unrefElement(g);R&&(await R[f](),x.value=!0)}async function $(){x.value?await M():await P()}return l&&useEventListener(l,k,()=>{x.value=!!(l==null?void 0:l[S])},!1),{isSupported:C,isFullscreen:x,enter:P,exit:M,toggle:$}}function useIntersectionObserver(e,r,l={}){const{root:g,rootMargin:x="0px",threshold:C=.1,window:u=defaultWindow}=l,f=u&&"IntersectionObserver"in u;let n=noop$2;const S=f?watch(()=>({el:unrefElement(e),root:unrefElement(g)}),({el:M,root:P})=>{if(n(),!M)return;const $=new u.IntersectionObserver(r,{root:P,rootMargin:x,threshold:C});$.observe(M),n=()=>{$.disconnect(),n=noop$2}},{immediate:!0,flush:"post"}):noop$2,k=()=>{n(),S()};return tryOnScopeDispose(k),{isSupported:f,stop:k}}var _a,_b;isClient&&(window==null?void 0:window.navigator)&&((_a=window==null?void 0:window.navigator)==null?void 0:_a.platform)&&/iP(ad|hone|od)/.test((_b=window==null?void 0:window.navigator)==null?void 0:_b.platform);var __defProp$3=Object.defineProperty,__getOwnPropSymbols$3=Object.getOwnPropertySymbols,__hasOwnProp$3=Object.prototype.hasOwnProperty,__propIsEnum$3=Object.prototype.propertyIsEnumerable,__defNormalProp$3=(e,r,l)=>r in e?__defProp$3(e,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[r]=l,__spreadValues$3=(e,r)=>{for(var l in r||(r={}))__hasOwnProp$3.call(r,l)&&__defNormalProp$3(e,l,r[l]);if(__getOwnPropSymbols$3)for(var l of __getOwnPropSymbols$3(r))__propIsEnum$3.call(r,l)&&__defNormalProp$3(e,l,r[l]);return e};const initialRect={top:0,left:0,bottom:0,right:0,height:0,width:0};__spreadValues$3({text:""},initialRect);const usePermissionStore=defineStore({id:"pure-permission",state:()=>({constantMenus,wholeMenus:[],menusTree:[],buttonAuth:[],cachePageList:[]}),actions:{asyncActionRoutes(e){if(this.wholeMenus.length>0)return;this.wholeMenus=filterTree$2(ascending(this.constantMenus.concat(e))),this.menusTree=cloneDeep(filterTree$2(ascending(this.constantMenus.concat(e))));const r=l=>{!l||!l.length||l.forEach(g=>{g.meta&&g.meta.authority&&this.buttonAuth.push(...g.meta.authority),g.children&&r(g.children)})};r(this.wholeMenus)},async changeSetting(e){await this.asyncActionRoutes(e)},cacheOperate({mode:e,name:r}){switch(e){case"add":this.cachePageList.push(r),this.cachePageList=[...new Set(this.cachePageList)];break;case"delete":const l=this.cachePageList.findIndex(g=>g===r);l!==-1&&this.cachePageList.splice(l,1);break}},clearAllCachePage(){this.cachePageList=[]}}});function usePermissionStoreHook(){return usePermissionStore(store)}var shams=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var r={},l=Symbol("test"),g=Object(l);if(typeof l=="string"||Object.prototype.toString.call(l)!=="[object Symbol]"||Object.prototype.toString.call(g)!=="[object Symbol]")return!1;var x=42;r[l]=x;for(l in r)return!1;if(typeof Object.keys=="function"&&Object.keys(r).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(r).length!==0)return!1;var C=Object.getOwnPropertySymbols(r);if(C.length!==1||C[0]!==l||!Object.prototype.propertyIsEnumerable.call(r,l))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(r,l);if(u.value!==x||u.enumerable!==!0)return!1}return!0},origSymbol=typeof Symbol!="undefined"&&Symbol,hasSymbolSham=shams,hasSymbols$1=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice$8=Array.prototype.slice,toStr$1=Object.prototype.toString,funcType="[object Function]",implementation$1=function(r){var l=this;if(typeof l!="function"||toStr$1.call(l)!==funcType)throw new TypeError(ERROR_MESSAGE+l);for(var g=slice$8.call(arguments,1),x,C=function(){if(this instanceof x){var k=l.apply(this,g.concat(slice$8.call(arguments)));return Object(k)===k?k:this}else return l.apply(r,g.concat(slice$8.call(arguments)))},u=Math.max(0,l.length-g.length),f=[],n=0;n<u;n++)f.push("$"+n);if(x=Function("binder","return function ("+f.join(",")+"){ return binder.apply(this,arguments); }")(C),l.prototype){var S=function(){};S.prototype=l.prototype,x.prototype=new S,S.prototype=null}return x},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,bind$3=functionBind,src=bind$3.call(Function.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError$1=TypeError,getEvalledConstructor=function(e){try{return $Function('"use strict"; return ('+e+").constructor;")()}catch{}},$gOPD=Object.getOwnPropertyDescriptor;if($gOPD)try{$gOPD({},"")}catch{$gOPD=null}var throwTypeError=function(){throw new $TypeError$1},ThrowTypeError=$gOPD?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),getProto=Object.getPrototypeOf||function(e){return e.__proto__},needsEval={},TypedArray=typeof Uint8Array=="undefined"?undefined$1:getProto(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError=="undefined"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics=="undefined"?undefined$1:Atomics,"%BigInt%":typeof BigInt=="undefined"?undefined$1:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array=="undefined"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map=="undefined"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!hasSymbols?undefined$1:getProto(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?undefined$1:Promise,"%Proxy%":typeof Proxy=="undefined"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!hasSymbols?undefined$1:getProto(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$1,"%Uint8Array%":typeof Uint8Array=="undefined"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?undefined$1:WeakSet},doEval=function e(r){var l;if(r==="%AsyncFunction%")l=getEvalledConstructor("async function () {}");else if(r==="%GeneratorFunction%")l=getEvalledConstructor("function* () {}");else if(r==="%AsyncGeneratorFunction%")l=getEvalledConstructor("async function* () {}");else if(r==="%AsyncGenerator%"){var g=e("%AsyncGeneratorFunction%");g&&(l=g.prototype)}else if(r==="%AsyncIteratorPrototype%"){var x=e("%AsyncGenerator%");x&&(l=getProto(x.prototype))}return INTRINSICS[r]=l,l},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$2=functionBind,hasOwn$1=src,$concat$1=bind$2.call(Function.call,Array.prototype.concat),$spliceApply=bind$2.call(Function.apply,Array.prototype.splice),$replace$1=bind$2.call(Function.call,String.prototype.replace),$strSlice=bind$2.call(Function.call,String.prototype.slice),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(r){var l=$strSlice(r,0,1),g=$strSlice(r,-1);if(l==="%"&&g!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(g==="%"&&l!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var x=[];return $replace$1(r,rePropName,function(C,u,f,n){x[x.length]=f?$replace$1(n,reEscapeChar,"$1"):u||C}),x},getBaseIntrinsic=function(r,l){var g=r,x;if(hasOwn$1(LEGACY_ALIASES,g)&&(x=LEGACY_ALIASES[g],g="%"+x[0]+"%"),hasOwn$1(INTRINSICS,g)){var C=INTRINSICS[g];if(C===needsEval&&(C=doEval(g)),typeof C=="undefined"&&!l)throw new $TypeError$1("intrinsic "+r+" exists, but is not available. Please file an issue!");return{alias:x,name:g,value:C}}throw new $SyntaxError("intrinsic "+r+" does not exist!")},getIntrinsic=function(r,l){if(typeof r!="string"||r.length===0)throw new $TypeError$1("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof l!="boolean")throw new $TypeError$1('"allowMissing" argument must be a boolean');var g=stringToPath(r),x=g.length>0?g[0]:"",C=getBaseIntrinsic("%"+x+"%",l),u=C.name,f=C.value,n=!1,S=C.alias;S&&(x=S[0],$spliceApply(g,$concat$1([0,1],S)));for(var k=1,M=!0;k<g.length;k+=1){var P=g[k],$=$strSlice(P,0,1),R=$strSlice(P,-1);if(($==='"'||$==="'"||$==="`"||R==='"'||R==="'"||R==="`")&&$!==R)throw new $SyntaxError("property names with quotes must have matching quotes");if((P==="constructor"||!M)&&(n=!0),x+="."+P,u="%"+x+"%",hasOwn$1(INTRINSICS,u))f=INTRINSICS[u];else if(f!=null){if(!(P in f)){if(!l)throw new $TypeError$1("base intrinsic for "+r+" exists, but the property is not available.");return}if($gOPD&&k+1>=g.length){var B=$gOPD(f,P);M=!!B,M&&"get"in B&&!("originalValue"in B.get)?f=B.get:f=f[P]}else M=hasOwn$1(f,P),f=f[P];M&&!n&&(INTRINSICS[u]=f)}}return f},callBind$1={exports:{}};(function(e){var r=functionBind,l=getIntrinsic,g=l("%Function.prototype.apply%"),x=l("%Function.prototype.call%"),C=l("%Reflect.apply%",!0)||r.call(x,g),u=l("%Object.getOwnPropertyDescriptor%",!0),f=l("%Object.defineProperty%",!0),n=l("%Math.max%");if(f)try{f({},"a",{value:1})}catch{f=null}e.exports=function(M){var P=C(r,x,arguments);if(u&&f){var $=u(P,"length");$.configurable&&f(P,"length",{value:1+n(0,M.length-(arguments.length-1))})}return P};var S=function(){return C(r,g,arguments)};f?f(e.exports,"apply",{value:S}):e.exports.apply=S})(callBind$1);var GetIntrinsic$1=getIntrinsic,callBind=callBind$1.exports,$indexOf=callBind(GetIntrinsic$1("String.prototype.indexOf")),callBound$1=function(r,l){var g=GetIntrinsic$1(r,!!l);return typeof g=="function"&&$indexOf(r,".prototype.")>-1?callBind(g):g},__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:__viteBrowserExternal}),require$$5=getAugmentedNamespace(__viteBrowserExternal$1),hasMap=typeof Map=="function"&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&typeof mapSizeDescriptor.get=="function"?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet=typeof Set=="function"&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&typeof setSizeDescriptor.get=="function"?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap=typeof WeakMap=="function"&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet=typeof WeakSet=="function"&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef=typeof WeakRef=="function"&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString$3=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hasShammedSymbols=typeof Symbol=="function"&&typeof Symbol.iterator=="object",toStringTag=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols?"object":"symbol")?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function addNumericSeparator(e,r){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||$test.call(/e/,r))return r;var l=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var g=e<0?-$floor(-e):$floor(e);if(g!==e){var x=String(g),C=$slice.call(r,x.length+1);return $replace.call(x,l,"$&_")+"."+$replace.call($replace.call(C,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call(r,l,"$&_")}var inspectCustom=require$$5.custom,inspectSymbol=inspectCustom&&isSymbol$3(inspectCustom)?inspectCustom:null,objectInspect=function e(r,l,g,x){var C=l||{};if(has$5(C,"quoteStyle")&&C.quoteStyle!=="single"&&C.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has$5(C,"maxStringLength")&&(typeof C.maxStringLength=="number"?C.maxStringLength<0&&C.maxStringLength!==1/0:C.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var u=has$5(C,"customInspect")?C.customInspect:!0;if(typeof u!="boolean"&&u!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has$5(C,"indent")&&C.indent!==null&&C.indent!=="	"&&!(parseInt(C.indent,10)===C.indent&&C.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has$5(C,"numericSeparator")&&typeof C.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var f=C.numericSeparator;if(typeof r=="undefined")return"undefined";if(r===null)return"null";if(typeof r=="boolean")return r?"true":"false";if(typeof r=="string")return inspectString(r,C);if(typeof r=="number"){if(r===0)return 1/0/r>0?"0":"-0";var n=String(r);return f?addNumericSeparator(r,n):n}if(typeof r=="bigint"){var S=String(r)+"n";return f?addNumericSeparator(r,S):S}var k=typeof C.depth=="undefined"?5:C.depth;if(typeof g=="undefined"&&(g=0),g>=k&&k>0&&typeof r=="object")return isArray$w(r)?"[Array]":"[Object]";var M=getIndent(C,g);if(typeof x=="undefined")x=[];else if(indexOf$2(x,r)>=0)return"[Circular]";function P($e,be,ke){if(be&&(x=$arrSlice.call(x),x.push(be)),ke){var Ee={depth:C.depth};return has$5(C,"quoteStyle")&&(Ee.quoteStyle=C.quoteStyle),e($e,Ee,g+1,x)}return e($e,C,g+1,x)}if(typeof r=="function"){var $=nameOf(r),R=arrObjKeys(r,P);return"[Function"+($?": "+$:" (anonymous)")+"]"+(R.length>0?" { "+$join.call(R,", ")+" }":"")}if(isSymbol$3(r)){var B=hasShammedSymbols?$replace.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(r);return typeof r=="object"&&!hasShammedSymbols?markBoxed(B):B}if(isElement$3(r)){for(var V="<"+$toLowerCase.call(String(r.nodeName)),j=r.attributes||[],U=0;U<j.length;U++)V+=" "+j[U].name+"="+wrapQuotes(quote(j[U].value),"double",C);return V+=">",r.childNodes&&r.childNodes.length&&(V+="..."),V+="</"+$toLowerCase.call(String(r.nodeName))+">",V}if(isArray$w(r)){if(r.length===0)return"[]";var q=arrObjKeys(r,P);return M&&!singleLineValues(q)?"["+indentedJoin(q,M)+"]":"[ "+$join.call(q,", ")+" ]"}if(isError$3(r)){var Y=arrObjKeys(r,P);return"cause"in r&&!isEnumerable.call(r,"cause")?"{ ["+String(r)+"] "+$join.call($concat.call("[cause]: "+P(r.cause),Y),", ")+" }":Y.length===0?"["+String(r)+"]":"{ ["+String(r)+"] "+$join.call(Y,", ")+" }"}if(typeof r=="object"&&u){if(inspectSymbol&&typeof r[inspectSymbol]=="function")return r[inspectSymbol]();if(u!=="symbol"&&typeof r.inspect=="function")return r.inspect()}if(isMap$2(r)){var Q=[];return mapForEach.call(r,function($e,be){Q.push(P(be,r,!0)+" => "+P($e,r))}),collectionOf("Map",mapSize.call(r),Q,M)}if(isSet$2(r)){var te=[];return setForEach.call(r,function($e){te.push(P($e,r))}),collectionOf("Set",setSize.call(r),te,M)}if(isWeakMap$2(r))return weakCollectionOf("WeakMap");if(isWeakSet$2(r))return weakCollectionOf("WeakSet");if(isWeakRef(r))return weakCollectionOf("WeakRef");if(isNumber$b(r))return markBoxed(P(Number(r)));if(isBigInt(r))return markBoxed(P(bigIntValueOf.call(r)));if(isBoolean$3(r))return markBoxed(booleanValueOf.call(r));if(isString$b(r))return markBoxed(P(String(r)));if(!isDate$9(r)&&!isRegExp$5(r)){var re=arrObjKeys(r,P),oe=gPO?gPO(r)===Object.prototype:r instanceof Object||r.constructor===Object,se=r instanceof Object?"":"null prototype",fe=!oe&&toStringTag&&Object(r)===r&&toStringTag in r?$slice.call(toStr(r),8,-1):se?"Object":"",ge=oe||typeof r.constructor!="function"?"":r.constructor.name?r.constructor.name+" ":"",Ce=ge+(fe||se?"["+$join.call($concat.call([],fe||[],se||[]),": ")+"] ":"");return re.length===0?Ce+"{}":M?Ce+"{"+indentedJoin(re,M)+"}":Ce+"{ "+$join.call(re,", ")+" }"}return String(r)};function wrapQuotes(e,r,l){var g=(l.quoteStyle||r)==="double"?'"':"'";return g+e+g}function quote(e){return $replace.call(String(e),/"/g,"&quot;")}function isArray$w(e){return toStr(e)==="[object Array]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isDate$9(e){return toStr(e)==="[object Date]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isRegExp$5(e){return toStr(e)==="[object RegExp]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isError$3(e){return toStr(e)==="[object Error]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isString$b(e){return toStr(e)==="[object String]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isNumber$b(e){return toStr(e)==="[object Number]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isBoolean$3(e){return toStr(e)==="[object Boolean]"&&(!toStringTag||!(typeof e=="object"&&toStringTag in e))}function isSymbol$3(e){if(hasShammedSymbols)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!symToString)return!1;try{return symToString.call(e),!0}catch{}return!1}function isBigInt(e){if(!e||typeof e!="object"||!bigIntValueOf)return!1;try{return bigIntValueOf.call(e),!0}catch{}return!1}var hasOwn=Object.prototype.hasOwnProperty||function(e){return e in this};function has$5(e,r){return hasOwn.call(e,r)}function toStr(e){return objectToString$3.call(e)}function nameOf(e){if(e.name)return e.name;var r=$match.call(functionToString.call(e),/^function\s*([\w$]+)/);return r?r[1]:null}function indexOf$2(e,r){if(e.indexOf)return e.indexOf(r);for(var l=0,g=e.length;l<g;l++)if(e[l]===r)return l;return-1}function isMap$2(e){if(!mapSize||!e||typeof e!="object")return!1;try{mapSize.call(e);try{setSize.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function isWeakMap$2(e){if(!weakMapHas||!e||typeof e!="object")return!1;try{weakMapHas.call(e,weakMapHas);try{weakSetHas.call(e,weakSetHas)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function isWeakRef(e){if(!weakRefDeref||!e||typeof e!="object")return!1;try{return weakRefDeref.call(e),!0}catch{}return!1}function isSet$2(e){if(!setSize||!e||typeof e!="object")return!1;try{setSize.call(e);try{mapSize.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function isWeakSet$2(e){if(!weakSetHas||!e||typeof e!="object")return!1;try{weakSetHas.call(e,weakSetHas);try{weakMapHas.call(e,weakMapHas)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function isElement$3(e){return!e||typeof e!="object"?!1:typeof HTMLElement!="undefined"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function inspectString(e,r){if(e.length>r.maxStringLength){var l=e.length-r.maxStringLength,g="... "+l+" more character"+(l>1?"s":"");return inspectString($slice.call(e,0,r.maxStringLength),r)+g}var x=$replace.call($replace.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte);return wrapQuotes(x,"single",r)}function lowbyte(e){var r=e.charCodeAt(0),l={8:"b",9:"t",10:"n",12:"f",13:"r"}[r];return l?"\\"+l:"\\x"+(r<16?"0":"")+$toUpperCase.call(r.toString(16))}function markBoxed(e){return"Object("+e+")"}function weakCollectionOf(e){return e+" { ? }"}function collectionOf(e,r,l,g){var x=g?indentedJoin(l,g):$join.call(l,", ");return e+" ("+r+") {"+x+"}"}function singleLineValues(e){for(var r=0;r<e.length;r++)if(indexOf$2(e[r],`
`)>=0)return!1;return!0}function getIndent(e,r){var l;if(e.indent==="	")l="	";else if(typeof e.indent=="number"&&e.indent>0)l=$join.call(Array(e.indent+1)," ");else return null;return{base:l,prev:$join.call(Array(r+1),l)}}function indentedJoin(e,r){if(e.length===0)return"";var l=`
`+r.prev+r.base;return l+$join.call(e,","+l)+`
`+r.prev}function arrObjKeys(e,r){var l=isArray$w(e),g=[];if(l){g.length=e.length;for(var x=0;x<e.length;x++)g[x]=has$5(e,x)?r(e[x],e):""}var C=typeof gOPS=="function"?gOPS(e):[],u;if(hasShammedSymbols){u={};for(var f=0;f<C.length;f++)u["$"+C[f]]=C[f]}for(var n in e)!has$5(e,n)||l&&String(Number(n))===n&&n<e.length||hasShammedSymbols&&u["$"+n]instanceof Symbol||($test.call(/[^\w$]/,n)?g.push(r(n,e)+": "+r(e[n],e)):g.push(n+": "+r(e[n],e)));if(typeof gOPS=="function")for(var S=0;S<C.length;S++)isEnumerable.call(e,C[S])&&g.push("["+r(C[S])+"]: "+r(e[C[S]],e));return g}var GetIntrinsic=getIntrinsic,callBound=callBound$1,inspect=objectInspect,$TypeError=GetIntrinsic("%TypeError%"),$WeakMap=GetIntrinsic("%WeakMap%",!0),$Map=GetIntrinsic("%Map%",!0),$weakMapGet=callBound("WeakMap.prototype.get",!0),$weakMapSet=callBound("WeakMap.prototype.set",!0),$weakMapHas=callBound("WeakMap.prototype.has",!0),$mapGet=callBound("Map.prototype.get",!0),$mapSet=callBound("Map.prototype.set",!0),$mapHas=callBound("Map.prototype.has",!0),listGetNode=function(e,r){for(var l=e,g;(g=l.next)!==null;l=g)if(g.key===r)return l.next=g.next,g.next=e.next,e.next=g,g},listGet=function(e,r){var l=listGetNode(e,r);return l&&l.value},listSet=function(e,r,l){var g=listGetNode(e,r);g?g.value=l:e.next={key:r,next:e.next,value:l}},listHas=function(e,r){return!!listGetNode(e,r)},sideChannel=function(){var r,l,g,x={assert:function(C){if(!x.has(C))throw new $TypeError("Side channel does not contain "+inspect(C))},get:function(C){if($WeakMap&&C&&(typeof C=="object"||typeof C=="function")){if(r)return $weakMapGet(r,C)}else if($Map){if(l)return $mapGet(l,C)}else if(g)return listGet(g,C)},has:function(C){if($WeakMap&&C&&(typeof C=="object"||typeof C=="function")){if(r)return $weakMapHas(r,C)}else if($Map){if(l)return $mapHas(l,C)}else if(g)return listHas(g,C);return!1},set:function(C,u){$WeakMap&&C&&(typeof C=="object"||typeof C=="function")?(r||(r=new $WeakMap),$weakMapSet(r,C,u)):$Map?(l||(l=new $Map),$mapSet(l,C,u)):(g||(g={key:{},next:null}),listSet(g,C,u))}};return x},replace=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$4={default:Format.RFC3986,formatters:{RFC1738:function(e){return replace.call(e,percentTwenties,"+")},RFC3986:function(e){return String(e)}},RFC1738:Format.RFC1738,RFC3986:Format.RFC3986},formats$3=formats$4,has$4=Object.prototype.hasOwnProperty,isArray$v=Array.isArray,hexTable=function(){for(var e=[],r=0;r<256;++r)e.push("%"+((r<16?"0":"")+r.toString(16)).toUpperCase());return e}(),compactQueue=function(r){for(;r.length>1;){var l=r.pop(),g=l.obj[l.prop];if(isArray$v(g)){for(var x=[],C=0;C<g.length;++C)typeof g[C]!="undefined"&&x.push(g[C]);l.obj[l.prop]=x}}},arrayToObject=function(r,l){for(var g=l&&l.plainObjects?Object.create(null):{},x=0;x<r.length;++x)typeof r[x]!="undefined"&&(g[x]=r[x]);return g},merge$2=function e(r,l,g){if(!l)return r;if(typeof l!="object"){if(isArray$v(r))r.push(l);else if(r&&typeof r=="object")(g&&(g.plainObjects||g.allowPrototypes)||!has$4.call(Object.prototype,l))&&(r[l]=!0);else return[r,l];return r}if(!r||typeof r!="object")return[r].concat(l);var x=r;return isArray$v(r)&&!isArray$v(l)&&(x=arrayToObject(r,g)),isArray$v(r)&&isArray$v(l)?(l.forEach(function(C,u){if(has$4.call(r,u)){var f=r[u];f&&typeof f=="object"&&C&&typeof C=="object"?r[u]=e(f,C,g):r.push(C)}else r[u]=C}),r):Object.keys(l).reduce(function(C,u){var f=l[u];return has$4.call(C,u)?C[u]=e(C[u],f,g):C[u]=f,C},x)},assign$d=function(r,l){return Object.keys(l).reduce(function(g,x){return g[x]=l[x],g},r)},decode=function(e,r,l){var g=e.replace(/\+/g," ");if(l==="iso-8859-1")return g.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(g)}catch{return g}},encode=function(r,l,g,x,C){if(r.length===0)return r;var u=r;if(typeof r=="symbol"?u=Symbol.prototype.toString.call(r):typeof r!="string"&&(u=String(r)),g==="iso-8859-1")return escape(u).replace(/%u[0-9a-f]{4}/gi,function(k){return"%26%23"+parseInt(k.slice(2),16)+"%3B"});for(var f="",n=0;n<u.length;++n){var S=u.charCodeAt(n);if(S===45||S===46||S===95||S===126||S>=48&&S<=57||S>=65&&S<=90||S>=97&&S<=122||C===formats$3.RFC1738&&(S===40||S===41)){f+=u.charAt(n);continue}if(S<128){f=f+hexTable[S];continue}if(S<2048){f=f+(hexTable[192|S>>6]+hexTable[128|S&63]);continue}if(S<55296||S>=57344){f=f+(hexTable[224|S>>12]+hexTable[128|S>>6&63]+hexTable[128|S&63]);continue}n+=1,S=65536+((S&1023)<<10|u.charCodeAt(n)&1023),f+=hexTable[240|S>>18]+hexTable[128|S>>12&63]+hexTable[128|S>>6&63]+hexTable[128|S&63]}return f},compact=function(r){for(var l=[{obj:{o:r},prop:"o"}],g=[],x=0;x<l.length;++x)for(var C=l[x],u=C.obj[C.prop],f=Object.keys(u),n=0;n<f.length;++n){var S=f[n],k=u[S];typeof k=="object"&&k!==null&&g.indexOf(k)===-1&&(l.push({obj:u,prop:S}),g.push(k))}return compactQueue(l),r},isRegExp$4=function(r){return Object.prototype.toString.call(r)==="[object RegExp]"},isBuffer=function(r){return!r||typeof r!="object"?!1:!!(r.constructor&&r.constructor.isBuffer&&r.constructor.isBuffer(r))},combine=function(r,l){return[].concat(r,l)},maybeMap=function(r,l){if(isArray$v(r)){for(var g=[],x=0;x<r.length;x+=1)g.push(l(r[x]));return g}return l(r)},utils$6={arrayToObject,assign:assign$d,combine,compact,decode,encode,isBuffer,isRegExp:isRegExp$4,maybeMap,merge:merge$2},getSideChannel=sideChannel,utils$5=utils$6,formats$2=formats$4,has$3=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(r){return r+"[]"},comma:"comma",indices:function(r,l){return r+"["+l+"]"},repeat:function(r){return r}},isArray$u=Array.isArray,split=String.prototype.split,push=Array.prototype.push,pushToArray=function(e,r){push.apply(e,isArray$u(r)?r:[r])},toISO=Date.prototype.toISOString,defaultFormat=formats$2.default,defaults$3={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils$5.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats$2.formatters[defaultFormat],indices:!1,serializeDate:function(r){return toISO.call(r)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function(r){return typeof r=="string"||typeof r=="number"||typeof r=="boolean"||typeof r=="symbol"||typeof r=="bigint"},sentinel={},stringify$1=function e(r,l,g,x,C,u,f,n,S,k,M,P,$,R,B){for(var V=r,j=B,U=0,q=!1;(j=j.get(sentinel))!==void 0&&!q;){var Y=j.get(r);if(U+=1,typeof Y!="undefined"){if(Y===U)throw new RangeError("Cyclic object value");q=!0}typeof j.get(sentinel)=="undefined"&&(U=0)}if(typeof f=="function"?V=f(l,V):V instanceof Date?V=k(V):g==="comma"&&isArray$u(V)&&(V=utils$5.maybeMap(V,function(He){return He instanceof Date?k(He):He})),V===null){if(x)return u&&!$?u(l,defaults$3.encoder,R,"key",M):l;V=""}if(isNonNullishPrimitive(V)||utils$5.isBuffer(V)){if(u){var Q=$?l:u(l,defaults$3.encoder,R,"key",M);if(g==="comma"&&$){for(var te=split.call(String(V),","),re="",oe=0;oe<te.length;++oe)re+=(oe===0?"":",")+P(u(te[oe],defaults$3.encoder,R,"value",M));return[P(Q)+"="+re]}return[P(Q)+"="+P(u(V,defaults$3.encoder,R,"value",M))]}return[P(l)+"="+P(String(V))]}var se=[];if(typeof V=="undefined")return se;var fe;if(g==="comma"&&isArray$u(V))fe=[{value:V.length>0?V.join(",")||null:void 0}];else if(isArray$u(f))fe=f;else{var ge=Object.keys(V);fe=n?ge.sort(n):ge}for(var Ce=0;Ce<fe.length;++Ce){var $e=fe[Ce],be=typeof $e=="object"&&typeof $e.value!="undefined"?$e.value:V[$e];if(!(C&&be===null)){var ke=isArray$u(V)?typeof g=="function"?g(l,$e):l:l+(S?"."+$e:"["+$e+"]");B.set(r,U);var Ee=getSideChannel();Ee.set(sentinel,B),pushToArray(se,e(be,ke,g,x,C,u,f,n,S,k,M,P,$,R,Ee))}}return se},normalizeStringifyOptions=function(r){if(!r)return defaults$3;if(r.encoder!==null&&typeof r.encoder!="undefined"&&typeof r.encoder!="function")throw new TypeError("Encoder has to be a function.");var l=r.charset||defaults$3.charset;if(typeof r.charset!="undefined"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var g=formats$2.default;if(typeof r.format!="undefined"){if(!has$3.call(formats$2.formatters,r.format))throw new TypeError("Unknown format option provided.");g=r.format}var x=formats$2.formatters[g],C=defaults$3.filter;return(typeof r.filter=="function"||isArray$u(r.filter))&&(C=r.filter),{addQueryPrefix:typeof r.addQueryPrefix=="boolean"?r.addQueryPrefix:defaults$3.addQueryPrefix,allowDots:typeof r.allowDots=="undefined"?defaults$3.allowDots:!!r.allowDots,charset:l,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:defaults$3.charsetSentinel,delimiter:typeof r.delimiter=="undefined"?defaults$3.delimiter:r.delimiter,encode:typeof r.encode=="boolean"?r.encode:defaults$3.encode,encoder:typeof r.encoder=="function"?r.encoder:defaults$3.encoder,encodeValuesOnly:typeof r.encodeValuesOnly=="boolean"?r.encodeValuesOnly:defaults$3.encodeValuesOnly,filter:C,format:g,formatter:x,serializeDate:typeof r.serializeDate=="function"?r.serializeDate:defaults$3.serializeDate,skipNulls:typeof r.skipNulls=="boolean"?r.skipNulls:defaults$3.skipNulls,sort:typeof r.sort=="function"?r.sort:null,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:defaults$3.strictNullHandling}},stringify_1=function(e,r){var l=e,g=normalizeStringifyOptions(r),x,C;typeof g.filter=="function"?(C=g.filter,l=C("",l)):isArray$u(g.filter)&&(C=g.filter,x=C);var u=[];if(typeof l!="object"||l===null)return"";var f;r&&r.arrayFormat in arrayPrefixGenerators?f=r.arrayFormat:r&&"indices"in r?f=r.indices?"indices":"repeat":f="indices";var n=arrayPrefixGenerators[f];x||(x=Object.keys(l)),g.sort&&x.sort(g.sort);for(var S=getSideChannel(),k=0;k<x.length;++k){var M=x[k];g.skipNulls&&l[M]===null||pushToArray(u,stringify$1(l[M],M,n,g.strictNullHandling,g.skipNulls,g.encode?g.encoder:null,g.filter,g.sort,g.allowDots,g.serializeDate,g.format,g.formatter,g.encodeValuesOnly,g.charset,S))}var P=u.join(g.delimiter),$=g.addQueryPrefix===!0?"?":"";return g.charsetSentinel&&(g.charset==="iso-8859-1"?$+="utf8=%26%2310003%3B&":$+="utf8=%E2%9C%93&"),P.length>0?$+P:""},utils$4=utils$6,has$2=Object.prototype.hasOwnProperty,isArray$t=Array.isArray,defaults$2={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils$4.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(e){return e.replace(/&#(\d+);/g,function(r,l){return String.fromCharCode(parseInt(l,10))})},parseArrayValue=function(e,r){return e&&typeof e=="string"&&r.comma&&e.indexOf(",")>-1?e.split(","):e},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues=function(r,l){var g={},x=l.ignoreQueryPrefix?r.replace(/^\?/,""):r,C=l.parameterLimit===1/0?void 0:l.parameterLimit,u=x.split(l.delimiter,C),f=-1,n,S=l.charset;if(l.charsetSentinel)for(n=0;n<u.length;++n)u[n].indexOf("utf8=")===0&&(u[n]===charsetSentinel?S="utf-8":u[n]===isoSentinel&&(S="iso-8859-1"),f=n,n=u.length);for(n=0;n<u.length;++n)if(n!==f){var k=u[n],M=k.indexOf("]="),P=M===-1?k.indexOf("="):M+1,$,R;P===-1?($=l.decoder(k,defaults$2.decoder,S,"key"),R=l.strictNullHandling?null:""):($=l.decoder(k.slice(0,P),defaults$2.decoder,S,"key"),R=utils$4.maybeMap(parseArrayValue(k.slice(P+1),l),function(B){return l.decoder(B,defaults$2.decoder,S,"value")})),R&&l.interpretNumericEntities&&S==="iso-8859-1"&&(R=interpretNumericEntities(R)),k.indexOf("[]=")>-1&&(R=isArray$t(R)?[R]:R),has$2.call(g,$)?g[$]=utils$4.combine(g[$],R):g[$]=R}return g},parseObject=function(e,r,l,g){for(var x=g?r:parseArrayValue(r,l),C=e.length-1;C>=0;--C){var u,f=e[C];if(f==="[]"&&l.parseArrays)u=[].concat(x);else{u=l.plainObjects?Object.create(null):{};var n=f.charAt(0)==="["&&f.charAt(f.length-1)==="]"?f.slice(1,-1):f,S=parseInt(n,10);!l.parseArrays&&n===""?u={0:x}:!isNaN(S)&&f!==n&&String(S)===n&&S>=0&&l.parseArrays&&S<=l.arrayLimit?(u=[],u[S]=x):n!=="__proto__"&&(u[n]=x)}x=u}return x},parseKeys=function(r,l,g,x){if(!!r){var C=g.allowDots?r.replace(/\.([^.[]+)/g,"[$1]"):r,u=/(\[[^[\]]*])/,f=/(\[[^[\]]*])/g,n=g.depth>0&&u.exec(C),S=n?C.slice(0,n.index):C,k=[];if(S){if(!g.plainObjects&&has$2.call(Object.prototype,S)&&!g.allowPrototypes)return;k.push(S)}for(var M=0;g.depth>0&&(n=f.exec(C))!==null&&M<g.depth;){if(M+=1,!g.plainObjects&&has$2.call(Object.prototype,n[1].slice(1,-1))&&!g.allowPrototypes)return;k.push(n[1])}return n&&k.push("["+C.slice(n.index)+"]"),parseObject(k,l,g,x)}},normalizeParseOptions=function(r){if(!r)return defaults$2;if(r.decoder!==null&&r.decoder!==void 0&&typeof r.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof r.charset!="undefined"&&r.charset!=="utf-8"&&r.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var l=typeof r.charset=="undefined"?defaults$2.charset:r.charset;return{allowDots:typeof r.allowDots=="undefined"?defaults$2.allowDots:!!r.allowDots,allowPrototypes:typeof r.allowPrototypes=="boolean"?r.allowPrototypes:defaults$2.allowPrototypes,allowSparse:typeof r.allowSparse=="boolean"?r.allowSparse:defaults$2.allowSparse,arrayLimit:typeof r.arrayLimit=="number"?r.arrayLimit:defaults$2.arrayLimit,charset:l,charsetSentinel:typeof r.charsetSentinel=="boolean"?r.charsetSentinel:defaults$2.charsetSentinel,comma:typeof r.comma=="boolean"?r.comma:defaults$2.comma,decoder:typeof r.decoder=="function"?r.decoder:defaults$2.decoder,delimiter:typeof r.delimiter=="string"||utils$4.isRegExp(r.delimiter)?r.delimiter:defaults$2.delimiter,depth:typeof r.depth=="number"||r.depth===!1?+r.depth:defaults$2.depth,ignoreQueryPrefix:r.ignoreQueryPrefix===!0,interpretNumericEntities:typeof r.interpretNumericEntities=="boolean"?r.interpretNumericEntities:defaults$2.interpretNumericEntities,parameterLimit:typeof r.parameterLimit=="number"?r.parameterLimit:defaults$2.parameterLimit,parseArrays:r.parseArrays!==!1,plainObjects:typeof r.plainObjects=="boolean"?r.plainObjects:defaults$2.plainObjects,strictNullHandling:typeof r.strictNullHandling=="boolean"?r.strictNullHandling:defaults$2.strictNullHandling}},parse$5=function(e,r){var l=normalizeParseOptions(r);if(e===""||e===null||typeof e=="undefined")return l.plainObjects?Object.create(null):{};for(var g=typeof e=="string"?parseValues(e,l):e,x=l.plainObjects?Object.create(null):{},C=Object.keys(g),u=0;u<C.length;++u){var f=C[u],n=parseKeys(f,g[f],l,typeof e=="string");x=utils$4.merge(x,n,l)}return l.allowSparse===!0?x:utils$4.compact(x)},stringify=stringify_1,parse$4=parse$5,formats$1=formats$4,lib={formats:formats$1,parse:parse$4,stringify};/*! js-cookie v3.0.1 | MIT */function assign$c(e){for(var r=1;r<arguments.length;r++){var l=arguments[r];for(var g in l)e[g]=l[g]}return e}var defaultConverter={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function init(e,r){function l(x,C,u){if(typeof document!="undefined"){u=assign$c({},r,u),typeof u.expires=="number"&&(u.expires=new Date(Date.now()+u.expires*864e5)),u.expires&&(u.expires=u.expires.toUTCString()),x=encodeURIComponent(x).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var f="";for(var n in u)!u[n]||(f+="; "+n,u[n]!==!0&&(f+="="+u[n].split(";")[0]));return document.cookie=x+"="+e.write(C,x)+f}}function g(x){if(!(typeof document=="undefined"||arguments.length&&!x)){for(var C=document.cookie?document.cookie.split("; "):[],u={},f=0;f<C.length;f++){var n=C[f].split("="),S=n.slice(1).join("=");try{var k=decodeURIComponent(n[0]);if(u[k]=e.read(S,k),x===k)break}catch{}}return x?u[x]:u}}return Object.create({set:l,get:g,remove:function(x,C){l(x,"",assign$c({},C,{expires:-1}))},withAttributes:function(x){return init(this.converter,assign$c({},this.attributes,x))},withConverter:function(x){return init(assign$c({},this.converter,x),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(e)}})}var api=init(defaultConverter,{path:"/"});const getLogin=e=>http.request("post","/login",{data:e}),register=e=>http.request("post","/register",{data:e}),refreshToken=e=>http.request("post","/refreshToken",{data:e}),getStatistics=e=>http.get("/operationLog/"+e),getFriends=e=>http.get("/friends/"+e),getUserById=e=>http.get("/user/"+e),validate=e=>http.get("/validateAccount/"+e),getTasks=e=>http.get("/flowTask/"+e),postTask=e=>http.request("post","/flowTask/saveTask",{data:e}),saveBlueprintDrawData=e=>http.request("post","/saveDrawData",{data:e}),getBlueprintDrawData=e=>http.request("get","getDrawData/"+e),saveBlueprintSnapData=e=>http.request("post","/saveSnapData",{data:e}),getBlueprintSnapData=e=>http.request("get","getSnapData/"+e),saveFormData=e=>http.request("post","/flowTask/saveFormData",{data:e}),getFlowTemplate=()=>http.get("/getAllFlowTemplate"),nodeUpdate=e=>http.request("post","/node/nodeUpdate",{data:e}),saveFlowTemplate=e=>http.request("post","/saveFlowTemplate",{data:e}),useFlowTaskStore=defineStore({id:"flow-task",state:()=>({baseInfo:{title:"",desc:"",type:""},blueprints:[],formData:{formDataJson:""},flowChart:{nodes:[],edges:[]},permission:{maintain:[],statistics:[]}}),actions:{setBaseInfo(e){this.baseInfo=e},setblueprints(e){this.blueprints.push(e)},setformData(e){this.formData.formDataJson=e},setFlowChart(e){if(e.nodes.length==0)return;let r=0,l=e.nodes.filter(x=>x.type==="bpmn:startEvent")[0].id,g;do{const x=e.edges.filter(C=>C.sourceNodeId===l);for(const C of x){const u=C.targetNodeId;if(g=e.nodes.filter(f=>f.id===u)[0],g.properties.orderNum===-1&&(r===0&&(g.properties.status="\u8FDB\u884C\u4E2D"),g.properties.orderNum=++r,l=g.id,g.type==="bpmn:endEvent"))break}}while(g.type!=="bpmn:endEvent");this.flowChart=e},setPermission(e){this.permission.maintain=e.maintain,this.permission.statistics=e.statistics},postTask(){return postTask(this.state)}}});function useFlowTaskStoreHook(){return useFlowTaskStore(store)}const useOperationStore=defineStore({id:"operation",state:()=>({currentTask:{},currentBlueprint:{},currentNode:{}}),actions:{SET_CURRENT_TASK(e){this.currentTask=e},GET_CURRENT_TASK(){return this.currentTask},SET_CURRENT_BLUEPRINT(e){this.currentBlueprint={},this.currentBlueprint=e},GET_CURRENT_BLUEPRINT(){return this.currentBlueprint},SET_CURRENT_NODE(e){this.currentNode=e},GET_CURRENT_NODE(){return this.currentNode}}});function useOperationStoreHook(){return useOperationStore(store)}var vjmap_min={exports:{}};(function(module,exports){(function(e,r){module.exports=r()})(window,function(){return function(e){var r={};function l(g){if(r[g])return r[g].exports;var x=r[g]={i:g,l:!1,exports:{}};return e[g].call(x.exports,x,x.exports,l),x.l=!0,x.exports}return l.m=e,l.c=r,l.d=function(g,x,C){l.o(g,x)||Object.defineProperty(g,x,{enumerable:!0,get:C})},l.r=function(g){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},l.t=function(g,x){if(1&x&&(g=l(g)),8&x||4&x&&typeof g=="object"&&g&&g.__esModule)return g;var C=Object.create(null);if(l.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:g}),2&x&&typeof g!="string")for(var u in g)l.d(C,u,function(f){return g[f]}.bind(null,u));return C},l.n=function(g){var x=g&&g.__esModule?function(){return g.default}:function(){return g};return l.d(x,"a",x),x},l.o=function(g,x){return Object.prototype.hasOwnProperty.call(g,x)},l.p="",l(l.s=60)}([function(e,r,l){var g=this&&this.__createBinding||(Object.create?function(C,u,f,n){n===void 0&&(n=f),Object.defineProperty(C,n,{enumerable:!0,get:function(){return u[f]}})}:function(C,u,f,n){n===void 0&&(n=f),C[n]=u[f]}),x=this&&this.__exportStar||function(C,u){for(var f in C)f==="default"||u.hasOwnProperty(f)||g(u,C,f)};Object.defineProperty(r,"__esModule",{value:!0}),x(l(65),r),x(l(35),r),x(l(66),r),x(l(67),r),x(l(68),r),x(l(94),r),x(l(95),r),x(l(96),r),x(l(97),r)},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.geoPoint=r.GeoPoint=void 0;class g{constructor(C,u,f){this.x=C,this.y=u,this.z=f}static convert(C){if(C instanceof g)return C.clone();if(Array.isArray(C)){if(C.length===2)return new g(Number(C[0]),Number(C[1]));if(C.length>2)return new g(Number(C[0]),Number(C[1]),Number(C[2]))}if(!Array.isArray(C)&&typeof C=="object"&&C!==null)return"lat"in C?new g(Number("lng"in C?C.lng:C.lon),Number(C.lat)):new g(Number(C.x),Number(C.y));throw new Error("`GeoPointLike` argument must be specified as a GeoPoint instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [x, y, z?]")}static fromString(C){let u=(C=C!=null?C:"").split(",");if(u.length==2)return new g(+u[0],+u[1]);if(u.length>=3)return new g(+u[0],+u[1],+u[2]);throw Error("param is not string format x,y")}clone(){return new g(this.x,this.y,this.z)}_add(C){return this.x+=C.x,this.y+=C.y,C.z!==void 0&&this.z!==void 0&&(this.z+=C.z),this}toArray(){const C=[this.x,this.y];return this.z!==void 0&&C.push(this.z),C}toString(C=6){let u=`${this.x.toFixed(C)}, ${this.y.toFixed(C)}`;return this.z&&(u+=", "+this.z.toFixed(C)),u}round(C=6){const u=1/Math.pow(10,C),f=this.clone();return f.x=Math.round(f.x/u)*u,f.y=Math.round(f.y/u)*u,f.z&&(f.y=Math.round(f.z/u)*u),f}roundStr(C=6){return this.round(C).toString(C)}add(C){return this.clone()._add(C)}_sub(C){return this.x-=C.x,this.y-=C.y,C.z!==void 0&&this.z!==void 0&&(this.z-=C.z),this}sub(C){return this.clone()._sub(C)}lengthSq(){return this.z!==void 0?Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z):Math.sqrt(this.x*this.x+this.y*this.y)}_multByPoint(C){return this.x*=C.x,this.y*=C.y,C.z!==void 0&&this.z!==void 0&&(this.z*=C.y),this}multByPoint(C){return this.clone()._multByPoint(C)}_divByPoint(C){return this.x/=C.x,this.y/=C.y,C.z!==void 0&&this.z!==void 0&&(this.z/=C.y),this}divByPoint(C){return this.clone()._divByPoint(C)}dot(C){return this.z!==void 0&&C.z!==void 0?this.x*C.x+this.y*C.y+this.z*C.z:this.x*C.x+this.y*C.y}lerp(C,u){return this.x+=(C.x-this.x)*u,this.y+=(C.y-this.y)*u,this.z!==void 0&&C.z!==void 0&&(this.z+=(C.z-this.z)*u),this}_mult(C){return this.x*=C,this.y*=C,this.z!==void 0&&(this.z*=C),this}mult(C){return this.clone()._mult(C)}_div(C){return this.x/=C,this.y/=C,this.z!==void 0&&(this.z/=C),this}div(C){return this.clone()._div(C)}_rotate(C){const u=Math.cos(C),f=Math.sin(C),n=u*this.x-f*this.y,S=f*this.x+u*this.y;return this.x=n,this.y=S,this}rotate(C){return this.clone()._rotate(C)}_rotateAround(C,u){const f=Math.cos(C),n=Math.sin(C),S=u.x+f*(this.x-u.x)-n*(this.y-u.y),k=u.y+n*(this.x-u.x)+f*(this.y-u.y);return this.x=S,this.y=k,this}roateAround(C,u){return this.clone()._rotateAround(C,u)}_matMult(C){const u=C[0]*this.x+C[1]*this.y,f=C[2]*this.x+C[3]*this.y;return this.x=u,this.y=f,this}matMult(C){return this.clone()._matMult(C)}_unit(){return this.div(this.mag()),this}unit(){return this.clone()._unit()}_perp(){const C=this.y;return this.y=this.x,this.x=-C,this}perp(){return this.clone()._perp()}_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundInt(){return this.clone()._round()}mag(){return Math.sqrt(this.x*this.x+this.y*this.y)}equals(C,u=8){const f=1/Math.pow(10,u);return Math.abs(this.x-C.x)<=f&&Math.abs(this.y-C.y)<=f}equalsZ(C){return this.x===C.x&&this.y===C.y&&this.z===C.z}distanceTo(C){return Math.sqrt(this.distSqr(C))}distSqr(C){const u=C.x-this.x,f=C.y-this.y;return u*u+f*f}angle(){return Math.atan2(this.y,this.x)}angleTo(C){return Math.atan2(this.y-C.y,this.x-C.x)}angleWith(C){return this.angleWithSep(C.x,C.y)}angleWithSep(C,u){return Math.atan2(this.x*u-this.y*C,this.x*C+this.y*u)}transform(C,u,f,n){f=f!=null?f:1,n=n!=null?n:0;const S=Math.cos(n*Math.PI/180),k=Math.sin(n*Math.PI/180),M=u.x+f*S*(this.x-C.x)-f*k*(this.y-C.y),P=u.y+f*k*(this.x-C.x)+f*S*(this.y-C.y);return this.x=M,this.y=P,this}}r.GeoPoint=g,r.geoPoint=function(x){return g.convert(x)}},function(e,r,l){var g=this&&this.__createBinding||(Object.create?function(C,u,f,n){n===void 0&&(n=f),Object.defineProperty(C,n,{enumerable:!0,get:function(){return u[f]}})}:function(C,u,f,n){n===void 0&&(n=f),C[n]=u[f]}),x=this&&this.__exportStar||function(C,u){for(var f in C)f==="default"||u.hasOwnProperty(f)||g(u,C,f)};Object.defineProperty(r,"__esModule",{value:!0}),x(l(1),r),x(l(10),r),x(l(11),r),x(l(9),r),x(l(75),r),x(l(76),r),x(l(12),r),x(l(77),r),x(l(17),r),x(l(18),r),x(l(13),r),x(l(36),r),x(l(78),r),x(l(79),r),x(l(80),r),x(l(81),r),x(l(82),r),x(l(83),r),x(l(84),r),x(l(85),r),x(l(88),r)},function(e,r,l){(function(g){e.exports=function(){var x,C,u;function f(n,S){if(x)if(C){var k="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.vjmaps.com/vjmaps-gl-js/api/#transpiling-v2'); }; var sharedChunk = {}; ("+x+")(sharedChunk); ("+C+")(sharedChunk); self.onerror = null;",M={};x(M),u=S(M),typeof window!="undefined"&&(u.workerUrl=window.URL.createObjectURL(new Blob([k],{type:"text/javascript"})))}else C=S;else x=S}return f(0,function(n){var S="2.0.0",k=M;function M(E,o,T,I){this.cx=3*E,this.bx=3*(T-E)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*o,this.by=3*(I-o)-this.cy,this.ay=1-this.cy-this.by,this.p1x=E,this.p1y=I,this.p2x=T,this.p2y=I}M.prototype.sampleCurveX=function(E){return((this.ax*E+this.bx)*E+this.cx)*E},M.prototype.sampleCurveY=function(E){return((this.ay*E+this.by)*E+this.cy)*E},M.prototype.sampleCurveDerivativeX=function(E){return(3*this.ax*E+2*this.bx)*E+this.cx},M.prototype.solveCurveX=function(E,o){var T,I,O,F,N;for(o===void 0&&(o=1e-6),O=E,N=0;N<8;N++){if(F=this.sampleCurveX(O)-E,Math.abs(F)<o)return O;var X=this.sampleCurveDerivativeX(O);if(Math.abs(X)<1e-6)break;O-=F/X}if((O=E)<(T=0))return T;if(O>(I=1))return I;for(;T<I;){if(F=this.sampleCurveX(O),Math.abs(F-E)<o)return O;E>F?T=O:I=O,O=.5*(I-T)+T}return O},M.prototype.solve=function(E,o){return this.sampleCurveY(this.solveCurveX(E,o))};var P=$;function $(E,o){this.x=E,this.y=o}$.prototype={clone:function(){return new $(this.x,this.y)},add:function(E){return this.clone()._add(E)},sub:function(E){return this.clone()._sub(E)},multByPoint:function(E){return this.clone()._multByPoint(E)},divByPoint:function(E){return this.clone()._divByPoint(E)},mult:function(E){return this.clone()._mult(E)},div:function(E){return this.clone()._div(E)},rotate:function(E){return this.clone()._rotate(E)},rotateAround:function(E,o){return this.clone()._rotateAround(E,o)},matMult:function(E){return this.clone()._matMult(E)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(E){return this.x===E.x&&this.y===E.y},dist:function(E){return Math.sqrt(this.distSqr(E))},distSqr:function(E){var o=E.x-this.x,T=E.y-this.y;return o*o+T*T},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(E){return Math.atan2(this.y-E.y,this.x-E.x)},angleWith:function(E){return this.angleWithSep(E.x,E.y)},angleWithSep:function(E,o){return Math.atan2(this.x*o-this.y*E,this.x*E+this.y*o)},_matMult:function(E){var o=E[2]*this.x+E[3]*this.y;return this.x=E[0]*this.x+E[1]*this.y,this.y=o,this},_add:function(E){return this.x+=E.x,this.y+=E.y,this},_sub:function(E){return this.x-=E.x,this.y-=E.y,this},_mult:function(E){return this.x*=E,this.y*=E,this},_div:function(E){return this.x/=E,this.y/=E,this},_multByPoint:function(E){return this.x*=E.x,this.y*=E.y,this},_divByPoint:function(E){return this.x/=E.x,this.y/=E.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var E=this.y;return this.y=this.x,this.x=-E,this},_rotate:function(E){var o=Math.cos(E),T=Math.sin(E),I=T*this.x+o*this.y;return this.x=o*this.x-T*this.y,this.y=I,this},_rotateAround:function(E,o){var T=Math.cos(E),I=Math.sin(E),O=o.y+I*(this.x-o.x)+T*(this.y-o.y);return this.x=o.x+T*(this.x-o.x)-I*(this.y-o.y),this.y=O,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},$.convert=function(E){return E instanceof $?E:Array.isArray(E)?new $(E[0],E[1]):E};var R=typeof self!="undefined"?self:{};const B=Math.pow(2,53)-1,V=Math.PI/180,j=180/Math.PI;function U(E){return E*V}const q=[[0,0],[1,0],[1,1],[0,1]];function Y(E){if(E<=0)return 0;if(E>=1)return 1;const o=E*E,T=o*E;return 4*(E<.5?T:3*(E-o)+T-.75)}function Q(E,o,T,I){const O=new k(E,o,T,I);return function(F){return O.solve(F)}}const te=Q(.25,.1,.25,1);function re(E,o,T){return Math.min(T,Math.max(o,E))}function oe(E,o,T){const I=T-o,O=((E-o)%I+I)%I+o;return O===o?T:O}function se(E,o,T){if(!E.length)return T(null,[]);let I=E.length;const O=new Array(E.length);let F=null;E.forEach((N,X)=>{o(N,(K,ne)=>{K&&(F=K),O[X]=ne,--I==0&&T(F,O)})})}function fe(E){const o=[];for(const T in E)o.push(E[T]);return o}function ge(E,...o){for(const T of o)for(const I in T)E[I]=T[I];return E}let Ce=1;function $e(){return Ce++}function be(){return function E(o){return o?(o^16*Math.random()>>o/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,E)}()}function ke(E){return E<=1?1:Math.pow(2,Math.ceil(Math.log(E)/Math.LN2))}function Ee(E){return!!E&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(E)}function He(E,o){E.forEach(T=>{o[T]&&(o[T]=o[T].bind(o))})}function rt(E,o){return E.indexOf(o,E.length-o.length)!==-1}function ft(E,o,T){const I={};for(const O in E)I[O]=o.call(T||this,E[O],O,E);return I}function bt(E,o,T){const I={};for(const O in E)o.call(T||this,E[O],O,E)&&(I[O]=E[O]);return I}function Ye(E){return Array.isArray(E)?E.map(Ye):typeof E=="object"&&E?ft(E,Ye):E}const De={};function at(E){De[E]||(typeof console!="undefined"&&console.warn(E),De[E]=!0)}function Ut(E,o,T){return(T.y-E.y)*(o.x-E.x)>(o.y-E.y)*(T.x-E.x)}function je(E){let o=0;for(let T,I,O=0,F=E.length,N=F-1;O<F;N=O++)T=E[O],I=E[N],o+=(I.x-T.x)*(T.y+I.y);return o}function tt(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function We(E){const o={};if(E.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(T,I,O,F)=>{const N=O||F;return o[I]=!N||N.toLowerCase(),""}),o["max-age"]){const T=parseInt(o["max-age"],10);isNaN(T)?delete o["max-age"]:o["max-age"]=T}return o}let Gt,gt,Mt,Rt=null;function Jt(E){if(Rt==null){const o=E.navigator?E.navigator.userAgent:null;Rt=!!E.safari||!(!o||!(/\b(iPad|iPhone|iPod)\b/.test(o)||o.match("Safari")&&!o.match("Chrome")))}return Rt}function ut(E){try{const o=R[E];return o.setItem("_vjmaps_test_",1),o.removeItem("_vjmaps_test_"),!0}catch{return!1}}const Ht={now:()=>Mt!==void 0?Mt:R.performance.now(),setNow(E){Mt=E},restoreNow(){Mt=void 0},frame(E){const o=R.requestAnimationFrame(E);return{cancel:()=>R.cancelAnimationFrame(o)}},getImageData(E,o=0){const T=R.document.createElement("canvas"),I=T.getContext("2d");if(!I)throw new Error("failed to create canvas 2d context");return T.width=E.width,T.height=E.height,I.drawImage(E,0,0,E.width,E.height),I.getImageData(-o,-o,E.width+2*o,E.height+2*o)},resolveURL:E=>(Gt||(Gt=R.document.createElement("a")),Gt.href=E,Gt.href),get devicePixelRatio(){return R.devicePixelRatio},get prefersReducedMotion(){return!!R.matchMedia&&(gt==null&&(gt=R.matchMedia("(prefers-reduced-motion: reduce)")),gt.matches)}};let cr;const Vt={API_URL:"https://vjmap.com     ",get API_URL_REGEX(){if(cr==null){const E=/^((https?:)?\/\/)?([^\/]+\.)?vjmaps\.c(n|om)(\/|\?|$)/i;try{cr=g.env.API_URL_REGEX!=null?new RegExp(g.env.API_URL_REGEX):E}catch{cr=E}}return cr},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.vjmap.com")===0?"https://events.vjmap.com/events/v2":this.API_URL.indexOf("https://vjmap.com     ")===0?"https://events.vjmap.com/events/v2 ":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:" https://apps.vjmap.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},Ne={supported:!1,testSupport:function(E){!St&&Tt&&(jt?or(E):ot=E)}};let ot,Tt,St=!1,jt=!1;function or(E){const o=E.createTexture();E.bindTexture(E.TEXTURE_2D,o);try{if(E.texImage2D(E.TEXTURE_2D,0,E.RGBA,E.RGBA,E.UNSIGNED_BYTE,Tt),E.isContextLost())return;Ne.supported=!0}catch{}E.deleteTexture(o),St=!0}R.document&&(Tt=R.document.createElement("img"),Tt.onload=function(){ot&&or(ot),ot=null,jt=!0},Tt.onerror=function(){St=!0,ot=null},Tt.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const xr="01",st="NO_ACCESS_TOKEN";function yt(E){return E.indexOf("vjmaps:")===0}function Ft(E){return Vt.API_URL_REGEX.test(E)}const zt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ct(E){const o=E.match(zt);if(!o)throw new Error("Unable to parse URL object");return{protocol:o[1],authority:o[2],path:o[3]||"/",params:o[4]?o[4].split("&"):[]}}function gr(E){const o=E.params.length?"?"+E.params.join("&"):"";return`${E.protocol}://${E.authority}${E.path}${o}`}function Mr(E){if(!E)return null;const o=E.split(".");if(!o||o.length!==3)return null;try{return JSON.parse(decodeURIComponent(R.atob(o[1]).split("").map(T=>"%"+("00"+T.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class Br{constructor(o){this.type=o,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(o){const T=Mr(Vt.ACCESS_TOKEN);let I="";return I=T&&T.u?R.btoa(encodeURIComponent(T.u).replace(/%([0-9A-F]{2})/g,(O,F)=>String.fromCharCode(Number("0x"+F)))):Vt.ACCESS_TOKEN||"",o?`vjmaps.eventData.${o}:${I}`:"vjmaps.eventData:"+I}fetchEventData(){const o=ut("localStorage"),T=this.getStorageKey(),I=this.getStorageKey("uuid");if(o)try{const O=R.localStorage.getItem(T);O&&(this.eventData=JSON.parse(O));const F=R.localStorage.getItem(I);F&&(this.anonId=F)}catch{at("Unable to read from LocalStorage")}}saveEventData(){const o=ut("localStorage"),T=this.getStorageKey(),I=this.getStorageKey("uuid");if(o)try{R.localStorage.setItem(I,this.anonId),Object.keys(this.eventData).length>=1&&R.localStorage.setItem(T,JSON.stringify(this.eventData))}catch{at("Unable to write to LocalStorage")}}processRequests(o){}postEvent(o,T,I,O){if(!Vt.EVENTS_URL)return;const F=Ct(Vt.EVENTS_URL);F.params.push("access_token="+(O||Vt.ACCESS_TOKEN||""));const N={event:this.type,created:new Date(o).toISOString(),sdkIdentifier:"vjmaps-gl-js",sdkVersion:S,skuId:xr,userId:this.anonId},X=T?ge(N,T):N,K={url:gr(F),headers:{"Content-Type":"text/plain"},body:JSON.stringify([X])};this.pendingRequest=ct(K,ne=>{this.pendingRequest=null,I(ne),this.saveEventData(),this.processRequests(O)})}queueRequest(o,T){this.queue.push(o),this.processRequests(T)}}const sn=new class extends Br{constructor(E){super("appUserTurnstile"),this._customAccessToken=E}postTurnstileEvent(E,o){Vt.EVENTS_URL&&Vt.ACCESS_TOKEN&&Array.isArray(E)&&E.some(T=>yt(T)||Ft(T))&&this.queueRequest(Date.now(),o)}processRequests(E){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const o=Mr(Vt.ACCESS_TOKEN),T=o?o.u:Vt.ACCESS_TOKEN;let I=T!==this.eventData.tokenU;Ee(this.anonId)||(this.anonId=be(),I=!0);const O=this.queue.shift();if(this.eventData.lastSuccess){const F=new Date(this.eventData.lastSuccess),N=new Date(O),X=(O-this.eventData.lastSuccess)/864e5;I=I||X>=1||X<-1||F.getDate()!==N.getDate()}else I=!0;if(!I)return this.processRequests();this.postEvent(O,{"enabled.telemetry":!1},F=>{F||(this.eventData.lastSuccess=O,this.eventData.tokenU=T)},E)}},Hr=sn.postTurnstileEvent.bind(sn),cn=new class extends Br{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(E,o,T,I){this.skuToken=o,this.errorCb=I,Vt.EVENTS_URL&&(T||Vt.ACCESS_TOKEN?this.queueRequest({id:E,timestamp:Date.now()},T):this.errorCb(new Error(st)))}processRequests(E){if(this.pendingRequest||this.queue.length===0)return;const{id:o,timestamp:T}=this.queue.shift();o&&this.success[o]||(this.anonId||this.fetchEventData(),Ee(this.anonId)||(this.anonId=be()),this.postEvent(T,{skuToken:this.skuToken},I=>{I?this.errorCb(I):o&&(this.success[o]=!0)},E))}},Ve=cn.postMapLoadEvent.bind(cn),ve=new class extends Br{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(E,o,T,I){if(!Vt.API_URL||!Vt.SESSION_PATH)return;const O=Ct(Vt.API_URL+Vt.SESSION_PATH);O.params.push("sku="+(o||"")),O.params.push("access_token="+(I||Vt.ACCESS_TOKEN||""));const F={url:gr(O),headers:{"Content-Type":"text/plain"}};this.pendingRequest=kt(F,N=>{this.pendingRequest=null,T(N),this.saveEventData(),this.processRequests(I)})}getSessionAPI(E,o,T,I){this.skuToken=o,this.errorCb=I,Vt.SESSION_PATH&&Vt.API_URL&&(T||Vt.ACCESS_TOKEN?this.queueRequest({id:E,timestamp:Date.now()},T):this.errorCb(new Error(st)))}processRequests(E){if(this.pendingRequest||this.queue.length===0)return;const{id:o,timestamp:T}=this.queue.shift();o&&this.success[o]||this.getSession(T,this.skuToken,I=>{I?this.errorCb(I):o&&(this.success[o]=!0)},E)}},lt=ve.getSessionAPI.bind(ve),sr=new Set,ir="vjmaps-tiles";let mr,kr,Pr=500,Or=50;function Er(){R.caches&&!mr&&(mr=R.caches.open(ir))}function Nr(E){const o=E.indexOf("?");return o<0?E:E.slice(0,o)}let un=1/0;const vn={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(vn);class Ze extends Error{constructor(o,T,I){T===401&&Ft(I)&&(o+=": you may have provided an invalid vjmaps access token. See  https://www.vjmap.com/api-documentation/#access-tokens-and-token-scopes"),super(o),this.status=T,this.url=I}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const _e=tt()?()=>self.worker&&self.worker.referrer:()=>(R.location.protocol==="blob:"?R.parent:R).location.href,Ie=function(E,o){if(!(/^file:/.test(T=E.url)||/^file:/.test(_e())&&!/^\w+:/.test(T))){if(R.fetch&&R.Request&&R.AbortController&&R.Request.prototype.hasOwnProperty("signal"))return function(I,O){const F=new R.AbortController,N=new R.Request(I.url,{method:I.method||"GET",body:I.body,credentials:I.credentials,headers:I.headers,referrer:_e(),signal:F.signal});let X=!1,K=!1;const ne=(ce=N.url).indexOf("sku=")>0&&Ft(ce);var ce;I.type==="json"&&N.headers.set("Accept","application/json");const he=(Te,Le,it)=>{if(K)return;if(Te&&Te.message!=="SecurityError"&&at(Te),Le&&it)return ye(Le);const xt=Date.now();R.fetch(N).then(Ot=>{if(Ot.ok){const Zt=ne?Ot.clone():null;return ye(Ot,Zt,xt)}return O(new Ze(Ot.statusText,Ot.status,I.url))}).catch(Ot=>{Ot.code!==20&&O(new Error(Ot.message))})},ye=(Te,Le,it)=>{(I.type==="arrayBuffer"?Te.arrayBuffer():I.type==="json"?Te.json():Te.text()).then(xt=>{K||(Le&&it&&function(Ot,Zt,ar){if(Er(),!mr)return;const vr={status:Zt.status,statusText:Zt.statusText,headers:new R.Headers};Zt.headers.forEach((br,Qr)=>vr.headers.set(Qr,br));const yr=We(Zt.headers.get("Cache-Control")||"");yr["no-store"]||(yr["max-age"]&&vr.headers.set("Expires",new Date(ar+1e3*yr["max-age"]).toUTCString()),new Date(vr.headers.get("Expires")).getTime()-ar<42e4||function(br,Qr){if(kr===void 0)try{new Response(new ReadableStream),kr=!0}catch{kr=!1}kr?Qr(br.body):br.blob().then(Qr)}(Zt,br=>{const Qr=new R.Response(br,vr);Er(),mr&&mr.then(qr=>qr.put(Nr(Ot.url),Qr)).catch(qr=>at(qr.message))}))}(N,Le,it),X=!0,O(null,xt,Te.headers.get("Cache-Control"),Te.headers.get("Expires")))}).catch(xt=>{K||O(new Error(xt.message))})};return ne?function(Te,Le){if(Er(),!mr)return Le(null);const it=Nr(Te.url);mr.then(xt=>{xt.match(it).then(Ot=>{const Zt=function(ar){if(!ar)return!1;const vr=new Date(ar.headers.get("Expires")||0),yr=We(ar.headers.get("Cache-Control")||"");return vr>Date.now()&&!yr["no-cache"]}(Ot);xt.delete(it),Zt&&xt.put(it,Ot.clone()),Le(null,Ot,Zt)}).catch(Le)}).catch(Le)}(N,he):he(null,null),{cancel:()=>{K=!0,X||F.abort()}}}(E,o);if(tt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",E,o,void 0,!0)}var T;return function(I,O){const F=new R.XMLHttpRequest;F.open(I.method||"GET",I.url,!0),I.type==="arrayBuffer"&&(F.responseType="arraybuffer");for(const N in I.headers)F.setRequestHeader(N,I.headers[N]);return I.type==="json"&&(F.responseType="text",F.setRequestHeader("Accept","application/json")),F.withCredentials=I.credentials==="include",F.onerror=()=>{O(new Error(F.statusText))},F.onload=()=>{if((F.status>=200&&F.status<300||F.status===0)&&F.response!==null){let N=F.response;if(I.type==="json")try{N=JSON.parse(F.response)}catch(X){return O(X)}O(null,N,F.getResponseHeader("Cache-Control"),F.getResponseHeader("Expires"))}else O(new Ze(F.statusText,F.status,I.url))},F.send(I.body),{cancel:()=>F.abort()}}(E,o)},Qe=function(E,o){return Ie(ge(E,{type:"arrayBuffer"}),o)},ct=function(E,o){return Ie(ge(E,{method:"POST"}),o)},kt=function(E,o){return Ie(ge(E,{method:"GET"}),o)};function er(E){const o=R.document.createElement("a");return o.href=E,o.protocol===R.document.location.protocol&&o.host===R.document.location.host}const Kt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let Nt,Qt;Nt=[],Qt=0;const Cr=function(E,o){if(Ne.supported&&(E.headers||(E.headers={}),E.headers.accept="image/webp,*/*"),Qt>=Vt.MAX_PARALLEL_IMAGE_REQUESTS){const F={requestParameters:E,callback:o,cancelled:!1,cancel(){this.cancelled=!0}};return Nt.push(F),F}Qt++;let T=!1;const I=()=>{if(!T)for(T=!0,Qt--;Nt.length&&Qt<Vt.MAX_PARALLEL_IMAGE_REQUESTS;){const F=Nt.shift(),{requestParameters:N,callback:X,cancelled:K}=F;K||(F.cancel=Cr(N,X).cancel)}},O=Qe(E,(F,N,X,K)=>{I(),F?o(F):N&&(R.createImageBitmap?function(ne,ce){const he=new R.Blob([new Uint8Array(ne)],{type:"image/png"});R.createImageBitmap(he).then(ye=>{ce(null,ye)}).catch(ye=>{ce(new Error(`Could not load image because of ${ye.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(N,(ne,ce)=>o(ne,ce,X,K)):function(ne,ce){const he=new R.Image,ye=R.URL;he.onload=()=>{ce(null,he),ye.revokeObjectURL(he.src),he.onload=null,R.requestAnimationFrame(()=>{he.src=Kt})},he.onerror=()=>ce(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const Te=new R.Blob([new Uint8Array(ne)],{type:"image/png"});he.src=ne.byteLength?ye.createObjectURL(Te):Kt}(N,(ne,ce)=>o(ne,ce,X,K)))});return{cancel:()=>{O.cancel(),I()}}};function Lr(E,o,T){T[E]&&T[E].indexOf(o)!==-1||(T[E]=T[E]||[],T[E].push(o))}function Tr(E,o,T){if(T&&T[E]){const I=T[E].indexOf(o);I!==-1&&T[E].splice(I,1)}}class ln{constructor(o,T={}){ge(this,T),this.type=o}}class mn extends ln{constructor(o,T={}){super("error",ge({error:o},T))}}class Yr{on(o,T){return this._listeners=this._listeners||{},Lr(o,T,this._listeners),this}off(o,T){return Tr(o,T,this._listeners),Tr(o,T,this._oneTimeListeners),this}once(o,T){return T?(this._oneTimeListeners=this._oneTimeListeners||{},Lr(o,T,this._oneTimeListeners),this):new Promise(I=>this.once(o,I))}fire(o,T){typeof o=="string"&&(o=new ln(o,T||{}));const I=o.type;if(this.listens(I)){o.target=this;const O=this._listeners&&this._listeners[I]?this._listeners[I].slice():[];for(const X of O)X.call(this,o);const F=this._oneTimeListeners&&this._oneTimeListeners[I]?this._oneTimeListeners[I].slice():[];for(const X of F)Tr(I,X,this._oneTimeListeners),X.call(this,o);const N=this._eventedParent;N&&(ge(o,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),N.fire(o))}else o instanceof mn&&console.error(o.error);return this}listens(o){return!!(this._listeners&&this._listeners[o]&&this._listeners[o].length>0||this._oneTimeListeners&&this._oneTimeListeners[o]&&this._oneTimeListeners[o].length>0||this._eventedParent&&this._eventedParent.listens(o))}setEventedParent(o,T){return this._eventedParent=o,this._eventedParentData=T,this}}var Et={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},fog:{type:"fog"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},vjmaps:{}},default:"vjmaps"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{},sky:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_sky:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},fog:{range:{type:"array",default:[.5,10],minimum:-20,maximum:20,length:2,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-blend":{type:"number","property-type":"data-constant",default:.1,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number","property-type":"data-constant",default:1,minimum:0,maximum:1e3,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_sky:{"sky-type":{type:"enum",values:{gradient:{},atmosphere:{}},default:"atmosphere",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{type:"array",value:"number",length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,requires:[{"sky-type":"atmosphere"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{type:"number",requires:[{"sky-type":"atmosphere"}],default:10,minimum:0,maximum:100,transition:!1,"property-type":"data-constant"},"sky-gradient-center":{type:"array",requires:[{"sky-type":"gradient"}],value:"number",default:[0,0],length:2,units:"degrees",minimum:[0,0],maximum:[360,180],transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{type:"number",requires:[{"sky-type":"gradient"}],default:90,minimum:0,maximum:180,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"sky-gradient":{type:"color",default:["interpolate",["linear"],["sky-radial-progress"],.8,"#87ceeb",1,"white"],transition:!1,requires:[{"sky-type":"gradient"}],expression:{interpolated:!0,parameters:["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{type:"color",default:"white",transition:!1,requires:[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};class _r{constructor(o,T,I,O){this.message=(o?o+": ":"")+I,O&&(this.identifier=O),T!=null&&T.__line__&&(this.line=T.__line__)}}function Wn(E){const o=E.value;return o?[new _r(E.key,o,"constants have been deprecated as of v8")]:[]}function jn(E,...o){for(const T of o)for(const I in T)E[I]=T[I];return E}function xn(E){return E instanceof Number||E instanceof String||E instanceof Boolean?E.valueOf():E}function zn(E){if(Array.isArray(E))return E.map(zn);if(E instanceof Object&&!(E instanceof Number||E instanceof String||E instanceof Boolean)){const o={};for(const T in E)o[T]=zn(E[T]);return o}return xn(E)}class li extends Error{constructor(o,T){super(T),this.message=T,this.key=o}}class Ri{constructor(o,T=[]){this.parent=o,this.bindings={};for(const[I,O]of T)this.bindings[I]=O}concat(o){return new Ri(this,o)}get(o){if(this.bindings[o])return this.bindings[o];if(this.parent)return this.parent.get(o);throw new Error(o+" not found in scope.")}has(o){return!!this.bindings[o]||!!this.parent&&this.parent.has(o)}}const ci={kind:"null"},tn={kind:"number"},On={kind:"string"},$n={kind:"boolean"},In={kind:"color"},vi={kind:"object"},Fn={kind:"value"},jo={kind:"collator"},Ui={kind:"formatted"},xi={kind:"resolvedImage"};function wi(E,o){return{kind:"array",itemType:E,N:o}}function Jn(E){if(E.kind==="array"){const o=Jn(E.itemType);return typeof E.N=="number"?`array<${o}, ${E.N}>`:E.itemType.kind==="value"?"array":`array<${o}>`}return E.kind}const vo=[ci,tn,On,$n,In,Ui,vi,wi(Fn),xi];function Mo(E,o){if(o.kind==="error")return null;if(E.kind==="array"){if(o.kind==="array"&&(o.N===0&&o.itemType.kind==="value"||!Mo(E.itemType,o.itemType))&&(typeof E.N!="number"||E.N===o.N))return null}else{if(E.kind===o.kind)return null;if(E.kind==="value"){for(const T of vo)if(!Mo(T,o))return null}}return`Expected ${Jn(E)} but found ${Jn(o)} instead.`}function yo(E,o){return o.some(T=>T.kind===E.kind)}function Co(E,o){return o.some(T=>T==="null"?E===null:T==="array"?Array.isArray(E):T==="object"?E&&!Array.isArray(E)&&typeof E=="object":T===typeof E)}function ji(E){var o={exports:{}};return E(o,o.exports),o.exports}var ti=ji(function(E,o){var T={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function I(X){return(X=Math.round(X))<0?0:X>255?255:X}function O(X){return I(X[X.length-1]==="%"?parseFloat(X)/100*255:parseInt(X))}function F(X){return(K=X[X.length-1]==="%"?parseFloat(X)/100:parseFloat(X))<0?0:K>1?1:K;var K}function N(X,K,ne){return ne<0?ne+=1:ne>1&&(ne-=1),6*ne<1?X+(K-X)*ne*6:2*ne<1?K:3*ne<2?X+(K-X)*(2/3-ne)*6:X}try{o.parseCSSColor=function(X){var K,ne=X.replace(/ /g,"").toLowerCase();if(ne in T)return T[ne].slice();if(ne[0]==="#")return ne.length===4?(K=parseInt(ne.substr(1),16))>=0&&K<=4095?[(3840&K)>>4|(3840&K)>>8,240&K|(240&K)>>4,15&K|(15&K)<<4,1]:null:ne.length===7&&(K=parseInt(ne.substr(1),16))>=0&&K<=16777215?[(16711680&K)>>16,(65280&K)>>8,255&K,1]:null;var ce=ne.indexOf("("),he=ne.indexOf(")");if(ce!==-1&&he+1===ne.length){var ye=ne.substr(0,ce),Te=ne.substr(ce+1,he-(ce+1)).split(","),Le=1;switch(ye){case"rgba":if(Te.length!==4)return null;Le=F(Te.pop());case"rgb":return Te.length!==3?null:[O(Te[0]),O(Te[1]),O(Te[2]),Le];case"hsla":if(Te.length!==4)return null;Le=F(Te.pop());case"hsl":if(Te.length!==3)return null;var it=(parseFloat(Te[0])%360+360)%360/360,xt=F(Te[1]),Ot=F(Te[2]),Zt=Ot<=.5?Ot*(xt+1):Ot+xt-Ot*xt,ar=2*Ot-Zt;return[I(255*N(ar,Zt,it+1/3)),I(255*N(ar,Zt,it)),I(255*N(ar,Zt,it-1/3)),Le];default:return null}}return null}}catch{}});class Qn{constructor(o,T,I,O=1){this.r=o,this.g=T,this.b=I,this.a=O}static parse(o){if(!o)return;if(o instanceof Qn)return o;if(typeof o!="string")return;const T=ti.parseCSSColor(o);return T?new Qn(T[0]/255*T[3],T[1]/255*T[3],T[2]/255*T[3],T[3]):void 0}toString(){const[o,T,I,O]=this.toArray();return`rgba(${Math.round(o)},${Math.round(T)},${Math.round(I)},${O})`}toArray(){const{r:o,g:T,b:I,a:O}=this;return O===0?[0,0,0,0]:[255*o/O,255*T/O,255*I/O,O]}}Qn.black=new Qn(0,0,0,1),Qn.white=new Qn(1,1,1,1),Qn.transparent=new Qn(0,0,0,0),Qn.red=new Qn(1,0,0,1),Qn.blue=new Qn(0,0,1,1);class la{constructor(o,T,I){this.sensitivity=o?T?"variant":"case":T?"accent":"base",this.locale=I,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(o,T){return this.collator.compare(o,T)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Sa{constructor(o,T,I,O,F){this.text=o,this.image=T,this.scale=I,this.fontStack=O,this.textColor=F}}class Ki{constructor(o){this.sections=o}static fromString(o){return new Ki([new Sa(o,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(o=>o.text.length!==0||o.image&&o.image.name.length!==0)}static factory(o){return o instanceof Ki?o:Ki.fromString(o)}toString(){return this.sections.length===0?"":this.sections.map(o=>o.text).join("")}serialize(){const o=["format"];for(const T of this.sections){if(T.image){o.push(["image",T.image.name]);continue}o.push(T.text);const I={};T.fontStack&&(I["text-font"]=["literal",T.fontStack.split(",")]),T.scale&&(I["font-scale"]=T.scale),T.textColor&&(I["text-color"]=["rgba"].concat(T.textColor.toArray())),o.push(I)}return o}}class uo{constructor(o){this.name=o.name,this.available=o.available}toString(){return this.name}static fromString(o){return o?new uo({name:o,available:!1}):null}serialize(){return["image",this.name]}}function Da(E,o,T,I){return typeof E=="number"&&E>=0&&E<=255&&typeof o=="number"&&o>=0&&o<=255&&typeof T=="number"&&T>=0&&T<=255?I===void 0||typeof I=="number"&&I>=0&&I<=1?null:`Invalid rgba value [${[E,o,T,I].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof I=="number"?[E,o,T,I]:[E,o,T]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function ki(E){if(E===null||typeof E=="string"||typeof E=="boolean"||typeof E=="number"||E instanceof Qn||E instanceof la||E instanceof Ki||E instanceof uo)return!0;if(Array.isArray(E)){for(const o of E)if(!ki(o))return!1;return!0}if(typeof E=="object"){for(const o in E)if(!ki(E[o]))return!1;return!0}return!1}function Ii(E){if(E===null)return ci;if(typeof E=="string")return On;if(typeof E=="boolean")return $n;if(typeof E=="number")return tn;if(E instanceof Qn)return In;if(E instanceof la)return jo;if(E instanceof Ki)return Ui;if(E instanceof uo)return xi;if(Array.isArray(E)){const o=E.length;let T;for(const I of E){const O=Ii(I);if(T){if(T===O)continue;T=Fn;break}T=O}return wi(T||Fn,o)}return vi}function Ra(E){const o=typeof E;return E===null?"":o==="string"||o==="number"||o==="boolean"?String(E):E instanceof Qn||E instanceof Ki||E instanceof uo?E.toString():JSON.stringify(E)}class Wi{constructor(o,T){this.type=o,this.value=T}static parse(o,T){if(o.length!==2)return T.error(`'literal' expression requires exactly one argument, but found ${o.length-1} instead.`);if(!ki(o[1]))return T.error("invalid value");const I=o[1];let O=Ii(I);const F=T.expectedType;return O.kind!=="array"||O.N!==0||!F||F.kind!=="array"||typeof F.N=="number"&&F.N!==0||(O=F),new Wi(O,I)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Qn?["rgba"].concat(this.value.toArray()):this.value instanceof Ki?this.value.serialize():this.value}}class si{constructor(o){this.name="ExpressionEvaluationError",this.message=o}toJSON(){return this.message}}const ua={string:On,number:tn,boolean:$n,object:vi};class Mi{constructor(o,T){this.type=o,this.args=T}static parse(o,T){if(o.length<2)return T.error("Expected at least one argument.");let I,O=1;const F=o[0];if(F==="array"){let X,K;if(o.length>2){const ne=o[1];if(typeof ne!="string"||!(ne in ua)||ne==="object")return T.error('The item type argument of "array" must be one of string, number, boolean',1);X=ua[ne],O++}else X=Fn;if(o.length>3){if(o[2]!==null&&(typeof o[2]!="number"||o[2]<0||o[2]!==Math.floor(o[2])))return T.error('The length argument to "array" must be a positive integer literal',2);K=o[2],O++}I=wi(X,K)}else I=ua[F];const N=[];for(;O<o.length;O++){const X=T.parse(o[O],O,Fn);if(!X)return null;N.push(X)}return new Mi(I,N)}evaluate(o){for(let T=0;T<this.args.length;T++){const I=this.args[T].evaluate(o);if(!Mo(this.type,Ii(I)))return I;if(T===this.args.length-1)throw new si(`Expected value to be of type ${Jn(this.type)}, but found ${Jn(Ii(I))} instead.`)}return null}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){const o=this.type,T=[o.kind];if(o.kind==="array"){const I=o.itemType;if(I.kind==="string"||I.kind==="number"||I.kind==="boolean"){T.push(I.kind);const O=o.N;(typeof O=="number"||this.args.length>1)&&T.push(O)}}return T.concat(this.args.map(I=>I.serialize()))}}class ho{constructor(o){this.type=Ui,this.sections=o}static parse(o,T){if(o.length<2)return T.error("Expected at least one argument.");const I=o[1];if(!Array.isArray(I)&&typeof I=="object")return T.error("First argument must be an image or text section.");const O=[];let F=!1;for(let N=1;N<=o.length-1;++N){const X=o[N];if(F&&typeof X=="object"&&!Array.isArray(X)){F=!1;let K=null;if(X["font-scale"]&&(K=T.parse(X["font-scale"],1,tn),!K))return null;let ne=null;if(X["text-font"]&&(ne=T.parse(X["text-font"],1,wi(On)),!ne))return null;let ce=null;if(X["text-color"]&&(ce=T.parse(X["text-color"],1,In),!ce))return null;const he=O[O.length-1];he.scale=K,he.font=ne,he.textColor=ce}else{const K=T.parse(o[N],1,Fn);if(!K)return null;const ne=K.type.kind;if(ne!=="string"&&ne!=="value"&&ne!=="null"&&ne!=="resolvedImage")return T.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");F=!0,O.push({content:K,scale:null,font:null,textColor:null})}}return new ho(O)}evaluate(o){return new Ki(this.sections.map(T=>{const I=T.content.evaluate(o);return Ii(I)===xi?new Sa("",I,null,null,null):new Sa(Ra(I),null,T.scale?T.scale.evaluate(o):null,T.font?T.font.evaluate(o).join(","):null,T.textColor?T.textColor.evaluate(o):null)}))}eachChild(o){for(const T of this.sections)o(T.content),T.scale&&o(T.scale),T.font&&o(T.font),T.textColor&&o(T.textColor)}outputDefined(){return!1}serialize(){const o=["format"];for(const T of this.sections){o.push(T.content.serialize());const I={};T.scale&&(I["font-scale"]=T.scale.serialize()),T.font&&(I["text-font"]=T.font.serialize()),T.textColor&&(I["text-color"]=T.textColor.serialize()),o.push(I)}return o}}class bo{constructor(o){this.type=xi,this.input=o}static parse(o,T){if(o.length!==2)return T.error("Expected two arguments.");const I=T.parse(o[1],1,On);return I?new bo(I):T.error("No image name provided.")}evaluate(o){const T=this.input.evaluate(o),I=uo.fromString(T);return I&&o.availableImages&&(I.available=o.availableImages.indexOf(T)>-1),I}eachChild(o){o(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const La={"to-boolean":$n,"to-color":In,"to-number":tn,"to-string":On};class Yo{constructor(o,T){this.type=o,this.args=T}static parse(o,T){if(o.length<2)return T.error("Expected at least one argument.");const I=o[0];if((I==="to-boolean"||I==="to-string")&&o.length!==2)return T.error("Expected one argument.");const O=La[I],F=[];for(let N=1;N<o.length;N++){const X=T.parse(o[N],N,Fn);if(!X)return null;F.push(X)}return new Yo(O,F)}evaluate(o){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(o));if(this.type.kind==="color"){let T,I;for(const O of this.args){if(T=O.evaluate(o),I=null,T instanceof Qn)return T;if(typeof T=="string"){const F=o.parseColor(T);if(F)return F}else if(Array.isArray(T)&&(I=T.length<3||T.length>4?`Invalid rbga value ${JSON.stringify(T)}: expected an array containing either three or four numeric values.`:Da(T[0],T[1],T[2],T[3]),!I))return new Qn(T[0]/255,T[1]/255,T[2]/255,T[3])}throw new si(I||`Could not parse color from value '${typeof T=="string"?T:String(JSON.stringify(T))}'`)}if(this.type.kind==="number"){let T=null;for(const I of this.args){if(T=I.evaluate(o),T===null)return 0;const O=Number(T);if(!isNaN(O))return O}throw new si(`Could not convert ${JSON.stringify(T)} to number.`)}return this.type.kind==="formatted"?Ki.fromString(Ra(this.args[0].evaluate(o))):this.type.kind==="resolvedImage"?uo.fromString(Ra(this.args[0].evaluate(o))):Ra(this.args[0].evaluate(o))}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){if(this.type.kind==="formatted")return new ho([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new bo(this.args[0]).serialize();const o=["to-"+this.type.kind];return this.eachChild(T=>{o.push(T.serialize())}),o}}const Z=["Unknown","Point","LineString","Polygon"];class ie{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?Z[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(o){let T=this._parseColorCache[o];return T||(T=this._parseColorCache[o]=Qn.parse(o)),T}}class le{constructor(o,T,I,O){this.name=o,this.type=T,this._evaluate=I,this.args=O}evaluate(o){return this._evaluate(o,this.args)}eachChild(o){this.args.forEach(o)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(o=>o.serialize()))}static parse(o,T){const I=o[0],O=le.definitions[I];if(!O)return T.error(`Unknown expression "${I}". If you wanted a literal array, use ["literal", [...]].`,0);const F=Array.isArray(O)?O[0]:O.type,N=Array.isArray(O)?[[O[1],O[2]]]:O.overloads,X=N.filter(([ne])=>!Array.isArray(ne)||ne.length===o.length-1);let K=null;for(const[ne,ce]of X){K=new oi(T.registry,T.path,null,T.scope);const he=[];let ye=!1;for(let Te=1;Te<o.length;Te++){const Le=o[Te],it=Array.isArray(ne)?ne[Te-1]:ne.type,xt=K.parse(Le,1+he.length,it);if(!xt){ye=!0;break}he.push(xt)}if(!ye)if(Array.isArray(ne)&&ne.length!==he.length)K.error(`Expected ${ne.length} arguments, but found ${he.length} instead.`);else{for(let Te=0;Te<he.length;Te++){const Le=Array.isArray(ne)?ne[Te]:ne.type,it=he[Te];K.concat(Te+1).checkSubtype(Le,it.type)}if(K.errors.length===0)return new le(I,F,ce,he)}}if(X.length===1)T.errors.push(...K.errors);else{const ne=(X.length?X:N).map(([he])=>{return ye=he,Array.isArray(ye)?`(${ye.map(Jn).join(", ")})`:`(${Jn(ye.type)}...)`;var ye}).join(" | "),ce=[];for(let he=1;he<o.length;he++){const ye=T.parse(o[he],1+ce.length);if(!ye)return null;ce.push(Jn(ye.type))}T.error(`Expected arguments of type ${ne}, but found (${ce.join(", ")}) instead.`)}return null}static register(o,T){le.definitions=T;for(const I in T)o[I]=le}}class xe{constructor(o,T,I){this.type=jo,this.locale=I,this.caseSensitive=o,this.diacriticSensitive=T}static parse(o,T){if(o.length!==2)return T.error("Expected one argument.");const I=o[1];if(typeof I!="object"||Array.isArray(I))return T.error("Collator options argument must be an object.");const O=T.parse(I["case-sensitive"]!==void 0&&I["case-sensitive"],1,$n);if(!O)return null;const F=T.parse(I["diacritic-sensitive"]!==void 0&&I["diacritic-sensitive"],1,$n);if(!F)return null;let N=null;return I.locale&&(N=T.parse(I.locale,1,On),!N)?null:new xe(O,F,N)}evaluate(o){return new la(this.caseSensitive.evaluate(o),this.diacriticSensitive.evaluate(o),this.locale?this.locale.evaluate(o):null)}eachChild(o){o(this.caseSensitive),o(this.diacriticSensitive),this.locale&&o(this.locale)}outputDefined(){return!1}serialize(){const o={};return o["case-sensitive"]=this.caseSensitive.serialize(),o["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(o.locale=this.locale.serialize()),["collator",o]}}const Me=8192;function Oe(E,o){E[0]=Math.min(E[0],o[0]),E[1]=Math.min(E[1],o[1]),E[2]=Math.max(E[2],o[0]),E[3]=Math.max(E[3],o[1])}function Be(E,o){return!(E[0]<=o[0]||E[2]>=o[2]||E[1]<=o[1]||E[3]>=o[3])}function nt(E,o){const T=(180+E[0])/360,I=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+E[1]*Math.PI/360)))/360,O=Math.pow(2,o.z);return[Math.round(T*O*Me),Math.round(I*O*Me)]}function mt(E,o,T){const I=E[0]-o[0],O=E[1]-o[1],F=E[0]-T[0],N=E[1]-T[1];return I*N-F*O==0&&I*F<=0&&O*N<=0}function pt(E,o){let T=!1;for(let N=0,X=o.length;N<X;N++){const K=o[N];for(let ne=0,ce=K.length;ne<ce-1;ne++){if(mt(E,K[ne],K[ne+1]))return!1;(O=K[ne])[1]>(I=E)[1]!=(F=K[ne+1])[1]>I[1]&&I[0]<(F[0]-O[0])*(I[1]-O[1])/(F[1]-O[1])+O[0]&&(T=!T)}}var I,O,F;return T}function qt(E,o){for(let T=0;T<o.length;T++)if(pt(E,o[T]))return!0;return!1}function Xt(E,o,T,I){const O=I[0]-T[0],F=I[1]-T[1],N=(E[0]-T[0])*F-O*(E[1]-T[1]),X=(o[0]-T[0])*F-O*(o[1]-T[1]);return N>0&&X<0||N<0&&X>0}function dr(E,o,T){for(const ne of T)for(let ce=0;ce<ne.length-1;++ce)if((X=[(N=ne[ce+1])[0]-(F=ne[ce])[0],N[1]-F[1]])[0]*(K=[(O=o)[0]-(I=E)[0],O[1]-I[1]])[1]-X[1]*K[0]!=0&&Xt(I,O,F,N)&&Xt(F,N,I,O))return!0;var I,O,F,N,X,K;return!1}function $r(E,o){for(let T=0;T<E.length;++T)if(!pt(E[T],o))return!1;for(let T=0;T<E.length-1;++T)if(dr(E[T],E[T+1],o))return!1;return!0}function lr(E,o){for(let T=0;T<o.length;T++)if($r(E,o[T]))return!0;return!1}function en(E,o,T){const I=[];for(let O=0;O<E.length;O++){const F=[];for(let N=0;N<E[O].length;N++){const X=nt(E[O][N],T);Oe(o,X),F.push(X)}I.push(F)}return I}function Kr(E,o,T){const I=[];for(let O=0;O<E.length;O++){const F=en(E[O],o,T);I.push(F)}return I}function Wr(E,o,T,I){if(E[0]<T[0]||E[0]>T[2]){const O=.5*I;let F=E[0]-T[0]>O?-I:T[0]-E[0]>O?I:0;F===0&&(F=E[0]-T[2]>O?-I:T[2]-E[0]>O?I:0),E[0]+=F}Oe(o,E)}function Xr(E,o,T,I){const O=Math.pow(2,I.z)*Me,F=[I.x*Me,I.y*Me],N=[];for(const X of E)for(const K of X){const ne=[K.x+F[0],K.y+F[1]];Wr(ne,o,T,O),N.push(ne)}return N}function pn(E,o,T,I){const O=Math.pow(2,I.z)*Me,F=[I.x*Me,I.y*Me],N=[];for(const K of E){const ne=[];for(const ce of K){const he=[ce.x+F[0],ce.y+F[1]];Oe(o,he),ne.push(he)}N.push(ne)}if(o[2]-o[0]<=O/2){(X=o)[0]=X[1]=1/0,X[2]=X[3]=-1/0;for(const K of N)for(const ne of K)Wr(ne,o,T,O)}var X;return N}class Dn{constructor(o,T){this.type=$n,this.geojson=o,this.geometries=T}static parse(o,T){if(o.length!==2)return T.error(`'within' expression requires exactly one argument, but found ${o.length-1} instead.`);if(ki(o[1])){const I=o[1];if(I.type==="FeatureCollection")for(let O=0;O<I.features.length;++O){const F=I.features[O].geometry.type;if(F==="Polygon"||F==="MultiPolygon")return new Dn(I,I.features[O].geometry)}else if(I.type==="Feature"){const O=I.geometry.type;if(O==="Polygon"||O==="MultiPolygon")return new Dn(I,I.geometry)}else if(I.type==="Polygon"||I.type==="MultiPolygon")return new Dn(I,I)}return T.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return function(T,I){const O=[1/0,1/0,-1/0,-1/0],F=[1/0,1/0,-1/0,-1/0],N=T.canonicalID();if(I.type==="Polygon"){const X=en(I.coordinates,F,N),K=Xr(T.geometry(),O,F,N);if(!Be(O,F))return!1;for(const ne of K)if(!pt(ne,X))return!1}if(I.type==="MultiPolygon"){const X=Kr(I.coordinates,F,N),K=Xr(T.geometry(),O,F,N);if(!Be(O,F))return!1;for(const ne of K)if(!qt(ne,X))return!1}return!0}(o,this.geometries);if(o.geometryType()==="LineString")return function(T,I){const O=[1/0,1/0,-1/0,-1/0],F=[1/0,1/0,-1/0,-1/0],N=T.canonicalID();if(I.type==="Polygon"){const X=en(I.coordinates,F,N),K=pn(T.geometry(),O,F,N);if(!Be(O,F))return!1;for(const ne of K)if(!$r(ne,X))return!1}if(I.type==="MultiPolygon"){const X=Kr(I.coordinates,F,N),K=pn(T.geometry(),O,F,N);if(!Be(O,F))return!1;for(const ne of K)if(!lr(ne,X))return!1}return!0}(o,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function Zn(E){if(E instanceof le&&(E.name==="get"&&E.args.length===1||E.name==="feature-state"||E.name==="has"&&E.args.length===1||E.name==="properties"||E.name==="geometry-type"||E.name==="id"||/^filter-/.test(E.name))||E instanceof Dn)return!1;let o=!0;return E.eachChild(T=>{o&&!Zn(T)&&(o=!1)}),o}function Cn(E){if(E instanceof le&&E.name==="feature-state")return!1;let o=!0;return E.eachChild(T=>{o&&!Cn(T)&&(o=!1)}),o}function ui(E,o){if(E instanceof le&&o.indexOf(E.name)>=0)return!1;let T=!0;return E.eachChild(I=>{T&&!ui(I,o)&&(T=!1)}),T}class yi{constructor(o,T){this.type=T.type,this.name=o,this.boundExpression=T}static parse(o,T){if(o.length!==2||typeof o[1]!="string")return T.error("'var' expression requires exactly one string literal argument.");const I=o[1];return T.scope.has(I)?new yi(I,T.scope.get(I)):T.error(`Unknown variable "${I}". Make sure "${I}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(o){return this.boundExpression.evaluate(o)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class oi{constructor(o,T=[],I,O=new Ri,F=[]){this.registry=o,this.path=T,this.key=T.map(N=>`[${N}]`).join(""),this.scope=O,this.errors=F,this.expectedType=I}parse(o,T,I,O,F={}){return T?this.concat(T,I,O)._parse(o,F):this._parse(o,F)}_parse(o,T){function I(O,F,N){return N==="assert"?new Mi(F,[O]):N==="coerce"?new Yo(F,[O]):O}if(o!==null&&typeof o!="string"&&typeof o!="boolean"&&typeof o!="number"||(o=["literal",o]),Array.isArray(o)){if(o.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const O=o[0];if(typeof O!="string")return this.error(`Expression name must be a string, but found ${typeof O} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const F=this.registry[O];if(F){let N=F.parse(o,this);if(!N)return null;if(this.expectedType){const X=this.expectedType,K=N.type;if(X.kind!=="string"&&X.kind!=="number"&&X.kind!=="boolean"&&X.kind!=="object"&&X.kind!=="array"||K.kind!=="value")if(X.kind!=="color"&&X.kind!=="formatted"&&X.kind!=="resolvedImage"||K.kind!=="value"&&K.kind!=="string"){if(this.checkSubtype(X,K))return null}else N=I(N,X,T.typeAnnotation||"coerce");else N=I(N,X,T.typeAnnotation||"assert")}if(!(N instanceof Wi)&&N.type.kind!=="resolvedImage"&&function X(K){if(K instanceof yi)return X(K.boundExpression);if(K instanceof le&&K.name==="error"||K instanceof xe||K instanceof Dn)return!1;const ne=K instanceof Yo||K instanceof Mi;let ce=!0;return K.eachChild(he=>{ce=ne?ce&&X(he):ce&&he instanceof Wi}),!!ce&&Zn(K)&&ui(K,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script"])}(N)){const X=new ie;try{N=new Wi(N.type,N.evaluate(X))}catch(K){return this.error(K.message),null}}return N}return this.error(`Unknown expression "${O}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(o===void 0?"'undefined' value invalid. Use null instead.":typeof o=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof o} instead.`)}concat(o,T,I){const O=typeof o=="number"?this.path.concat(o):this.path,F=I?this.scope.concat(I):this.scope;return new oi(this.registry,O,T||null,F,this.errors)}error(o,...T){const I=`${this.key}${T.map(O=>`[${O}]`).join("")}`;this.errors.push(new li(I,o))}checkSubtype(o,T){const I=Mo(o,T);return I&&this.error(I),I}}function Kn(E,o){const T=E.length-1;let I,O,F=0,N=T,X=0;for(;F<=N;)if(X=Math.floor((F+N)/2),I=E[X],O=E[X+1],I<=o){if(X===T||o<O)return X;F=X+1}else{if(!(I>o))throw new si("Input is not a number.");N=X-1}return 0}class Un{constructor(o,T,I){this.type=o,this.input=T,this.labels=[],this.outputs=[];for(const[O,F]of I)this.labels.push(O),this.outputs.push(F)}static parse(o,T){if(o.length-1<4)return T.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return T.error("Expected an even number of arguments.");const I=T.parse(o[1],1,tn);if(!I)return null;const O=[];let F=null;T.expectedType&&T.expectedType.kind!=="value"&&(F=T.expectedType);for(let N=1;N<o.length;N+=2){const X=N===1?-1/0:o[N],K=o[N+1],ne=N,ce=N+1;if(typeof X!="number")return T.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ne);if(O.length&&O[O.length-1][0]>=X)return T.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',ne);const he=T.parse(K,ce,F);if(!he)return null;F=F||he.type,O.push([X,he])}return new Un(F,I,O)}evaluate(o){const T=this.labels,I=this.outputs;if(T.length===1)return I[0].evaluate(o);const O=this.input.evaluate(o);if(O<=T[0])return I[0].evaluate(o);const F=T.length;return O>=T[F-1]?I[F-1].evaluate(o):I[Kn(T,O)].evaluate(o)}eachChild(o){o(this.input);for(const T of this.outputs)o(T)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}serialize(){const o=["step",this.input.serialize()];for(let T=0;T<this.labels.length;T++)T>0&&o.push(this.labels[T]),o.push(this.outputs[T].serialize());return o}}function Bn(E,o,T){return E*(1-T)+o*T}var Ai=Object.freeze({__proto__:null,number:Bn,color:function(E,o,T){return new Qn(Bn(E.r,o.r,T),Bn(E.g,o.g,T),Bn(E.b,o.b,T),Bn(E.a,o.a,T))},array:function(E,o,T){return E.map((I,O)=>Bn(I,o[O],T))}});const da=6/29*3*(6/29),Vo=Math.PI/180,_o=180/Math.PI;function Ko(E){return E>.008856451679035631?Math.pow(E,1/3):E/da+4/29}function io(E){return E>6/29?E*E*E:da*(E-4/29)}function Jo(E){return 255*(E<=.0031308?12.92*E:1.055*Math.pow(E,1/2.4)-.055)}function Ji(E){return(E/=255)<=.04045?E/12.92:Math.pow((E+.055)/1.055,2.4)}function Qo(E){const o=Ji(E.r),T=Ji(E.g),I=Ji(E.b),O=Ko((.4124564*o+.3575761*T+.1804375*I)/.95047),F=Ko((.2126729*o+.7151522*T+.072175*I)/1);return{l:116*F-16,a:500*(O-F),b:200*(F-Ko((.0193339*o+.119192*T+.9503041*I)/1.08883)),alpha:E.a}}function Ao(E){let o=(E.l+16)/116,T=isNaN(E.a)?o:o+E.a/500,I=isNaN(E.b)?o:o-E.b/200;return o=1*io(o),T=.95047*io(T),I=1.08883*io(I),new Qn(Jo(3.2404542*T-1.5371385*o-.4985314*I),Jo(-.969266*T+1.8760108*o+.041556*I),Jo(.0556434*T-.2040259*o+1.0572252*I),E.alpha)}function ea(E,o,T){const I=o-E;return E+T*(I>180||I<-180?I-360*Math.round(I/360):I)}const Uo={forward:Qo,reverse:Ao,interpolate:function(E,o,T){return{l:Bn(E.l,o.l,T),a:Bn(E.a,o.a,T),b:Bn(E.b,o.b,T),alpha:Bn(E.alpha,o.alpha,T)}}},Qi={forward:function(E){const{l:o,a:T,b:I}=Qo(E),O=Math.atan2(I,T)*_o;return{h:O<0?O+360:O,c:Math.sqrt(T*T+I*I),l:o,alpha:E.a}},reverse:function(E){const o=E.h*Vo,T=E.c;return Ao({l:E.l,a:Math.cos(o)*T,b:Math.sin(o)*T,alpha:E.alpha})},interpolate:function(E,o,T){return{h:ea(E.h,o.h,T),c:Bn(E.c,o.c,T),l:Bn(E.l,o.l,T),alpha:Bn(E.alpha,o.alpha,T)}}};var Go=Object.freeze({__proto__:null,lab:Uo,hcl:Qi});class ri{constructor(o,T,I,O,F){this.type=o,this.operator=T,this.interpolation=I,this.input=O,this.labels=[],this.outputs=[];for(const[N,X]of F)this.labels.push(N),this.outputs.push(X)}static interpolationFactor(o,T,I,O){let F=0;if(o.name==="exponential")F=Li(T,o.base,I,O);else if(o.name==="linear")F=Li(T,1,I,O);else if(o.name==="cubic-bezier"){const N=o.controlPoints;F=new k(N[0],N[1],N[2],N[3]).solve(Li(T,1,I,O))}return F}static parse(o,T){let[I,O,F,...N]=o;if(!Array.isArray(O)||O.length===0)return T.error("Expected an interpolation type expression.",1);if(O[0]==="linear")O={name:"linear"};else if(O[0]==="exponential"){const ne=O[1];if(typeof ne!="number")return T.error("Exponential interpolation requires a numeric base.",1,1);O={name:"exponential",base:ne}}else{if(O[0]!=="cubic-bezier")return T.error("Unknown interpolation type "+String(O[0]),1,0);{const ne=O.slice(1);if(ne.length!==4||ne.some(ce=>typeof ce!="number"||ce<0||ce>1))return T.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);O={name:"cubic-bezier",controlPoints:ne}}}if(o.length-1<4)return T.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if((o.length-1)%2!=0)return T.error("Expected an even number of arguments.");if(F=T.parse(F,2,tn),!F)return null;const X=[];let K=null;I==="interpolate-hcl"||I==="interpolate-lab"?K=In:T.expectedType&&T.expectedType.kind!=="value"&&(K=T.expectedType);for(let ne=0;ne<N.length;ne+=2){const ce=N[ne],he=N[ne+1],ye=ne+3,Te=ne+4;if(typeof ce!="number")return T.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',ye);if(X.length&&X[X.length-1][0]>=ce)return T.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',ye);const Le=T.parse(he,Te,K);if(!Le)return null;K=K||Le.type,X.push([ce,Le])}return K.kind==="number"||K.kind==="color"||K.kind==="array"&&K.itemType.kind==="number"&&typeof K.N=="number"?new ri(K,I,O,F,X):T.error(`Type ${Jn(K)} is not interpolatable.`)}evaluate(o){const T=this.labels,I=this.outputs;if(T.length===1)return I[0].evaluate(o);const O=this.input.evaluate(o);if(O<=T[0])return I[0].evaluate(o);const F=T.length;if(O>=T[F-1])return I[F-1].evaluate(o);const N=Kn(T,O),X=ri.interpolationFactor(this.interpolation,O,T[N],T[N+1]),K=I[N].evaluate(o),ne=I[N+1].evaluate(o);return this.operator==="interpolate"?Ai[this.type.kind.toLowerCase()](K,ne,X):this.operator==="interpolate-hcl"?Qi.reverse(Qi.interpolate(Qi.forward(K),Qi.forward(ne),X)):Uo.reverse(Uo.interpolate(Uo.forward(K),Uo.forward(ne),X))}eachChild(o){o(this.input);for(const T of this.outputs)o(T)}outputDefined(){return this.outputs.every(o=>o.outputDefined())}serialize(){let o;o=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const T=[this.operator,o,this.input.serialize()];for(let I=0;I<this.labels.length;I++)T.push(this.labels[I],this.outputs[I].serialize());return T}}function Li(E,o,T,I){const O=I-T,F=E-T;return O===0?0:o===1?F/O:(Math.pow(o,F)-1)/(Math.pow(o,O)-1)}class Hi{constructor(o,T){this.type=o,this.args=T}static parse(o,T){if(o.length<2)return T.error("Expectected at least one argument.");let I=null;const O=T.expectedType;O&&O.kind!=="value"&&(I=O);const F=[];for(const X of o.slice(1)){const K=T.parse(X,1+F.length,I,void 0,{typeAnnotation:"omit"});if(!K)return null;I=I||K.type,F.push(K)}const N=O&&F.some(X=>Mo(O,X.type));return new Hi(N?Fn:I,F)}evaluate(o){let T,I=null,O=0;for(const F of this.args)if(O++,I=F.evaluate(o),I&&I instanceof uo&&!I.available&&(T||(T=I.name),I=null,O===this.args.length&&(I=T)),I!==null)break;return I}eachChild(o){this.args.forEach(o)}outputDefined(){return this.args.every(o=>o.outputDefined())}serialize(){const o=["coalesce"];return this.eachChild(T=>{o.push(T.serialize())}),o}}class zi{constructor(o,T){this.type=T.type,this.bindings=[].concat(o),this.result=T}evaluate(o){return this.result.evaluate(o)}eachChild(o){for(const T of this.bindings)o(T[1]);o(this.result)}static parse(o,T){if(o.length<4)return T.error(`Expected at least 3 arguments, but found ${o.length-1} instead.`);const I=[];for(let F=1;F<o.length-1;F+=2){const N=o[F];if(typeof N!="string")return T.error(`Expected string, but found ${typeof N} instead.`,F);if(/[^a-zA-Z0-9_]/.test(N))return T.error("Variable names must contain only alphanumeric characters or '_'.",F);const X=T.parse(o[F+1],F+1);if(!X)return null;I.push([N,X])}const O=T.parse(o[o.length-1],o.length-1,T.expectedType,I);return O?new zi(I,O):null}outputDefined(){return this.result.outputDefined()}serialize(){const o=["let"];for(const[T,I]of this.bindings)o.push(T,I.serialize());return o.push(this.result.serialize()),o}}class Ea{constructor(o,T,I){this.type=o,this.index=T,this.input=I}static parse(o,T){if(o.length!==3)return T.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const I=T.parse(o[1],1,tn),O=T.parse(o[2],2,wi(T.expectedType||Fn));return I&&O?new Ea(O.type.itemType,I,O):null}evaluate(o){const T=this.index.evaluate(o),I=this.input.evaluate(o);if(T<0)throw new si(`Array index out of bounds: ${T} < 0.`);if(T>=I.length)throw new si(`Array index out of bounds: ${T} > ${I.length-1}.`);if(T!==Math.floor(T))throw new si(`Array index must be an integer, but found ${T} instead.`);return I[T]}eachChild(o){o(this.index),o(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class ha{constructor(o,T){this.type=$n,this.needle=o,this.haystack=T}static parse(o,T){if(o.length!==3)return T.error(`Expected 2 arguments, but found ${o.length-1} instead.`);const I=T.parse(o[1],1,Fn),O=T.parse(o[2],2,Fn);return I&&O?yo(I.type,[$n,On,tn,ci,Fn])?new ha(I,O):T.error(`Expected first argument to be of type boolean, string, number or null, but found ${Jn(I.type)} instead`):null}evaluate(o){const T=this.needle.evaluate(o),I=this.haystack.evaluate(o);if(!I)return!1;if(!Co(T,["boolean","string","number","null"]))throw new si(`Expected first argument to be of type boolean, string, number or null, but found ${Jn(Ii(T))} instead.`);if(!Co(I,["string","array"]))throw new si(`Expected second argument to be of type array or string, but found ${Jn(Ii(I))} instead.`);return I.indexOf(T)>=0}eachChild(o){o(this.needle),o(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class Po{constructor(o,T,I){this.type=tn,this.needle=o,this.haystack=T,this.fromIndex=I}static parse(o,T){if(o.length<=2||o.length>=5)return T.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const I=T.parse(o[1],1,Fn),O=T.parse(o[2],2,Fn);if(!I||!O)return null;if(!yo(I.type,[$n,On,tn,ci,Fn]))return T.error(`Expected first argument to be of type boolean, string, number or null, but found ${Jn(I.type)} instead`);if(o.length===4){const F=T.parse(o[3],3,tn);return F?new Po(I,O,F):null}return new Po(I,O)}evaluate(o){const T=this.needle.evaluate(o),I=this.haystack.evaluate(o);if(!Co(T,["boolean","string","number","null"]))throw new si(`Expected first argument to be of type boolean, string, number or null, but found ${Jn(Ii(T))} instead.`);if(!Co(I,["string","array"]))throw new si(`Expected second argument to be of type array or string, but found ${Jn(Ii(I))} instead.`);if(this.fromIndex){const O=this.fromIndex.evaluate(o);return I.indexOf(T,O)}return I.indexOf(T)}eachChild(o){o(this.needle),o(this.haystack),this.fromIndex&&o(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const o=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),o]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class ps{constructor(o,T,I,O,F,N){this.inputType=o,this.type=T,this.input=I,this.cases=O,this.outputs=F,this.otherwise=N}static parse(o,T){if(o.length<5)return T.error(`Expected at least 4 arguments, but found only ${o.length-1}.`);if(o.length%2!=1)return T.error("Expected an even number of arguments.");let I,O;T.expectedType&&T.expectedType.kind!=="value"&&(O=T.expectedType);const F={},N=[];for(let ne=2;ne<o.length-1;ne+=2){let ce=o[ne];const he=o[ne+1];Array.isArray(ce)||(ce=[ce]);const ye=T.concat(ne);if(ce.length===0)return ye.error("Expected at least one branch label.");for(const Le of ce){if(typeof Le!="number"&&typeof Le!="string")return ye.error("Branch labels must be numbers or strings.");if(typeof Le=="number"&&Math.abs(Le)>Number.MAX_SAFE_INTEGER)return ye.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof Le=="number"&&Math.floor(Le)!==Le)return ye.error("Numeric branch labels must be integer values.");if(I){if(ye.checkSubtype(I,Ii(Le)))return null}else I=Ii(Le);if(F[String(Le)]!==void 0)return ye.error("Branch labels must be unique.");F[String(Le)]=N.length}const Te=T.parse(he,ne,O);if(!Te)return null;O=O||Te.type,N.push(Te)}const X=T.parse(o[1],1,Fn);if(!X)return null;const K=T.parse(o[o.length-1],o.length-1,O);return K?X.type.kind!=="value"&&T.concat(1).checkSubtype(I,X.type)?null:new ps(I,O,X,F,N,K):null}evaluate(o){const T=this.input.evaluate(o);return(Ii(T)===this.inputType&&this.outputs[this.cases[T]]||this.otherwise).evaluate(o)}eachChild(o){o(this.input),this.outputs.forEach(o),o(this.otherwise)}outputDefined(){return this.outputs.every(o=>o.outputDefined())&&this.otherwise.outputDefined()}serialize(){const o=["match",this.input.serialize()],T=Object.keys(this.cases).sort(),I=[],O={};for(const N of T){const X=O[this.cases[N]];X===void 0?(O[this.cases[N]]=I.length,I.push([this.cases[N],[N]])):I[X][1].push(N)}const F=N=>this.inputType.kind==="number"?Number(N):N;for(const[N,X]of I)o.push(X.length===1?F(X[0]):X.map(F)),o.push(this.outputs[N].serialize());return o.push(this.otherwise.serialize()),o}}class za{constructor(o,T,I){this.type=o,this.branches=T,this.otherwise=I}static parse(o,T){if(o.length<4)return T.error(`Expected at least 3 arguments, but found only ${o.length-1}.`);if(o.length%2!=0)return T.error("Expected an odd number of arguments.");let I;T.expectedType&&T.expectedType.kind!=="value"&&(I=T.expectedType);const O=[];for(let N=1;N<o.length-1;N+=2){const X=T.parse(o[N],N,$n);if(!X)return null;const K=T.parse(o[N+1],N+1,I);if(!K)return null;O.push([X,K]),I=I||K.type}const F=T.parse(o[o.length-1],o.length-1,I);return F?new za(I,O,F):null}evaluate(o){for(const[T,I]of this.branches)if(T.evaluate(o))return I.evaluate(o);return this.otherwise.evaluate(o)}eachChild(o){for(const[T,I]of this.branches)o(T),o(I);o(this.otherwise)}outputDefined(){return this.branches.every(([o,T])=>T.outputDefined())&&this.otherwise.outputDefined()}serialize(){const o=["case"];return this.eachChild(T=>{o.push(T.serialize())}),o}}class po{constructor(o,T,I,O){this.type=o,this.input=T,this.beginIndex=I,this.endIndex=O}static parse(o,T){if(o.length<=2||o.length>=5)return T.error(`Expected 3 or 4 arguments, but found ${o.length-1} instead.`);const I=T.parse(o[1],1,Fn),O=T.parse(o[2],2,tn);if(!I||!O)return null;if(!yo(I.type,[wi(Fn),On,Fn]))return T.error(`Expected first argument to be of type array or string, but found ${Jn(I.type)} instead`);if(o.length===4){const F=T.parse(o[3],3,tn);return F?new po(I.type,I,O,F):null}return new po(I.type,I,O)}evaluate(o){const T=this.input.evaluate(o),I=this.beginIndex.evaluate(o);if(!Co(T,["string","array"]))throw new si(`Expected first argument to be of type array or string, but found ${Jn(Ii(T))} instead.`);if(this.endIndex){const O=this.endIndex.evaluate(o);return T.slice(I,O)}return T.slice(I)}eachChild(o){o(this.input),o(this.beginIndex),this.endIndex&&o(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const o=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),o]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function eo(E,o){return E==="=="||E==="!="?o.kind==="boolean"||o.kind==="string"||o.kind==="number"||o.kind==="null"||o.kind==="value":o.kind==="string"||o.kind==="number"||o.kind==="value"}function Zi(E,o,T,I){return I.compare(o,T)===0}function xo(E,o,T){const I=E!=="=="&&E!=="!=";return class Ch{constructor(F,N,X){this.type=$n,this.lhs=F,this.rhs=N,this.collator=X,this.hasUntypedArgument=F.type.kind==="value"||N.type.kind==="value"}static parse(F,N){if(F.length!==3&&F.length!==4)return N.error("Expected two or three arguments.");const X=F[0];let K=N.parse(F[1],1,Fn);if(!K)return null;if(!eo(X,K.type))return N.concat(1).error(`"${X}" comparisons are not supported for type '${Jn(K.type)}'.`);let ne=N.parse(F[2],2,Fn);if(!ne)return null;if(!eo(X,ne.type))return N.concat(2).error(`"${X}" comparisons are not supported for type '${Jn(ne.type)}'.`);if(K.type.kind!==ne.type.kind&&K.type.kind!=="value"&&ne.type.kind!=="value")return N.error(`Cannot compare types '${Jn(K.type)}' and '${Jn(ne.type)}'.`);I&&(K.type.kind==="value"&&ne.type.kind!=="value"?K=new Mi(ne.type,[K]):K.type.kind!=="value"&&ne.type.kind==="value"&&(ne=new Mi(K.type,[ne])));let ce=null;if(F.length===4){if(K.type.kind!=="string"&&ne.type.kind!=="string"&&K.type.kind!=="value"&&ne.type.kind!=="value")return N.error("Cannot use collator to compare non-string types.");if(ce=N.parse(F[3],3,jo),!ce)return null}return new Ch(K,ne,ce)}evaluate(F){const N=this.lhs.evaluate(F),X=this.rhs.evaluate(F);if(I&&this.hasUntypedArgument){const K=Ii(N),ne=Ii(X);if(K.kind!==ne.kind||K.kind!=="string"&&K.kind!=="number")throw new si(`Expected arguments for "${E}" to be (string, string) or (number, number), but found (${K.kind}, ${ne.kind}) instead.`)}if(this.collator&&!I&&this.hasUntypedArgument){const K=Ii(N),ne=Ii(X);if(K.kind!=="string"||ne.kind!=="string")return o(F,N,X)}return this.collator?T(F,N,X,this.collator.evaluate(F)):o(F,N,X)}eachChild(F){F(this.lhs),F(this.rhs),this.collator&&F(this.collator)}outputDefined(){return!0}serialize(){const F=[E];return this.eachChild(N=>{F.push(N.serialize())}),F}}}const pa=xo("==",function(E,o,T){return o===T},Zi),fa=xo("!=",function(E,o,T){return o!==T},function(E,o,T,I){return!Zi(0,o,T,I)}),Lo=xo("<",function(E,o,T){return o<T},function(E,o,T,I){return I.compare(o,T)<0}),ks=xo(">",function(E,o,T){return o>T},function(E,o,T,I){return I.compare(o,T)>0}),ts=xo("<=",function(E,o,T){return o<=T},function(E,o,T,I){return I.compare(o,T)<=0}),Fa=xo(">=",function(E,o,T){return o>=T},function(E,o,T,I){return I.compare(o,T)>=0});class ta{constructor(o,T,I,O,F){this.type=On,this.number=o,this.locale=T,this.currency=I,this.minFractionDigits=O,this.maxFractionDigits=F}static parse(o,T){if(o.length!==3)return T.error("Expected two arguments.");const I=T.parse(o[1],1,tn);if(!I)return null;const O=o[2];if(typeof O!="object"||Array.isArray(O))return T.error("NumberFormat options argument must be an object.");let F=null;if(O.locale&&(F=T.parse(O.locale,1,On),!F))return null;let N=null;if(O.currency&&(N=T.parse(O.currency,1,On),!N))return null;let X=null;if(O["min-fraction-digits"]&&(X=T.parse(O["min-fraction-digits"],1,tn),!X))return null;let K=null;return O["max-fraction-digits"]&&(K=T.parse(O["max-fraction-digits"],1,tn),!K)?null:new ta(I,F,N,X,K)}evaluate(o){return new Intl.NumberFormat(this.locale?this.locale.evaluate(o):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(o):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(o):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(o):void 0}).format(this.number.evaluate(o))}eachChild(o){o(this.number),this.locale&&o(this.locale),this.currency&&o(this.currency),this.minFractionDigits&&o(this.minFractionDigits),this.maxFractionDigits&&o(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const o={};return this.locale&&(o.locale=this.locale.serialize()),this.currency&&(o.currency=this.currency.serialize()),this.minFractionDigits&&(o["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(o["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),o]}}class ma{constructor(o){this.type=tn,this.input=o}static parse(o,T){if(o.length!==2)return T.error(`Expected 1 argument, but found ${o.length-1} instead.`);const I=T.parse(o[1],1);return I?I.type.kind!=="array"&&I.type.kind!=="string"&&I.type.kind!=="value"?T.error(`Expected argument of type string or array, but found ${Jn(I.type)} instead.`):new ma(I):null}evaluate(o){const T=this.input.evaluate(o);if(typeof T=="string"||Array.isArray(T))return T.length;throw new si(`Expected value to be of type string or array, but found ${Jn(Ii(T))} instead.`)}eachChild(o){o(this.input)}outputDefined(){return!1}serialize(){const o=["length"];return this.eachChild(T=>{o.push(T.serialize())}),o}}const Ta={"==":pa,"!=":fa,">":ks,"<":Lo,">=":Fa,"<=":ts,array:Mi,at:Ea,boolean:Mi,case:za,coalesce:Hi,collator:xe,format:ho,image:bo,in:ha,"index-of":Po,interpolate:ri,"interpolate-hcl":ri,"interpolate-lab":ri,length:ma,let:zi,literal:Wi,match:ps,number:Mi,"number-format":ta,object:Mi,slice:po,step:Un,string:Mi,"to-boolean":Yo,"to-color":Yo,"to-number":Yo,"to-string":Yo,var:yi,within:Dn};function qa(E,[o,T,I,O]){o=o.evaluate(E),T=T.evaluate(E),I=I.evaluate(E);const F=O?O.evaluate(E):1,N=Da(o,T,I,F);if(N)throw new si(N);return new Qn(o/255*F,T/255*F,I/255*F,F)}function fs(E,o){return E in o}function ka(E,o){const T=o[E];return T===void 0?null:T}function ga(E){return{type:E}}function Wa(E){return{result:"success",value:E}}function Ho(E){return{result:"error",value:E}}function rs(E){return E["property-type"]==="data-driven"||E["property-type"]==="cross-faded-data-driven"}function Gs(E){return!!E.expression&&E.expression.parameters.indexOf("zoom")>-1}function Is(E){return!!E.expression&&E.expression.interpolated}function di(E){return E instanceof Number?"number":E instanceof String?"string":E instanceof Boolean?"boolean":Array.isArray(E)?"array":E===null?"null":typeof E}function Za(E){return typeof E=="object"&&E!==null&&!Array.isArray(E)}function Hs(E){return E}function gs(E,o,T){return E!==void 0?E:o!==void 0?o:T!==void 0?T:void 0}function wl(E,o,T,I,O){return gs(typeof T===O?I[T]:void 0,E.default,o.default)}function Ul(E,o,T){if(di(T)!=="number")return gs(E.default,o.default);const I=E.stops.length;if(I===1||T<=E.stops[0][0])return E.stops[0][1];if(T>=E.stops[I-1][0])return E.stops[I-1][1];const O=Kn(E.stops.map(F=>F[0]),T);return E.stops[O][1]}function Cl(E,o,T){const I=E.base!==void 0?E.base:1;if(di(T)!=="number")return gs(E.default,o.default);const O=E.stops.length;if(O===1||T<=E.stops[0][0])return E.stops[0][1];if(T>=E.stops[O-1][0])return E.stops[O-1][1];const F=Kn(E.stops.map(ce=>ce[0]),T),N=function(ce,he,ye,Te){const Le=Te-ye,it=ce-ye;return Le===0?0:he===1?it/Le:(Math.pow(he,it)-1)/(Math.pow(he,Le)-1)}(T,I,E.stops[F][0],E.stops[F+1][0]),X=E.stops[F][1],K=E.stops[F+1][1];let ne=Ai[o.type]||Hs;if(E.colorSpace&&E.colorSpace!=="rgb"){const ce=Go[E.colorSpace];ne=(he,ye)=>ce.reverse(ce.interpolate(ce.forward(he),ce.forward(ye),N))}return typeof X.evaluate=="function"?{evaluate(...ce){const he=X.evaluate.apply(void 0,ce),ye=K.evaluate.apply(void 0,ce);if(he!==void 0&&ye!==void 0)return ne(he,ye,N)}}:ne(X,K,N)}function Sl(E,o,T){return o.type==="color"?T=Qn.parse(T):o.type==="formatted"?T=Ki.fromString(T.toString()):o.type==="resolvedImage"?T=uo.fromString(T.toString()):di(T)===o.type||o.type==="enum"&&o.values[T]||(T=void 0),gs(T,E.default,o.default)}le.register(Ta,{error:[{kind:"error"},[On],(E,[o])=>{throw new si(o.evaluate(E))}],typeof:[On,[Fn],(E,[o])=>Jn(Ii(o.evaluate(E)))],"to-rgba":[wi(tn,4),[In],(E,[o])=>o.evaluate(E).toArray()],rgb:[In,[tn,tn,tn],qa],rgba:[In,[tn,tn,tn,tn],qa],has:{type:$n,overloads:[[[On],(E,[o])=>fs(o.evaluate(E),E.properties())],[[On,vi],(E,[o,T])=>fs(o.evaluate(E),T.evaluate(E))]]},get:{type:Fn,overloads:[[[On],(E,[o])=>ka(o.evaluate(E),E.properties())],[[On,vi],(E,[o,T])=>ka(o.evaluate(E),T.evaluate(E))]]},"feature-state":[Fn,[On],(E,[o])=>ka(o.evaluate(E),E.featureState||{})],properties:[vi,[],E=>E.properties()],"geometry-type":[On,[],E=>E.geometryType()],id:[Fn,[],E=>E.id()],zoom:[tn,[],E=>E.globals.zoom],"heatmap-density":[tn,[],E=>E.globals.heatmapDensity||0],"line-progress":[tn,[],E=>E.globals.lineProgress||0],"sky-radial-progress":[tn,[],E=>E.globals.skyRadialProgress||0],accumulated:[Fn,[],E=>E.globals.accumulated===void 0?null:E.globals.accumulated],"+":[tn,ga(tn),(E,o)=>{let T=0;for(const I of o)T+=I.evaluate(E);return T}],"*":[tn,ga(tn),(E,o)=>{let T=1;for(const I of o)T*=I.evaluate(E);return T}],"-":{type:tn,overloads:[[[tn,tn],(E,[o,T])=>o.evaluate(E)-T.evaluate(E)],[[tn],(E,[o])=>-o.evaluate(E)]]},"/":[tn,[tn,tn],(E,[o,T])=>o.evaluate(E)/T.evaluate(E)],"%":[tn,[tn,tn],(E,[o,T])=>o.evaluate(E)%T.evaluate(E)],ln2:[tn,[],()=>Math.LN2],pi:[tn,[],()=>Math.PI],e:[tn,[],()=>Math.E],"^":[tn,[tn,tn],(E,[o,T])=>Math.pow(o.evaluate(E),T.evaluate(E))],sqrt:[tn,[tn],(E,[o])=>Math.sqrt(o.evaluate(E))],log10:[tn,[tn],(E,[o])=>Math.log(o.evaluate(E))/Math.LN10],ln:[tn,[tn],(E,[o])=>Math.log(o.evaluate(E))],log2:[tn,[tn],(E,[o])=>Math.log(o.evaluate(E))/Math.LN2],sin:[tn,[tn],(E,[o])=>Math.sin(o.evaluate(E))],cos:[tn,[tn],(E,[o])=>Math.cos(o.evaluate(E))],tan:[tn,[tn],(E,[o])=>Math.tan(o.evaluate(E))],asin:[tn,[tn],(E,[o])=>Math.asin(o.evaluate(E))],acos:[tn,[tn],(E,[o])=>Math.acos(o.evaluate(E))],atan:[tn,[tn],(E,[o])=>Math.atan(o.evaluate(E))],min:[tn,ga(tn),(E,o)=>Math.min(...o.map(T=>T.evaluate(E)))],max:[tn,ga(tn),(E,o)=>Math.max(...o.map(T=>T.evaluate(E)))],abs:[tn,[tn],(E,[o])=>Math.abs(o.evaluate(E))],round:[tn,[tn],(E,[o])=>{const T=o.evaluate(E);return T<0?-Math.round(-T):Math.round(T)}],floor:[tn,[tn],(E,[o])=>Math.floor(o.evaluate(E))],ceil:[tn,[tn],(E,[o])=>Math.ceil(o.evaluate(E))],"filter-==":[$n,[On,Fn],(E,[o,T])=>E.properties()[o.value]===T.value],"filter-id-==":[$n,[Fn],(E,[o])=>E.id()===o.value],"filter-type-==":[$n,[On],(E,[o])=>E.geometryType()===o.value],"filter-<":[$n,[On,Fn],(E,[o,T])=>{const I=E.properties()[o.value],O=T.value;return typeof I==typeof O&&I<O}],"filter-id-<":[$n,[Fn],(E,[o])=>{const T=E.id(),I=o.value;return typeof T==typeof I&&T<I}],"filter->":[$n,[On,Fn],(E,[o,T])=>{const I=E.properties()[o.value],O=T.value;return typeof I==typeof O&&I>O}],"filter-id->":[$n,[Fn],(E,[o])=>{const T=E.id(),I=o.value;return typeof T==typeof I&&T>I}],"filter-<=":[$n,[On,Fn],(E,[o,T])=>{const I=E.properties()[o.value],O=T.value;return typeof I==typeof O&&I<=O}],"filter-id-<=":[$n,[Fn],(E,[o])=>{const T=E.id(),I=o.value;return typeof T==typeof I&&T<=I}],"filter->=":[$n,[On,Fn],(E,[o,T])=>{const I=E.properties()[o.value],O=T.value;return typeof I==typeof O&&I>=O}],"filter-id->=":[$n,[Fn],(E,[o])=>{const T=E.id(),I=o.value;return typeof T==typeof I&&T>=I}],"filter-has":[$n,[Fn],(E,[o])=>o.value in E.properties()],"filter-has-id":[$n,[],E=>E.id()!==null&&E.id()!==void 0],"filter-type-in":[$n,[wi(On)],(E,[o])=>o.value.indexOf(E.geometryType())>=0],"filter-id-in":[$n,[wi(Fn)],(E,[o])=>o.value.indexOf(E.id())>=0],"filter-in-small":[$n,[On,wi(Fn)],(E,[o,T])=>T.value.indexOf(E.properties()[o.value])>=0],"filter-in-large":[$n,[On,wi(Fn)],(E,[o,T])=>function(I,O,F,N){for(;F<=N;){const X=F+N>>1;if(O[X]===I)return!0;O[X]>I?N=X-1:F=X+1}return!1}(E.properties()[o.value],T.value,0,T.value.length-1)],all:{type:$n,overloads:[[[$n,$n],(E,[o,T])=>o.evaluate(E)&&T.evaluate(E)],[ga($n),(E,o)=>{for(const T of o)if(!T.evaluate(E))return!1;return!0}]]},any:{type:$n,overloads:[[[$n,$n],(E,[o,T])=>o.evaluate(E)||T.evaluate(E)],[ga($n),(E,o)=>{for(const T of o)if(T.evaluate(E))return!0;return!1}]]},"!":[$n,[$n],(E,[o])=>!o.evaluate(E)],"is-supported-script":[$n,[On],(E,[o])=>{const T=E.globals&&E.globals.isSupportedScript;return!T||T(o.evaluate(E))}],upcase:[On,[On],(E,[o])=>o.evaluate(E).toUpperCase()],downcase:[On,[On],(E,[o])=>o.evaluate(E).toLowerCase()],concat:[On,ga(Fn),(E,o)=>o.map(T=>Ra(T.evaluate(E))).join("")],"resolved-locale":[On,[jo],(E,[o])=>o.evaluate(E).resolvedLocale()]});class al{constructor(o,T){this.expression=o,this._warningHistory={},this._evaluator=new ie,this._defaultValue=T?function(I){return I.type==="color"&&Za(I.default)?new Qn(0,0,0,0):I.type==="color"?Qn.parse(I.default)||null:I.default===void 0?null:I.default}(T):null,this._enumValues=T&&T.type==="enum"?T.values:null}evaluateWithoutErrorHandling(o,T,I,O,F,N){return this._evaluator.globals=o,this._evaluator.feature=T,this._evaluator.featureState=I,this._evaluator.canonical=O,this._evaluator.availableImages=F||null,this._evaluator.formattedSection=N,this.expression.evaluate(this._evaluator)}evaluate(o,T,I,O,F,N){this._evaluator.globals=o,this._evaluator.feature=T||null,this._evaluator.featureState=I||null,this._evaluator.canonical=O,this._evaluator.availableImages=F||null,this._evaluator.formattedSection=N||null;try{const X=this.expression.evaluate(this._evaluator);if(X==null||typeof X=="number"&&X!=X)return this._defaultValue;if(this._enumValues&&!(X in this._enumValues))throw new si(`Expected value to be one of ${Object.keys(this._enumValues).map(K=>JSON.stringify(K)).join(", ")}, but found ${JSON.stringify(X)} instead.`);return X}catch(X){return this._warningHistory[X.message]||(this._warningHistory[X.message]=!0,typeof console!="undefined"&&console.warn(X.message)),this._defaultValue}}}function Ms(E){return Array.isArray(E)&&E.length>0&&typeof E[0]=="string"&&E[0]in Ta}function As(E,o){const T=new oi(Ta,[],o?function(O){const F={color:In,string:On,number:tn,enum:On,boolean:$n,formatted:Ui,resolvedImage:xi};return O.type==="array"?wi(F[O.value]||Fn,O.length):F[O.type]}(o):void 0),I=T.parse(E,void 0,void 0,void 0,o&&o.type==="string"?{typeAnnotation:"coerce"}:void 0);return I?Wa(new al(I,o)):Ho(T.errors)}class vs{constructor(o,T){this.kind=o,this._styleExpression=T,this.isStateDependent=o!=="constant"&&!Cn(T.expression)}evaluateWithoutErrorHandling(o,T,I,O,F,N){return this._styleExpression.evaluateWithoutErrorHandling(o,T,I,O,F,N)}evaluate(o,T,I,O,F,N){return this._styleExpression.evaluate(o,T,I,O,F,N)}}class ns{constructor(o,T,I,O){this.kind=o,this.zoomStops=I,this._styleExpression=T,this.isStateDependent=o!=="camera"&&!Cn(T.expression),this.interpolationType=O}evaluateWithoutErrorHandling(o,T,I,O,F,N){return this._styleExpression.evaluateWithoutErrorHandling(o,T,I,O,F,N)}evaluate(o,T,I,O,F,N){return this._styleExpression.evaluate(o,T,I,O,F,N)}interpolationFactor(o,T,I){return this.interpolationType?ri.interpolationFactor(this.interpolationType,o,T,I):0}}function sl(E,o){if((E=As(E,o)).result==="error")return E;const T=E.value.expression,I=Zn(T);if(!I&&!rs(o))return Ho([new li("","data expressions not supported")]);const O=ui(T,["zoom"]);if(!O&&!Gs(o))return Ho([new li("","zoom expressions not supported")]);const F=function N(X){let K=null;if(X instanceof zi)K=N(X.result);else if(X instanceof Hi){for(const ne of X.args)if(K=N(ne),K)break}else(X instanceof Un||X instanceof ri)&&X.input instanceof le&&X.input.name==="zoom"&&(K=X);return K instanceof li||X.eachChild(ne=>{const ce=N(ne);ce instanceof li?K=ce:!K&&ce?K=new li("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):K&&ce&&K!==ce&&(K=new li("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),K}(T);return F||O?F instanceof li?Ho([F]):F instanceof ri&&!Is(o)?Ho([new li("",'"interpolate" expressions cannot be used with this property')]):Wa(F?new ns(I?"camera":"composite",E.value,F.labels,F instanceof ri?F.interpolation:void 0):new vs(I?"constant":"source",E.value)):Ho([new li("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Ps{constructor(o,T){this._parameters=o,this._specification=T,jn(this,function I(O,F){const N=F.type==="color",X=O.stops&&typeof O.stops[0][0]=="object",K=X||!(X||O.property!==void 0),ne=O.type||(Is(F)?"exponential":"interval");if(N&&((O=jn({},O)).stops&&(O.stops=O.stops.map(Te=>[Te[0],Qn.parse(Te[1])])),O.default=Qn.parse(O.default?O.default:F.default)),O.colorSpace&&O.colorSpace!=="rgb"&&!Go[O.colorSpace])throw new Error("Unknown color space: "+O.colorSpace);let ce,he,ye;if(ne==="exponential")ce=Cl;else if(ne==="interval")ce=Ul;else if(ne==="categorical"){ce=wl,he=Object.create(null);for(const Te of O.stops)he[Te[0]]=Te[1];ye=typeof O.stops[0][0]}else{if(ne!=="identity")throw new Error(`Unknown function type "${ne}"`);ce=Sl}if(X){const Te={},Le=[];for(let Ot=0;Ot<O.stops.length;Ot++){const Zt=O.stops[Ot],ar=Zt[0].zoom;Te[ar]===void 0&&(Te[ar]={zoom:ar,type:O.type,property:O.property,default:O.default,stops:[]},Le.push(ar)),Te[ar].stops.push([Zt[0].value,Zt[1]])}const it=[];for(const Ot of Le)it.push([Te[Ot].zoom,I(Te[Ot],F)]);const xt={name:"linear"};return{kind:"composite",interpolationType:xt,interpolationFactor:ri.interpolationFactor.bind(void 0,xt),zoomStops:it.map(Ot=>Ot[0]),evaluate:({zoom:Ot},Zt)=>Cl({stops:it,base:O.base},F,Ot).evaluate(Ot,Zt)}}if(K){const Te=ne==="exponential"?{name:"exponential",base:O.base!==void 0?O.base:1}:null;return{kind:"camera",interpolationType:Te,interpolationFactor:ri.interpolationFactor.bind(void 0,Te),zoomStops:O.stops.map(Le=>Le[0]),evaluate:({zoom:Le})=>ce(O,F,Le,he,ye)}}return{kind:"source",evaluate(Te,Le){const it=Le&&Le.properties?Le.properties[O.property]:void 0;return it===void 0?gs(O.default,F.default):ce(O,F,it,he,ye)}}}(this._parameters,this._specification))}static deserialize(o){return new Ps(o._parameters,o._specification)}static serialize(o){return{_parameters:o._parameters,_specification:o._specification}}}function Xi(E){const o=E.key,T=E.value,I=E.valueSpec||{},O=E.objectElementValidators||{},F=E.style,N=E.styleSpec;let X=[];const K=di(T);if(K!=="object")return[new _r(o,T,`object expected, ${K} found`)];for(const ne in T){const ce=ne.split(".")[0],he=I[ce]||I["*"];let ye;if(O[ce])ye=O[ce];else if(I[ce])ye=fo;else if(O["*"])ye=O["*"];else{if(!I["*"]){X.push(new _r(o,T[ne],`unknown property "${ne}"`));continue}ye=fo}X=X.concat(ye({key:(o&&o+".")+ne,value:T[ne],valueSpec:he,style:F,styleSpec:N,object:T,objectKey:ne},T))}for(const ne in I)O[ne]||I[ne].required&&I[ne].default===void 0&&T[ne]===void 0&&X.push(new _r(o,T,`missing required property "${ne}"`));return X}function qs(E){const o=E.value,T=E.valueSpec,I=E.style,O=E.styleSpec,F=E.key,N=E.arrayElementValidator||fo;if(di(o)!=="array")return[new _r(F,o,`array expected, ${di(o)} found`)];if(T.length&&o.length!==T.length)return[new _r(F,o,`array length ${T.length} expected, length ${o.length} found`)];if(T["min-length"]&&o.length<T["min-length"])return[new _r(F,o,`array length at least ${T["min-length"]} expected, length ${o.length} found`)];let X={type:T.value,values:T.values,minimum:T.minimum,maximum:T.maximum};O.$version<7&&(X.function=T.function),di(T.value)==="object"&&(X=T.value);let K=[];for(let ne=0;ne<o.length;ne++)K=K.concat(N({array:o,arrayIndex:ne,value:o[ne],valueSpec:X,style:I,styleSpec:O,key:`${F}[${ne}]`}));return K}function is(E){const o=E.key,T=E.value,I=E.valueSpec;let O=di(T);if(O==="number"&&T!=T&&(O="NaN"),O!=="number")return[new _r(o,T,`number expected, ${O} found`)];if("minimum"in I){let F=I.minimum;if(di(I.minimum)==="array"&&(F=I.minimum[E.arrayIndex]),T<F)return[new _r(o,T,`${T} is less than the minimum value ${F}`)]}if("maximum"in I){let F=I.maximum;if(di(I.maximum)==="array"&&(F=I.maximum[E.arrayIndex]),T>F)return[new _r(o,T,`${T} is greater than the maximum value ${F}`)]}return[]}function Ws(E){const o=E.valueSpec,T=xn(E.value.type);let I,O,F,N={};const X=T!=="categorical"&&E.value.property===void 0,K=!X,ne=di(E.value.stops)==="array"&&di(E.value.stops[0])==="array"&&di(E.value.stops[0][0])==="object",ce=Xi({key:E.key,value:E.value,valueSpec:E.styleSpec.function,style:E.style,styleSpec:E.styleSpec,objectElementValidators:{stops:function(Te){if(T==="identity")return[new _r(Te.key,Te.value,'identity function may not have a "stops" property')];let Le=[];const it=Te.value;return Le=Le.concat(qs({key:Te.key,value:it,valueSpec:Te.valueSpec,style:Te.style,styleSpec:Te.styleSpec,arrayElementValidator:he})),di(it)==="array"&&it.length===0&&Le.push(new _r(Te.key,it,"array must have at least one stop")),Le},default:function(Te){return fo({key:Te.key,value:Te.value,valueSpec:o,style:Te.style,styleSpec:Te.styleSpec})}}});return T==="identity"&&X&&ce.push(new _r(E.key,E.value,'missing required property "property"')),T==="identity"||E.value.stops||ce.push(new _r(E.key,E.value,'missing required property "stops"')),T==="exponential"&&E.valueSpec.expression&&!Is(E.valueSpec)&&ce.push(new _r(E.key,E.value,"exponential functions not supported")),E.styleSpec.$version>=8&&(K&&!rs(E.valueSpec)?ce.push(new _r(E.key,E.value,"property functions not supported")):X&&!Gs(E.valueSpec)&&ce.push(new _r(E.key,E.value,"zoom functions not supported"))),T!=="categorical"&&!ne||E.value.property!==void 0||ce.push(new _r(E.key,E.value,'"property" property is required')),ce;function he(Te){let Le=[];const it=Te.value,xt=Te.key;if(di(it)!=="array")return[new _r(xt,it,`array expected, ${di(it)} found`)];if(it.length!==2)return[new _r(xt,it,`array length 2 expected, length ${it.length} found`)];if(ne){if(di(it[0])!=="object")return[new _r(xt,it,`object expected, ${di(it[0])} found`)];if(it[0].zoom===void 0)return[new _r(xt,it,"object stop key must have zoom")];if(it[0].value===void 0)return[new _r(xt,it,"object stop key must have value")];if(F&&F>xn(it[0].zoom))return[new _r(xt,it[0].zoom,"stop zoom values must appear in ascending order")];xn(it[0].zoom)!==F&&(F=xn(it[0].zoom),O=void 0,N={}),Le=Le.concat(Xi({key:xt+"[0]",value:it[0],valueSpec:{zoom:{}},style:Te.style,styleSpec:Te.styleSpec,objectElementValidators:{zoom:is,value:ye}}))}else Le=Le.concat(ye({key:xt+"[0]",value:it[0],valueSpec:{},style:Te.style,styleSpec:Te.styleSpec},it));return Ms(zn(it[1]))?Le.concat([new _r(xt+"[1]",it[1],"expressions are not allowed in function stops.")]):Le.concat(fo({key:xt+"[1]",value:it[1],valueSpec:o,style:Te.style,styleSpec:Te.styleSpec}))}function ye(Te,Le){const it=di(Te.value),xt=xn(Te.value),Ot=Te.value!==null?Te.value:Le;if(I){if(it!==I)return[new _r(Te.key,Ot,`${it} stop domain type must match previous stop domain type ${I}`)]}else I=it;if(it!=="number"&&it!=="string"&&it!=="boolean")return[new _r(Te.key,Ot,"stop domain value must be a number, string, or boolean")];if(it!=="number"&&T!=="categorical"){let Zt=`number expected, ${it} found`;return rs(o)&&T===void 0&&(Zt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new _r(Te.key,Ot,Zt)]}return T!=="categorical"||it!=="number"||isFinite(xt)&&Math.floor(xt)===xt?T!=="categorical"&&it==="number"&&O!==void 0&&xt<O?[new _r(Te.key,Ot,"stop domain values must appear in ascending order")]:(O=xt,T==="categorical"&&xt in N?[new _r(Te.key,Ot,"stop domain values must be unique")]:(N[xt]=!0,[])):[new _r(Te.key,Ot,"integer expected, found "+xt)]}}function os(E){const o=(E.expressionContext==="property"?sl:As)(zn(E.value),E.valueSpec);if(o.result==="error")return o.value.map(I=>new _r(`${E.key}${I.key}`,E.value,I.message));const T=o.value.expression||o.value._styleExpression.expression;if(E.expressionContext==="property"&&E.propertyKey==="text-font"&&!T.outputDefined())return[new _r(E.key,E.value,`Invalid data expression for "${E.propertyKey}". Output values must be contained as literals within the expression.`)];if(E.expressionContext==="property"&&E.propertyType==="layout"&&!Cn(T))return[new _r(E.key,E.value,'"feature-state" data expressions are not supported with layout properties.')];if(E.expressionContext==="filter"&&!Cn(T))return[new _r(E.key,E.value,'"feature-state" data expressions are not supported with filters.')];if(E.expressionContext&&E.expressionContext.indexOf("cluster")===0){if(!ui(T,["zoom","feature-state"]))return[new _r(E.key,E.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(E.expressionContext==="cluster-initial"&&!Zn(T))return[new _r(E.key,E.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ys(E){const o=E.key,T=E.value,I=E.valueSpec,O=[];return Array.isArray(I.values)?I.values.indexOf(xn(T))===-1&&O.push(new _r(o,T,`expected one of [${I.values.join(", ")}], ${JSON.stringify(T)} found`)):Object.keys(I.values).indexOf(xn(T))===-1&&O.push(new _r(o,T,`expected one of [${Object.keys(I.values).join(", ")}], ${JSON.stringify(T)} found`)),O}function Ia(E){if(E===!0||E===!1)return!0;if(!Array.isArray(E)||E.length===0)return!1;switch(E[0]){case"has":return E.length>=2&&E[1]!=="$id"&&E[1]!=="$type";case"in":return E.length>=3&&(typeof E[1]!="string"||Array.isArray(E[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return E.length!==3||Array.isArray(E[1])||Array.isArray(E[2]);case"any":case"all":for(const o of E.slice(1))if(!Ia(o)&&typeof o!="boolean")return!1;return!0;default:return!0}}const ll={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Ba(E){if(E==null)return{filter:()=>!0,needGeometry:!1};Ia(E)||(E=So(E));const o=As(E,ll);if(o.result==="error")throw new Error(o.value.map(T=>`${T.key}: ${T.message}`).join(", "));return{filter:(T,I,O)=>o.value.evaluate(T,I,{},O),needGeometry:qo(E)}}function va(E,o){return E<o?-1:E>o?1:0}function qo(E){if(!Array.isArray(E))return!1;if(E[0]==="within")return!0;for(let o=1;o<E.length;o++)if(qo(E[o]))return!0;return!1}function So(E){if(!E)return!0;const o=E[0];return E.length<=1?o!=="any":o==="=="?bs(E[1],E[2],"=="):o==="!="?Xs(bs(E[1],E[2],"==")):o==="<"||o===">"||o==="<="||o===">="?bs(E[1],E[2],o):o==="any"?(T=E.slice(1),["any"].concat(T.map(So))):o==="all"?["all"].concat(E.slice(1).map(So)):o==="none"?["all"].concat(E.slice(1).map(So).map(Xs)):o==="in"?ya(E[1],E.slice(2)):o==="!in"?Xs(ya(E[1],E.slice(2))):o==="has"?Zs(E[1]):o==="!has"?Xs(Zs(E[1])):o!=="within"||E;var T}function bs(E,o,T){switch(E){case"$type":return["filter-type-"+T,o];case"$id":return["filter-id-"+T,o];default:return["filter-"+T,E,o]}}function ya(E,o){if(o.length===0)return!1;switch(E){case"$type":return["filter-type-in",["literal",o]];case"$id":return["filter-id-in",["literal",o]];default:return o.length>200&&!o.some(T=>typeof T!=typeof o[0])?["filter-in-large",E,["literal",o.sort(va)]]:["filter-in-small",E,["literal",o]]}}function Zs(E){switch(E){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",E]}}function Xs(E){return["!",E]}function Na(E){return Ia(zn(E.value))?os(jn({},E,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function o(T){const I=T.value,O=T.key;if(di(I)!=="array")return[new _r(O,I,`array expected, ${di(I)} found`)];const F=T.styleSpec;let N,X=[];if(I.length<1)return[new _r(O,I,"filter array must have at least 1 element")];switch(X=X.concat(ys({key:O+"[0]",value:I[0],valueSpec:F.filter_operator,style:T.style,styleSpec:T.styleSpec})),xn(I[0])){case"<":case"<=":case">":case">=":I.length>=2&&xn(I[1])==="$type"&&X.push(new _r(O,I,`"$type" cannot be use with operator "${I[0]}"`));case"==":case"!=":I.length!==3&&X.push(new _r(O,I,`filter array for operator "${I[0]}" must have 3 elements`));case"in":case"!in":I.length>=2&&(N=di(I[1]),N!=="string"&&X.push(new _r(O+"[1]",I[1],`string expected, ${N} found`)));for(let K=2;K<I.length;K++)N=di(I[K]),xn(I[1])==="$type"?X=X.concat(ys({key:`${O}[${K}]`,value:I[K],valueSpec:F.geometry_type,style:T.style,styleSpec:T.styleSpec})):N!=="string"&&N!=="number"&&N!=="boolean"&&X.push(new _r(`${O}[${K}]`,I[K],`string, number, or boolean expected, ${N} found`));break;case"any":case"all":case"none":for(let K=1;K<I.length;K++)X=X.concat(o({key:`${O}[${K}]`,value:I[K],style:T.style,styleSpec:T.styleSpec}));break;case"has":case"!has":N=di(I[1]),I.length!==2?X.push(new _r(O,I,`filter array for "${I[0]}" operator must have 2 elements`)):N!=="string"&&X.push(new _r(O+"[1]",I[1],`string expected, ${N} found`));break;case"within":N=di(I[1]),I.length!==2?X.push(new _r(O,I,`filter array for "${I[0]}" operator must have 2 elements`)):N!=="object"&&X.push(new _r(O+"[1]",I[1],`object expected, ${N} found`))}return X}(E)}function Wo(E,o){const T=E.key,I=E.style,O=E.styleSpec,F=E.value,N=E.objectKey,X=O[`${o}_${E.layerType}`];if(!X)return[];const K=N.match(/^(.*)-transition$/);if(o==="paint"&&K&&X[K[1]]&&X[K[1]].transition)return fo({key:T,value:F,valueSpec:O.transition,style:I,styleSpec:O});const ne=E.valueSpec||X[N];if(!ne)return[new _r(T,F,`unknown property "${N}"`)];let ce;if(di(F)==="string"&&rs(ne)&&!ne.tokens&&(ce=/^{([^}]+)}$/.exec(F)))return[new _r(T,F,`"${N}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(ce[1])} }\`.`)];const he=[];return E.layerType==="symbol"&&(N==="text-field"&&I&&!I.glyphs&&he.push(new _r(T,F,'use of "text-field" requires a style "glyphs" property')),N==="text-font"&&Za(zn(F))&&xn(F.type)==="identity"&&he.push(new _r(T,F,'"text-font" does not support identity functions'))),he.concat(fo({key:E.key,value:F,valueSpec:ne,style:I,styleSpec:O,expressionContext:"property",propertyType:o,propertyKey:N}))}function Os(E){return Wo(E,"paint")}function Xa(E){return Wo(E,"layout")}function Ya(E){let o=[];const T=E.value,I=E.key,O=E.style,F=E.styleSpec;T.type||T.ref||o.push(new _r(I,T,'either "type" or "ref" is required'));let N=xn(T.type);const X=xn(T.ref);if(T.id){const K=xn(T.id);for(let ne=0;ne<E.arrayIndex;ne++){const ce=O.layers[ne];xn(ce.id)===K&&o.push(new _r(I,T.id,`duplicate layer id "${T.id}", previously used at line ${ce.id.__line__}`))}}if("ref"in T){let K;["type","source","source-layer","filter","layout"].forEach(ne=>{ne in T&&o.push(new _r(I,T[ne],`"${ne}" is prohibited for ref layers`))}),O.layers.forEach(ne=>{xn(ne.id)===X&&(K=ne)}),K?K.ref?o.push(new _r(I,T.ref,"ref cannot reference another ref layer")):N=xn(K.type):o.push(new _r(I,T.ref,`ref layer "${X}" not found`))}else if(N!=="background"&&N!=="sky")if(T.source){const K=O.sources&&O.sources[T.source],ne=K&&xn(K.type);K?ne==="vector"&&N==="raster"?o.push(new _r(I,T.source,`layer "${T.id}" requires a raster source`)):ne==="raster"&&N!=="raster"?o.push(new _r(I,T.source,`layer "${T.id}" requires a vector source`)):ne!=="vector"||T["source-layer"]?ne==="raster-dem"&&N!=="hillshade"?o.push(new _r(I,T.source,"raster-dem source can only be used with layer type 'hillshade'.")):N!=="line"||!T.paint||!T.paint["line-gradient"]||ne==="geojson"&&K.lineMetrics||o.push(new _r(I,T,`layer "${T.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):o.push(new _r(I,T,`layer "${T.id}" must specify a "source-layer"`)):o.push(new _r(I,T.source,`source "${T.source}" not found`))}else o.push(new _r(I,T,'missing required property "source"'));return o=o.concat(Xi({key:I,value:T,valueSpec:F.layer,style:E.style,styleSpec:E.styleSpec,objectElementValidators:{"*":()=>[],type:()=>fo({key:I+".type",value:T.type,valueSpec:F.layer.type,style:E.style,styleSpec:E.styleSpec,object:T,objectKey:"type"}),filter:Na,layout:K=>Xi({layer:T,key:K.key,value:K.value,style:K.style,styleSpec:K.styleSpec,objectElementValidators:{"*":ne=>Xa(jn({layerType:N},ne))}}),paint:K=>Xi({layer:T,key:K.key,value:K.value,style:K.style,styleSpec:K.styleSpec,objectElementValidators:{"*":ne=>Os(jn({layerType:N},ne))}})}})),o}function ra(E){const o=E.value,T=E.key,I=di(o);return I!=="string"?[new _r(T,o,`string expected, ${I} found`)]:[]}const na={promoteId:function({key:E,value:o}){if(di(o)==="string")return ra({key:E,value:o});{const T=[];for(const I in o)T.push(...ra({key:`${E}.${I}`,value:o[I]}));return T}}};function _s(E){const o=E.value,T=E.key,I=E.styleSpec,O=E.style;if(!o.type)return[new _r(T,o,'"type" is required')];const F=xn(o.type);let N;switch(F){case"vector":case"raster":case"raster-dem":return N=Xi({key:T,value:o,valueSpec:I["source_"+F.replace("-","_")],style:E.style,styleSpec:I,objectElementValidators:na}),N;case"geojson":if(N=Xi({key:T,value:o,valueSpec:I.source_geojson,style:O,styleSpec:I,objectElementValidators:na}),o.cluster)for(const X in o.clusterProperties){const[K,ne]=o.clusterProperties[X],ce=typeof K=="string"?[K,["accumulated"],["get",X]]:K;N.push(...os({key:`${T}.${X}.map`,value:ne,expressionContext:"cluster-map"})),N.push(...os({key:`${T}.${X}.reduce`,value:ce,expressionContext:"cluster-reduce"}))}return N;case"video":return Xi({key:T,value:o,valueSpec:I.source_video,style:O,styleSpec:I});case"image":return Xi({key:T,value:o,valueSpec:I.source_image,style:O,styleSpec:I});case"canvas":return[new _r(T,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ys({key:T+".type",value:o.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:O,styleSpec:I})}}function Oo(E){const o=E.value,T=E.styleSpec,I=T.light,O=E.style;let F=[];const N=di(o);if(o===void 0)return F;if(N!=="object")return F=F.concat([new _r("light",o,`object expected, ${N} found`)]),F;for(const X in o){const K=X.match(/^(.*)-transition$/);F=F.concat(K&&I[K[1]]&&I[K[1]].transition?fo({key:X,value:o[X],valueSpec:T.transition,style:O,styleSpec:T}):I[X]?fo({key:X,value:o[X],valueSpec:I[X],style:O,styleSpec:T}):[new _r(X,o[X],`unknown property "${X}"`)])}return F}function xs(E){const o=E.value,T=E.key,I=E.style,O=E.styleSpec,F=O.terrain;let N=[];const X=di(o);if(o===void 0)return N;if(X!=="object")return N=N.concat([new _r("terrain",o,`object expected, ${X} found`)]),N;for(const K in o){const ne=K.match(/^(.*)-transition$/);N=N.concat(ne&&F[ne[1]]&&F[ne[1]].transition?fo({key:K,value:o[K],valueSpec:O.transition,style:I,styleSpec:O}):F[K]?fo({key:K,value:o[K],valueSpec:F[K],style:I,styleSpec:O}):[new _r(K,o[K],`unknown property "${K}"`)])}if(o.source){const K=I.sources&&I.sources[o.source],ne=K&&xn(K.type);K?ne!=="raster-dem"&&N.push(new _r(T,o.source,`terrain cannot be used with a source of type ${ne}, it only be used with a "raster-dem" source type`)):N.push(new _r(T,o.source,`source "${o.source}" not found`))}else N.push(new _r(T,o,'terrain is missing required property "source"'));return N}function ia(E){const o=E.value,T=E.style,I=E.styleSpec,O=I.fog;let F=[];const N=di(o);if(o===void 0)return F;if(N!=="object")return F=F.concat([new _r("fog",o,`object expected, ${N} found`)]),F;for(const X in o){const K=X.match(/^(.*)-transition$/);F=F.concat(K&&O[K[1]]&&O[K[1]].transition?fo({key:X,value:o[X],valueSpec:I.transition,style:T,styleSpec:I}):O[X]?fo({key:X,value:o[X],valueSpec:O[X],style:T,styleSpec:I}):[new _r(X,o[X],`unknown property "${X}"`)])}return F}const cl={"*":()=>[],array:qs,boolean:function(E){const o=E.value,T=E.key,I=di(o);return I!=="boolean"?[new _r(T,o,`boolean expected, ${I} found`)]:[]},number:is,color:function(E){const o=E.key,T=E.value,I=di(T);return I!=="string"?[new _r(o,T,`color expected, ${I} found`)]:ti.parseCSSColor(T)===null?[new _r(o,T,`color expected, "${T}" found`)]:[]},constants:Wn,enum:ys,filter:Na,function:Ws,layer:Ya,object:Xi,source:_s,light:Oo,terrain:xs,fog:ia,string:ra,formatted:function(E){return ra(E).length===0?[]:os(E)},resolvedImage:function(E){return ra(E).length===0?[]:os(E)}};function fo(E){const o=E.value,T=E.valueSpec,I=E.styleSpec;return T.expression&&Za(xn(o))?Ws(E):T.expression&&Ms(zn(o))?os(E):T.type&&cl[T.type]?cl[T.type](E):Xi(jn({},E,{valueSpec:T.type?I[T.type]:T}))}function ul(E){const o=E.value,T=E.key,I=ra(E);return I.length||(o.indexOf("{fontstack}")===-1&&I.push(new _r(T,o,'"glyphs" url must include a "{fontstack}" token')),o.indexOf("{range}")===-1&&I.push(new _r(T,o,'"glyphs" url must include a "{range}" token'))),I}function oa(E,o=Et){let T=[];return T=T.concat(fo({key:"",value:E,valueSpec:o.$root,styleSpec:o,style:E,objectElementValidators:{glyphs:ul,"*":()=>[]}})),E.constants&&(T=T.concat(Wn({key:"constants",value:E.constants,style:E,styleSpec:o}))),El(T)}function El(E){return[].concat(E).sort((o,T)=>o.line-T.line)}function ba(E){return function(...o){return El(E.apply(this,o))}}oa.source=ba(_s),oa.light=ba(Oo),oa.terrain=ba(xs),oa.fog=ba(ia),oa.layer=ba(Ya),oa.filter=ba(Na),oa.paintProperty=ba(Os),oa.layoutProperty=ba(Xa);const ws=oa,Gl=ws.light,dl=ws.fog,Tl=ws.paintProperty,hl=ws.layoutProperty;function Ys(E,o){let T=!1;if(o&&o.length)for(const I of o)E.fire(new mn(new Error(I.message))),T=!0;return T}var Ma=z;function z(E,o,T){var I=this.cells=[];if(E instanceof ArrayBuffer){this.arrayBuffer=E;var O=new Int32Array(this.arrayBuffer);E=O[0],this.d=(o=O[1])+2*(T=O[2]);for(var F=0;F<this.d*this.d;F++){var N=O[3+F],X=O[3+F+1];I.push(N===X?null:O.subarray(N,X))}var K=O[3+I.length+1];this.keys=O.subarray(O[3+I.length],K),this.bboxes=O.subarray(K),this.insert=this._insertReadonly}else{this.d=o+2*T;for(var ne=0;ne<this.d*this.d;ne++)I.push([]);this.keys=[],this.bboxes=[]}this.n=o,this.extent=E,this.padding=T,this.scale=o/E,this.uid=0;var ce=T/o*E;this.min=-ce,this.max=E+ce}z.prototype.insert=function(E,o,T,I,O){this._forEachCell(o,T,I,O,this._insertCell,this.uid++),this.keys.push(E),this.bboxes.push(o),this.bboxes.push(T),this.bboxes.push(I),this.bboxes.push(O)},z.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},z.prototype._insertCell=function(E,o,T,I,O,F){this.cells[O].push(F)},z.prototype.query=function(E,o,T,I,O){var F=this.min,N=this.max;if(E<=F&&o<=F&&N<=T&&N<=I&&!O)return Array.prototype.slice.call(this.keys);var X=[];return this._forEachCell(E,o,T,I,this._queryCell,X,{},O),X},z.prototype._queryCell=function(E,o,T,I,O,F,N,X){var K=this.cells[O];if(K!==null)for(var ne=this.keys,ce=this.bboxes,he=0;he<K.length;he++){var ye=K[he];if(N[ye]===void 0){var Te=4*ye;(X?X(ce[Te+0],ce[Te+1],ce[Te+2],ce[Te+3]):E<=ce[Te+2]&&o<=ce[Te+3]&&T>=ce[Te+0]&&I>=ce[Te+1])?(N[ye]=!0,F.push(ne[ye])):N[ye]=!1}}},z.prototype._forEachCell=function(E,o,T,I,O,F,N,X){for(var K=this._convertToCellCoord(E),ne=this._convertToCellCoord(o),ce=this._convertToCellCoord(T),he=this._convertToCellCoord(I),ye=K;ye<=ce;ye++)for(var Te=ne;Te<=he;Te++){var Le=this.d*Te+ye;if((!X||X(this._convertFromCellCoord(ye),this._convertFromCellCoord(Te),this._convertFromCellCoord(ye+1),this._convertFromCellCoord(Te+1)))&&O.call(this,E,o,T,I,Le,F,N,X))return}},z.prototype._convertFromCellCoord=function(E){return(E-this.padding)/this.scale},z.prototype._convertToCellCoord=function(E){return Math.max(0,Math.min(this.d-1,Math.floor(E*this.scale)+this.padding))},z.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var E=this.cells,o=3+this.cells.length+1+1,T=0,I=0;I<this.cells.length;I++)T+=this.cells[I].length;var O=new Int32Array(o+T+this.keys.length+this.bboxes.length);O[0]=this.extent,O[1]=this.n,O[2]=this.padding;for(var F=o,N=0;N<E.length;N++){var X=E[N];O[3+N]=F,O.set(X,F),F+=X.length}return O[3+E.length]=F,O.set(this.keys,F),O[3+E.length+1]=F+=this.keys.length,O.set(this.bboxes,F),F+=this.bboxes.length,O.buffer};const{ImageData:W,ImageBitmap:J}=R,ue={};function pe(E,o,T={}){Object.defineProperty(o,"_classRegistryKey",{value:E,writeable:!1}),ue[E]={klass:o,omit:T.omit||[],shallow:T.shallow||[]}}pe("Object",Object),Ma.serialize=function(E,o){const T=E.toArrayBuffer();return o&&o.push(T),{buffer:T}},Ma.deserialize=function(E){return new Ma(E.buffer)},pe("Grid",Ma),pe("Color",Qn),pe("Error",Error),pe("ResolvedImage",uo),pe("StylePropertyFunction",Ps),pe("StyleExpression",al,{omit:["_evaluator"]}),pe("ZoomDependentExpression",ns),pe("ZoomConstantExpression",vs),pe("CompoundExpression",le,{omit:["_evaluate"]});for(const E in Ta)Ta[E]._classRegistryKey||pe("Expression_"+E,Ta[E]);function Se(E){return E&&typeof ArrayBuffer!="undefined"&&(E instanceof ArrayBuffer||E.constructor&&E.constructor.name==="ArrayBuffer")}function Pe(E){return J&&E instanceof J}function qe(E,o){if(E==null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||E instanceof Boolean||E instanceof Number||E instanceof String||E instanceof Date||E instanceof RegExp)return E;if(Se(E)||Pe(E))return o&&o.push(E),E;if(ArrayBuffer.isView(E)){const T=E;return o&&o.push(T.buffer),T}if(E instanceof W)return o&&o.push(E.data.buffer),E;if(Array.isArray(E)){const T=[];for(const I of E)T.push(qe(I,o));return T}if(typeof E=="object"){const T=E.constructor,I=T._classRegistryKey;if(!I)throw new Error("can't serialize object of unregistered class");const O=T.serialize?T.serialize(E,o):{};if(!T.serialize){for(const F in E){if(!E.hasOwnProperty(F)||ue[I].omit.indexOf(F)>=0)continue;const N=E[F];O[F]=ue[I].shallow.indexOf(F)>=0?N:qe(N,o)}E instanceof Error&&(O.message=E.message)}if(O.$name)throw new Error("$name property is reserved for worker serialization logic.");return I!=="Object"&&(O.$name=I),O}throw new Error("can't serialize object of type "+typeof E)}function Ue(E){if(E==null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||E instanceof Boolean||E instanceof Number||E instanceof String||E instanceof Date||E instanceof RegExp||Se(E)||Pe(E)||ArrayBuffer.isView(E)||E instanceof W)return E;if(Array.isArray(E))return E.map(Ue);if(typeof E=="object"){const o=E.$name||"Object",{klass:T}=ue[o];if(!T)throw new Error("can't deserialize unregistered class "+o);if(T.deserialize)return T.deserialize(E);const I=Object.create(T.prototype);for(const O of Object.keys(E)){if(O==="$name")continue;const F=E[O];I[O]=ue[o].shallow.indexOf(O)>=0?F:Ue(F)}return I}throw new Error("can't deserialize object of type "+typeof E)}class dt{constructor(){this.first=!0}update(o,T){const I=Math.floor(o);return this.first?(this.first=!1,this.lastIntegerZoom=I,this.lastIntegerZoomTime=0,this.lastZoom=o,this.lastFloorZoom=I,!0):(this.lastFloorZoom>I?(this.lastIntegerZoom=I+1,this.lastIntegerZoomTime=T):this.lastFloorZoom<I&&(this.lastIntegerZoom=I,this.lastIntegerZoomTime=T),o!==this.lastZoom&&(this.lastZoom=o,this.lastFloorZoom=I,!0))}}const et=E=>E>=1536&&E<=1791,At=E=>E>=1872&&E<=1919,Lt=E=>E>=2208&&E<=2303,nr=E=>E>=11904&&E<=12031,fr=E=>E>=12032&&E<=12255,dn=E=>E>=12272&&E<=12287,hn=E=>E>=12288&&E<=12351,nn=E=>E>=12352&&E<=12447,vt=E=>E>=12448&&E<=12543,Wt=E=>E>=12544&&E<=12591,Rr=E=>E>=12704&&E<=12735,Ir=E=>E>=12736&&E<=12783,gn=E=>E>=12784&&E<=12799,bn=E=>E>=12800&&E<=13055,fn=E=>E>=13056&&E<=13311,Rn=E=>E>=13312&&E<=19903,An=E=>E>=19968&&E<=40959,ei=E=>E>=40960&&E<=42127,fi=E=>E>=42128&&E<=42191,Gn=E=>E>=44032&&E<=55215,Ni=E=>E>=63744&&E<=64255,$o=E=>E>=64336&&E<=65023,aa=E=>E>=65040&&E<=65055,zo=E=>E>=65072&&E<=65103,to=E=>E>=65104&&E<=65135,sa=E=>E>=65136&&E<=65279,Vi=E=>E>=65280&&E<=65519;function $s(E){for(const o of E)if(Re(o.charCodeAt(0)))return!0;return!1}function Yi(E){for(const o of E)if(!pr(o.charCodeAt(0)))return!1;return!0}function pr(E){return!(et(E)||At(E)||Lt(E)||$o(E)||sa(E))}function Re(E){return!(E!==746&&E!==747&&(E<4352||!(Rr(E)||Wt(E)||zo(E)&&!(E>=65097&&E<=65103)||Ni(E)||fn(E)||nr(E)||Ir(E)||!(!hn(E)||E>=12296&&E<=12305||E>=12308&&E<=12319||E===12336)||Rn(E)||An(E)||bn(E)||(o=>o>=12592&&o<=12687)(E)||(o=>o>=43360&&o<=43391)(E)||(o=>o>=55216&&o<=55295)(E)||(o=>o>=4352&&o<=4607)(E)||Gn(E)||nn(E)||dn(E)||(o=>o>=12688&&o<=12703)(E)||fr(E)||gn(E)||vt(E)&&E!==12540||!(!Vi(E)||E===65288||E===65289||E===65293||E>=65306&&E<=65310||E===65339||E===65341||E===65343||E>=65371&&E<=65503||E===65507||E>=65512&&E<=65519)||!(!to(E)||E>=65112&&E<=65118||E>=65123&&E<=65126)||(o=>o>=5120&&o<=5759)(E)||(o=>o>=6320&&o<=6399)(E)||aa(E)||(o=>o>=19904&&o<=19967)(E)||ei(E)||fi(E))))}function Ke(E){return!(Re(E)||function(o){return!!((T=>T>=128&&T<=255)(o)&&(o===167||o===169||o===174||o===177||o===188||o===189||o===190||o===215||o===247)||(T=>T>=8192&&T<=8303)(o)&&(o===8214||o===8224||o===8225||o===8240||o===8241||o===8251||o===8252||o===8258||o===8263||o===8264||o===8265||o===8273)||(T=>T>=8448&&T<=8527)(o)||(T=>T>=8528&&T<=8591)(o)||(T=>T>=8960&&T<=9215)(o)&&(o>=8960&&o<=8967||o>=8972&&o<=8991||o>=8996&&o<=9e3||o===9003||o>=9085&&o<=9114||o>=9150&&o<=9165||o===9167||o>=9169&&o<=9179||o>=9186&&o<=9215)||(T=>T>=9216&&T<=9279)(o)&&o!==9251||(T=>T>=9280&&T<=9311)(o)||(T=>T>=9312&&T<=9471)(o)||(T=>T>=9632&&T<=9727)(o)||(T=>T>=9728&&T<=9983)(o)&&!(o>=9754&&o<=9759)||(T=>T>=11008&&T<=11263)(o)&&(o>=11026&&o<=11055||o>=11088&&o<=11097||o>=11192&&o<=11243)||hn(o)||vt(o)||(T=>T>=57344&&T<=63743)(o)||zo(o)||to(o)||Vi(o)||o===8734||o===8756||o===8757||o>=9984&&o<=10087||o>=10102&&o<=10131||o===65532||o===65533)}(E))}function $t(E){return E>=1424&&E<=2303||$o(E)||sa(E)}function Yt(E,o){return!(!o&&$t(E)||E>=2304&&E<=3583||E>=3840&&E<=4255||(T=>T>=6016&&T<=6143)(E))}function ur(E){for(const o of E)if($t(o.charCodeAt(0)))return!0;return!1}const rn="deferred",jr="loading",Gr="loaded";let _n=null,En="unavailable",Tn=null;const Ln=function(E){E&&typeof E=="string"&&E.indexOf("NetworkError")>-1&&(En="error"),_n&&_n(E)};function D(){_.fire(new ln("pluginStateChange",{pluginStatus:En,pluginURL:Tn}))}const _=new Yr,A=function(){return En},L=function(){if(En!==rn||!Tn)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");En=jr,D(),Tn&&Qe({url:Tn},E=>{E?Ln(E):(En=Gr,D())})},G={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>En===Gr||G.applyArabicShaping!=null,isLoading:()=>En===jr,setState(E){En=E.pluginStatus,Tn=E.pluginURL},isParsed:()=>G.applyArabicShaping!=null&&G.processBidirectionalText!=null&&G.processStyledBidirectionalText!=null,getPluginURL:()=>Tn};class H{constructor(o,T){this.zoom=o,T?(this.now=T.now,this.fadeDuration=T.fadeDuration,this.zoomHistory=T.zoomHistory,this.transition=T.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new dt,this.transition={})}isSupportedScript(o){return function(T,I){for(const O of T)if(!Yt(O.charCodeAt(0),I))return!1;return!0}(o,G.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const o=this.zoom,T=o-Math.floor(o),I=this.crossFadingFactor();return o>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:T+(1-T)*I}:{fromScale:.5,toScale:1,t:1-(1-I)*T}}}class ee{constructor(o,T){this.property=o,this.value=T,this.expression=function(I,O){if(Za(I))return new Ps(I,O);if(Ms(I)){const F=sl(I,O);if(F.result==="error")throw new Error(F.value.map(N=>`${N.key}: ${N.message}`).join(", "));return F.value}{let F=I;return typeof I=="string"&&O.type==="color"&&(F=Qn.parse(I)),{kind:"constant",evaluate:()=>F}}}(T===void 0?o.specification.default:T,o.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(o,T,I){return this.property.possiblyEvaluate(this,o,T,I)}}class ae{constructor(o){this.property=o,this.value=new ee(o,void 0)}transitioned(o,T){return new me(this.property,this.value,T,ge({},o.transition,this.transition),o.now)}untransitioned(){return new me(this.property,this.value,null,{},0)}}class de{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitionablePropertyValues)}getValue(o){return Ye(this._values[o].value.value)}setValue(o,T){this._values.hasOwnProperty(o)||(this._values[o]=new ae(this._values[o].property)),this._values[o].value=new ee(this._values[o].property,T===null?void 0:Ye(T))}getTransition(o){return Ye(this._values[o].transition)}setTransition(o,T){this._values.hasOwnProperty(o)||(this._values[o]=new ae(this._values[o].property)),this._values[o].transition=Ye(T)||void 0}serialize(){const o={};for(const T of Object.keys(this._values)){const I=this.getValue(T);I!==void 0&&(o[T]=I);const O=this.getTransition(T);O!==void 0&&(o[T+"-transition"]=O)}return o}transitioned(o,T){const I=new we(this._properties);for(const O of Object.keys(this._values))I._values[O]=this._values[O].transitioned(o,T._values[O]);return I}untransitioned(){const o=new we(this._properties);for(const T of Object.keys(this._values))o._values[T]=this._values[T].untransitioned();return o}}class me{constructor(o,T,I,O,F){const N=O.delay||0,X=O.duration||0;F=F||0,this.property=o,this.value=T,this.begin=F+N,this.end=this.begin+X,o.specification.transition&&(O.delay||O.duration)&&(this.prior=I)}possiblyEvaluate(o,T,I){const O=o.now||0,F=this.value.possiblyEvaluate(o,T,I),N=this.prior;if(N){if(O>this.end)return this.prior=null,F;if(this.value.isDataDriven())return this.prior=null,F;if(O<this.begin)return N.possiblyEvaluate(o,T,I);{const X=(O-this.begin)/(this.end-this.begin);return this.property.interpolate(N.possiblyEvaluate(o,T,I),F,Y(X))}}return F}}class we{constructor(o){this._properties=o,this._values=Object.create(o.defaultTransitioningPropertyValues)}possiblyEvaluate(o,T,I){const O=new Xe(this._properties);for(const F of Object.keys(this._values))O._values[F]=this._values[F].possiblyEvaluate(o,T,I);return O}hasTransition(){for(const o of Object.keys(this._values))if(this._values[o].prior)return!0;return!1}}class Ae{constructor(o){this._properties=o,this._values=Object.create(o.defaultPropertyValues)}getValue(o){return Ye(this._values[o].value)}setValue(o,T){this._values[o]=new ee(this._values[o].property,T===null?void 0:Ye(T))}serialize(){const o={};for(const T of Object.keys(this._values)){const I=this.getValue(T);I!==void 0&&(o[T]=I)}return o}possiblyEvaluate(o,T,I){const O=new Xe(this._properties);for(const F of Object.keys(this._values))O._values[F]=this._values[F].possiblyEvaluate(o,T,I);return O}}class ze{constructor(o,T,I){this.property=o,this.value=T,this.parameters=I}isConstant(){return this.value.kind==="constant"}constantOr(o){return this.value.kind==="constant"?this.value.value:o}evaluate(o,T,I,O){return this.property.evaluate(this.value,this.parameters,o,T,I,O)}}class Xe{constructor(o){this._properties=o,this._values=Object.create(o.defaultPossiblyEvaluatedValues)}get(o){return this._values[o]}}class Fe{constructor(o){this.specification=o}possiblyEvaluate(o,T){return o.expression.evaluate(T)}interpolate(o,T,I){const O=Ai[this.specification.type];return O?O(o,T,I):o}}class Ge{constructor(o,T){this.specification=o,this.overrides=T}possiblyEvaluate(o,T,I,O){return new ze(this,o.expression.kind==="constant"||o.expression.kind==="camera"?{kind:"constant",value:o.expression.evaluate(T,null,{},I,O)}:o.expression,T)}interpolate(o,T,I){if(o.value.kind!=="constant"||T.value.kind!=="constant")return o;if(o.value.value===void 0||T.value.value===void 0)return new ze(this,{kind:"constant",value:void 0},o.parameters);const O=Ai[this.specification.type];return O?new ze(this,{kind:"constant",value:O(o.value.value,T.value.value,I)},o.parameters):o}evaluate(o,T,I,O,F,N){return o.kind==="constant"?o.value:o.evaluate(T,I,O,F,N)}}class It extends Ge{possiblyEvaluate(o,T,I,O){if(o.value===void 0)return new ze(this,{kind:"constant",value:void 0},T);if(o.expression.kind==="constant"){const F=o.expression.evaluate(T,null,{},I,O),N=o.property.specification.type==="resolvedImage"&&typeof F!="string"?F.name:F,X=this._calculate(N,N,N,T);return new ze(this,{kind:"constant",value:X},T)}if(o.expression.kind==="camera"){const F=this._calculate(o.expression.evaluate({zoom:T.zoom-1}),o.expression.evaluate({zoom:T.zoom}),o.expression.evaluate({zoom:T.zoom+1}),T);return new ze(this,{kind:"constant",value:F},T)}return new ze(this,o.expression,T)}evaluate(o,T,I,O,F,N){if(o.kind==="source"){const X=o.evaluate(T,I,O,F,N);return this._calculate(X,X,X,T)}return o.kind==="composite"?this._calculate(o.evaluate({zoom:Math.floor(T.zoom)-1},I,O),o.evaluate({zoom:Math.floor(T.zoom)},I,O),o.evaluate({zoom:Math.floor(T.zoom)+1},I,O),T):o.value}_calculate(o,T,I,O){return O.zoom>O.zoomHistory.lastIntegerZoom?{from:o,to:T,other:I}:{from:I,to:T,other:o}}interpolate(o){return o}}class Je{constructor(o){this.specification=o}possiblyEvaluate(o,T,I,O){if(o.value!==void 0){if(o.expression.kind==="constant"){const F=o.expression.evaluate(T,null,{},I,O);return this._calculate(F,F,F,T)}return this._calculate(o.expression.evaluate(new H(Math.floor(T.zoom-1),T)),o.expression.evaluate(new H(Math.floor(T.zoom),T)),o.expression.evaluate(new H(Math.floor(T.zoom+1),T)),T)}}_calculate(o,T,I,O){return O.zoom>O.zoomHistory.lastIntegerZoom?{from:o,to:T}:{from:I,to:T}}interpolate(o){return o}}class ht{constructor(o){this.specification=o}possiblyEvaluate(o,T,I,O){return!!o.expression.evaluate(T,null,{},I,O)}interpolate(){return!1}}class wt{constructor(o){this.properties=o,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const T in o){const I=o[T];I.specification.overridable&&this.overridableProperties.push(T);const O=this.defaultPropertyValues[T]=new ee(I,void 0),F=this.defaultTransitionablePropertyValues[T]=new ae(I);this.defaultTransitioningPropertyValues[T]=F.untransitioned(),this.defaultPossiblyEvaluatedValues[T]=O.possiblyEvaluate({})}}}function Bt(E,o){return 256*(E=re(Math.floor(E),0,255))+re(Math.floor(o),0,255)}pe("DataDrivenProperty",Ge),pe("DataConstantProperty",Fe),pe("CrossFadedDataDrivenProperty",It),pe("CrossFadedProperty",Je),pe("ColorRampProperty",ht);const rr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class tr{constructor(o,T){this._structArray=o,this._pos1=T*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class wr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(o,T){return o._trim(),T&&(o.isTransferred=!0,T.push(o.arrayBuffer)),{length:o.length,arrayBuffer:o.arrayBuffer}}static deserialize(o){const T=Object.create(this.prototype);return T.arrayBuffer=o.arrayBuffer,T.length=o.length,T.capacity=o.arrayBuffer.byteLength/T.bytesPerElement,T._refreshViews(),T}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(o){this.reserve(o),this.length=o}reserve(o){if(o>this.capacity){this.capacity=Math.max(o,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const T=this.uint8;this._refreshViews(),T&&this.uint8.set(T)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Sr(E,o=1){let T=0,I=0;return{members:E.map(O=>{const F=rr[O.type].BYTES_PER_ELEMENT,N=T=Vr(T,Math.max(o,F)),X=O.components||1;return I=Math.max(I,F),T+=F*X,{name:O.name,type:O.type,components:X,offset:N}}),size:Vr(T,Math.max(I,o)),alignment:o}}function Vr(E,o){return Math.ceil(E/o)*o}class Pt extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,T){const I=this.length;return this.resize(I+1),this.emplace(I,o,T)}emplace(o,T,I){const O=2*o;return this.int16[O+0]=T,this.int16[O+1]=I,o}}Pt.prototype.bytesPerElement=4,pe("StructArrayLayout2i4",Pt);class on extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,T,I,O){const F=this.length;return this.resize(F+1),this.emplace(F,o,T,I,O)}emplace(o,T,I,O,F){const N=4*o;return this.int16[N+0]=T,this.int16[N+1]=I,this.int16[N+2]=O,this.int16[N+3]=F,o}}on.prototype.bytesPerElement=8,pe("StructArrayLayout4i8",on);class Zr extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,T,I,O,F,N,X){const K=this.length;return this.resize(K+1),this.emplace(K,o,T,I,O,F,N,X)}emplace(o,T,I,O,F,N,X,K){const ne=6*o,ce=12*o,he=3*o;return this.int16[ne+0]=T,this.int16[ne+1]=I,this.uint8[ce+4]=O,this.uint8[ce+5]=F,this.uint8[ce+6]=N,this.uint8[ce+7]=X,this.float32[he+2]=K,o}}Zr.prototype.bytesPerElement=12,pe("StructArrayLayout2i4ub1f12",Zr);class kn extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,T){const I=this.length;return this.resize(I+1),this.emplace(I,o,T)}emplace(o,T,I){const O=2*o;return this.float32[O+0]=T,this.float32[O+1]=I,o}}kn.prototype.bytesPerElement=8,pe("StructArrayLayout2f8",kn);class wn extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,T,I,O,F,N,X,K,ne,ce){const he=this.length;return this.resize(he+1),this.emplace(he,o,T,I,O,F,N,X,K,ne,ce)}emplace(o,T,I,O,F,N,X,K,ne,ce,he){const ye=10*o;return this.uint16[ye+0]=T,this.uint16[ye+1]=I,this.uint16[ye+2]=O,this.uint16[ye+3]=F,this.uint16[ye+4]=N,this.uint16[ye+5]=X,this.uint16[ye+6]=K,this.uint16[ye+7]=ne,this.uint16[ye+8]=ce,this.uint16[ye+9]=he,o}}wn.prototype.bytesPerElement=20,pe("StructArrayLayout10ui20",wn);class Sn extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,T,I,O,F,N,X,K){const ne=this.length;return this.resize(ne+1),this.emplace(ne,o,T,I,O,F,N,X,K)}emplace(o,T,I,O,F,N,X,K,ne){const ce=8*o;return this.uint16[ce+0]=T,this.uint16[ce+1]=I,this.uint16[ce+2]=O,this.uint16[ce+3]=F,this.uint16[ce+4]=N,this.uint16[ce+5]=X,this.uint16[ce+6]=K,this.uint16[ce+7]=ne,o}}Sn.prototype.bytesPerElement=16,pe("StructArrayLayout8ui16",Sn);class Hn extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,T,I,O,F,N,X,K,ne,ce,he,ye){const Te=this.length;return this.resize(Te+1),this.emplace(Te,o,T,I,O,F,N,X,K,ne,ce,he,ye)}emplace(o,T,I,O,F,N,X,K,ne,ce,he,ye,Te){const Le=12*o;return this.int16[Le+0]=T,this.int16[Le+1]=I,this.int16[Le+2]=O,this.int16[Le+3]=F,this.uint16[Le+4]=N,this.uint16[Le+5]=X,this.uint16[Le+6]=K,this.uint16[Le+7]=ne,this.int16[Le+8]=ce,this.int16[Le+9]=he,this.int16[Le+10]=ye,this.int16[Le+11]=Te,o}}Hn.prototype.bytesPerElement=24,pe("StructArrayLayout4i4ui4i24",Hn);class Dt extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,T,I){const O=this.length;return this.resize(O+1),this.emplace(O,o,T,I)}emplace(o,T,I,O){const F=3*o;return this.float32[F+0]=T,this.float32[F+1]=I,this.float32[F+2]=O,o}}Dt.prototype.bytesPerElement=12,pe("StructArrayLayout3f12",Dt);class hr extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(o){const T=this.length;return this.resize(T+1),this.emplace(T,o)}emplace(o,T){return this.uint32[1*o+0]=T,o}}hr.prototype.bytesPerElement=4,pe("StructArrayLayout1ul4",hr);class Jr extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,T,I,O,F,N,X,K,ne,ce){const he=this.length;return this.resize(he+1),this.emplace(he,o,T,I,O,F,N,X,K,ne,ce)}emplace(o,T,I,O,F,N,X,K,ne,ce,he){const ye=16*o,Te=8*o;return this.int16[ye+0]=T,this.int16[ye+1]=I,this.float32[Te+1]=O,this.float32[Te+2]=F,this.float32[Te+3]=N,this.float32[Te+4]=X,this.int16[ye+10]=K,this.uint32[Te+6]=ne,this.uint16[ye+14]=ce,this.uint16[ye+15]=he,o}}Jr.prototype.bytesPerElement=32,pe("StructArrayLayout2i4f1i1ul2ui32",Jr);class yn extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,T,I,O,F,N){const X=this.length;return this.resize(X+1),this.emplace(X,o,T,I,O,F,N)}emplace(o,T,I,O,F,N,X){const K=6*o;return this.int16[K+0]=T,this.int16[K+1]=I,this.int16[K+2]=O,this.int16[K+3]=F,this.int16[K+4]=N,this.int16[K+5]=X,o}}yn.prototype.bytesPerElement=12,pe("StructArrayLayout2i2i2i12",yn);class Pn extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,T,I,O,F){const N=this.length;return this.resize(N+1),this.emplace(N,o,T,I,O,F)}emplace(o,T,I,O,F,N){const X=4*o,K=8*o;return this.float32[X+0]=T,this.float32[X+1]=I,this.float32[X+2]=O,this.int16[K+6]=F,this.int16[K+7]=N,o}}Pn.prototype.bytesPerElement=16,pe("StructArrayLayout2f1f2i16",Pn);class Mn extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,T,I,O){const F=this.length;return this.resize(F+1),this.emplace(F,o,T,I,O)}emplace(o,T,I,O,F){const N=12*o,X=3*o;return this.uint8[N+0]=T,this.uint8[N+1]=I,this.float32[X+1]=O,this.float32[X+2]=F,o}}Mn.prototype.bytesPerElement=12,pe("StructArrayLayout2ub2f12",Mn);class qn extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,T,I){const O=this.length;return this.resize(O+1),this.emplace(O,o,T,I)}emplace(o,T,I,O){const F=3*o;return this.uint16[F+0]=T,this.uint16[F+1]=I,this.uint16[F+2]=O,o}}qn.prototype.bytesPerElement=6,pe("StructArrayLayout3ui6",qn);class Ci extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,T,I,O,F,N,X,K,ne,ce,he,ye,Te,Le,it,xt,Ot){const Zt=this.length;return this.resize(Zt+1),this.emplace(Zt,o,T,I,O,F,N,X,K,ne,ce,he,ye,Te,Le,it,xt,Ot)}emplace(o,T,I,O,F,N,X,K,ne,ce,he,ye,Te,Le,it,xt,Ot,Zt){const ar=24*o,vr=12*o,yr=48*o;return this.int16[ar+0]=T,this.int16[ar+1]=I,this.uint16[ar+2]=O,this.uint16[ar+3]=F,this.uint32[vr+2]=N,this.uint32[vr+3]=X,this.uint32[vr+4]=K,this.uint16[ar+10]=ne,this.uint16[ar+11]=ce,this.uint16[ar+12]=he,this.float32[vr+7]=ye,this.float32[vr+8]=Te,this.uint8[yr+36]=Le,this.uint8[yr+37]=it,this.uint8[yr+38]=xt,this.uint32[vr+10]=Ot,this.int16[ar+22]=Zt,o}}Ci.prototype.bytesPerElement=48,pe("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Ci);class Gi extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,T,I,O,F,N,X,K,ne,ce,he,ye,Te,Le,it,xt,Ot,Zt,ar,vr,yr,br,Qr,qr,Ur,an,Dr){const zr=this.length;return this.resize(zr+1),this.emplace(zr,o,T,I,O,F,N,X,K,ne,ce,he,ye,Te,Le,it,xt,Ot,Zt,ar,vr,yr,br,Qr,qr,Ur,an,Dr)}emplace(o,T,I,O,F,N,X,K,ne,ce,he,ye,Te,Le,it,xt,Ot,Zt,ar,vr,yr,br,Qr,qr,Ur,an,Dr,zr){const Ar=32*o,Fr=16*o;return this.int16[Ar+0]=T,this.int16[Ar+1]=I,this.int16[Ar+2]=O,this.int16[Ar+3]=F,this.int16[Ar+4]=N,this.int16[Ar+5]=X,this.int16[Ar+6]=K,this.int16[Ar+7]=ne,this.uint16[Ar+8]=ce,this.uint16[Ar+9]=he,this.uint16[Ar+10]=ye,this.uint16[Ar+11]=Te,this.uint16[Ar+12]=Le,this.uint16[Ar+13]=it,this.uint16[Ar+14]=xt,this.uint16[Ar+15]=Ot,this.uint16[Ar+16]=Zt,this.uint16[Ar+17]=ar,this.uint16[Ar+18]=vr,this.uint16[Ar+19]=yr,this.uint16[Ar+20]=br,this.uint16[Ar+21]=Qr,this.uint16[Ar+22]=qr,this.uint32[Fr+12]=Ur,this.float32[Fr+13]=an,this.float32[Fr+14]=Dr,this.float32[Fr+15]=zr,o}}Gi.prototype.bytesPerElement=64,pe("StructArrayLayout8i15ui1ul3f64",Gi);class mi extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o){const T=this.length;return this.resize(T+1),this.emplace(T,o)}emplace(o,T){return this.float32[1*o+0]=T,o}}mi.prototype.bytesPerElement=4,pe("StructArrayLayout1f4",mi);class Ei extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(o,T,I){const O=this.length;return this.resize(O+1),this.emplace(O,o,T,I)}emplace(o,T,I,O){const F=3*o;return this.int16[F+0]=T,this.int16[F+1]=I,this.int16[F+2]=O,o}}Ei.prototype.bytesPerElement=6,pe("StructArrayLayout3i6",Ei);class oo extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,T,I,O){const F=this.length;return this.resize(F+1),this.emplace(F,o,T,I,O)}emplace(o,T,I,O,F){const N=6*o;return this.uint32[3*o+0]=T,this.uint16[N+2]=I,this.uint16[N+3]=O,this.uint16[N+4]=F,o}}oo.prototype.bytesPerElement=12,pe("StructArrayLayout1ul3ui12",oo);class hi extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o,T){const I=this.length;return this.resize(I+1),this.emplace(I,o,T)}emplace(o,T,I){const O=2*o;return this.uint16[O+0]=T,this.uint16[O+1]=I,o}}hi.prototype.bytesPerElement=4,pe("StructArrayLayout2ui4",hi);class pi extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(o){const T=this.length;return this.resize(T+1),this.emplace(T,o)}emplace(o,T){return this.uint16[1*o+0]=T,o}}pi.prototype.bytesPerElement=2,pe("StructArrayLayout1ui2",pi);class Xn extends wr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(o,T,I,O){const F=this.length;return this.resize(F+1),this.emplace(F,o,T,I,O)}emplace(o,T,I,O,F){const N=4*o;return this.float32[N+0]=T,this.float32[N+1]=I,this.float32[N+2]=O,this.float32[N+3]=F,o}}Xn.prototype.bytesPerElement=16,pe("StructArrayLayout4f16",Xn);class Fi extends tr{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.float32[this._pos4+1]}get y1(){return this._structArray.float32[this._pos4+2]}get x2(){return this._structArray.float32[this._pos4+3]}get y2(){return this._structArray.float32[this._pos4+4]}get padding(){return this._structArray.int16[this._pos2+10]}get featureIndex(){return this._structArray.uint32[this._pos4+6]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+14]}get bucketIndex(){return this._structArray.uint16[this._pos2+15]}get anchorPoint(){return new P(this.anchorPointX,this.anchorPointY)}}Fi.prototype.size=32;class ao extends Jr{get(o){return new Fi(this,o)}}pe("CollisionBoxArray",ao);class Si extends tr{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(o){this._structArray.uint8[this._pos1+37]=o}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(o){this._structArray.uint8[this._pos1+38]=o}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(o){this._structArray.uint32[this._pos4+10]=o}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Si.prototype.size=48;class Eo extends Ci{get(o){return new Si(this,o)}}pe("PlacedSymbolArray",Eo);class Cs extends tr{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(o){this._structArray.uint32[this._pos4+12]=o}get textOffset0(){return this._structArray.float32[this._pos4+13]}get textOffset1(){return this._structArray.float32[this._pos4+14]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+15]}}Cs.prototype.size=64;class Zo extends Gi{get(o){return new Cs(this,o)}}pe("SymbolInstanceArray",Zo);class Ka extends mi{getoffsetX(o){return this.float32[1*o+0]}}pe("GlyphOffsetArray",Ka);class Pi extends Ei{getx(o){return this.int16[3*o+0]}gety(o){return this.int16[3*o+1]}gettileUnitDistanceFromAnchor(o){return this.int16[3*o+2]}}pe("SymbolLineVertexArray",Pi);class bi extends tr{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}bi.prototype.size=12;class ja extends oo{get(o){return new bi(this,o)}}pe("FeatureIndexArray",ja);class Va extends tr{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}Va.prototype.size=4;class as extends hi{get(o){return new Va(this,o)}}pe("FillExtrusionCentroidArray",as);const Fo=Sr([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),ss=Sr([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var ls=ji(function(E){E.exports=function(o,T){var I,O,F,N,X,K,ne,ce;for(O=o.length-(I=3&o.length),F=T,X=3432918353,K=461845907,ce=0;ce<O;)ne=255&o.charCodeAt(ce)|(255&o.charCodeAt(++ce))<<8|(255&o.charCodeAt(++ce))<<16|(255&o.charCodeAt(++ce))<<24,++ce,F=27492+(65535&(N=5*(65535&(F=(F^=ne=(65535&(ne=(ne=(65535&ne)*X+(((ne>>>16)*X&65535)<<16)&4294967295)<<15|ne>>>17))*K+(((ne>>>16)*K&65535)<<16)&4294967295)<<13|F>>>19))+((5*(F>>>16)&65535)<<16)&4294967295))+((58964+(N>>>16)&65535)<<16);switch(ne=0,I){case 3:ne^=(255&o.charCodeAt(ce+2))<<16;case 2:ne^=(255&o.charCodeAt(ce+1))<<8;case 1:F^=ne=(65535&(ne=(ne=(65535&(ne^=255&o.charCodeAt(ce)))*X+(((ne>>>16)*X&65535)<<16)&4294967295)<<15|ne>>>17))*K+(((ne>>>16)*K&65535)<<16)&4294967295}return F^=o.length,F=2246822507*(65535&(F^=F>>>16))+((2246822507*(F>>>16)&65535)<<16)&4294967295,F=3266489909*(65535&(F^=F>>>13))+((3266489909*(F>>>16)&65535)<<16)&4294967295,(F^=F>>>16)>>>0}}),pl=ji(function(E){E.exports=function(o,T){for(var I,O=o.length,F=T^O,N=0;O>=4;)I=1540483477*(65535&(I=255&o.charCodeAt(N)|(255&o.charCodeAt(++N))<<8|(255&o.charCodeAt(++N))<<16|(255&o.charCodeAt(++N))<<24))+((1540483477*(I>>>16)&65535)<<16),F=1540483477*(65535&F)+((1540483477*(F>>>16)&65535)<<16)^(I=1540483477*(65535&(I^=I>>>24))+((1540483477*(I>>>16)&65535)<<16)),O-=4,++N;switch(O){case 3:F^=(255&o.charCodeAt(N+2))<<16;case 2:F^=(255&o.charCodeAt(N+1))<<8;case 1:F=1540483477*(65535&(F^=255&o.charCodeAt(N)))+((1540483477*(F>>>16)&65535)<<16)}return F=1540483477*(65535&(F^=F>>>13))+((1540483477*(F>>>16)&65535)<<16),(F^=F>>>15)>>>0}}),Ss=ls,Ks=pl;Ss.murmur3=ls,Ss.murmur2=Ks;class Ua{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(o,T,I,O){this.ids.push(Hl(o)),this.positions.push(T,I,O)}getPositions(o){const T=Hl(o);let I=0,O=this.ids.length-1;for(;I<O;){const N=I+O>>1;this.ids[N]>=T?O=N:I=N+1}const F=[];for(;this.ids[I]===T;)F.push({index:this.positions[3*I],start:this.positions[3*I+1],end:this.positions[3*I+2]}),I++;return F}static serialize(o,T){const I=new Float64Array(o.ids),O=new Uint32Array(o.positions);return function F(N,X,K,ne){for(;K<ne;){const ce=N[K+ne>>1];let he=K-1,ye=ne+1;for(;;){do he++;while(N[he]<ce);do ye--;while(N[ye]>ce);if(he>=ye)break;Ds(N,he,ye),Ds(X,3*he,3*ye),Ds(X,3*he+1,3*ye+1),Ds(X,3*he+2,3*ye+2)}ye-K<ne-ye?(F(N,X,K,ye),K=ye+1):(F(N,X,ye+1,ne),ne=ye)}}(I,O,0,I.length-1),T&&T.push(I.buffer,O.buffer),{ids:I,positions:O}}static deserialize(o){const T=new Ua;return T.ids=o.ids,T.positions=o.positions,T.indexed=!0,T}}function Hl(E){const o=+E;return!isNaN(o)&&o<=B?o:Ss(String(E))}function Ds(E,o,T){const I=E[o];E[o]=E[T],E[T]=I}pe("FeaturePositionMap",Ua);class Ja{constructor(o,T){this.gl=o.gl,this.location=T}}class Rs extends Ja{constructor(o,T){super(o,T),this.current=0}set(o){this.current!==o&&(this.current=o,this.gl.uniform1f(this.location,o))}}class fl extends Ja{constructor(o,T){super(o,T),this.current=[0,0,0,0]}set(o){o[0]===this.current[0]&&o[1]===this.current[1]&&o[2]===this.current[2]&&o[3]===this.current[3]||(this.current=o,this.gl.uniform4f(this.location,o[0],o[1],o[2],o[3]))}}class ql extends Ja{constructor(o,T){super(o,T),this.current=Qn.transparent}set(o){o.r===this.current.r&&o.g===this.current.g&&o.b===this.current.b&&o.a===this.current.a||(this.current=o,this.gl.uniform4f(this.location,o.r,o.g,o.b,o.a))}}const kl=new Float32Array(16),Il=new Float32Array(9);function Fc(E){return[Bt(255*E.r,255*E.g),Bt(255*E.b,255*E.a)]}class Wl{constructor(o,T,I){this.value=o,this.uniformNames=T.map(O=>"u_"+O),this.type=I}setUniform(o,T,I){o.set(I.constantOr(this.value))}getBinding(o,T,I){return this.type==="color"?new ql(o,T):new Rs(o,T)}}class Ml{constructor(o,T){this.uniformNames=T.map(I=>"u_"+I),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(o,T){this.pixelRatioFrom=T.pixelRatio,this.pixelRatioTo=o.pixelRatio,this.patternFrom=T.tl.concat(T.br),this.patternTo=o.tl.concat(o.br)}setUniform(o,T,I,O){const F=O==="u_pattern_to"||O==="u_dash_to"?this.patternTo:O==="u_pattern_from"||O==="u_dash_from"?this.patternFrom:O==="u_pixel_ratio_to"?this.pixelRatioTo:O==="u_pixel_ratio_from"?this.pixelRatioFrom:null;F&&o.set(F)}getBinding(o,T,I){return I==="u_pattern_from"||I==="u_pattern_to"||I==="u_dash_from"||I==="u_dash_to"?new fl(o,T):new Rs(o,T)}}class Ls{constructor(o,T,I,O){this.expression=o,this.type=I,this.maxValue=0,this.paintVertexAttributes=T.map(F=>({name:"a_"+F,type:"Float32",components:I==="color"?2:1,offset:0})),this.paintVertexArray=new O}populatePaintArray(o,T,I,O,F){const N=this.paintVertexArray.length,X=this.expression.evaluate(new H(0),T,{},O,[],F);this.paintVertexArray.resize(o),this._setPaintValue(N,o,X)}updatePaintArray(o,T,I,O){const F=this.expression.evaluate({zoom:0},I,O);this._setPaintValue(o,T,F)}_setPaintValue(o,T,I){if(this.type==="color"){const O=Fc(I);for(let F=o;F<T;F++)this.paintVertexArray.emplace(F,O[0],O[1])}else{for(let O=o;O<T;O++)this.paintVertexArray.emplace(O,I);this.maxValue=Math.max(this.maxValue,Math.abs(I))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class cs{constructor(o,T,I,O,F,N){this.expression=o,this.uniformNames=T.map(X=>`u_${X}_t`),this.type=I,this.useIntegerZoom=O,this.zoom=F,this.maxValue=0,this.paintVertexAttributes=T.map(X=>({name:"a_"+X,type:"Float32",components:I==="color"?4:2,offset:0})),this.paintVertexArray=new N}populatePaintArray(o,T,I,O,F){const N=this.expression.evaluate(new H(this.zoom),T,{},O,[],F),X=this.expression.evaluate(new H(this.zoom+1),T,{},O,[],F),K=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValue(K,o,N,X)}updatePaintArray(o,T,I,O){const F=this.expression.evaluate({zoom:this.zoom},I,O),N=this.expression.evaluate({zoom:this.zoom+1},I,O);this._setPaintValue(o,T,F,N)}_setPaintValue(o,T,I,O){if(this.type==="color"){const F=Fc(I),N=Fc(O);for(let X=o;X<T;X++)this.paintVertexArray.emplace(X,F[0],F[1],N[0],N[1])}else{for(let F=o;F<T;F++)this.paintVertexArray.emplace(F,I,O);this.maxValue=Math.max(this.maxValue,Math.abs(I),Math.abs(O))}}upload(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(o,T){const I=this.useIntegerZoom?Math.floor(T.zoom):T.zoom,O=re(this.expression.interpolationFactor(I,this.zoom,this.zoom+1),0,1);o.set(O)}getBinding(o,T,I){return new Rs(o,T)}}class Js{constructor(o,T,I,O,F,N,X){this.expression=o,this.type=I,this.useIntegerZoom=O,this.zoom=F,this.layerId=X,this.paintVertexAttributes=(I==="array"?ss:Fo).members;for(let K=0;K<T.length;++K);this.zoomInPaintVertexArray=new N,this.zoomOutPaintVertexArray=new N}populatePaintArray(o,T,I){const O=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(o),this.zoomOutPaintVertexArray.resize(o),this._setPaintValues(O,o,T.patterns&&T.patterns[this.layerId],I)}updatePaintArray(o,T,I,O,F){this._setPaintValues(o,T,I.patterns&&I.patterns[this.layerId],F)}_setPaintValues(o,T,I,O){if(!O||!I)return;const{min:F,mid:N,max:X}=I,K=O[F],ne=O[N],ce=O[X];if(K&&ne&&ce)for(let he=o;he<T;he++)this._setPaintValue(this.zoomInPaintVertexArray,he,ne,K),this._setPaintValue(this.zoomOutPaintVertexArray,he,ne,ce)}_setPaintValue(o,T,I,O){o.emplace(T,I.tl[0],I.tl[1],I.br[0],I.br[1],O.tl[0],O.tl[1],O.br[0],O.br[1],I.pixelRatio,O.pixelRatio)}upload(o){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=o.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=o.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class zs{constructor(o,T,I=()=>!0){this.binders={},this._buffers=[];const O=[];for(const F in o.paint._values){if(!I(F))continue;const N=o.paint.get(F);if(!(N instanceof ze&&rs(N.property.specification)))continue;const X=Th(F,o.type),K=N.value,ne=N.property.specification.type,ce=N.property.useIntegerZoom,he=N.property.specification["property-type"],ye=he==="cross-faded"||he==="cross-faded-data-driven",Te=String(F)==="line-dasharray"&&o.layout.get("line-cap").value.kind!=="constant";if(K.kind!=="constant"||Te)if(K.kind==="source"||Te||ye){const Le=$u(F,ne,"source");this.binders[F]=ye?new Js(K,X,ne,ce,T,Le,o.id):new Ls(K,X,ne,Le),O.push("/a_"+F)}else{const Le=$u(F,ne,"composite");this.binders[F]=new cs(K,X,ne,ce,T,Le),O.push("/z_"+F)}else this.binders[F]=ye?new Ml(K.value,X):new Wl(K.value,X,ne),O.push("/u_"+F)}this.cacheKey=O.sort().join("")}getMaxValue(o){const T=this.binders[o];return T instanceof Ls||T instanceof cs?T.maxValue:0}populatePaintArrays(o,T,I,O,F){for(const N in this.binders){const X=this.binders[N];(X instanceof Ls||X instanceof cs||X instanceof Js)&&X.populatePaintArray(o,T,I,O,F)}}setConstantPatternPositions(o,T){for(const I in this.binders){const O=this.binders[I];O instanceof Ml&&O.setConstantPatternPositions(o,T)}}updatePaintArrays(o,T,I,O,F){let N=!1;for(const X in o){const K=T.getPositions(X);for(const ne of K){const ce=I.feature(ne.index);for(const he in this.binders){const ye=this.binders[he];if((ye instanceof Ls||ye instanceof cs||ye instanceof Js)&&ye.expression.isStateDependent===!0){const Te=O.paint.get(he);ye.expression=Te.value,ye.updatePaintArray(ne.start,ne.end,ce,o[X],F),N=!0}}}}return N}defines(){const o=[];for(const T in this.binders){const I=this.binders[T];(I instanceof Wl||I instanceof Ml)&&o.push(...I.uniformNames.map(O=>"#define HAS_UNIFORM_"+O))}return o}getBinderAttributes(){const o=[];for(const T in this.binders){const I=this.binders[T];if(I instanceof Ls||I instanceof cs||I instanceof Js)for(let O=0;O<I.paintVertexAttributes.length;O++)o.push(I.paintVertexAttributes[O].name)}return o}getBinderUniforms(){const o=[];for(const T in this.binders){const I=this.binders[T];if(I instanceof Wl||I instanceof Ml||I instanceof cs)for(const O of I.uniformNames)o.push(O)}return o}getPaintVertexBuffers(){return this._buffers}getUniforms(o,T){const I=[];for(const O in this.binders){const F=this.binders[O];if(F instanceof Wl||F instanceof Ml||F instanceof cs){for(const N of F.uniformNames)if(T[N]){const X=F.getBinding(o,T[N],N);I.push({name:N,property:O,binding:X})}}}return I}setUniforms(o,T,I,O){for(const{name:F,property:N,binding:X}of T)this.binders[N].setUniform(X,O,I.get(N),F)}updatePaintBuffers(o){this._buffers=[];for(const T in this.binders){const I=this.binders[T];if(o&&I instanceof Js){const O=o.fromScale===2?I.zoomInPaintVertexBuffer:I.zoomOutPaintVertexBuffer;O&&this._buffers.push(O)}else(I instanceof Ls||I instanceof cs)&&I.paintVertexBuffer&&this._buffers.push(I.paintVertexBuffer)}}upload(o){for(const T in this.binders){const I=this.binders[T];(I instanceof Ls||I instanceof cs||I instanceof Js)&&I.upload(o)}this.updatePaintBuffers()}destroy(){for(const o in this.binders){const T=this.binders[o];(T instanceof Ls||T instanceof cs||T instanceof Js)&&T.destroy()}}}class ml{constructor(o,T,I=()=>!0){this.programConfigurations={};for(const O of o)this.programConfigurations[O.id]=new zs(O,T,I);this.needsUpload=!1,this._featureMap=new Ua,this._bufferOffset=0}populatePaintArrays(o,T,I,O,F,N){for(const X in this.programConfigurations)this.programConfigurations[X].populatePaintArrays(o,T,O,F,N);T.id!==void 0&&this._featureMap.add(T.id,I,this._bufferOffset,o),this._bufferOffset=o,this.needsUpload=!0}updatePaintArrays(o,T,I,O){for(const F of I)this.needsUpload=this.programConfigurations[F.id].updatePaintArrays(o,this._featureMap,T,F,O)||this.needsUpload}get(o){return this.programConfigurations[o]}upload(o){if(this.needsUpload){for(const T in this.programConfigurations)this.programConfigurations[T].upload(o);this.needsUpload=!1}}destroy(){for(const o in this.programConfigurations)this.programConfigurations[o].destroy()}}const Eh={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function Th(E,o){return Eh[E]||[E.replace(o+"-","").replace(/-/g,"_")]}const kh={"line-pattern":{source:wn,composite:wn},"fill-pattern":{source:wn,composite:wn},"fill-extrusion-pattern":{source:wn,composite:wn},"line-dasharray":{source:Sn,composite:Sn}},Ih={color:{source:kn,composite:Xn},number:{source:mi,composite:kn}};function $u(E,o,T){const I=kh[E];return I&&I[T]||Ih[o][T]}pe("ConstantBinder",Wl),pe("CrossFadedConstantBinder",Ml),pe("SourceExpressionBinder",Ls),pe("CrossFadedCompositeBinder",Js),pe("CompositeExpressionBinder",cs),pe("ProgramConfiguration",zs,{omit:["_buffers"]}),pe("ProgramConfigurationSet",ml);const hc="-transition";class us extends Yr{constructor(o,T){if(super(),this.id=o.id,this.type=o.type,this._featureFilter={filter:()=>!0,needGeometry:!1},o.type!=="custom"&&(this.metadata=(o=o).metadata,this.minzoom=o.minzoom,this.maxzoom=o.maxzoom,o.type!=="background"&&o.type!=="sky"&&(this.source=o.source,this.sourceLayer=o["source-layer"],this.filter=o.filter),T.layout&&(this._unevaluatedLayout=new Ae(T.layout)),T.paint)){this._transitionablePaint=new de(T.paint);for(const I in o.paint)this.setPaintProperty(I,o.paint[I],{validate:!1});for(const I in o.layout)this.setLayoutProperty(I,o.layout[I],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Xe(T.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(o){return o==="visibility"?this.visibility:this._unevaluatedLayout.getValue(o)}setLayoutProperty(o,T,I={}){T!=null&&this._validate(hl,`layers.${this.id}.layout.${o}`,o,T,I)||(o!=="visibility"?this._unevaluatedLayout.setValue(o,T):this.visibility=T)}getPaintProperty(o){return rt(o,hc)?this._transitionablePaint.getTransition(o.slice(0,-hc.length)):this._transitionablePaint.getValue(o)}setPaintProperty(o,T,I={}){if(T!=null&&this._validate(Tl,`layers.${this.id}.paint.${o}`,o,T,I))return!1;if(rt(o,hc))return this._transitionablePaint.setTransition(o.slice(0,-hc.length),T||void 0),!1;{const O=this._transitionablePaint._values[o],F=O.property.specification["property-type"]==="cross-faded-data-driven",N=O.value.isDataDriven(),X=O.value;this._transitionablePaint.setValue(o,T),this._handleSpecialPaintPropertyUpdate(o);const K=this._transitionablePaint._values[o].value;return K.isDataDriven()||N||F||this._handleOverridablePaintPropertyUpdate(o,X,K)}}_handleSpecialPaintPropertyUpdate(o){}getProgramIds(){return null}getProgramConfiguration(o){return null}_handleOverridablePaintPropertyUpdate(o,T,I){return!1}isHidden(o){return!!(this.minzoom&&o<this.minzoom)||!!(this.maxzoom&&o>=this.maxzoom)||this.visibility==="none"}updateTransitions(o){this._transitioningPaint=this._transitionablePaint.transitioned(o,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(o,T){o.getCrossfadeParameters&&(this._crossfadeParameters=o.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(o,void 0,T)),this.paint=this._transitioningPaint.possiblyEvaluate(o,void 0,T)}serialize(){const o={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(o.layout=o.layout||{},o.layout.visibility=this.visibility),bt(o,(T,I)=>!(T===void 0||I==="layout"&&!Object.keys(T).length||I==="paint"&&!Object.keys(T).length))}_validate(o,T,I,O,F={}){return(!F||F.validate!==!1)&&Ys(this,o.call(ws,{key:T,layerType:this.type,objectKey:I,value:O,styleSpec:Et,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const o in this.paint._values){const T=this.paint.get(o);if(T instanceof ze&&rs(T.property.specification)&&(T.value.kind==="source"||T.value.kind==="composite")&&T.value.isStateDependent)return!0}return!1}}const Mh=Sr([{name:"a_pos",components:2,type:"Int16"}],4),{members:Ah}=Mh;class Xo{constructor(o=[]){this.segments=o}prepareSegment(o,T,I,O){let F=this.segments[this.segments.length-1];return o>Xo.MAX_VERTEX_ARRAY_LENGTH&&at(`Max vertices per segment is ${Xo.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${o}`),(!F||F.vertexLength+o>Xo.MAX_VERTEX_ARRAY_LENGTH||F.sortKey!==O)&&(F={vertexOffset:T.length,primitiveOffset:I.length,vertexLength:0,primitiveLength:0},O!==void 0&&(F.sortKey=O),this.segments.push(F)),F}get(){return this.segments}destroy(){for(const o of this.segments)for(const T in o.vaos)o.vaos[T].destroy()}static simpleSegment(o,T,I,O){return new Xo([{vertexOffset:o,primitiveOffset:T,vertexLength:I,primitiveLength:O,vaos:{},sortKey:0}])}}Xo.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,pe("SegmentVector",Xo);var Ti=8192;const Bc=Math.pow(2,14)-1,Du=-Bc-1;function gl(E){const o=Ti/E.extent,T=E.loadGeometry();for(let I=0;I<T.length;I++){const O=T[I];for(let F=0;F<O.length;F++){const N=O[F],X=Math.round(N.x*o),K=Math.round(N.y*o);N.x=re(X,Du,Bc),N.y=re(K,Du,Bc),(X<N.x||X>N.x+1||K<N.y||K>N.y+1)&&at("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return T}function vl(E,o){return{type:E.type,id:E.id,properties:E.properties,geometry:o?gl(E):[]}}function pc(E,o,T,I,O){E.emplaceBack(2*o+(I+1)/2,2*T+(O+1)/2)}class Nc{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(T=>T.id),this.index=o.index,this.hasPattern=!1,this.layoutVertexArray=new Pt,this.indexArray=new qn,this.segments=new Xo,this.programConfigurations=new ml(o.layers,o.zoom),this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id)}populate(o,T,I){const O=this.layers[0],F=[];let N=null;O.type==="circle"&&(N=O.layout.get("circle-sort-key"));for(const{feature:X,id:K,index:ne,sourceLayerIndex:ce}of o){const he=this.layers[0]._featureFilter.needGeometry,ye=vl(X,he);if(!this.layers[0]._featureFilter.filter(new H(this.zoom),ye,I))continue;const Te=N?N.evaluate(ye,{},I):void 0,Le={id:K,properties:X.properties,type:X.type,sourceLayerIndex:ce,index:ne,geometry:he?ye.geometry:gl(X),patterns:{},sortKey:Te};F.push(Le)}N&&F.sort((X,K)=>X.sortKey-K.sortKey);for(const X of F){const{geometry:K,index:ne,sourceLayerIndex:ce}=X,he=o[ne].feature;this.addFeature(X,K,ne,I),T.featureIndex.insert(he,K,ne,ce,this.index)}}update(o,T,I){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,T,this.stateDependentLayers,I)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Ah),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(o,T,I,O){for(const F of T)for(const N of F){const X=N.x,K=N.y;if(X<0||X>=Ti||K<0||K>=Ti)continue;const ne=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,o.sortKey),ce=ne.vertexLength;pc(this.layoutVertexArray,X,K,-1,-1),pc(this.layoutVertexArray,X,K,1,-1),pc(this.layoutVertexArray,X,K,1,1),pc(this.layoutVertexArray,X,K,-1,1),this.indexArray.emplaceBack(ce,ce+1,ce+2),this.indexArray.emplaceBack(ce,ce+3,ce+2),ne.vertexLength+=4,ne.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,I,{},O)}}function Ru(E,o){for(let T=0;T<E.length;T++)if(Al(o,E[T]))return!0;for(let T=0;T<o.length;T++)if(Al(E,o[T]))return!0;return!!jc(E,o)}function Ph(E,o,T){return!!Al(E,o)||!!Vc(o,E,T)}function Lu(E,o){if(E.length===1)return Fu(o,E[0]);for(let T=0;T<o.length;T++){const I=o[T];for(let O=0;O<I.length;O++)if(Al(E,I[O]))return!0}for(let T=0;T<E.length;T++)if(Fu(o,E[T]))return!0;for(let T=0;T<o.length;T++)if(jc(E,o[T]))return!0;return!1}function Oh(E,o,T){if(E.length>1){if(jc(E,o))return!0;for(let I=0;I<o.length;I++)if(Vc(o[I],E,T))return!0}for(let I=0;I<E.length;I++)if(Vc(E[I],o,T))return!0;return!1}function jc(E,o){if(E.length===0||o.length===0)return!1;for(let T=0;T<E.length-1;T++){const I=E[T],O=E[T+1];for(let F=0;F<o.length-1;F++)if($h(I,O,o[F],o[F+1]))return!0}return!1}function $h(E,o,T,I){return Ut(E,T,I)!==Ut(o,T,I)&&Ut(E,o,T)!==Ut(E,o,I)}function Vc(E,o,T){const I=T*T;if(o.length===1)return E.distSqr(o[0])<I;for(let O=1;O<o.length;O++)if(zu(E,o[O-1],o[O])<I)return!0;return!1}function zu(E,o,T){const I=o.distSqr(T);if(I===0)return E.distSqr(o);const O=((E.x-o.x)*(T.x-o.x)+(E.y-o.y)*(T.y-o.y))/I;return E.distSqr(O<0?o:O>1?T:T.sub(o)._mult(O)._add(o))}function Fu(E,o){let T,I,O,F=!1;for(let N=0;N<E.length;N++){T=E[N];for(let X=0,K=T.length-1;X<T.length;K=X++)I=T[X],O=T[K],I.y>o.y!=O.y>o.y&&o.x<(O.x-I.x)*(o.y-I.y)/(O.y-I.y)+I.x&&(F=!F)}return F}function Al(E,o){let T=!1;for(let I=0,O=E.length-1;I<E.length;O=I++){const F=E[I],N=E[O];F.y>o.y!=N.y>o.y&&o.x<(N.x-F.x)*(o.y-F.y)/(N.y-F.y)+F.x&&(T=!T)}return T}function Bu(E,o,T,I,O){for(const N of E)if(o<=N.x&&T<=N.y&&I>=N.x&&O>=N.y)return!0;const F=[new P(o,T),new P(o,O),new P(I,O),new P(I,T)];if(E.length>2){for(const N of F)if(Al(E,N))return!0}for(let N=0;N<E.length-1;N++)if(Dh(E[N],E[N+1],F))return!0;return!1}function Dh(E,o,T){const I=T[0],O=T[2];if(E.x<I.x&&o.x<I.x||E.x>O.x&&o.x>O.x||E.y<I.y&&o.y<I.y||E.y>O.y&&o.y>O.y)return!1;const F=Ut(E,o,T[0]);return F!==Ut(E,o,T[1])||F!==Ut(E,o,T[2])||F!==Ut(E,o,T[3])}function Zl(E,o,T){const I=o.paint.get(E).value;return I.kind==="constant"?I.value:T.programConfigurations.get(o.id).getMaxValue(E)}function fc(E){return Math.sqrt(E[0]*E[0]+E[1]*E[1])}function Nu(E,o,T,I,O){if(!o[0]&&!o[1])return E;const F=P.convert(o)._mult(O);T==="viewport"&&F._rotate(-I);const N=[];for(let X=0;X<E.length;X++)N.push(E[X].sub(F));return N}function ju(E,o,T,I){const O=P.convert(E)._mult(I);return o==="viewport"&&O._rotate(-T),O}pe("CircleBucket",Nc,{omit:["layers"]});const Rh=new wt({"circle-sort-key":new Ge(Et.layout_circle["circle-sort-key"])});var Lh={paint:new wt({"circle-radius":new Ge(Et.paint_circle["circle-radius"]),"circle-color":new Ge(Et.paint_circle["circle-color"]),"circle-blur":new Ge(Et.paint_circle["circle-blur"]),"circle-opacity":new Ge(Et.paint_circle["circle-opacity"]),"circle-translate":new Fe(Et.paint_circle["circle-translate"]),"circle-translate-anchor":new Fe(Et.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Fe(Et.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Fe(Et.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Ge(Et.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Ge(Et.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Ge(Et.paint_circle["circle-stroke-opacity"])}),layout:Rh},Aa=typeof Float32Array!="undefined"?Float32Array:Array;function Vu(){var E=new Aa(9);return Aa!=Float32Array&&(E[1]=0,E[2]=0,E[3]=0,E[5]=0,E[6]=0,E[7]=0),E[0]=1,E[4]=1,E[8]=1,E}function Uc(E){return E[0]=1,E[1]=0,E[2]=0,E[3]=0,E[4]=0,E[5]=1,E[6]=0,E[7]=0,E[8]=0,E[9]=0,E[10]=1,E[11]=0,E[12]=0,E[13]=0,E[14]=0,E[15]=1,E}function Uu(E,o,T){var I=o[0],O=o[1],F=o[2],N=o[3],X=o[4],K=o[5],ne=o[6],ce=o[7],he=o[8],ye=o[9],Te=o[10],Le=o[11],it=o[12],xt=o[13],Ot=o[14],Zt=o[15],ar=T[0],vr=T[1],yr=T[2],br=T[3];return E[0]=ar*I+vr*X+yr*he+br*it,E[1]=ar*O+vr*K+yr*ye+br*xt,E[2]=ar*F+vr*ne+yr*Te+br*Ot,E[3]=ar*N+vr*ce+yr*Le+br*Zt,E[4]=(ar=T[4])*I+(vr=T[5])*X+(yr=T[6])*he+(br=T[7])*it,E[5]=ar*O+vr*K+yr*ye+br*xt,E[6]=ar*F+vr*ne+yr*Te+br*Ot,E[7]=ar*N+vr*ce+yr*Le+br*Zt,E[8]=(ar=T[8])*I+(vr=T[9])*X+(yr=T[10])*he+(br=T[11])*it,E[9]=ar*O+vr*K+yr*ye+br*xt,E[10]=ar*F+vr*ne+yr*Te+br*Ot,E[11]=ar*N+vr*ce+yr*Le+br*Zt,E[12]=(ar=T[12])*I+(vr=T[13])*X+(yr=T[14])*he+(br=T[15])*it,E[13]=ar*O+vr*K+yr*ye+br*xt,E[14]=ar*F+vr*ne+yr*Te+br*Ot,E[15]=ar*N+vr*ce+yr*Le+br*Zt,E}Math.hypot||(Math.hypot=function(){for(var E=0,o=arguments.length;o--;)E+=arguments[o]*arguments[o];return Math.sqrt(E)});var zh=Uu;function mc(){var E=new Aa(3);return Aa!=Float32Array&&(E[0]=0,E[1]=0,E[2]=0),E}function Gu(E){return Math.hypot(E[0],E[1],E[2])}function Pl(E,o,T){var I=new Aa(3);return I[0]=E,I[1]=o,I[2]=T,I}function Hu(E,o,T){return E[0]=o[0]-T[0],E[1]=o[1]-T[1],E[2]=o[2]-T[2],E}function qu(E,o,T){return E[0]=o[0]*T[0],E[1]=o[1]*T[1],E[2]=o[2]*T[2],E}function Wu(E,o,T,I){return E[0]=o[0]+T[0]*I,E[1]=o[1]+T[1]*I,E[2]=o[2]+T[2]*I,E}function Zu(E,o){var T=o[0],I=o[1],O=o[2],F=T*T+I*I+O*O;return F>0&&(F=1/Math.sqrt(F)),E[0]=o[0]*F,E[1]=o[1]*F,E[2]=o[2]*F,E}function Xu(E,o,T){var I=T[0],O=T[1],F=T[2],N=o[0],X=o[1],K=o[2],ne=O*K-F*X,ce=F*N-I*K,he=I*X-O*N,ye=O*he-F*ce,Te=F*ne-I*he,Le=I*ce-O*ne,it=2*T[3];return ce*=it,he*=it,Te*=2,Le*=2,E[0]=N+(ne*=it)+(ye*=2),E[1]=X+ce+Te,E[2]=K+he+Le,E}var Xl,Fh=Hu,Bh=qu,Nh=Gu;function Yl(E,o,T){var I=o[0],O=o[1],F=o[2],N=o[3];return E[0]=T[0]*I+T[4]*O+T[8]*F+T[12]*N,E[1]=T[1]*I+T[5]*O+T[9]*F+T[13]*N,E[2]=T[2]*I+T[6]*O+T[10]*F+T[14]*N,E[3]=T[3]*I+T[7]*O+T[11]*F+T[15]*N,E}function Gc(){var E=new Aa(4);return Aa!=Float32Array&&(E[0]=0,E[1]=0,E[2]=0),E[3]=1,E}function Yu(E){return E[0]=0,E[1]=0,E[2]=0,E[3]=1,E}function Ku(E,o,T){T*=.5;var I=o[0],O=o[1],F=o[2],N=o[3],X=Math.sin(T),K=Math.cos(T);return E[0]=I*K+N*X,E[1]=O*K+F*X,E[2]=F*K-O*X,E[3]=N*K-I*X,E}function jh(E,o,T){const I=Yl([],[E.x,E.y,o,1],T);return new P(I[0]/I[3],I[1]/I[3])}mc(),Xl=new Aa(4),Aa!=Float32Array&&(Xl[0]=0,Xl[1]=0,Xl[2]=0,Xl[3]=0),mc(),Pl(1,0,0),Pl(0,1,0),Gc(),Gc(),Vu();const Ju=Pl(0,0,0),Vh=Pl(0,0,1);function Uh(E,o){const T=mc();return Ju[2]=o,E.intersectsPlane(Ju,Vh,T),new P(T[0],T[1])}class Qu extends Nc{}function Hc(E,{width:o,height:T},I,O){if(O){if(O instanceof Uint8ClampedArray)O=new Uint8Array(O.buffer);else if(O.length!==o*T*I)throw new RangeError("mismatched image size")}else O=new Uint8Array(o*T*I);return E.width=o,E.height=T,E.data=O,E}function ed(E,{width:o,height:T},I){if(o===E.width&&T===E.height)return;const O=Hc({},{width:o,height:T},I);qc(E,O,{x:0,y:0},{x:0,y:0},{width:Math.min(E.width,o),height:Math.min(E.height,T)},I),E.width=o,E.height=T,E.data=O.data}function qc(E,o,T,I,O,F){if(O.width===0||O.height===0)return o;if(O.width>E.width||O.height>E.height||T.x>E.width-O.width||T.y>E.height-O.height)throw new RangeError("out of range source coordinates for image copy");if(O.width>o.width||O.height>o.height||I.x>o.width-O.width||I.y>o.height-O.height)throw new RangeError("out of range destination coordinates for image copy");const N=E.data,X=o.data;for(let K=0;K<O.height;K++){const ne=((T.y+K)*E.width+T.x)*F,ce=((I.y+K)*o.width+I.x)*F;for(let he=0;he<O.width*F;he++)X[ce+he]=N[ne+he]}return o}pe("HeatmapBucket",Qu,{omit:["layers"]});class Qs{constructor(o,T){Hc(this,o,1,T)}resize(o){ed(this,o,1)}clone(){return new Qs({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,T,I,O,F){qc(o,T,I,O,F,1)}}class Ga{constructor(o,T){Hc(this,o,4,T)}resize(o){ed(this,o,4)}replace(o,T){T?this.data.set(o):this.data=o instanceof Uint8ClampedArray?new Uint8Array(o.buffer):o}clone(){return new Ga({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(o,T,I,O,F){qc(o,T,I,O,F,4)}}pe("AlphaImage",Qs),pe("RGBAImage",Ga);var Gh={paint:new wt({"heatmap-radius":new Ge(Et.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Ge(Et.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Fe(Et.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ht(Et.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Fe(Et.paint_heatmap["heatmap-opacity"])})};function Wc(E){const o={},T=E.resolution||256,I=E.clips?E.clips.length:1,O=E.image||new Ga({width:T,height:I}),F=(N,X,K)=>{o[E.evaluationKey]=K;const ne=E.expression.evaluate(o);O.data[N+X+0]=Math.floor(255*ne.r/ne.a),O.data[N+X+1]=Math.floor(255*ne.g/ne.a),O.data[N+X+2]=Math.floor(255*ne.b/ne.a),O.data[N+X+3]=Math.floor(255*ne.a)};if(E.clips)for(let N=0,X=0;N<I;++N,X+=4*T)for(let K=0,ne=0;K<T;K++,ne+=4){const ce=K/(T-1),{start:he,end:ye}=E.clips[N];F(X,ne,he*(1-ce)+ye*ce)}else for(let N=0,X=0;N<T;N++,X+=4)F(0,X,N/(T-1));return O}var Hh={paint:new wt({"hillshade-illumination-direction":new Fe(Et.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Fe(Et.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Fe(Et.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Fe(Et.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Fe(Et.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Fe(Et.paint_hillshade["hillshade-accent-color"])})};const qh=Sr([{name:"a_pos",components:2,type:"Int16"}],4),{members:Wh}=qh;var Zc=gc,Zh=gc;function gc(E,o,T){T=T||2;var I,O,F,N,X,K,ne,ce=o&&o.length,he=ce?o[0]*T:E.length,ye=td(E,0,he,T,!0),Te=[];if(!ye||ye.next===ye.prev)return Te;if(ce&&(ye=function(it,xt,Ot,Zt){var ar,vr,yr,br=[];for(ar=0,vr=xt.length;ar<vr;ar++)(yr=td(it,xt[ar]*Zt,ar<vr-1?xt[ar+1]*Zt:it.length,Zt,!1))===yr.next&&(yr.steiner=!0),br.push(rp(yr));for(br.sort(Qh),ar=0;ar<br.length;ar++)ep(br[ar],Ot),Ot=el(Ot,Ot.next);return Ot}(E,o,ye,T)),E.length>80*T){I=F=E[0],O=N=E[1];for(var Le=T;Le<he;Le+=T)(X=E[Le])<I&&(I=X),(K=E[Le+1])<O&&(O=K),X>F&&(F=X),K>N&&(N=K);ne=(ne=Math.max(F-I,N-O))!==0?1/ne:0}return Kl(ye,Te,T,I,O,ne),Te}function td(E,o,T,I,O){var F,N;if(O===Kc(E,o,T,I)>0)for(F=o;F<T;F+=I)N=id(F,E[F],E[F+1],N);else for(F=T-I;F>=o;F-=I)N=id(F,E[F],E[F+1],N);return N&&vc(N,N.next)&&(Ql(N),N=N.next),N}function el(E,o){if(!E)return E;o||(o=E);var T,I=E;do if(T=!1,I.steiner||!vc(I,I.next)&&so(I.prev,I,I.next)!==0)I=I.next;else{if(Ql(I),(I=o=I.prev)===I.next)break;T=!0}while(T||I!==o);return o}function Kl(E,o,T,I,O,F,N){if(E){!N&&F&&function(ce,he,ye,Te){var Le=ce;do Le.z===null&&(Le.z=Xc(Le.x,Le.y,he,ye,Te)),Le.prevZ=Le.prev,Le.nextZ=Le.next,Le=Le.next;while(Le!==ce);Le.prevZ.nextZ=null,Le.prevZ=null,function(it){var xt,Ot,Zt,ar,vr,yr,br,Qr,qr=1;do{for(Ot=it,it=null,vr=null,yr=0;Ot;){for(yr++,Zt=Ot,br=0,xt=0;xt<qr&&(br++,Zt=Zt.nextZ);xt++);for(Qr=qr;br>0||Qr>0&&Zt;)br!==0&&(Qr===0||!Zt||Ot.z<=Zt.z)?(ar=Ot,Ot=Ot.nextZ,br--):(ar=Zt,Zt=Zt.nextZ,Qr--),vr?vr.nextZ=ar:it=ar,ar.prevZ=vr,vr=ar;Ot=Zt}vr.nextZ=null,qr*=2}while(yr>1)}(Le)}(E,I,O,F);for(var X,K,ne=E;E.prev!==E.next;)if(X=E.prev,K=E.next,F?Yh(E,I,O,F):Xh(E))o.push(X.i/T),o.push(E.i/T),o.push(K.i/T),Ql(E),E=K.next,ne=K.next;else if((E=K)===ne){N?N===1?Kl(E=Kh(el(E),o,T),o,T,I,O,F,2):N===2&&Jh(E,o,T,I,O,F):Kl(el(E),o,T,I,O,F,1);break}}}function Xh(E){var o=E.prev,T=E,I=E.next;if(so(o,T,I)>=0)return!1;for(var O=E.next.next;O!==E.prev;){if(Ol(o.x,o.y,T.x,T.y,I.x,I.y,O.x,O.y)&&so(O.prev,O,O.next)>=0)return!1;O=O.next}return!0}function Yh(E,o,T,I){var O=E.prev,F=E,N=E.next;if(so(O,F,N)>=0)return!1;for(var X=O.x>F.x?O.x>N.x?O.x:N.x:F.x>N.x?F.x:N.x,K=O.y>F.y?O.y>N.y?O.y:N.y:F.y>N.y?F.y:N.y,ne=Xc(O.x<F.x?O.x<N.x?O.x:N.x:F.x<N.x?F.x:N.x,O.y<F.y?O.y<N.y?O.y:N.y:F.y<N.y?F.y:N.y,o,T,I),ce=Xc(X,K,o,T,I),he=E.prevZ,ye=E.nextZ;he&&he.z>=ne&&ye&&ye.z<=ce;){if(he!==E.prev&&he!==E.next&&Ol(O.x,O.y,F.x,F.y,N.x,N.y,he.x,he.y)&&so(he.prev,he,he.next)>=0||(he=he.prevZ,ye!==E.prev&&ye!==E.next&&Ol(O.x,O.y,F.x,F.y,N.x,N.y,ye.x,ye.y)&&so(ye.prev,ye,ye.next)>=0))return!1;ye=ye.nextZ}for(;he&&he.z>=ne;){if(he!==E.prev&&he!==E.next&&Ol(O.x,O.y,F.x,F.y,N.x,N.y,he.x,he.y)&&so(he.prev,he,he.next)>=0)return!1;he=he.prevZ}for(;ye&&ye.z<=ce;){if(ye!==E.prev&&ye!==E.next&&Ol(O.x,O.y,F.x,F.y,N.x,N.y,ye.x,ye.y)&&so(ye.prev,ye,ye.next)>=0)return!1;ye=ye.nextZ}return!0}function Kh(E,o,T){var I=E;do{var O=I.prev,F=I.next.next;!vc(O,F)&&rd(O,I,I.next,F)&&Jl(O,F)&&Jl(F,O)&&(o.push(O.i/T),o.push(I.i/T),o.push(F.i/T),Ql(I),Ql(I.next),I=E=F),I=I.next}while(I!==E);return el(I)}function Jh(E,o,T,I,O,F){var N=E;do{for(var X=N.next.next;X!==N.prev;){if(N.i!==X.i&&np(N,X)){var K=nd(N,X);return N=el(N,N.next),K=el(K,K.next),Kl(N,o,T,I,O,F),void Kl(K,o,T,I,O,F)}X=X.next}N=N.next}while(N!==E)}function Qh(E,o){return E.x-o.x}function ep(E,o){if(o=function(I,O){var F,N=O,X=I.x,K=I.y,ne=-1/0;do{if(K<=N.y&&K>=N.next.y&&N.next.y!==N.y){var ce=N.x+(K-N.y)*(N.next.x-N.x)/(N.next.y-N.y);if(ce<=X&&ce>ne){if(ne=ce,ce===X){if(K===N.y)return N;if(K===N.next.y)return N.next}F=N.x<N.next.x?N:N.next}}N=N.next}while(N!==O);if(!F)return null;if(X===ne)return F;var he,ye=F,Te=F.x,Le=F.y,it=1/0;N=F;do X>=N.x&&N.x>=Te&&X!==N.x&&Ol(K<Le?X:ne,K,Te,Le,K<Le?ne:X,K,N.x,N.y)&&(he=Math.abs(K-N.y)/(X-N.x),Jl(N,I)&&(he<it||he===it&&(N.x>F.x||N.x===F.x&&tp(F,N)))&&(F=N,it=he)),N=N.next;while(N!==ye);return F}(E,o)){var T=nd(o,E);el(o,o.next),el(T,T.next)}}function tp(E,o){return so(E.prev,E,o.prev)<0&&so(o.next,E,E.next)<0}function Xc(E,o,T,I,O){return(E=1431655765&((E=858993459&((E=252645135&((E=16711935&((E=32767*(E-T)*O)|E<<8))|E<<4))|E<<2))|E<<1))|(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=32767*(o-I)*O)|o<<8))|o<<4))|o<<2))|o<<1))<<1}function rp(E){var o=E,T=E;do(o.x<T.x||o.x===T.x&&o.y<T.y)&&(T=o),o=o.next;while(o!==E);return T}function Ol(E,o,T,I,O,F,N,X){return(O-N)*(o-X)-(E-N)*(F-X)>=0&&(E-N)*(I-X)-(T-N)*(o-X)>=0&&(T-N)*(F-X)-(O-N)*(I-X)>=0}function np(E,o){return E.next.i!==o.i&&E.prev.i!==o.i&&!function(T,I){var O=T;do{if(O.i!==T.i&&O.next.i!==T.i&&O.i!==I.i&&O.next.i!==I.i&&rd(O,O.next,T,I))return!0;O=O.next}while(O!==T);return!1}(E,o)&&(Jl(E,o)&&Jl(o,E)&&function(T,I){var O=T,F=!1,N=(T.x+I.x)/2,X=(T.y+I.y)/2;do O.y>X!=O.next.y>X&&O.next.y!==O.y&&N<(O.next.x-O.x)*(X-O.y)/(O.next.y-O.y)+O.x&&(F=!F),O=O.next;while(O!==T);return F}(E,o)&&(so(E.prev,E,o.prev)||so(E,o.prev,o))||vc(E,o)&&so(E.prev,E,E.next)>0&&so(o.prev,o,o.next)>0)}function so(E,o,T){return(o.y-E.y)*(T.x-o.x)-(o.x-E.x)*(T.y-o.y)}function vc(E,o){return E.x===o.x&&E.y===o.y}function rd(E,o,T,I){var O=bc(so(E,o,T)),F=bc(so(E,o,I)),N=bc(so(T,I,E)),X=bc(so(T,I,o));return O!==F&&N!==X||!(O!==0||!yc(E,T,o))||!(F!==0||!yc(E,I,o))||!(N!==0||!yc(T,E,I))||!(X!==0||!yc(T,o,I))}function yc(E,o,T){return o.x<=Math.max(E.x,T.x)&&o.x>=Math.min(E.x,T.x)&&o.y<=Math.max(E.y,T.y)&&o.y>=Math.min(E.y,T.y)}function bc(E){return E>0?1:E<0?-1:0}function Jl(E,o){return so(E.prev,E,E.next)<0?so(E,o,E.next)>=0&&so(E,E.prev,o)>=0:so(E,o,E.prev)<0||so(E,E.next,o)<0}function nd(E,o){var T=new Yc(E.i,E.x,E.y),I=new Yc(o.i,o.x,o.y),O=E.next,F=o.prev;return E.next=o,o.prev=E,T.next=O,O.prev=T,I.next=T,T.prev=I,F.next=I,I.prev=F,I}function id(E,o,T,I){var O=new Yc(E,o,T);return I?(O.next=I.next,O.prev=I,I.next.prev=O,I.next=O):(O.prev=O,O.next=O),O}function Ql(E){E.next.prev=E.prev,E.prev.next=E.next,E.prevZ&&(E.prevZ.nextZ=E.nextZ),E.nextZ&&(E.nextZ.prevZ=E.prevZ)}function Yc(E,o,T){this.i=E,this.x=o,this.y=T,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Kc(E,o,T,I){for(var O=0,F=o,N=T-I;F<T;F+=I)O+=(E[N]-E[F])*(E[F+1]+E[N+1]),N=F;return O}function ip(E,o,T,I,O){(function F(N,X,K,ne,ce){for(;ne>K;){if(ne-K>600){var he=ne-K+1,ye=X-K+1,Te=Math.log(he),Le=.5*Math.exp(2*Te/3),it=.5*Math.sqrt(Te*Le*(he-Le)/he)*(ye-he/2<0?-1:1);F(N,X,Math.max(K,Math.floor(X-ye*Le/he+it)),Math.min(ne,Math.floor(X+(he-ye)*Le/he+it)),ce)}var xt=N[X],Ot=K,Zt=ne;for(ec(N,K,X),ce(N[ne],xt)>0&&ec(N,K,ne);Ot<Zt;){for(ec(N,Ot,Zt),Ot++,Zt--;ce(N[Ot],xt)<0;)Ot++;for(;ce(N[Zt],xt)>0;)Zt--}ce(N[K],xt)===0?ec(N,K,Zt):ec(N,++Zt,ne),Zt<=X&&(K=Zt+1),X<=Zt&&(ne=Zt-1)}})(E,o,T||0,I||E.length-1,O||op)}function ec(E,o,T){var I=E[o];E[o]=E[T],E[T]=I}function op(E,o){return E<o?-1:E>o?1:0}function Jc(E,o){const T=E.length;if(T<=1)return[E];const I=[];let O,F;for(let N=0;N<T;N++){const X=je(E[N]);X!==0&&(E[N].area=Math.abs(X),F===void 0&&(F=X<0),F===X<0?(O&&I.push(O),O=[E[N]]):O.push(E[N]))}if(O&&I.push(O),o>1)for(let N=0;N<I.length;N++)I[N].length<=o||(ip(I[N],o,1,I[N].length-1,ap),I[N]=I[N].slice(0,o));return I}function ap(E,o){return o.area-E.area}function Qc(E,o,T){const I=T.patternDependencies;let O=!1;for(const F of o){const N=F.paint.get(E+"-pattern");N.isConstant()||(O=!0);const X=N.constantOr(null);X&&(O=!0,I[X.to]=!0,I[X.from]=!0)}return O}function eu(E,o,T,I,O){const F=O.patternDependencies;for(const N of o){const X=N.paint.get(E+"-pattern").value;if(X.kind!=="constant"){let K=X.evaluate({zoom:I-1},T,{},O.availableImages),ne=X.evaluate({zoom:I},T,{},O.availableImages),ce=X.evaluate({zoom:I+1},T,{},O.availableImages);K=K&&K.name?K.name:K,ne=ne&&ne.name?ne.name:ne,ce=ce&&ce.name?ce.name:ce,F[K]=!0,F[ne]=!0,F[ce]=!0,T.patterns[N.id]={min:K,mid:ne,max:ce}}}return T}gc.deviation=function(E,o,T,I){var O=o&&o.length,F=Math.abs(Kc(E,0,O?o[0]*T:E.length,T));if(O)for(var N=0,X=o.length;N<X;N++)F-=Math.abs(Kc(E,o[N]*T,N<X-1?o[N+1]*T:E.length,T));var K=0;for(N=0;N<I.length;N+=3){var ne=I[N]*T,ce=I[N+1]*T,he=I[N+2]*T;K+=Math.abs((E[ne]-E[he])*(E[ce+1]-E[ne+1])-(E[ne]-E[ce])*(E[he+1]-E[ne+1]))}return F===0&&K===0?0:Math.abs((K-F)/F)},gc.flatten=function(E){for(var o=E[0][0].length,T={vertices:[],holes:[],dimensions:o},I=0,O=0;O<E.length;O++){for(var F=0;F<E[O].length;F++)for(var N=0;N<o;N++)T.vertices.push(E[O][F][N]);O>0&&T.holes.push(I+=E[O-1].length)}return T},Zc.default=Zh;class tu{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(T=>T.id),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Pt,this.indexArray=new qn,this.indexArray2=new hi,this.programConfigurations=new ml(o.layers,o.zoom),this.segments=new Xo,this.segments2=new Xo,this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id)}populate(o,T,I){this.hasPattern=Qc("fill",this.layers,T);const O=this.layers[0].layout.get("fill-sort-key"),F=[];for(const{feature:N,id:X,index:K,sourceLayerIndex:ne}of o){const ce=this.layers[0]._featureFilter.needGeometry,he=vl(N,ce);if(!this.layers[0]._featureFilter.filter(new H(this.zoom),he,I))continue;const ye=O?O.evaluate(he,{},I,T.availableImages):void 0,Te={id:X,properties:N.properties,type:N.type,sourceLayerIndex:ne,index:K,geometry:ce?he.geometry:gl(N),patterns:{},sortKey:ye};F.push(Te)}O&&F.sort((N,X)=>N.sortKey-X.sortKey);for(const N of F){const{geometry:X,index:K,sourceLayerIndex:ne}=N;if(this.hasPattern){const ce=eu("fill",this.layers,N,this.zoom,T);this.patternFeatures.push(ce)}else this.addFeature(N,X,K,I,{});T.featureIndex.insert(o[K].feature,X,K,ne,this.index)}}update(o,T,I){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,T,this.stateDependentLayers,I)}addFeatures(o,T,I){for(const O of this.patternFeatures)this.addFeature(O,O.geometry,O.index,T,I)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Wh),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.indexBuffer2=o.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(o,T,I,O,F){for(const N of Jc(T,500)){let X=0;for(const Te of N)X+=Te.length;const K=this.segments.prepareSegment(X,this.layoutVertexArray,this.indexArray),ne=K.vertexLength,ce=[],he=[];for(const Te of N){if(Te.length===0)continue;Te!==N[0]&&he.push(ce.length/2);const Le=this.segments2.prepareSegment(Te.length,this.layoutVertexArray,this.indexArray2),it=Le.vertexLength;this.layoutVertexArray.emplaceBack(Te[0].x,Te[0].y),this.indexArray2.emplaceBack(it+Te.length-1,it),ce.push(Te[0].x),ce.push(Te[0].y);for(let xt=1;xt<Te.length;xt++)this.layoutVertexArray.emplaceBack(Te[xt].x,Te[xt].y),this.indexArray2.emplaceBack(it+xt-1,it+xt),ce.push(Te[xt].x),ce.push(Te[xt].y);Le.vertexLength+=Te.length,Le.primitiveLength+=Te.length}const ye=Zc(ce,he);for(let Te=0;Te<ye.length;Te+=3)this.indexArray.emplaceBack(ne+ye[Te],ne+ye[Te+1],ne+ye[Te+2]);K.vertexLength+=X,K.primitiveLength+=ye.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,I,F,O)}}pe("FillBucket",tu,{omit:["layers","patternFeatures"]});const sp=new wt({"fill-sort-key":new Ge(Et.layout_fill["fill-sort-key"])});var lp={paint:new wt({"fill-antialias":new Fe(Et.paint_fill["fill-antialias"]),"fill-opacity":new Ge(Et.paint_fill["fill-opacity"]),"fill-color":new Ge(Et.paint_fill["fill-color"]),"fill-outline-color":new Ge(Et.paint_fill["fill-outline-color"]),"fill-translate":new Fe(Et.paint_fill["fill-translate"]),"fill-translate-anchor":new Fe(Et.paint_fill["fill-translate-anchor"]),"fill-pattern":new It(Et.paint_fill["fill-pattern"])}),layout:sp};const cp=Sr([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),up=Sr([{name:"a_centroid_pos",components:2,type:"Uint16"}]),{members:dp}=cp;var od=$l;function $l(E,o,T,I,O){this.properties={},this.extent=T,this.type=0,this._pbf=E,this._geometry=-1,this._keys=I,this._values=O,E.readFields(hp,this,o)}function hp(E,o,T){E==1?o.id=T.readVarint():E==2?function(I,O){for(var F=I.readVarint()+I.pos;I.pos<F;){var N=O._keys[I.readVarint()],X=O._values[I.readVarint()];O.properties[N]=X}}(T,o):E==3?o.type=T.readVarint():E==4&&(o._geometry=T.pos)}function pp(E){for(var o,T,I=0,O=0,F=E.length,N=F-1;O<F;N=O++)I+=((T=E[N]).x-(o=E[O]).x)*(o.y+T.y);return I}$l.types=["Unknown","Point","LineString","Polygon"],$l.prototype.loadGeometry=function(){var E=this._pbf;E.pos=this._geometry;for(var o,T=E.readVarint()+E.pos,I=1,O=0,F=0,N=0,X=[];E.pos<T;){if(O<=0){var K=E.readVarint();I=7&K,O=K>>3}if(O--,I===1||I===2)F+=E.readSVarint(),N+=E.readSVarint(),I===1&&(o&&X.push(o),o=[]),o.push(new P(F,N));else{if(I!==7)throw new Error("unknown command "+I);o&&o.push(o[0].clone())}}return o&&X.push(o),X},$l.prototype.bbox=function(){var E=this._pbf;E.pos=this._geometry;for(var o=E.readVarint()+E.pos,T=1,I=0,O=0,F=0,N=1/0,X=-1/0,K=1/0,ne=-1/0;E.pos<o;){if(I<=0){var ce=E.readVarint();T=7&ce,I=ce>>3}if(I--,T===1||T===2)(O+=E.readSVarint())<N&&(N=O),O>X&&(X=O),(F+=E.readSVarint())<K&&(K=F),F>ne&&(ne=F);else if(T!==7)throw new Error("unknown command "+T)}return[N,K,X,ne]},$l.prototype.toGeoJSON=function(E,o,T){var I,O,F=this.extent*Math.pow(2,T),N=this.extent*E,X=this.extent*o,K=this.loadGeometry(),ne=$l.types[this.type];function ce(Te){for(var Le=0;Le<Te.length;Le++){var it=Te[Le];Te[Le]=[360*(it.x+N)/F-180,360/Math.PI*Math.atan(Math.exp((180-360*(it.y+X)/F)*Math.PI/180))-90]}}switch(this.type){case 1:var he=[];for(I=0;I<K.length;I++)he[I]=K[I][0];ce(K=he);break;case 2:for(I=0;I<K.length;I++)ce(K[I]);break;case 3:for(K=function(Te){var Le=Te.length;if(Le<=1)return[Te];for(var it,xt,Ot=[],Zt=0;Zt<Le;Zt++){var ar=pp(Te[Zt]);ar!==0&&(xt===void 0&&(xt=ar<0),xt===ar<0?(it&&Ot.push(it),it=[Te[Zt]]):it.push(Te[Zt]))}return it&&Ot.push(it),Ot}(K),I=0;I<K.length;I++)for(O=0;O<K[I].length;O++)ce(K[I][O])}K.length===1?K=K[0]:ne="Multi"+ne;var ye={type:"Feature",geometry:{type:ne,coordinates:K},properties:this.properties};return"id"in this&&(ye.id=this.id),ye};var ad=sd;function sd(E,o){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=E,this._keys=[],this._values=[],this._features=[],E.readFields(fp,this,o),this.length=this._features.length}function fp(E,o,T){E===15?o.version=T.readVarint():E===1?o.name=T.readString():E===5?o.extent=T.readVarint():E===2?o._features.push(T.pos):E===3?o._keys.push(T.readString()):E===4&&o._values.push(function(I){for(var O=null,F=I.readVarint()+I.pos;I.pos<F;){var N=I.readVarint()>>3;O=N===1?I.readString():N===2?I.readFloat():N===3?I.readDouble():N===4?I.readVarint64():N===5?I.readVarint():N===6?I.readSVarint():N===7?I.readBoolean():null}return O}(T))}function mp(E,o,T){if(E===3){var I=new ad(T,T.readVarint()+T.pos);I.length&&(o[I.name]=I)}}sd.prototype.feature=function(E){if(E<0||E>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[E];var o=this._pbf.readVarint()+this._pbf.pos;return new od(this._pbf,o,this.extent,this._keys,this._values)};var yl={VectorTile:function(E,o){this.layers=E.readFields(mp,{},o)},VectorTileFeature:od,VectorTileLayer:ad};const ld=yl.VectorTileFeature.types,gp=Math.pow(2,13);function tc(E,o,T,I,O,F,N,X){E.emplaceBack((o<<1)+N,(T<<1)+F,(Math.floor(I*gp)<<1)+O,Math.round(X))}class cd{constructor(){this.acc=new P(0,0),this.polyCount=[]}startRing(o){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new P(o.x,o.y),this.max=new P(o.x,o.y))}append(o,T){this.currentPolyCount.edges++,this.acc._add(o);let I=!!this.borders;const O=this.min,F=this.max;o.x<O.x?(O.x=o.x,I=!0):o.x>F.x&&(F.x=o.x,I=!0),o.y<O.y?(O.y=o.y,I=!0):o.y>F.y&&(F.y=o.y,I=!0),((o.x===0||o.x===Ti)&&o.x===T.x)!=((o.y===0||o.y===Ti)&&o.y===T.y)&&this.processBorderOverlap(o,T),I&&this.checkBorderIntersection(o,T)}checkBorderIntersection(o,T){T.x<0!=o.x<0&&this.addBorderIntersection(0,Bn(T.y,o.y,(0-T.x)/(o.x-T.x))),T.x>Ti!=o.x>Ti&&this.addBorderIntersection(1,Bn(T.y,o.y,(Ti-T.x)/(o.x-T.x))),T.y<0!=o.y<0&&this.addBorderIntersection(2,Bn(T.x,o.x,(0-T.y)/(o.y-T.y))),T.y>Ti!=o.y>Ti&&this.addBorderIntersection(3,Bn(T.x,o.x,(Ti-T.y)/(o.y-T.y)))}addBorderIntersection(o,T){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const I=this.borders[o];T<I[0]&&(I[0]=T),T>I[1]&&(I[1]=T)}processBorderOverlap(o,T){if(o.x===T.x){if(o.y===T.y)return;const I=o.x===0?0:1;this.addBorderIntersection(I,T.y),this.addBorderIntersection(I,o.y)}else{const I=o.y===0?2:3;this.addBorderIntersection(I,T.x),this.addBorderIntersection(I,o.x)}}centroid(){const o=this.polyCount.reduce((T,I)=>T+I.edges,0);return o!==0?this.acc.div(o)._round():new P(0,0)}span(){return new P(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((o,T)=>o+ +(T[0]!==Number.MAX_VALUE),0)}}class ru{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(T=>T.id),this.index=o.index,this.hasPattern=!1,this.layoutVertexArray=new on,this.centroidVertexArray=new as,this.indexArray=new qn,this.programConfigurations=new ml(o.layers,o.zoom),this.segments=new Xo,this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id),this.enableTerrain=o.enableTerrain}populate(o,T,I){this.features=[],this.hasPattern=Qc("fill-extrusion",this.layers,T),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDone=[!1,!1,!1,!1],this.tileToMeter=function(O){const F=Math.exp(Math.PI*(1-O.y/(1<<O.z)*2));return 80150034*F/(F*F+1)/Ti/(1<<O.z)}(I);for(const{feature:O,id:F,index:N,sourceLayerIndex:X}of o){const K=this.layers[0]._featureFilter.needGeometry,ne=vl(O,K);if(!this.layers[0]._featureFilter.filter(new H(this.zoom),ne,I))continue;const ce={id:F,sourceLayerIndex:X,index:N,geometry:K?ne.geometry:gl(O),properties:O.properties,type:O.type,patterns:{}},he=this.layoutVertexArray.length;this.hasPattern?this.features.push(eu("fill-extrusion",this.layers,ce,this.zoom,T)):this.addFeature(ce,ce.geometry,N,I,{}),T.featureIndex.insert(O,ce.geometry,N,X,this.index,he)}this.sortBorders()}addFeatures(o,T,I){for(const O of this.features){const{geometry:F}=O;this.addFeature(O,F,O.index,T,I)}this.sortBorders()}update(o,T,I){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,T,this.stateDependentLayers,I)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,dp),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}uploadCentroid(o){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=o.createVertexBuffer(this.centroidVertexArray,up.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(o,T,I,O,F){const N=this.enableTerrain&&o.properties&&ld[o.type]==="Polygon"?new cd:null;for(const K of Jc(T,500)){let ne=0,ce=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);if(K.length===0||(X=K[0]).every(it=>it.x<=0)||X.every(it=>it.x>=Ti)||X.every(it=>it.y<=0)||X.every(it=>it.y>=Ti))continue;for(let it=0;it<K.length;it++){const xt=K[it];if(xt.length===0)continue;ne+=xt.length;let Ot=0;N&&N.startRing(xt[0]);for(let Zt=0;Zt<xt.length;Zt++){const ar=xt[Zt];if(Zt>=1){const vr=xt[Zt-1];if(!vp(ar,vr)){N&&N.append(ar,vr),ce.vertexLength+4>Xo.MAX_VERTEX_ARRAY_LENGTH&&(ce=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const yr=ar.sub(vr)._perp(),br=yr.x/(Math.abs(yr.x)+Math.abs(yr.y)),Qr=yr.y>0?1:0,qr=vr.dist(ar);Ot+qr>32768&&(Ot=0),tc(this.layoutVertexArray,ar.x,ar.y,br,Qr,0,0,Ot),tc(this.layoutVertexArray,ar.x,ar.y,br,Qr,0,1,Ot),Ot+=qr,tc(this.layoutVertexArray,vr.x,vr.y,br,Qr,0,0,Ot),tc(this.layoutVertexArray,vr.x,vr.y,br,Qr,0,1,Ot);const Ur=ce.vertexLength;this.indexArray.emplaceBack(Ur,Ur+2,Ur+1),this.indexArray.emplaceBack(Ur+1,Ur+2,Ur+3),ce.vertexLength+=4,ce.primitiveLength+=2}}}}if(ce.vertexLength+ne>Xo.MAX_VERTEX_ARRAY_LENGTH&&(ce=this.segments.prepareSegment(ne,this.layoutVertexArray,this.indexArray)),ld[o.type]!=="Polygon")continue;const he=[],ye=[],Te=ce.vertexLength;for(let it=0;it<K.length;it++){const xt=K[it];if(xt.length!==0){xt!==K[0]&&ye.push(he.length/2);for(let Ot=0;Ot<xt.length;Ot++){const Zt=xt[Ot];tc(this.layoutVertexArray,Zt.x,Zt.y,0,0,1,1,0),he.push(Zt.x),he.push(Zt.y),N&&N.currentPolyCount.top++}}}const Le=Zc(he,ye);for(let it=0;it<Le.length;it+=3)this.indexArray.emplaceBack(Te+Le[it],Te+Le[it+2],Te+Le[it+1]);ce.primitiveLength+=Le.length/3,ce.vertexLength+=ne}var X;if(N&&N.polyCount.length>0){if(N.borders){N.vertexArrayOffset=this.centroidVertexArray.length;const K=N.borders,ne=this.featuresOnBorder.push(N)-1;for(let ce=0;ce<4;ce++)K[ce][0]!==Number.MAX_VALUE&&this.borders[ce].push(ne)}this.encodeCentroid(N.borders?void 0:N.centroid(),N)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,I,F,O)}sortBorders(){for(let o=0;o<4;o++)this.borders[o].sort((T,I)=>this.featuresOnBorder[T].borders[o][0]-this.featuresOnBorder[I].borders[o][0])}encodeCentroid(o,T,I=!0){let O,F;if(o)if(o.y!==0){const X=T.span()._mult(this.tileToMeter);O=(Math.max(o.x,1)<<3)+Math.min(7,Math.round(X.x/10)),F=(Math.max(o.y,1)<<3)+Math.min(7,Math.round(X.y/10))}else O=Math.ceil(7*(o.x+450)),F=0;else O=0,F=+I;let N=I?this.centroidVertexArray.length:T.vertexArrayOffset;for(const X of T.polyCount){I&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*X.edges+X.top);for(let K=0;K<2*X.edges;K++)this.centroidVertexArray.emplace(N++,0,F),this.centroidVertexArray.emplace(N++,O,F);for(let K=0;K<X.top;K++)this.centroidVertexArray.emplace(N++,O,F)}}}function vp(E,o){return E.x===o.x&&(E.x<0||E.x>Ti)||E.y===o.y&&(E.y<0||E.y>Ti)}pe("FillExtrusionBucket",ru,{omit:["layers","features"]}),pe("PartMetadata",cd);var yp={paint:new wt({"fill-extrusion-opacity":new Fe(Et["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Ge(Et["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Fe(Et["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Fe(Et["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new It(Et["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Ge(Et["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Ge(Et["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Fe(Et["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function rc(E,o){return E.x*o.x+E.y*o.y}function ud(E,o){if(E.length===1){let T=0;const I=o[T++];let O;for(;!O||I.equals(O);)if(O=o[T++],!O)return 1/0;for(;T<o.length;T++){const F=o[T],N=E[0],X=O.sub(I),K=F.sub(I),ne=N.sub(I),ce=rc(X,X),he=rc(X,K),ye=rc(K,K),Te=rc(ne,X),Le=rc(ne,K),it=ce*ye-he*he,xt=(ye*Te-he*Le)/it,Ot=(ce*Le-he*Te)/it,Zt=I.z*(1-xt-Ot)+O.z*xt+F.z*Ot;if(isFinite(Zt))return Zt}return 1/0}{let T=1/0;for(const I of o)T=Math.min(T,I.z);return T}}function dd(E){const o=new P(E[0],E[1]);return o.z=E[2],o}function bp(E,o,T,I,O,F,N,X){const K=N*O.getElevationAt(E,o,!0,!0),ne=F[0]!==0,ce=ne?F[1]===0?N*(F[0]/7-450):N*function(he,ye,Te){const Le=Math.floor(ye[0]/8),it=Math.floor(ye[1]/8),xt=10*(ye[0]-8*Le),Ot=10*(ye[1]-8*it),Zt=he.getElevationAt(Le,it,!0,!0),ar=he.getMeterToDEM(Te),vr=Math.floor(.5*(xt*ar-1)),yr=Math.floor(.5*(Ot*ar-1)),br=he.tileCoordToPixel(Le,it),Qr=2*vr+1,qr=2*yr+1,Ur=function(Nn,Yn,ni,ii,Oi){return[Nn.getElevationAtPixel(Yn,ni,!0),Nn.getElevationAtPixel(Yn+Oi,ni,!0),Nn.getElevationAtPixel(Yn,ni+Oi,!0),Nn.getElevationAtPixel(Yn+ii,ni+Oi,!0)]}(he,br.x-vr,br.y-yr,Qr,qr),an=Math.abs(Ur[0]-Ur[1]),Dr=Math.abs(Ur[2]-Ur[3]),zr=Math.abs(Ur[0]-Ur[2])+Math.abs(Ur[1]-Ur[3]),Ar=Math.min(.25,.5*ar*(an+Dr)/Qr),Fr=Math.min(.25,.5*ar*zr/qr);return Zt+Math.max(Ar*xt,Fr*Ot)}(O,F,X):K;return{base:K+(T===0)?-1:T,top:ne?Math.max(ce+I,K+T+2):K+I}}const _p=Sr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:xp}=_p,wp=Sr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Cp}=wp,Sp=yl.VectorTileFeature.types,Ep=Math.cos(Math.PI/180*37.5);class nu{constructor(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(T=>T.id),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(T=>{this.gradients[T.id]={}}),this.layoutVertexArray=new Zr,this.layoutVertexArray2=new kn,this.indexArray=new qn,this.programConfigurations=new ml(o.layers,o.zoom),this.segments=new Xo,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id)}populate(o,T,I){this.hasPattern=Qc("line",this.layers,T);const O=this.layers[0].layout.get("line-sort-key"),F=[];for(const{feature:ne,id:ce,index:he,sourceLayerIndex:ye}of o){const Te=this.layers[0]._featureFilter.needGeometry,Le=vl(ne,Te);if(!this.layers[0]._featureFilter.filter(new H(this.zoom),Le,I))continue;const it=O?O.evaluate(Le,{},I):void 0,xt={id:ce,properties:ne.properties,type:ne.type,sourceLayerIndex:ye,index:he,geometry:Te?Le.geometry:gl(ne),patterns:{},sortKey:it};F.push(xt)}O&&F.sort((ne,ce)=>ne.sortKey-ce.sortKey);const{lineAtlas:N,featureIndex:X}=T,K=this.addConstantDashes(N);for(const ne of F){const{geometry:ce,index:he,sourceLayerIndex:ye}=ne;if(K&&this.addFeatureDashes(ne,N),this.hasPattern){const Te=eu("line",this.layers,ne,this.zoom,T);this.patternFeatures.push(Te)}else this.addFeature(ne,ce,he,I,N.positions);X.insert(o[he].feature,ce,he,ye,this.index)}}addConstantDashes(o){let T=!1;for(const I of this.layers){const O=I.paint.get("line-dasharray").value,F=I.layout.get("line-cap").value;if(O.kind!=="constant"||F.kind!=="constant")T=!0;else{const N=F.value,X=O.value;if(!X)continue;o.addDash(X.from,N),o.addDash(X.to,N),X.other&&o.addDash(X.other,N)}}return T}addFeatureDashes(o,T){const I=this.zoom;for(const O of this.layers){const F=O.paint.get("line-dasharray").value,N=O.layout.get("line-cap").value;if(F.kind==="constant"&&N.kind==="constant")continue;let X,K,ne,ce,he,ye;if(F.kind==="constant"){const xt=F.value;if(!xt)continue;X=xt.other||xt.to,K=xt.to,ne=xt.from}else X=F.evaluate({zoom:I-1},o),K=F.evaluate({zoom:I},o),ne=F.evaluate({zoom:I+1},o);N.kind==="constant"?ce=he=ye=N.value:(ce=N.evaluate({zoom:I-1},o),he=N.evaluate({zoom:I},o),ye=N.evaluate({zoom:I+1},o)),T.addDash(X,ce),T.addDash(K,he),T.addDash(ne,ye);const Te=T.getKey(X,ce),Le=T.getKey(K,he),it=T.getKey(ne,ye);o.patterns[O.id]={min:Te,mid:Le,max:it}}}update(o,T,I){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,T,this.stateDependentLayers,I)}addFeatures(o,T,I){for(const O of this.patternFeatures)this.addFeature(O,O.geometry,O.index,T,I)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(o){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=o.createVertexBuffer(this.layoutVertexArray2,Cp)),this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,xp),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(o){if(o.properties&&o.properties.hasOwnProperty("vjmaps_clip_start")&&o.properties.hasOwnProperty("vjmaps_clip_end"))return{start:+o.properties.vjmaps_clip_start,end:+o.properties.vjmaps_clip_end}}addFeature(o,T,I,O,F){const N=this.layers[0].layout,X=N.get("line-join").evaluate(o,{}),K=N.get("line-cap").evaluate(o,{}),ne=N.get("line-miter-limit"),ce=N.get("line-round-limit");this.lineClips=this.lineFeatureClips(o);for(const he of T)this.addLine(he,o,X,K,ne,ce);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,I,F,O)}addLine(o,T,I,O,F,N){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Ot=0;Ot<o.length-1;Ot++)this.totalDistance+=o[Ot].dist(o[Ot+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const X=Sp[T.type]==="Polygon";let K=o.length;for(;K>=2&&o[K-1].equals(o[K-2]);)K--;let ne=0;for(;ne<K-1&&o[ne].equals(o[ne+1]);)ne++;if(K<(X?3:2))return;I==="bevel"&&(F=1.05);const ce=this.overscaling<=16?122880/(512*this.overscaling):0,he=this.segments.prepareSegment(10*K,this.layoutVertexArray,this.indexArray);let ye,Te,Le,it,xt;this.e1=this.e2=-1,X&&(ye=o[K-2],xt=o[ne].sub(ye)._unit()._perp());for(let Ot=ne;Ot<K;Ot++){if(Le=Ot===K-1?X?o[ne+1]:void 0:o[Ot+1],Le&&o[Ot].equals(Le))continue;xt&&(it=xt),ye&&(Te=ye),ye=o[Ot],xt=Le?Le.sub(ye)._unit()._perp():it,it=it||xt;let Zt=it.add(xt);Zt.x===0&&Zt.y===0||Zt._unit();const ar=it.x*xt.x+it.y*xt.y,vr=Zt.x*xt.x+Zt.y*xt.y,yr=vr!==0?1/vr:1/0,br=2*Math.sqrt(2-2*vr),Qr=vr<Ep&&Te&&Le,qr=it.x*xt.y-it.y*xt.x>0;if(Qr&&Ot>ne){const Dr=ye.dist(Te);if(Dr>2*ce){const zr=ye.sub(ye.sub(Te)._mult(ce/Dr)._round());this.updateDistance(Te,zr),this.addCurrentVertex(zr,it,0,0,he),Te=zr}}const Ur=Te&&Le;let an=Ur?I:X?"butt":O;if(Ur&&an==="round"&&(yr<N?an="miter":yr<=2&&(an="fakeround")),an==="miter"&&yr>F&&(an="bevel"),an==="bevel"&&(yr>2&&(an="flipbevel"),yr<F&&(an="miter")),Te&&this.updateDistance(Te,ye),an==="miter")Zt._mult(yr),this.addCurrentVertex(ye,Zt,0,0,he);else if(an==="flipbevel"){if(yr>100)Zt=xt.mult(-1);else{const Dr=yr*it.add(xt).mag()/it.sub(xt).mag();Zt._perp()._mult(Dr*(qr?-1:1))}this.addCurrentVertex(ye,Zt,0,0,he),this.addCurrentVertex(ye,Zt.mult(-1),0,0,he)}else if(an==="bevel"||an==="fakeround"){const Dr=-Math.sqrt(yr*yr-1),zr=qr?Dr:0,Ar=qr?0:Dr;if(Te&&this.addCurrentVertex(ye,it,zr,Ar,he),an==="fakeround"){const Fr=Math.round(180*br/Math.PI/20);for(let Nn=1;Nn<Fr;Nn++){let Yn=Nn/Fr;if(Yn!==.5){const ii=Yn-.5;Yn+=Yn*ii*(Yn-1)*((1.0904+ar*(ar*(3.55645-1.43519*ar)-3.2452))*ii*ii+(.848013+ar*(.215638*ar-1.06021)))}const ni=xt.sub(it)._mult(Yn)._add(it)._unit()._mult(qr?-1:1);this.addHalfVertex(ye,ni.x,ni.y,!1,qr,0,he)}}Le&&this.addCurrentVertex(ye,xt,-zr,-Ar,he)}else if(an==="butt")this.addCurrentVertex(ye,Zt,0,0,he);else if(an==="square"){const Dr=Te?1:-1;Te||this.addCurrentVertex(ye,Zt,Dr,Dr,he),this.addCurrentVertex(ye,Zt,0,0,he),Te&&this.addCurrentVertex(ye,Zt,Dr,Dr,he)}else an==="round"&&(Te&&(this.addCurrentVertex(ye,it,0,0,he),this.addCurrentVertex(ye,it,1,1,he,!0)),Le&&(this.addCurrentVertex(ye,xt,-1,-1,he,!0),this.addCurrentVertex(ye,xt,0,0,he)));if(Qr&&Ot<K-1){const Dr=ye.dist(Le);if(Dr>2*ce){const zr=ye.add(Le.sub(ye)._mult(ce/Dr)._round());this.updateDistance(ye,zr),this.addCurrentVertex(zr,xt,0,0,he),ye=zr}}}}addCurrentVertex(o,T,I,O,F,N=!1){const X=T.y*O-T.x,K=-T.y-T.x*O;this.addHalfVertex(o,T.x+T.y*I,T.y-T.x*I,N,!1,I,F),this.addHalfVertex(o,X,K,N,!0,-O,F)}addHalfVertex({x:o,y:T},I,O,F,N,X,K){this.layoutVertexArray.emplaceBack((o<<1)+(F?1:0),(T<<1)+(N?1:0),Math.round(63*I)+128,Math.round(63*O)+128,1+(X===0?0:X<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length);const ne=K.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,ne),K.primitiveLength++),N?this.e2=ne:this.e1=ne}updateScaledDistance(){if(this.lineClips){const o=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=o*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(o,T){this.distance+=o.dist(T),this.updateScaledDistance()}}pe("LineBucket",nu,{omit:["layers","patternFeatures"]});const Tp=new wt({"line-cap":new Ge(Et.layout_line["line-cap"]),"line-join":new Ge(Et.layout_line["line-join"]),"line-miter-limit":new Fe(Et.layout_line["line-miter-limit"]),"line-round-limit":new Fe(Et.layout_line["line-round-limit"]),"line-sort-key":new Ge(Et.layout_line["line-sort-key"])});var hd={paint:new wt({"line-opacity":new Ge(Et.paint_line["line-opacity"]),"line-color":new Ge(Et.paint_line["line-color"]),"line-translate":new Fe(Et.paint_line["line-translate"]),"line-translate-anchor":new Fe(Et.paint_line["line-translate-anchor"]),"line-width":new Ge(Et.paint_line["line-width"]),"line-gap-width":new Ge(Et.paint_line["line-gap-width"]),"line-offset":new Ge(Et.paint_line["line-offset"]),"line-blur":new Ge(Et.paint_line["line-blur"]),"line-dasharray":new It(Et.paint_line["line-dasharray"]),"line-pattern":new It(Et.paint_line["line-pattern"]),"line-gradient":new ht(Et.paint_line["line-gradient"])}),layout:Tp};const pd=new class extends Ge{possiblyEvaluate(E,o){return o=new H(Math.floor(o.zoom),{now:o.now,fadeDuration:o.fadeDuration,zoomHistory:o.zoomHistory,transition:o.transition}),super.possiblyEvaluate(E,o)}evaluate(E,o,T,I){return o=ge({},o,{zoom:Math.floor(o.zoom)}),super.evaluate(E,o,T,I)}}(hd.paint.properties["line-width"].specification);function fd(E,o){return o>0?o+2*E:E}pd.useIntegerZoom=!0;const kp=Sr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Ip=Sr([{name:"a_projected_pos",components:3,type:"Float32"}],4);Sr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Mp=Sr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Ap=Sr([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Sr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const md=Sr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Pp=Sr([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Sr([{name:"triangle",components:3,type:"Uint16"}]),Sr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Sr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Sr([{type:"Float32",name:"offsetX"}]),Sr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);const Es=128;function iu(E,o){const{expression:T}=o;if(T.kind==="constant")return{kind:"constant",layoutSize:T.evaluate(new H(E+1))};if(T.kind==="source")return{kind:"source"};{const{zoomStops:I,interpolationType:O}=T;let F=0;for(;F<I.length&&I[F]<=E;)F++;F=Math.max(0,F-1);let N=F;for(;N<I.length&&I[N]<E+1;)N++;N=Math.min(I.length-1,N);const X=I[F],K=I[N];return T.kind==="composite"?{kind:"composite",minZoom:X,maxZoom:K,interpolationType:O}:{kind:"camera",minZoom:X,maxZoom:K,minSize:T.evaluate(new H(X)),maxSize:T.evaluate(new H(K)),interpolationType:O}}}function xc(E,{uSize:o,uSizeT:T},{lowerSize:I,upperSize:O}){return E.kind==="source"?I/Es:E.kind==="composite"?Bn(I/Es,O/Es,T):o}function Dl(E,o){let T=0,I=0;if(E.kind==="constant")I=E.layoutSize;else if(E.kind!=="source"){const{interpolationType:O,minZoom:F,maxZoom:N}=E,X=O?re(ri.interpolationFactor(O,o,F,N),0,1):0;E.kind==="camera"?I=Bn(E.minSize,E.maxSize,X):T=X}return{uSizeT:T,uSize:I}}var Op=Object.freeze({__proto__:null,getSizeData:iu,evaluateSizeForFeature:xc,evaluateSizeForZoom:Dl,SIZE_PACK_FACTOR:Es});function $p(E,o,T){return E.sections.forEach(I=>{I.text=function(O,F,N){const X=F.layout.get("text-transform").evaluate(N,{});return X==="uppercase"?O=O.toLocaleUpperCase():X==="lowercase"&&(O=O.toLocaleLowerCase()),G.applyArabicShaping&&(O=G.applyArabicShaping(O)),O}(I.text,o,T)}),E}const nc={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};var gd=function(E,o,T,I,O){var F,N,X=8*O-I-1,K=(1<<X)-1,ne=K>>1,ce=-7,he=T?O-1:0,ye=T?-1:1,Te=E[o+he];for(he+=ye,F=Te&(1<<-ce)-1,Te>>=-ce,ce+=X;ce>0;F=256*F+E[o+he],he+=ye,ce-=8);for(N=F&(1<<-ce)-1,F>>=-ce,ce+=I;ce>0;N=256*N+E[o+he],he+=ye,ce-=8);if(F===0)F=1-ne;else{if(F===K)return N?NaN:1/0*(Te?-1:1);N+=Math.pow(2,I),F-=ne}return(Te?-1:1)*N*Math.pow(2,F-I)},vd=function(E,o,T,I,O,F){var N,X,K,ne=8*F-O-1,ce=(1<<ne)-1,he=ce>>1,ye=O===23?Math.pow(2,-24)-Math.pow(2,-77):0,Te=I?0:F-1,Le=I?1:-1,it=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(X=isNaN(o)?1:0,N=ce):(N=Math.floor(Math.log(o)/Math.LN2),o*(K=Math.pow(2,-N))<1&&(N--,K*=2),(o+=N+he>=1?ye/K:ye*Math.pow(2,1-he))*K>=2&&(N++,K/=2),N+he>=ce?(X=0,N=ce):N+he>=1?(X=(o*K-1)*Math.pow(2,O),N+=he):(X=o*Math.pow(2,he-1)*Math.pow(2,O),N=0));O>=8;E[T+Te]=255&X,Te+=Le,X/=256,O-=8);for(N=N<<O|X,ne+=O;ne>0;E[T+Te]=255&N,Te+=Le,N/=256,ne-=8);E[T+Te-Le]|=128*it},ic=$i;function $i(E){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(E)?E:new Uint8Array(E||0),this.pos=0,this.type=0,this.length=this.buf.length}$i.Varint=0,$i.Fixed64=1,$i.Bytes=2,$i.Fixed32=5;var ou=4294967296,yd=1/ou,bd=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");function Fs(E){return E.type===$i.Bytes?E.readVarint()+E.pos:E.pos+1}function Rl(E,o,T){return T?4294967296*o+(E>>>0):4294967296*(o>>>0)+(E>>>0)}function _d(E,o,T){var I=o<=16383?1:o<=2097151?2:o<=268435455?3:Math.floor(Math.log(o)/(7*Math.LN2));T.realloc(I);for(var O=T.pos-1;O>=E;O--)T.buf[O+I]=T.buf[O]}function Dp(E,o){for(var T=0;T<E.length;T++)o.writeVarint(E[T])}function Rp(E,o){for(var T=0;T<E.length;T++)o.writeSVarint(E[T])}function Lp(E,o){for(var T=0;T<E.length;T++)o.writeFloat(E[T])}function zp(E,o){for(var T=0;T<E.length;T++)o.writeDouble(E[T])}function Fp(E,o){for(var T=0;T<E.length;T++)o.writeBoolean(E[T])}function Bp(E,o){for(var T=0;T<E.length;T++)o.writeFixed32(E[T])}function Np(E,o){for(var T=0;T<E.length;T++)o.writeSFixed32(E[T])}function jp(E,o){for(var T=0;T<E.length;T++)o.writeFixed64(E[T])}function Vp(E,o){for(var T=0;T<E.length;T++)o.writeSFixed64(E[T])}function wc(E,o){return(E[o]|E[o+1]<<8|E[o+2]<<16)+16777216*E[o+3]}function Ll(E,o,T){E[T]=o,E[T+1]=o>>>8,E[T+2]=o>>>16,E[T+3]=o>>>24}function xd(E,o){return(E[o]|E[o+1]<<8|E[o+2]<<16)+(E[o+3]<<24)}function Up(E,o,T){E===1&&T.readMessage(Gp,o)}function Gp(E,o,T){if(E===3){const{id:I,bitmap:O,width:F,height:N,left:X,top:K,advance:ne}=T.readMessage(Hp,{});o.push({id:I,bitmap:new Qs({width:F+6,height:N+6},O),metrics:{width:F,height:N,left:X,top:K,advance:ne}})}}function Hp(E,o,T){E===1?o.id=T.readVarint():E===2?o.bitmap=T.readBytes():E===3?o.width=T.readVarint():E===4?o.height=T.readVarint():E===5?o.left=T.readSVarint():E===6?o.top=T.readSVarint():E===7&&(o.advance=T.readVarint())}function au(E){let o=0,T=0;for(const N of E)o+=N.w*N.h,T=Math.max(T,N.w);E.sort((N,X)=>X.h-N.h);const I=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(o/.95)),T),h:1/0}];let O=0,F=0;for(const N of E)for(let X=I.length-1;X>=0;X--){const K=I[X];if(!(N.w>K.w||N.h>K.h)){if(N.x=K.x,N.y=K.y,F=Math.max(F,N.y+N.h),O=Math.max(O,N.x+N.w),N.w===K.w&&N.h===K.h){const ne=I.pop();X<I.length&&(I[X]=ne)}else N.h===K.h?(K.x+=N.w,K.w-=N.w):N.w===K.w?(K.y+=N.h,K.h-=N.h):(I.push({x:K.x+N.w,y:K.y,w:K.w-N.w,h:N.h}),K.y+=N.h,K.h-=N.h);break}}return{w:O,h:F,fill:o/(O*F)||0}}$i.prototype={destroy:function(){this.buf=null},readFields:function(E,o,T){for(T=T||this.length;this.pos<T;){var I=this.readVarint(),O=I>>3,F=this.pos;this.type=7&I,E(O,o,this),this.pos===F&&this.skip(I)}return o},readMessage:function(E,o){return this.readFields(E,o,this.readVarint()+this.pos)},readFixed32:function(){var E=wc(this.buf,this.pos);return this.pos+=4,E},readSFixed32:function(){var E=xd(this.buf,this.pos);return this.pos+=4,E},readFixed64:function(){var E=wc(this.buf,this.pos)+wc(this.buf,this.pos+4)*ou;return this.pos+=8,E},readSFixed64:function(){var E=wc(this.buf,this.pos)+xd(this.buf,this.pos+4)*ou;return this.pos+=8,E},readFloat:function(){var E=gd(this.buf,this.pos,!0,23,4);return this.pos+=4,E},readDouble:function(){var E=gd(this.buf,this.pos,!0,52,8);return this.pos+=8,E},readVarint:function(E){var o,T,I=this.buf;return o=127&(T=I[this.pos++]),T<128?o:(o|=(127&(T=I[this.pos++]))<<7,T<128?o:(o|=(127&(T=I[this.pos++]))<<14,T<128?o:(o|=(127&(T=I[this.pos++]))<<21,T<128?o:function(O,F,N){var X,K,ne=N.buf;if(X=(112&(K=ne[N.pos++]))>>4,K<128||(X|=(127&(K=ne[N.pos++]))<<3,K<128)||(X|=(127&(K=ne[N.pos++]))<<10,K<128)||(X|=(127&(K=ne[N.pos++]))<<17,K<128)||(X|=(127&(K=ne[N.pos++]))<<24,K<128)||(X|=(1&(K=ne[N.pos++]))<<31,K<128))return Rl(O,X,F);throw new Error("Expected varint not more than 10 bytes")}(o|=(15&(T=I[this.pos]))<<28,E,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var E=this.readVarint();return E%2==1?(E+1)/-2:E/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var E=this.readVarint()+this.pos,o=this.pos;return this.pos=E,E-o>=12&&bd?function(T,I,O){return bd.decode(T.subarray(I,O))}(this.buf,o,E):function(T,I,O){for(var F="",N=I;N<O;){var X,K,ne,ce=T[N],he=null,ye=ce>239?4:ce>223?3:ce>191?2:1;if(N+ye>O)break;ye===1?ce<128&&(he=ce):ye===2?(192&(X=T[N+1]))==128&&(he=(31&ce)<<6|63&X)<=127&&(he=null):ye===3?(K=T[N+2],(192&(X=T[N+1]))==128&&(192&K)==128&&((he=(15&ce)<<12|(63&X)<<6|63&K)<=2047||he>=55296&&he<=57343)&&(he=null)):ye===4&&(K=T[N+2],ne=T[N+3],(192&(X=T[N+1]))==128&&(192&K)==128&&(192&ne)==128&&((he=(15&ce)<<18|(63&X)<<12|(63&K)<<6|63&ne)<=65535||he>=1114112)&&(he=null)),he===null?(he=65533,ye=1):he>65535&&(he-=65536,F+=String.fromCharCode(he>>>10&1023|55296),he=56320|1023&he),F+=String.fromCharCode(he),N+=ye}return F}(this.buf,o,E)},readBytes:function(){var E=this.readVarint()+this.pos,o=this.buf.subarray(this.pos,E);return this.pos=E,o},readPackedVarint:function(E,o){if(this.type!==$i.Bytes)return E.push(this.readVarint(o));var T=Fs(this);for(E=E||[];this.pos<T;)E.push(this.readVarint(o));return E},readPackedSVarint:function(E){if(this.type!==$i.Bytes)return E.push(this.readSVarint());var o=Fs(this);for(E=E||[];this.pos<o;)E.push(this.readSVarint());return E},readPackedBoolean:function(E){if(this.type!==$i.Bytes)return E.push(this.readBoolean());var o=Fs(this);for(E=E||[];this.pos<o;)E.push(this.readBoolean());return E},readPackedFloat:function(E){if(this.type!==$i.Bytes)return E.push(this.readFloat());var o=Fs(this);for(E=E||[];this.pos<o;)E.push(this.readFloat());return E},readPackedDouble:function(E){if(this.type!==$i.Bytes)return E.push(this.readDouble());var o=Fs(this);for(E=E||[];this.pos<o;)E.push(this.readDouble());return E},readPackedFixed32:function(E){if(this.type!==$i.Bytes)return E.push(this.readFixed32());var o=Fs(this);for(E=E||[];this.pos<o;)E.push(this.readFixed32());return E},readPackedSFixed32:function(E){if(this.type!==$i.Bytes)return E.push(this.readSFixed32());var o=Fs(this);for(E=E||[];this.pos<o;)E.push(this.readSFixed32());return E},readPackedFixed64:function(E){if(this.type!==$i.Bytes)return E.push(this.readFixed64());var o=Fs(this);for(E=E||[];this.pos<o;)E.push(this.readFixed64());return E},readPackedSFixed64:function(E){if(this.type!==$i.Bytes)return E.push(this.readSFixed64());var o=Fs(this);for(E=E||[];this.pos<o;)E.push(this.readSFixed64());return E},skip:function(E){var o=7&E;if(o===$i.Varint)for(;this.buf[this.pos++]>127;);else if(o===$i.Bytes)this.pos=this.readVarint()+this.pos;else if(o===$i.Fixed32)this.pos+=4;else{if(o!==$i.Fixed64)throw new Error("Unimplemented type: "+o);this.pos+=8}},writeTag:function(E,o){this.writeVarint(E<<3|o)},realloc:function(E){for(var o=this.length||16;o<this.pos+E;)o*=2;if(o!==this.length){var T=new Uint8Array(o);T.set(this.buf),this.buf=T,this.length=o}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(E){this.realloc(4),Ll(this.buf,E,this.pos),this.pos+=4},writeSFixed32:function(E){this.realloc(4),Ll(this.buf,E,this.pos),this.pos+=4},writeFixed64:function(E){this.realloc(8),Ll(this.buf,-1&E,this.pos),Ll(this.buf,Math.floor(E*yd),this.pos+4),this.pos+=8},writeSFixed64:function(E){this.realloc(8),Ll(this.buf,-1&E,this.pos),Ll(this.buf,Math.floor(E*yd),this.pos+4),this.pos+=8},writeVarint:function(E){(E=+E||0)>268435455||E<0?function(o,T){var I,O;if(o>=0?(I=o%4294967296|0,O=o/4294967296|0):(O=~(-o/4294967296),4294967295^(I=~(-o%4294967296))?I=I+1|0:(I=0,O=O+1|0)),o>=18446744073709552e3||o<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");T.realloc(10),function(F,N,X){X.buf[X.pos++]=127&F|128,F>>>=7,X.buf[X.pos++]=127&F|128,F>>>=7,X.buf[X.pos++]=127&F|128,F>>>=7,X.buf[X.pos++]=127&F|128,X.buf[X.pos]=127&(F>>>=7)}(I,0,T),function(F,N){var X=(7&F)<<4;N.buf[N.pos++]|=X|((F>>>=3)?128:0),F&&(N.buf[N.pos++]=127&F|((F>>>=7)?128:0),F&&(N.buf[N.pos++]=127&F|((F>>>=7)?128:0),F&&(N.buf[N.pos++]=127&F|((F>>>=7)?128:0),F&&(N.buf[N.pos++]=127&F|((F>>>=7)?128:0),F&&(N.buf[N.pos++]=127&F)))))}(O,T)}(E,this):(this.realloc(4),this.buf[this.pos++]=127&E|(E>127?128:0),E<=127||(this.buf[this.pos++]=127&(E>>>=7)|(E>127?128:0),E<=127||(this.buf[this.pos++]=127&(E>>>=7)|(E>127?128:0),E<=127||(this.buf[this.pos++]=E>>>7&127))))},writeSVarint:function(E){this.writeVarint(E<0?2*-E-1:2*E)},writeBoolean:function(E){this.writeVarint(Boolean(E))},writeString:function(E){E=String(E),this.realloc(4*E.length),this.pos++;var o=this.pos;this.pos=function(I,O,F){for(var N,X,K=0;K<O.length;K++){if((N=O.charCodeAt(K))>55295&&N<57344){if(!X){N>56319||K+1===O.length?(I[F++]=239,I[F++]=191,I[F++]=189):X=N;continue}if(N<56320){I[F++]=239,I[F++]=191,I[F++]=189,X=N;continue}N=X-55296<<10|N-56320|65536,X=null}else X&&(I[F++]=239,I[F++]=191,I[F++]=189,X=null);N<128?I[F++]=N:(N<2048?I[F++]=N>>6|192:(N<65536?I[F++]=N>>12|224:(I[F++]=N>>18|240,I[F++]=N>>12&63|128),I[F++]=N>>6&63|128),I[F++]=63&N|128)}return F}(this.buf,E,this.pos);var T=this.pos-o;T>=128&&_d(o,T,this),this.pos=o-1,this.writeVarint(T),this.pos+=T},writeFloat:function(E){this.realloc(4),vd(this.buf,E,this.pos,!0,23,4),this.pos+=4},writeDouble:function(E){this.realloc(8),vd(this.buf,E,this.pos,!0,52,8),this.pos+=8},writeBytes:function(E){var o=E.length;this.writeVarint(o),this.realloc(o);for(var T=0;T<o;T++)this.buf[this.pos++]=E[T]},writeRawMessage:function(E,o){this.pos++;var T=this.pos;E(o,this);var I=this.pos-T;I>=128&&_d(T,I,this),this.pos=T-1,this.writeVarint(I),this.pos+=I},writeMessage:function(E,o,T){this.writeTag(E,$i.Bytes),this.writeRawMessage(o,T)},writePackedVarint:function(E,o){o.length&&this.writeMessage(E,Dp,o)},writePackedSVarint:function(E,o){o.length&&this.writeMessage(E,Rp,o)},writePackedBoolean:function(E,o){o.length&&this.writeMessage(E,Fp,o)},writePackedFloat:function(E,o){o.length&&this.writeMessage(E,Lp,o)},writePackedDouble:function(E,o){o.length&&this.writeMessage(E,zp,o)},writePackedFixed32:function(E,o){o.length&&this.writeMessage(E,Bp,o)},writePackedSFixed32:function(E,o){o.length&&this.writeMessage(E,Np,o)},writePackedFixed64:function(E,o){o.length&&this.writeMessage(E,jp,o)},writePackedSFixed64:function(E,o){o.length&&this.writeMessage(E,Vp,o)},writeBytesField:function(E,o){this.writeTag(E,$i.Bytes),this.writeBytes(o)},writeFixed32Field:function(E,o){this.writeTag(E,$i.Fixed32),this.writeFixed32(o)},writeSFixed32Field:function(E,o){this.writeTag(E,$i.Fixed32),this.writeSFixed32(o)},writeFixed64Field:function(E,o){this.writeTag(E,$i.Fixed64),this.writeFixed64(o)},writeSFixed64Field:function(E,o){this.writeTag(E,$i.Fixed64),this.writeSFixed64(o)},writeVarintField:function(E,o){this.writeTag(E,$i.Varint),this.writeVarint(o)},writeSVarintField:function(E,o){this.writeTag(E,$i.Varint),this.writeSVarint(o)},writeStringField:function(E,o){this.writeTag(E,$i.Bytes),this.writeString(o)},writeFloatField:function(E,o){this.writeTag(E,$i.Fixed32),this.writeFloat(o)},writeDoubleField:function(E,o){this.writeTag(E,$i.Fixed64),this.writeDouble(o)},writeBooleanField:function(E,o){this.writeVarintField(E,Boolean(o))}};class su{constructor(o,{pixelRatio:T,version:I,stretchX:O,stretchY:F,content:N}){this.paddedRect=o,this.pixelRatio=T,this.stretchX=O,this.stretchY=F,this.content=N,this.version=I}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class wd{constructor(o,T){const I={},O={};this.haveRenderCallbacks=[];const F=[];this.addImages(o,I,F),this.addImages(T,O,F);const{w:N,h:X}=au(F),K=new Ga({width:N||1,height:X||1});for(const ne in o){const ce=o[ne],he=I[ne].paddedRect;Ga.copy(ce.data,K,{x:0,y:0},{x:he.x+1,y:he.y+1},ce.data)}for(const ne in T){const ce=T[ne],he=O[ne].paddedRect,ye=he.x+1,Te=he.y+1,Le=ce.data.width,it=ce.data.height;Ga.copy(ce.data,K,{x:0,y:0},{x:ye,y:Te},ce.data),Ga.copy(ce.data,K,{x:0,y:it-1},{x:ye,y:Te-1},{width:Le,height:1}),Ga.copy(ce.data,K,{x:0,y:0},{x:ye,y:Te+it},{width:Le,height:1}),Ga.copy(ce.data,K,{x:Le-1,y:0},{x:ye-1,y:Te},{width:1,height:it}),Ga.copy(ce.data,K,{x:0,y:0},{x:ye+Le,y:Te},{width:1,height:it})}this.image=K,this.iconPositions=I,this.patternPositions=O}addImages(o,T,I){for(const O in o){const F=o[O],N={x:0,y:0,w:F.data.width+2,h:F.data.height+2};I.push(N),T[O]=new su(N,F),F.hasRenderCallback&&this.haveRenderCallbacks.push(O)}}patchUpdatedImages(o,T){o.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const I in o.updatedImages)this.patchUpdatedImage(this.iconPositions[I],o.getImage(I),T),this.patchUpdatedImage(this.patternPositions[I],o.getImage(I),T)}patchUpdatedImage(o,T,I){if(!o||!T||o.version===T.version)return;o.version=T.version;const[O,F]=o.tl;I.update(T.data,void 0,{x:O,y:F})}}pe("ImagePosition",su),pe("ImageAtlas",wd);const Pa={horizontal:1,vertical:2,horizontalOnly:3};class oc{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(o,T){const I=new oc;return I.scale=o||1,I.fontStack=T,I}static forImage(o){const T=new oc;return T.imageName=o,T}}class zl{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(o,T){const I=new zl;for(let O=0;O<o.sections.length;O++){const F=o.sections[O];F.image?I.addImageSection(F):I.addTextSection(F,T)}return I}length(){return this.text.length}getSection(o){return this.sections[this.sectionIndex[o]]}getSectionIndex(o){return this.sectionIndex[o]}getCharCode(o){return this.text.charCodeAt(o)}verticalizePunctuation(){this.text=function(o){let T="";for(let I=0;I<o.length;I++){const O=o.charCodeAt(I+1)||null,F=o.charCodeAt(I-1)||null;T+=O&&Ke(O)&&!nc[o[I+1]]||F&&Ke(F)&&!nc[o[I-1]]||!nc[o[I]]?o[I]:nc[o[I]]}return T}(this.text)}trim(){let o=0;for(let I=0;I<this.text.length&&Sc[this.text.charCodeAt(I)];I++)o++;let T=this.text.length;for(let I=this.text.length-1;I>=0&&I>=o&&Sc[this.text.charCodeAt(I)];I--)T--;this.text=this.text.substring(o,T),this.sectionIndex=this.sectionIndex.slice(o,T)}substring(o,T){const I=new zl;return I.text=this.text.substring(o,T),I.sectionIndex=this.sectionIndex.slice(o,T),I.sections=this.sections,I}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((o,T)=>Math.max(o,this.sections[T].scale),0)}addTextSection(o,T){this.text+=o.text,this.sections.push(oc.forText(o.scale,o.fontStack||T));const I=this.sections.length-1;for(let O=0;O<o.text.length;++O)this.sectionIndex.push(I)}addImageSection(o){const T=o.image?o.image.name:"";if(T.length===0)return void at("Can't add FormattedSection with an empty image.");const I=this.getNextImageSectionCharCode();I?(this.text+=String.fromCharCode(I),this.sections.push(oc.forImage(T)),this.sectionIndex.push(this.sections.length-1)):at("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function Cc(E,o,T,I,O,F,N,X,K,ne,ce,he,ye,Te,Le,it){const xt=zl.fromFeature(E,O);let Ot;he===Pa.vertical&&xt.verticalizePunctuation();const{processBidirectionalText:Zt,processStyledBidirectionalText:ar}=G;if(Zt&&xt.sections.length===1){Ot=[];const br=Zt(xt.toString(),lu(xt,ne,F,o,I,Te,Le));for(const Qr of br){const qr=new zl;qr.text=Qr,qr.sections=xt.sections;for(let Ur=0;Ur<Qr.length;Ur++)qr.sectionIndex.push(0);Ot.push(qr)}}else if(ar){Ot=[];const br=ar(xt.text,xt.sectionIndex,lu(xt,ne,F,o,I,Te,Le));for(const Qr of br){const qr=new zl;qr.text=Qr[0],qr.sectionIndex=Qr[1],qr.sections=xt.sections,Ot.push(qr)}}else Ot=function(br,Qr){const qr=[],Ur=br.text;let an=0;for(const Dr of Qr)qr.push(br.substring(an,Dr)),an=Dr;return an<Ur.length&&qr.push(br.substring(an,Ur.length)),qr}(xt,lu(xt,ne,F,o,I,Te,Le));const vr=[],yr={positionedLines:vr,text:xt.toString(),top:ce[1],bottom:ce[1],left:ce[0],right:ce[0],writingMode:he,iconsInText:!1,verticalizable:!1};return function(br,Qr,qr,Ur,an,Dr,zr,Ar,Fr,Nn,Yn,ni){let ii=0,Oi=-17,_i=0,Vn=0;const mo=Ar==="right"?1:Ar==="left"?0:.5;let To=0;for(const no of an){no.trim();const co=no.getMaxScale(),wo=24*(co-1),Ro={positionedGlyphs:[],lineOffset:0};br.positionedLines[To]=Ro;const No=Ro.positionedGlyphs;let Bi=0;if(!no.length()){Oi+=Dr,++To;continue}for(let go=0;go<no.length();go++){const ai=no.getSection(go),Ha=no.getSectionIndex(go),qi=no.getCharCode(go);let wa=0,Io=null,Qa=null,es=null,ol=24;const hs=!(Fr===Pa.horizontal||!Yn&&!Re(qi)||Yn&&(Sc[qi]||(lo=qi,et(lo)||At(lo)||Lt(lo)||$o(lo)||sa(lo))));if(ai.imageName){const Bs=Ur[ai.imageName];if(!Bs)continue;es=ai.imageName,br.iconsInText=br.iconsInText||!0,Qa=Bs.paddedRect;const Ca=Bs.displaySize;ai.scale=24*ai.scale/ni,Io={width:Ca[0],height:Ca[1],left:1,top:-3,advance:hs?Ca[1]:Ca[0],localGlyph:!1},wa=wo+(24-Ca[1]*ai.scale),ol=Io.advance;const Ns=hs?Ca[0]*ai.scale-24*co:Ca[1]*ai.scale-24*co;Ns>0&&Ns>Bi&&(Bi=Ns)}else{const Bs=qr[ai.fontStack],Ca=Bs&&Bs[qi];if(Ca&&Ca.rect)Qa=Ca.rect,Io=Ca.metrics;else{const Ns=Qr[ai.fontStack],lc=Ns&&Ns[qi];if(!lc)continue;Io=lc.metrics}wa=24*(co-ai.scale)}hs?(br.verticalizable=!0,No.push({glyph:qi,imageName:es,x:ii,y:Oi+wa,vertical:hs,scale:ai.scale,localGlyph:Io.localGlyph,fontStack:ai.fontStack,sectionIndex:Ha,metrics:Io,rect:Qa}),ii+=ol*ai.scale+Nn):(No.push({glyph:qi,imageName:es,x:ii,y:Oi+wa,vertical:hs,scale:ai.scale,localGlyph:Io.localGlyph,fontStack:ai.fontStack,sectionIndex:Ha,metrics:Io,rect:Qa}),ii+=Io.advance*ai.scale+Nn)}No.length!==0&&(_i=Math.max(ii-Nn,_i),Zp(No,0,No.length-1,mo,Bi)),ii=0;const Di=Dr*co+Bi;Ro.lineOffset=Math.max(Bi,wo),Oi+=Di,Vn=Math.max(Di,Vn),++To}var lo;const ko=Oi- -17,{horizontalAlign:Bo,verticalAlign:Do}=cu(zr);(function(no,co,wo,Ro,No,Bi,Di,go,ai){const Ha=(co-wo)*No;let qi=0;qi=Bi!==Di?-go*Ro- -17:(-Ro*ai+.5)*Di;for(const wa of no)for(const Io of wa.positionedGlyphs)Io.x+=Ha,Io.y+=qi})(br.positionedLines,mo,Bo,Do,_i,Vn,Dr,ko,an.length),br.top+=-Do*ko,br.bottom=br.top+ko,br.left+=-Bo*_i,br.right=br.left+_i}(yr,o,T,I,Ot,N,X,K,he,ne,ye,it),!function(br){for(const Qr of br)if(Qr.positionedGlyphs.length!==0)return!1;return!0}(vr)&&yr}const Sc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},qp={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Cd(E,o,T,I,O,F){if(o.imageName){const N=I[o.imageName];return N?N.displaySize[0]*o.scale*24/F+O:0}{const N=T[o.fontStack],X=N&&N[E];return X?X.metrics.advance*o.scale+O:0}}function Sd(E,o,T,I){const O=Math.pow(E-o,2);return I?E<o?O/2:2*O:O+Math.abs(T)*T}function Wp(E,o,T){let I=0;return E===10&&(I-=1e4),T&&(I+=150),E!==40&&E!==65288||(I+=50),o!==41&&o!==65289||(I+=50),I}function Ed(E,o,T,I,O,F){let N=null,X=Sd(o,T,O,F);for(const K of I){const ne=Sd(o-K.x,T,O,F)+K.badness;ne<=X&&(N=K,X=ne)}return{index:E,x:o,priorBreak:N,badness:X}}function lu(E,o,T,I,O,F,N){if(F!=="point")return[];if(!E)return[];const X=[],K=function(ye,Te,Le,it,xt,Ot){let Zt=0;for(let ar=0;ar<ye.length();ar++){const vr=ye.getSection(ar);Zt+=Cd(ye.getCharCode(ar),vr,it,xt,Te,Ot)}return Zt/Math.max(1,Math.ceil(Zt/Le))}(E,o,T,I,O,N),ne=E.text.indexOf("\u200B")>=0;let ce=0;for(let ye=0;ye<E.length();ye++){const Te=E.getSection(ye),Le=E.getCharCode(ye);if(Sc[Le]||(ce+=Cd(Le,Te,I,O,o,N)),ye<E.length()-1){const it=!((he=Le)<11904||!(Rr(he)||Wt(he)||zo(he)||Ni(he)||fn(he)||nr(he)||Ir(he)||hn(he)||Rn(he)||An(he)||bn(he)||Vi(he)||nn(he)||dn(he)||fr(he)||gn(he)||vt(he)||aa(he)||fi(he)||ei(he)));(qp[Le]||it||Te.imageName)&&X.push(Ed(ye+1,ce,K,X,Wp(Le,E.getCharCode(ye+1),it&&ne),!1))}}var he;return function ye(Te){return Te?ye(Te.priorBreak).concat(Te.index):[]}(Ed(E.length(),ce,K,X,0,!0))}function cu(E){let o=.5,T=.5;switch(E){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(E){case"bottom":case"bottom-right":case"bottom-left":T=1;break;case"top":case"top-right":case"top-left":T=0}return{horizontalAlign:o,verticalAlign:T}}function Zp(E,o,T,I,O){if(!I&&!O)return;const F=E[T],N=(E[T].x+F.metrics.advance*F.scale)*I;for(let X=o;X<=T;X++)E[X].x-=N,E[X].y+=O}function Xp(E,o,T){const{horizontalAlign:I,verticalAlign:O}=cu(T),F=o[0]-E.displaySize[0]*I,N=o[1]-E.displaySize[1]*O;return{image:E,top:N,bottom:N+E.displaySize[1],left:F,right:F+E.displaySize[0]}}function Td(E,o,T,I,O,F){const N=E.image;let X;if(N.content){const xt=N.content,Ot=N.pixelRatio||1;X=[xt[0]/Ot,xt[1]/Ot,N.displaySize[0]-xt[2]/Ot,N.displaySize[1]-xt[3]/Ot]}const K=o.left*F,ne=o.right*F;let ce,he,ye,Te;T==="width"||T==="both"?(Te=O[0]+K-I[3],he=O[0]+ne+I[1]):(Te=O[0]+(K+ne-N.displaySize[0])/2,he=Te+N.displaySize[0]);const Le=o.top*F,it=o.bottom*F;return T==="height"||T==="both"?(ce=O[1]+Le-I[0],ye=O[1]+it+I[2]):(ce=O[1]+(Le+it-N.displaySize[1])/2,ye=ce+N.displaySize[1]),{image:N,top:ce,right:he,bottom:ye,left:Te,collisionPadding:X}}class tl extends P{constructor(o,T,I,O){super(o,T),this.angle=I,O!==void 0&&(this.segment=O)}clone(){return new tl(this.x,this.y,this.angle,this.segment)}}function kd(E,o,T,I,O){if(o.segment===void 0)return!0;let F=o,N=o.segment+1,X=0;for(;X>-T/2;){if(N--,N<0)return!1;X-=E[N].dist(F),F=E[N]}X+=E[N].dist(E[N+1]),N++;const K=[];let ne=0;for(;X<T/2;){const ce=E[N],he=E[N+1];if(!he)return!1;let ye=E[N-1].angleTo(ce)-ce.angleTo(he);for(ye=Math.abs((ye+3*Math.PI)%(2*Math.PI)-Math.PI),K.push({distance:X,angleDelta:ye}),ne+=ye;X-K[0].distance>I;)ne-=K.shift().angleDelta;if(ne>O)return!1;N++,X+=ce.dist(he)}return!0}function Id(E){let o=0;for(let T=0;T<E.length-1;T++)o+=E[T].dist(E[T+1]);return o}function Md(E,o,T){return E?.6*o*T:0}function Ad(E,o){return Math.max(E?E.right-E.left:0,o?o.right-o.left:0)}function Yp(E,o,T,I,O,F){const N=Md(T,O,F),X=Ad(T,I)*F;let K=0;const ne=Id(E)/2;for(let ce=0;ce<E.length-1;ce++){const he=E[ce],ye=E[ce+1],Te=he.dist(ye);if(K+Te>ne){const Le=(ne-K)/Te,it=Bn(he.x,ye.x,Le),xt=Bn(he.y,ye.y,Le),Ot=new tl(it,xt,ye.angleTo(he),ce);return Ot._round(),!N||kd(E,Ot,X,N,o)?Ot:void 0}K+=Te}}function Kp(E,o,T,I,O,F,N,X,K){const ne=Md(I,F,N),ce=Ad(I,O),he=ce*N,ye=E[0].x===0||E[0].x===K||E[0].y===0||E[0].y===K;return o-he<o/4&&(o=he+o/4),function Te(Le,it,xt,Ot,Zt,ar,vr,yr,br){const Qr=ar/2,qr=Id(Le);let Ur=0,an=it-xt,Dr=[];for(let zr=0;zr<Le.length-1;zr++){const Ar=Le[zr],Fr=Le[zr+1],Nn=Ar.dist(Fr),Yn=Fr.angleTo(Ar);for(;an+xt<Ur+Nn;){an+=xt;const ni=(an-Ur)/Nn,ii=Bn(Ar.x,Fr.x,ni),Oi=Bn(Ar.y,Fr.y,ni);if(ii>=0&&ii<br&&Oi>=0&&Oi<br&&an-Qr>=0&&an+Qr<=qr){const _i=new tl(ii,Oi,Yn,zr);_i._round(),Ot&&!kd(Le,_i,ar,Ot,Zt)||Dr.push(_i)}}Ur+=Nn}return yr||Dr.length||vr||(Dr=Te(Le,Ur/2,xt,Ot,Zt,ar,vr,!0,br)),Dr}(E,ye?o/2*X%o:(ce/2+2*F)*N*X%o,o,ne,T,he,ye,!1,K)}function Pd(E,o,T,I,O){const F=[];for(let N=0;N<E.length;N++){const X=E[N];let K;for(let ne=0;ne<X.length-1;ne++){let ce=X[ne],he=X[ne+1];ce.x<o&&he.x<o||(ce.x<o?ce=new P(o,ce.y+(o-ce.x)/(he.x-ce.x)*(he.y-ce.y))._round():he.x<o&&(he=new P(o,ce.y+(o-ce.x)/(he.x-ce.x)*(he.y-ce.y))._round()),ce.y<T&&he.y<T||(ce.y<T?ce=new P(ce.x+(T-ce.y)/(he.y-ce.y)*(he.x-ce.x),T)._round():he.y<T&&(he=new P(ce.x+(T-ce.y)/(he.y-ce.y)*(he.x-ce.x),T)._round()),ce.x>=I&&he.x>=I||(ce.x>=I?ce=new P(I,ce.y+(I-ce.x)/(he.x-ce.x)*(he.y-ce.y))._round():he.x>=I&&(he=new P(I,ce.y+(I-ce.x)/(he.x-ce.x)*(he.y-ce.y))._round()),ce.y>=O&&he.y>=O||(ce.y>=O?ce=new P(ce.x+(O-ce.y)/(he.y-ce.y)*(he.x-ce.x),O)._round():he.y>=O&&(he=new P(ce.x+(O-ce.y)/(he.y-ce.y)*(he.x-ce.x),O)._round()),K&&ce.equals(K[K.length-1])||(K=[ce],F.push(K)),K.push(he)))))}}return F}pe("Anchor",tl);var Od=ac,Jp=ac,Fl=1e20;function ac(E,o,T,I,O,F){this.fontSize=E||24,this.buffer=o===void 0?3:o,this.cutoff=I||.25,this.fontFamily=O||"sans-serif",this.fontWeight=F||"normal",this.radius=T||8;var N=this.size=this.fontSize+2*this.buffer,X=N+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=N,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(X*X),this.gridInner=new Float64Array(X*X),this.f=new Float64Array(X),this.z=new Float64Array(X+1),this.v=new Uint16Array(X),this.useMetrics=this.ctx.measureText("A").actualBoundingBoxLeft!==void 0,this.middle=Math.round(N/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function $d(E,o,T,I,O,F){for(var N=0;N<o;N++)Dd(E,N,o,T,I,O,F);for(var X=0;X<T;X++)Dd(E,X*o,1,o,I,O,F)}function Dd(E,o,T,I,O,F,N){var X,K,ne,ce;for(F[0]=0,N[0]=-Fl,N[1]=Fl,X=0;X<I;X++)O[X]=E[o+X*T];for(X=1,K=0,ne=0;X<I;X++){do ne=(O[X]-O[ce=F[K]]+X*X-ce*ce)/(X-ce)/2;while(ne<=N[K]&&--K>-1);F[++K]=X,N[K]=ne,N[K+1]=Fl}for(X=0,K=0;X<I;X++){for(;N[K+1]<X;)K++;E[o+X*T]=O[ce=F[K]]+(X-ce)*(X-ce)}}ac.prototype._draw=function(E,o){var T,I,O,F,N,X,K,ne,ce,he=this.ctx.measureText(E),ye=he.width,Te=2*this.buffer;o&&this.useMetrics?(N=Math.floor(he.actualBoundingBoxAscent),ne=this.buffer+Math.ceil(he.actualBoundingBoxAscent),X=this.buffer,K=this.buffer,T=(I=Math.min(this.size,Math.ceil(he.actualBoundingBoxRight-he.actualBoundingBoxLeft)))+Te,O=(F=Math.min(this.size-X,Math.ceil(he.actualBoundingBoxAscent+he.actualBoundingBoxDescent)))+Te,this.ctx.textBaseline="alphabetic"):(T=I=this.size,O=F=this.size,N=19*this.fontSize/24,X=K=0,ne=this.middle,this.ctx.textBaseline="middle"),I&&F&&(this.ctx.clearRect(K,X,I,F),this.ctx.fillText(E,this.buffer,ne),ce=this.ctx.getImageData(K,X,I,F));var Le=new Uint8ClampedArray(T*O);return function(it,xt,Ot,Zt,ar,vr,yr){vr.fill(Fl,0,xt*Ot),yr.fill(0,0,xt*Ot);for(var br=(xt-Zt)/2,Qr=0;Qr<ar;Qr++)for(var qr=0;qr<Zt;qr++){var Ur=(Qr+br)*xt+qr+br,an=it.data[4*(Qr*Zt+qr)+3]/255;if(an===1)vr[Ur]=0,yr[Ur]=Fl;else if(an===0)vr[Ur]=Fl,yr[Ur]=0;else{var Dr=Math.max(0,.5-an),zr=Math.max(0,an-.5);vr[Ur]=Dr*Dr,yr[Ur]=zr*zr}}}(ce,T,O,I,F,this.gridOuter,this.gridInner),$d(this.gridOuter,T,O,this.f,this.v,this.z),$d(this.gridInner,T,O,this.f,this.v,this.z),function(it,xt,Ot,Zt,ar,vr,yr){for(var br=0;br<xt*Ot;br++){var Qr=Math.sqrt(Zt[br])-Math.sqrt(ar[br]);it[br]=Math.round(255-255*(Qr/vr+yr))}}(Le,T,O,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:Le,metrics:{width:I,height:F,sdfWidth:T,sdfHeight:O,top:N,left:0,advance:ye}}},ac.prototype.draw=function(E){return this._draw(E,!1).data},ac.prototype.drawWithMetrics=function(E){return this._draw(E,!0)},Od.default=Jp;const uu={none:0,ideographs:1,all:2};class Bl{constructor(o,T,I){this.requestManager=o,this.localGlyphMode=T,this.localFontFamily=I,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(o){this.url=o}getGlyphs(o,T){const I=[];for(const O in o)for(const F of o[O])I.push({stack:O,id:F});se(I,({stack:O,id:F},N)=>{let X=this.entries[O];X||(X=this.entries[O]={glyphs:{},requests:{},ranges:{}});let K=X.glyphs[F];if(K!==void 0)return void N(null,{stack:O,id:F,glyph:K});if(K=this._tinySDF(X,O,F),K)return X.glyphs[F]=K,void N(null,{stack:O,id:F,glyph:K});const ne=Math.floor(F/256);if(256*ne>65535)return void N(new Error("glyphs > 65535 not supported"));if(X.ranges[ne])return void N(null,{stack:O,id:F,glyph:K});let ce=X.requests[ne];ce||(ce=X.requests[ne]=[],Bl.loadGlyphRange(O,ne,this.url,this.requestManager,(he,ye)=>{if(ye){for(const Te in ye)this._doesCharSupportLocalGlyph(+Te)||(X.glyphs[+Te]=ye[+Te]);X.ranges[ne]=!0}for(const Te of ce)Te(he,ye);delete X.requests[ne]})),ce.push((he,ye)=>{he?N(he):ye&&N(null,{stack:O,id:F,glyph:ye[F]||null})})},(O,F)=>{if(O)T(O);else if(F){const N={};for(const{stack:X,id:K,glyph:ne}of F)(N[X]||(N[X]={}))[K]=ne&&{id:ne.id,bitmap:ne.bitmap.clone(),metrics:ne.metrics};T(null,N)}})}_doesCharSupportLocalGlyph(o){return this.localGlyphMode!==uu.none&&(this.localGlyphMode===uu.all?!!this.localFontFamily:!!this.localFontFamily&&(An(o)||Gn(o)||nn(o)||vt(o)))}_tinySDF(o,T,I){const O=this.localFontFamily;if(!O||!this._doesCharSupportLocalGlyph(I))return;let F=o.tinySDF;if(!F){let it="400";/bold/i.test(T)?it="900":/medium/i.test(T)?it="500":/light/i.test(T)&&(it="200"),F=o.tinySDF=new Bl.TinySDF(48,6,16,.25,O,it)}if(this.localGlyphs[F.fontWeight][I])return this.localGlyphs[F.fontWeight][I];const{data:N,metrics:X}=F.drawWithMetrics(String.fromCharCode(I)),{sdfWidth:K,sdfHeight:ne,width:ce,height:he,left:ye,top:Te,advance:Le}=X;return this.localGlyphs[F.fontWeight][I]={id:I,bitmap:new Qs({width:K,height:ne},N),metrics:{width:ce/2,height:he/2,left:ye/2,top:Te/2-27,advance:Le/2,localGlyph:!0}}}}function Rd(E,o,T,I){const O=[],F=E.image,N=F.pixelRatio,X=F.paddedRect.w-2,K=F.paddedRect.h-2,ne=E.right-E.left,ce=E.bottom-E.top,he=F.stretchX||[[0,X]],ye=F.stretchY||[[0,K]],Te=(Dr,zr)=>Dr+zr[1]-zr[0],Le=he.reduce(Te,0),it=ye.reduce(Te,0),xt=X-Le,Ot=K-it;let Zt=0,ar=Le,vr=0,yr=it,br=0,Qr=xt,qr=0,Ur=Ot;if(F.content&&I){const Dr=F.content;Zt=Ec(he,0,Dr[0]),vr=Ec(ye,0,Dr[1]),ar=Ec(he,Dr[0],Dr[2]),yr=Ec(ye,Dr[1],Dr[3]),br=Dr[0]-Zt,qr=Dr[1]-vr,Qr=Dr[2]-Dr[0]-ar,Ur=Dr[3]-Dr[1]-yr}const an=(Dr,zr,Ar,Fr)=>{const Nn=Tc(Dr.stretch-Zt,ar,ne,E.left),Yn=kc(Dr.fixed-br,Qr,Dr.stretch,Le),ni=Tc(zr.stretch-vr,yr,ce,E.top),ii=kc(zr.fixed-qr,Ur,zr.stretch,it),Oi=Tc(Ar.stretch-Zt,ar,ne,E.left),_i=kc(Ar.fixed-br,Qr,Ar.stretch,Le),Vn=Tc(Fr.stretch-vr,yr,ce,E.top),mo=kc(Fr.fixed-qr,Ur,Fr.stretch,it),To=new P(Nn,ni),lo=new P(Oi,ni),ko=new P(Oi,Vn),Bo=new P(Nn,Vn),Do=new P(Yn/N,ii/N),no=new P(_i/N,mo/N),co=o*Math.PI/180;if(co){const No=Math.sin(co),Bi=Math.cos(co),Di=[Bi,-No,No,Bi];To._matMult(Di),lo._matMult(Di),Bo._matMult(Di),ko._matMult(Di)}const wo=Dr.stretch+Dr.fixed,Ro=zr.stretch+zr.fixed;return{tl:To,tr:lo,bl:Bo,br:ko,tex:{x:F.paddedRect.x+1+wo,y:F.paddedRect.y+1+Ro,w:Ar.stretch+Ar.fixed-wo,h:Fr.stretch+Fr.fixed-Ro},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:Do,pixelOffsetBR:no,minFontScaleX:Qr/N/ne,minFontScaleY:Ur/N/ce,isSDF:T}};if(I&&(F.stretchX||F.stretchY)){const Dr=Ld(he,xt,Le),zr=Ld(ye,Ot,it);for(let Ar=0;Ar<Dr.length-1;Ar++){const Fr=Dr[Ar],Nn=Dr[Ar+1];for(let Yn=0;Yn<zr.length-1;Yn++)O.push(an(Fr,zr[Yn],Nn,zr[Yn+1]))}}else O.push(an({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:X+1},{fixed:0,stretch:K+1}));return O}function Ec(E,o,T){let I=0;for(const O of E)I+=Math.max(o,Math.min(T,O[1]))-Math.max(o,Math.min(T,O[0]));return I}function Ld(E,o,T){const I=[{fixed:-1,stretch:0}];for(const[O,F]of E){const N=I[I.length-1];I.push({fixed:O-N.stretch,stretch:N.stretch}),I.push({fixed:O-N.stretch,stretch:N.stretch+(F-O)})}return I.push({fixed:o+1,stretch:T}),I}function Tc(E,o,T,I){return E/o*T+I}function kc(E,o,T,I){return E-o*T/I}Bl.loadGlyphRange=function(E,o,T,I,O){const F=256*o,N=F+255,X=I.transformRequest(I.normalizeGlyphsURL(T).replace("{fontstack}",E).replace("{range}",`${F}-${N}`),vn.Glyphs);Qe(X,(K,ne)=>{if(K)O(K);else if(ne){const ce={};for(const he of function(ye){return new ic(ye).readFields(Up,[])}(ne))ce[he.id]=he;O(null,ce)}})},Bl.TinySDF=Od;class Qp{constructor(o=[],T=ef){if(this.data=o,this.length=this.data.length,this.compare=T,this.length>0)for(let I=(this.length>>1)-1;I>=0;I--)this._down(I)}push(o){this.data.push(o),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const o=this.data[0],T=this.data.pop();return this.length--,this.length>0&&(this.data[0]=T,this._down(0)),o}peek(){return this.data[0]}_up(o){const{data:T,compare:I}=this,O=T[o];for(;o>0;){const F=o-1>>1,N=T[F];if(I(O,N)>=0)break;T[o]=N,o=F}T[o]=O}_down(o){const{data:T,compare:I}=this,O=this.length>>1,F=T[o];for(;o<O;){let N=1+(o<<1),X=T[N];const K=N+1;if(K<this.length&&I(T[K],X)<0&&(N=K,X=T[K]),I(X,F)>=0)break;T[o]=X,o=N}T[o]=F}}function ef(E,o){return E<o?-1:E>o?1:0}function tf(E,o=1,T=!1){let I=1/0,O=1/0,F=-1/0,N=-1/0;const X=E[0];for(let Te=0;Te<X.length;Te++){const Le=X[Te];(!Te||Le.x<I)&&(I=Le.x),(!Te||Le.y<O)&&(O=Le.y),(!Te||Le.x>F)&&(F=Le.x),(!Te||Le.y>N)&&(N=Le.y)}const K=Math.min(F-I,N-O);let ne=K/2;const ce=new Qp([],rf);if(K===0)return new P(I,O);for(let Te=I;Te<F;Te+=K)for(let Le=O;Le<N;Le+=K)ce.push(new Nl(Te+ne,Le+ne,ne,E));let he=function(Te){let Le=0,it=0,xt=0;const Ot=Te[0];for(let Zt=0,ar=Ot.length,vr=ar-1;Zt<ar;vr=Zt++){const yr=Ot[Zt],br=Ot[vr],Qr=yr.x*br.y-br.x*yr.y;it+=(yr.x+br.x)*Qr,xt+=(yr.y+br.y)*Qr,Le+=3*Qr}return new Nl(it/Le,xt/Le,0,Te)}(E),ye=ce.length;for(;ce.length;){const Te=ce.pop();(Te.d>he.d||!he.d)&&(he=Te),Te.max-he.d<=o||(ne=Te.h/2,ce.push(new Nl(Te.p.x-ne,Te.p.y-ne,ne,E)),ce.push(new Nl(Te.p.x+ne,Te.p.y-ne,ne,E)),ce.push(new Nl(Te.p.x-ne,Te.p.y+ne,ne,E)),ce.push(new Nl(Te.p.x+ne,Te.p.y+ne,ne,E)),ye+=4)}return T&&(console.log("num probes: "+ye),console.log("best distance: "+he.d)),he.p}function rf(E,o){return o.max-E.max}function Nl(E,o,T,I){this.p=new P(E,o),this.h=T,this.d=function(O,F){let N=!1,X=1/0;for(let K=0;K<F.length;K++){const ne=F[K];for(let ce=0,he=ne.length,ye=he-1;ce<he;ye=ce++){const Te=ne[ce],Le=ne[ye];Te.y>O.y!=Le.y>O.y&&O.x<(Le.x-Te.x)*(O.y-Te.y)/(Le.y-Te.y)+Te.x&&(N=!N),X=Math.min(X,zu(O,Te,Le))}}return(N?1:-1)*Math.sqrt(X)}(this.p,I),this.max=this.d+this.h*Math.SQRT2}const du=Number.POSITIVE_INFINITY;function zd(E,o){return o[1]!==du?function(T,I,O){let F=0,N=0;switch(I=Math.abs(I),O=Math.abs(O),T){case"top-right":case"top-left":case"top":N=O-7;break;case"bottom-right":case"bottom-left":case"bottom":N=7-O}switch(T){case"top-right":case"bottom-right":case"right":F=-I;break;case"top-left":case"bottom-left":case"left":F=I}return[F,N]}(E,o[0],o[1]):function(T,I){let O=0,F=0;I<0&&(I=0);const N=I/Math.sqrt(2);switch(T){case"top-right":case"top-left":F=N-7;break;case"bottom-right":case"bottom-left":F=7-N;break;case"bottom":F=7-I;break;case"top":F=I-7}switch(T){case"top-right":case"bottom-right":O=-N;break;case"top-left":case"bottom-left":O=N;break;case"left":O=I;break;case"right":O=-I}return[O,F]}(E,o[0])}function nf(E,o,T,I,O,F,N,X){E.createArrays(),E.tilePixelRatio=Ti/(512*E.overscaling),E.compareText={},E.iconsNeedLinear=!1;const K=E.layers[0].layout,ne=E.layers[0]._unevaluatedLayout._values,ce={};if(E.textSizeData.kind==="composite"){const{minZoom:Le,maxZoom:it}=E.textSizeData;ce.compositeTextSizes=[ne["text-size"].possiblyEvaluate(new H(Le),N),ne["text-size"].possiblyEvaluate(new H(it),N)]}if(E.iconSizeData.kind==="composite"){const{minZoom:Le,maxZoom:it}=E.iconSizeData;ce.compositeIconSizes=[ne["icon-size"].possiblyEvaluate(new H(Le),N),ne["icon-size"].possiblyEvaluate(new H(it),N)]}ce.layoutTextSize=ne["text-size"].possiblyEvaluate(new H(X+1),N),ce.layoutIconSize=ne["icon-size"].possiblyEvaluate(new H(X+1),N),ce.textMaxSize=ne["text-size"].possiblyEvaluate(new H(18),N);const he=K.get("text-rotation-alignment")==="map"&&K.get("symbol-placement")!=="point",ye=K.get("text-keep-upright"),Te=K.get("text-size");for(const Le of E.features){const it=K.get("text-font").evaluate(Le,{},N).join(","),xt=Te.evaluate(Le,{},N),Ot=ce.layoutTextSize.evaluate(Le,{},N),Zt=(ce.layoutIconSize.evaluate(Le,{},N),{horizontal:{},vertical:void 0}),ar=Le.text;let vr,yr=[0,0];if(ar){const qr=ar.toString(),Ur=24*K.get("text-letter-spacing").evaluate(Le,{},N),an=24*K.get("text-line-height").evaluate(Le,{},N),Dr=Yi(qr)?Ur:0,zr=K.get("text-anchor").evaluate(Le,{},N),Ar=K.get("text-variable-anchor");if(!Ar){const ii=K.get("text-radial-offset").evaluate(Le,{},N);yr=ii?zd(zr,[24*ii,du]):K.get("text-offset").evaluate(Le,{},N).map(Oi=>24*Oi)}let Fr=he?"center":K.get("text-justify").evaluate(Le,{},N);const Nn=K.get("symbol-placement"),Yn=Nn==="point"?24*K.get("text-max-width").evaluate(Le,{},N):0,ni=()=>{E.allowVerticalPlacement&&$s(qr)&&(Zt.vertical=Cc(ar,o,T,O,it,Yn,an,zr,"left",Dr,yr,Pa.vertical,!0,Nn,Ot,xt))};if(!he&&Ar){const ii=Fr==="auto"?Ar.map(_i=>hu(_i)):[Fr];let Oi=!1;for(let _i=0;_i<ii.length;_i++){const Vn=ii[_i];if(!Zt.horizontal[Vn])if(Oi)Zt.horizontal[Vn]=Zt.horizontal[0];else{const mo=Cc(ar,o,T,O,it,Yn,an,"center",Vn,Dr,yr,Pa.horizontal,!1,Nn,Ot,xt);mo&&(Zt.horizontal[Vn]=mo,Oi=mo.positionedLines.length===1)}}ni()}else{Fr==="auto"&&(Fr=hu(zr));const ii=Cc(ar,o,T,O,it,Yn,an,zr,Fr,Dr,yr,Pa.horizontal,!1,Nn,Ot,xt);ii&&(Zt.horizontal[Fr]=ii),ni(),$s(qr)&&he&&ye&&(Zt.vertical=Cc(ar,o,T,O,it,Yn,an,zr,Fr,Dr,yr,Pa.vertical,!1,Nn,Ot,xt))}}let br=!1;if(Le.icon&&Le.icon.name){const qr=I[Le.icon.name];qr&&(vr=Xp(O[Le.icon.name],K.get("icon-offset").evaluate(Le,{},N),K.get("icon-anchor").evaluate(Le,{},N)),br=qr.sdf,E.sdfIcons===void 0?E.sdfIcons=qr.sdf:E.sdfIcons!==qr.sdf&&at("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(qr.pixelRatio!==E.pixelRatio||K.get("icon-rotate").constantOr(1)!==0)&&(E.iconsNeedLinear=!0))}const Qr=Bd(Zt.horizontal)||Zt.vertical;E.iconsInText||(E.iconsInText=!!Qr&&Qr.iconsInText),(Qr||vr)&&of(E,Le,Zt,vr,I,ce,Ot,0,yr,br,N)}F&&E.generateCollisionDebugBuffers(X,E.collisionBoxArray)}function hu(E){switch(E){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function of(E,o,T,I,O,F,N,X,K,ne,ce){let he=F.textMaxSize.evaluate(o,{},ce);he===void 0&&(he=N);const ye=E.layers[0].layout,Te=ye.get("icon-offset").evaluate(o,{},ce),Le=Bd(T.horizontal),it=N/24,xt=E.tilePixelRatio*he/24,Ot=E.tilePixelRatio*ye.get("symbol-spacing"),Zt=ye.get("text-padding")*E.tilePixelRatio,ar=ye.get("icon-padding")*E.tilePixelRatio,vr=U(ye.get("text-max-angle")),yr=ye.get("text-rotation-alignment")==="map"&&ye.get("symbol-placement")!=="point",br=ye.get("icon-rotation-alignment")==="map"&&ye.get("symbol-placement")!=="point",Qr=ye.get("symbol-placement"),qr=Ot/2,Ur=ye.get("icon-text-fit");let an;I&&Ur!=="none"&&(E.allowVerticalPlacement&&T.vertical&&(an=Td(I,T.vertical,Ur,ye.get("icon-text-fit-padding"),Te,it)),Le&&(I=Td(I,Le,Ur,ye.get("icon-text-fit-padding"),Te,it)));const Dr=(zr,Ar)=>{Ar.x<0||Ar.x>=Ti||Ar.y<0||Ar.y>=Ti||function(Fr,Nn,Yn,ni,ii,Oi,_i,Vn,mo,To,lo,ko,Bo,Do,no,co,wo,Ro,No,Bi,Di,go,ai,Ha){const qi=Fr.addToLineVertexArray(Nn,Yn);let wa,Io,Qa,es,ol,hs,Bs,Ca=0,Ns=0,lc=0,vh=0,Eu=-1,Tu=-1;const js={};let yh=Ss(""),ku=0,Iu=0;if(Vn._unevaluatedLayout.getValue("text-radial-offset")===void 0?[ku,Iu]=Vn.layout.get("text-offset").evaluate(Bi,{},ai).map(Oa=>24*Oa):(ku=24*Vn.layout.get("text-radial-offset").evaluate(Bi,{},ai),Iu=du),Fr.allowVerticalPlacement&&ni.vertical){const Oa=ni.vertical;if(Do)hs=pu(Oa),_i&&(Bs=pu(_i));else{const $a=Vn.layout.get("text-rotate").evaluate(Bi,{},ai)+90;Qa=Ic(mo,Nn,To,lo,ko,Oa,Bo,$a),_i&&(es=Ic(mo,Nn,To,lo,ko,_i,wo,$a))}}if(ii){const Oa=Vn.layout.get("icon-rotate").evaluate(Bi,{},ai),$a=Vn.layout.get("icon-text-fit")!=="none",uc=Rd(ii,Oa,go,$a),Au=_i?Rd(_i,Oa,go,$a):void 0;Io=Ic(mo,Nn,To,lo,ko,ii,wo,Oa),Ca=4*uc.length;const _h=Fr.iconSizeData;let xl=null;_h.kind==="source"?(xl=[Es*Vn.layout.get("icon-size").evaluate(Bi,{},ai)],xl[0]>rl&&at(Fr.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')):_h.kind==="composite"&&(xl=[Es*Di.compositeIconSizes[0].evaluate(Bi,{},ai),Es*Di.compositeIconSizes[1].evaluate(Bi,{},ai)],(xl[0]>rl||xl[1]>rl)&&at(Fr.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".')),Fr.addSymbols(Fr.icon,uc,xl,No,Ro,Bi,!1,Nn,qi.lineStartIndex,qi.lineLength,-1,ai),Eu=Fr.icon.placedSymbolArray.length-1,Au&&(Ns=4*Au.length,Fr.addSymbols(Fr.icon,Au,xl,No,Ro,Bi,Pa.vertical,Nn,qi.lineStartIndex,qi.lineLength,-1,ai),Tu=Fr.icon.placedSymbolArray.length-1)}for(const Oa in ni.horizontal){const $a=ni.horizontal[Oa];wa||(yh=Ss($a.text),Do?ol=pu($a):wa=Ic(mo,Nn,To,lo,ko,$a,Bo,Vn.layout.get("text-rotate").evaluate(Bi,{},ai)));const uc=$a.positionedLines.length===1;if(lc+=Fd(Fr,Nn,$a,Oi,Vn,Do,Bi,no,qi,ni.vertical?Pa.horizontal:Pa.horizontalOnly,uc?Object.keys(ni.horizontal):[Oa],js,Eu,Di,ai),uc)break}ni.vertical&&(vh+=Fd(Fr,Nn,ni.vertical,Oi,Vn,Do,Bi,no,qi,Pa.vertical,["vertical"],js,Tu,Di,ai));let Vs=-1;const Mu=(Oa,$a)=>Oa?Math.max(Oa,$a):$a;Vs=Mu(ol,Vs),Vs=Mu(hs,Vs),Vs=Mu(Bs,Vs);const bh=Vs>-1?1:0;bh&&(Vs*=Ha/24),Fr.glyphOffsetArray.length>=nl.MAX_GLYPHS&&at("Too many glyphs being rendered in a tile. See                                                   "),Bi.sortKey!==void 0&&Fr.addToSortKeyRanges(Fr.symbolInstances.length,Bi.sortKey),Fr.symbolInstances.emplaceBack(Nn.x,Nn.y,js.right>=0?js.right:-1,js.center>=0?js.center:-1,js.left>=0?js.left:-1,js.vertical||-1,Eu,Tu,yh,wa!==void 0?wa:Fr.collisionBoxArray.length,wa!==void 0?wa+1:Fr.collisionBoxArray.length,Qa!==void 0?Qa:Fr.collisionBoxArray.length,Qa!==void 0?Qa+1:Fr.collisionBoxArray.length,Io!==void 0?Io:Fr.collisionBoxArray.length,Io!==void 0?Io+1:Fr.collisionBoxArray.length,es||Fr.collisionBoxArray.length,es?es+1:Fr.collisionBoxArray.length,To,lc,vh,Ca,Ns,bh,0,ku,Iu,Vs)}(E,Ar,zr,T,I,O,an,E.layers[0],E.collisionBoxArray,o.index,o.sourceLayerIndex,E.index,Zt,yr,K,0,ar,br,Te,o,F,ne,ce,N)};if(Qr==="line")for(const zr of Pd(o.geometry,0,0,Ti,Ti)){const Ar=Kp(zr,Ot,vr,T.vertical||Le,I,24,xt,E.overscaling,Ti);for(const Fr of Ar){const Nn=Le;Nn&&af(E,Nn.text,qr,Fr)||Dr(zr,Fr)}}else if(Qr==="line-center"){for(const zr of o.geometry)if(zr.length>1){const Ar=Yp(zr,vr,T.vertical||Le,I,24,xt);Ar&&Dr(zr,Ar)}}else if(o.type==="Polygon")for(const zr of Jc(o.geometry,0)){const Ar=tf(zr,16);Dr(zr[0],new tl(Ar.x,Ar.y,0))}else if(o.type==="LineString")for(const zr of o.geometry)Dr(zr,new tl(zr[0].x,zr[0].y,0));else if(o.type==="Point")for(const zr of o.geometry)for(const Ar of zr)Dr([Ar],new tl(Ar.x,Ar.y,0))}const rl=32640;function Fd(E,o,T,I,O,F,N,X,K,ne,ce,he,ye,Te,Le){const it=function(Zt,ar,vr,yr,br,Qr,qr,Ur){const an=yr.layout.get("text-rotate").evaluate(Qr,{})*Math.PI/180,Dr=[];for(const zr of ar.positionedLines)for(const Ar of zr.positionedGlyphs){if(!Ar.rect)continue;const Fr=Ar.rect||{};let Nn=4,Yn=!0,ni=1,ii=0;const Oi=(br||Ur)&&Ar.vertical,_i=Ar.metrics.advance*Ar.scale/2;if(Ur&&ar.verticalizable){const Di=24*(Ar.scale-1),go=(24-Ar.metrics.width*Ar.scale)/2;ii=zr.lineOffset/2-(Ar.imageName?-go:Di)}if(Ar.imageName){const Di=qr[Ar.imageName];Yn=Di.sdf,ni=Di.pixelRatio,Nn=1/ni}const Vn=br?[Ar.x+_i,Ar.y]:[0,0];let mo=br?[0,0]:[Ar.x+_i+vr[0],Ar.y+vr[1]-ii],To=[0,0];Oi&&(To=mo,mo=[0,0]);const lo=(Ar.metrics.left-Nn)*Ar.scale-_i+mo[0],ko=(-Ar.metrics.top-Nn)*Ar.scale+mo[1],Bo=lo+Fr.w*Ar.scale/(ni*(Ar.localGlyph?2:1)),Do=ko+Fr.h*Ar.scale/(ni*(Ar.localGlyph?2:1)),no=new P(lo,ko),co=new P(Bo,ko),wo=new P(lo,Do),Ro=new P(Bo,Do);if(Oi){const Di=new P(-_i,_i- -17),go=-Math.PI/2,ai=12-_i,Ha=new P(22-ai,-(Ar.imageName?ai:0)),qi=new P(...To);no._rotateAround(go,Di)._add(Ha)._add(qi),co._rotateAround(go,Di)._add(Ha)._add(qi),wo._rotateAround(go,Di)._add(Ha)._add(qi),Ro._rotateAround(go,Di)._add(Ha)._add(qi)}if(an){const Di=Math.sin(an),go=Math.cos(an),ai=[go,-Di,Di,go];no._matMult(ai),co._matMult(ai),wo._matMult(ai),Ro._matMult(ai)}const No=new P(0,0),Bi=new P(0,0);Dr.push({tl:no,tr:co,bl:wo,br:Ro,tex:Fr,writingMode:ar.writingMode,glyphOffset:Vn,sectionIndex:Ar.sectionIndex,isSDF:Yn,pixelOffsetTL:No,pixelOffsetBR:Bi,minFontScaleX:0,minFontScaleY:0})}return Dr}(0,T,X,O,F,N,I,E.allowVerticalPlacement),xt=E.textSizeData;let Ot=null;xt.kind==="source"?(Ot=[Es*O.layout.get("text-size").evaluate(N,{},Le)],Ot[0]>rl&&at(E.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')):xt.kind==="composite"&&(Ot=[Es*Te.compositeTextSizes[0].evaluate(N,{},Le),Es*Te.compositeTextSizes[1].evaluate(N,{},Le)],(Ot[0]>rl||Ot[1]>rl)&&at(E.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".')),E.addSymbols(E.text,it,Ot,X,F,N,ne,o,K.lineStartIndex,K.lineLength,ye,Le);for(const Zt of ce)he[Zt]=E.text.placedSymbolArray.length-1;return 4*it.length}function Bd(E){for(const o in E)return E[o];return null}function Ic(E,o,T,I,O,F,N,X){let K=F.top,ne=F.bottom,ce=F.left,he=F.right;const ye=F.collisionPadding;if(ye&&(ce-=ye[0],K-=ye[1],he+=ye[2],ne+=ye[3]),X){const Te=new P(ce,K),Le=new P(he,K),it=new P(ce,ne),xt=new P(he,ne),Ot=U(X);Te._rotate(Ot),Le._rotate(Ot),it._rotate(Ot),xt._rotate(Ot),ce=Math.min(Te.x,Le.x,it.x,xt.x),he=Math.max(Te.x,Le.x,it.x,xt.x),K=Math.min(Te.y,Le.y,it.y,xt.y),ne=Math.max(Te.y,Le.y,it.y,xt.y)}return E.emplaceBack(o.x,o.y,ce,K,he,ne,N,T,I,O),E.length-1}function pu(E){E.collisionPadding&&(E.top-=E.collisionPadding[1],E.bottom+=E.collisionPadding[3]);const o=E.bottom-E.top;return o>0?Math.max(10,o):null}function af(E,o,T,I){const O=E.compareText;if(o in O){const F=O[o];for(let N=F.length-1;N>=0;N--)if(I.dist(F[N])<T)return!0}else O[o]=[];return O[o].push(I),!1}const sf=yl.VectorTileFeature.types,lf=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Mc(E,o,T,I,O,F,N,X,K,ne,ce,he,ye){const Te=X?Math.min(rl,Math.round(X[0])):0,Le=X?Math.min(rl,Math.round(X[1])):0;E.emplaceBack(o,T,Math.round(32*I),Math.round(32*O),F,N,(Te<<1)+(K?1:0),Le,16*ne,16*ce,256*he,256*ye)}function fu(E,o,T){E.emplaceBack(o.x,o.y,T),E.emplaceBack(o.x,o.y,T),E.emplaceBack(o.x,o.y,T),E.emplaceBack(o.x,o.y,T)}function cf(E){for(const o of E.sections)if(ur(o.text))return!0;return!1}class mu{constructor(o){this.layoutVertexArray=new Hn,this.indexArray=new qn,this.programConfigurations=o,this.segments=new Xo,this.dynamicLayoutVertexArray=new Dt,this.opacityVertexArray=new hr,this.placedSymbolArray=new Eo}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(o,T,I,O){this.isEmpty()||(I&&(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,kp.members),this.indexBuffer=o.createIndexBuffer(this.indexArray,T),this.dynamicLayoutVertexBuffer=o.createVertexBuffer(this.dynamicLayoutVertexArray,Ip.members,!0),this.opacityVertexBuffer=o.createVertexBuffer(this.opacityVertexArray,lf,!0),this.opacityVertexBuffer.itemSize=1),(I||O)&&this.programConfigurations.upload(o))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}pe("SymbolBuffers",mu);class gu{constructor(o,T,I){this.layoutVertexArray=new o,this.layoutAttributes=T,this.indexArray=new I,this.segments=new Xo,this.collisionVertexArray=new Mn,this.collisionVertexArrayExt=new Dt}upload(o){this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=o.createVertexBuffer(this.collisionVertexArray,Mp.members,!0),this.collisionVertexBufferExt=o.createVertexBuffer(this.collisionVertexArrayExt,Ap.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}pe("CollisionBuffers",gu);class nl{constructor(o){this.collisionBoxArray=o.collisionBoxArray,this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(N=>N.id),this.index=o.index,this.pixelRatio=o.pixelRatio,this.sourceLayerIndex=o.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Uc([]),this.placementViewportMatrix=Uc([]);const T=this.layers[0]._unevaluatedLayout._values;this.textSizeData=iu(this.zoom,T["text-size"]),this.iconSizeData=iu(this.zoom,T["icon-size"]);const I=this.layers[0].layout,O=I.get("symbol-sort-key"),F=I.get("symbol-z-order");this.canOverlap=I.get("text-allow-overlap")||I.get("icon-allow-overlap")||I.get("text-ignore-placement")||I.get("icon-ignore-placement"),this.sortFeaturesByKey=F!=="viewport-y"&&O.constantOr(1)!==void 0,this.sortFeaturesByY=(F==="viewport-y"||F==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,I.get("symbol-placement")==="point"&&(this.writingModes=I.get("text-writing-mode").map(N=>Pa[N])),this.stateDependentLayerIds=this.layers.filter(N=>N.isStateDependent()).map(N=>N.id),this.sourceID=o.sourceID}createArrays(){this.text=new mu(new ml(this.layers,this.zoom,o=>/^text/.test(o))),this.icon=new mu(new ml(this.layers,this.zoom,o=>/^icon/.test(o))),this.glyphOffsetArray=new Ka,this.lineVertexArray=new Pi,this.symbolInstances=new Zo}calculateGlyphDependencies(o,T,I,O,F){for(let N=0;N<o.length;N++)if(T[o.charCodeAt(N)]=!0,(I||O)&&F){const X=nc[o.charAt(N)];X&&(T[X.charCodeAt(0)]=!0)}}populate(o,T,I){const O=this.layers[0],F=O.layout,N=F.get("text-font"),X=F.get("text-field"),K=F.get("icon-image"),ne=(X.value.kind!=="constant"||X.value.value instanceof Ki&&!X.value.value.isEmpty()||X.value.value.toString().length>0)&&(N.value.kind!=="constant"||N.value.value.length>0),ce=K.value.kind!=="constant"||!!K.value.value||Object.keys(K.parameters).length>0,he=F.get("symbol-sort-key");if(this.features=[],!ne&&!ce)return;const ye=T.iconDependencies,Te=T.glyphDependencies,Le=T.availableImages,it=new H(this.zoom);for(const{feature:xt,id:Ot,index:Zt,sourceLayerIndex:ar}of o){const vr=O._featureFilter.needGeometry,yr=vl(xt,vr);if(!O._featureFilter.filter(it,yr,I))continue;let br,Qr;if(vr||(yr.geometry=gl(xt)),ne){const Ur=O.getValueAndResolveTokens("text-field",yr,I,Le),an=Ki.factory(Ur);cf(an)&&(this.hasRTLText=!0),(!this.hasRTLText||A()==="unavailable"||this.hasRTLText&&G.isParsed())&&(br=$p(an,O,yr))}if(ce){const Ur=O.getValueAndResolveTokens("icon-image",yr,I,Le);Qr=Ur instanceof uo?Ur:uo.fromString(Ur)}if(!br&&!Qr)continue;const qr=this.sortFeaturesByKey?he.evaluate(yr,{},I):void 0;if(this.features.push({id:Ot,text:br,icon:Qr,index:Zt,sourceLayerIndex:ar,geometry:yr.geometry,properties:xt.properties,type:sf[xt.type],sortKey:qr}),Qr&&(ye[Qr.name]=!0),br){const Ur=N.evaluate(yr,{},I).join(","),an=F.get("text-rotation-alignment")==="map"&&F.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Pa.vertical)>=0;for(const Dr of br.sections)if(Dr.image)ye[Dr.image.name]=!0;else{const zr=$s(br.toString()),Ar=Dr.fontStack||Ur,Fr=Te[Ar]=Te[Ar]||{};this.calculateGlyphDependencies(Dr.text,Fr,an,this.allowVerticalPlacement,zr)}}}F.get("symbol-placement")==="line"&&(this.features=function(xt){const Ot={},Zt={},ar=[];let vr=0;function yr(Ur){ar.push(xt[Ur]),vr++}function br(Ur,an,Dr){const zr=Zt[Ur];return delete Zt[Ur],Zt[an]=zr,ar[zr].geometry[0].pop(),ar[zr].geometry[0]=ar[zr].geometry[0].concat(Dr[0]),zr}function Qr(Ur,an,Dr){const zr=Ot[an];return delete Ot[an],Ot[Ur]=zr,ar[zr].geometry[0].shift(),ar[zr].geometry[0]=Dr[0].concat(ar[zr].geometry[0]),zr}function qr(Ur,an,Dr){const zr=Dr?an[0][an[0].length-1]:an[0][0];return`${Ur}:${zr.x}:${zr.y}`}for(let Ur=0;Ur<xt.length;Ur++){const an=xt[Ur],Dr=an.geometry,zr=an.text?an.text.toString():null;if(!zr){yr(Ur);continue}const Ar=qr(zr,Dr),Fr=qr(zr,Dr,!0);if(Ar in Zt&&Fr in Ot&&Zt[Ar]!==Ot[Fr]){const Nn=Qr(Ar,Fr,Dr),Yn=br(Ar,Fr,ar[Nn].geometry);delete Ot[Ar],delete Zt[Fr],Zt[qr(zr,ar[Yn].geometry,!0)]=Yn,ar[Nn].geometry=null}else Ar in Zt?br(Ar,Fr,Dr):Fr in Ot?Qr(Ar,Fr,Dr):(yr(Ur),Ot[Ar]=vr-1,Zt[Fr]=vr-1)}return ar.filter(Ur=>Ur.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((xt,Ot)=>xt.sortKey-Ot.sortKey)}update(o,T,I){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(o,T,this.layers,I),this.icon.programConfigurations.updatePaintArrays(o,T,this.layers,I))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(o){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(o),this.iconCollisionBox.upload(o)),this.text.upload(o,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(o,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(o,T){const I=this.lineVertexArray.length;if(o.segment!==void 0){let O=o.dist(T[o.segment+1]),F=o.dist(T[o.segment]);const N={};for(let X=o.segment+1;X<T.length;X++)N[X]={x:T[X].x,y:T[X].y,tileUnitDistanceFromAnchor:O},X<T.length-1&&(O+=T[X+1].dist(T[X]));for(let X=o.segment||0;X>=0;X--)N[X]={x:T[X].x,y:T[X].y,tileUnitDistanceFromAnchor:F},X>0&&(F+=T[X-1].dist(T[X]));for(let X=0;X<T.length;X++){const K=N[X];this.lineVertexArray.emplaceBack(K.x,K.y,K.tileUnitDistanceFromAnchor)}}return{lineStartIndex:I,lineLength:this.lineVertexArray.length-I}}addSymbols(o,T,I,O,F,N,X,K,ne,ce,he,ye){const Te=o.indexArray,Le=o.layoutVertexArray,it=o.segments.prepareSegment(4*T.length,Le,Te,this.canOverlap?N.sortKey:void 0),xt=this.glyphOffsetArray.length,Ot=it.vertexLength,Zt=this.allowVerticalPlacement&&X===Pa.vertical?Math.PI/2:0,ar=N.text&&N.text.sections;for(let vr=0;vr<T.length;vr++){const{tl:yr,tr:br,bl:Qr,br:qr,tex:Ur,pixelOffsetTL:an,pixelOffsetBR:Dr,minFontScaleX:zr,minFontScaleY:Ar,glyphOffset:Fr,isSDF:Nn,sectionIndex:Yn}=T[vr],ni=it.vertexLength,ii=Fr[1];Mc(Le,K.x,K.y,yr.x,ii+yr.y,Ur.x,Ur.y,I,Nn,an.x,an.y,zr,Ar),Mc(Le,K.x,K.y,br.x,ii+br.y,Ur.x+Ur.w,Ur.y,I,Nn,Dr.x,an.y,zr,Ar),Mc(Le,K.x,K.y,Qr.x,ii+Qr.y,Ur.x,Ur.y+Ur.h,I,Nn,an.x,Dr.y,zr,Ar),Mc(Le,K.x,K.y,qr.x,ii+qr.y,Ur.x+Ur.w,Ur.y+Ur.h,I,Nn,Dr.x,Dr.y,zr,Ar),fu(o.dynamicLayoutVertexArray,K,Zt),Te.emplaceBack(ni,ni+1,ni+2),Te.emplaceBack(ni+1,ni+2,ni+3),it.vertexLength+=4,it.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Fr[0]),vr!==T.length-1&&Yn===T[vr+1].sectionIndex||o.programConfigurations.populatePaintArrays(Le.length,N,N.index,{},ye,ar&&ar[Yn])}o.placedSymbolArray.emplaceBack(K.x,K.y,xt,this.glyphOffsetArray.length-xt,Ot,ne,ce,K.segment,I?I[0]:0,I?I[1]:0,O[0],O[1],X,0,!1,0,he)}_commitLayoutVertex(o,T,I,O,F){o.emplaceBack(T.x,T.y,I,O,Math.round(F.x),Math.round(F.y))}_addCollisionDebugVertices(o,T,I,O,F){const N=I.segments.prepareSegment(4,I.layoutVertexArray,I.indexArray),X=N.vertexLength,K=F.anchorX,ne=F.anchorY;for(let he=0;he<4;he++)I.collisionVertexArray.emplaceBack(0,0,0,0);I.collisionVertexArrayExt.emplaceBack(T,-o.padding,-o.padding),I.collisionVertexArrayExt.emplaceBack(T,o.padding,-o.padding),I.collisionVertexArrayExt.emplaceBack(T,o.padding,o.padding),I.collisionVertexArrayExt.emplaceBack(T,-o.padding,o.padding),this._commitLayoutVertex(I.layoutVertexArray,O,K,ne,new P(o.x1,o.y1)),this._commitLayoutVertex(I.layoutVertexArray,O,K,ne,new P(o.x2,o.y1)),this._commitLayoutVertex(I.layoutVertexArray,O,K,ne,new P(o.x2,o.y2)),this._commitLayoutVertex(I.layoutVertexArray,O,K,ne,new P(o.x1,o.y2)),N.vertexLength+=4;const ce=I.indexArray;ce.emplaceBack(X,X+1),ce.emplaceBack(X+1,X+2),ce.emplaceBack(X+2,X+3),ce.emplaceBack(X+3,X),N.primitiveLength+=4}_addTextDebugCollisionBoxes(o,T,I,O,F,N){for(let X=O;X<F;X++){const K=I.get(X),ne=this.getSymbolInstanceTextSize(o,N,T,X);this._addCollisionDebugVertices(K,ne,this.textCollisionBox,K.anchorPoint,N)}}_addIconDebugCollisionBoxes(o,T,I,O,F,N){for(let X=O;X<F;X++){const K=I.get(X),ne=this.getSymbolInstanceIconSize(o,T,X);this._addCollisionDebugVertices(K,ne,this.iconCollisionBox,K.anchorPoint,N)}}generateCollisionDebugBuffers(o,T){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new gu(yn,md.members,hi),this.iconCollisionBox=new gu(yn,md.members,hi);const I=Dl(this.iconSizeData,o),O=Dl(this.textSizeData,o);for(let F=0;F<this.symbolInstances.length;F++){const N=this.symbolInstances.get(F);this._addTextDebugCollisionBoxes(O,o,T,N.textBoxStartIndex,N.textBoxEndIndex,N),this._addTextDebugCollisionBoxes(O,o,T,N.verticalTextBoxStartIndex,N.verticalTextBoxEndIndex,N),this._addIconDebugCollisionBoxes(I,o,T,N.iconBoxStartIndex,N.iconBoxEndIndex,N),this._addIconDebugCollisionBoxes(I,o,T,N.verticalIconBoxStartIndex,N.verticalIconBoxEndIndex,N)}}getSymbolInstanceTextSize(o,T,I,O){const F=this.text.placedSymbolArray.get(T.rightJustifiedTextSymbolIndex>=0?T.rightJustifiedTextSymbolIndex:T.centerJustifiedTextSymbolIndex>=0?T.centerJustifiedTextSymbolIndex:T.leftJustifiedTextSymbolIndex>=0?T.leftJustifiedTextSymbolIndex:T.verticalPlacedTextSymbolIndex>=0?T.verticalPlacedTextSymbolIndex:O),N=xc(this.textSizeData,o,F)/24;return this.tilePixelRatio*N}getSymbolInstanceIconSize(o,T,I){const O=this.icon.placedSymbolArray.get(I),F=xc(this.iconSizeData,o,O);return this.tilePixelRatio*F}_commitDebugCollisionVertexUpdate(o,T,I){o.emplaceBack(T,-I,-I),o.emplaceBack(T,I,-I),o.emplaceBack(T,I,I),o.emplaceBack(T,-I,I)}_updateTextDebugCollisionBoxes(o,T,I,O,F,N){for(let X=O;X<F;X++){const K=I.get(X),ne=this.getSymbolInstanceTextSize(o,N,T,X);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,ne,K.padding)}}_updateIconDebugCollisionBoxes(o,T,I,O,F){for(let N=O;N<F;N++){const X=I.get(N),K=this.getSymbolInstanceIconSize(o,T,N);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,K,X.padding)}}updateCollisionDebugBuffers(o,T){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const I=Dl(this.iconSizeData,o),O=Dl(this.textSizeData,o);for(let F=0;F<this.symbolInstances.length;F++){const N=this.symbolInstances.get(F);this._updateTextDebugCollisionBoxes(O,o,T,N.textBoxStartIndex,N.textBoxEndIndex,N),this._updateTextDebugCollisionBoxes(O,o,T,N.verticalTextBoxStartIndex,N.verticalTextBoxEndIndex,N),this._updateIconDebugCollisionBoxes(I,o,T,N.iconBoxStartIndex,N.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(I,o,T,N.verticalIconBoxStartIndex,N.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(o,T,I,O,F,N,X,K,ne){const ce={};for(let he=T;he<I;he++){const ye=o.get(he);ce.textBox={x1:ye.x1,y1:ye.y1,x2:ye.x2,y2:ye.y2,padding:ye.padding,anchorPointX:ye.anchorPointX,anchorPointY:ye.anchorPointY},ce.textFeatureIndex=ye.featureIndex;break}for(let he=O;he<F;he++){const ye=o.get(he);ce.verticalTextBox={x1:ye.x1,y1:ye.y1,x2:ye.x2,y2:ye.y2,padding:ye.padding,anchorPointX:ye.anchorPointX,anchorPointY:ye.anchorPointY},ce.verticalTextFeatureIndex=ye.featureIndex;break}for(let he=N;he<X;he++){const ye=o.get(he);ce.iconBox={x1:ye.x1,y1:ye.y1,x2:ye.x2,y2:ye.y2,padding:ye.padding,anchorPointX:ye.anchorPointX,anchorPointY:ye.anchorPointY},ce.iconFeatureIndex=ye.featureIndex;break}for(let he=K;he<ne;he++){const ye=o.get(he);ce.verticalIconBox={x1:ye.x1,y1:ye.y1,x2:ye.x2,y2:ye.y2,padding:ye.padding,anchorPointX:ye.anchorPointX,anchorPointY:ye.anchorPointY},ce.verticalIconFeatureIndex=ye.featureIndex;break}return ce}deserializeCollisionBoxes(o){this.collisionArrays=[];for(let T=0;T<this.symbolInstances.length;T++){const I=this.symbolInstances.get(T);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(o,I.textBoxStartIndex,I.textBoxEndIndex,I.verticalTextBoxStartIndex,I.verticalTextBoxEndIndex,I.iconBoxStartIndex,I.iconBoxEndIndex,I.verticalIconBoxStartIndex,I.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(o,T){const I=o.placedSymbolArray.get(T),O=I.vertexStartIndex+4*I.numGlyphs;for(let F=I.vertexStartIndex;F<O;F+=4)o.indexArray.emplaceBack(F,F+1,F+2),o.indexArray.emplaceBack(F+1,F+2,F+3)}getSortedSymbolIndexes(o){if(this.sortedAngle===o&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const T=Math.sin(o),I=Math.cos(o),O=[],F=[],N=[];for(let X=0;X<this.symbolInstances.length;++X){N.push(X);const K=this.symbolInstances.get(X);O.push(0|Math.round(T*K.anchorX+I*K.anchorY)),F.push(K.featureIndex)}return N.sort((X,K)=>O[X]-O[K]||F[K]-F[X]),N}addToSortKeyRanges(o,T){const I=this.sortKeyRanges[this.sortKeyRanges.length-1];I&&I.sortKey===T?I.symbolInstanceEnd=o+1:this.sortKeyRanges.push({sortKey:T,symbolInstanceStart:o,symbolInstanceEnd:o+1})}sortFeatures(o){if(this.sortFeaturesByY&&this.sortedAngle!==o&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(o),this.sortedAngle=o,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const T of this.symbolInstanceIndexes){const I=this.symbolInstances.get(T);this.featureSortOrder.push(I.featureIndex),[I.rightJustifiedTextSymbolIndex,I.centerJustifiedTextSymbolIndex,I.leftJustifiedTextSymbolIndex].forEach((O,F,N)=>{O>=0&&N.indexOf(O)===F&&this.addIndicesForPlacedSymbol(this.text,O)}),I.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,I.verticalPlacedTextSymbolIndex),I.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,I.placedIconSymbolIndex),I.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,I.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}pe("SymbolBucket",nl,{omit:["layers","collisionBoxArray","features","compareText"]}),nl.MAX_GLYPHS=65535,nl.addDynamicAttributes=fu;const uf=new wt({"symbol-placement":new Fe(Et.layout_symbol["symbol-placement"]),"symbol-spacing":new Fe(Et.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Fe(Et.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Ge(Et.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Fe(Et.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Fe(Et.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Fe(Et.layout_symbol["icon-ignore-placement"]),"icon-optional":new Fe(Et.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Fe(Et.layout_symbol["icon-rotation-alignment"]),"icon-size":new Ge(Et.layout_symbol["icon-size"]),"icon-text-fit":new Fe(Et.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Fe(Et.layout_symbol["icon-text-fit-padding"]),"icon-image":new Ge(Et.layout_symbol["icon-image"]),"icon-rotate":new Ge(Et.layout_symbol["icon-rotate"]),"icon-padding":new Fe(Et.layout_symbol["icon-padding"]),"icon-keep-upright":new Fe(Et.layout_symbol["icon-keep-upright"]),"icon-offset":new Ge(Et.layout_symbol["icon-offset"]),"icon-anchor":new Ge(Et.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Fe(Et.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Fe(Et.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Fe(Et.layout_symbol["text-rotation-alignment"]),"text-field":new Ge(Et.layout_symbol["text-field"]),"text-font":new Ge(Et.layout_symbol["text-font"]),"text-size":new Ge(Et.layout_symbol["text-size"]),"text-max-width":new Ge(Et.layout_symbol["text-max-width"]),"text-line-height":new Ge(Et.layout_symbol["text-line-height"]),"text-letter-spacing":new Ge(Et.layout_symbol["text-letter-spacing"]),"text-justify":new Ge(Et.layout_symbol["text-justify"]),"text-radial-offset":new Ge(Et.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Fe(Et.layout_symbol["text-variable-anchor"]),"text-anchor":new Ge(Et.layout_symbol["text-anchor"]),"text-max-angle":new Fe(Et.layout_symbol["text-max-angle"]),"text-writing-mode":new Fe(Et.layout_symbol["text-writing-mode"]),"text-rotate":new Ge(Et.layout_symbol["text-rotate"]),"text-padding":new Fe(Et.layout_symbol["text-padding"]),"text-keep-upright":new Fe(Et.layout_symbol["text-keep-upright"]),"text-transform":new Ge(Et.layout_symbol["text-transform"]),"text-offset":new Ge(Et.layout_symbol["text-offset"]),"text-allow-overlap":new Fe(Et.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Fe(Et.layout_symbol["text-ignore-placement"]),"text-optional":new Fe(Et.layout_symbol["text-optional"])});var vu={paint:new wt({"icon-opacity":new Ge(Et.paint_symbol["icon-opacity"]),"icon-color":new Ge(Et.paint_symbol["icon-color"]),"icon-halo-color":new Ge(Et.paint_symbol["icon-halo-color"]),"icon-halo-width":new Ge(Et.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Ge(Et.paint_symbol["icon-halo-blur"]),"icon-translate":new Fe(Et.paint_symbol["icon-translate"]),"icon-translate-anchor":new Fe(Et.paint_symbol["icon-translate-anchor"]),"text-opacity":new Ge(Et.paint_symbol["text-opacity"]),"text-color":new Ge(Et.paint_symbol["text-color"],{runtimeType:In,getOverride:E=>E.textColor,hasOverride:E=>!!E.textColor}),"text-halo-color":new Ge(Et.paint_symbol["text-halo-color"]),"text-halo-width":new Ge(Et.paint_symbol["text-halo-width"]),"text-halo-blur":new Ge(Et.paint_symbol["text-halo-blur"]),"text-translate":new Fe(Et.paint_symbol["text-translate"]),"text-translate-anchor":new Fe(Et.paint_symbol["text-translate-anchor"])}),layout:uf};class Nd{constructor(o){this.type=o.property.overrides?o.property.overrides.runtimeType:ci,this.defaultValue=o}evaluate(o){if(o.formattedSection){const T=this.defaultValue.property.overrides;if(T&&T.hasOverride(o.formattedSection))return T.getOverride(o.formattedSection)}return o.feature&&o.featureState?this.defaultValue.evaluate(o.feature,o.featureState):this.defaultValue.property.specification.default}eachChild(o){this.defaultValue.isConstant()||o(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}pe("FormatSectionOverride",Nd,{omit:["defaultValue"]});class Ac extends us{constructor(o){super(o,vu)}recalculate(o,T){if(super.recalculate(o,T),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){const I=this.layout.get("text-writing-mode");if(I){const O=[];for(const F of I)O.indexOf(F)<0&&O.push(F);this.layout._values["text-writing-mode"]=O}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(o,T,I,O){const F=this.layout.get(o).evaluate(T,{},I,O),N=this._unevaluatedLayout._values[o];return N.isDataDriven()||Ms(N.value)||!F?F:function(X,K){return K.replace(/{([^{}]+)}/g,(ne,ce)=>ce in X?String(X[ce]):"")}(T.properties,F)}createBucket(o){return new nl(o)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const o of vu.paint.overridableProperties){if(!Ac.hasPaintOverride(this.layout,o))continue;const T=this.paint.get(o),I=new Nd(T),O=new al(I,T.property.specification);let F=null;F=T.value.kind==="constant"||T.value.kind==="source"?new vs("source",O):new ns("composite",O,T.value.zoomStops,T.value._interpolationType),this.paint._values[o]=new ze(T.property,F,T.parameters)}}_handleOverridablePaintPropertyUpdate(o,T,I){return!(!this.layout||T.isDataDriven()||I.isDataDriven())&&Ac.hasPaintOverride(this.layout,o)}static hasPaintOverride(o,T){const I=o.get("text-field"),O=vu.paint.properties[T];let F=!1;const N=X=>{for(const K of X)if(O.overrides&&O.overrides.hasOverride(K))return void(F=!0)};if(I.value.kind==="constant"&&I.value.value instanceof Ki)N(I.value.value.sections);else if(I.value.kind==="source"){const X=ne=>{F||(ne instanceof Wi&&Ii(ne.value)===Ui?N(ne.value.sections):ne instanceof ho?N(ne.sections):ne.eachChild(X))},K=I.value;K._styleExpression&&X(K._styleExpression.expression)}return F}getProgramConfiguration(o){return new zs(this,o)}}var df={paint:new wt({"background-color":new Fe(Et.paint_background["background-color"]),"background-pattern":new Je(Et.paint_background["background-pattern"]),"background-opacity":new Fe(Et.paint_background["background-opacity"])})},hf={paint:new wt({"raster-opacity":new Fe(Et.paint_raster["raster-opacity"]),"raster-hue-rotate":new Fe(Et.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Fe(Et.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Fe(Et.paint_raster["raster-brightness-max"]),"raster-saturation":new Fe(Et.paint_raster["raster-saturation"]),"raster-contrast":new Fe(Et.paint_raster["raster-contrast"]),"raster-resampling":new Fe(Et.paint_raster["raster-resampling"]),"raster-fade-duration":new Fe(Et.paint_raster["raster-fade-duration"])})};class pf extends us{constructor(o){super(o,{}),this.implementation=o}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){}serialize(){}onAdd(o){this.implementation.onAdd&&this.implementation.onAdd(o,o.painter.context.gl)}onRemove(o){this.implementation.onRemove&&this.implementation.onRemove(o,o.painter.context.gl)}}var ff={paint:new wt({"sky-type":new Fe(Et.paint_sky["sky-type"]),"sky-atmosphere-sun":new Fe(Et.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Fe(Et.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Fe(Et.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Fe(Et.paint_sky["sky-gradient-radius"]),"sky-gradient":new ht(Et.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Fe(Et.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Fe(Et.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Fe(Et.paint_sky["sky-opacity"])})};function yu(E,o,T){const I=Pl(0,0,1),O=Yu(Gc());return function(F,N,X){X*=.5;var K=N[0],ne=N[1],ce=N[2],he=N[3],ye=Math.sin(X),Te=Math.cos(X);F[0]=K*Te-ce*ye,F[1]=ne*Te+he*ye,F[2]=ce*Te+K*ye,F[3]=he*Te-ne*ye}(O,O,T?-U(E)+Math.PI:U(E)),Ku(O,O,-U(o)),Xu(I,I,O),Zu(I,I)}const mf={circle:class extends us{constructor(E){super(E,Lh)}createBucket(E){return new Nc(E)}queryRadius(E){const o=E;return Zl("circle-radius",this,o)+Zl("circle-stroke-width",this,o)+fc(this.paint.get("circle-translate"))}queryIntersectsFeature(E,o,T,I,O,F,N,X){const K=this.paint.get("circle-pitch-alignment")==="map";if(K&&E.queryGeometry.isAboveHorizon)return!1;const ne=ju(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),F.angle,E.pixelToTileUnitsFactor),ce=this.paint.get("circle-radius").evaluate(o,T)+this.paint.get("circle-stroke-width").evaluate(o,T),he=K?ce*E.pixelToTileUnitsFactor:ce;for(const ye of I)for(const Te of ye){const Le=Te.add(ne),it=X&&F.elevation?F.elevation.exaggeration()*X.getElevationAt(Le.x,Le.y,!0):0,xt=K?Le:jh(Le,it,N),Ot=K?E.tilespaceRays.map(vr=>Uh(vr,it)):E.queryGeometry.screenGeometry;let Zt=he;const ar=Yl([],[Te.x,Te.y,it,1],N);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?Zt*=ar[3]/F.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(Zt*=F.cameraToCenterDistance/ar[3]),Ph(Ot,xt,Zt))return!0}return!1}getProgramIds(){return["circle"]}getProgramConfiguration(E){return new zs(this,E)}},heatmap:class extends us{createBucket(E){return new Qu(E)}constructor(E){super(E,Gh),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(E){E==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=Wc({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(E){return new zs(this,E)}},hillshade:class extends us{constructor(E){super(E,Hh)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}getProgramConfiguration(E){return new zs(this,E)}},fill:class extends us{constructor(E){super(E,lp)}getProgramIds(){const E=this.paint.get("fill-pattern"),o=E&&E.constantOr(1),T=[o?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&T.push(o&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),T}getProgramConfiguration(E){return new zs(this,E)}recalculate(E,o){super.recalculate(E,o);const T=this.paint._values["fill-outline-color"];T.value.kind==="constant"&&T.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(E){return new tu(E)}queryRadius(){return fc(this.paint.get("fill-translate"))}queryIntersectsFeature(E,o,T,I,O,F){return!E.queryGeometry.isAboveHorizon&&Lu(Nu(E.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),F.angle,E.pixelToTileUnitsFactor),I)}isTileClipped(){return!0}},"fill-extrusion":class extends us{constructor(E){super(E,yp)}createBucket(E){return new ru(E)}queryRadius(){return fc(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(E){return new zs(this,E)}queryIntersectsFeature(E,o,T,I,O,F,N,X,K){const ne=ju(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),F.angle,E.pixelToTileUnitsFactor),ce=this.paint.get("fill-extrusion-height").evaluate(o,T),he=this.paint.get("fill-extrusion-base").evaluate(o,T),ye=[0,0],Te=X&&F.elevation,Le=F.elevation?F.elevation.exaggeration():1;if(Te){const Ot=E.tile.getBucket(this).centroidVertexArray,Zt=K+1;if(Zt<Ot.length){const ar=Ot.get(Zt);ye[0]=ar.a_centroid_pos0,ye[1]=ar.a_centroid_pos1}}if(ye[0]===0&&ye[1]===1)return!1;const it=function(Ot,Zt,ar,vr,yr,br,Qr,qr,Ur){return br?function(an,Dr,zr,Ar,Fr,Nn,Yn,ni,ii){const Oi=[],_i=[],Vn=[0,0,0,1];for(const mo of an){const To=[],lo=[];for(const ko of mo){const Bo=ko.x+Ar.x,Do=ko.y+Ar.y,no=bp(Bo,Do,Dr,zr,Nn,Yn,ni,ii);Vn[0]=Bo,Vn[1]=Do,Vn[2]=no.base,Vn[3]=1,Yl(Vn,Vn,Fr),Vn[3]=Math.max(Vn[3],1e-5);const co=dd([Vn[0]/Vn[3],Vn[1]/Vn[3],Vn[2]/Vn[3]]);Vn[0]=Bo,Vn[1]=Do,Vn[2]=no.top,Vn[3]=1,Yl(Vn,Vn,Fr),Vn[3]=Math.max(Vn[3],1e-5);const wo=dd([Vn[0]/Vn[3],Vn[1]/Vn[3],Vn[2]/Vn[3]]);To.push(co),lo.push(wo)}Oi.push(To),_i.push(lo)}return[Oi,_i]}(Ot,Zt,ar,vr,yr,br,Qr,qr,Ur):function(an,Dr,zr,Ar,Fr){const Nn=[],Yn=[],ni=Fr[8]*Dr,ii=Fr[9]*Dr,Oi=Fr[10]*Dr,_i=Fr[11]*Dr,Vn=Fr[8]*zr,mo=Fr[9]*zr,To=Fr[10]*zr,lo=Fr[11]*zr;for(const ko of an){const Bo=[],Do=[];for(const no of ko){const co=no.x+Ar.x,wo=no.y+Ar.y,Ro=Fr[0]*co+Fr[4]*wo+Fr[12],No=Fr[1]*co+Fr[5]*wo+Fr[13],Bi=Fr[2]*co+Fr[6]*wo+Fr[14],Di=Fr[3]*co+Fr[7]*wo+Fr[15],go=Ro+ni,ai=No+ii,Ha=Bi+Oi,qi=Math.max(Di+_i,1e-5),wa=Ro+Vn,Io=No+mo,Qa=Bi+To,es=Math.max(Di+lo,1e-5),ol=new P(go/qi,ai/qi);ol.z=Ha/qi,Bo.push(ol);const hs=new P(wa/es,Io/es);hs.z=Qa/es,Do.push(hs)}Nn.push(Bo),Yn.push(Do)}return[Nn,Yn]}(Ot,Zt,ar,vr,yr)}(I,he,ce,ne,N,Te?X:null,ye,Le,F.center.lat),xt=E.queryGeometry;return function(Ot,Zt,ar){let vr=1/0;Lu(ar,Zt)&&(vr=ud(ar,Zt[0]));for(let yr=0;yr<Zt.length;yr++){const br=Zt[yr],Qr=Ot[yr];for(let qr=0;qr<br.length-1;qr++){const Ur=br[qr],an=[Ur,br[qr+1],Qr[qr+1],Qr[qr],Ur];Ru(ar,an)&&(vr=Math.min(vr,ud(ar,an)))}}return vr!==1/0&&vr}(it[0],it[1],xt.isPointQuery()?xt.screenBounds:xt.screenGeometry)}},line:class extends us{constructor(E){super(E,hd),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(E){if(E==="line-gradient"){const o=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=o._styleExpression&&o._styleExpression.expression instanceof Un,this.gradientVersion=(this.gradientVersion+1)%B}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(E,o){super.recalculate(E,o),this.paint._values["line-floorwidth"]=pd.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,E)}createBucket(E){return new nu(E)}getProgramIds(){const E=this.paint.get("line-dasharray"),o=this.paint.get("line-pattern").constantOr(1),T=this.paint.get("line-gradient");return[o?"linePattern":E?"lineSDF":T?"lineGradient":"line"]}getProgramConfiguration(E){return new zs(this,E)}queryRadius(E){const o=E,T=fd(Zl("line-width",this,o),Zl("line-gap-width",this,o)),I=Zl("line-offset",this,o);return T/2+Math.abs(I)+fc(this.paint.get("line-translate"))}queryIntersectsFeature(E,o,T,I,O,F){if(E.queryGeometry.isAboveHorizon)return!1;const N=Nu(E.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),F.angle,E.pixelToTileUnitsFactor),X=E.pixelToTileUnitsFactor/2*fd(this.paint.get("line-width").evaluate(o,T),this.paint.get("line-gap-width").evaluate(o,T)),K=this.paint.get("line-offset").evaluate(o,T);return K&&(I=function(ne,ce){const he=[],ye=new P(0,0);for(let Te=0;Te<ne.length;Te++){const Le=ne[Te],it=[];for(let xt=0;xt<Le.length;xt++){const Ot=Le[xt-1],Zt=Le[xt],ar=Le[xt+1],vr=xt===0?ye:Zt.sub(Ot)._unit()._perp(),yr=xt===Le.length-1?ye:ar.sub(Zt)._unit()._perp(),br=vr._add(yr)._unit();br._mult(1/(br.x*yr.x+br.y*yr.y)),it.push(br._mult(ce)._add(Zt))}he.push(it)}return he}(I,K*E.pixelToTileUnitsFactor)),function(ne,ce,he){for(let ye=0;ye<ce.length;ye++){const Te=ce[ye];if(ne.length>=3){for(let Le=0;Le<Te.length;Le++)if(Al(ne,Te[Le]))return!0}if(Oh(ne,Te,he))return!0}return!1}(N,I,X)}isTileClipped(){return!0}},symbol:Ac,background:class extends us{constructor(E){super(E,df)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends us{constructor(E){super(E,hf)}getProgramIds(){return["raster"]}},sky:class extends us{constructor(E){super(E,ff),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(E){E==="sky-gradient"?this._updateColorRamp():E!=="sky-atmosphere-sun"&&E!=="sky-atmosphere-halo-color"&&E!=="sky-atmosphere-color"&&E!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=Wc({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(E){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const o=E.style.light.properties.get("position");return this._lightPosition.azimuthal!==o.azimuthal||this._lightPosition.polar!==o.polar}}getCenter(E,o){const T=this.paint.get("sky-type");if(T==="atmosphere"){const I=this.paint.get("sky-atmosphere-sun"),O=!I,F=E.style.light,N=F.properties.get("position");return O&&F.properties.get("anchor")==="viewport"&&at("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),O?yu(N.azimuthal,90-N.polar,o):yu(I[0],90-I[1],o)}if(T==="gradient"){const I=this.paint.get("sky-gradient-center");return yu(I[0],90-I[1],o)}}is3D(){return!1}isSky(){return!0}markSkyboxValid(E){this._skyboxInvalidated=!1,this._lightPosition=E.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const E=this.paint.get("sky-type");return E==="atmosphere"?["skyboxCapture","skybox"]:E==="gradient"?["skyboxGradient"]:null}}},{HTMLImageElement:jd,HTMLCanvasElement:Vd,HTMLVideoElement:Ud,ImageData:Gd,ImageBitmap:Pc}=R;class Oc{constructor(o,T,I,O){this.context=o,this.format=I,this.texture=o.gl.createTexture(),this.update(T,O)}update(o,T,I){const{width:O,height:F}=o,N=!(this.size&&this.size[0]===O&&this.size[1]===F||I),{context:X}=this,{gl:K}=X;if(this.useMipmap=Boolean(T&&T.useMipmap),K.bindTexture(K.TEXTURE_2D,this.texture),X.pixelStoreUnpackFlipY.set(!1),X.pixelStoreUnpack.set(1),X.pixelStoreUnpackPremultiplyAlpha.set(this.format===K.RGBA&&(!T||T.premultiply!==!1)),N)this.size=[O,F],o instanceof jd||o instanceof Vd||o instanceof Ud||o instanceof Gd||Pc&&o instanceof Pc?K.texImage2D(K.TEXTURE_2D,0,this.format,this.format,K.UNSIGNED_BYTE,o):K.texImage2D(K.TEXTURE_2D,0,this.format,O,F,0,this.format,K.UNSIGNED_BYTE,o.data);else{const{x:ne,y:ce}=I||{x:0,y:0};o instanceof jd||o instanceof Vd||o instanceof Ud||o instanceof Gd||Pc&&o instanceof Pc?K.texSubImage2D(K.TEXTURE_2D,0,ne,ce,K.RGBA,K.UNSIGNED_BYTE,o):K.texSubImage2D(K.TEXTURE_2D,0,ne,ce,O,F,K.RGBA,K.UNSIGNED_BYTE,o.data)}this.useMipmap&&this.isSizePowerOfTwo()&&K.generateMipmap(K.TEXTURE_2D)}bind(o,T,I){const{context:O}=this,{gl:F}=O;F.bindTexture(F.TEXTURE_2D,this.texture),I!==F.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(I=F.LINEAR),o!==this.filter&&(F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,o),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,I||o),this.filter=o),T!==this.wrap&&(F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_S,T),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_WRAP_T,T),this.wrap=T)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:o}=this.context;o.deleteTexture(this.texture),this.texture=null}}class bl{constructor(o,T){o&&(T?this.setSouthWest(o).setNorthEast(T):o.length===4?this.setSouthWest([o[0],o[1]]).setNorthEast([o[2],o[3]]):this.setSouthWest(o[0]).setNorthEast(o[1]))}setNorthEast(o){return this._ne=o instanceof ro?new ro(o.lng,o.lat):ro.convert(o),this}setSouthWest(o){return this._sw=o instanceof ro?new ro(o.lng,o.lat):ro.convert(o),this}extend(o){const T=this._sw,I=this._ne;let O,F;if(o instanceof ro)O=o,F=o;else{if(!(o instanceof bl))return Array.isArray(o)?o.length===4||o.every(Array.isArray)?this.extend(bl.convert(o)):this.extend(ro.convert(o)):this;if(O=o._sw,F=o._ne,!O||!F)return this}return T||I?(T.lng=Math.min(O.lng,T.lng),T.lat=Math.min(O.lat,T.lat),I.lng=Math.max(F.lng,I.lng),I.lat=Math.max(F.lat,I.lat)):(this._sw=new ro(O.lng,O.lat),this._ne=new ro(F.lng,F.lat)),this}getCenter(){return new ro((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new ro(this.getWest(),this.getNorth())}getSouthEast(){return new ro(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(o){const{lng:T,lat:I}=ro.convert(o);let O=this._sw.lng<=T&&T<=this._ne.lng;return this._sw.lng>this._ne.lng&&(O=this._sw.lng>=T&&T>=this._ne.lng),this._sw.lat<=I&&I<=this._ne.lat&&O}static convert(o){return!o||o instanceof bl?o:new bl(o)}}const Hd=63710088e-1;class ro{constructor(o,T){if(isNaN(o)||isNaN(T))throw new Error(`Invalid LngLat object: (${o}, ${T})`);if(this.lng=+o,this.lat=+T,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new ro(oe(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(o){const T=Math.PI/180,I=this.lat*T,O=o.lat*T,F=Math.sin(I)*Math.sin(O)+Math.cos(I)*Math.cos(O)*Math.cos((o.lng-this.lng)*T);return Hd*Math.acos(Math.min(F,1))}toBounds(o=0){const T=360*o/40075017,I=T/Math.cos(Math.PI/180*this.lat);return new bl(new ro(this.lng-I,this.lat-T),new ro(this.lng+I,this.lat+T))}static convert(o){if(o instanceof ro)return o;if(Array.isArray(o)&&(o.length===2||o.length===3))return new ro(Number(o[0]),Number(o[1]));if(!Array.isArray(o)&&typeof o=="object"&&o!==null)return new ro(Number("lng"in o?o.lng:o.lon),Number(o.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const qd=2*Math.PI*Hd;function Wd(E){return qd*Math.cos(E*Math.PI/180)}function Zd(E){return(180+E)/360}function Xd(E){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+E*Math.PI/360)))/360}function bu(E,o){return E/Wd(o)}function $c(E){return 360/Math.PI*Math.atan(Math.exp((180-360*E)*Math.PI/180))-90}function _u(E,o){return E*Wd($c(o))}class jl{constructor(o,T,I=0){this.x=+o,this.y=+T,this.z=+I}static fromLngLat(o,T=0){const I=ro.convert(o);return new jl(Zd(I.lng),Xd(I.lat),bu(T,I.lat))}toLngLat(){return new ro(360*this.x-180,$c(this.y))}toAltitude(){return _u(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/qd*(o=$c(this.y),1/Math.cos(o*Math.PI/180));var o}}class xu{constructor(o,T){this.width=o,this.height=T,this.nextRow=0,this.image=new Qs({width:o,height:T}),this.positions={},this.uploaded=!1}getDash(o,T){const I=this.getKey(o,T);return this.positions[I]}trim(){const o=this.width,T=this.height=ke(this.nextRow);this.image.resize({width:o,height:T})}getKey(o,T){return o.join(",")+T}getDashRanges(o,T,I){const O=[];let F=o.length%2==1?-o[o.length-1]*I:0,N=o[0]*I,X=!0;O.push({left:F,right:N,isDash:X,zeroLength:o[0]===0});let K=o[0];for(let ne=1;ne<o.length;ne++){X=!X;const ce=o[ne];F=K*I,K+=ce,N=K*I,O.push({left:F,right:N,isDash:X,zeroLength:ce===0})}return O}addRoundDash(o,T,I){const O=T/2;for(let F=-I;F<=I;F++){const N=this.width*(this.nextRow+I+F);let X=0,K=o[X];for(let ne=0;ne<this.width;ne++){ne/K.right>1&&(K=o[++X]);const ce=Math.abs(ne-K.left),he=Math.abs(ne-K.right),ye=Math.min(ce,he);let Te;const Le=F/I*(O+1);if(K.isDash){const it=O-Math.abs(Le);Te=Math.sqrt(ye*ye+it*it)}else Te=O-Math.sqrt(ye*ye+Le*Le);this.image.data[N+ne]=Math.max(0,Math.min(255,Te+128))}}}addRegularDash(o,T){for(let K=o.length-1;K>=0;--K){const ne=o[K],ce=o[K+1];ne.zeroLength?o.splice(K,1):ce&&ce.isDash===ne.isDash&&(ce.left=ne.left,o.splice(K,1))}const I=o[0],O=o[o.length-1];I.isDash===O.isDash&&(I.left=O.left-this.width,O.right=I.right+this.width);const F=this.width*this.nextRow;let N=0,X=o[N];for(let K=0;K<this.width;K++){K/X.right>1&&(X=o[++N]);const ne=Math.abs(K-X.left),ce=Math.abs(K-X.right),he=Math.min(ne,ce);this.image.data[F+K]=Math.max(0,Math.min(255,(X.isDash?he:-he)+T+128))}}addDash(o,T){const I=this.getKey(o,T);if(this.positions[I])return this.positions[I];const O=T==="round",F=O?7:0,N=2*F+1;if(this.nextRow+N>this.height)return at("LineAtlas out of space"),null;o.length===0&&o.push(1);let X=0;for(let ce=0;ce<o.length;ce++)o[ce]<0&&(at("Negative value is found in line dasharray, replacing values with 0"),o[ce]=0),X+=o[ce];if(X!==0){const ce=this.width/X,he=this.getDashRanges(o,this.width,ce);O?this.addRoundDash(he,ce,F):this.addRegularDash(he,T==="square"?.5*ce:0)}const K=this.nextRow+F;this.nextRow+=N;const ne={tl:[K,F],br:[X,0]};return this.positions[I]=ne,ne}}pe("LineAtlas",xu);class gf{constructor(o){this._callback=o,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){delete this._channel,this._callback=()=>{}}}const vf=R.performance;function Yd(E){const o=E?E.url.toString():void 0;return vf.getEntriesByName(o)}class yf{constructor(){this.tasks={},this.taskQueue=[],He(["process"],this),this.invoker=new gf(this.process),this.nextId=0}add(o,T){const I=this.nextId++,O=function({type:F,isSymbolTile:N,zoom:X}){return X=X||0,F==="message"?0:F!=="maybePrepare"||N?F!=="parseTile"||N?F==="parseTile"&&N?300-X:F==="maybePrepare"&&N?400-X:500:200-X:100-X}(T);if(O===0){tt();try{o()}finally{}return{cancel:()=>{}}}return this.tasks[I]={fn:o,metadata:T,priority:O,id:I},this.taskQueue.push(I),this.invoker.trigger(),{cancel:()=>{delete this.tasks[I]}}}process(){tt();try{if(this.taskQueue=this.taskQueue.filter(I=>!!this.tasks[I]),!this.taskQueue.length)return;const o=this.pick();if(o===null)return;const T=this.tasks[o];if(delete this.tasks[o],this.taskQueue.length&&this.invoker.trigger(),!T)return;T.fn()}finally{}}pick(){let o=null,T=1/0;for(let O=0;O<this.taskQueue.length;O++){const F=this.tasks[this.taskQueue[O]];F.priority<T&&(T=F.priority,o=O)}if(o===null)return null;const I=this.taskQueue[o];return this.taskQueue.splice(o,1),I}remove(){this.invoker.remove()}}function Kd(E,o,T){var I=2*Math.PI*6378137/256/Math.pow(2,T);return[E*I-2*Math.PI*6378137/2,o*I-2*Math.PI*6378137/2]}class wu{constructor(o,T,I){this.z=o,this.x=T,this.y=I,this.key=sc(0,o,o,T,I)}equals(o){return this.z===o.z&&this.x===o.x&&this.y===o.y}url(o,T){const I=(F=this.y,N=this.z,X=Kd(256*(O=this.x),256*(F=Math.pow(2,N)-F-1),N),K=Kd(256*(O+1),256*(F+1),N),X[0]+","+X[1]+","+K[0]+","+K[1]);var O,F,N,X,K;const ne=function(ce,he,ye){let Te,Le="";for(let it=ce;it>0;it--)Te=1<<it-1,Le+=(he&Te?1:0)+(ye&Te?2:0);return Le}(this.z,this.x,this.y);return o[(this.x+this.y)%o.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(T==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",ne).replace("{bbox-epsg-3857}",I)}getTilePoint(o){const T=Math.pow(2,this.z);return new P((o.x*T-this.x)*Ti,(o.y*T-this.y)*Ti)}getTileVec3(o){const T=Math.pow(2,this.z);return Pl((o.x*T-this.x)*Ti,(o.y*T-this.y)*Ti,_u(o.z,o.y))}toString(){return`${this.z}/${this.x}/${this.y}`}}class Jd{constructor(o,T){this.wrap=o,this.canonical=T,this.key=sc(o,T.z,T.z,T.x,T.y)}}class xa{constructor(o,T,I,O,F){this.overscaledZ=o,this.wrap=T,this.canonical=new wu(I,+O,+F),this.key=T===0&&o===I?this.canonical.key:sc(T,o,I,O,F)}equals(o){return this.overscaledZ===o.overscaledZ&&this.wrap===o.wrap&&this.canonical.equals(o.canonical)}scaledTo(o){const T=this.canonical.z-o;return o>this.canonical.z?new xa(o,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new xa(o,this.wrap,o,this.canonical.x>>T,this.canonical.y>>T)}calculateScaledKey(o,T=!0){if(this.overscaledZ===o&&T)return this.key;if(o>this.canonical.z)return sc(this.wrap*+T,o,this.canonical.z,this.canonical.x,this.canonical.y);{const I=this.canonical.z-o;return sc(this.wrap*+T,o,o,this.canonical.x>>I,this.canonical.y>>I)}}isChildOf(o){if(o.wrap!==this.wrap)return!1;const T=this.canonical.z-o.canonical.z;return o.overscaledZ===0||o.overscaledZ<this.overscaledZ&&o.canonical.x===this.canonical.x>>T&&o.canonical.y===this.canonical.y>>T}children(o){if(this.overscaledZ>=o)return[new xa(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const T=this.canonical.z+1,I=2*this.canonical.x,O=2*this.canonical.y;return[new xa(T,this.wrap,T,I,O),new xa(T,this.wrap,T,I+1,O),new xa(T,this.wrap,T,I,O+1),new xa(T,this.wrap,T,I+1,O+1)]}isLessThan(o){return this.wrap<o.wrap||!(this.wrap>o.wrap)&&(this.overscaledZ<o.overscaledZ||!(this.overscaledZ>o.overscaledZ)&&(this.canonical.x<o.canonical.x||!(this.canonical.x>o.canonical.x)&&this.canonical.y<o.canonical.y))}wrapped(){return new xa(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(o){return new xa(this.overscaledZ,o,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Jd(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(o){return this.canonical.getTilePoint(new jl(o.x-this.wrap,o.y))}getTileVec3(o){return this.canonical.getTileVec3(new jl(o.x-this.wrap,o.y,o.z))}}function sc(E,o,T,I,O){const F=1<<Math.min(T,22);let N=F*(O%F)+I%F;return E&&T<22&&(N+=F*F*((E<0?-2*E-1:2*E)%(1<<2*(22-T)))),16*(32*N+T)+(o-T)}pe("CanonicalTileID",wu),pe("OverscaledTileID",xa,{omit:["projMatrix"]});class Qd{constructor(o){this._stringToNumber={},this._numberToString=[];for(let T=0;T<o.length;T++){const I=o[T];this._stringToNumber[I]=T,this._numberToString[T]=I}}encode(o){return this._stringToNumber[o]}decode(o){return this._numberToString[o]}}class eh{constructor(o,T,I,O,F){this.type="Feature",this._vectorTileFeature=o,o._z=T,o._x=I,o._y=O,this.properties=o.properties,this.id=F}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(o){this._geometry=o}toJSON(){const o={geometry:this.geometry};for(const T in this)T!=="_geometry"&&T!=="_vectorTileFeature"&&(o[T]=this[T]);return o}}var bf=Sr([{name:"a_pos",type:"Int16",components:2}]);class th{constructor(o,T,I){this.tileID=o,this.uid=$e(),this.uses=0,this.tileSize=T,this.tileZoom=I,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(o){const T=o+this.timeAdded;T<Ht.now()||this.fadeEndTime&&T<this.fadeEndTime||(this.fadeEndTime=T)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}loadVectorData(o,T,I){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",o){o.featureIndex&&(this.latestFeatureIndex=o.featureIndex,o.rawTileData?(this.latestRawTileData=o.rawTileData,this.latestFeatureIndex.rawTileData=o.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=o.collisionBoxArray,this.buckets=function(O,F){const N={};if(!F)return N;for(const X of O){const K=X.layerIds.map(ne=>F.getLayer(ne)).filter(Boolean);if(K.length!==0){X.layers=K,X.stateDependentLayerIds&&(X.stateDependentLayers=X.stateDependentLayerIds.map(ne=>K.filter(ce=>ce.id===ne)[0]));for(const ne of K)N[ne.id]=X}}return N}(o.buckets,T.style),this.hasSymbolBuckets=!1;for(const O in this.buckets){const F=this.buckets[O];if(F instanceof nl){if(this.hasSymbolBuckets=!0,!I)break;F.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const O in this.buckets){const F=this.buckets[O];if(F instanceof nl&&F.hasRTLText){this.hasRTLText=!0,G.isLoading()||G.isLoaded()||A()!=="deferred"||L();break}}this.queryPadding=0;for(const O in this.buckets){const F=this.buckets[O];this.queryPadding=Math.max(this.queryPadding,T.style.getLayer(O).queryRadius(F))}o.imageAtlas&&(this.imageAtlas=o.imageAtlas),o.glyphAtlasImage&&(this.glyphAtlasImage=o.glyphAtlasImage),o.lineAtlas&&(this.lineAtlas=o.lineAtlas)}else this.collisionBoxArray=new ao}unloadVectorData(){for(const o in this.buckets)this.buckets[o].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(o){return this.buckets[o.id]}upload(o){for(const I in this.buckets){const O=this.buckets[I];O.uploadPending()&&O.upload(o)}const T=o.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Oc(o,this.imageAtlas.image,T.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Oc(o,this.glyphAtlasImage,T.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new Oc(o,this.lineAtlas.image,T.ALPHA),this.lineAtlas.uploaded=!0)}prepare(o){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(o,this.imageAtlasTexture)}queryRenderedFeatures(o,T,I,O,F,N,X,K){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:O,pixelPosMatrix:X,transform:N,params:F},o,T,I):{}}querySourceFeatures(o,T){const I=this.latestFeatureIndex;if(!I||!I.rawTileData)return;const O=I.loadVTLayers(),F=T?T.sourceLayer:"",N=O._geojsonTileLayer||O[F];if(!N)return;const X=Ba(T&&T.filter),{z:K,x:ne,y:ce}=this.tileID.canonical,he={z:K,x:ne,y:ce};for(let ye=0;ye<N.length;ye++){const Te=N.feature(ye);if(X.needGeometry){const xt=vl(Te,!0);if(!X.filter(new H(this.tileID.overscaledZ),xt,this.tileID.canonical))continue}else if(!X.filter(new H(this.tileID.overscaledZ),Te))continue;const Le=I.getId(Te,F),it=new eh(Te,K,ne,ce,Le);it.tile=he,o.push(it)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(o){const T=this.expirationTime;if(o.cacheControl){const I=We(o.cacheControl);I["max-age"]&&(this.expirationTime=Date.now()+1e3*I["max-age"])}else o.expires&&(this.expirationTime=new Date(o.expires).getTime());if(this.expirationTime){const I=Date.now();let O=!1;if(this.expirationTime>I)O=!1;else if(T)if(this.expirationTime<T)O=!0;else{const F=this.expirationTime-T;F?this.expirationTime=I+Math.max(F,3e4):O=!0}else O=!0;O?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(o,T){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(o).length===0)return;const I=this.latestFeatureIndex.loadVTLayers();for(const O in this.buckets){if(!T.style.hasLayer(O))continue;const F=this.buckets[O],N=F.layers[0].sourceLayer||"_geojsonTileLayer",X=I[N],K=o[N];if(!X||!K||Object.keys(K).length===0)continue;F.update(K,X,this.imageAtlas&&this.imageAtlas.patternPositions||{});const ne=T&&T.style&&T.style.getLayer(O);ne&&(this.queryPadding=Math.max(this.queryPadding,ne.queryRadius(F)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Ht.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(o){this.symbolFadeHoldUntil=Ht.now()+o}setDependencies(o,T){const I={};for(const O of T)I[O]=!0;this.dependencies[o]=I}hasDependency(o,T){for(const I of o){const O=this.dependencies[I];if(O){for(const F of T)if(O[F])return!0}}return!1}clearQueryDebugViz(){}}class _f{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(o,T,I){const O=String(T);if(this.stateChanges[o]=this.stateChanges[o]||{},this.stateChanges[o][O]=this.stateChanges[o][O]||{},ge(this.stateChanges[o][O],I),this.deletedStates[o]===null){this.deletedStates[o]={};for(const F in this.state[o])F!==O&&(this.deletedStates[o][F]=null)}else if(this.deletedStates[o]&&this.deletedStates[o][O]===null){this.deletedStates[o][O]={};for(const F in this.state[o][O])I[F]||(this.deletedStates[o][O][F]=null)}else for(const F in I)this.deletedStates[o]&&this.deletedStates[o][O]&&this.deletedStates[o][O][F]===null&&delete this.deletedStates[o][O][F]}removeFeatureState(o,T,I){if(this.deletedStates[o]===null)return;const O=String(T);if(this.deletedStates[o]=this.deletedStates[o]||{},I&&T!==void 0)this.deletedStates[o][O]!==null&&(this.deletedStates[o][O]=this.deletedStates[o][O]||{},this.deletedStates[o][O][I]=null);else if(T!==void 0)if(this.stateChanges[o]&&this.stateChanges[o][O])for(I in this.deletedStates[o][O]={},this.stateChanges[o][O])this.deletedStates[o][O][I]=null;else this.deletedStates[o][O]=null;else this.deletedStates[o]=null}getState(o,T){const I=String(T),O=ge({},(this.state[o]||{})[I],(this.stateChanges[o]||{})[I]);if(this.deletedStates[o]===null)return{};if(this.deletedStates[o]){const F=this.deletedStates[o][T];if(F===null)return{};for(const N in F)delete O[N]}return O}initializeTileState(o,T){o.setFeatureState(this.state,T)}coalesceChanges(o,T){const I={};for(const O in this.stateChanges){this.state[O]=this.state[O]||{};const F={};for(const N in this.stateChanges[O])this.state[O][N]||(this.state[O][N]={}),ge(this.state[O][N],this.stateChanges[O][N]),F[N]=this.state[O][N];I[O]=F}for(const O in this.deletedStates){this.state[O]=this.state[O]||{};const F={};if(this.deletedStates[O]===null)for(const N in this.state[O])F[N]={},this.state[O][N]={};else for(const N in this.deletedStates[O]){if(this.deletedStates[O][N]===null)this.state[O][N]={};else for(const X of Object.keys(this.deletedStates[O][N]))delete this.state[O][N][X];F[N]=this.state[O][N]}I[O]=I[O]||{},ge(I[O],F)}if(this.stateChanges={},this.deletedStates={},Object.keys(I).length!==0)for(const O in o)o[O].setFeatureState(I,T)}}class rh{constructor(o){this.size=o,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(o,T){const I=this.toIdx(o,T);return{min:this.minimums[I],max:this.maximums[I]}}isLeaf(o,T){return this.leaves[this.toIdx(o,T)]}toIdx(o,T){return T*this.size+o}}function nh(E,o,T,I){let O=0,F=Number.MAX_VALUE;for(let N=0;N<3;N++)if(Math.abs(I[N])<1e-15){if(T[N]<E[N]||T[N]>o[N])return null}else{const X=1/I[N];let K=(E[N]-T[N])*X,ne=(o[N]-T[N])*X;if(K>ne){const ce=K;K=ne,ne=ce}if(K>O&&(O=K),ne<F&&(F=ne),O>F)return null}return O}function ih(E,o,T,I,O,F,N,X,K,ne,ce){const he=I-E,ye=O-o,Te=F-T,Le=N-E,it=X-o,xt=K-T,Ot=ce[1]*xt-ce[2]*it,Zt=ce[2]*Le-ce[0]*xt,ar=ce[0]*it-ce[1]*Le,vr=he*Ot+ye*Zt+Te*ar;if(Math.abs(vr)<1e-15)return null;const yr=1/vr,br=ne[0]-E,Qr=ne[1]-o,qr=ne[2]-T,Ur=(br*Ot+Qr*Zt+qr*ar)*yr;if(Ur<0||Ur>1)return null;const an=Qr*Te-qr*ye,Dr=qr*he-br*Te,zr=br*ye-Qr*he,Ar=(ce[0]*an+ce[1]*Dr+ce[2]*zr)*yr;return Ar<0||Ur+Ar>1?null:(Le*an+it*Dr+xt*zr)*yr}function oh(E,o,T){return(E-o)/(T-o)}function ah(E,o,T,I,O,F,N,X,K){const ne=1<<T,ce=F-I,he=N-O,ye=(E+1)/ne*ce+I,Te=(o+0)/ne*he+O,Le=(o+1)/ne*he+O;X[0]=(E+0)/ne*ce+I,X[1]=Te,K[0]=ye,K[1]=Le}class sh{constructor(o){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=o,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const T=function(F){const N=Math.ceil(Math.log2(F.dim/8)),X=[];let K=Math.ceil(Math.pow(2,N));const ne=1/K,ce=(Te,Le,it,xt,Ot)=>{const Zt=xt?1:0,ar=(Te+1)*it-Zt,vr=Le*it,yr=(Le+1)*it-Zt;Ot[0]=Te*it,Ot[1]=vr,Ot[2]=ar,Ot[3]=yr};let he=new rh(K);const ye=[];for(let Te=0;Te<K*K;Te++){ce(Te%K,Math.floor(Te/K),ne,!1,ye);const Le=il(ye[0],ye[1],F),it=il(ye[2],ye[1],F),xt=il(ye[2],ye[3],F),Ot=il(ye[0],ye[3],F);he.minimums.push(Math.min(Le,it,xt,Ot)),he.maximums.push(Math.max(Le,it,xt,Ot)),he.leaves.push(1)}for(X.push(he),K/=2;K>=1;K/=2){const Te=X[X.length-1];he=new rh(K);for(let Le=0;Le<K*K;Le++){ce(Le%K,Math.floor(Le/K),2,!0,ye);const it=Te.getElevation(ye[0],ye[1]),xt=Te.getElevation(ye[2],ye[1]),Ot=Te.getElevation(ye[2],ye[3]),Zt=Te.getElevation(ye[0],ye[3]),ar=Te.isLeaf(ye[0],ye[1]),vr=Te.isLeaf(ye[2],ye[1]),yr=Te.isLeaf(ye[2],ye[3]),br=Te.isLeaf(ye[0],ye[3]),Qr=Math.min(it.min,xt.min,Ot.min,Zt.min),qr=Math.max(it.max,xt.max,Ot.max,Zt.max),Ur=ar&&vr&&yr&&br;he.maximums.push(qr),he.minimums.push(Qr),he.leaves.push(qr-Qr<=5&&Ur?1:0)}X.push(he)}return X}(this.dem),I=T.length-1,O=T[I];this._addNode(O.minimums[0],O.maximums[0],O.leaves[0]),this._construct(T,0,0,I,0)}raycastRoot(o,T,I,O,F,N,X=1){return nh([o,T,-100],[I,O,this.maximums[0]*X],F,N)}raycast(o,T,I,O,F,N,X=1){if(!this.nodeCount)return null;const K=this.raycastRoot(o,T,I,O,F,N,X);if(K==null)return null;const ne=[],ce=[],he=[],ye=[],Te=[{idx:0,t:K,nodex:0,nodey:0,depth:0}];for(;Te.length>0;){const{idx:Le,t:it,nodex:xt,nodey:Ot,depth:Zt}=Te.pop();if(this.leaves[Le]){ah(xt,Ot,Zt,o,T,I,O,he,ye);const vr=1<<Zt,yr=(xt+0)/vr,br=(xt+1)/vr,Qr=(Ot+0)/vr,qr=(Ot+1)/vr,Ur=il(yr,Qr,this.dem)*X,an=il(br,Qr,this.dem)*X,Dr=il(br,qr,this.dem)*X,zr=il(yr,qr,this.dem)*X,Ar=ih(he[0],he[1],Ur,ye[0],he[1],an,ye[0],ye[1],Dr,F,N),Fr=ih(ye[0],ye[1],Dr,he[0],ye[1],zr,he[0],he[1],Ur,F,N),Nn=Math.min(Ar!==null?Ar:Number.MAX_VALUE,Fr!==null?Fr:Number.MAX_VALUE);if(Nn!==Number.MAX_VALUE)return Nn;{const Yn=Wu([],F,N,it);if(lh(Ur,an,zr,Dr,oh(Yn[0],he[0],ye[0]),oh(Yn[1],he[1],ye[1]))>=Yn[2])return it}continue}let ar=0;for(let vr=0;vr<this._siblingOffset.length;vr++){ah((xt<<1)+this._siblingOffset[vr][0],(Ot<<1)+this._siblingOffset[vr][1],Zt+1,o,T,I,O,he,ye),he[2]=-100,ye[2]=this.maximums[this.childOffsets[Le]+vr]*X;const yr=nh(he,ye,F,N);if(yr!=null){const br=yr;ne[vr]=br;let Qr=!1;for(let qr=0;qr<ar&&!Qr;qr++)br>=ne[ce[qr]]&&(ce.splice(qr,0,vr),Qr=!0);Qr||(ce[ar]=vr),ar++}}for(let vr=0;vr<ar;vr++){const yr=ce[vr];Te.push({idx:this.childOffsets[Le]+yr,t:ne[yr],nodex:(xt<<1)+this._siblingOffset[yr][0],nodey:(Ot<<1)+this._siblingOffset[yr][1],depth:Zt+1})}}return null}_addNode(o,T,I){return this.minimums.push(o),this.maximums.push(T),this.leaves.push(I),this.childOffsets.push(0),this.nodeCount++}_construct(o,T,I,O,F){if(o[O].isLeaf(T,I)===1)return;this.childOffsets[F]||(this.childOffsets[F]=this.nodeCount);const N=O-1,X=o[N];let K,ne=0;for(let ce=0;ce<this._siblingOffset.length;ce++){const he=2*T+this._siblingOffset[ce][0],ye=2*I+this._siblingOffset[ce][1],Te=X.getElevation(he,ye),Le=X.isLeaf(he,ye),it=this._addNode(Te.min,Te.max,Le);Le&&(ne|=1<<ce),K||(K=it)}for(let ce=0;ce<this._siblingOffset.length;ce++)ne&1<<ce||this._construct(o,2*T+this._siblingOffset[ce][0],2*I+this._siblingOffset[ce][1],N,K+ce)}}function lh(E,o,T,I,O,F){return Bn(Bn(E,T,F),Bn(o,I,F),O)}function il(E,o,T){const I=T.dim,O=re(E*I-.5,0,I-1),F=re(o*I-.5,0,I-1),N=Math.floor(O),X=Math.floor(F),K=Math.min(N+1,I-1),ne=Math.min(X+1,I-1);return lh(T.get(N,X),T.get(K,X),T.get(N,ne),T.get(K,ne),O-N,F-X)}const ch={vjmaps:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class Dc{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(o,T,I,O=!1,F=!1){if(this.uid=o,T.height!==T.width)throw new RangeError("DEM tiles must be square");if(I&&I!=="vjmaps"&&I!=="terrarium")return at(`"${I}" is not a valid encoding type. Valid types include "vjmaps" and "terrarium".`);this.stride=T.height;const N=this.dim=T.height-2;if(this.data=new Uint32Array(T.data.buffer),this.encoding=I||"vjmaps",this.borderReady=O,!O){for(let X=0;X<N;X++)this.data[this._idx(-1,X)]=this.data[this._idx(0,X)],this.data[this._idx(N,X)]=this.data[this._idx(N-1,X)],this.data[this._idx(X,-1)]=this.data[this._idx(X,0)],this.data[this._idx(X,N)]=this.data[this._idx(X,N-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(N,-1)]=this.data[this._idx(N-1,0)],this.data[this._idx(-1,N)]=this.data[this._idx(0,N-1)],this.data[this._idx(N,N)]=this.data[this._idx(N-1,N-1)],F&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new sh(this)}get(o,T,I=!1){const O=new Uint8Array(this.data.buffer);I&&(o=re(o,-1,this.dim),T=re(T,-1,this.dim));const F=4*this._idx(o,T);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackvjmaps)(O[F],O[F+1],O[F+2])}static getUnpackVector(o){return ch[o]}get unpackVector(){return ch[this.encoding]}_idx(o,T){if(o<-1||o>=this.dim+1||T<-1||T>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(T+1)*this.stride+(o+1)}_unpackvjmaps(o,T,I){return(256*o*256+256*T+I)/10-1e4}_unpackTerrarium(o,T,I){return 256*o+T+I/256-32768}static pack(o,T){const I=[0,0,0,0],O=Dc.getUnpackVector(T);let F=Math.floor((o+O[3])/O[2]);return I[2]=F%256,F=Math.floor(F/256),I[1]=F%256,F=Math.floor(F/256),I[0]=F,I}getPixels(){return new Ga({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(o,T,I){if(this.dim!==o.dim)throw new Error("dem dimension mismatch");let O=T*this.dim,F=T*this.dim+this.dim,N=I*this.dim,X=I*this.dim+this.dim;switch(T){case-1:O=F-1;break;case 1:F=O+1}switch(I){case-1:N=X-1;break;case 1:X=N+1}const K=-T*this.dim,ne=-I*this.dim;for(let ce=N;ce<X;ce++)for(let he=O;he<F;he++)this.data[this._idx(he,ce)]=o.data[this._idx(he+K,ce+ne)]}onDeserialize(){this._tree&&(this._tree.dem=this)}}pe("DEMData",Dc),pe("DemMinMaxQuadTree",sh,{omit:["dem"]});class xf{constructor(o,T){this.max=o,this.onRemove=T,this.reset()}reset(){for(const o in this.data)for(const T of this.data[o])T.timeout&&clearTimeout(T.timeout),this.onRemove(T.value);return this.data={},this.order=[],this}add(o,T,I){const O=o.wrapped().key;this.data[O]===void 0&&(this.data[O]=[]);const F={value:T,timeout:void 0};if(I!==void 0&&(F.timeout=setTimeout(()=>{this.remove(o,F)},I)),this.data[O].push(F),this.order.push(O),this.order.length>this.max){const N=this._getAndRemoveByKey(this.order[0]);N&&this.onRemove(N)}return this}has(o){return o.wrapped().key in this.data}getAndRemove(o){return this.has(o)?this._getAndRemoveByKey(o.wrapped().key):null}_getAndRemoveByKey(o){const T=this.data[o].shift();return T.timeout&&clearTimeout(T.timeout),this.data[o].length===0&&delete this.data[o],this.order.splice(this.order.indexOf(o),1),T.value}getByKey(o){const T=this.data[o];return T?T[0].value:null}get(o){return this.has(o)?this.data[o.wrapped().key][0].value:null}remove(o,T){if(!this.has(o))return this;const I=o.wrapped().key,O=T===void 0?0:this.data[I].indexOf(T),F=this.data[I][O];return this.data[I].splice(O,1),F.timeout&&clearTimeout(F.timeout),this.data[I].length===0&&delete this.data[I],this.onRemove(F.value),this.order.splice(this.order.indexOf(I),1),this}setMaxSize(o){for(this.max=o;this.order.length>this.max;){const T=this._getAndRemoveByKey(this.order[0]);T&&this.onRemove(T)}return this}filter(o){const T=[];for(const I in this.data)for(const O of this.data[I])o(O.value)||T.push(O);for(const I of T)this.remove(I.value.tileID,I)}}class Vl{constructor(o,T,I){this.func=o,this.mask=T,this.range=I}}Vl.ReadOnly=!1,Vl.ReadWrite=!0,Vl.disabled=new Vl(519,Vl.ReadOnly,[0,1]);class Cu{constructor(o,T,I,O,F,N){this.test=o,this.ref=T,this.mask=I,this.fail=O,this.depthFail=F,this.pass=N}}Cu.disabled=new Cu({func:519,mask:0},0,0,7680,7680,7680);class Ts{constructor(o,T,I){this.blendFunction=o,this.blendColor=T,this.mask=I}}Ts.Replace=[1,0],Ts.disabled=new Ts(Ts.Replace,Qn.transparent,[!1,!1,!1,!1]),Ts.unblended=new Ts(Ts.Replace,Qn.transparent,[!0,!0,!0,!0]),Ts.alphaBlended=new Ts([1,771],Qn.transparent,[!0,!0,!0,!0]);class ds{constructor(o,T,I){this.enable=o,this.mode=T,this.frontFace=I}}ds.disabled=new ds(!1,1029,2305),ds.backCCW=new ds(!0,1029,2305),ds.backCW=new ds(!0,1029,2304),ds.frontCW=new ds(!0,1028,2304),ds.frontCCW=new ds(!0,1028,2305);class _l extends Yr{constructor(o,T,I){super(),this.id=o,this._onlySymbols=I,T.on("data",O=>{O.dataType==="source"&&O.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&O.dataType==="source"&&O.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),T.on("error",()=>{this._sourceErrored=!0}),this._source=T,this._tiles={},this._cache=new xf(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new _f}onAdd(o){this.map=o,this._maxTileCacheSize=o?o._maxTileCacheSize:null}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const o in this._tiles){const T=this._tiles[o];if(T.state!=="loaded"&&T.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const o=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,o&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(o,T){return o.isSymbolTile=this._onlySymbols,this._source.loadTile(o,T)}_unloadTile(o){if(this._source.unloadTile)return this._source.unloadTile(o,()=>{})}_abortTile(o){if(this._source.abortTile)return this._source.abortTile(o,()=>{})}serialize(){return this._source.serialize()}prepare(o){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const T in this._tiles){const I=this._tiles[T];I.upload(o),I.prepare(this.map.style.imageManager)}}getIds(){return fe(this._tiles).map(o=>o.tileID).sort(uh).map(o=>o.key)}getRenderableIds(o){const T=[];for(const I in this._tiles)this._isIdRenderable(+I,o)&&T.push(this._tiles[I]);return o?T.sort((I,O)=>{const F=I.tileID,N=O.tileID,X=new P(F.canonical.x,F.canonical.y)._rotate(this.transform.angle),K=new P(N.canonical.x,N.canonical.y)._rotate(this.transform.angle);return F.overscaledZ-N.overscaledZ||K.y-X.y||K.x-X.x}).map(I=>I.tileID.key):T.map(I=>I.tileID).sort(uh).map(I=>I.key)}hasRenderableParent(o){const T=this.findLoadedParent(o,0);return!!T&&this._isIdRenderable(T.tileID.key)}_isIdRenderable(o,T){return this._tiles[o]&&this._tiles[o].hasData()&&!this._coveredTiles[o]&&(T||!this._tiles[o].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const o in this._tiles)this._tiles[o].state!=="errored"&&this._reloadTile(+o,"reloading")}}_reloadTile(o,T){const I=this._tiles[o];I&&(I.state!=="loading"&&(I.state=T),this._loadTile(I,this._tileLoaded.bind(this,I,o,T)))}_tileLoaded(o,T,I,O){if(O)return o.state="errored",void(O.status!==404?this._source.fire(new mn(O,{tile:o})):this.update(this.transform));o.timeAdded=Ht.now(),I==="expired"&&(o.refreshedUponExpiration=!0),this._setTileReloadTimer(T,o),this.getSource().type==="raster-dem"&&o.dem&&this._backfillDEM(o),this._state.initializeTileState(o,this.map?this.map.painter:null),this._source.fire(new ln("data",{dataType:"source",tile:o,coord:o.tileID,sourceCacheId:this.id}))}_backfillDEM(o){const T=this.getRenderableIds();for(let O=0;O<T.length;O++){const F=T[O];if(o.neighboringTiles&&o.neighboringTiles[F]){const N=this.getTileByID(F);I(o,N),I(N,o)}}function I(O,F){if(!O.dem||O.dem.borderReady)return;O.needsHillshadePrepare=!0,O.needsDEMTextureUpload=!0;let N=F.tileID.canonical.x-O.tileID.canonical.x;const X=F.tileID.canonical.y-O.tileID.canonical.y,K=Math.pow(2,O.tileID.canonical.z),ne=F.tileID.key;N===0&&X===0||Math.abs(X)>1||(Math.abs(N)>1&&(Math.abs(N+K)===1?N+=K:Math.abs(N-K)===1&&(N-=K)),F.dem&&O.dem&&(O.dem.backfillBorder(F.dem,N,X),O.neighboringTiles&&O.neighboringTiles[ne]&&(O.neighboringTiles[ne].backfilled=!0)))}}getTile(o){return this.getTileByID(o.key)}getTileByID(o){return this._tiles[o]}_retainLoadedChildren(o,T,I,O){for(const F in this._tiles){let N=this._tiles[F];if(O[F]||!N.hasData()||N.tileID.overscaledZ<=T||N.tileID.overscaledZ>I)continue;let X=N.tileID;for(;N&&N.tileID.overscaledZ>T+1;){const ne=N.tileID.scaledTo(N.tileID.overscaledZ-1);N=this._tiles[ne.key],N&&N.hasData()&&(X=ne)}let K=X;for(;K.overscaledZ>T;)if(K=K.scaledTo(K.overscaledZ-1),o[K.key]){O[X.key]=X;break}}}findLoadedParent(o,T){if(o.key in this._loadedParentTiles){const I=this._loadedParentTiles[o.key];return I&&I.tileID.overscaledZ>=T?I:null}for(let I=o.overscaledZ-1;I>=T;I--){const O=o.scaledTo(I),F=this._getLoadedTile(O);if(F)return F}}_getLoadedTile(o){const T=this._tiles[o.key];return T&&T.hasData()?T:this._cache.getByKey(this._source.reparseOverscaled?o.wrapped().key:o.canonical.key)}updateCacheSize(o,T){T=T||this._source.tileSize;const I=Math.ceil(o.width/T)+1,O=Math.ceil(o.height/T)+1,F=Math.floor(I*O*5),N=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,F):F;this._cache.setMaxSize(N)}handleWrapJump(o){const T=Math.round((o-(this._prevLng===void 0?o:this._prevLng))/360);if(this._prevLng=o,T){const I={};for(const O in this._tiles){const F=this._tiles[O];F.tileID=F.tileID.unwrapTo(F.tileID.wrap+T),I[F.tileID.key]=F}this._tiles=I;for(const O in this._timers)clearTimeout(this._timers[O]),delete this._timers[O];for(const O in this._tiles)this._setTileReloadTimer(+O,this._tiles[O])}}update(o,T,I){if(this.transform=o,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!I)return;let O;this.updateCacheSize(o,T),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?O=o.getVisibleUnwrappedCoordinates(this._source.tileID).map(X=>new xa(X.canonical.z,X.wrap,X.canonical.z,X.canonical.x,X.canonical.y)):(O=o.coveringTiles({tileSize:T||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!I,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(O=O.filter(X=>this._source.hasTile(X)))):O=[];const F=this._updateRetainedTiles(O);if(dh(this._source.type)&&O.length!==0){const X={},K={},ne=Object.keys(F);for(const he of ne){const ye=F[he],Te=this._tiles[he];if(!Te||Te.fadeEndTime&&Te.fadeEndTime<=Ht.now())continue;const Le=this.findLoadedParent(ye,Math.max(ye.overscaledZ-_l.maxOverzooming,this._source.minzoom));Le&&(this._addTile(Le.tileID),X[Le.tileID.key]=Le.tileID),K[he]=ye}const ce=O[O.length-1].overscaledZ;for(const he in this._tiles){const ye=this._tiles[he];if(F[he]||!ye.hasData())continue;let Te=ye.tileID;for(;Te.overscaledZ>ce;){Te=Te.scaledTo(Te.overscaledZ-1);const Le=this._tiles[Te.key];if(Le&&Le.hasData()&&K[Te.key]){F[he]=ye.tileID;break}}}for(const he in X)F[he]||(this._coveredTiles[he]=!0,F[he]=X[he])}for(const X in F)this._tiles[X].clearFadeHold();const N=function(X,K){const ne=[];for(const ce in X)ce in K||ne.push(ce);return ne}(this._tiles,F);for(const X of N){const K=this._tiles[X];K.hasSymbolBuckets&&!K.holdingForFade()?K.setHoldDuration(this.map._fadeDuration):K.hasSymbolBuckets&&!K.symbolFadeFinished()||this._removeTile(+X)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const o in this._tiles)this._tiles[o].holdingForFade()&&this._removeTile(+o)}_updateRetainedTiles(o){const T={};if(o.length===0)return T;const I={},O=o[o.length-1].overscaledZ,F=o[0].overscaledZ,N=Math.max(F-_l.maxOverzooming,this._source.minzoom),X=Math.max(F+_l.maxUnderzooming,this._source.minzoom),K={};for(const ne of o){const ce=this._addTile(ne);T[ne.key]=ne,ce.hasData()||O<this._source.maxzoom&&(K[ne.key]=ne)}this._retainLoadedChildren(K,O,X,T);for(const ne of o){let ce=this._tiles[ne.key];if(ce.hasData())continue;if(ne.canonical.z>=this._source.maxzoom){const ye=ne.children(this._source.maxzoom)[0],Te=this.getTile(ye);if(Te&&Te.hasData()){T[ye.key]=ye;continue}}else{const ye=ne.children(this._source.maxzoom);if(T[ye[0].key]&&T[ye[1].key]&&T[ye[2].key]&&T[ye[3].key])continue}let he=ce.wasRequested();for(let ye=ne.overscaledZ-1;ye>=N;--ye){const Te=ne.scaledTo(ye);if(I[Te.key]||(I[Te.key]=!0,ce=this.getTile(Te),!ce&&he&&(ce=this._addTile(Te)),ce&&(T[Te.key]=Te,he=ce.wasRequested(),ce.hasData())))break}}return T}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const o in this._tiles){const T=[];let I,O=this._tiles[o].tileID;for(;O.overscaledZ>0;){if(O.key in this._loadedParentTiles){I=this._loadedParentTiles[O.key];break}T.push(O.key);const F=O.scaledTo(O.overscaledZ-1);if(I=this._getLoadedTile(F),I)break;O=F}for(const F of T)this._loadedParentTiles[F]=I}}_addTile(o){let T=this._tiles[o.key];if(T)return T;T=this._cache.getAndRemove(o),T&&(this._setTileReloadTimer(o.key,T),T.tileID=o,this._state.initializeTileState(T,this.map?this.map.painter:null),this._cacheTimers[o.key]&&(clearTimeout(this._cacheTimers[o.key]),delete this._cacheTimers[o.key],this._setTileReloadTimer(o.key,T)));const I=Boolean(T);return I||(T=new th(o,this._source.tileSize*o.overscaleFactor(),this.transform.tileZoom),this._loadTile(T,this._tileLoaded.bind(this,T,o.key,T.state))),T?(T.uses++,this._tiles[o.key]=T,I||this._source.fire(new ln("dataloading",{tile:T,coord:T.tileID,dataType:"source"})),T):null}_setTileReloadTimer(o,T){o in this._timers&&(clearTimeout(this._timers[o]),delete this._timers[o]);const I=T.getExpiryTimeout();I&&(this._timers[o]=setTimeout(()=>{this._reloadTile(o,"expired"),delete this._timers[o]},I))}_removeTile(o){const T=this._tiles[o];T&&(T.uses--,delete this._tiles[o],this._timers[o]&&(clearTimeout(this._timers[o]),delete this._timers[o]),T.uses>0||(T.hasData()&&T.state!=="reloading"?this._cache.add(T.tileID,T,T.getExpiryTimeout()):(T.aborted=!0,this._abortTile(T),this._unloadTile(T))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const o in this._tiles)this._removeTile(+o);this._cache.reset()}tilesIn(o,T,I){const O=[],F=this.transform;if(!F)return O;for(const N in this._tiles){const X=this._tiles[N];if(I&&X.clearQueryDebugViz(),X.holdingForFade())continue;const K=o.containsTile(X,F,T);K&&O.push(K)}return O}getVisibleCoordinates(o){const T=this.getRenderableIds(o).map(I=>this._tiles[I].tileID);for(const I of T)I.projMatrix=this.transform.calculateProjMatrix(I.toUnwrapped());return T}hasTransition(){if(this._source.hasTransition())return!0;if(dh(this._source.type))for(const o in this._tiles){const T=this._tiles[o];if(T.fadeEndTime!==void 0&&T.fadeEndTime>=Ht.now())return!0}return!1}setFeatureState(o,T,I){this._state.updateState(o=o||"_geojsonTileLayer",T,I)}removeFeatureState(o,T,I){this._state.removeFeatureState(o=o||"_geojsonTileLayer",T,I)}getFeatureState(o,T){return this._state.getState(o=o||"_geojsonTileLayer",T)}setDependencies(o,T,I){const O=this._tiles[o];O&&O.setDependencies(T,I)}reloadTilesForDependencies(o,T){for(const I in this._tiles)this._tiles[I].hasDependency(o,T)&&this._reloadTile(+I,"reloading");this._cache.filter(I=>!I.hasDependency(o,T))}}function uh(E,o){const T=Math.abs(2*E.wrap)-+(E.wrap<0),I=Math.abs(2*o.wrap)-+(o.wrap<0);return E.overscaledZ-o.overscaledZ||I-T||o.canonical.y-E.canonical.y||o.canonical.x-E.canonical.x}function dh(E){return E==="raster"||E==="image"||E==="video"}_l.maxOverzooming=10,_l.maxUnderzooming=3;class Rc{constructor(o,T,I){this._demTile=o,this._dem=this._demTile.dem,this._scale=T,this._offset=I}static create(o,T,I){const O=I||o.findDEMTileFor(T);if(!O||!O.dem)return;const F=O.dem,N=O.tileID,X=1<<T.canonical.z-N.canonical.z;return new Rc(O,O.tileSize/Ti/X,[(T.canonical.x/X-N.canonical.x)*F.dim,(T.canonical.y/X-N.canonical.y)*F.dim])}tileCoordToPixel(o,T){const I=T*this._scale+this._offset[1],O=Math.floor(o*this._scale+this._offset[0]),F=Math.floor(I);return new P(O,F)}getElevationAt(o,T,I,O){const F=o*this._scale+this._offset[0],N=T*this._scale+this._offset[1],X=Math.floor(F),K=Math.floor(N),ne=this._dem;return O=!!O,I?Bn(Bn(ne.get(X,K,O),ne.get(X,K+1,O),N-K),Bn(ne.get(X+1,K,O),ne.get(X+1,K+1,O),N-K),F-X):ne.get(X,K,O)}getElevationAtPixel(o,T,I){return this._dem.get(o,T,!!I)}getMeterToDEM(o){return(1<<this._demTile.tileID.canonical.z)*bu(1,o)*this._dem.stride}}class hh{constructor(o,T){this.tileID=o,this.x=o.canonical.x,this.y=o.canonical.y,this.z=o.canonical.z,this.grid=new Ma(Ti,16,0),this.featureIndexArray=new ja,this.promoteId=T}insert(o,T,I,O,F,N=0){const X=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(I,O,F,N);const K=this.grid;for(let ne=0;ne<T.length;ne++){const ce=T[ne],he=[1/0,1/0,-1/0,-1/0];for(let ye=0;ye<ce.length;ye++){const Te=ce[ye];he[0]=Math.min(he[0],Te.x),he[1]=Math.min(he[1],Te.y),he[2]=Math.max(he[2],Te.x),he[3]=Math.max(he[3],Te.y)}he[0]<Ti&&he[1]<Ti&&he[2]>=0&&he[3]>=0&&K.insert(X,he[0],he[1],he[2],he[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new yl.VectorTile(new ic(this.rawTileData)).layers,this.sourceLayerCoder=new Qd(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(o,T,I,O){this.loadVTLayers();const F=o.params||{},N=Ba(F.filter),X=o.tileResult,K=o.transform,ne=X.bufferedTilespaceBounds,ce=this.grid.query(ne.min.x,ne.min.y,ne.max.x,ne.max.y,(Le,it,xt,Ot)=>Bu(X.bufferedTilespaceGeometry,Le,it,xt,Ot));ce.sort(wf);let he=null;K.elevation&&ce.length>0&&(he=Rc.create(K.elevation,this.tileID));const ye={};let Te;for(let Le=0;Le<ce.length;Le++){const it=ce[Le];if(it===Te)continue;Te=it;const xt=this.featureIndexArray.get(it);let Ot=null;this.loadMatchingFeature(ye,xt,N,F.layers,F.availableImages,T,I,O,(Zt,ar,vr,yr=0)=>(Ot||(Ot=gl(Zt)),ar.queryIntersectsFeature(X,Zt,vr,Ot,this.z,o.transform,o.pixelPosMatrix,he,yr)))}return ye}loadMatchingFeature(o,T,I,O,F,N,X,K,ne){const{featureIndex:ce,bucketIndex:he,sourceLayerIndex:ye,layoutVertexArrayOffset:Te}=T,Le=this.bucketLayerIDs[he];if(O&&!function(Zt,ar){for(let vr=0;vr<Zt.length;vr++)if(ar.indexOf(Zt[vr])>=0)return!0;return!1}(O,Le))return;const it=this.sourceLayerCoder.decode(ye),xt=this.vtLayers[it].feature(ce);if(I.needGeometry){const Zt=vl(xt,!0);if(!I.filter(new H(this.tileID.overscaledZ),Zt,this.tileID.canonical))return}else if(!I.filter(new H(this.tileID.overscaledZ),xt))return;const Ot=this.getId(xt,it);for(let Zt=0;Zt<Le.length;Zt++){const ar=Le[Zt];if(O&&O.indexOf(ar)<0)continue;const vr=N[ar];if(!vr)continue;let yr={};Ot!==void 0&&K&&(yr=K.getState(vr.sourceLayer||"_geojsonTileLayer",Ot));const br=ge({},X[ar]);br.paint=ph(br.paint,vr.paint,xt,yr,F),br.layout=ph(br.layout,vr.layout,xt,yr,F);const Qr=!ne||ne(xt,vr,yr,Te);if(!Qr)continue;const qr=new eh(xt,this.z,this.x,this.y,Ot);qr.layer=br;let Ur=o[ar];Ur===void 0&&(Ur=o[ar]=[]),Ur.push({featureIndex:ce,feature:qr,intersectionZ:Qr})}}lookupSymbolFeatures(o,T,I,O,F,N,X,K){const ne={};this.loadVTLayers();const ce=Ba(F);for(const he of o)this.loadMatchingFeature(ne,{bucketIndex:I,sourceLayerIndex:O,featureIndex:he,layoutVertexArrayOffset:0},ce,N,X,K,T);return ne}hasLayer(o){for(const T of this.bucketLayerIDs)for(const I of T)if(o===I)return!0;return!1}getId(o,T){let I=o.id;return this.promoteId&&(I=o.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[T]],typeof I=="boolean"&&(I=Number(I))),I}}function ph(E,o,T,I,O){return ft(E,(F,N)=>{const X=o instanceof Xe?o.get(N):null;return X&&X.evaluate?X.evaluate(T,I,O):X})}function wf(E,o){return o-E}pe("FeatureIndex",hh,{omit:["rawTileData","sourceLayerCoder"]});class fh{constructor(o){const T={},I=[];for(const X in o){const K=o[X],ne=T[X]={};for(const ce in K){const he=K[+ce];if(!he||he.bitmap.width===0||he.bitmap.height===0)continue;const ye=he.metrics.localGlyph?2:1,Te={x:0,y:0,w:he.bitmap.width+2*ye,h:he.bitmap.height+2*ye};I.push(Te),ne[ce]={rect:Te,metrics:he.metrics}}}const{w:O,h:F}=au(I),N=new Qs({width:O||1,height:F||1});for(const X in o){const K=o[X];for(const ne in K){const ce=K[+ne];if(!ce||ce.bitmap.width===0||ce.bitmap.height===0)continue;const he=T[X][ne].rect,ye=ce.metrics.localGlyph?2:1;Qs.copy(ce.bitmap,N,{x:0,y:0},{x:he.x+ye,y:he.y+ye},ce.bitmap)}}this.image=N,this.positions=T}}pe("GlyphAtlas",fh);class Cf{constructor(o){this.tileID=new xa(o.tileID.overscaledZ,o.tileID.wrap,o.tileID.canonical.z,o.tileID.canonical.x,o.tileID.canonical.y),this.tileZoom=o.tileZoom,this.uid=o.uid,this.zoom=o.zoom,this.pixelRatio=o.pixelRatio,this.tileSize=o.tileSize,this.source=o.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=o.showCollisionBoxes,this.collectResourceTiming=!!o.collectResourceTiming,this.returnDependencies=!!o.returnDependencies,this.promoteId=o.promoteId,this.enableTerrain=!!o.enableTerrain,this.isSymbolTile=o.isSymbolTile}parse(o,T,I,O,F){this.status="parsing",this.data=o,this.collisionBoxArray=new ao;const N=new Qd(Object.keys(o.layers).sort()),X=new hh(this.tileID,this.promoteId);X.bucketLayerIDs=[];const K={},ne=new xu(256,256),ce={featureIndex:X,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:ne,availableImages:I},he=T.familiesBySource[this.source];for(const yr in he){const br=o.layers[yr];if(!br)continue;let Qr=!1,qr=!1;for(const Dr of he[yr])Dr[0].type==="symbol"?Qr=!0:qr=!0;if(this.isSymbolTile===!0&&!Qr||this.isSymbolTile===!1&&!qr)continue;br.version===1&&at(`Vector tile source "${this.source}" layer "${yr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Ur=N.encode(yr),an=[];for(let Dr=0;Dr<br.length;Dr++){const zr=br.feature(Dr),Ar=X.getId(zr,yr);an.push({feature:zr,id:Ar,index:Dr,sourceLayerIndex:Ur})}for(const Dr of he[yr]){const zr=Dr[0];this.isSymbolTile!==void 0&&zr.type==="symbol"!==this.isSymbolTile||zr.minzoom&&this.zoom<Math.floor(zr.minzoom)||zr.maxzoom&&this.zoom>=zr.maxzoom||zr.visibility!=="none"&&(Su(Dr,this.zoom,I),(K[zr.id]=zr.createBucket({index:X.bucketLayerIDs.length,layers:Dr,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Ur,sourceID:this.source,enableTerrain:this.enableTerrain})).populate(an,ce,this.tileID.canonical),X.bucketLayerIDs.push(Dr.map(Ar=>Ar.id)))}}let ye,Te,Le,it;ne.trim();const xt={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Ot=ft(ce.glyphDependencies,yr=>Object.keys(yr).map(Number));Object.keys(Ot).length?O.send("getGlyphs",{uid:this.uid,stacks:Ot},(yr,br)=>{ye||(ye=yr,Te=br,vr.call(this))},void 0,!1,xt):Te={};const Zt=Object.keys(ce.iconDependencies);Zt.length?O.send("getImages",{icons:Zt,source:this.source,tileID:this.tileID,type:"icons"},(yr,br)=>{ye||(ye=yr,Le=br,vr.call(this))},void 0,!1,xt):Le={};const ar=Object.keys(ce.patternDependencies);function vr(){if(ye)return F(ye);if(Te&&Le&&it){const yr=new fh(Te),br=new wd(Le,it);for(const Qr in K){const qr=K[Qr];qr instanceof nl?(Su(qr.layers,this.zoom,I),nf(qr,Te,yr.positions,Le,br.iconPositions,this.showCollisionBoxes,this.tileID.canonical,this.tileZoom)):qr.hasPattern&&(qr instanceof nu||qr instanceof tu||qr instanceof ru)&&(Su(qr.layers,this.zoom,I),qr.addFeatures(ce,this.tileID.canonical,br.patternPositions))}this.status="done",F(null,{buckets:fe(K).filter(Qr=>!Qr.isEmpty()),featureIndex:X,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:yr.image,lineAtlas:ne,imageAtlas:br,glyphMap:this.returnDependencies?Te:null,iconMap:this.returnDependencies?Le:null,glyphPositions:this.returnDependencies?yr.positions:null})}}ar.length?O.send("getImages",{icons:ar,source:this.source,tileID:this.tileID,type:"patterns"},(yr,br)=>{ye||(ye=yr,it=br,vr.call(this))},void 0,!1,xt):it={},vr.call(this)}}function Su(E,o,T){const I=new H(o);for(const O of E)O.recalculate(I,T)}class mh{constructor(o){this.entries={},this.scheduler=o}request(o,T,I,O){const F=this.entries[o]=this.entries[o]||{callbacks:[]};if(F.result){const[N,X]=F.result;return this.scheduler?this.scheduler.add(()=>{O(N,X)},T):O(N,X),()=>{}}return F.callbacks.push(O),F.cancel||(F.cancel=I((N,X)=>{F.result=[N,X];for(const K of F.callbacks)this.scheduler?this.scheduler.add(()=>{K(N,X)},T):K(N,X);setTimeout(()=>delete this.entries[o],3e3)})),()=>{F.result||(F.callbacks=F.callbacks.filter(N=>N!==O),F.callbacks.length||(F.cancel(),delete this.entries[o]))}}}function gh(E,o,T){const I=JSON.stringify(E.request);return E.data&&(this.deduped.entries[I]={result:[null,E.data]}),this.deduped.request(I,{type:"parseTile",isSymbolTile:E.isSymbolTile,zoom:E.tileZoom},O=>{const F=Qe(E.request,(N,X,K,ne)=>{N?O(N):X&&O(null,{vectorTile:T?void 0:new yl.VectorTile(new ic(X)),rawData:X,cacheControl:K,expires:ne})});return()=>{F.cancel(),O()}},o)}n.ARRAY_TYPE=Aa,n.AUTH_ERR_MSG=st,n.Actor=class{constructor(E,o,T){this.target=E,this.parent=o,this.mapId=T,this.callbacks={},this.cancelCallbacks={},He(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=tt()?E:R,this.scheduler=new yf}send(E,o,T,I,O=!1,F){const N=Math.round(1e18*Math.random()).toString(36).substring(0,10);T&&(T.metadata=F,this.callbacks[N]=T);const X=Jt(this.globalScope)?void 0:[];return this.target.postMessage({id:N,type:E,hasCallback:!!T,targetMapId:I,mustQueue:O,sourceMapId:this.mapId,data:qe(o,X)},X),{cancel:()=>{T&&delete this.callbacks[N],this.target.postMessage({id:N,type:"<cancel>",targetMapId:I,sourceMapId:this.mapId})}}}receive(E){const o=E.data,T=o.id;if(T&&(!o.targetMapId||this.mapId===o.targetMapId))if(o.type==="<cancel>"){const I=this.cancelCallbacks[T];delete this.cancelCallbacks[T],I&&I.cancel()}else if(o.mustQueue||tt()){const I=this.callbacks[T];this.cancelCallbacks[T]=this.scheduler.add(()=>this.processTask(T,o),I&&I.metadata||{type:"message"})}else this.processTask(T,o)}processTask(E,o){if(o.type==="<response>"){const T=this.callbacks[E];delete this.callbacks[E],T&&(o.error?T(Ue(o.error)):T(null,Ue(o.data)))}else{const T=Jt(this.globalScope)?void 0:[],I=o.hasCallback?(F,N)=>{delete this.cancelCallbacks[E],this.target.postMessage({id:E,type:"<response>",sourceMapId:this.mapId,error:F?qe(F):null,data:qe(N,T)},T)}:F=>{},O=Ue(o.data);if(this.parent[o.type])this.parent[o.type](o.sourceMapId,O,I);else if(this.parent.getWorkerSource){const F=o.type.split(".");this.parent.getWorkerSource(o.sourceMapId,F[0],O.source)[F[1]](O,I)}else I(new Error("Could not find function "+o.type))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},n.CanonicalTileID=wu,n.Color=Qn,n.ColorMode=Ts,n.CullFaceMode=ds,n.DEMData=Dc,n.DataConstantProperty=Fe,n.DedupedRequest=mh,n.DepthMode=Vl,n.EXTENT=Ti,n.Elevation=class{getAtPointOrZero(E,o=0){return this.getAtPoint(E,o)||0}getAtPoint(E,o,T=!0){o==null&&(o=null);const I=this._source();if(!I||E.y<0||E.y>1)return o;const O=I.getSource().maxzoom,F=1<<O,N=Math.floor(E.x),X=E.x-N,K=new xa(O,N,O,Math.floor(X*F),Math.floor(E.y*F)),ne=this.findDEMTileFor(K);if(!ne||!ne.dem)return o;const ce=ne.dem,he=1<<ne.tileID.canonical.z,ye=(X*he-ne.tileID.canonical.x)*ce.dim,Te=(E.y*he-ne.tileID.canonical.y)*ce.dim,Le=Math.floor(ye),it=Math.floor(Te);return(T?this.exaggeration():1)*Bn(Bn(ce.get(Le,it),ce.get(Le,it+1),Te-it),Bn(ce.get(Le+1,it),ce.get(Le+1,it+1),Te-it),ye-Le)}getAtTileOffset(E,o,T){const I=1<<E.canonical.z;return this.getAtPointOrZero(new jl(E.wrap+(E.canonical.x+o/Ti)/I,(E.canonical.y+T/Ti)/I))}getForTilePoints(E,o,T,I){const O=Rc.create(this,E,I);return!!O&&(o.forEach(F=>{F[2]=this.exaggeration()*O.getElevationAt(F[0],F[1],T)}),!0)}getMinMaxForTile(E){const o=this.findDEMTileFor(E);if(!o||!o.dem)return null;const T=o.dem.tree,I=o.tileID,O=1<<E.canonical.z-I.canonical.z;let F=E.canonical.x/O-I.canonical.x,N=E.canonical.y/O-I.canonical.y,X=0;for(let K=0;K<E.canonical.z-I.canonical.z&&!T.leaves[X];K++){F*=2,N*=2;const ne=2*Math.floor(N)+Math.floor(F);X=T.childOffsets[X]+ne,F%=1,N%=1}return{min:this.exaggeration()*T.minimums[X],max:this.exaggeration()*T.maximums[X]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(E,o,T){throw new Error("Pure virtual method called.")}pointCoordinate(E){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(E){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},n.ErrorEvent=mn,n.EvaluationParameters=H,n.Event=ln,n.Evented=Yr,n.GlyphManager=Bl,n.ImagePosition=su,n.LineAtlas=xu,n.LngLat=ro,n.LngLatBounds=bl,n.LocalGlyphMode=uu,n.MAX_SAFE_INTEGER=B,n.MercatorCoordinate=jl,n.ONE_EM=24,n.OverscaledTileID=xa,n.Properties=wt,n.RGBAImage=Ga,n.RequestManager=class{constructor(E,o,T){this._transformRequestFn=E,this._customAccessToken=o,this._silenceAuthErrors=!!T,this._createSkuToken()}_createSkuToken(){const E=function(){let o="";for(let T=0;T<10;T++)o+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",xr,o].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=E.token,this._skuTokenExpiresAt=E.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(E,o){return this._transformRequestFn&&this._transformRequestFn(E,o)||{url:E}}normalizeStyleURL(E,o){if(!yt(E))return E;const T=Ct(E);return T.path="/styles/v1"+T.path,this._makeAPIURL(T,this._customAccessToken||o)}normalizeGlyphsURL(E,o){if(!yt(E))return E;const T=Ct(E);return T.path="/fonts/v1"+T.path,this._makeAPIURL(T,this._customAccessToken||o)}normalizeSourceURL(E,o){if(!yt(E))return E;const T=Ct(E);return T.path=`/v4/${T.authority}.json`,T.params.push("secure"),this._makeAPIURL(T,this._customAccessToken||o)}normalizeSpriteURL(E,o,T,I){const O=Ct(E);return yt(E)?(O.path=`/styles/v1${O.path}/sprite${o}${T}`,this._makeAPIURL(O,this._customAccessToken||I)):(O.path+=`${o}${T}`,gr(O))}normalizeTileURL(E,o,T){if(this._isSkuTokenExpired()&&this._createSkuToken(),E&&!yt(E))return E;const I=Ct(E);I.path=I.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${o||T&&I.authority!=="raster"&&T===512?"@2x":""}${Ne.supported?".webp":"$1"}`),I.authority==="raster"?I.path=`/${Vt.RASTER_URL_PREFIX}${I.path}`:(I.path=I.path.replace(/^.+\/v4\//,"/"),I.path=`/${Vt.TILE_URL_VERSION}${I.path}`);const O=this._customAccessToken||function(F){for(const N of F){const X=N.match(/^access_token=(.*)$/);if(X)return X[1]}return null}(I.params)||Vt.ACCESS_TOKEN;return Vt.REQUIRE_ACCESS_TOKEN&&O&&this._skuToken&&I.params.push("sku="+this._skuToken),this._makeAPIURL(I,O)}canonicalizeTileURL(E,o){const T=Ct(E);if(!T.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!T.path.match(/\.[\w]+$/))return E;let I="vjmaps://";T.path.match(/^\/raster\/v1\//)?I+="raster/"+T.path.replace(`/${Vt.RASTER_URL_PREFIX}/`,""):I+="tiles/"+T.path.replace(`/${Vt.TILE_URL_VERSION}/`,"");let O=T.params;return o&&(O=O.filter(F=>!F.match(/^access_token=/))),O.length&&(I+="?"+O.join("&")),I}canonicalizeTileset(E,o){const T=!!o&&yt(o),I=[];for(const O of E.tiles||[])Ft(O)?I.push(this.canonicalizeTileURL(O,T)):I.push(O);return I}_makeAPIURL(E,o){const T="See  https://www.vjmap.com/api-documentation/#access-tokens-and-token-scopes",I=Ct(Vt.API_URL);if(E.protocol=I.protocol,E.authority=I.authority,E.protocol==="http"){const O=E.params.indexOf("secure");O>=0&&E.params.splice(O,1)}if(I.path!=="/"&&(E.path=`${I.path}${E.path}`),!Vt.REQUIRE_ACCESS_TOKEN)return gr(E);if(o=o||Vt.ACCESS_TOKEN,!this._silenceAuthErrors){if(!o)throw new Error("An API access token is required to use vjmaps GL. "+T);if(o[0]==="s")throw new Error("Use a public access token (pk.*) with vjmaps GL, not a secret access token (sk.*). "+T)}return E.params=E.params.filter(O=>O.indexOf("access_token")===-1),E.params.push("access_token="+(o||"")),gr(E)}},n.ResourceType=vn,n.SegmentVector=Xo,n.SourceCache=_l,n.StencilMode=Cu,n.StructArrayLayout1ui2=pi,n.StructArrayLayout2f1f2i16=Pn,n.StructArrayLayout2i4=Pt,n.StructArrayLayout2ui4=hi,n.StructArrayLayout3f12=Dt,n.StructArrayLayout3ui6=qn,n.StructArrayLayout4i8=on,n.Texture=Oc,n.Tile=th,n.Transitionable=de,n.Uniform1f=Rs,n.Uniform1i=class extends Ja{constructor(E,o){super(E,o),this.current=0}set(E){this.current!==E&&(this.current=E,this.gl.uniform1i(this.location,E))}},n.Uniform2f=class extends Ja{constructor(E,o){super(E,o),this.current=[0,0]}set(E){E[0]===this.current[0]&&E[1]===this.current[1]||(this.current=E,this.gl.uniform2f(this.location,E[0],E[1]))}},n.Uniform3f=class extends Ja{constructor(E,o){super(E,o),this.current=[0,0,0]}set(E){E[0]===this.current[0]&&E[1]===this.current[1]&&E[2]===this.current[2]||(this.current=E,this.gl.uniform3f(this.location,E[0],E[1],E[2]))}},n.Uniform4f=fl,n.UniformColor=ql,n.UniformMatrix3f=class extends Ja{constructor(E,o){super(E,o),this.current=Il}set(E){for(let o=0;o<9;o++)if(E[o]!==this.current[o]){this.current=E,this.gl.uniformMatrix3fv(this.location,!1,E);break}}},n.UniformMatrix4f=class extends Ja{constructor(E,o){super(E,o),this.current=kl}set(E){if(E[12]!==this.current[12]||E[0]!==this.current[0])return this.current=E,void this.gl.uniformMatrix4fv(this.location,!1,E);for(let o=1;o<16;o++)if(E[o]!==this.current[o]){this.current=E,this.gl.uniformMatrix4fv(this.location,!1,E);break}}},n.UnwrappedTileID=Jd,n.ValidationError=_r,n.VectorTileWorkerSource=class extends Yr{constructor(E,o,T,I,O){super(),this.actor=E,this.layerIndex=o,this.availableImages=T,this.loadVectorData=O||gh,this.loading={},this.loaded={},this.deduped=new mh(E.scheduler),this.isSpriteLoaded=I,this.scheduler=E.scheduler}loadTile(E,o){const T=E.uid,I=E&&E.request,O=I&&I.collectResourceTiming,F=this.loading[T]=new Cf(E);F.abort=this.loadVectorData(E,(N,X)=>{const K=!this.loading[T];if(delete this.loading[T],K||N||!X)return F.status="done",K||(this.loaded[T]=F),o(N);const ne=X.rawData,ce={};X.expires&&(ce.expires=X.expires),X.cacheControl&&(ce.cacheControl=X.cacheControl),F.vectorTile=X.vectorTile||new yl.VectorTile(new ic(ne));const he=()=>{F.parse(F.vectorTile,this.layerIndex,this.availableImages,this.actor,(ye,Te)=>{if(ye||!Te)return o(ye);const Le={};if(O){const it=Yd(I);it.length>0&&(Le.resourceTiming=JSON.parse(JSON.stringify(it)))}o(null,ge({rawTileData:ne.slice(0)},Te,ce,Le))})};this.isSpriteLoaded?he():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(he,{type:"parseTile",isSymbolTile:E.isSymbolTile,zoom:E.tileZoom}):he()}),this.loaded=this.loaded||{},this.loaded[T]=F})}reloadTile(E,o){const T=this.loaded,I=E.uid,O=this;if(T&&T[I]){const F=T[I];F.showCollisionBoxes=E.showCollisionBoxes,F.enableTerrain=!!E.enableTerrain;const N=(X,K)=>{const ne=F.reloadCallback;ne&&(delete F.reloadCallback,F.parse(F.vectorTile,O.layerIndex,this.availableImages,O.actor,ne)),o(X,K)};F.status==="parsing"?F.reloadCallback=N:F.status==="done"&&(F.vectorTile?F.parse(F.vectorTile,this.layerIndex,this.availableImages,this.actor,N):N())}}abortTile(E,o){const T=E.uid,I=this.loading[T];I&&(I.abort&&I.abort(),delete this.loading[T]),o()}removeTile(E,o){const T=this.loaded,I=E.uid;T&&T[I]&&delete T[I],o()}},n.WritingMode=Pa,n.ZoomHistory=dt,n.add=function(E,o,T){return E[0]=o[0]+T[0],E[1]=o[1]+T[1],E[2]=o[2]+T[2],E},n.addDynamicAttributes=fu,n.altitudeFromMercatorZ=_u,n.asyncAll=se,n.bezier=Q,n.bindAll=He,n.bufferConvexPolygon=function(E,o){const T=[];for(let I=0;I<E.length;I++){const O=oe(I-1,-1,E.length-1),F=oe(I+1,-1,E.length-1),N=E[I],X=E[F],K=E[O].sub(N).unit(),ne=X.sub(N).unit(),ce=ne.angleWithSep(K.x,K.y),he=K.add(ne).unit().mult(-1*o/Math.sin(ce/2));T.push(N.add(he))}return T},n.cacheEntryPossiblyAdded=function(E){un++,un>Or&&(E.getActor().send("enforceCacheSizeLimit",Pr),un=0)},n.clamp=re,n.clearTileCache=function(E){const o=R.caches.delete(ir);E&&o.catch(E).then(()=>E())},n.clipLine=Pd,n.clone=function(E){var o=new Aa(3);return o[0]=E[0],o[1]=E[1],o[2]=E[2],o},n.clone$1=function(E){var o=new Aa(16);return o[0]=E[0],o[1]=E[1],o[2]=E[2],o[3]=E[3],o[4]=E[4],o[5]=E[5],o[6]=E[6],o[7]=E[7],o[8]=E[8],o[9]=E[9],o[10]=E[10],o[11]=E[11],o[12]=E[12],o[13]=E[13],o[14]=E[14],o[15]=E[15],o},n.clone$2=Ye,n.collisionCircleLayout=Pp,n.config=Vt,n.conjugate=function(E,o){return E[0]=-o[0],E[1]=-o[1],E[2]=-o[2],E[3]=o[3],E},n.copy=function(E,o){return E[0]=o[0],E[1]=o[1],E[2]=o[2],E},n.create=mc,n.create$1=function(){var E=new Aa(16);return Aa!=Float32Array&&(E[1]=0,E[2]=0,E[3]=0,E[4]=0,E[6]=0,E[7]=0,E[8]=0,E[9]=0,E[11]=0,E[12]=0,E[13]=0,E[14]=0),E[0]=1,E[5]=1,E[10]=1,E[15]=1,E},n.create$2=Vu,n.createExpression=As,n.createFilter=Ba,n.createLayout=Sr,n.createStyleLayer=function(E){return E.type==="custom"?new pf(E):new mf[E.type](E)},n.cross=function(E,o,T){var I=o[0],O=o[1],F=o[2],N=T[0],X=T[1],K=T[2];return E[0]=O*K-F*X,E[1]=F*N-I*K,E[2]=I*X-O*N,E},n.degToRad=U,n.div=function(E,o,T){return E[0]=o[0]/T[0],E[1]=o[1]/T[1],E[2]=o[2]/T[2],E},n.dot=function(E,o){return E[0]*o[0]+E[1]*o[1]+E[2]*o[2]},n.dot$1=function(E,o){return E[0]*o[0]+E[1]*o[1]+E[2]*o[2]+E[3]*o[3]},n.ease=te,n.easeCubicInOut=Y,n.emitValidationErrors=Ys,n.endsWith=rt,n.enforceCacheSizeLimit=function(E){Er(),mr&&mr.then(o=>{o.keys().then(T=>{for(let I=0;I<T.length-E;I++)o.delete(T[I])})})},n.evaluateSizeForFeature=xc,n.evaluateSizeForZoom=Dl,n.evaluateVariableOffset=zd,n.evented=_,n.exactEquals=function(E,o){return E[0]===o[0]&&E[1]===o[1]&&E[2]===o[2]&&E[3]===o[3]},n.exactEquals$1=function(E,o){return E[0]===o[0]&&E[1]===o[1]&&E[2]===o[2]},n.exported=Ht,n.exported$1=Ne,n.extend=ge,n.filterObject=bt,n.fromMat4=function(E,o){return E[0]=o[0],E[1]=o[1],E[2]=o[2],E[3]=o[4],E[4]=o[5],E[5]=o[6],E[6]=o[8],E[7]=o[9],E[8]=o[10],E},n.fromQuat=function(E,o){var T=o[0],I=o[1],O=o[2],F=o[3],N=T+T,X=I+I,K=O+O,ne=T*N,ce=I*N,he=I*X,ye=O*N,Te=O*X,Le=O*K,it=F*N,xt=F*X,Ot=F*K;return E[0]=1-he-Le,E[1]=ce+Ot,E[2]=ye-xt,E[3]=0,E[4]=ce-Ot,E[5]=1-ne-Le,E[6]=Te+it,E[7]=0,E[8]=ye+xt,E[9]=Te-it,E[10]=1-ne-he,E[11]=0,E[12]=0,E[13]=0,E[14]=0,E[15]=1,E},n.fromRotation=function(E,o){var T=Math.sin(o),I=Math.cos(o);return E[0]=I,E[1]=T,E[2]=0,E[3]=-T,E[4]=I,E[5]=0,E[6]=0,E[7]=0,E[8]=1,E},n.fromScaling=function(E,o){return E[0]=o[0],E[1]=0,E[2]=0,E[3]=0,E[4]=0,E[5]=o[1],E[6]=0,E[7]=0,E[8]=0,E[9]=0,E[10]=o[2],E[11]=0,E[12]=0,E[13]=0,E[14]=0,E[15]=1,E},n.furthestTileCorner=function(E){const o=Math.round((E+45+360)%360/90)%4;return q[o]},n.getAABBPointSquareDist=function(E,o,T){let I=0;for(let O=0;O<2;++O){const F=T?T[O]:0;E[O]>F&&(I+=(E[O]-F)*(E[O]-F)),o[O]<F&&(I+=(F-o[O])*(F-o[O]))}return I},n.getAnchorAlignment=cu,n.getAnchorJustification=hu,n.getBounds=function(E){let o=1/0,T=1/0,I=-1/0,O=-1/0;for(const F of E)o=Math.min(o,F.x),T=Math.min(T,F.y),I=Math.max(I,F.x),O=Math.max(O,F.y);return{min:new P(o,T),max:new P(I,O)}},n.getImage=Cr,n.getJSON=function(E,o){return Ie(ge(E,{type:"json"}),o)},n.getMapSessionAPI=lt,n.getPerformanceMeasurement=Yd,n.getRTLTextPluginStatus=A,n.getReferrer=_e,n.getVideo=function(E,o){const T=R.document.createElement("video");T.muted=!0,T.onloadstart=function(){o(null,T)};for(let I=0;I<E.length;I++){const O=R.document.createElement("source");er(E[I])||(T.crossOrigin="Anonymous"),O.src=E[I],T.appendChild(O)}return{cancel:()=>{}}},n.identity=Uc,n.identity$1=Yu,n.invert=function(E,o){var T=o[0],I=o[1],O=o[2],F=o[3],N=o[4],X=o[5],K=o[6],ne=o[7],ce=o[8],he=o[9],ye=o[10],Te=o[11],Le=o[12],it=o[13],xt=o[14],Ot=o[15],Zt=T*X-I*N,ar=T*K-O*N,vr=T*ne-F*N,yr=I*K-O*X,br=I*ne-F*X,Qr=O*ne-F*K,qr=ce*it-he*Le,Ur=ce*xt-ye*Le,an=ce*Ot-Te*Le,Dr=he*xt-ye*it,zr=he*Ot-Te*it,Ar=ye*Ot-Te*xt,Fr=Zt*Ar-ar*zr+vr*Dr+yr*an-br*Ur+Qr*qr;return Fr?(E[0]=(X*Ar-K*zr+ne*Dr)*(Fr=1/Fr),E[1]=(O*zr-I*Ar-F*Dr)*Fr,E[2]=(it*Qr-xt*br+Ot*yr)*Fr,E[3]=(ye*br-he*Qr-Te*yr)*Fr,E[4]=(K*an-N*Ar-ne*Ur)*Fr,E[5]=(T*Ar-O*an+F*Ur)*Fr,E[6]=(xt*vr-Le*Qr-Ot*ar)*Fr,E[7]=(ce*Qr-ye*vr+Te*ar)*Fr,E[8]=(N*zr-X*an+ne*qr)*Fr,E[9]=(I*an-T*zr-F*qr)*Fr,E[10]=(Le*br-it*vr+Ot*Zt)*Fr,E[11]=(he*vr-ce*br-Te*Zt)*Fr,E[12]=(X*Ur-N*Dr-K*qr)*Fr,E[13]=(T*Dr-I*Ur+O*qr)*Fr,E[14]=(it*ar-Le*yr-xt*Zt)*Fr,E[15]=(ce*yr-he*ar+ye*Zt)*Fr,E):null},n.isMapAuthenticated=function(E){return sr.has(E)},n.isvjmapsURL=yt,n.latFromMercatorY=$c,n.len=Nh,n.length=Gu,n.length$1=function(E){return Math.hypot(E[0],E[1],E[2],E[3])},n.loadVectorTile=gh,n.makeRequest=Ie,n.mercatorXfromLng=Zd,n.mercatorYfromLat=Xd,n.mercatorZfromAltitude=bu,n.mul=function(E,o,T){return E[0]=o[0]*T[0],E[1]=o[1]*T[1],E[2]=o[2]*T[2],E[3]=o[3]*T[3],E},n.mul$1=zh,n.mul$2=Bh,n.multiply=Uu,n.multiply$1=qu,n.nextPowerOfTwo=ke,n.normalize=Zu,n.normalize$1=function(E,o){var T=o[0],I=o[1],O=o[2],F=o[3],N=T*T+I*I+O*O+F*F;return N>0&&(N=1/Math.sqrt(N)),E[0]=T*N,E[1]=I*N,E[2]=O*N,E[3]=F*N,E},n.number=Bn,n.ortho=function(E,o,T,I,O,F,N){var X=1/(o-T),K=1/(I-O),ne=1/(F-N);return E[0]=-2*X,E[1]=0,E[2]=0,E[3]=0,E[4]=0,E[5]=-2*K,E[6]=0,E[7]=0,E[8]=0,E[9]=0,E[10]=2*ne,E[11]=0,E[12]=(o+T)*X,E[13]=(O+I)*K,E[14]=(N+F)*ne,E[15]=1,E},n.pbf=ic,n.perspective=function(E,o,T,I,O){var F,N=1/Math.tan(o/2);return E[0]=N/T,E[1]=0,E[2]=0,E[3]=0,E[4]=0,E[5]=N,E[6]=0,E[7]=0,E[8]=0,E[9]=0,E[11]=-1,E[12]=0,E[13]=0,E[15]=0,O!=null&&O!==1/0?(E[10]=(O+I)*(F=1/(I-O)),E[14]=2*O*I*F):(E[10]=-1,E[14]=-2*I),E},n.pick=function(E,o){const T={};for(let I=0;I<o.length;I++){const O=o[I];O in E&&(T[O]=E[O])}return T},n.plugin=G,n.pointGeometry=P,n.polygonIntersectsBox=Bu,n.polygonIntersectsPolygon=Ru,n.polygonizeBounds=function(E,o,T=0,I=!0){const O=new P(T,T),F=E.sub(O),N=o.add(O),X=[F,new P(N.x,F.y),N,new P(F.x,N.y)];return I&&X.push(F),X},n.posAttributes=bf,n.postMapLoadEvent=Ve,n.postTurnstileEvent=Hr,n.potpack=au,n.prevPowerOfTwo=function(E){return E<=1?1:Math.pow(2,Math.floor(Math.log(E)/Math.LN2))},n.radToDeg=function(E){return E*j},n.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],n.registerForPluginStateChange=function(E){return E({pluginStatus:En,pluginURL:Tn}),_.on("pluginStateChange",E),E},n.removeAuthState=function(E){sr.delete(E)},n.renderColorRamp=Wc,n.rotateX=function(E,o,T){var I=Math.sin(T),O=Math.cos(T),F=o[4],N=o[5],X=o[6],K=o[7],ne=o[8],ce=o[9],he=o[10],ye=o[11];return o!==E&&(E[0]=o[0],E[1]=o[1],E[2]=o[2],E[3]=o[3],E[12]=o[12],E[13]=o[13],E[14]=o[14],E[15]=o[15]),E[4]=F*O+ne*I,E[5]=N*O+ce*I,E[6]=X*O+he*I,E[7]=K*O+ye*I,E[8]=ne*O-F*I,E[9]=ce*O-N*I,E[10]=he*O-X*I,E[11]=ye*O-K*I,E},n.rotateX$1=Ku,n.rotateY=function(E,o,T){var I=Math.sin(T),O=Math.cos(T),F=o[0],N=o[1],X=o[2],K=o[3],ne=o[8],ce=o[9],he=o[10],ye=o[11];return o!==E&&(E[4]=o[4],E[5]=o[5],E[6]=o[6],E[7]=o[7],E[12]=o[12],E[13]=o[13],E[14]=o[14],E[15]=o[15]),E[0]=F*O-ne*I,E[1]=N*O-ce*I,E[2]=X*O-he*I,E[3]=K*O-ye*I,E[8]=F*I+ne*O,E[9]=N*I+ce*O,E[10]=X*I+he*O,E[11]=K*I+ye*O,E},n.rotateZ=function(E,o,T){var I=Math.sin(T),O=Math.cos(T),F=o[0],N=o[1],X=o[2],K=o[3],ne=o[4],ce=o[5],he=o[6],ye=o[7];return o!==E&&(E[8]=o[8],E[9]=o[9],E[10]=o[10],E[11]=o[11],E[12]=o[12],E[13]=o[13],E[14]=o[14],E[15]=o[15]),E[0]=F*O+ne*I,E[1]=N*O+ce*I,E[2]=X*O+he*I,E[3]=K*O+ye*I,E[4]=ne*O-F*I,E[5]=ce*O-N*I,E[6]=he*O-X*I,E[7]=ye*O-K*I,E},n.rotateZ$1=function(E,o,T){T*=.5;var I=o[0],O=o[1],F=o[2],N=o[3],X=Math.sin(T),K=Math.cos(T);return E[0]=I*K+O*X,E[1]=O*K-I*X,E[2]=F*K+N*X,E[3]=N*K-F*X,E},n.scale=function(E,o,T){return E[0]=o[0]*T,E[1]=o[1]*T,E[2]=o[2]*T,E},n.scale$1=function(E,o,T){var I=T[0],O=T[1],F=T[2];return E[0]=o[0]*I,E[1]=o[1]*I,E[2]=o[2]*I,E[3]=o[3]*I,E[4]=o[4]*O,E[5]=o[5]*O,E[6]=o[6]*O,E[7]=o[7]*O,E[8]=o[8]*F,E[9]=o[9]*F,E[10]=o[10]*F,E[11]=o[11]*F,E[12]=o[12],E[13]=o[13],E[14]=o[14],E[15]=o[15],E},n.scale$2=function(E,o,T){return E[0]=o[0]*T,E[1]=o[1]*T,E[2]=o[2]*T,E[3]=o[3]*T,E},n.scaleAndAdd=Wu,n.setCacheLimits=function(E,o){Pr=E,Or=o},n.setRTLTextPlugin=function(E,o,T=!1){if(En===rn||En===jr||En===Gr)throw new Error("setRTLTextPlugin cannot be called multiple times.");Tn=Ht.resolveURL(E),En=rn,_n=o,D(),T||L()},n.smoothstep=function(E,o,T){return(T=re((T-E)/(o-E),0,1))*T*(3-2*T)},n.spec=Et,n.storeAuthState=function(E,o){o?sr.add(E):sr.delete(E)},n.sub=Fh,n.subtract=Hu,n.symbolSize=Op,n.transformMat3=function(E,o,T){var I=o[0],O=o[1],F=o[2];return E[0]=I*T[0]+O*T[3]+F*T[6],E[1]=I*T[1]+O*T[4]+F*T[7],E[2]=I*T[2]+O*T[5]+F*T[8],E},n.transformMat4=Yl,n.transformMat4$1=function(E,o,T){var I=o[0],O=o[1],F=o[2],N=T[3]*I+T[7]*O+T[11]*F+T[15];return E[0]=(T[0]*I+T[4]*O+T[8]*F+T[12])/(N=N||1),E[1]=(T[1]*I+T[5]*O+T[9]*F+T[13])/N,E[2]=(T[2]*I+T[6]*O+T[10]*F+T[14])/N,E},n.transformQuat=Xu,n.translate=function(E,o,T){var I,O,F,N,X,K,ne,ce,he,ye,Te,Le,it=T[0],xt=T[1],Ot=T[2];return o===E?(E[12]=o[0]*it+o[4]*xt+o[8]*Ot+o[12],E[13]=o[1]*it+o[5]*xt+o[9]*Ot+o[13],E[14]=o[2]*it+o[6]*xt+o[10]*Ot+o[14],E[15]=o[3]*it+o[7]*xt+o[11]*Ot+o[15]):(O=o[1],F=o[2],N=o[3],X=o[4],K=o[5],ne=o[6],ce=o[7],he=o[8],ye=o[9],Te=o[10],Le=o[11],E[0]=I=o[0],E[1]=O,E[2]=F,E[3]=N,E[4]=X,E[5]=K,E[6]=ne,E[7]=ce,E[8]=he,E[9]=ye,E[10]=Te,E[11]=Le,E[12]=I*it+X*xt+he*Ot+o[12],E[13]=O*it+K*xt+ye*Ot+o[13],E[14]=F*it+ne*xt+Te*Ot+o[14],E[15]=N*it+ce*xt+Le*Ot+o[15]),E},n.triggerPluginCompletionEvent=Ln,n.uniqueId=$e,n.validateCustomStyleLayer=function(E){const o=[],T=E.id;return T===void 0&&o.push({message:`layers.${T}: missing required property "id"`}),E.render===void 0&&o.push({message:`layers.${T}: missing required method "render"`}),E.renderingMode&&E.renderingMode!=="2d"&&E.renderingMode!=="3d"&&o.push({message:`layers.${T}: property "renderingMode" must be either "2d" or "3d"`}),o},n.validateFog=dl,n.validateLight=Gl,n.validateStyle=ws,n.values=fe,n.vectorTile=yl,n.version=S,n.warnOnce=at,n.window=R,n.wrap=oe}),f(0,function(n){function S(Ze){const _e=typeof Ze;if(_e==="number"||_e==="boolean"||_e==="string"||Ze==null)return JSON.stringify(Ze);if(Array.isArray(Ze)){let ct="[";for(const kt of Ze)ct+=S(kt)+",";return ct+"]"}const Ie=Object.keys(Ze).sort();let Qe="{";for(let ct=0;ct<Ie.length;ct++)Qe+=`${JSON.stringify(Ie[ct])}:${S(Ze[Ie[ct]])},`;return Qe+"}"}function k(Ze){let _e="";for(const Ie of n.refProperties)_e+="/"+S(Ze[Ie]);return _e}class M{constructor(_e){this.keyCache={},_e&&this.replace(_e)}replace(_e){this._layerConfigs={},this._layers={},this.update(_e,[])}update(_e,Ie){for(const ct of _e){this._layerConfigs[ct.id]=ct;const kt=this._layers[ct.id]=n.createStyleLayer(ct);kt._featureFilter=n.createFilter(kt.filter),this.keyCache[ct.id]&&delete this.keyCache[ct.id]}for(const ct of Ie)delete this.keyCache[ct],delete this._layerConfigs[ct],delete this._layers[ct];this.familiesBySource={};const Qe=function(ct,kt){const er={};for(let Nt=0;Nt<ct.length;Nt++){const Qt=kt&&kt[ct[Nt].id]||k(ct[Nt]);kt&&(kt[ct[Nt].id]=Qt);let Cr=er[Qt];Cr||(Cr=er[Qt]=[]),Cr.push(ct[Nt])}const Kt=[];for(const Nt in er)Kt.push(er[Nt]);return Kt}(n.values(this._layerConfigs),this.keyCache);for(const ct of Qe){const kt=ct.map(Lr=>this._layers[Lr.id]),er=kt[0];if(er.visibility==="none")continue;const Kt=er.source||"";let Nt=this.familiesBySource[Kt];Nt||(Nt=this.familiesBySource[Kt]={});const Qt=er.sourceLayer||"_geojsonTileLayer";let Cr=Nt[Qt];Cr||(Cr=Nt[Qt]=[]),Cr.push(kt)}}}const{ImageBitmap:P}=n.window;class ${loadTile(_e,Ie){const{uid:Qe,encoding:ct,rawImageData:kt,padding:er,buildQuadTree:Kt}=_e,Nt=P&&kt instanceof P?this.getImageData(kt,er):kt;Ie(null,new n.DEMData(Qe,Nt,ct,er<1,Kt))}getImageData(_e,Ie){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(_e.width,_e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=_e.width,this.offscreenCanvas.height=_e.height,this.offscreenCanvasContext.drawImage(_e,0,0,_e.width,_e.height);const Qe=this.offscreenCanvasContext.getImageData(-Ie,-Ie,_e.width+2*Ie,_e.height+2*Ie);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new n.RGBAImage({width:Qe.width,height:Qe.height},Qe.data)}}var R=function Ze(_e,Ie){var Qe,ct=_e&&_e.type;if(ct==="FeatureCollection")for(Qe=0;Qe<_e.features.length;Qe++)Ze(_e.features[Qe],Ie);else if(ct==="GeometryCollection")for(Qe=0;Qe<_e.geometries.length;Qe++)Ze(_e.geometries[Qe],Ie);else if(ct==="Feature")Ze(_e.geometry,Ie);else if(ct==="Polygon")B(_e.coordinates,Ie);else if(ct==="MultiPolygon")for(Qe=0;Qe<_e.coordinates.length;Qe++)B(_e.coordinates[Qe],Ie);return _e};function B(Ze,_e){if(Ze.length!==0){V(Ze[0],_e);for(var Ie=1;Ie<Ze.length;Ie++)V(Ze[Ie],!_e)}}function V(Ze,_e){for(var Ie=0,Qe=0,ct=Ze.length,kt=ct-1;Qe<ct;kt=Qe++)Ie+=(Ze[Qe][0]-Ze[kt][0])*(Ze[kt][1]+Ze[Qe][1]);Ie>=0!=!!_e&&Ze.reverse()}const j=n.vectorTile.VectorTileFeature.prototype.toGeoJSON;class U{constructor(_e){this._feature=_e,this.extent=n.EXTENT,this.type=_e.type,this.properties=_e.tags,"id"in _e&&!isNaN(_e.id)&&(this.id=parseInt(_e.id,10))}loadGeometry(){if(this._feature.type===1){const _e=[];for(const Ie of this._feature.geometry)_e.push([new n.pointGeometry(Ie[0],Ie[1])]);return _e}{const _e=[];for(const Ie of this._feature.geometry){const Qe=[];for(const ct of Ie)Qe.push(new n.pointGeometry(ct[0],ct[1]));_e.push(Qe)}return _e}}toGeoJSON(_e,Ie,Qe){return j.call(this,_e,Ie,Qe)}}class q{constructor(_e){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=_e.length,this._features=_e}feature(_e){return new U(this._features[_e])}}var Y=n.vectorTile.VectorTileFeature,Q=te;function te(Ze,_e){this.options=_e||{},this.features=Ze,this.length=Ze.length}function re(Ze,_e){this.id=typeof Ze.id=="number"?Ze.id:void 0,this.type=Ze.type,this.rawGeometry=Ze.type===1?[Ze.geometry]:Ze.geometry,this.properties=Ze.tags,this.extent=_e||4096}te.prototype.feature=function(Ze){return new re(this.features[Ze],this.options.extent)},re.prototype.loadGeometry=function(){var Ze=this.rawGeometry;this.geometry=[];for(var _e=0;_e<Ze.length;_e++){for(var Ie=Ze[_e],Qe=[],ct=0;ct<Ie.length;ct++)Qe.push(new n.pointGeometry(Ie[ct][0],Ie[ct][1]));this.geometry.push(Qe)}return this.geometry},re.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ze=this.geometry,_e=1/0,Ie=-1/0,Qe=1/0,ct=-1/0,kt=0;kt<Ze.length;kt++)for(var er=Ze[kt],Kt=0;Kt<er.length;Kt++){var Nt=er[Kt];_e=Math.min(_e,Nt.x),Ie=Math.max(Ie,Nt.x),Qe=Math.min(Qe,Nt.y),ct=Math.max(ct,Nt.y)}return[_e,Qe,Ie,ct]},re.prototype.toGeoJSON=Y.prototype.toGeoJSON;var oe=fe,se=Q;function fe(Ze){var _e=new n.pbf;return function(Ie,Qe){for(var ct in Ie.layers)Qe.writeMessage(3,ge,Ie.layers[ct])}(Ze,_e),_e.finish()}function ge(Ze,_e){var Ie;_e.writeVarintField(15,Ze.version||1),_e.writeStringField(1,Ze.name||""),_e.writeVarintField(5,Ze.extent||4096);var Qe={keys:[],values:[],keycache:{},valuecache:{}};for(Ie=0;Ie<Ze.length;Ie++)Qe.feature=Ze.feature(Ie),_e.writeMessage(2,Ce,Qe);var ct=Qe.keys;for(Ie=0;Ie<ct.length;Ie++)_e.writeStringField(3,ct[Ie]);var kt=Qe.values;for(Ie=0;Ie<kt.length;Ie++)_e.writeMessage(4,He,kt[Ie])}function Ce(Ze,_e){var Ie=Ze.feature;Ie.id!==void 0&&_e.writeVarintField(1,Ie.id),_e.writeMessage(2,$e,Ze),_e.writeVarintField(3,Ie.type),_e.writeMessage(4,Ee,Ie)}function $e(Ze,_e){var Ie=Ze.feature,Qe=Ze.keys,ct=Ze.values,kt=Ze.keycache,er=Ze.valuecache;for(var Kt in Ie.properties){var Nt=kt[Kt];Nt===void 0&&(Qe.push(Kt),kt[Kt]=Nt=Qe.length-1),_e.writeVarint(Nt);var Qt=Ie.properties[Kt],Cr=typeof Qt;Cr!=="string"&&Cr!=="boolean"&&Cr!=="number"&&(Qt=JSON.stringify(Qt));var Lr=Cr+":"+Qt,Tr=er[Lr];Tr===void 0&&(ct.push(Qt),er[Lr]=Tr=ct.length-1),_e.writeVarint(Tr)}}function be(Ze,_e){return(_e<<3)+(7&Ze)}function ke(Ze){return Ze<<1^Ze>>31}function Ee(Ze,_e){for(var Ie=Ze.loadGeometry(),Qe=Ze.type,ct=0,kt=0,er=Ie.length,Kt=0;Kt<er;Kt++){var Nt=Ie[Kt],Qt=1;Qe===1&&(Qt=Nt.length),_e.writeVarint(be(1,Qt));for(var Cr=Qe===3?Nt.length-1:Nt.length,Lr=0;Lr<Cr;Lr++){Lr===1&&Qe!==1&&_e.writeVarint(be(2,Cr-1));var Tr=Nt[Lr].x-ct,ln=Nt[Lr].y-kt;_e.writeVarint(ke(Tr)),_e.writeVarint(ke(ln)),ct+=Tr,kt+=ln}Qe===3&&_e.writeVarint(be(7,1))}}function He(Ze,_e){var Ie=typeof Ze;Ie==="string"?_e.writeStringField(1,Ze):Ie==="boolean"?_e.writeBooleanField(7,Ze):Ie==="number"&&(Ze%1!=0?_e.writeDoubleField(3,Ze):Ze<0?_e.writeSVarintField(6,Ze):_e.writeVarintField(5,Ze))}function rt(Ze,_e,Ie,Qe,ct,kt){if(ct-Qe<=Ie)return;const er=Qe+ct>>1;(function Kt(Nt,Qt,Cr,Lr,Tr,ln){for(;Tr>Lr;){if(Tr-Lr>600){const _r=Tr-Lr+1,Wn=Cr-Lr+1,jn=Math.log(_r),xn=.5*Math.exp(2*jn/3),zn=.5*Math.sqrt(jn*xn*(_r-xn)/_r)*(Wn-_r/2<0?-1:1);Kt(Nt,Qt,Cr,Math.max(Lr,Math.floor(Cr-Wn*xn/_r+zn)),Math.min(Tr,Math.floor(Cr+(_r-Wn)*xn/_r+zn)),ln)}const mn=Qt[2*Cr+ln];let Yr=Lr,Et=Tr;for(ft(Nt,Qt,Lr,Cr),Qt[2*Tr+ln]>mn&&ft(Nt,Qt,Lr,Tr);Yr<Et;){for(ft(Nt,Qt,Yr,Et),Yr++,Et--;Qt[2*Yr+ln]<mn;)Yr++;for(;Qt[2*Et+ln]>mn;)Et--}Qt[2*Lr+ln]===mn?ft(Nt,Qt,Lr,Et):(Et++,ft(Nt,Qt,Et,Tr)),Et<=Cr&&(Lr=Et+1),Cr<=Et&&(Tr=Et-1)}})(Ze,_e,er,Qe,ct,kt%2),rt(Ze,_e,Ie,Qe,er-1,kt+1),rt(Ze,_e,Ie,er+1,ct,kt+1)}function ft(Ze,_e,Ie,Qe){bt(Ze,Ie,Qe),bt(_e,2*Ie,2*Qe),bt(_e,2*Ie+1,2*Qe+1)}function bt(Ze,_e,Ie){const Qe=Ze[_e];Ze[_e]=Ze[Ie],Ze[Ie]=Qe}function Ye(Ze,_e,Ie,Qe){const ct=Ze-Ie,kt=_e-Qe;return ct*ct+kt*kt}oe.fromVectorTileJs=fe,oe.fromGeojsonVt=function(Ze,_e){_e=_e||{};var Ie={};for(var Qe in Ze)Ie[Qe]=new Q(Ze[Qe].features,_e),Ie[Qe].name=Qe,Ie[Qe].version=_e.version,Ie[Qe].extent=_e.extent;return fe({layers:Ie})},oe.GeoJSONWrapper=se;const De=Ze=>Ze[0],at=Ze=>Ze[1];class Ut{constructor(_e,Ie=De,Qe=at,ct=64,kt=Float64Array){this.nodeSize=ct,this.points=_e;const er=_e.length<65536?Uint16Array:Uint32Array,Kt=this.ids=new er(_e.length),Nt=this.coords=new kt(2*_e.length);for(let Qt=0;Qt<_e.length;Qt++)Kt[Qt]=Qt,Nt[2*Qt]=Ie(_e[Qt]),Nt[2*Qt+1]=Qe(_e[Qt]);rt(Kt,Nt,ct,0,Kt.length-1,0)}range(_e,Ie,Qe,ct){return function(kt,er,Kt,Nt,Qt,Cr,Lr){const Tr=[0,kt.length-1,0],ln=[];let mn,Yr;for(;Tr.length;){const Et=Tr.pop(),_r=Tr.pop(),Wn=Tr.pop();if(_r-Wn<=Lr){for(let zn=Wn;zn<=_r;zn++)mn=er[2*zn],Yr=er[2*zn+1],mn>=Kt&&mn<=Qt&&Yr>=Nt&&Yr<=Cr&&ln.push(kt[zn]);continue}const jn=Math.floor((Wn+_r)/2);mn=er[2*jn],Yr=er[2*jn+1],mn>=Kt&&mn<=Qt&&Yr>=Nt&&Yr<=Cr&&ln.push(kt[jn]);const xn=(Et+1)%2;(Et===0?Kt<=mn:Nt<=Yr)&&(Tr.push(Wn),Tr.push(jn-1),Tr.push(xn)),(Et===0?Qt>=mn:Cr>=Yr)&&(Tr.push(jn+1),Tr.push(_r),Tr.push(xn))}return ln}(this.ids,this.coords,_e,Ie,Qe,ct,this.nodeSize)}within(_e,Ie,Qe){return function(ct,kt,er,Kt,Nt,Qt){const Cr=[0,ct.length-1,0],Lr=[],Tr=Nt*Nt;for(;Cr.length;){const ln=Cr.pop(),mn=Cr.pop(),Yr=Cr.pop();if(mn-Yr<=Qt){for(let xn=Yr;xn<=mn;xn++)Ye(kt[2*xn],kt[2*xn+1],er,Kt)<=Tr&&Lr.push(ct[xn]);continue}const Et=Math.floor((Yr+mn)/2),_r=kt[2*Et],Wn=kt[2*Et+1];Ye(_r,Wn,er,Kt)<=Tr&&Lr.push(ct[Et]);const jn=(ln+1)%2;(ln===0?er-Nt<=_r:Kt-Nt<=Wn)&&(Cr.push(Yr),Cr.push(Et-1),Cr.push(jn)),(ln===0?er+Nt>=_r:Kt+Nt>=Wn)&&(Cr.push(Et+1),Cr.push(mn),Cr.push(jn))}return Lr}(this.ids,this.coords,_e,Ie,Qe,this.nodeSize)}}const je={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Ze=>Ze},tt=Math.fround||(We=new Float32Array(1),Ze=>(We[0]=+Ze,We[0]));var We;class Gt{constructor(_e){this.options=Vt(Object.create(je),_e),this.trees=new Array(this.options.maxZoom+1)}load(_e){const{log:Ie,minZoom:Qe,maxZoom:ct,nodeSize:kt}=this.options;Ie&&console.time("total time");const er=`prepare ${_e.length} points`;Ie&&console.time(er),this.points=_e;let Kt=[];for(let Nt=0;Nt<_e.length;Nt++)_e[Nt].geometry&&Kt.push(Mt(_e[Nt],Nt));this.trees[ct+1]=new Ut(Kt,Ne,ot,kt,Float32Array),Ie&&console.timeEnd(er);for(let Nt=ct;Nt>=Qe;Nt--)Kt=this._cluster(Kt,Nt),this.trees[Nt]=new Ut(Kt,Ne,ot,kt,Float32Array);return Ie&&console.timeEnd("total time"),this}getClusters(_e,Ie){let Qe=((_e[0]+180)%360+360)%360-180;const ct=Math.max(-90,Math.min(90,_e[1]));let kt=_e[2]===180?180:((_e[2]+180)%360+360)%360-180;const er=Math.max(-90,Math.min(90,_e[3]));if(_e[2]-_e[0]>=360)Qe=-180,kt=180;else if(Qe>kt){const Cr=this.getClusters([Qe,ct,180,er],Ie),Lr=this.getClusters([-180,ct,kt,er],Ie);return Cr.concat(Lr)}const Kt=this.trees[this._limitZoom(Ie)],Nt=Kt.range(ut(Qe),Ht(er),ut(kt),Ht(ct)),Qt=[];for(const Cr of Nt){const Lr=Kt.points[Cr];Qt.push(Lr.numPoints?Rt(Lr):this.points[Lr.index])}return Qt}getChildren(_e){const Ie=this._getOriginId(_e),Qe=this._getOriginZoom(_e),ct="No cluster with the specified id.",kt=this.trees[Qe];if(!kt)throw new Error(ct);const er=kt.points[Ie];if(!er)throw new Error(ct);const Kt=this.options.radius/(this.options.extent*Math.pow(2,Qe-1)),Nt=kt.within(er.x,er.y,Kt),Qt=[];for(const Cr of Nt){const Lr=kt.points[Cr];Lr.parentId===_e&&Qt.push(Lr.numPoints?Rt(Lr):this.points[Lr.index])}if(Qt.length===0)throw new Error(ct);return Qt}getLeaves(_e,Ie,Qe){const ct=[];return this._appendLeaves(ct,_e,Ie=Ie||10,Qe=Qe||0,0),ct}getTile(_e,Ie,Qe){const ct=this.trees[this._limitZoom(_e)],kt=Math.pow(2,_e),{extent:er,radius:Kt}=this.options,Nt=Kt/er,Qt=(Qe-Nt)/kt,Cr=(Qe+1+Nt)/kt,Lr={features:[]};return this._addTileFeatures(ct.range((Ie-Nt)/kt,Qt,(Ie+1+Nt)/kt,Cr),ct.points,Ie,Qe,kt,Lr),Ie===0&&this._addTileFeatures(ct.range(1-Nt/kt,Qt,1,Cr),ct.points,kt,Qe,kt,Lr),Ie===kt-1&&this._addTileFeatures(ct.range(0,Qt,Nt/kt,Cr),ct.points,-1,Qe,kt,Lr),Lr.features.length?Lr:null}getClusterExpansionZoom(_e){let Ie=this._getOriginZoom(_e)-1;for(;Ie<=this.options.maxZoom;){const Qe=this.getChildren(_e);if(Ie++,Qe.length!==1)break;_e=Qe[0].properties.cluster_id}return Ie}_appendLeaves(_e,Ie,Qe,ct,kt){const er=this.getChildren(Ie);for(const Kt of er){const Nt=Kt.properties;if(Nt&&Nt.cluster?kt+Nt.point_count<=ct?kt+=Nt.point_count:kt=this._appendLeaves(_e,Nt.cluster_id,Qe,ct,kt):kt<ct?kt++:_e.push(Kt),_e.length===Qe)break}return kt}_addTileFeatures(_e,Ie,Qe,ct,kt,er){for(const Kt of _e){const Nt=Ie[Kt],Qt=Nt.numPoints;let Cr,Lr,Tr;if(Qt)Cr=Jt(Nt),Lr=Nt.x,Tr=Nt.y;else{const Yr=this.points[Nt.index];Cr=Yr.properties,Lr=ut(Yr.geometry.coordinates[0]),Tr=Ht(Yr.geometry.coordinates[1])}const ln={type:1,geometry:[[Math.round(this.options.extent*(Lr*kt-Qe)),Math.round(this.options.extent*(Tr*kt-ct))]],tags:Cr};let mn;Qt?mn=Nt.id:this.options.generateId?mn=Nt.index:this.points[Nt.index].id&&(mn=this.points[Nt.index].id),mn!==void 0&&(ln.id=mn),er.features.push(ln)}}_limitZoom(_e){return Math.max(this.options.minZoom,Math.min(+_e,this.options.maxZoom+1))}_cluster(_e,Ie){const Qe=[],{radius:ct,extent:kt,reduce:er,minPoints:Kt}=this.options,Nt=ct/(kt*Math.pow(2,Ie));for(let Qt=0;Qt<_e.length;Qt++){const Cr=_e[Qt];if(Cr.zoom<=Ie)continue;Cr.zoom=Ie;const Lr=this.trees[Ie+1],Tr=Lr.within(Cr.x,Cr.y,Nt),ln=Cr.numPoints||1;let mn=ln;for(const Yr of Tr){const Et=Lr.points[Yr];Et.zoom>Ie&&(mn+=Et.numPoints||1)}if(mn>=Kt){let Yr=Cr.x*ln,Et=Cr.y*ln,_r=er&&ln>1?this._map(Cr,!0):null;const Wn=(Qt<<5)+(Ie+1)+this.points.length;for(const jn of Tr){const xn=Lr.points[jn];if(xn.zoom<=Ie)continue;xn.zoom=Ie;const zn=xn.numPoints||1;Yr+=xn.x*zn,Et+=xn.y*zn,xn.parentId=Wn,er&&(_r||(_r=this._map(Cr,!0)),er(_r,this._map(xn)))}Cr.parentId=Wn,Qe.push(gt(Yr/mn,Et/mn,Wn,mn,_r))}else if(Qe.push(Cr),mn>1)for(const Yr of Tr){const Et=Lr.points[Yr];Et.zoom<=Ie||(Et.zoom=Ie,Qe.push(Et))}}return Qe}_getOriginId(_e){return _e-this.points.length>>5}_getOriginZoom(_e){return(_e-this.points.length)%32}_map(_e,Ie){if(_e.numPoints)return Ie?Vt({},_e.properties):_e.properties;const Qe=this.points[_e.index].properties,ct=this.options.map(Qe);return Ie&&ct===Qe?Vt({},ct):ct}}function gt(Ze,_e,Ie,Qe,ct){return{x:tt(Ze),y:tt(_e),zoom:1/0,id:Ie,parentId:-1,numPoints:Qe,properties:ct}}function Mt(Ze,_e){const[Ie,Qe]=Ze.geometry.coordinates;return{x:tt(ut(Ie)),y:tt(Ht(Qe)),zoom:1/0,index:_e,parentId:-1}}function Rt(Ze){return{type:"Feature",id:Ze.id,properties:Jt(Ze),geometry:{type:"Point",coordinates:[(_e=Ze.x,360*(_e-.5)),cr(Ze.y)]}};var _e}function Jt(Ze){const _e=Ze.numPoints,Ie=_e>=1e4?Math.round(_e/1e3)+"k":_e>=1e3?Math.round(_e/100)/10+"k":_e;return Vt(Vt({},Ze.properties),{cluster:!0,cluster_id:Ze.id,point_count:_e,point_count_abbreviated:Ie})}function ut(Ze){return Ze/360+.5}function Ht(Ze){const _e=Math.sin(Ze*Math.PI/180),Ie=.5-.25*Math.log((1+_e)/(1-_e))/Math.PI;return Ie<0?0:Ie>1?1:Ie}function cr(Ze){const _e=(180-360*Ze)*Math.PI/180;return 360*Math.atan(Math.exp(_e))/Math.PI-90}function Vt(Ze,_e){for(const Ie in _e)Ze[Ie]=_e[Ie];return Ze}function Ne(Ze){return Ze.x}function ot(Ze){return Ze.y}function Tt(Ze,_e,Ie,Qe,ct,kt){var er=ct-Ie,Kt=kt-Qe;if(er!==0||Kt!==0){var Nt=((Ze-Ie)*er+(_e-Qe)*Kt)/(er*er+Kt*Kt);Nt>1?(Ie=ct,Qe=kt):Nt>0&&(Ie+=er*Nt,Qe+=Kt*Nt)}return(er=Ze-Ie)*er+(Kt=_e-Qe)*Kt}function St(Ze,_e,Ie,Qe){var ct={id:Ze===void 0?null:Ze,type:_e,geometry:Ie,tags:Qe,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(kt){var er=kt.geometry,Kt=kt.type;if(Kt==="Point"||Kt==="MultiPoint"||Kt==="LineString")jt(kt,er);else if(Kt==="Polygon"||Kt==="MultiLineString")for(var Nt=0;Nt<er.length;Nt++)jt(kt,er[Nt]);else if(Kt==="MultiPolygon")for(Nt=0;Nt<er.length;Nt++)for(var Qt=0;Qt<er[Nt].length;Qt++)jt(kt,er[Nt][Qt])}(ct),ct}function jt(Ze,_e){for(var Ie=0;Ie<_e.length;Ie+=3)Ze.minX=Math.min(Ze.minX,_e[Ie]),Ze.minY=Math.min(Ze.minY,_e[Ie+1]),Ze.maxX=Math.max(Ze.maxX,_e[Ie]),Ze.maxY=Math.max(Ze.maxY,_e[Ie+1])}function or(Ze,_e,Ie,Qe){if(_e.geometry){var ct=_e.geometry.coordinates,kt=_e.geometry.type,er=Math.pow(Ie.tolerance/((1<<Ie.maxZoom)*Ie.extent),2),Kt=[],Nt=_e.id;if(Ie.promoteId?Nt=_e.properties[Ie.promoteId]:Ie.generateId&&(Nt=Qe||0),kt==="Point")xr(ct,Kt);else if(kt==="MultiPoint")for(var Qt=0;Qt<ct.length;Qt++)xr(ct[Qt],Kt);else if(kt==="LineString")st(ct,Kt,er,!1);else if(kt==="MultiLineString"){if(Ie.lineMetrics){for(Qt=0;Qt<ct.length;Qt++)st(ct[Qt],Kt=[],er,!1),Ze.push(St(Nt,"LineString",Kt,_e.properties));return}yt(ct,Kt,er,!1)}else if(kt==="Polygon")yt(ct,Kt,er,!0);else{if(kt!=="MultiPolygon"){if(kt==="GeometryCollection"){for(Qt=0;Qt<_e.geometry.geometries.length;Qt++)or(Ze,{id:Nt,geometry:_e.geometry.geometries[Qt],properties:_e.properties},Ie,Qe);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Qt=0;Qt<ct.length;Qt++){var Cr=[];yt(ct[Qt],Cr,er,!0),Kt.push(Cr)}}Ze.push(St(Nt,kt,Kt,_e.properties))}}function xr(Ze,_e){_e.push(Ft(Ze[0])),_e.push(zt(Ze[1])),_e.push(0)}function st(Ze,_e,Ie,Qe){for(var ct,kt,er=0,Kt=0;Kt<Ze.length;Kt++){var Nt=Ft(Ze[Kt][0]),Qt=zt(Ze[Kt][1]);_e.push(Nt),_e.push(Qt),_e.push(0),Kt>0&&(er+=Qe?(ct*Qt-Nt*kt)/2:Math.sqrt(Math.pow(Nt-ct,2)+Math.pow(Qt-kt,2))),ct=Nt,kt=Qt}var Cr=_e.length-3;_e[2]=1,function Lr(Tr,ln,mn,Yr){for(var Et,_r=Yr,Wn=mn-ln>>1,jn=mn-ln,xn=Tr[ln],zn=Tr[ln+1],li=Tr[mn],Ri=Tr[mn+1],ci=ln+3;ci<mn;ci+=3){var tn=Tt(Tr[ci],Tr[ci+1],xn,zn,li,Ri);if(tn>_r)Et=ci,_r=tn;else if(tn===_r){var On=Math.abs(ci-Wn);On<jn&&(Et=ci,jn=On)}}_r>Yr&&(Et-ln>3&&Lr(Tr,ln,Et,Yr),Tr[Et+2]=_r,mn-Et>3&&Lr(Tr,Et,mn,Yr))}(_e,0,Cr,Ie),_e[Cr+2]=1,_e.size=Math.abs(er),_e.start=0,_e.end=_e.size}function yt(Ze,_e,Ie,Qe){for(var ct=0;ct<Ze.length;ct++){var kt=[];st(Ze[ct],kt,Ie,Qe),_e.push(kt)}}function Ft(Ze){return Ze/360+.5}function zt(Ze){var _e=Math.sin(Ze*Math.PI/180),Ie=.5-.25*Math.log((1+_e)/(1-_e))/Math.PI;return Ie<0?0:Ie>1?1:Ie}function Ct(Ze,_e,Ie,Qe,ct,kt,er,Kt){if(Qe/=_e,kt>=(Ie/=_e)&&er<Qe)return Ze;if(er<Ie||kt>=Qe)return null;for(var Nt=[],Qt=0;Qt<Ze.length;Qt++){var Cr=Ze[Qt],Lr=Cr.geometry,Tr=Cr.type,ln=ct===0?Cr.minX:Cr.minY,mn=ct===0?Cr.maxX:Cr.maxY;if(ln>=Ie&&mn<Qe)Nt.push(Cr);else if(!(mn<Ie||ln>=Qe)){var Yr=[];if(Tr==="Point"||Tr==="MultiPoint")gr(Lr,Yr,Ie,Qe,ct);else if(Tr==="LineString")Mr(Lr,Yr,Ie,Qe,ct,!1,Kt.lineMetrics);else if(Tr==="MultiLineString")sn(Lr,Yr,Ie,Qe,ct,!1);else if(Tr==="Polygon")sn(Lr,Yr,Ie,Qe,ct,!0);else if(Tr==="MultiPolygon")for(var Et=0;Et<Lr.length;Et++){var _r=[];sn(Lr[Et],_r,Ie,Qe,ct,!0),_r.length&&Yr.push(_r)}if(Yr.length){if(Kt.lineMetrics&&Tr==="LineString"){for(Et=0;Et<Yr.length;Et++)Nt.push(St(Cr.id,Tr,Yr[Et],Cr.tags));continue}Tr!=="LineString"&&Tr!=="MultiLineString"||(Yr.length===1?(Tr="LineString",Yr=Yr[0]):Tr="MultiLineString"),Tr!=="Point"&&Tr!=="MultiPoint"||(Tr=Yr.length===3?"Point":"MultiPoint"),Nt.push(St(Cr.id,Tr,Yr,Cr.tags))}}}return Nt.length?Nt:null}function gr(Ze,_e,Ie,Qe,ct){for(var kt=0;kt<Ze.length;kt+=3){var er=Ze[kt+ct];er>=Ie&&er<=Qe&&(_e.push(Ze[kt]),_e.push(Ze[kt+1]),_e.push(Ze[kt+2]))}}function Mr(Ze,_e,Ie,Qe,ct,kt,er){for(var Kt,Nt,Qt=Br(Ze),Cr=ct===0?cn:Ve,Lr=Ze.start,Tr=0;Tr<Ze.length-3;Tr+=3){var ln=Ze[Tr],mn=Ze[Tr+1],Yr=Ze[Tr+2],Et=Ze[Tr+3],_r=Ze[Tr+4],Wn=ct===0?ln:mn,jn=ct===0?Et:_r,xn=!1;er&&(Kt=Math.sqrt(Math.pow(ln-Et,2)+Math.pow(mn-_r,2))),Wn<Ie?jn>Ie&&(Nt=Cr(Qt,ln,mn,Et,_r,Ie),er&&(Qt.start=Lr+Kt*Nt)):Wn>Qe?jn<Qe&&(Nt=Cr(Qt,ln,mn,Et,_r,Qe),er&&(Qt.start=Lr+Kt*Nt)):Hr(Qt,ln,mn,Yr),jn<Ie&&Wn>=Ie&&(Nt=Cr(Qt,ln,mn,Et,_r,Ie),xn=!0),jn>Qe&&Wn<=Qe&&(Nt=Cr(Qt,ln,mn,Et,_r,Qe),xn=!0),!kt&&xn&&(er&&(Qt.end=Lr+Kt*Nt),_e.push(Qt),Qt=Br(Ze)),er&&(Lr+=Kt)}var zn=Ze.length-3;ln=Ze[zn],mn=Ze[zn+1],Yr=Ze[zn+2],(Wn=ct===0?ln:mn)>=Ie&&Wn<=Qe&&Hr(Qt,ln,mn,Yr),zn=Qt.length-3,kt&&zn>=3&&(Qt[zn]!==Qt[0]||Qt[zn+1]!==Qt[1])&&Hr(Qt,Qt[0],Qt[1],Qt[2]),Qt.length&&_e.push(Qt)}function Br(Ze){var _e=[];return _e.size=Ze.size,_e.start=Ze.start,_e.end=Ze.end,_e}function sn(Ze,_e,Ie,Qe,ct,kt){for(var er=0;er<Ze.length;er++)Mr(Ze[er],_e,Ie,Qe,ct,kt,!1)}function Hr(Ze,_e,Ie,Qe){Ze.push(_e),Ze.push(Ie),Ze.push(Qe)}function cn(Ze,_e,Ie,Qe,ct,kt){var er=(kt-_e)/(Qe-_e);return Ze.push(kt),Ze.push(Ie+(ct-Ie)*er),Ze.push(1),er}function Ve(Ze,_e,Ie,Qe,ct,kt){var er=(kt-Ie)/(ct-Ie);return Ze.push(_e+(Qe-_e)*er),Ze.push(kt),Ze.push(1),er}function ve(Ze,_e){for(var Ie=[],Qe=0;Qe<Ze.length;Qe++){var ct,kt=Ze[Qe],er=kt.type;if(er==="Point"||er==="MultiPoint"||er==="LineString")ct=lt(kt.geometry,_e);else if(er==="MultiLineString"||er==="Polygon"){ct=[];for(var Kt=0;Kt<kt.geometry.length;Kt++)ct.push(lt(kt.geometry[Kt],_e))}else if(er==="MultiPolygon")for(ct=[],Kt=0;Kt<kt.geometry.length;Kt++){for(var Nt=[],Qt=0;Qt<kt.geometry[Kt].length;Qt++)Nt.push(lt(kt.geometry[Kt][Qt],_e));ct.push(Nt)}Ie.push(St(kt.id,er,ct,kt.tags))}return Ie}function lt(Ze,_e){var Ie=[];Ie.size=Ze.size,Ze.start!==void 0&&(Ie.start=Ze.start,Ie.end=Ze.end);for(var Qe=0;Qe<Ze.length;Qe+=3)Ie.push(Ze[Qe]+_e,Ze[Qe+1],Ze[Qe+2]);return Ie}function sr(Ze,_e){if(Ze.transformed)return Ze;var Ie,Qe,ct,kt=1<<Ze.z,er=Ze.x,Kt=Ze.y;for(Ie=0;Ie<Ze.features.length;Ie++){var Nt=Ze.features[Ie],Qt=Nt.geometry,Cr=Nt.type;if(Nt.geometry=[],Cr===1)for(Qe=0;Qe<Qt.length;Qe+=2)Nt.geometry.push(ir(Qt[Qe],Qt[Qe+1],_e,kt,er,Kt));else for(Qe=0;Qe<Qt.length;Qe++){var Lr=[];for(ct=0;ct<Qt[Qe].length;ct+=2)Lr.push(ir(Qt[Qe][ct],Qt[Qe][ct+1],_e,kt,er,Kt));Nt.geometry.push(Lr)}}return Ze.transformed=!0,Ze}function ir(Ze,_e,Ie,Qe,ct,kt){return[Math.round(Ie*(Ze*Qe-ct)),Math.round(Ie*(_e*Qe-kt))]}function mr(Ze,_e,Ie,Qe,ct){for(var kt=_e===ct.maxZoom?0:ct.tolerance/((1<<_e)*ct.extent),er={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Ie,y:Qe,z:_e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Kt=0;Kt<Ze.length;Kt++){er.numFeatures++,kr(er,Ze[Kt],kt,ct);var Nt=Ze[Kt].minX,Qt=Ze[Kt].minY,Cr=Ze[Kt].maxX,Lr=Ze[Kt].maxY;Nt<er.minX&&(er.minX=Nt),Qt<er.minY&&(er.minY=Qt),Cr>er.maxX&&(er.maxX=Cr),Lr>er.maxY&&(er.maxY=Lr)}return er}function kr(Ze,_e,Ie,Qe){var ct=_e.geometry,kt=_e.type,er=[];if(kt==="Point"||kt==="MultiPoint")for(var Kt=0;Kt<ct.length;Kt+=3)er.push(ct[Kt]),er.push(ct[Kt+1]),Ze.numPoints++,Ze.numSimplified++;else if(kt==="LineString")Pr(er,ct,Ze,Ie,!1,!1);else if(kt==="MultiLineString"||kt==="Polygon")for(Kt=0;Kt<ct.length;Kt++)Pr(er,ct[Kt],Ze,Ie,kt==="Polygon",Kt===0);else if(kt==="MultiPolygon")for(var Nt=0;Nt<ct.length;Nt++){var Qt=ct[Nt];for(Kt=0;Kt<Qt.length;Kt++)Pr(er,Qt[Kt],Ze,Ie,!0,Kt===0)}if(er.length){var Cr=_e.tags||null;if(kt==="LineString"&&Qe.lineMetrics){for(var Lr in Cr={},_e.tags)Cr[Lr]=_e.tags[Lr];Cr.vjmaps_clip_start=ct.start/ct.size,Cr.vjmaps_clip_end=ct.end/ct.size}var Tr={geometry:er,type:kt==="Polygon"||kt==="MultiPolygon"?3:kt==="LineString"||kt==="MultiLineString"?2:1,tags:Cr};_e.id!==null&&(Tr.id=_e.id),Ze.features.push(Tr)}}function Pr(Ze,_e,Ie,Qe,ct,kt){var er=Qe*Qe;if(Qe>0&&_e.size<(ct?er:Qe))Ie.numPoints+=_e.length/3;else{for(var Kt=[],Nt=0;Nt<_e.length;Nt+=3)(Qe===0||_e[Nt+2]>er)&&(Ie.numSimplified++,Kt.push(_e[Nt]),Kt.push(_e[Nt+1])),Ie.numPoints++;ct&&function(Qt,Cr){for(var Lr=0,Tr=0,ln=Qt.length,mn=ln-2;Tr<ln;mn=Tr,Tr+=2)Lr+=(Qt[Tr]-Qt[mn])*(Qt[Tr+1]+Qt[mn+1]);if(Lr>0===Cr)for(Tr=0,ln=Qt.length;Tr<ln/2;Tr+=2){var Yr=Qt[Tr],Et=Qt[Tr+1];Qt[Tr]=Qt[ln-2-Tr],Qt[Tr+1]=Qt[ln-1-Tr],Qt[ln-2-Tr]=Yr,Qt[ln-1-Tr]=Et}}(Kt,kt),Ze.push(Kt)}}function Or(Ze,_e){var Ie=(_e=this.options=function(ct,kt){for(var er in kt)ct[er]=kt[er];return ct}(Object.create(this.options),_e)).debug;if(Ie&&console.time("preprocess data"),_e.maxZoom<0||_e.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(_e.promoteId&&_e.generateId)throw new Error("promoteId and generateId cannot be used together.");var Qe=function(ct,kt){var er=[];if(ct.type==="FeatureCollection")for(var Kt=0;Kt<ct.features.length;Kt++)or(er,ct.features[Kt],kt,Kt);else or(er,ct.type==="Feature"?ct:{geometry:ct},kt);return er}(Ze,_e);this.tiles={},this.tileCoords=[],Ie&&(console.timeEnd("preprocess data"),console.time("generate tiles"),this.stats={},this.total=0),(Qe=function(ct,kt){var er=kt.buffer/kt.extent,Kt=ct,Nt=Ct(ct,1,-1-er,er,0,-1,2,kt),Qt=Ct(ct,1,1-er,2+er,0,-1,2,kt);return(Nt||Qt)&&(Kt=Ct(ct,1,-er,1+er,0,-1,2,kt)||[],Nt&&(Kt=ve(Nt,1).concat(Kt)),Qt&&(Kt=Kt.concat(ve(Qt,-1)))),Kt}(Qe,_e)).length&&this.splitTile(Qe,0,0,0),Ie&&(Qe.length,console.timeEnd("generate tiles"))}function Er(Ze,_e,Ie){return 32*((1<<Ze)*Ie+_e)+Ze}function Nr(Ze,_e){const Ie=Ze.tileID.canonical;if(!this._geoJSONIndex)return _e(null,null);const Qe=this._geoJSONIndex.getTile(Ie.z,Ie.x,Ie.y);if(!Qe)return _e(null,null);const ct=new q(Qe.features);let kt=oe(ct);kt.byteOffset===0&&kt.byteLength===kt.buffer.byteLength||(kt=new Uint8Array(kt)),_e(null,{vectorTile:ct,rawData:kt.buffer})}Or.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Or.prototype.splitTile=function(Ze,_e,Ie,Qe,ct,kt,er){for(var Kt=[Ze,_e,Ie,Qe],Nt=this.options,Qt=Nt.debug;Kt.length;){Qe=Kt.pop(),Ie=Kt.pop(),_e=Kt.pop(),Ze=Kt.pop();var Cr=1<<_e,Lr=Er(_e,Ie,Qe),Tr=this.tiles[Lr];if(!Tr&&(Qt>1&&console.time("creation"),Tr=this.tiles[Lr]=mr(Ze,_e,Ie,Qe,Nt),this.tileCoords.push({z:_e,x:Ie,y:Qe}),Qt)){Qt>1&&console.timeEnd("creation");var ln="z"+_e;this.stats[ln]=(this.stats[ln]||0)+1,this.total++}if(Tr.source=Ze,ct){if(_e===Nt.maxZoom||_e===ct)continue;var mn=1<<ct-_e;if(Ie!==Math.floor(kt/mn)||Qe!==Math.floor(er/mn))continue}else if(_e===Nt.indexMaxZoom||Tr.numPoints<=Nt.indexMaxPoints)continue;if(Tr.source=null,Ze.length!==0){Qt>1&&console.time("clipping");var Yr,Et,_r,Wn,jn,xn,zn=.5*Nt.buffer/Nt.extent,li=.5-zn,Ri=.5+zn,ci=1+zn;Yr=Et=_r=Wn=null,jn=Ct(Ze,Cr,Ie-zn,Ie+Ri,0,Tr.minX,Tr.maxX,Nt),xn=Ct(Ze,Cr,Ie+li,Ie+ci,0,Tr.minX,Tr.maxX,Nt),Ze=null,jn&&(Yr=Ct(jn,Cr,Qe-zn,Qe+Ri,1,Tr.minY,Tr.maxY,Nt),Et=Ct(jn,Cr,Qe+li,Qe+ci,1,Tr.minY,Tr.maxY,Nt),jn=null),xn&&(_r=Ct(xn,Cr,Qe-zn,Qe+Ri,1,Tr.minY,Tr.maxY,Nt),Wn=Ct(xn,Cr,Qe+li,Qe+ci,1,Tr.minY,Tr.maxY,Nt),xn=null),Qt>1&&console.timeEnd("clipping"),Kt.push(Yr||[],_e+1,2*Ie,2*Qe),Kt.push(Et||[],_e+1,2*Ie,2*Qe+1),Kt.push(_r||[],_e+1,2*Ie+1,2*Qe),Kt.push(Wn||[],_e+1,2*Ie+1,2*Qe+1)}}},Or.prototype.getTile=function(Ze,_e,Ie){var Qe=this.options,ct=Qe.extent,kt=Qe.debug;if(Ze<0||Ze>24)return null;var er=1<<Ze,Kt=Er(Ze,_e=(_e%er+er)%er,Ie);if(this.tiles[Kt])return sr(this.tiles[Kt],ct);for(var Nt,Qt=Ze,Cr=_e,Lr=Ie;!Nt&&Qt>0;)Qt--,Cr=Math.floor(Cr/2),Lr=Math.floor(Lr/2),Nt=this.tiles[Er(Qt,Cr,Lr)];return Nt&&Nt.source?(kt>1&&console.time("drilling down"),this.splitTile(Nt.source,Qt,Cr,Lr,Ze,_e,Ie),kt>1&&console.timeEnd("drilling down"),this.tiles[Kt]?sr(this.tiles[Kt],ct):null):null};class un extends n.VectorTileWorkerSource{constructor(_e,Ie,Qe,ct,kt){super(_e,Ie,Qe,ct,Nr),kt&&(this.loadGeoJSON=kt)}loadData(_e,Ie){const Qe=_e&&_e.request,ct=Qe&&Qe.collectResourceTiming;this.loadGeoJSON(_e,(kt,er)=>{if(kt||!er)return Ie(kt);if(typeof er!="object")return Ie(new Error(`Input data given to '${_e.source}' is not a valid GeoJSON object.`));{R(er,!0);try{if(_e.filter){const Nt=n.createExpression(_e.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Nt.result==="error")throw new Error(Nt.value.map(Cr=>`${Cr.key}: ${Cr.message}`).join(", "));const Qt=er.features.filter(Cr=>Nt.value.evaluate({zoom:0},Cr));er={type:"FeatureCollection",features:Qt}}this._geoJSONIndex=_e.cluster?new Gt(function({superclusterOptions:Nt,clusterProperties:Qt}){if(!Qt||!Nt)return Nt;const Cr={},Lr={},Tr={accumulated:null,zoom:0},ln={properties:null},mn=Object.keys(Qt);for(const Yr of mn){const[Et,_r]=Qt[Yr],Wn=n.createExpression(_r),jn=n.createExpression(typeof Et=="string"?[Et,["accumulated"],["get",Yr]]:Et);Cr[Yr]=Wn.value,Lr[Yr]=jn.value}return Nt.map=Yr=>{ln.properties=Yr;const Et={};for(const _r of mn)Et[_r]=Cr[_r].evaluate(Tr,ln);return Et},Nt.reduce=(Yr,Et)=>{ln.properties=Et;for(const _r of mn)Tr.accumulated=Yr[_r],Yr[_r]=Lr[_r].evaluate(Tr,ln)},Nt}(_e)).load(er.features):function(Nt,Qt){return new Or(Nt,Qt)}(er,_e.geojsonVtOptions)}catch(Nt){return Ie(Nt)}this.loaded={};const Kt={};if(ct){const Nt=n.getPerformanceMeasurement(Qe);Nt&&(Kt.resourceTiming={},Kt.resourceTiming[_e.source]=JSON.parse(JSON.stringify(Nt)))}Ie(null,Kt)}})}reloadTile(_e,Ie){const Qe=this.loaded;return Qe&&Qe[_e.uid]?super.reloadTile(_e,Ie):this.loadTile(_e,Ie)}loadGeoJSON(_e,Ie){if(_e.request)n.getJSON(_e.request,Ie);else{if(typeof _e.data!="string")return Ie(new Error(`Input data given to '${_e.source}' is not a valid GeoJSON object.`));try{return Ie(null,JSON.parse(_e.data))}catch{return Ie(new Error(`Input data given to '${_e.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(_e,Ie){try{Ie(null,this._geoJSONIndex.getClusterExpansionZoom(_e.clusterId))}catch(Qe){Ie(Qe)}}getClusterChildren(_e,Ie){try{Ie(null,this._geoJSONIndex.getChildren(_e.clusterId))}catch(Qe){Ie(Qe)}}getClusterLeaves(_e,Ie){try{Ie(null,this._geoJSONIndex.getLeaves(_e.clusterId,_e.limit,_e.offset))}catch(Qe){Ie(Qe)}}}class vn{constructor(_e){this.self=_e,this.actor=new n.Actor(_e,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded=!1,this.workerSourceTypes={vector:n.VectorTileWorkerSource,geojson:un},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(Ie,Qe)=>{if(this.workerSourceTypes[Ie])throw new Error(`Worker source with name "${Ie}" already registered.`);this.workerSourceTypes[Ie]=Qe},this.self.registerRTLTextPlugin=Ie=>{if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=Ie.applyArabicShaping,n.plugin.processBidirectionalText=Ie.processBidirectionalText,n.plugin.processStyledBidirectionalText=Ie.processStyledBidirectionalText}}checkIfReady(_e,Ie,Qe){Qe()}setReferrer(_e,Ie){this.referrer=Ie}spriteLoaded(_e,Ie){this.isSpriteLoaded=Ie;for(const Qe in this.workerSources[_e]){const ct=this.workerSources[_e][Qe];for(const kt in ct)ct[kt]instanceof n.VectorTileWorkerSource&&(ct[kt].isSpriteLoaded=Ie,ct[kt].fire(new n.Event("isSpriteLoaded")))}}setImages(_e,Ie,Qe){this.availableImages[_e]=Ie;for(const ct in this.workerSources[_e]){const kt=this.workerSources[_e][ct];for(const er in kt)kt[er].availableImages=Ie}Qe()}enableTerrain(_e,Ie,Qe){this.terrain=Ie,Qe()}setLayers(_e,Ie,Qe){this.getLayerIndex(_e).replace(Ie),Qe()}updateLayers(_e,Ie,Qe){this.getLayerIndex(_e).update(Ie.layers,Ie.removedIds),Qe()}loadTile(_e,Ie,Qe){const ct=this.enableTerrain?n.extend({enableTerrain:this.terrain},Ie):Ie;this.getWorkerSource(_e,Ie.type,Ie.source).loadTile(ct,Qe)}loadDEMTile(_e,Ie,Qe){const ct=this.enableTerrain?n.extend({buildQuadTree:this.terrain},Ie):Ie;this.getDEMWorkerSource(_e,Ie.source).loadTile(ct,Qe)}reloadTile(_e,Ie,Qe){const ct=this.enableTerrain?n.extend({enableTerrain:this.terrain},Ie):Ie;this.getWorkerSource(_e,Ie.type,Ie.source).reloadTile(ct,Qe)}abortTile(_e,Ie,Qe){this.getWorkerSource(_e,Ie.type,Ie.source).abortTile(Ie,Qe)}removeTile(_e,Ie,Qe){this.getWorkerSource(_e,Ie.type,Ie.source).removeTile(Ie,Qe)}removeSource(_e,Ie,Qe){if(!this.workerSources[_e]||!this.workerSources[_e][Ie.type]||!this.workerSources[_e][Ie.type][Ie.source])return;const ct=this.workerSources[_e][Ie.type][Ie.source];delete this.workerSources[_e][Ie.type][Ie.source],ct.removeSource!==void 0?ct.removeSource(Ie,Qe):Qe()}loadWorkerSource(_e,Ie,Qe){try{this.self.importScripts(Ie.url),Qe()}catch(ct){Qe(ct.toString())}}syncRTLPluginState(_e,Ie,Qe){try{n.plugin.setState(Ie);const ct=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&ct!=null){this.self.importScripts(ct);const kt=n.plugin.isParsed();Qe(kt?void 0:new Error("RTL Text Plugin failed to import scripts from "+ct),kt)}}catch(ct){Qe(ct.toString())}}getAvailableImages(_e){let Ie=this.availableImages[_e];return Ie||(Ie=[]),Ie}getLayerIndex(_e){let Ie=this.layerIndexes[_e];return Ie||(Ie=this.layerIndexes[_e]=new M),Ie}getWorkerSource(_e,Ie,Qe){return this.workerSources[_e]||(this.workerSources[_e]={}),this.workerSources[_e][Ie]||(this.workerSources[_e][Ie]={}),this.workerSources[_e][Ie][Qe]||(this.workerSources[_e][Ie][Qe]=new this.workerSourceTypes[Ie]({send:(ct,kt,er,Kt,Nt,Qt)=>{this.actor.send(ct,kt,er,_e,Nt,Qt)},scheduler:this.actor.scheduler},this.getLayerIndex(_e),this.getAvailableImages(_e),this.isSpriteLoaded)),this.workerSources[_e][Ie][Qe]}getDEMWorkerSource(_e,Ie){return this.demWorkerSources[_e]||(this.demWorkerSources[_e]={}),this.demWorkerSources[_e][Ie]||(this.demWorkerSources[_e][Ie]=new $),this.demWorkerSources[_e][Ie]}enforceCacheSizeLimit(_e,Ie){n.enforceCacheSizeLimit(Ie)}getWorkerPerformanceMetrics(_e,Ie,Qe){Qe(void 0,void 0)}}return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope&&(self.worker=new vn(self)),vn}),f(0,function(n){var S=k;function k(D){return!function(_){return typeof window=="undefined"||typeof document=="undefined"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var L,G,H=new Blob([""],{type:"text/javascript"}),ee=URL.createObjectURL(H);try{G=new Worker(ee),L=!0}catch{L=!1}return G&&G.terminate(),URL.revokeObjectURL(ee),L}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var L=document.createElement("canvas");L.width=L.height=1;var G=L.getContext("2d");if(!G)return!1;var H=G.getImageData(0,0,1,1);return H&&H.width===L.width}()?(M[A=_&&_.failIfMajorPerformanceCaveat]===void 0&&(M[A]=function(L){var G,H=function(ee){var ae=document.createElement("canvas"),de=Object.create(k.webGLContextAttributes);return de.failIfMajorPerformanceCaveat=ee,ae.getContext("webgl",de)||ae.getContext("experimental-webgl",de)}(L);if(!H)return!1;try{G=H.createShader(H.VERTEX_SHADER)}catch{return!1}return!(!G||H.isContextLost())&&(H.shaderSource(G,"void main() {}"),H.compileShader(G),H.getShaderParameter(G,H.COMPILE_STATUS)===!0)}(A)),M[A]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var A}(D)}var M={};function P(D,_){if(Array.isArray(D)){if(!Array.isArray(_)||D.length!==_.length)return!1;for(let A=0;A<D.length;A++)if(!P(D[A],_[A]))return!1;return!0}if(typeof D=="object"&&D!==null&&_!==null){if(typeof _!="object"||Object.keys(D).length!==Object.keys(_).length)return!1;for(const A in D)if(!P(D[A],_[A]))return!1;return!0}return D===_}k.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const $={create:function(D,_,A){const L=n.window.document.createElement(D);return _!==void 0&&(L.className=_),A&&A.appendChild(L),L},createNS:function(D,_){return n.window.document.createElementNS(D,_)}},R=n.window.document&&n.window.document.documentElement.style,B=R&&R.userSelect!==void 0?"userSelect":"WebkitUserSelect";let V;$.disableDrag=function(){R&&B&&(V=R[B],R[B]="none")},$.enableDrag=function(){R&&B&&(R[B]=V)},$.setTransform=function(D,_){D.style.transform=_};let j=!1;try{const D=Object.defineProperty({},"passive",{get(){j=!0}});n.window.addEventListener("test",D,D),n.window.removeEventListener("test",D,D)}catch{j=!1}$.addEventListener=function(D,_,A,L={}){D.addEventListener(_,A,"passive"in L&&j?L:L.capture)},$.removeEventListener=function(D,_,A,L={}){D.removeEventListener(_,A,"passive"in L&&j?L:L.capture)};const U=function(D){D.preventDefault(),D.stopPropagation(),n.window.removeEventListener("click",U,!0)};function q(D,_,A){const L=D.offsetWidth===_.width?1:D.offsetWidth/_.width;return new n.pointGeometry((A.clientX-_.left)*L,(A.clientY-_.top)*L)}$.suppressClick=function(){n.window.addEventListener("click",U,!0),n.window.setTimeout(()=>{n.window.removeEventListener("click",U,!0)},0)},$.mousePos=function(D,_){const A=D.getBoundingClientRect();return q(D,A,_)},$.touchPos=function(D,_){const A=D.getBoundingClientRect(),L=[];for(let G=0;G<_.length;G++)L.push(q(D,A,_[G]));return L},$.mouseButton=function(D){return n.window.InstallTrigger!==void 0&&D.button===2&&D.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:D.button},$.remove=function(D){D.parentNode&&D.parentNode.removeChild(D)};class Y{constructor(_,A){this.pos=_,this.dir=A}intersectsPlane(_,A,L){const G=n.dot(A,this.dir);if(Math.abs(G)<1e-6)return!1;const H=n.dot(n.sub(n.create(),_,this.pos),A)/G,ee=n.scaleAndAdd(n.create(),this.pos,this.dir,H);return n.copy(L,ee),!0}}class Q{constructor(_,A){this.points=_,this.planes=A}static fromInvProjectionMatrix(_,A,L){const G=Math.pow(2,L),H=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(ae=>{const de=n.transformMat4([],ae,_),me=1/de[3]/A*G;return n.mul(de,de,[me,me,1/de[3],me])}),ee=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(ae=>{const de=n.sub([],H[ae[0]],H[ae[1]]),me=n.sub([],H[ae[2]],H[ae[1]]),we=n.normalize([],n.cross([],de,me)),Ae=-n.dot(we,H[ae[1]]);return we.concat(Ae)});return new Q(H,ee)}}class te{constructor(_,A){this.min=_,this.max=A,this.center=n.scale([],n.add([],this.min,this.max),.5)}quadrant(_){const A=[_%2==0,_<2],L=n.clone(this.min),G=n.clone(this.max);for(let H=0;H<A.length;H++)L[H]=A[H]?this.min[H]:this.center[H],G[H]=A[H]?this.center[H]:this.max[H];return G[2]=this.max[2],new te(L,G)}distanceX(_){return Math.max(Math.min(this.max[0],_[0]),this.min[0])-_[0]}distanceY(_){return Math.max(Math.min(this.max[1],_[1]),this.min[1])-_[1]}distanceZ(_){return Math.max(Math.min(this.max[2],_[2]),this.min[2])-_[2]}intersects(_){const A=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let L=!0;for(let G=0;G<_.planes.length;G++){const H=_.planes[G];let ee=0;for(let ae=0;ae<A.length;ae++)ee+=n.dot$1(H,A[ae])>=0;if(ee===0)return 0;ee!==A.length&&(L=!1)}if(L)return 2;for(let G=0;G<3;G++){let H=Number.MAX_VALUE,ee=-Number.MAX_VALUE;for(let ae=0;ae<_.points.length;ae++){const de=_.points[ae][G]-this.min[G];H=Math.min(H,de),ee=Math.max(ee,de)}if(ee<0||H>this.max[G]-this.min[G])return 0}return 1}}function re(D){const{userImage:_}=D;return!!(_&&_.render&&_.render())&&(D.data.replace(new Uint8Array(_.data.buffer)),!0)}class oe extends n.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(_){if(this.loaded!==_&&(this.loaded=_,_)){for(const{ids:A,callback:L}of this.requestors)this._notify(A,L);this.requestors=[]}}getImage(_){return this.images[_]}addImage(_,A){this._validate(_,A)&&(this.images[_]=A)}_validate(_,A){let L=!0;return this._validateStretch(A.stretchX,A.data&&A.data.width)||(this.fire(new n.ErrorEvent(new Error(`Image "${_}" has invalid "stretchX" value`))),L=!1),this._validateStretch(A.stretchY,A.data&&A.data.height)||(this.fire(new n.ErrorEvent(new Error(`Image "${_}" has invalid "stretchY" value`))),L=!1),this._validateContent(A.content,A)||(this.fire(new n.ErrorEvent(new Error(`Image "${_}" has invalid "content" value`))),L=!1),L}_validateStretch(_,A){if(!_)return!0;let L=0;for(const G of _){if(G[0]<L||G[1]<G[0]||A<G[1])return!1;L=G[1]}return!0}_validateContent(_,A){return!(_&&(_.length!==4||_[0]<0||A.data.width<_[0]||_[1]<0||A.data.height<_[1]||_[2]<0||A.data.width<_[2]||_[3]<0||A.data.height<_[3]||_[2]<_[0]||_[3]<_[1]))}updateImage(_,A){A.version=this.images[_].version+1,this.images[_]=A,this.updatedImages[_]=!0}removeImage(_){const A=this.images[_];delete this.images[_],delete this.patterns[_],A.userImage&&A.userImage.onRemove&&A.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(_,A){let L=!0;if(!this.isLoaded())for(const G of _)this.images[G]||(L=!1);this.isLoaded()||L?this._notify(_,A):this.requestors.push({ids:_,callback:A})}_notify(_,A){const L={};for(const G of _){this.images[G]||this.fire(new n.Event("styleimagemissing",{id:G}));const H=this.images[G];H?L[G]={data:H.data.clone(),pixelRatio:H.pixelRatio,sdf:H.sdf,version:H.version,stretchX:H.stretchX,stretchY:H.stretchY,content:H.content,hasRenderCallback:Boolean(H.userImage&&H.userImage.render)}:n.warnOnce(`Image "${G}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}A(null,L)}getPixelSize(){const{width:_,height:A}=this.atlasImage;return{width:_,height:A}}getPattern(_){const A=this.patterns[_],L=this.getImage(_);if(!L)return null;if(A&&A.position.version===L.version)return A.position;if(A)A.position.version=L.version;else{const G={w:L.data.width+2,h:L.data.height+2,x:0,y:0},H=new n.ImagePosition(G,L);this.patterns[_]={bin:G,position:H}}return this._updatePatternAtlas(),this.patterns[_].position}bind(_){const A=_.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(_,this.atlasImage,A.RGBA),this.atlasTexture.bind(A.LINEAR,A.CLAMP_TO_EDGE)}_updatePatternAtlas(){const _=[];for(const H in this.patterns)_.push(this.patterns[H].bin);const{w:A,h:L}=n.potpack(_),G=this.atlasImage;G.resize({width:A||1,height:L||1});for(const H in this.patterns){const{bin:ee}=this.patterns[H],ae=ee.x+1,de=ee.y+1,me=this.images[H].data,we=me.width,Ae=me.height;n.RGBAImage.copy(me,G,{x:0,y:0},{x:ae,y:de},{width:we,height:Ae}),n.RGBAImage.copy(me,G,{x:0,y:Ae-1},{x:ae,y:de-1},{width:we,height:1}),n.RGBAImage.copy(me,G,{x:0,y:0},{x:ae,y:de+Ae},{width:we,height:1}),n.RGBAImage.copy(me,G,{x:we-1,y:0},{x:ae-1,y:de},{width:1,height:Ae}),n.RGBAImage.copy(me,G,{x:0,y:0},{x:ae+we,y:de},{width:1,height:Ae})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(_){for(const A of _){if(this.callbackDispatchedThisFrame[A])continue;this.callbackDispatchedThisFrame[A]=!0;const L=this.images[A];re(L)&&this.updateImage(A,L)}}}const se=new n.Properties({anchor:new n.DataConstantProperty(n.spec.light.anchor),position:new class{constructor(){this.specification=n.spec.light.position}possiblyEvaluate(D,_){return function([A,L,G]){const H=n.degToRad(L+90),ee=n.degToRad(G);return{x:A*Math.cos(H)*Math.sin(ee),y:A*Math.sin(H)*Math.sin(ee),z:A*Math.cos(ee),azimuthal:L,polar:G}}(D.expression.evaluate(_))}interpolate(D,_,A){return{x:n.number(D.x,_.x,A),y:n.number(D.y,_.y,A),z:n.number(D.z,_.z,A),azimuthal:n.number(D.azimuthal,_.azimuthal,A),polar:n.number(D.polar,_.polar,A)}}},color:new n.DataConstantProperty(n.spec.light.color),intensity:new n.DataConstantProperty(n.spec.light.intensity)}),fe="-transition";class ge extends n.Evented{constructor(_){super(),this._transitionable=new n.Transitionable(se),this.setLight(_),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(_,A={}){if(!this._validate(n.validateLight,_,A))for(const L in _){const G=_[L];n.endsWith(L,fe)?this._transitionable.setTransition(L.slice(0,-fe.length),G):this._transitionable.setValue(L,G)}}updateTransitions(_){this._transitioning=this._transitionable.transitioned(_,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(_){this.properties=this._transitioning.possiblyEvaluate(_)}_validate(_,A,L){return(!L||L.validate!==!1)&&n.emitValidationErrors(this,_.call(n.validateStyle,n.extend({value:A,style:{glyphs:!0,sprite:!0},styleSpec:n.spec})))}}const Ce=new n.Properties({source:new n.DataConstantProperty(n.spec.terrain.source),exaggeration:new n.DataConstantProperty(n.spec.terrain.exaggeration)}),$e="-transition";class be extends n.Evented{constructor(_){super(),this._transitionable=new n.Transitionable(Ce),this.set(_),this._transitioning=this._transitionable.untransitioned()}get(){return this._transitionable.serialize()}set(_){for(const A in _){const L=_[A];n.endsWith(A,$e)?this._transitionable.setTransition(A.slice(0,-$e.length),L):this._transitionable.setValue(A,L)}}updateTransitions(_){this._transitioning=this._transitionable.transitioned(_,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(_){this.properties=this._transitioning.possiblyEvaluate(_)}}function ke(D,_,A,L){const G=n.smoothstep(45,65,A),[H,ee]=Ee(D,L),ae=n.length(_);let de=1-Math.min(1,Math.exp((ae-H)/(ee-H)*-6));return de*=de*de,de=Math.min(1,1.00747*de),de*G*D.alpha}function Ee(D,_){const A=.5/Math.tan(.5*_);return[D.range[0]+A,D.range[1]+A]}const He=new n.Properties({range:new n.DataConstantProperty(n.spec.fog.range),color:new n.DataConstantProperty(n.spec.fog.color),"horizon-blend":new n.DataConstantProperty(n.spec.fog["horizon-blend"])}),rt="-transition";class ft extends n.Evented{constructor(_){super(),this._transitionable=new n.Transitionable(He),this.set(_),this._transitioning=this._transitionable.untransitioned()}get state(){return{range:this.properties.get("range"),horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(_){if(!this._validate(n.validateFog,_))for(const A in _){const L=_[A];n.endsWith(A,rt)?this._transitionable.setTransition(A.slice(0,-rt.length),L):this._transitionable.setValue(A,L)}}getOpacity(_){const A=this.properties&&this.properties.get("color")||1;return n.smoothstep(45,65,_)*A.a}getOpacityAtLatLng(_,A){return function(L,G,H){const ee=n.MercatorCoordinate.fromLngLat(G),ae=H.elevation?H.elevation.getAtPointOrZero(ee):0,de=[ee.x,ee.y,ae];return n.transformMat4$1(de,de,H.mercatorFogMatrix),ke(L,de,H.pitch,H._fov)}(this.state,_,A)}getFovAdjustedRange(_){return Ee(this.state,_)}updateTransitions(_){this._transitioning=this._transitionable.transitioned(_,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(_){this.properties=this._transitioning.possiblyEvaluate(_)}_validate(_,A,L){return(!L||L.validate!==!1)&&n.emitValidationErrors(this,_.call(n.validateStyle,n.extend({value:A,style:{glyphs:!0,sprite:!0},styleSpec:n.spec})))}}class bt{constructor(_,A){this.workerPool=_,this.actors=[],this.currentActor=0,this.id=n.uniqueId();const L=this.workerPool.acquire(this.id);for(let G=0;G<L.length;G++){const H=new bt.Actor(L[G],A,this.id);H.name="Worker "+G,this.actors.push(H)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(_,A,L){n.asyncAll(this.actors,(G,H)=>{G.send(_,A,H)},L=L||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(_=>{_.remove()}),this.actors=[],this.workerPool.release(this.id)}}function Ye(D,_,A){return _*(n.EXTENT/(D.tileSize*Math.pow(2,A-D.tileID.overscaledZ)))}bt.Actor=n.Actor;class De{constructor(_,A,L,G){this.screenBounds=_,this.cameraPoint=A,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=L,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this.screenGeometry.map(H=>G.pointCoordinate3D(H)),this.cameraGeometry=this.bufferedCameraGeometry(0)}static createFromScreenPoints(_,A){let L,G;if(_ instanceof n.pointGeometry||typeof _[0]=="number"){const H=n.pointGeometry.convert(_);L=[n.pointGeometry.convert(_)],G=A.isPointAboveHorizon(H)}else{const H=n.pointGeometry.convert(_[0]),ee=n.pointGeometry.convert(_[1]);L=[H,ee],G=n.polygonizeBounds(H,ee).every(ae=>A.isPointAboveHorizon(ae))}return new De(L,A.getCameraPoint(),G,A)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(_){return n.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],_)}bufferedCameraGeometry(_){const A=this.screenBounds[0],L=this.screenBounds.length===1?this.screenBounds[0].add(new n.pointGeometry(1,1)):this.screenBounds[1],G=n.polygonizeBounds(A,L,0,!1);return this.cameraPoint.y>L.y&&(this.cameraPoint.x>A.x&&this.cameraPoint.x<L.x?G.splice(3,0,this.cameraPoint):this.cameraPoint.x>=L.x?G[2]=this.cameraPoint:this.cameraPoint.x<=A.x&&(G[3]=this.cameraPoint)),n.bufferConvexPolygon(G,_)}containsTile(_,A,L){const G=_.queryPadding+1,H=L?this._bufferedCameraMercator(G,A).map(Xe=>_.tileID.getTilePoint(Xe)):this._bufferedScreenMercator(G,A).map(Xe=>_.tileID.getTilePoint(Xe)),ee=this.screenGeometryMercator.map(Xe=>_.tileID.getTileVec3(Xe)),ae=ee.map(Xe=>new n.pointGeometry(Xe[0],Xe[1])),de=A.getFreeCameraOptions().position||new n.MercatorCoordinate(0,0,0),me=_.tileID.getTileVec3(de),we=ee.map(Xe=>{const Fe=n.sub(Xe,Xe,me);return n.normalize(Fe,Fe),new Y(me,Fe)}),Ae=Ye(_,1,A.zoom);if(n.polygonIntersectsBox(H,0,0,n.EXTENT,n.EXTENT))return{queryGeometry:this,tilespaceGeometry:ae,tilespaceRays:we,bufferedTilespaceGeometry:H,bufferedTilespaceBounds:(ze=n.getBounds(H),ze.min.x=n.clamp(ze.min.x,0,n.EXTENT),ze.min.y=n.clamp(ze.min.y,0,n.EXTENT),ze.max.x=n.clamp(ze.max.x,0,n.EXTENT),ze.max.y=n.clamp(ze.max.y,0,n.EXTENT),ze),tile:_,tileID:_.tileID,pixelToTileUnitsFactor:Ae};var ze}_bufferedScreenMercator(_,A){const L=at(_);if(this._screenRaycastCache[L])return this._screenRaycastCache[L];{const G=this.bufferedScreenGeometry(_).map(H=>A.pointCoordinate3D(H));return this._screenRaycastCache[L]=G,G}}_bufferedCameraMercator(_,A){const L=at(_);if(this._cameraRaycastCache[L])return this._cameraRaycastCache[L];{const G=this.bufferedCameraGeometry(_).map(H=>A.pointCoordinate3D(H));return this._cameraRaycastCache[L]=G,G}}}function at(D){return 100*D|0}function Ut(D,_,A){const L=function(G,H){if(G)return A(G);if(H){const ee=n.pick(n.extend(H,D),["tiles","minzoom","maxzoom","attribution","vjmaps_logo","bounds","scheme","tileSize","encoding"]);H.vector_layers&&(ee.vectorLayers=H.vector_layers,ee.vectorLayerIds=ee.vectorLayers.map(ae=>ae.id)),ee.tiles=_.canonicalizeTileset(ee,D.url),A(null,ee)}};return D.url?n.getJSON(_.transformRequest(_.normalizeSourceURL(D.url),n.ResourceType.Source),L):n.exported.frame(()=>L(null,D))}class je{constructor(_,A,L){this.bounds=n.LngLatBounds.convert(this.validateBounds(_)),this.minzoom=A||0,this.maxzoom=L||24}validateBounds(_){return Array.isArray(_)&&_.length===4?[Math.max(-180,_[0]),Math.max(-90,_[1]),Math.min(180,_[2]),Math.min(90,_[3])]:[-180,-90,180,90]}contains(_){const A=Math.pow(2,_.z),L=Math.floor(n.mercatorXfromLng(this.bounds.getWest())*A),G=Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*A),H=Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*A),ee=Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*A);return _.x>=L&&_.x<H&&_.y>=G&&_.y<ee}}class tt{constructor(_,A,L){this.context=_;const G=_.gl;this.buffer=G.createBuffer(),this.dynamicDraw=Boolean(L),this.context.unbindVAO(),_.bindElementBuffer.set(this.buffer),G.bufferData(G.ELEMENT_ARRAY_BUFFER,A.arrayBuffer,this.dynamicDraw?G.DYNAMIC_DRAW:G.STATIC_DRAW),this.dynamicDraw||delete A.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(_){const A=this.context.gl;this.context.unbindVAO(),this.bind(),A.bufferSubData(A.ELEMENT_ARRAY_BUFFER,0,_.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const We={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Gt{constructor(_,A,L,G){this.length=A.length,this.attributes=L,this.itemSize=A.bytesPerElement,this.dynamicDraw=G,this.context=_;const H=_.gl;this.buffer=H.createBuffer(),_.bindVertexBuffer.set(this.buffer),H.bufferData(H.ARRAY_BUFFER,A.arrayBuffer,this.dynamicDraw?H.DYNAMIC_DRAW:H.STATIC_DRAW),this.dynamicDraw||delete A.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(_){const A=this.context.gl;this.bind(),A.bufferSubData(A.ARRAY_BUFFER,0,_.arrayBuffer)}enableAttributes(_,A){for(let L=0;L<this.attributes.length;L++){const G=A.attributes[this.attributes[L].name];G!==void 0&&_.enableVertexAttribArray(G)}}setVertexAttribPointers(_,A,L){for(let G=0;G<this.attributes.length;G++){const H=this.attributes[G],ee=A.attributes[H.name];ee!==void 0&&_.vertexAttribPointer(ee,H.components,_[We[H.type]],!1,this.itemSize,H.offset+this.itemSize*(L||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class gt{constructor(_){this.gl=_.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(_){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Mt extends gt{getDefault(){return n.Color.transparent}set(_){const A=this.current;(_.r!==A.r||_.g!==A.g||_.b!==A.b||_.a!==A.a||this.dirty)&&(this.gl.clearColor(_.r,_.g,_.b,_.a),this.current=_,this.dirty=!1)}}class Rt extends gt{getDefault(){return 1}set(_){(_!==this.current||this.dirty)&&(this.gl.clearDepth(_),this.current=_,this.dirty=!1)}}class Jt extends gt{getDefault(){return 0}set(_){(_!==this.current||this.dirty)&&(this.gl.clearStencil(_),this.current=_,this.dirty=!1)}}class ut extends gt{getDefault(){return[!0,!0,!0,!0]}set(_){const A=this.current;(_[0]!==A[0]||_[1]!==A[1]||_[2]!==A[2]||_[3]!==A[3]||this.dirty)&&(this.gl.colorMask(_[0],_[1],_[2],_[3]),this.current=_,this.dirty=!1)}}class Ht extends gt{getDefault(){return!0}set(_){(_!==this.current||this.dirty)&&(this.gl.depthMask(_),this.current=_,this.dirty=!1)}}class cr extends gt{getDefault(){return 255}set(_){(_!==this.current||this.dirty)&&(this.gl.stencilMask(_),this.current=_,this.dirty=!1)}}class Vt extends gt{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(_){const A=this.current;(_.func!==A.func||_.ref!==A.ref||_.mask!==A.mask||this.dirty)&&(this.gl.stencilFunc(_.func,_.ref,_.mask),this.current=_,this.dirty=!1)}}class Ne extends gt{getDefault(){const _=this.gl;return[_.KEEP,_.KEEP,_.KEEP]}set(_){const A=this.current;(_[0]!==A[0]||_[1]!==A[1]||_[2]!==A[2]||this.dirty)&&(this.gl.stencilOp(_[0],_[1],_[2]),this.current=_,this.dirty=!1)}}class ot extends gt{getDefault(){return!1}set(_){if(_===this.current&&!this.dirty)return;const A=this.gl;_?A.enable(A.STENCIL_TEST):A.disable(A.STENCIL_TEST),this.current=_,this.dirty=!1}}class Tt extends gt{getDefault(){return[0,1]}set(_){const A=this.current;(_[0]!==A[0]||_[1]!==A[1]||this.dirty)&&(this.gl.depthRange(_[0],_[1]),this.current=_,this.dirty=!1)}}class St extends gt{getDefault(){return!1}set(_){if(_===this.current&&!this.dirty)return;const A=this.gl;_?A.enable(A.DEPTH_TEST):A.disable(A.DEPTH_TEST),this.current=_,this.dirty=!1}}class jt extends gt{getDefault(){return this.gl.LESS}set(_){(_!==this.current||this.dirty)&&(this.gl.depthFunc(_),this.current=_,this.dirty=!1)}}class or extends gt{getDefault(){return!1}set(_){if(_===this.current&&!this.dirty)return;const A=this.gl;_?A.enable(A.BLEND):A.disable(A.BLEND),this.current=_,this.dirty=!1}}class xr extends gt{getDefault(){const _=this.gl;return[_.ONE,_.ZERO]}set(_){const A=this.current;(_[0]!==A[0]||_[1]!==A[1]||this.dirty)&&(this.gl.blendFunc(_[0],_[1]),this.current=_,this.dirty=!1)}}class st extends gt{getDefault(){return n.Color.transparent}set(_){const A=this.current;(_.r!==A.r||_.g!==A.g||_.b!==A.b||_.a!==A.a||this.dirty)&&(this.gl.blendColor(_.r,_.g,_.b,_.a),this.current=_,this.dirty=!1)}}class yt extends gt{getDefault(){return this.gl.FUNC_ADD}set(_){(_!==this.current||this.dirty)&&(this.gl.blendEquation(_),this.current=_,this.dirty=!1)}}class Ft extends gt{getDefault(){return!1}set(_){if(_===this.current&&!this.dirty)return;const A=this.gl;_?A.enable(A.CULL_FACE):A.disable(A.CULL_FACE),this.current=_,this.dirty=!1}}class zt extends gt{getDefault(){return this.gl.BACK}set(_){(_!==this.current||this.dirty)&&(this.gl.cullFace(_),this.current=_,this.dirty=!1)}}class Ct extends gt{getDefault(){return this.gl.CCW}set(_){(_!==this.current||this.dirty)&&(this.gl.frontFace(_),this.current=_,this.dirty=!1)}}class gr extends gt{getDefault(){return null}set(_){(_!==this.current||this.dirty)&&(this.gl.useProgram(_),this.current=_,this.dirty=!1)}}class Mr extends gt{getDefault(){return this.gl.TEXTURE0}set(_){(_!==this.current||this.dirty)&&(this.gl.activeTexture(_),this.current=_,this.dirty=!1)}}class Br extends gt{getDefault(){const _=this.gl;return[0,0,_.drawingBufferWidth,_.drawingBufferHeight]}set(_){const A=this.current;(_[0]!==A[0]||_[1]!==A[1]||_[2]!==A[2]||_[3]!==A[3]||this.dirty)&&(this.gl.viewport(_[0],_[1],_[2],_[3]),this.current=_,this.dirty=!1)}}class sn extends gt{getDefault(){return null}set(_){if(_===this.current&&!this.dirty)return;const A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,_),this.current=_,this.dirty=!1}}class Hr extends gt{getDefault(){return null}set(_){if(_===this.current&&!this.dirty)return;const A=this.gl;A.bindRenderbuffer(A.RENDERBUFFER,_),this.current=_,this.dirty=!1}}class cn extends gt{getDefault(){return null}set(_){if(_===this.current&&!this.dirty)return;const A=this.gl;A.bindTexture(A.TEXTURE_2D,_),this.current=_,this.dirty=!1}}class Ve extends gt{getDefault(){return null}set(_){if(_===this.current&&!this.dirty)return;const A=this.gl;A.bindBuffer(A.ARRAY_BUFFER,_),this.current=_,this.dirty=!1}}class ve extends gt{getDefault(){return null}set(_){const A=this.gl;A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,_),this.current=_,this.dirty=!1}}class lt extends gt{constructor(_){super(_),this.vao=_.extVertexArrayObject}getDefault(){return null}set(_){this.vao&&(_!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(_),this.current=_,this.dirty=!1)}}class sr extends gt{getDefault(){return 4}set(_){if(_===this.current&&!this.dirty)return;const A=this.gl;A.pixelStorei(A.UNPACK_ALIGNMENT,_),this.current=_,this.dirty=!1}}class ir extends gt{getDefault(){return!1}set(_){if(_===this.current&&!this.dirty)return;const A=this.gl;A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_),this.current=_,this.dirty=!1}}class mr extends gt{getDefault(){return!1}set(_){if(_===this.current&&!this.dirty)return;const A=this.gl;A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL,_),this.current=_,this.dirty=!1}}class kr extends gt{constructor(_,A){super(_),this.context=_,this.parent=A}getDefault(){return null}}class Pr extends kr{setDirty(){this.dirty=!0}set(_){if(_===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const A=this.gl;A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,_,0),this.current=_,this.dirty=!1}}class Or extends kr{attachment(){return this.gl.DEPTH_ATTACHMENT}set(_){if(_===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const A=this.gl;A.framebufferRenderbuffer(A.FRAMEBUFFER,this.attachment(),A.RENDERBUFFER,_),this.current=_,this.dirty=!1}}class Er extends Or{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Nr{constructor(_,A,L,G){this.context=_,this.width=A,this.height=L;const H=this.framebuffer=_.gl.createFramebuffer();this.colorAttachment=new Pr(_,H),G&&(this.depthAttachment=new Or(_,H))}destroy(){const _=this.context.gl,A=this.colorAttachment.get();if(A&&_.deleteTexture(A),this.depthAttachment){const L=this.depthAttachment.get();L&&_.deleteRenderbuffer(L)}_.deleteFramebuffer(this.framebuffer)}}class un{constructor(_){this.gl=_,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new Mt(this),this.clearDepth=new Rt(this),this.clearStencil=new Jt(this),this.colorMask=new ut(this),this.depthMask=new Ht(this),this.stencilMask=new cr(this),this.stencilFunc=new Vt(this),this.stencilOp=new Ne(this),this.stencilTest=new ot(this),this.depthRange=new Tt(this),this.depthTest=new St(this),this.depthFunc=new jt(this),this.blend=new or(this),this.blendFunc=new xr(this),this.blendColor=new st(this),this.blendEquation=new yt(this),this.cullFace=new Ft(this),this.cullFaceSide=new zt(this),this.frontFace=new Ct(this),this.program=new gr(this),this.activeTexture=new Mr(this),this.viewport=new Br(this),this.bindFramebuffer=new sn(this),this.bindRenderbuffer=new Hr(this),this.bindTexture=new cn(this),this.bindVertexBuffer=new Ve(this),this.bindElementBuffer=new ve(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new lt(this),this.pixelStoreUnpack=new sr(this),this.pixelStoreUnpackPremultiplyAlpha=new ir(this),this.pixelStoreUnpackFlipY=new mr(this),this.extTextureFilterAnisotropic=_.getExtension("EXT_texture_filter_anisotropic")||_.getExtension("MOZ_EXT_texture_filter_anisotropic")||_.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=_.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extTextureHalfFloat=_.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(_.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=_.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=_.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=_.getParameter(_.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(_,A){return new tt(this,_,A)}createVertexBuffer(_,A,L){return new Gt(this,_,A,L)}createRenderbuffer(_,A,L){const G=this.gl,H=G.createRenderbuffer();return this.bindRenderbuffer.set(H),G.renderbufferStorage(G.RENDERBUFFER,_,A,L),this.bindRenderbuffer.set(null),H}createFramebuffer(_,A,L){return new Nr(this,_,A,L)}clear({color:_,depth:A,stencil:L}){const G=this.gl;let H=0;_&&(H|=G.COLOR_BUFFER_BIT,this.clearColor.set(_),this.colorMask.set([!0,!0,!0,!0])),A!==void 0&&(H|=G.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(A),this.depthMask.set(!0)),L!==void 0&&(H|=G.STENCIL_BUFFER_BIT,this.clearStencil.set(L),this.stencilMask.set(255)),G.clear(H)}setCullFace(_){_.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(_.mode),this.frontFace.set(_.frontFace))}setDepthMode(_){_.func!==this.gl.ALWAYS||_.mask?(this.depthTest.set(!0),this.depthFunc.set(_.func),this.depthMask.set(_.mask),this.depthRange.set(_.range)):this.depthTest.set(!1)}setStencilMode(_){_.test.func!==this.gl.ALWAYS||_.mask?(this.stencilTest.set(!0),this.stencilMask.set(_.mask),this.stencilOp.set([_.fail,_.depthFail,_.pass]),this.stencilFunc.set({func:_.test.func,ref:_.ref,mask:_.test.mask})):this.stencilTest.set(!1)}setColorMode(_){P(_.blendFunction,n.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(_.blendFunction),this.blendColor.set(_.blendColor)),this.colorMask.set(_.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class vn extends n.Evented{constructor(_,A,L,G){super(),this.id=_,this.dispatcher=L,this.setEventedParent(G),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},A),n.extend(this,n.pick(A,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Ut(this._options,this.map._requestManager,(_,A)=>{this._tileJSONRequest=null,this._loaded=!0,_?this.fire(new n.ErrorEvent(_)):A&&(n.extend(this,A),A.bounds&&(this.tileBounds=new je(A.bounds,this.minzoom,this.maxzoom)),n.postTurnstileEvent(A.tiles),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(_){this.map=_,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return n.extend({},this._options)}hasTile(_){return!this.tileBounds||this.tileBounds.contains(_.canonical)}loadTile(_,A){const L=n.exported.devicePixelRatio>=2,G=this.map._requestManager.normalizeTileURL(_.tileID.canonical.url(this.tiles,this.scheme),L,this.tileSize);_.request=n.getImage(this.map._requestManager.transformRequest(G,n.ResourceType.Tile),(H,ee,ae,de)=>{if(delete _.request,_.aborted)_.state="unloaded",A(null);else if(H)_.state="errored",A(H);else if(ee){this.map._refreshExpiredTiles&&_.setExpiryData({cacheControl:ae,expires:de});const me=this.map.painter.context,we=me.gl;_.texture=this.map.painter.getTileTexture(ee.width),_.texture?_.texture.update(ee,{useMipmap:!0}):(_.texture=new n.Texture(me,ee,we.RGBA,{useMipmap:!0}),_.texture.bind(we.LINEAR,we.CLAMP_TO_EDGE,we.LINEAR_MIPMAP_NEAREST),me.extTextureFilterAnisotropic&&we.texParameterf(we.TEXTURE_2D,me.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,me.extTextureFilterAnisotropicMax)),_.state="loaded",n.cacheEntryPossiblyAdded(this.dispatcher),A(null)}})}abortTile(_,A){_.request&&(_.request.cancel(),delete _.request),A()}unloadTile(_,A){_.texture&&this.map.painter.saveTileTexture(_.texture),A()}hasTransition(){return!1}}let Ze;var _e=n.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class Ie extends n.Evented{constructor(_,A,L,G){super(),this.id=_,this.dispatcher=L,this.coordinates=A.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(G),this.options=A}load(_,A){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),(L,G)=>{this._loaded=!0,L?this.fire(new n.ErrorEvent(L)):G&&(this.image=G,_&&(this.coordinates=_),A&&A(),this._finishLoading())})}loaded(){return this._loaded}updateImage(_){return this.image&&_.url?(this.options.url=_.url,this.load(_.coordinates,()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(_){this.map=_,this.load()}setCoordinates(_){this.coordinates=_;const A=_.map(n.MercatorCoordinate.fromLngLat);this.tileID=function(G){let H=1/0,ee=1/0,ae=-1/0,de=-1/0;for(const ze of G)H=Math.min(H,ze.x),ee=Math.min(ee,ze.y),ae=Math.max(ae,ze.x),de=Math.max(de,ze.y);const me=Math.max(ae-H,de-ee),we=Math.max(0,Math.floor(-Math.log(me)/Math.LN2)),Ae=Math.pow(2,we);return new n.CanonicalTileID(we,Math.floor((H+ae)/2*Ae),Math.floor((ee+de)/2*Ae))}(A),this.minzoom=this.maxzoom=this.tileID.z;const L=A.map(G=>this.tileID.getTilePoint(G)._round());return this._boundsArray=new n.StructArrayLayout4i8,this._boundsArray.emplaceBack(L[0].x,L[0].y,0,0),this._boundsArray.emplaceBack(L[1].x,L[1].y,n.EXTENT,0),this._boundsArray.emplaceBack(L[3].x,L[3].y,0,n.EXTENT),this._boundsArray.emplaceBack(L[2].x,L[2].y,n.EXTENT,n.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const _=this.map.painter.context,A=_.gl;this.boundsBuffer||(this.boundsBuffer=_.createVertexBuffer(this._boundsArray,_e.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new n.Texture(_,this.image,A.RGBA),this.texture.bind(A.LINEAR,A.CLAMP_TO_EDGE));for(const L in this.tiles){const G=this.tiles[L];G.state!=="loaded"&&(G.state="loaded",G.texture=this.texture)}}loadTile(_,A){this.tileID&&this.tileID.equals(_.tileID.canonical)?(this.tiles[String(_.tileID.wrap)]=_,_.buckets={},A(null)):(_.state="errored",A(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const Qe={vector:class extends n.Evented{constructor(D,_,A,L){if(super(),this.id=D,this.dispatcher=A,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(_,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},_),this._collectResourceTiming=_.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(L),this._tileWorkers={},this._deduped=new n.DedupedRequest}load(){this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Ut(this._options,this.map._requestManager,(D,_)=>{this._tileJSONRequest=null,this._loaded=!0,D?this.fire(new n.ErrorEvent(D)):_&&(n.extend(this,_),_.bounds&&(this.tileBounds=new je(_.bounds,this.minzoom,this.maxzoom)),n.postTurnstileEvent(_.tiles,this.map._requestManager._customAccessToken),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(D){return!this.tileBounds||this.tileBounds.contains(D.canonical)}onAdd(D){this.map=D,this.load()}setSourceProperty(D){this._tileJSONRequest&&this._tileJSONRequest.cancel(),D();const _=this.map.style._getSourceCaches(this.id);for(const A of _)A.clearTiles();this.load()}setTiles(D){return this.setSourceProperty(()=>{this._options.tiles=D}),this}setUrl(D){return this.setSourceProperty(()=>{this.url=D,this._options.url=D}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return n.extend({},this._options)}loadTile(D,_){const A=this.map._requestManager.normalizeTileURL(D.tileID.canonical.url(this.tiles,this.scheme)),L={request:this.map._requestManager.transformRequest(A,n.ResourceType.Tile),data:void 0,uid:D.uid,tileID:D.tileID,tileZoom:D.tileZoom,zoom:D.tileID.overscaledZ,tileSize:this.tileSize*D.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:D.isSymbolTile};if(L.request.collectResourceTiming=this._collectResourceTiming,D.actor&&D.state!=="expired")D.state==="loading"?D.reloadCallback=_:D.request=D.actor.send("reloadTile",L,G.bind(this));else if(D.actor=this._tileWorkers[A]=this._tileWorkers[A]||this.dispatcher.getActor(),this.dispatcher.ready)D.request=D.actor.send("loadTile",L,G.bind(this),void 0,!0);else{const H=n.loadVectorTile.call({deduped:this._deduped},L,(ee,ae)=>{ee||!ae?G.call(this,ee):(L.data={cacheControl:ae.cacheControl,expires:ae.expires,rawData:ae.rawData.slice(0)},D.actor&&D.actor.send("loadTile",L,G.bind(this),void 0,!0))},!0);D.request={cancel:H}}function G(H,ee){return delete D.request,D.aborted?_(null):H&&H.status!==404?_(H):(ee&&ee.resourceTiming&&(D.resourceTiming=ee.resourceTiming),this.map._refreshExpiredTiles&&ee&&D.setExpiryData(ee),D.loadVectorData(ee,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),_(null),void(D.reloadCallback&&(this.loadTile(D,D.reloadCallback),D.reloadCallback=null)))}}abortTile(D){D.request&&(D.request.cancel(),delete D.request),D.actor&&D.actor.send("abortTile",{uid:D.uid,type:this.type,source:this.id})}unloadTile(D){D.unloadVectorData(),D.actor&&D.actor.send("removeTile",{uid:D.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}},raster:vn,"raster-dem":class extends vn{constructor(D,_,A,L){super(D,_,A,L),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},_),this.encoding=_.encoding||"vjmaps"}loadTile(D,_){const A=this.map._requestManager.normalizeTileURL(D.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function L(G,H){G&&(D.state="errored",_(G)),H&&(D.dem=H,D.dem.onDeserialize(),D.needsHillshadePrepare=!0,D.needsDEMTextureUpload=!0,D.state="loaded",_(null))}D.request=n.getImage(this.map._requestManager.transformRequest(A,n.ResourceType.Tile),function(G,H,ee,ae){if(delete D.request,D.aborted)D.state="unloaded",_(null);else if(G)D.state="errored",_(G);else if(H){this.map._refreshExpiredTiles&&D.setExpiryData({cacheControl:ee,expires:ae});const de=n.window.ImageBitmap&&H instanceof n.window.ImageBitmap&&(Ze==null&&(Ze=n.window.OffscreenCanvas&&new n.window.OffscreenCanvas(1,1).getContext("2d")&&typeof n.window.createImageBitmap=="function"),Ze),me=1-(H.width-n.prevPowerOfTwo(H.width))/2;me<1||D.neighboringTiles||(D.neighboringTiles=this._getNeighboringTiles(D.tileID));const we=de?H:n.exported.getImageData(H,me),Ae={uid:D.uid,coord:D.tileID,source:this.id,rawImageData:we,encoding:this.encoding,padding:me};D.actor&&D.state!=="expired"||(D.actor=this.dispatcher.getActor(),D.actor.send("loadDEMTile",Ae,L.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(D){const _=D.canonical,A=Math.pow(2,_.z),L=(_.x-1+A)%A,G=_.x===0?D.wrap-1:D.wrap,H=(_.x+1+A)%A,ee=_.x+1===A?D.wrap+1:D.wrap,ae={};return ae[new n.OverscaledTileID(D.overscaledZ,G,_.z,L,_.y).key]={backfilled:!1},ae[new n.OverscaledTileID(D.overscaledZ,ee,_.z,H,_.y).key]={backfilled:!1},_.y>0&&(ae[new n.OverscaledTileID(D.overscaledZ,G,_.z,L,_.y-1).key]={backfilled:!1},ae[new n.OverscaledTileID(D.overscaledZ,D.wrap,_.z,_.x,_.y-1).key]={backfilled:!1},ae[new n.OverscaledTileID(D.overscaledZ,ee,_.z,H,_.y-1).key]={backfilled:!1}),_.y+1<A&&(ae[new n.OverscaledTileID(D.overscaledZ,G,_.z,L,_.y+1).key]={backfilled:!1},ae[new n.OverscaledTileID(D.overscaledZ,D.wrap,_.z,_.x,_.y+1).key]={backfilled:!1},ae[new n.OverscaledTileID(D.overscaledZ,ee,_.z,H,_.y+1).key]={backfilled:!1}),ae}unloadTile(D){D.demTexture&&this.map.painter.saveTileTexture(D.demTexture),D.fbo&&(D.fbo.destroy(),delete D.fbo),D.dem&&delete D.dem,delete D.neighboringTiles,D.state="unloaded"}},geojson:class extends n.Evented{constructor(D,_,A,L){super(),this.id=D,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=A.getActor(),this.setEventedParent(L),this._data=_.data,this._options=n.extend({},_),this._collectResourceTiming=_.collectResourceTiming,_.maxzoom!==void 0&&(this.maxzoom=_.maxzoom),_.type&&(this.type=_.type),_.attribution&&(this.attribution=_.attribution),this.promoteId=_.promoteId;const G=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:_.cluster||!1,geojsonVtOptions:{buffer:(_.buffer!==void 0?_.buffer:128)*G,tolerance:(_.tolerance!==void 0?_.tolerance:.375)*G,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:_.lineMetrics||!1,generateId:_.generateId||!1},superclusterOptions:{maxZoom:_.clusterMaxZoom!==void 0?_.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,_.clusterMinPoints||2),extent:n.EXTENT,radius:(_.clusterRadius!==void 0?_.clusterRadius:50)*G,log:!1,generateId:_.generateId||!1},clusterProperties:_.clusterProperties,filter:_.filter},_.workerOptions)}onAdd(D){this.map=D,this.setData(this._data)}setData(D){return this._data=D,this._updateWorkerData(),this}getClusterExpansionZoom(D,_){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:D,source:this.id},_),this}getClusterChildren(D,_){return this.actor.send("geojson.getClusterChildren",{clusterId:D,source:this.id},_),this}getClusterLeaves(D,_,A,L){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:D,limit:_,offset:A},L),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new n.Event("dataloading",{dataType:"source"})),this._loaded=!1;const D=n.extend({},this.workerOptions),_=this._data;typeof _=="string"?(D.request=this.map._requestManager.transformRequest(n.exported.resolveURL(_),n.ResourceType.Source),D.request.collectResourceTiming=this._collectResourceTiming):D.data=JSON.stringify(_),this._pendingLoad=this.actor.send(this.type+".loadData",D,(A,L)=>{if(this._loaded=!0,this._pendingLoad=null,A)this.fire(new n.ErrorEvent(A));else{const G={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&L&&L.resourceTiming&&L.resourceTiming[this.id]&&(G.resourceTiming=L.resourceTiming[this.id]),this.fire(new n.Event("data",G)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(D,_){const A=D.actor?"reloadTile":"loadTile";D.actor=this.actor,D.request=this.actor.send(A,{type:this.type,uid:D.uid,tileID:D.tileID,tileZoom:D.tileZoom,zoom:D.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(L,G)=>(delete D.request,D.unloadVectorData(),D.aborted?_(null):L?_(L):(D.loadVectorData(G,this.map.painter,A==="reloadTile"),_(null))),void 0,A==="loadTile")}abortTile(D){D.request&&(D.request.cancel(),delete D.request),D.aborted=!0}unloadTile(D){D.unloadVectorData(),this.actor.send("removeTile",{uid:D.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return n.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Ie{constructor(D,_,A,L){super(D,_,A,L),this.roundZoom=!0,this.type="video",this.options=_}load(){this._loaded=!1;const D=this.options;this.urls=[];for(const _ of D.urls)this.urls.push(this.map._requestManager.transformRequest(_,n.ResourceType.Source).url);n.getVideo(this.urls,(_,A)=>{this._loaded=!0,_?this.fire(new n.ErrorEvent(_)):A&&(this.video=A,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(D){if(this.video){const _=this.video.seekable;D<_.start(0)||D>_.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError("sources."+this.id,null,`Playback for this video can be set only between the ${_.start(0)} and ${_.end(0)}-second mark.`))):this.video.currentTime=D}}getVideo(){return this.video}onAdd(D){this.map||(this.map=D,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const D=this.map.painter.context,_=D.gl;this.boundsBuffer||(this.boundsBuffer=D.createVertexBuffer(this._boundsArray,_e.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE),_.texSubImage2D(_.TEXTURE_2D,0,0,0,_.RGBA,_.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(D,this.video,_.RGBA),this.texture.bind(_.LINEAR,_.CLAMP_TO_EDGE));for(const A in this.tiles){const L=this.tiles[A];L.state!=="loaded"&&(L.state="loaded",L.texture=this.texture)}}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Ie,canvas:class extends Ie{constructor(D,_,A,L){super(D,_,A,L),_.coordinates?Array.isArray(_.coordinates)&&_.coordinates.length===4&&!_.coordinates.some(G=>!Array.isArray(G)||G.length!==2||G.some(H=>typeof H!="number"))||this.fire(new n.ErrorEvent(new n.ValidationError("sources."+D,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+D,null,'missing required property "coordinates"'))),_.animate&&typeof _.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+D,null,'optional "animate" property must be a boolean value'))),_.canvas?typeof _.canvas=="string"||_.canvas instanceof n.window.HTMLCanvasElement||this.fire(new n.ErrorEvent(new n.ValidationError("sources."+D,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+D,null,'missing required property "canvas"'))),this.options=_,this.animate=_.animate===void 0||_.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(D){this.map=D,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let D=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,D=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,D=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const _=this.map.painter.context,A=_.gl;this.boundsBuffer||(this.boundsBuffer=_.createVertexBuffer(this._boundsArray,_e.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(D||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(_,this.canvas,A.RGBA,{premultiply:!0});for(const L in this.tiles){const G=this.tiles[L];G.state!=="loaded"&&(G.state="loaded",G.texture=this.texture)}}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const D of[this.canvas.width,this.canvas.height])if(isNaN(D)||D<=0)return!0;return!1}}},ct=function(D,_,A,L){const G=new Qe[_.type](D,_,A,L);if(G.id!==D)throw new Error(`Expected Source id to be ${D} instead of ${G.id}`);return n.bindAll(["load","abort","unload","serialize","prepare"],G),G};function kt(D,_){const A=n.identity([]);return n.scale$1(A,A,[.5*D.width,.5*-D.height,1]),n.translate(A,A,[1,-1,0]),n.multiply(A,A,D.calculateProjMatrix(_.toUnwrapped()))}function er(D,_,A,L,G,H,ee,ae=!1){const de=D.tilesIn(L,ee,ae);de.sort(Nt);const me=[];for(const Ae of de)me.push({wrappedTileID:Ae.tile.tileID.wrapped().key,queryResults:Ae.tile.queryRenderedFeatures(_,A,D._state,Ae,G,H,kt(D.transform,Ae.tile.tileID),ae)});const we=function(Ae){const ze={},Xe={};for(const Fe of Ae){const Ge=Fe.queryResults,It=Fe.wrappedTileID,Je=Xe[It]=Xe[It]||{};for(const ht in Ge){const wt=Ge[ht],Bt=Je[ht]=Je[ht]||{},rr=ze[ht]=ze[ht]||[];for(const tr of wt)Bt[tr.featureIndex]||(Bt[tr.featureIndex]=!0,rr.push(tr))}}return ze}(me);for(const Ae in we)we[Ae].forEach(ze=>{const Xe=ze.feature,Fe=D.getFeatureState(Xe.layer["source-layer"],Xe.id);Xe.source=Xe.layer.source,Xe.layer["source-layer"]&&(Xe.sourceLayer=Xe.layer["source-layer"]),Xe.state=Fe});return we}function Kt(D,_){const A=D.getRenderableIds().map(H=>D.getTileByID(H)),L=[],G={};for(let H=0;H<A.length;H++){const ee=A[H],ae=ee.tileID.canonical.key;G[ae]||(G[ae]=!0,ee.querySourceFeatures(L,_))}return L}function Nt(D,_){const A=D.tileID,L=_.tileID;return A.overscaledZ-L.overscaledZ||A.canonical.y-L.canonical.y||A.wrap-L.wrap||A.canonical.x-L.canonical.x}function Qt(){return Ln.workerClass!=null?new Ln.workerClass:new n.window.Worker(Ln.workerUrl)}const Cr="vjmapgis_preloaded_worker_pool";class Lr{constructor(){this.active={}}acquire(_){if(!this.workers)for(this.workers=[];this.workers.length<Lr.workerCount;)this.workers.push(new Qt);return this.active[_]=!0,this.workers.slice()}release(_){delete this.active[_],this.numActive()===0&&(this.workers.forEach(A=>{A.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Cr]}numActive(){return Object.keys(this.active).length}}let Tr;function ln(){return Tr||(Tr=new Lr),Tr}function mn(D,_){const A={};for(const L in D)L!=="ref"&&(A[L]=D[L]);return n.refProperties.forEach(L=>{L in _&&(A[L]=_[L])}),A}function Yr(D){D=D.slice();const _=Object.create(null);for(let A=0;A<D.length;A++)_[D[A].id]=D[A];for(let A=0;A<D.length;A++)"ref"in D[A]&&(D[A]=mn(D[A],_[D[A].ref]));return D}Lr.workerCount=2;const Et={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog"};function _r(D,_,A){A.push({command:Et.addSource,args:[D,_[D]]})}function Wn(D,_,A){_.push({command:Et.removeSource,args:[D]}),A[D]=!0}function jn(D,_,A,L){Wn(D,A,L),_r(D,_,A)}function xn(D,_,A){let L;for(L in D[A])if(D[A].hasOwnProperty(L)&&L!=="data"&&!P(D[A][L],_[A][L]))return!1;for(L in _[A])if(_[A].hasOwnProperty(L)&&L!=="data"&&!P(D[A][L],_[A][L]))return!1;return!0}function zn(D,_,A,L,G,H){let ee;for(ee in _=_||{},D=D||{})D.hasOwnProperty(ee)&&(P(D[ee],_[ee])||A.push({command:H,args:[L,ee,_[ee],G]}));for(ee in _)_.hasOwnProperty(ee)&&!D.hasOwnProperty(ee)&&(P(D[ee],_[ee])||A.push({command:H,args:[L,ee,_[ee],G]}))}function li(D){return D.id}function Ri(D,_){return D[_.id]=_,D}class ci{constructor(_,A){this.reset(_,A)}reset(_,A){this.points=_||[],this._distances=[0];for(let L=1;L<this.points.length;L++)this._distances[L]=this._distances[L-1]+this.points[L].dist(this.points[L-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(A||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(_){if(this.points.length===1)return this.points[0];_=n.clamp(_,0,1);let A=1,L=this._distances[A];const G=_*this.paddedLength+this.padding;for(;L<G&&A<this._distances.length;)L=this._distances[++A];const H=A-1,ee=this._distances[H],ae=L-ee,de=ae>0?(G-ee)/ae:0;return this.points[H].mult(1-de).add(this.points[A].mult(de))}}class tn{constructor(_,A,L){const G=this.boxCells=[],H=this.circleCells=[];this.xCellCount=Math.ceil(_/L),this.yCellCount=Math.ceil(A/L);for(let ee=0;ee<this.xCellCount*this.yCellCount;ee++)G.push([]),H.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=_,this.height=A,this.xScale=this.xCellCount/_,this.yScale=this.yCellCount/A,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(_,A,L,G,H){this._forEachCell(A,L,G,H,this._insertBoxCell,this.boxUid++),this.boxKeys.push(_),this.bboxes.push(A),this.bboxes.push(L),this.bboxes.push(G),this.bboxes.push(H)}insertCircle(_,A,L,G){this._forEachCell(A-G,L-G,A+G,L+G,this._insertCircleCell,this.circleUid++),this.circleKeys.push(_),this.circles.push(A),this.circles.push(L),this.circles.push(G)}_insertBoxCell(_,A,L,G,H,ee){this.boxCells[H].push(ee)}_insertCircleCell(_,A,L,G,H,ee){this.circleCells[H].push(ee)}_query(_,A,L,G,H,ee){if(L<0||_>this.width||G<0||A>this.height)return!H&&[];const ae=[];if(_<=0&&A<=0&&this.width<=L&&this.height<=G){if(H)return!0;for(let de=0;de<this.boxKeys.length;de++)ae.push({key:this.boxKeys[de],x1:this.bboxes[4*de],y1:this.bboxes[4*de+1],x2:this.bboxes[4*de+2],y2:this.bboxes[4*de+3]});for(let de=0;de<this.circleKeys.length;de++){const me=this.circles[3*de],we=this.circles[3*de+1],Ae=this.circles[3*de+2];ae.push({key:this.circleKeys[de],x1:me-Ae,y1:we-Ae,x2:me+Ae,y2:we+Ae})}return ee?ae.filter(ee):ae}return this._forEachCell(_,A,L,G,this._queryCell,ae,{hitTest:H,seenUids:{box:{},circle:{}}},ee),H?ae.length>0:ae}_queryCircle(_,A,L,G,H){const ee=_-L,ae=_+L,de=A-L,me=A+L;if(ae<0||ee>this.width||me<0||de>this.height)return!G&&[];const we=[];return this._forEachCell(ee,de,ae,me,this._queryCellCircle,we,{hitTest:G,circle:{x:_,y:A,radius:L},seenUids:{box:{},circle:{}}},H),G?we.length>0:we}query(_,A,L,G,H){return this._query(_,A,L,G,!1,H)}hitTest(_,A,L,G,H){return this._query(_,A,L,G,!0,H)}hitTestCircle(_,A,L,G){return this._queryCircle(_,A,L,!0,G)}_queryCell(_,A,L,G,H,ee,ae,de){const me=ae.seenUids,we=this.boxCells[H];if(we!==null){const ze=this.bboxes;for(const Xe of we)if(!me.box[Xe]){me.box[Xe]=!0;const Fe=4*Xe;if(_<=ze[Fe+2]&&A<=ze[Fe+3]&&L>=ze[Fe+0]&&G>=ze[Fe+1]&&(!de||de(this.boxKeys[Xe]))){if(ae.hitTest)return ee.push(!0),!0;ee.push({key:this.boxKeys[Xe],x1:ze[Fe],y1:ze[Fe+1],x2:ze[Fe+2],y2:ze[Fe+3]})}}}const Ae=this.circleCells[H];if(Ae!==null){const ze=this.circles;for(const Xe of Ae)if(!me.circle[Xe]){me.circle[Xe]=!0;const Fe=3*Xe;if(this._circleAndRectCollide(ze[Fe],ze[Fe+1],ze[Fe+2],_,A,L,G)&&(!de||de(this.circleKeys[Xe]))){if(ae.hitTest)return ee.push(!0),!0;{const Ge=ze[Fe],It=ze[Fe+1],Je=ze[Fe+2];ee.push({key:this.circleKeys[Xe],x1:Ge-Je,y1:It-Je,x2:Ge+Je,y2:It+Je})}}}}}_queryCellCircle(_,A,L,G,H,ee,ae,de){const me=ae.circle,we=ae.seenUids,Ae=this.boxCells[H];if(Ae!==null){const Xe=this.bboxes;for(const Fe of Ae)if(!we.box[Fe]){we.box[Fe]=!0;const Ge=4*Fe;if(this._circleAndRectCollide(me.x,me.y,me.radius,Xe[Ge+0],Xe[Ge+1],Xe[Ge+2],Xe[Ge+3])&&(!de||de(this.boxKeys[Fe])))return ee.push(!0),!0}}const ze=this.circleCells[H];if(ze!==null){const Xe=this.circles;for(const Fe of ze)if(!we.circle[Fe]){we.circle[Fe]=!0;const Ge=3*Fe;if(this._circlesCollide(Xe[Ge],Xe[Ge+1],Xe[Ge+2],me.x,me.y,me.radius)&&(!de||de(this.circleKeys[Fe])))return ee.push(!0),!0}}}_forEachCell(_,A,L,G,H,ee,ae,de){const me=this._convertToXCellCoord(_),we=this._convertToYCellCoord(A),Ae=this._convertToXCellCoord(L),ze=this._convertToYCellCoord(G);for(let Xe=me;Xe<=Ae;Xe++)for(let Fe=we;Fe<=ze;Fe++)if(H.call(this,_,A,L,G,this.xCellCount*Fe+Xe,ee,ae,de))return}_convertToXCellCoord(_){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(_*this.xScale)))}_convertToYCellCoord(_){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(_*this.yScale)))}_circlesCollide(_,A,L,G,H,ee){const ae=G-_,de=H-A,me=L+ee;return me*me>ae*ae+de*de}_circleAndRectCollide(_,A,L,G,H,ee,ae){const de=(ee-G)/2,me=Math.abs(_-(G+de));if(me>de+L)return!1;const we=(ae-H)/2,Ae=Math.abs(A-(H+we));if(Ae>we+L)return!1;if(me<=de||Ae<=we)return!0;const ze=me-de,Xe=Ae-we;return ze*ze+Xe*Xe<=L*L}}function On(D,_,A,L,G){const H=n.create$1();return _?(n.scale$1(H,H,[1/G,1/G,1]),A||n.rotateZ(H,H,L.angle)):n.multiply(H,L.labelPlaneMatrix,D),H}function $n(D,_,A,L,G){if(_){const H=n.clone$1(D);return n.scale$1(H,H,[G,G,1]),A||n.rotateZ(H,H,-L.angle),H}return L.glCoordMatrix}function In(D,_,A=0){const L=[D.x,D.y,A,1];A?n.transformMat4(L,L,_):Co(L,L,_);const G=L[3];return{point:new n.pointGeometry(L[0]/G,L[1]/G),signedDistanceFromCamera:G}}function vi(D,_){return Math.min(.5+D/_*.5,1.5)}function Fn(D,_){const A=D[0]/D[3],L=D[1]/D[3];return A>=-_[0]&&A<=_[0]&&L>=-_[1]&&L<=_[1]}function jo(D,_,A,L,G,H,ee,ae,de){const me=L?D.textSizeData:D.iconSizeData,we=n.evaluateSizeForZoom(me,A.transform.zoom),Ae=[256/A.width*2+1,256/A.height*2+1],ze=L?D.text.dynamicLayoutVertexArray:D.icon.dynamicLayoutVertexArray;ze.clear();const Xe=D.lineVertexArray,Fe=L?D.text.placedSymbolArray:D.icon.placedSymbolArray,Ge=A.transform.width/A.transform.height;let It=!1;for(let Je=0;Je<Fe.length;Je++){const ht=Fe.get(Je);if(ht.hidden||ht.writingMode===n.WritingMode.vertical&&!It){yo(ht.numGlyphs,ze);continue}It=!1;const wt=de?de({x:ht.anchorX,y:ht.anchorY}):0,Bt=[ht.anchorX,ht.anchorY,wt,1];if(n.transformMat4(Bt,Bt,_),!Fn(Bt,Ae)){yo(ht.numGlyphs,ze);continue}const rr=vi(A.transform.cameraToCenterDistance,Bt[3]),tr=n.evaluateSizeForFeature(me,we,ht),wr=ee?tr/rr:tr*rr,Sr=new n.pointGeometry(ht.anchorX,ht.anchorY),Vr=In(Sr,G,wt);if(Vr.signedDistanceFromCamera<=0){yo(ht.numGlyphs,ze);continue}const Pt=Vr.point;let on={};const Zr=ee?null:de,kn=wi(ht,wr,!1,ae,_,G,H,D.glyphOffsetArray,Xe,ze,Pt,Sr,on,Ge,Zr);It=kn.useVertical,Zr&&kn.needsFlipping&&(on={}),(kn.notEnoughRoom||It||kn.needsFlipping&&wi(ht,wr,!0,ae,_,G,H,D.glyphOffsetArray,Xe,ze,Pt,Sr,on,Ge,Zr).notEnoughRoom)&&yo(ht.numGlyphs,ze)}L?D.text.dynamicLayoutVertexBuffer.updateData(ze):D.icon.dynamicLayoutVertexBuffer.updateData(ze)}function Ui(D,_,A,L,G,H,ee,ae,de,me,we,Ae,ze){const Xe=ae.glyphStartIndex+ae.numGlyphs,Fe=ae.lineStartIndex,Ge=ae.lineStartIndex+ae.lineLength,It=_.getoffsetX(ae.glyphStartIndex),Je=_.getoffsetX(Xe-1),ht=vo(D*It,A,L,G,H,ee,ae.segment,Fe,Ge,de,me,we,Ae,ze,!0);if(!ht)return null;const wt=vo(D*Je,A,L,G,H,ee,ae.segment,Fe,Ge,de,me,we,Ae,ze,!0);return wt?{first:ht,last:wt}:null}function xi(D,_,A,L){return D===n.WritingMode.horizontal&&Math.abs(A.y-_.y)>Math.abs(A.x-_.x)*L?{useVertical:!0}:(D===n.WritingMode.vertical?_.y<A.y:_.x>A.x)?{needsFlipping:!0}:null}function wi(D,_,A,L,G,H,ee,ae,de,me,we,Ae,ze,Xe,Fe){const Ge=_/24,It=D.lineOffsetX*Ge,Je=D.lineOffsetY*Ge;let ht;if(D.numGlyphs>1){const wt=D.glyphStartIndex+D.numGlyphs,Bt=D.lineStartIndex,rr=D.lineStartIndex+D.lineLength,tr=Ui(Ge,ae,It,Je,A,we,Ae,D,de,H,ze,Fe);if(!tr)return{notEnoughRoom:!0};const wr=In(tr.first.point,ee).point,Sr=In(tr.last.point,ee).point;if(L&&!A){const Vr=xi(D.writingMode,wr,Sr,Xe);if(Vr)return Vr}ht=[tr.first];for(let Vr=D.glyphStartIndex+1;Vr<wt-1;Vr++)ht.push(vo(Ge*ae.getoffsetX(Vr),It,Je,A,we,Ae,D.segment,Bt,rr,de,H,ze,Fe));ht.push(tr.last)}else{if(L&&!A){const Bt=In(Ae,G).point,rr=D.lineStartIndex+D.segment+1,tr=new n.pointGeometry(de.getx(rr),de.gety(rr)),wr=In(tr,G),Sr=wr.signedDistanceFromCamera>0?wr.point:Jn(Ae,tr,Bt,1,G),Vr=xi(D.writingMode,Bt,Sr,Xe);if(Vr)return Vr}const wt=vo(Ge*ae.getoffsetX(D.glyphStartIndex),It,Je,A,we,Ae,D.segment,D.lineStartIndex,D.lineStartIndex+D.lineLength,de,H,ze,Fe);if(!wt)return{notEnoughRoom:!0};ht=[wt]}for(const wt of ht)n.addDynamicAttributes(me,wt.point,wt.angle);return{}}function Jn(D,_,A,L,G,H){const ee=D.add(D.sub(_)._unit()),ae=In(ee,G,H?H(ee):0).point,de=A.sub(ae);return A.add(de._mult(L/de.mag()))}function vo(D,_,A,L,G,H,ee,ae,de,me,we,Ae,ze,Xe,Fe){const Ge=L?D-_:D+_;let It=Ge>0?1:-1,Je=0;L&&(It*=-1,Je=Math.PI),It<0&&(Je+=Math.PI);let ht=It>0?ae+ee:ae+ee+1,wt=G,Bt=G,rr=0,tr=0;const wr=Math.abs(Ge),Sr=[],Vr=[];let Pt=H;const on=()=>{const Dt=ht-It;return rr===0?H:new n.pointGeometry(me.getx(Dt),me.gety(Dt))},Zr=()=>Jn(on(),Pt,Bt,wr-rr+1,we,ze);for(;rr+tr<=wr;){if(ht+=It,ht<ae||ht>=de)return null;if(Bt=wt,Sr.push(wt),Xe&&Vr.push(Pt||on()),wt=Ae[ht],wt===void 0){Pt=new n.pointGeometry(me.getx(ht),me.gety(ht));const Dt=In(Pt,we,ze?ze(Pt):0);wt=Dt.signedDistanceFromCamera>0?Ae[ht]=Dt.point:Zr()}else Pt=null;rr+=tr,tr=Bt.dist(wt)}Fe&&ze&&(Pt=Pt||new n.pointGeometry(me.getx(ht),me.gety(ht)),Ae[ht]=wt=Ae[ht]===void 0?wt:Zr(),tr=Bt.dist(wt));const kn=(wr-rr)/tr,wn=wt.sub(Bt),Sn=wn.mult(kn)._add(Bt);A&&Sn._add(wn._unit()._perp()._mult(A*It));const Hn=Je+Math.atan2(wt.y-Bt.y,wt.x-Bt.x);return Sr.push(Sn),Xe&&(Pt=Pt||new n.pointGeometry(me.getx(ht),me.gety(ht)),Vr.push(function(Dt,hr,Jr){const yn=1-Jr;return new n.pointGeometry(Dt.x*yn+hr.x*Jr,Dt.y*yn+hr.y*Jr)}(Vr.length>0?Vr[Vr.length-1]:Pt,Pt,kn))),{point:Sn,angle:Hn,path:Sr,tilePath:Vr}}const Mo=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function yo(D,_){for(let A=0;A<D;A++){const L=_.length;_.resize(L+4),_.float32.set(Mo,3*L)}}function Co(D,_,A){const L=_[0],G=_[1];return D[0]=A[0]*L+A[4]*G+A[12],D[1]=A[1]*L+A[5]*G+A[13],D[3]=A[3]*L+A[7]*G+A[15],D}const ji=100;class ti{constructor(_,A,L=new tn(_.width+200,_.height+200,25),G=new tn(_.width+200,_.height+200,25)){this.transform=_,this.grid=L,this.ignoredGrid=G,this.pitchfactor=Math.cos(_._pitch)*_.cameraToCenterDistance,this.screenRightBoundary=_.width+ji,this.screenBottomBoundary=_.height+ji,this.gridRightBoundary=_.width+200,this.gridBottomBoundary=_.height+200,this.fogState=A}placeCollisionBox(_,A,L,G,H,ee,ae){const de=this.projectAndGetPerspectiveRatio(ee,A.anchorPointX,A.anchorPointY,A.elevation,A.tileID),me=H*de.perspectiveRatio,we=(A.x1*_+L.x-A.padding)*me+de.point.x,Ae=(A.y1*_+L.y-A.padding)*me+de.point.y,ze=(A.x2*_+L.x+A.padding)*me+de.point.x,Xe=(A.y2*_+L.y+A.padding)*me+de.point.y,Fe=de.perspectiveRatio<=.55||de.aboveHorizon;return!this.isInsideGrid(we,Ae,ze,Xe)||!G&&this.grid.hitTest(we,Ae,ze,Xe,ae)||Fe?{box:[],offscreen:!1}:{box:[we,Ae,ze,Xe],offscreen:this.isOffscreen(we,Ae,ze,Xe)}}placeCollisionCircles(_,A,L,G,H,ee,ae,de,me,we,Ae,ze,Xe,Fe){const Ge=[],It=this.transform.elevation,Je=It?Zr=>It.getAtTileOffset(Fe,Zr.x,Zr.y):Zr=>0,ht=new n.pointGeometry(A.anchorX,A.anchorY),wt=Je(ht),Bt=this.projectAndGetPerspectiveRatio(ee,ht.x,ht.y,wt,Fe),{perspectiveRatio:rr}=Bt,tr=(we?H/rr:H*rr)/n.ONE_EM,wr=In(ht,ae,wt).point,Sr=Bt.signedDistanceFromCamera>0?Ui(tr,G,A.lineOffsetX*tr,A.lineOffsetY*tr,!1,wr,ht,A,L,ae,{},It&&!we?Je:null,we&&!!It):null;let Vr=!1,Pt=!1,on=!0;if(Sr&&!Bt.aboveHorizon){const Zr=.5*ze*rr+Xe,kn=new n.pointGeometry(-100,-100),wn=new n.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Sn=new ci,Hn=Sr.first,Dt=Sr.last;let hr=[];for(let Pn=Hn.path.length-1;Pn>=1;Pn--)hr.push(Hn.path[Pn]);for(let Pn=1;Pn<Dt.path.length;Pn++)hr.push(Dt.path[Pn]);const Jr=2.5*Zr;if(de){const Pn=hr.map(It?(Mn,qn)=>{const Ci=Je(qn<Hn.path.length-1?Hn.tilePath[Hn.path.length-1-qn]:Dt.tilePath[qn-Hn.path.length+2]);return In(Mn,de,Ci)}:Mn=>In(Mn,de));hr=Pn.some(Mn=>Mn.signedDistanceFromCamera<=0)?[]:Pn.map(Mn=>Mn.point)}let yn=[];if(hr.length>0){const Pn=hr[0].clone(),Mn=hr[0].clone();for(let qn=1;qn<hr.length;qn++)Pn.x=Math.min(Pn.x,hr[qn].x),Pn.y=Math.min(Pn.y,hr[qn].y),Mn.x=Math.max(Mn.x,hr[qn].x),Mn.y=Math.max(Mn.y,hr[qn].y);yn=Pn.x>=kn.x&&Mn.x<=wn.x&&Pn.y>=kn.y&&Mn.y<=wn.y?[hr]:Mn.x<kn.x||Pn.x>wn.x||Mn.y<kn.y||Pn.y>wn.y?[]:n.clipLine([hr],kn.x,kn.y,wn.x,wn.y)}for(const Pn of yn){Sn.reset(Pn,.25*Zr);let Mn=0;Mn=Sn.length<=.5*Zr?1:Math.ceil(Sn.paddedLength/Jr)+1;for(let qn=0;qn<Mn;qn++){const Ci=qn/Math.max(Mn-1,1),Gi=Sn.lerp(Ci),mi=Gi.x+ji,Ei=Gi.y+ji;Ge.push(mi,Ei,Zr,0);const oo=mi-Zr,hi=Ei-Zr,pi=mi+Zr,Xn=Ei+Zr;if(on=on&&this.isOffscreen(oo,hi,pi,Xn),Pt=Pt||this.isInsideGrid(oo,hi,pi,Xn),!_&&this.grid.hitTestCircle(mi,Ei,Zr,Ae)&&(Vr=!0,!me))return{circles:[],offscreen:!1,collisionDetected:Vr}}}}return{circles:!me&&Vr||!Pt?[]:Ge,offscreen:on,collisionDetected:Vr}}queryRenderedSymbols(_){if(_.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const A=[];let L=1/0,G=1/0,H=-1/0,ee=-1/0;for(const we of _){const Ae=new n.pointGeometry(we.x+ji,we.y+ji);L=Math.min(L,Ae.x),G=Math.min(G,Ae.y),H=Math.max(H,Ae.x),ee=Math.max(ee,Ae.y),A.push(Ae)}const ae=this.grid.query(L,G,H,ee).concat(this.ignoredGrid.query(L,G,H,ee)),de={},me={};for(const we of ae){const Ae=we.key;if(de[Ae.bucketInstanceId]===void 0&&(de[Ae.bucketInstanceId]={}),de[Ae.bucketInstanceId][Ae.featureIndex])continue;const ze=[new n.pointGeometry(we.x1,we.y1),new n.pointGeometry(we.x2,we.y1),new n.pointGeometry(we.x2,we.y2),new n.pointGeometry(we.x1,we.y2)];n.polygonIntersectsPolygon(A,ze)&&(de[Ae.bucketInstanceId][Ae.featureIndex]=!0,me[Ae.bucketInstanceId]===void 0&&(me[Ae.bucketInstanceId]=[]),me[Ae.bucketInstanceId].push(Ae.featureIndex))}return me}insertCollisionBox(_,A,L,G,H){(A?this.ignoredGrid:this.grid).insert({bucketInstanceId:L,featureIndex:G,collisionGroupID:H},_[0],_[1],_[2],_[3])}insertCollisionCircles(_,A,L,G,H){const ee=A?this.ignoredGrid:this.grid,ae={bucketInstanceId:L,featureIndex:G,collisionGroupID:H};for(let de=0;de<_.length;de+=4)ee.insertCircle(ae,_[de],_[de+1],_[de+2])}projectAndGetPerspectiveRatio(_,A,L,G,H){const ee=[A,L,G||0,1];let ae=!1;if(G||this.transform.pitch>0){n.transformMat4(ee,ee,_);let de=!1;this.fogState&&H&&(de=function(me,we,Ae,ze,Xe,Fe){const Ge=Fe.calculateFogTileMatrix(Xe),It=[we,Ae,ze];return n.transformMat4$1(It,It,Ge),ke(me,It,Fe.pitch,Fe._fov)}(this.fogState,A,L,G||0,H.toUnwrapped(),this.transform)>.9),ae=ee[2]>ee[3]||de}else Co(ee,ee,_);return{point:new n.pointGeometry((ee[0]/ee[3]+1)/2*this.transform.width+ji,(-ee[1]/ee[3]+1)/2*this.transform.height+ji),perspectiveRatio:Math.min(.5+this.transform.cameraToCenterDistance/ee[3]*.5,1.5),signedDistanceFromCamera:ee[3],aboveHorizon:ae}}isOffscreen(_,A,L,G){return L<ji||_>=this.screenRightBoundary||G<ji||A>this.screenBottomBoundary}isInsideGrid(_,A,L,G){return L>=0&&_<this.gridRightBoundary&&G>=0&&A<this.gridBottomBoundary}getViewportMatrix(){const _=n.identity([]);return n.translate(_,_,[-100,-100,0]),_}}class Qn{constructor(_,A,L,G){this.opacity=_?Math.max(0,Math.min(1,_.opacity+(_.placed?A:-A))):G&&L?1:0,this.placed=L}isHidden(){return this.opacity===0&&!this.placed}}class la{constructor(_,A,L,G,H){this.text=new Qn(_?_.text:null,A,L,H),this.icon=new Qn(_?_.icon:null,A,G,H)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Sa{constructor(_,A,L){this.text=_,this.icon=A,this.skipFade=L}}class Ki{constructor(){this.invProjMatrix=n.create$1(),this.viewportMatrix=n.create$1(),this.circles=[]}}class uo{constructor(_,A,L,G,H){this.bucketInstanceId=_,this.featureIndex=A,this.sourceLayerIndex=L,this.bucketIndex=G,this.tileID=H}}class Da{constructor(_){this.crossSourceCollisions=_,this.maxGroupID=0,this.collisionGroups={}}get(_){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[_]){const A=++this.maxGroupID;this.collisionGroups[_]={ID:A,predicate:L=>L.collisionGroupID===A}}return this.collisionGroups[_]}}function ki(D,_,A,L,G){const{horizontalAlign:H,verticalAlign:ee}=n.getAnchorAlignment(D),ae=-(H-.5)*_,de=-(ee-.5)*A,me=n.evaluateVariableOffset(D,L);return new n.pointGeometry(ae+me[0]*G,de+me[1]*G)}function Ii(D,_,A,L,G){const H=new n.pointGeometry(D,_);return A&&H._rotate(L?G:-G),H}class Ra{constructor(_,A,L,G,H){this.transform=_.clone(),this.collisionIndex=new ti(this.transform,H),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=A,this.retainedQueryData={},this.collisionGroups=new Da(L),this.collisionCircleArrays={},this.prevPlacement=G,G&&(G.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(_,A,L,G){const H=L.getBucket(A),ee=L.latestFeatureIndex;if(!H||!ee||A.id!==H.layerIds[0])return;const ae=L.collisionBoxArray,de=H.layers[0].layout,me=Math.pow(2,this.transform.zoom-L.tileID.overscaledZ),we=L.tileSize/n.EXTENT,Ae=this.transform.calculateProjMatrix(L.tileID.toUnwrapped()),ze=de.get("text-pitch-alignment")==="map",Xe=de.get("text-rotation-alignment")==="map",Fe=Ye(L,1,this.transform.zoom),Ge=On(Ae,ze,Xe,this.transform,Fe);let It=null;if(ze){const ht=$n(Ae,ze,Xe,this.transform,Fe);It=n.multiply([],this.transform.labelPlaneMatrix,ht)}this.retainedQueryData[H.bucketInstanceId]=new uo(H.bucketInstanceId,ee,H.sourceLayerIndex,H.index,L.tileID);const Je={bucket:H,layout:de,posMatrix:Ae,textLabelPlaneMatrix:Ge,labelToScreenMatrix:It,scale:me,textPixelRatio:we,holdingForFade:L.holdingForFade(),collisionBoxArray:ae,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(H.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:n.evaluateSizeForZoom(H.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(H.sourceID)};if(G)for(const ht of H.sortKeyRanges){const{sortKey:wt,symbolInstanceStart:Bt,symbolInstanceEnd:rr}=ht;_.push({sortKey:wt,symbolInstanceStart:Bt,symbolInstanceEnd:rr,parameters:Je})}else _.push({symbolInstanceStart:0,symbolInstanceEnd:H.symbolInstances.length,parameters:Je})}attemptAnchorPlacement(_,A,L,G,H,ee,ae,de,me,we,Ae,ze,Xe,Fe,Ge,It,Je,ht){const wt=[ze.textOffset0,ze.textOffset1],Bt=ki(_,L,G,wt,H),rr=this.collisionIndex.placeCollisionBox(H,A,Ii(Bt.x,Bt.y,ee,ae,this.transform.angle),Ae,de,me,we.predicate);if((!It||this.collisionIndex.placeCollisionBox(Fe.getSymbolInstanceIconSize(ht,this.transform.zoom,Xe),It,Ii(Bt.x,Bt.y,ee,ae,this.transform.angle),Ae,de,me,we.predicate).box.length!==0)&&rr.box.length>0){let tr;return this.prevPlacement&&this.prevPlacement.variableOffsets[ze.crossTileID]&&this.prevPlacement.placements[ze.crossTileID]&&this.prevPlacement.placements[ze.crossTileID].text&&(tr=this.prevPlacement.variableOffsets[ze.crossTileID].anchor),this.variableOffsets[ze.crossTileID]={textOffset:wt,width:L,height:G,anchor:_,textScale:H,prevAnchor:tr},this.markUsedJustification(Fe,_,ze,Ge),Fe.allowVerticalPlacement&&(this.markUsedOrientation(Fe,Ge,ze),this.placedOrientations[ze.crossTileID]=Ge),{shift:Bt,placedGlyphBoxes:rr}}}placeLayerBucketPart(_,A,L){const{bucket:G,layout:H,posMatrix:ee,textLabelPlaneMatrix:ae,labelToScreenMatrix:de,textPixelRatio:me,holdingForFade:we,collisionBoxArray:Ae,partiallyEvaluatedTextSize:ze,partiallyEvaluatedIconSize:Xe,collisionGroup:Fe}=_.parameters,Ge=H.get("text-optional"),It=H.get("icon-optional"),Je=H.get("text-allow-overlap"),ht=H.get("icon-allow-overlap"),wt=H.get("text-rotation-alignment")==="map",Bt=H.get("text-pitch-alignment")==="map",rr=H.get("icon-text-fit")!=="none",tr=H.get("symbol-z-order")==="viewport-y",wr=Je&&(ht||!G.hasIconData()||It),Sr=ht&&(Je||!G.hasTextData()||Ge);!G.collisionArrays&&Ae&&G.deserializeCollisionBoxes(Ae),L&&G.updateCollisionDebugBuffers(this.transform.zoom,Ae);const Vr=(Pt,on,Zr)=>{if(A[Pt.crossTileID])return;if(we)return void(this.placements[Pt.crossTileID]=new Sa(!1,!1,!1));let kn=!1,wn=!1,Sn=!0,Hn=null,Dt={box:null,offscreen:null},hr={box:null,offscreen:null},Jr=null,yn=null,Pn=null,Mn=0,qn=0,Ci=0;Zr.textFeatureIndex?Mn=Zr.textFeatureIndex:Pt.useRuntimeCollisionCircles&&(Mn=Pt.featureIndex),Zr.verticalTextFeatureIndex&&(qn=Zr.verticalTextFeatureIndex);const Gi=hi=>{hi.tileID=this.retainedQueryData[G.bucketInstanceId].tileID,(this.transform.elevation||hi.elevation)&&(hi.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[G.bucketInstanceId].tileID,hi.anchorPointX,hi.anchorPointY):0)},mi=Zr.textBox;if(mi){Gi(mi);const hi=Xn=>{let Fi=n.WritingMode.horizontal;if(G.allowVerticalPlacement&&!Xn&&this.prevPlacement){const ao=this.prevPlacement.placedOrientations[Pt.crossTileID];ao&&(this.placedOrientations[Pt.crossTileID]=ao,Fi=ao,this.markUsedOrientation(G,Fi,Pt))}return Fi},pi=(Xn,Fi)=>{if(G.allowVerticalPlacement&&Pt.numVerticalGlyphVertices>0&&Zr.verticalTextBox){for(const ao of G.writingModes)if(ao===n.WritingMode.vertical?(Dt=Fi(),hr=Dt):Dt=Xn(),Dt&&Dt.box&&Dt.box.length)break}else Dt=Xn()};if(H.get("text-variable-anchor")){let Xn=H.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[Pt.crossTileID]){const Si=this.prevPlacement.variableOffsets[Pt.crossTileID];Xn.indexOf(Si.anchor)>0&&(Xn=Xn.filter(Eo=>Eo!==Si.anchor),Xn.unshift(Si.anchor))}const Fi=(Si,Eo,Cs)=>{const Zo=G.getSymbolInstanceTextSize(ze,Pt,this.transform.zoom,on),Ka=(Si.x2-Si.x1)*Zo+2*Si.padding,Pi=(Si.y2-Si.y1)*Zo+2*Si.padding,bi=rr&&!ht?Eo:null;bi&&Gi(bi);let ja={box:[],offscreen:!1};const Va=Je?2*Xn.length:Xn.length;for(let as=0;as<Va;++as){const Fo=this.attemptAnchorPlacement(Xn[as%Xn.length],Si,Ka,Pi,Zo,wt,Bt,me,ee,Fe,as>=Xn.length,Pt,on,G,Cs,bi,ze,Xe);if(Fo&&(ja=Fo.placedGlyphBoxes,ja&&ja.box&&ja.box.length)){kn=!0,Hn=Fo.shift;break}}return ja};pi(()=>Fi(mi,Zr.iconBox,n.WritingMode.horizontal),()=>{const Si=Zr.verticalTextBox;return Si&&Gi(Si),G.allowVerticalPlacement&&!(Dt&&Dt.box&&Dt.box.length)&&Pt.numVerticalGlyphVertices>0&&Si?Fi(Si,Zr.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null}}),Dt&&(kn=Dt.box,Sn=Dt.offscreen);const ao=hi(Dt&&Dt.box);if(!kn&&this.prevPlacement){const Si=this.prevPlacement.variableOffsets[Pt.crossTileID];Si&&(this.variableOffsets[Pt.crossTileID]=Si,this.markUsedJustification(G,Si.anchor,Pt,ao))}}else{const Xn=(Fi,ao)=>{const Si=G.getSymbolInstanceTextSize(ze,Pt,this.transform.zoom,on),Eo=this.collisionIndex.placeCollisionBox(Si,Fi,new n.pointGeometry(0,0),Je,me,ee,Fe.predicate);return Eo&&Eo.box&&Eo.box.length&&(this.markUsedOrientation(G,ao,Pt),this.placedOrientations[Pt.crossTileID]=ao),Eo};pi(()=>Xn(mi,n.WritingMode.horizontal),()=>{const Fi=Zr.verticalTextBox;return G.allowVerticalPlacement&&Pt.numVerticalGlyphVertices>0&&Fi?(Gi(Fi),Xn(Fi,n.WritingMode.vertical)):{box:null,offscreen:null}}),hi(Dt&&Dt.box&&Dt.box.length)}}if(Jr=Dt,kn=Jr&&Jr.box&&Jr.box.length>0,Sn=Jr&&Jr.offscreen,Pt.useRuntimeCollisionCircles){const hi=G.text.placedSymbolArray.get(Pt.centerJustifiedTextSymbolIndex),pi=n.evaluateSizeForFeature(G.textSizeData,ze,hi),Xn=H.get("text-padding");yn=this.collisionIndex.placeCollisionCircles(Je,hi,G.lineVertexArray,G.glyphOffsetArray,pi,ee,ae,de,L,Bt,Fe.predicate,Pt.collisionCircleDiameter,Xn,this.retainedQueryData[G.bucketInstanceId].tileID),kn=Je||yn.circles.length>0&&!yn.collisionDetected,Sn=Sn&&yn.offscreen}if(Zr.iconFeatureIndex&&(Ci=Zr.iconFeatureIndex),Zr.iconBox){const hi=pi=>{Gi(pi);const Xn=rr&&Hn?Ii(Hn.x,Hn.y,wt,Bt,this.transform.angle):new n.pointGeometry(0,0),Fi=G.getSymbolInstanceIconSize(Xe,this.transform.zoom,on);return this.collisionIndex.placeCollisionBox(Fi,pi,Xn,ht,me,ee,Fe.predicate)};hr&&hr.box&&hr.box.length&&Zr.verticalIconBox?(Pn=hi(Zr.verticalIconBox),wn=Pn.box.length>0):(Pn=hi(Zr.iconBox),wn=Pn.box.length>0),Sn=Sn&&Pn.offscreen}const Ei=Ge||Pt.numHorizontalGlyphVertices===0&&Pt.numVerticalGlyphVertices===0,oo=It||Pt.numIconVertices===0;if(Ei||oo?oo?Ei||(wn=wn&&kn):kn=wn&&kn:wn=kn=wn&&kn,kn&&Jr&&Jr.box&&this.collisionIndex.insertCollisionBox(Jr.box,H.get("text-ignore-placement"),G.bucketInstanceId,hr&&hr.box&&qn?qn:Mn,Fe.ID),wn&&Pn&&this.collisionIndex.insertCollisionBox(Pn.box,H.get("icon-ignore-placement"),G.bucketInstanceId,Ci,Fe.ID),yn&&(kn&&this.collisionIndex.insertCollisionCircles(yn.circles,H.get("text-ignore-placement"),G.bucketInstanceId,Mn,Fe.ID),L)){const hi=G.bucketInstanceId;let pi=this.collisionCircleArrays[hi];pi===void 0&&(pi=this.collisionCircleArrays[hi]=new Ki);for(let Xn=0;Xn<yn.circles.length;Xn+=4)pi.circles.push(yn.circles[Xn+0]),pi.circles.push(yn.circles[Xn+1]),pi.circles.push(yn.circles[Xn+2]),pi.circles.push(yn.collisionDetected?1:0)}this.placements[Pt.crossTileID]=new Sa(kn||wr,wn||Sr,Sn||G.justReloaded),A[Pt.crossTileID]=!0};if(tr){const Pt=G.getSortedSymbolIndexes(this.transform.angle);for(let on=Pt.length-1;on>=0;--on){const Zr=Pt[on];Vr(G.symbolInstances.get(Zr),Zr,G.collisionArrays[Zr])}}else for(let Pt=_.symbolInstanceStart;Pt<_.symbolInstanceEnd;Pt++)Vr(G.symbolInstances.get(Pt),Pt,G.collisionArrays[Pt]);if(L&&G.bucketInstanceId in this.collisionCircleArrays){const Pt=this.collisionCircleArrays[G.bucketInstanceId];n.invert(Pt.invProjMatrix,ee),Pt.viewportMatrix=this.collisionIndex.getViewportMatrix()}G.justReloaded=!1}markUsedJustification(_,A,L,G){let H;H=G===n.WritingMode.vertical?L.verticalPlacedTextSymbolIndex:{left:L.leftJustifiedTextSymbolIndex,center:L.centerJustifiedTextSymbolIndex,right:L.rightJustifiedTextSymbolIndex}[n.getAnchorJustification(A)];const ee=[L.leftJustifiedTextSymbolIndex,L.centerJustifiedTextSymbolIndex,L.rightJustifiedTextSymbolIndex,L.verticalPlacedTextSymbolIndex];for(const ae of ee)ae>=0&&(_.text.placedSymbolArray.get(ae).crossTileID=H>=0&&ae!==H?0:L.crossTileID)}markUsedOrientation(_,A,L){const G=A===n.WritingMode.horizontal||A===n.WritingMode.horizontalOnly?A:0,H=A===n.WritingMode.vertical?A:0,ee=[L.leftJustifiedTextSymbolIndex,L.centerJustifiedTextSymbolIndex,L.rightJustifiedTextSymbolIndex];for(const ae of ee)_.text.placedSymbolArray.get(ae).placedOrientation=G;L.verticalPlacedTextSymbolIndex&&(_.text.placedSymbolArray.get(L.verticalPlacedTextSymbolIndex).placedOrientation=H)}commit(_){this.commitTime=_,this.zoomAtLastRecencyCheck=this.transform.zoom;const A=this.prevPlacement;let L=!1;this.prevZoomAdjustment=A?A.zoomAdjustment(this.transform.zoom):0;const G=A?A.symbolFadeChange(_):1,H=A?A.opacities:{},ee=A?A.variableOffsets:{},ae=A?A.placedOrientations:{};for(const de in this.placements){const me=this.placements[de],we=H[de];we?(this.opacities[de]=new la(we,G,me.text,me.icon),L=L||me.text!==we.text.placed||me.icon!==we.icon.placed):(this.opacities[de]=new la(null,G,me.text,me.icon,me.skipFade),L=L||me.text||me.icon)}for(const de in H){const me=H[de];if(!this.opacities[de]){const we=new la(me,G,!1,!1);we.isHidden()||(this.opacities[de]=we,L=L||me.text.placed||me.icon.placed)}}for(const de in ee)this.variableOffsets[de]||!this.opacities[de]||this.opacities[de].isHidden()||(this.variableOffsets[de]=ee[de]);for(const de in ae)this.placedOrientations[de]||!this.opacities[de]||this.opacities[de].isHidden()||(this.placedOrientations[de]=ae[de]);L?this.lastPlacementChangeTime=_:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=A?A.lastPlacementChangeTime:_)}updateLayerOpacities(_,A){const L={};for(const G of A){const H=G.getBucket(_);H&&G.latestFeatureIndex&&_.id===H.layerIds[0]&&this.updateBucketOpacities(H,L,G.collisionBoxArray)}}updateBucketOpacities(_,A,L){_.hasTextData()&&_.text.opacityVertexArray.clear(),_.hasIconData()&&_.icon.opacityVertexArray.clear(),_.hasIconCollisionBoxData()&&_.iconCollisionBox.collisionVertexArray.clear(),_.hasTextCollisionBoxData()&&_.textCollisionBox.collisionVertexArray.clear();const G=_.layers[0].layout,H=new la(null,0,!1,!1,!0),ee=G.get("text-allow-overlap"),ae=G.get("icon-allow-overlap"),de=G.get("text-variable-anchor"),me=G.get("text-rotation-alignment")==="map",we=G.get("text-pitch-alignment")==="map",Ae=G.get("icon-text-fit")!=="none",ze=new la(null,0,ee&&(ae||!_.hasIconData()||G.get("icon-optional")),ae&&(ee||!_.hasTextData()||G.get("text-optional")),!0);!_.collisionArrays&&L&&(_.hasIconCollisionBoxData()||_.hasTextCollisionBoxData())&&_.deserializeCollisionBoxes(L);const Xe=(Fe,Ge,It)=>{for(let Je=0;Je<Ge/4;Je++)Fe.opacityVertexArray.emplaceBack(It)};for(let Fe=0;Fe<_.symbolInstances.length;Fe++){const Ge=_.symbolInstances.get(Fe),{numHorizontalGlyphVertices:It,numVerticalGlyphVertices:Je,crossTileID:ht}=Ge;let wt=this.opacities[ht];A[ht]?wt=H:wt||(wt=ze,this.opacities[ht]=wt),A[ht]=!0;const Bt=Ge.numIconVertices>0,rr=this.placedOrientations[Ge.crossTileID],tr=rr===n.WritingMode.vertical,wr=rr===n.WritingMode.horizontal||rr===n.WritingMode.horizontalOnly;if(It>0||Je>0){const Sr=Z(wt.text);Xe(_.text,It,tr?ie:Sr),Xe(_.text,Je,wr?ie:Sr);const Vr=wt.text.isHidden();[Ge.rightJustifiedTextSymbolIndex,Ge.centerJustifiedTextSymbolIndex,Ge.leftJustifiedTextSymbolIndex].forEach(Zr=>{Zr>=0&&(_.text.placedSymbolArray.get(Zr).hidden=Vr||tr?1:0)}),Ge.verticalPlacedTextSymbolIndex>=0&&(_.text.placedSymbolArray.get(Ge.verticalPlacedTextSymbolIndex).hidden=Vr||wr?1:0);const Pt=this.variableOffsets[Ge.crossTileID];Pt&&this.markUsedJustification(_,Pt.anchor,Ge,rr);const on=this.placedOrientations[Ge.crossTileID];on&&(this.markUsedJustification(_,"left",Ge,on),this.markUsedOrientation(_,on,Ge))}if(Bt){const Sr=Z(wt.icon),Vr=!(Ae&&Ge.verticalPlacedIconSymbolIndex&&tr);Ge.placedIconSymbolIndex>=0&&(Xe(_.icon,Ge.numIconVertices,Vr?Sr:ie),_.icon.placedSymbolArray.get(Ge.placedIconSymbolIndex).hidden=wt.icon.isHidden()),Ge.verticalPlacedIconSymbolIndex>=0&&(Xe(_.icon,Ge.numVerticalIconVertices,Vr?ie:Sr),_.icon.placedSymbolArray.get(Ge.verticalPlacedIconSymbolIndex).hidden=wt.icon.isHidden())}if(_.hasIconCollisionBoxData()||_.hasTextCollisionBoxData()){const Sr=_.collisionArrays[Fe];if(Sr){let Vr=new n.pointGeometry(0,0);if(Sr.textBox||Sr.verticalTextBox){let on=!0;if(de){const Zr=this.variableOffsets[ht];Zr?(Vr=ki(Zr.anchor,Zr.width,Zr.height,Zr.textOffset,Zr.textScale),me&&Vr._rotate(we?this.transform.angle:-this.transform.angle)):on=!1}Sr.textBox&&Wi(_.textCollisionBox.collisionVertexArray,wt.text.placed,!on||tr,Vr.x,Vr.y),Sr.verticalTextBox&&Wi(_.textCollisionBox.collisionVertexArray,wt.text.placed,!on||wr,Vr.x,Vr.y)}const Pt=Boolean(!wr&&Sr.verticalIconBox);Sr.iconBox&&Wi(_.iconCollisionBox.collisionVertexArray,wt.icon.placed,Pt,Ae?Vr.x:0,Ae?Vr.y:0),Sr.verticalIconBox&&Wi(_.iconCollisionBox.collisionVertexArray,wt.icon.placed,!Pt,Ae?Vr.x:0,Ae?Vr.y:0)}}}if(_.sortFeatures(this.transform.angle),this.retainedQueryData[_.bucketInstanceId]&&(this.retainedQueryData[_.bucketInstanceId].featureSortOrder=_.featureSortOrder),_.hasTextData()&&_.text.opacityVertexBuffer&&_.text.opacityVertexBuffer.updateData(_.text.opacityVertexArray),_.hasIconData()&&_.icon.opacityVertexBuffer&&_.icon.opacityVertexBuffer.updateData(_.icon.opacityVertexArray),_.hasIconCollisionBoxData()&&_.iconCollisionBox.collisionVertexBuffer&&_.iconCollisionBox.collisionVertexBuffer.updateData(_.iconCollisionBox.collisionVertexArray),_.hasTextCollisionBoxData()&&_.textCollisionBox.collisionVertexBuffer&&_.textCollisionBox.collisionVertexBuffer.updateData(_.textCollisionBox.collisionVertexArray),_.bucketInstanceId in this.collisionCircleArrays){const Fe=this.collisionCircleArrays[_.bucketInstanceId];_.placementInvProjMatrix=Fe.invProjMatrix,_.placementViewportMatrix=Fe.viewportMatrix,_.collisionCircleArray=Fe.circles,delete this.collisionCircleArrays[_.bucketInstanceId]}}symbolFadeChange(_){return this.fadeDuration===0?1:(_-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(_){return Math.max(0,(this.transform.zoom-_)/1.5)}hasTransitions(_){return this.stale||_-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(_,A){const L=this.zoomAtLastRecencyCheck===A?1-this.zoomAdjustment(A):1;return this.zoomAtLastRecencyCheck=A,this.commitTime+this.fadeDuration*L>_}setStale(){this.stale=!0}}function Wi(D,_,A,L,G){D.emplaceBack(_?1:0,A?1:0,L||0,G||0),D.emplaceBack(_?1:0,A?1:0,L||0,G||0),D.emplaceBack(_?1:0,A?1:0,L||0,G||0),D.emplaceBack(_?1:0,A?1:0,L||0,G||0)}const si=Math.pow(2,25),ua=Math.pow(2,24),Mi=Math.pow(2,17),ho=Math.pow(2,16),bo=Math.pow(2,9),La=Math.pow(2,8),Yo=Math.pow(2,1);function Z(D){if(D.opacity===0&&!D.placed)return 0;if(D.opacity===1&&D.placed)return 4294967295;const _=D.placed?1:0,A=Math.floor(127*D.opacity);return A*si+_*ua+A*Mi+_*ho+A*bo+_*La+A*Yo+_}const ie=0;class le{constructor(_){this._sortAcrossTiles=_.layout.get("symbol-z-order")!=="viewport-y"&&_.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(_,A,L,G,H){const ee=this._bucketParts;for(;this._currentTileIndex<_.length;)if(A.getBucketParts(ee,G,_[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,H())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,ee.sort((ae,de)=>ae.sortKey-de.sortKey));this._currentPartIndex<ee.length;)if(A.placeLayerBucketPart(ee[this._currentPartIndex],this._seenCrossTileIDs,L),this._currentPartIndex++,H())return!0;return!1}}class xe{constructor(_,A,L,G,H,ee,ae,de){this.placement=new Ra(_,H,ee,ae,de),this._currentPlacementIndex=A.length-1,this._forceFullPlacement=L,this._showCollisionBoxes=G,this._done=!1}isDone(){return this._done}continuePlacement(_,A,L){const G=n.exported.now(),H=()=>{const ee=n.exported.now()-G;return!this._forceFullPlacement&&ee>2};for(;this._currentPlacementIndex>=0;){const ee=A[_[this._currentPlacementIndex]],ae=this.placement.collisionIndex.transform.zoom;if(ee.type==="symbol"&&(!ee.minzoom||ee.minzoom<=ae)&&(!ee.maxzoom||ee.maxzoom>ae)){if(this._inProgressLayer||(this._inProgressLayer=new le(ee)),this._inProgressLayer.continuePlacement(L[ee.source],this.placement,this._showCollisionBoxes,ee,H))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(_){return this.placement.commit(_),this.placement}}const Me=512/n.EXTENT/2;class Oe{constructor(_,A,L){this.tileID=_,this.indexedSymbolInstances={},this.bucketInstanceId=L;for(let G=0;G<A.length;G++){const H=A.get(G),ee=H.key;this.indexedSymbolInstances[ee]||(this.indexedSymbolInstances[ee]=[]),this.indexedSymbolInstances[ee].push({crossTileID:H.crossTileID,coord:this.getScaledCoordinates(H,_)})}}getScaledCoordinates(_,A){const L=Me/Math.pow(2,A.canonical.z-this.tileID.canonical.z);return{x:Math.floor((A.canonical.x*n.EXTENT+_.anchorX)*L),y:Math.floor((A.canonical.y*n.EXTENT+_.anchorY)*L)}}findMatches(_,A,L){const G=this.tileID.canonical.z<A.canonical.z?1:Math.pow(2,this.tileID.canonical.z-A.canonical.z);for(let H=0;H<_.length;H++){const ee=_.get(H);if(ee.crossTileID)continue;const ae=this.indexedSymbolInstances[ee.key];if(!ae)continue;const de=this.getScaledCoordinates(ee,A);for(const me of ae)if(Math.abs(me.coord.x-de.x)<=G&&Math.abs(me.coord.y-de.y)<=G&&!L[me.crossTileID]){L[me.crossTileID]=!0,ee.crossTileID=me.crossTileID;break}}}}class Be{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class nt{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(_){const A=Math.round((_-this.lng)/360);if(A!==0)for(const L in this.indexes){const G=this.indexes[L],H={};for(const ee in G){const ae=G[ee];ae.tileID=ae.tileID.unwrapTo(ae.tileID.wrap+A),H[ae.tileID.key]=ae}this.indexes[L]=H}this.lng=_}addBucket(_,A,L){if(this.indexes[_.overscaledZ]&&this.indexes[_.overscaledZ][_.key]){if(this.indexes[_.overscaledZ][_.key].bucketInstanceId===A.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(_.overscaledZ,this.indexes[_.overscaledZ][_.key])}for(let H=0;H<A.symbolInstances.length;H++)A.symbolInstances.get(H).crossTileID=0;this.usedCrossTileIDs[_.overscaledZ]||(this.usedCrossTileIDs[_.overscaledZ]={});const G=this.usedCrossTileIDs[_.overscaledZ];for(const H in this.indexes){const ee=this.indexes[H];if(Number(H)>_.overscaledZ)for(const ae in ee){const de=ee[ae];de.tileID.isChildOf(_)&&de.findMatches(A.symbolInstances,_,G)}else{const ae=ee[_.scaledTo(Number(H)).key];ae&&ae.findMatches(A.symbolInstances,_,G)}}for(let H=0;H<A.symbolInstances.length;H++){const ee=A.symbolInstances.get(H);ee.crossTileID||(ee.crossTileID=L.generate(),G[ee.crossTileID]=!0)}return this.indexes[_.overscaledZ]===void 0&&(this.indexes[_.overscaledZ]={}),this.indexes[_.overscaledZ][_.key]=new Oe(_,A.symbolInstances,A.bucketInstanceId),!0}removeBucketCrossTileIDs(_,A){for(const L in A.indexedSymbolInstances)for(const G of A.indexedSymbolInstances[L])delete this.usedCrossTileIDs[_][G.crossTileID]}removeStaleBuckets(_){let A=!1;for(const L in this.indexes){const G=this.indexes[L];for(const H in G)_[G[H].bucketInstanceId]||(this.removeBucketCrossTileIDs(L,G[H]),delete G[H],A=!0)}return A}}class mt{constructor(){this.layerIndexes={},this.crossTileIDs=new Be,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(_,A,L){let G=this.layerIndexes[_.id];G===void 0&&(G=this.layerIndexes[_.id]=new nt);let H=!1;const ee={};G.handleWrapJump(L);for(const ae of A){const de=ae.getBucket(_);de&&_.id===de.layerIds[0]&&(de.bucketInstanceId||(de.bucketInstanceId=++this.maxBucketInstanceId),G.addBucket(ae.tileID,de,this.crossTileIDs)&&(H=!0),ee[de.bucketInstanceId]=!0)}return G.removeStaleBuckets(ee)&&(H=!0),H}pruneUnusedLayers(_){const A={};_.forEach(L=>{A[L]=!0});for(const L in this.layerIndexes)A[L]||delete this.layerIndexes[L]}}const pt=(D,_)=>n.emitValidationErrors(D,_&&_.filter(A=>A.identifier!=="source.canvas")),qt=n.pick(Et,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog"]),Xt=n.pick(Et,["setCenter","setZoom","setBearing","setPitch"]),dr=function(){const D={},_=n.spec.$version;for(const A in n.spec.$root){const L=n.spec.$root[A];if(L.required){let G=null;G=A==="version"?_:L.type==="array"?[]:{},G!=null&&(D[A]=G)}}return D}(),$r={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class lr extends n.Evented{constructor(_,A={}){super(),this.map=_,this.dispatcher=new bt(ln(),this),this.imageManager=new oe,this.imageManager.setEventedParent(this),this.glyphManager=new n.GlyphManager(_._requestManager,A.localFontFamily?n.LocalGlyphMode.all:A.localIdeographFontFamily?n.LocalGlyphMode.ideographs:n.LocalGlyphMode.none,A.localFontFamily||A.localIdeographFontFamily),this.lineAtlas=new n.LineAtlas(256,512),this.crossTileSymbolIndex=new mt,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new n.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());const L=this;this._rtlTextPluginCallback=lr.registerForPluginStateChange(G=>{L.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:G.pluginStatus,pluginURL:G.pluginURL},(H,ee)=>{if(n.triggerPluginCompletionEvent(H),ee&&ee.every(ae=>ae))for(const ae in L._sourceCaches){const de=L._sourceCaches[ae],me=de.getSource().type;me!=="vector"&&me!=="geojson"||de.reload()}})}),this.on("data",G=>{if(G.dataType!=="source"||G.sourceDataType!=="metadata")return;const H=this.getSource(G.sourceId);if(H&&H.vectorLayerIds)for(const ee in this._layers){const ae=this._layers[ee];ae.source===H.id&&this._validateLayer(ae)}})}loadURL(_,A={}){this.fire(new n.Event("dataloading",{dataType:"style"}));const L=typeof A.validate=="boolean"?A.validate:!n.isvjmapsURL(_);_=this.map._requestManager.normalizeStyleURL(_,A.accessToken);const G=this.map._requestManager.transformRequest(_,n.ResourceType.Style);this._request=n.getJSON(G,(H,ee)=>{this._request=null,H?this.fire(new n.ErrorEvent(H)):ee&&this._load(ee,L)})}loadJSON(_,A={}){this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.exported.frame(()=>{this._request=null,this._load(_,A.validate!==!1)})}loadEmpty(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(dr,!1)}_updateLayerCount(_,A){const L=A?1:-1;_.is3D()&&(this._num3DLayers+=L),_.type==="circle"&&(this._numCircleLayers+=L),_.type==="symbol"&&(this._numSymbolLayers+=L)}_load(_,A){if(A&&pt(this,n.validateStyle(_)))return;this._loaded=!0,this.stylesheet=_;for(const G in _.sources)this.addSource(G,_.sources[G],{validate:!1});this._changed=!1,_.sprite?this._loadSprite(_.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(_.glyphs);const L=Yr(this.stylesheet.layers);this._order=L.map(G=>G.id),this._layers={},this._serializedLayers={};for(let G of L)G=n.createStyleLayer(G),G.setEventedParent(this,{layer:{id:G.id}}),this._layers[G.id]=G,this._serializedLayers[G.id]=G.serialize(),this._updateLayerCount(G,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new ge(this.stylesheet.light),this.stylesheet.terrain&&this._createTerrain(this.stylesheet.terrain),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}_loadSprite(_){this._spriteRequest=function(A,L,G){let H,ee,ae;const de=n.exported.devicePixelRatio>1?"@2x":"";let me=n.getJSON(L.transformRequest(L.normalizeSpriteURL(A,de,".json"),n.ResourceType.SpriteJSON),(ze,Xe)=>{me=null,ae||(ae=ze,H=Xe,Ae())}),we=n.getImage(L.transformRequest(L.normalizeSpriteURL(A,de,".png"),n.ResourceType.SpriteImage),(ze,Xe)=>{we=null,ae||(ae=ze,ee=Xe,Ae())});function Ae(){if(ae)G(ae);else if(H&&ee){const ze=n.exported.getImageData(ee),Xe={};for(const Fe in H){const{width:Ge,height:It,x:Je,y:ht,sdf:wt,pixelRatio:Bt,stretchX:rr,stretchY:tr,content:wr}=H[Fe],Sr=new n.RGBAImage({width:Ge,height:It});n.RGBAImage.copy(ze,Sr,{x:Je,y:ht},{x:0,y:0},{width:Ge,height:It}),Xe[Fe]={data:Sr,pixelRatio:Bt,sdf:wt,stretchX:rr,stretchY:tr,content:wr}}G(null,Xe)}}return{cancel(){me&&(me.cancel(),me=null),we&&(we.cancel(),we=null)}}}(_,this.map._requestManager,(A,L)=>{if(this._spriteRequest=null,A)this.fire(new n.ErrorEvent(A));else if(L)for(const G in L)this.imageManager.addImage(G,L[G]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new n.Event("data",{dataType:"style"}))})}_validateLayer(_){const A=this.getSource(_.source);if(!A)return;const L=_.sourceLayer;L&&(A.type==="geojson"||A.vectorLayerIds&&A.vectorLayerIds.indexOf(L)===-1)&&this.fire(new n.ErrorEvent(new Error(`Source layer "${L}" does not exist on source "${A.id}" as specified by style layer "${_.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const _ in this._sourceCaches)if(!this._sourceCaches[_].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(_){const A=[];for(const L of _){const G=this._layers[L];G.type!=="custom"&&A.push(G.serialize())}return A}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const _ in this._sourceCaches)if(this._sourceCaches[_].hasTransition())return!0;for(const _ in this._layers)if(this._layers[_].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(_){return!!this.terrain&&$r[_.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(_){if(!this._loaded)return;const A=this._changed;if(this._changed){const G=Object.keys(this._updatedLayers),H=Object.keys(this._removedLayers);(G.length||H.length)&&this._updateWorkerLayers(G,H);for(const ee in this._updatedSources){const ae=this._updatedSources[ee];ae==="reload"?this._reloadSource(ee):ae==="clear"&&this._clearSource(ee)}this._updateTilesForChangedImages();for(const ee in this._updatedPaintProps)this._layers[ee].updateTransitions(_);this.light.updateTransitions(_),this.fog&&this.fog.updateTransitions(_),this._resetUpdates()}const L={};for(const G in this._sourceCaches){const H=this._sourceCaches[G];L[G]=H.used,H.used=!1}for(const G of this._order){const H=this._layers[G];if(H.recalculate(_,this._availableImages),!H.isHidden(_.zoom)){const ae=this._getLayerSourceCache(H);ae&&(ae.used=!0)}const ee=this.map.painter;if(ee){const ae=H.getProgramIds();if(!ae)continue;const de=H.getProgramConfiguration(_.zoom);for(const me of ae)ee.useProgram(me,de)}}for(const G in L){const H=this._sourceCaches[G];L[G]!==H.used&&H.getSource().fire(new n.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:H.getSource().id}))}this.light.recalculate(_),this.terrain&&this.terrain.recalculate(_),this.fog&&this.fog.recalculate(_),this.z=_.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),A&&this.fire(new n.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const _=Object.keys(this._changedImages);if(_.length){for(const A in this._sourceCaches)this._sourceCaches[A].reloadTilesForDependencies(["icons","patterns"],_);this._changedImages={}}}_updateWorkerLayers(_,A){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(_),removedIds:A})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(_){if(this._checkLoaded(),pt(this,n.validateStyle(_)))return!1;(_=n.clone$2(_)).layers=Yr(_.layers);const A=function(G,H){if(!G)return[{command:Et.setStyle,args:[H]}];let ee=[];try{if(!P(G.version,H.version))return[{command:Et.setStyle,args:[H]}];P(G.center,H.center)||ee.push({command:Et.setCenter,args:[H.center]}),P(G.zoom,H.zoom)||ee.push({command:Et.setZoom,args:[H.zoom]}),P(G.bearing,H.bearing)||ee.push({command:Et.setBearing,args:[H.bearing]}),P(G.pitch,H.pitch)||ee.push({command:Et.setPitch,args:[H.pitch]}),P(G.sprite,H.sprite)||ee.push({command:Et.setSprite,args:[H.sprite]}),P(G.glyphs,H.glyphs)||ee.push({command:Et.setGlyphs,args:[H.glyphs]}),P(G.transition,H.transition)||ee.push({command:Et.setTransition,args:[H.transition]}),P(G.light,H.light)||ee.push({command:Et.setLight,args:[H.light]}),P(G.fog,H.fog)||ee.push({command:Et.setFog,args:[H.fog]});const ae={},de=[];(function(Ae,ze,Xe,Fe){let Ge;for(Ge in ze=ze||{},Ae=Ae||{})Ae.hasOwnProperty(Ge)&&(ze.hasOwnProperty(Ge)||Wn(Ge,Xe,Fe));for(Ge in ze)ze.hasOwnProperty(Ge)&&(Ae.hasOwnProperty(Ge)?P(Ae[Ge],ze[Ge])||(Ae[Ge].type==="geojson"&&ze[Ge].type==="geojson"&&xn(Ae,ze,Ge)?Xe.push({command:Et.setGeoJSONSourceData,args:[Ge,ze[Ge].data]}):jn(Ge,ze,Xe,Fe)):_r(Ge,ze,Xe))})(G.sources,H.sources,de,ae);const me=[];G.layers&&G.layers.forEach(Ae=>{ae[Ae.source]?ee.push({command:Et.removeLayer,args:[Ae.id]}):me.push(Ae)});let we=G.terrain;we&&ae[we.source]&&(ee.push({command:Et.setTerrain,args:[void 0]}),we=void 0),ee=ee.concat(de),P(we,H.terrain)||ee.push({command:Et.setTerrain,args:[H.terrain]}),function(Ae,ze,Xe){ze=ze||[];const Fe=(Ae=Ae||[]).map(li),Ge=ze.map(li),It=Ae.reduce(Ri,{}),Je=ze.reduce(Ri,{}),ht=Fe.slice(),wt=Object.create(null);let Bt,rr,tr,wr,Sr,Vr,Pt;for(Bt=0,rr=0;Bt<Fe.length;Bt++)tr=Fe[Bt],Je.hasOwnProperty(tr)?rr++:(Xe.push({command:Et.removeLayer,args:[tr]}),ht.splice(ht.indexOf(tr,rr),1));for(Bt=0,rr=0;Bt<Ge.length;Bt++)tr=Ge[Ge.length-1-Bt],ht[ht.length-1-Bt]!==tr&&(It.hasOwnProperty(tr)?(Xe.push({command:Et.removeLayer,args:[tr]}),ht.splice(ht.lastIndexOf(tr,ht.length-rr),1)):rr++,Vr=ht[ht.length-Bt],Xe.push({command:Et.addLayer,args:[Je[tr],Vr]}),ht.splice(ht.length-Bt,0,tr),wt[tr]=!0);for(Bt=0;Bt<Ge.length;Bt++)if(tr=Ge[Bt],wr=It[tr],Sr=Je[tr],!wt[tr]&&!P(wr,Sr))if(P(wr.source,Sr.source)&&P(wr["source-layer"],Sr["source-layer"])&&P(wr.type,Sr.type)){for(Pt in zn(wr.layout,Sr.layout,Xe,tr,null,Et.setLayoutProperty),zn(wr.paint,Sr.paint,Xe,tr,null,Et.setPaintProperty),P(wr.filter,Sr.filter)||Xe.push({command:Et.setFilter,args:[tr,Sr.filter]}),P(wr.minzoom,Sr.minzoom)&&P(wr.maxzoom,Sr.maxzoom)||Xe.push({command:Et.setLayerZoomRange,args:[tr,Sr.minzoom,Sr.maxzoom]}),wr)wr.hasOwnProperty(Pt)&&Pt!=="layout"&&Pt!=="paint"&&Pt!=="filter"&&Pt!=="metadata"&&Pt!=="minzoom"&&Pt!=="maxzoom"&&(Pt.indexOf("paint.")===0?zn(wr[Pt],Sr[Pt],Xe,tr,Pt.slice(6),Et.setPaintProperty):P(wr[Pt],Sr[Pt])||Xe.push({command:Et.setLayerProperty,args:[tr,Pt,Sr[Pt]]}));for(Pt in Sr)Sr.hasOwnProperty(Pt)&&!wr.hasOwnProperty(Pt)&&Pt!=="layout"&&Pt!=="paint"&&Pt!=="filter"&&Pt!=="metadata"&&Pt!=="minzoom"&&Pt!=="maxzoom"&&(Pt.indexOf("paint.")===0?zn(wr[Pt],Sr[Pt],Xe,tr,Pt.slice(6),Et.setPaintProperty):P(wr[Pt],Sr[Pt])||Xe.push({command:Et.setLayerProperty,args:[tr,Pt,Sr[Pt]]}))}else Xe.push({command:Et.removeLayer,args:[tr]}),Vr=ht[ht.lastIndexOf(tr)+1],Xe.push({command:Et.addLayer,args:[Sr,Vr]})}(me,H.layers,ee)}catch(ae){console.warn("Unable to compute style diff:",ae),ee=[{command:Et.setStyle,args:[H]}]}return ee}(this.serialize(),_).filter(G=>!(G.command in Xt));if(A.length===0)return!1;const L=A.filter(G=>!(G.command in qt));if(L.length>0)throw new Error(`Unimplemented: ${L.map(G=>G.command).join(", ")}.`);return A.forEach(G=>{G.command!=="setTransition"&&this[G.command].apply(this,G.args)}),this.stylesheet=_,!0}addImage(_,A){if(this.getImage(_))return this.fire(new n.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(_,A),this._afterImageUpdated(_)}updateImage(_,A){this.imageManager.updateImage(_,A)}getImage(_){return this.imageManager.getImage(_)}removeImage(_){if(!this.getImage(_))return this.fire(new n.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(_),this._afterImageUpdated(_)}_afterImageUpdated(_){this._availableImages=this.imageManager.listImages(),this._changedImages[_]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new n.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(_,A,L={}){if(this._checkLoaded(),this.getSource(_)!==void 0)throw new Error("There is already a source with this ID");if(!A.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(A).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(A.type)>=0&&this._validate(n.validateStyle.source,"sources."+_,A,null,L))return;this.map&&this.map._collectResourceTiming&&(A.collectResourceTiming=!0);const G=ct(_,A,this.dispatcher,this);G.setEventedParent(this,()=>({isSourceLoaded:this.loaded(),source:G.serialize(),sourceId:_}));const H=ee=>{const ae=(ee?"symbol:":"other:")+_,de=this._sourceCaches[ae]=new n.SourceCache(ae,G,ee);(ee?this._symbolSourceCaches:this._otherSourceCaches)[_]=de,de.style=this,de.onAdd(this.map)};H(!1),A.type!=="vector"&&A.type!=="geojson"||H(!0),G.onAdd&&G.onAdd(this.map),this._changed=!0}removeSource(_){this._checkLoaded();const A=this.getSource(_);if(A===void 0)throw new Error("There is no source with this ID");for(const G in this._layers)if(this._layers[G].source===_)return this.fire(new n.ErrorEvent(new Error(`Source "${_}" cannot be removed while layer "${G}" is using it.`)));if(this.terrain&&this.terrain.get().source===_)return this.fire(new n.ErrorEvent(new Error(`Source "${_}" cannot be removed while terrain is using it.`)));const L=this._getSourceCaches(_);for(const G of L)delete this._sourceCaches[G.id],delete this._updatedSources[G.id],G.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:G.getSource().id})),G.setEventedParent(null),G.clearTiles();delete this._otherSourceCaches[_],delete this._symbolSourceCaches[_],A.setEventedParent(null),A.onRemove&&A.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(_,A){this._checkLoaded(),this.getSource(_).setData(A),this._changed=!0}getSource(_){const A=this._getSourceCache(_);return A&&A.getSource()}addLayer(_,A,L={}){this._checkLoaded();const G=_.id;if(this.getLayer(G))return void this.fire(new n.ErrorEvent(new Error(`Layer with id "${G}" already exists on this map`)));let H;if(_.type==="custom"){if(pt(this,n.validateCustomStyleLayer(_)))return;H=n.createStyleLayer(_)}else{if(typeof _.source=="object"&&(this.addSource(G,_.source),_=n.clone$2(_),_=n.extend(_,{source:G})),this._validate(n.validateStyle.layer,"layers."+G,_,{arrayIndex:-1},L))return;H=n.createStyleLayer(_),this._validateLayer(H),H.setEventedParent(this,{layer:{id:G}}),this._serializedLayers[H.id]=H.serialize(),this._updateLayerCount(H,!0)}const ee=A?this._order.indexOf(A):this._order.length;if(A&&ee===-1)return void this.fire(new n.ErrorEvent(new Error(`Layer with id "${A}" does not exist on this map.`)));this._order.splice(ee,0,G),this._layerOrderChanged=!0,this._layers[G]=H;const ae=this._getLayerSourceCache(H);if(this._removedLayers[G]&&H.source&&ae&&H.type!=="custom"){const de=this._removedLayers[G];delete this._removedLayers[G],de.type!==H.type?this._updatedSources[H.source]="clear":(this._updatedSources[H.source]="reload",ae.pause())}this._updateLayer(H),H.onAdd&&H.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(_,A){if(this._checkLoaded(),this._changed=!0,!this._layers[_])return void this.fire(new n.ErrorEvent(new Error(`The layer '${_}' does not exist in the map's style and cannot be moved.`)));if(_===A)return;const L=this._order.indexOf(_);this._order.splice(L,1);const G=A?this._order.indexOf(A):this._order.length;A&&G===-1?this.fire(new n.ErrorEvent(new Error(`Layer with id "${A}" does not exist on this map.`))):(this._order.splice(G,0,_),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(_){this._checkLoaded();const A=this._layers[_];if(!A)return void this.fire(new n.ErrorEvent(new Error(`The layer '${_}' does not exist in the map's style and cannot be removed.`)));A.setEventedParent(null),this._updateLayerCount(A,!1);const L=this._order.indexOf(_);this._order.splice(L,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[_]=A,delete this._layers[_],delete this._serializedLayers[_],delete this._updatedLayers[_],delete this._updatedPaintProps[_],A.onRemove&&A.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(_){return this._layers[_]}hasLayer(_){return _ in this._layers}hasLayerType(_){for(const A in this._layers)if(this._layers[A].type===_)return!0;return!1}setLayerZoomRange(_,A,L){this._checkLoaded();const G=this.getLayer(_);G?G.minzoom===A&&G.maxzoom===L||(A!=null&&(G.minzoom=A),L!=null&&(G.maxzoom=L),this._updateLayer(G)):this.fire(new n.ErrorEvent(new Error(`The layer '${_}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(_,A,L={}){this._checkLoaded();const G=this.getLayer(_);if(G){if(!P(G.filter,A))return A==null?(G.filter=void 0,void this._updateLayer(G)):void(this._validate(n.validateStyle.filter,`layers.${G.id}.filter`,A,null,L)||(G.filter=n.clone$2(A),this._updateLayer(G)))}else this.fire(new n.ErrorEvent(new Error(`The layer '${_}' does not exist in the map's style and cannot be filtered.`)))}getFilter(_){return n.clone$2(this.getLayer(_).filter)}setLayoutProperty(_,A,L,G={}){this._checkLoaded();const H=this.getLayer(_);H?P(H.getLayoutProperty(A),L)||(H.setLayoutProperty(A,L,G),this._updateLayer(H)):this.fire(new n.ErrorEvent(new Error(`The layer '${_}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(_,A){const L=this.getLayer(_);if(L)return L.getLayoutProperty(A);this.fire(new n.ErrorEvent(new Error(`The layer '${_}' does not exist in the map's style.`)))}setPaintProperty(_,A,L,G={}){this._checkLoaded();const H=this.getLayer(_);H?P(H.getPaintProperty(A),L)||(H.setPaintProperty(A,L,G)&&this._updateLayer(H),this._changed=!0,this._updatedPaintProps[_]=!0):this.fire(new n.ErrorEvent(new Error(`The layer '${_}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(_,A){return this.getLayer(_).getPaintProperty(A)}setFeatureState(_,A){this._checkLoaded();const L=_.source,G=_.sourceLayer,H=this.getSource(L);if(H===void 0)return void this.fire(new n.ErrorEvent(new Error(`The source '${L}' does not exist in the map's style.`)));const ee=H.type;if(ee==="geojson"&&G)return void this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(ee==="vector"&&!G)return void this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));_.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided.")));const ae=this._getSourceCaches(L);for(const de of ae)de.setFeatureState(G,_.id,A)}removeFeatureState(_,A){this._checkLoaded();const L=_.source,G=this.getSource(L);if(G===void 0)return void this.fire(new n.ErrorEvent(new Error(`The source '${L}' does not exist in the map's style.`)));const H=G.type,ee=H==="vector"?_.sourceLayer:void 0;if(H==="vector"&&!ee)return void this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(A&&typeof _.id!="string"&&typeof _.id!="number")return void this.fire(new n.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const ae=this._getSourceCaches(L);for(const de of ae)de.removeFeatureState(ee,_.id,A)}getFeatureState(_){this._checkLoaded();const A=_.source,L=_.sourceLayer,G=this.getSource(A);if(G!==void 0){if(G.type!=="vector"||L)return _.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(A)[0].getFeatureState(L,_.id);this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error(`The source '${A}' does not exist in the map's style.`)))}getTransition(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const _={};for(const A in this._sourceCaches){const L=this._sourceCaches[A].getSource();_[L.id]||(_[L.id]=L.serialize())}return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:_,layers:this._serializeLayers(this._order)},A=>A!==void 0)}_updateLayer(_){this._updatedLayers[_.id]=!0;const A=this._getLayerSourceCache(_);_.source&&!this._updatedSources[_.source]&&A&&A.getSource().type!=="raster"&&(this._updatedSources[_.source]="reload",A.pause()),this._changed=!0}_flattenAndSortRenderedFeatures(_){const A=ee=>this._layers[ee].type==="fill-extrusion",L={},G=[];for(let ee=this._order.length-1;ee>=0;ee--){const ae=this._order[ee];if(A(ae)){L[ae]=ee;for(const de of _){const me=de[ae];if(me)for(const we of me)G.push(we)}}}G.sort((ee,ae)=>ae.intersectionZ-ee.intersectionZ);const H=[];for(let ee=this._order.length-1;ee>=0;ee--){const ae=this._order[ee];if(A(ae))for(let de=G.length-1;de>=0;de--){const me=G[de].feature;if(L[me.layer.id]<ee)break;H.push(me),G.pop()}else for(const de of _){const me=de[ae];if(me)for(const we of me)H.push(we.feature)}}return H}queryRenderedFeatures(_,A,L){A&&A.filter&&this._validate(n.validateStyle.filter,"queryRenderedFeatures.filter",A.filter,null,A);const G={};if(A&&A.layers){if(!Array.isArray(A.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const de of A.layers){const me=this._layers[de];if(!me)return this.fire(new n.ErrorEvent(new Error(`The layer '${de}' does not exist in the map's style and cannot be queried for features.`))),[];G[me.source]=!0}}const H=[];A.availableImages=this._availableImages;const ee=A&&A.layers?A.layers.some(de=>{const me=this.getLayer(de);return me&&me.is3D()}):this.has3DLayers(),ae=De.createFromScreenPoints(_,L);for(const de in this._sourceCaches){const me=this._sourceCaches[de].getSource().id;A.layers&&!G[me]||H.push(er(this._sourceCaches[de],this._layers,this._serializedLayers,ae,A,L,ee,!!this.map._showQueryGeometry))}return this.placement&&H.push(function(de,me,we,Ae,ze,Xe,Fe){const Ge={},It=Xe.queryRenderedSymbols(Ae),Je=[];for(const ht of Object.keys(It).map(Number))Je.push(Fe[ht]);Je.sort(Nt);for(const ht of Je){const wt=ht.featureIndex.lookupSymbolFeatures(It[ht.bucketInstanceId],me,ht.bucketIndex,ht.sourceLayerIndex,ze.filter,ze.layers,ze.availableImages,de);for(const Bt in wt){const rr=Ge[Bt]=Ge[Bt]||[],tr=wt[Bt];tr.sort((wr,Sr)=>{const Vr=ht.featureSortOrder;if(Vr){const Pt=Vr.indexOf(wr.featureIndex);return Vr.indexOf(Sr.featureIndex)-Pt}return Sr.featureIndex-wr.featureIndex});for(const wr of tr)rr.push(wr)}}for(const ht in Ge)Ge[ht].forEach(wt=>{const Bt=wt.feature,rr=we(de[ht]).getFeatureState(Bt.layer["source-layer"],Bt.id);Bt.source=Bt.layer.source,Bt.layer["source-layer"]&&(Bt.sourceLayer=Bt.layer["source-layer"]),Bt.state=rr});return Ge}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),ae.screenGeometry,A,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(H)}querySourceFeatures(_,A){A&&A.filter&&this._validate(n.validateStyle.filter,"querySourceFeatures.filter",A.filter,null,A);const L=this._getSourceCaches(_);let G=[];for(const H of L)G=G.concat(Kt(H,A));return G}addSourceType(_,A,L){return lr.getSourceType(_)?L(new Error(`A source type called "${_}" already exists.`)):(lr.setSourceType(_,A),A.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:_,url:A.workerSourceURL},L):L(null,null))}getLight(){return this.light.getLight()}setLight(_,A={}){this._checkLoaded();const L=this.light.getLight();let G=!1;for(const ee in _)if(!P(_[ee],L[ee])){G=!0;break}if(!G)return;const H={now:n.exported.now(),transition:n.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(_,A),this.light.updateTransitions(H)}getTerrain(){return this.terrain?this.terrain.get():null}setTerrain(_){if(this._checkLoaded(),!_)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(typeof _.source=="object"){const A="terrain-dem-src";this.addSource(A,_.source),_=n.clone$2(_),_=n.extend(_,{source:A})}if(!this._validate(n.validateStyle.terrain,"terrain",_)){if(this.terrain){const A=this.terrain,L=A.get();for(const G in _)if(!P(_[G],L[G])){A.set(_),this.stylesheet.terrain=_;const H={now:n.exported.now(),transition:n.extend({duration:0},this.stylesheet.transition)};A.updateTransitions(H);break}}else this._createTerrain(_);this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}}_createFog(_){const A=this.fog=new ft(_);this.stylesheet.fog=_;const L={now:n.exported.now(),transition:n.extend({duration:0},this.stylesheet.transition)};A.updateTransitions(L)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const _ of this.map._markers)_._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(_){if(this._checkLoaded(),!_)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const A=this.fog,L=A.get();for(const G in _)if(!P(_[G],L[G])){A.set(_),this.stylesheet.fog=_;const H={now:n.exported.now(),transition:n.extend({duration:0},this.stylesheet.transition)};A.updateTransitions(H);break}}else this._createFog(_);this._markersNeedUpdate=!0}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const _=this._order.filter(L=>this.isLayerDraped(this._layers[L])),A=this._order.filter(L=>!this.isLayerDraped(this._layers[L]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(..._),this._drapedFirstOrder.push(...A)}_createTerrain(_){const A=this.terrain=new be(_);this.stylesheet.terrain=_,this.dispatcher.broadcast("enableTerrain",!0),this._force3DLayerUpdate();const L={now:n.exported.now(),transition:n.extend({duration:0},this.stylesheet.transition)};A.updateTransitions(L)}_force3DLayerUpdate(){for(const _ in this._layers){const A=this._layers[_];A.type==="fill-extrusion"&&this._updateLayer(A)}}_validate(_,A,L,G,H={}){return(!H||H.validate!==!1)&&pt(this,_.call(n.validateStyle,n.extend({key:A,style:this.serialize(),value:L,styleSpec:n.spec},G)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const _ in this._layers)this._layers[_].setEventedParent(null);for(const _ in this._sourceCaches)this._sourceCaches[_].clearTiles(),this._sourceCaches[_].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(_){const A=this._getSourceCaches(_);for(const L of A)L.clearTiles()}_reloadSource(_){const A=this._getSourceCaches(_);for(const L of A)L.resume(),L.reload()}_updateSources(_){for(const A in this._sourceCaches)this._sourceCaches[A].update(_)}_generateCollisionBoxes(){for(const _ in this._sourceCaches){const A=this._sourceCaches[_];A.resume(),A.reload()}}_updatePlacement(_,A,L,G,H=!1){let ee=!1,ae=!1;const de={};for(const me of this._order){const we=this._layers[me];if(we.type!=="symbol")continue;if(!de[we.source]){const ze=this._getLayerSourceCache(we);if(!ze)continue;de[we.source]=ze.getRenderableIds(!0).map(Xe=>ze.getTileByID(Xe)).sort((Xe,Fe)=>Fe.tileID.overscaledZ-Xe.tileID.overscaledZ||(Xe.tileID.isLessThan(Fe.tileID)?-1:1))}const Ae=this.crossTileSymbolIndex.addLayer(we,de[we.source],_.center.lng);ee=ee||Ae}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),H=H||this._layerOrderChanged||L===0,this._layerOrderChanged&&this.fire(new n.Event("neworder")),(H||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.exported.now(),_.zoom))&&(this.pauseablePlacement=new xe(_,this._order,H,A,L,G,this.placement,this.fog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,de),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.exported.now()),ae=!0),ee&&this.pauseablePlacement.placement.setStale()),ae||ee)for(const me of this._order){const we=this._layers[me];we.type==="symbol"&&this.placement.updateLayerOpacities(we,de[we.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.exported.now())}_releaseSymbolFadeTiles(){for(const _ in this._sourceCaches)this._sourceCaches[_].releaseSymbolFadeTiles()}getImages(_,A,L){this.imageManager.getImages(A.icons,L),this._updateTilesForChangedImages();const G=H=>{H&&H.setDependencies(A.tileID.key,A.type,A.icons)};G(this._otherSourceCaches[A.source]),G(this._symbolSourceCaches[A.source])}getGlyphs(_,A,L){this.glyphManager.getGlyphs(A.stacks,L)}getResource(_,A,L){return n.makeRequest(A,L)}_getSourceCache(_){return this._otherSourceCaches[_]}_getLayerSourceCache(_){return _.type==="symbol"?this._symbolSourceCaches[_.source]:this._otherSourceCaches[_.source]}_getSourceCaches(_){const A=[];return this._otherSourceCaches[_]&&A.push(this._otherSourceCaches[_]),this._symbolSourceCaches[_]&&A.push(this._symbolSourceCaches[_]),A}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}}lr.getSourceType=function(D){return Qe[D]},lr.setSourceType=function(D,_){Qe[D]=_},lr.registerForPluginStateChange=n.registerForPluginStateChange;var en=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}
#endif`,Kr="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}";let Wr={},Xr={};Wr=Cn("",`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef TERRAIN
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);}float prevElevation(vec2 apos) {float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {return currentElevation(apos);}
#endif
float unpack_depth(vec4 rgba_depth)
{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,!0),Xr=Cn(`#ifdef FOG
uniform float u_fog_temporal_offset;float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`,`#ifdef FOG
uniform mat4 u_fog_matrix;vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,!0);const pn=Cn(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),Dn=en;var Zn={background:Cn(`uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:Cn(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:Cn(`varying vec3 v_data;varying float v_visibility;
#pragma vjmaps: define highp vec4 color
#pragma vjmaps: define mediump float radius
#pragma vjmaps: define lowp float blur
#pragma vjmaps: define lowp float opacity
#pragma vjmaps: define highp vec4 stroke_color
#pragma vjmaps: define mediump float stroke_width
#pragma vjmaps: define lowp float stroke_opacity
void main() {
#pragma vjmaps: initialize highp vec4 color
#pragma vjmaps: initialize mediump float radius
#pragma vjmaps: initialize lowp float blur
#pragma vjmaps: initialize lowp float opacity
#pragma vjmaps: initialize highp vec4 stroke_color
#pragma vjmaps: initialize mediump float stroke_width
#pragma vjmaps: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;
#pragma vjmaps: define highp vec4 color
#pragma vjmaps: define mediump float radius
#pragma vjmaps: define lowp float blur
#pragma vjmaps: define lowp float opacity
#pragma vjmaps: define highp vec4 stroke_color
#pragma vjmaps: define mediump float stroke_width
#pragma vjmaps: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma vjmaps: initialize highp vec4 color
#pragma vjmaps: initialize mediump float radius
#pragma vjmaps: initialize lowp float blur
#pragma vjmaps: initialize lowp float opacity
#pragma vjmaps: initialize highp vec4 stroke_color
#pragma vjmaps: initialize mediump float stroke_width
#pragma vjmaps: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;
#else
vec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:Cn("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:Cn(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma vjmaps: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma vjmaps: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma vjmaps: define highp float weight
#pragma vjmaps: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma vjmaps: initialize highp float weight
#pragma vjmaps: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec3 pos=vec3(floor(a_pos*0.5)+extrude,elevation(floor(a_pos*0.5)));gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:Cn(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Cn("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=u_matrix*vec4(a_pos,elevation(a_pos),1.0);gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:Cn("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:Cn("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);}"),fill:Cn(`#pragma vjmaps: define highp vec4 color
#pragma vjmaps: define lowp float opacity
void main() {
#pragma vjmaps: initialize highp vec4 color
#pragma vjmaps: initialize lowp float opacity
vec4 out_color=color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma vjmaps: define highp vec4 color
#pragma vjmaps: define lowp float opacity
void main() {
#pragma vjmaps: initialize highp vec4 color
#pragma vjmaps: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:Cn(`varying vec2 v_pos;
#pragma vjmaps: define highp vec4 outline_color
#pragma vjmaps: define lowp float opacity
void main() {
#pragma vjmaps: initialize highp vec4 outline_color
#pragma vjmaps: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma vjmaps: define highp vec4 outline_color
#pragma vjmaps: define lowp float opacity
void main() {
#pragma vjmaps: initialize highp vec4 outline_color
#pragma vjmaps: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:Cn(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma vjmaps: define lowp float opacity
#pragma vjmaps: define lowp vec4 pattern_from
#pragma vjmaps: define lowp vec4 pattern_to
void main() {
#pragma vjmaps: initialize lowp float opacity
#pragma vjmaps: initialize mediump vec4 pattern_from
#pragma vjmaps: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma vjmaps: define lowp float opacity
#pragma vjmaps: define lowp vec4 pattern_from
#pragma vjmaps: define lowp vec4 pattern_to
#pragma vjmaps: define lowp float pixel_ratio_from
#pragma vjmaps: define lowp float pixel_ratio_to
void main() {
#pragma vjmaps: initialize lowp float opacity
#pragma vjmaps: initialize mediump vec4 pattern_from
#pragma vjmaps: initialize mediump vec4 pattern_to
#pragma vjmaps: initialize lowp float pixel_ratio_from
#pragma vjmaps: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:Cn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma vjmaps: define lowp float opacity
#pragma vjmaps: define lowp vec4 pattern_from
#pragma vjmaps: define lowp vec4 pattern_to
void main() {
#pragma vjmaps: initialize lowp float opacity
#pragma vjmaps: initialize mediump vec4 pattern_from
#pragma vjmaps: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma vjmaps: define lowp float opacity
#pragma vjmaps: define lowp vec4 pattern_from
#pragma vjmaps: define lowp vec4 pattern_to
#pragma vjmaps: define lowp float pixel_ratio_from
#pragma vjmaps: define lowp float pixel_ratio_to
void main() {
#pragma vjmaps: initialize lowp float opacity
#pragma vjmaps: initialize mediump vec4 pattern_from
#pragma vjmaps: initialize mediump vec4 pattern_to
#pragma vjmaps: initialize lowp float pixel_ratio_from
#pragma vjmaps: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:Cn(`varying vec4 v_color;void main() {vec4 color=v_color;
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec4 v_color;
#pragma vjmaps: define highp float base
#pragma vjmaps: define highp float height
#pragma vjmaps: define highp vec4 color
void main() {
#pragma vjmaps: initialize highp float base
#pragma vjmaps: initialize highp float height
#pragma vjmaps: initialize highp vec4 color
vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;
#ifdef TERRAIN
vec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#else
vec3 pos=vec3(pos_nx.xy,t > 0.0 ? height : base);gl_Position=u_matrix*vec4(pos,1);
#endif
float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:Cn(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma vjmaps: define lowp float base
#pragma vjmaps: define lowp float height
#pragma vjmaps: define lowp vec4 pattern_from
#pragma vjmaps: define lowp vec4 pattern_to
#pragma vjmaps: define lowp float pixel_ratio_from
#pragma vjmaps: define lowp float pixel_ratio_to
void main() {
#pragma vjmaps: initialize lowp float base
#pragma vjmaps: initialize lowp float height
#pragma vjmaps: initialize mediump vec4 pattern_from
#pragma vjmaps: initialize mediump vec4 pattern_to
#pragma vjmaps: initialize lowp float pixel_ratio_from
#pragma vjmaps: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma vjmaps: define lowp float base
#pragma vjmaps: define lowp float height
#pragma vjmaps: define lowp vec4 pattern_from
#pragma vjmaps: define lowp vec4 pattern_to
#pragma vjmaps: define lowp float pixel_ratio_from
#pragma vjmaps: define lowp float pixel_ratio_to
void main() {
#pragma vjmaps: initialize lowp float base
#pragma vjmaps: initialize lowp float height
#pragma vjmaps: initialize mediump vec4 pattern_from
#pragma vjmaps: initialize mediump vec4 pattern_to
#pragma vjmaps: initialize lowp float pixel_ratio_from
#pragma vjmaps: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;
#ifdef TERRAIN
vec2 centroid_pos=a_centroid_pos;bool flat_roof=centroid_pos.x !=0.0;float ele=elevation(pos_nx.xy);float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);
#else
vec3 p=vec3(pos_nx.xy,z);gl_Position=u_matrix*vec4(p,1);
#endif
vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:Cn(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Cn(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:Cn(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma vjmaps: define highp vec4 color
#pragma vjmaps: define lowp float blur
#pragma vjmaps: define lowp float opacity
void main() {
#pragma vjmaps: initialize highp vec4 color
#pragma vjmaps: initialize lowp float blur
#pragma vjmaps: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 out_color=color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;
#pragma vjmaps: define highp vec4 color
#pragma vjmaps: define lowp float blur
#pragma vjmaps: define lowp float opacity
#pragma vjmaps: define mediump float gapwidth
#pragma vjmaps: define lowp float offset
#pragma vjmaps: define mediump float width
void main() {
#pragma vjmaps: initialize highp vec4 color
#pragma vjmaps: initialize lowp float blur
#pragma vjmaps: initialize lowp float opacity
#pragma vjmaps: initialize mediump float gapwidth
#pragma vjmaps: initialize lowp float offset
#pragma vjmaps: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),lineGradient:Cn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma vjmaps: define lowp float blur
#pragma vjmaps: define lowp float opacity
void main() {
#pragma vjmaps: initialize lowp float blur
#pragma vjmaps: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma vjmaps: define lowp float blur
#pragma vjmaps: define lowp float opacity
#pragma vjmaps: define mediump float gapwidth
#pragma vjmaps: define lowp float offset
#pragma vjmaps: define mediump float width
void main() {
#pragma vjmaps: initialize lowp float blur
#pragma vjmaps: initialize lowp float opacity
#pragma vjmaps: initialize mediump float gapwidth
#pragma vjmaps: initialize lowp float offset
#pragma vjmaps: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:Cn(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma vjmaps: define lowp vec4 pattern_from
#pragma vjmaps: define lowp vec4 pattern_to
#pragma vjmaps: define lowp float pixel_ratio_from
#pragma vjmaps: define lowp float pixel_ratio_to
#pragma vjmaps: define lowp float blur
#pragma vjmaps: define lowp float opacity
void main() {
#pragma vjmaps: initialize mediump vec4 pattern_from
#pragma vjmaps: initialize mediump vec4 pattern_to
#pragma vjmaps: initialize lowp float pixel_ratio_from
#pragma vjmaps: initialize lowp float pixel_ratio_to
#pragma vjmaps: initialize lowp float blur
#pragma vjmaps: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma vjmaps: define lowp float blur
#pragma vjmaps: define lowp float opacity
#pragma vjmaps: define lowp float offset
#pragma vjmaps: define mediump float gapwidth
#pragma vjmaps: define mediump float width
#pragma vjmaps: define lowp float floorwidth
#pragma vjmaps: define lowp vec4 pattern_from
#pragma vjmaps: define lowp vec4 pattern_to
#pragma vjmaps: define lowp float pixel_ratio_from
#pragma vjmaps: define lowp float pixel_ratio_to
void main() {
#pragma vjmaps: initialize lowp float blur
#pragma vjmaps: initialize lowp float opacity
#pragma vjmaps: initialize lowp float offset
#pragma vjmaps: initialize mediump float gapwidth
#pragma vjmaps: initialize mediump float width
#pragma vjmaps: initialize lowp float floorwidth
#pragma vjmaps: initialize mediump vec4 pattern_from
#pragma vjmaps: initialize mediump vec4 pattern_to
#pragma vjmaps: initialize lowp float pixel_ratio_from
#pragma vjmaps: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),lineSDF:Cn(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma vjmaps: define highp vec4 color
#pragma vjmaps: define lowp float blur
#pragma vjmaps: define lowp float opacity
#pragma vjmaps: define mediump float width
#pragma vjmaps: define lowp float floorwidth
#pragma vjmaps: define lowp vec4 dash_from
#pragma vjmaps: define lowp vec4 dash_to
void main() {
#pragma vjmaps: initialize highp vec4 color
#pragma vjmaps: initialize lowp float blur
#pragma vjmaps: initialize lowp float opacity
#pragma vjmaps: initialize mediump float width
#pragma vjmaps: initialize lowp float floorwidth
#pragma vjmaps: initialize mediump vec4 dash_from
#pragma vjmaps: initialize mediump vec4 dash_to
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);vec4 out_color=color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma vjmaps: define highp vec4 color
#pragma vjmaps: define lowp float blur
#pragma vjmaps: define lowp float opacity
#pragma vjmaps: define mediump float gapwidth
#pragma vjmaps: define lowp float offset
#pragma vjmaps: define mediump float width
#pragma vjmaps: define lowp float floorwidth
#pragma vjmaps: define lowp vec4 dash_from
#pragma vjmaps: define lowp vec4 dash_to
void main() {
#pragma vjmaps: initialize highp vec4 color
#pragma vjmaps: initialize lowp float blur
#pragma vjmaps: initialize lowp float opacity
#pragma vjmaps: initialize mediump float gapwidth
#pragma vjmaps: initialize lowp float offset
#pragma vjmaps: initialize mediump float width
#pragma vjmaps: initialize lowp float floorwidth
#pragma vjmaps: initialize mediump vec4 dash_from
#pragma vjmaps: initialize mediump vec4 dash_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float widthA=dash_from.z*fromScale;float widthB=dash_to.z*toScale;float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*(tileZoomRatio/widthA)/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*(tileZoomRatio/widthB)/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:Cn(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:Cn(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma vjmaps: define lowp float opacity
void main() {
#pragma vjmaps: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma vjmaps: define lowp float opacity
void main() {
#pragma vjmaps: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0);
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
float occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));}`),symbolSDF:Cn(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma vjmaps: define highp vec4 fill_color
#pragma vjmaps: define highp vec4 halo_color
#pragma vjmaps: define lowp float opacity
#pragma vjmaps: define lowp float halo_width
#pragma vjmaps: define lowp float halo_blur
void main() {
#pragma vjmaps: initialize highp vec4 fill_color
#pragma vjmaps: initialize highp vec4 halo_color
#pragma vjmaps: initialize lowp float opacity
#pragma vjmaps: initialize lowp float halo_width
#pragma vjmaps: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma vjmaps: define highp vec4 fill_color
#pragma vjmaps: define highp vec4 halo_color
#pragma vjmaps: define lowp float opacity
#pragma vjmaps: define lowp float halo_width
#pragma vjmaps: define lowp float halo_blur
void main() {
#pragma vjmaps: initialize highp vec4 fill_color
#pragma vjmaps: initialize highp vec4 halo_color
#pragma vjmaps: initialize lowp float opacity
#pragma vjmaps: initialize lowp float halo_width
#pragma vjmaps: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
float occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),symbolTextAndIcon:Cn(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma vjmaps: define highp vec4 fill_color
#pragma vjmaps: define highp vec4 halo_color
#pragma vjmaps: define lowp float opacity
#pragma vjmaps: define lowp float halo_width
#pragma vjmaps: define lowp float halo_blur
void main() {
#pragma vjmaps: initialize highp vec4 fill_color
#pragma vjmaps: initialize highp vec4 halo_color
#pragma vjmaps: initialize lowp float opacity
#pragma vjmaps: initialize lowp float halo_width
#pragma vjmaps: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma vjmaps: define highp vec4 fill_color
#pragma vjmaps: define highp vec4 halo_color
#pragma vjmaps: define lowp float opacity
#pragma vjmaps: define lowp float halo_width
#pragma vjmaps: define lowp float halo_blur
void main() {
#pragma vjmaps: initialize highp vec4 fill_color
#pragma vjmaps: initialize highp vec4 halo_color
#pragma vjmaps: initialize lowp float opacity
#pragma vjmaps: initialize lowp float halo_width
#pragma vjmaps: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float h=elevation(a_pos);vec4 projectedPoint=u_matrix*vec4(a_pos,h,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),h,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h,1.0);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale);
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
float occlusion_fade=occlusionFade(projectedPoint);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projectedPoint.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`),terrainRaster:Cn(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef FOG
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
}`),terrainDepth:Cn(`#ifdef GL_ES
precision highp float;
#endif
vec4 pack_depth(float ndc_z) {float depth=ndc_z*0.5+0.5;const vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:Cn(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Kr),skyboxGradient:Cn(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform lowp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Kr),skyboxCapture:Cn(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}")};function Cn(D,_,A){const L=/#pragma vjmaps: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,G=/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g,H=_.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),ee=D.match(G),ae=_.match(G),de=en.match(G);let me=ae?ae.concat(ee):ee;A||(Wr.staticUniforms&&(me=Wr.staticUniforms.concat(me)),Xr.staticUniforms&&(me=Xr.staticUniforms.concat(me))),me&&(me=me.concat(de));const we={};return{fragmentSource:D=D.replace(L,(Ae,ze,Xe,Fe,Ge)=>(we[Ge]=!0,ze==="define"?`
#ifndef HAS_UNIFORM_u_${Ge}
varying ${Xe} ${Fe} ${Ge};
#else
uniform ${Xe} ${Fe} u_${Ge};
#endif
`:`
#ifdef HAS_UNIFORM_u_${Ge}
    ${Xe} ${Fe} ${Ge} = u_${Ge};
#endif
`)),vertexSource:_=_.replace(L,(Ae,ze,Xe,Fe,Ge)=>{const It=Fe==="float"?"vec2":"vec4",Je=Ge.match(/color/)?"color":It;return we[Ge]?ze==="define"?`
#ifndef HAS_UNIFORM_u_${Ge}
uniform lowp float u_${Ge}_t;
attribute ${Xe} ${It} a_${Ge};
varying ${Xe} ${Fe} ${Ge};
#else
uniform ${Xe} ${Fe} u_${Ge};
#endif
`:Je==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ge}
    ${Ge} = a_${Ge};
#else
    ${Xe} ${Fe} ${Ge} = u_${Ge};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ge}
    ${Ge} = unpack_mix_${Je}(a_${Ge}, u_${Ge}_t);
#else
    ${Xe} ${Fe} ${Ge} = u_${Ge};
#endif
`:ze==="define"?`
#ifndef HAS_UNIFORM_u_${Ge}
uniform lowp float u_${Ge}_t;
attribute ${Xe} ${It} a_${Ge};
#else
uniform ${Xe} ${Fe} u_${Ge};
#endif
`:Je==="vec4"?`
#ifndef HAS_UNIFORM_u_${Ge}
    ${Xe} ${Fe} ${Ge} = a_${Ge};
#else
    ${Xe} ${Fe} ${Ge} = u_${Ge};
#endif
`:`
#ifndef HAS_UNIFORM_u_${Ge}
    ${Xe} ${Fe} ${Ge} = unpack_mix_${Je}(a_${Ge}, u_${Ge}_t);
#else
    ${Xe} ${Fe} ${Ge} = u_${Ge};
#endif
`}),staticAttributes:H,staticUniforms:me}}class ui{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(_,A,L,G,H,ee,ae,de){this.context=_;let me=this.boundPaintVertexBuffers.length!==G.length;for(let we=0;!me&&we<G.length;we++)this.boundPaintVertexBuffers[we]!==G[we]&&(me=!0);_.extVertexArrayObject&&this.vao&&this.boundProgram===A&&this.boundLayoutVertexBuffer===L&&!me&&this.boundIndexBuffer===H&&this.boundVertexOffset===ee&&this.boundDynamicVertexBuffer===ae&&this.boundDynamicVertexBuffer2===de?(_.bindVertexArrayOES.set(this.vao),ae&&ae.bind(),H&&H.dynamicDraw&&H.bind(),de&&de.bind()):this.freshBind(A,L,G,H,ee,ae,de)}freshBind(_,A,L,G,H,ee,ae){let de;const me=_.numAttributes,we=this.context,Ae=we.gl;if(we.extVertexArrayObject)this.vao&&this.destroy(),this.vao=we.extVertexArrayObject.createVertexArrayOES(),we.bindVertexArrayOES.set(this.vao),de=0,this.boundProgram=_,this.boundLayoutVertexBuffer=A,this.boundPaintVertexBuffers=L,this.boundIndexBuffer=G,this.boundVertexOffset=H,this.boundDynamicVertexBuffer=ee,this.boundDynamicVertexBuffer2=ae;else{de=we.currentNumAttributes||0;for(let ze=me;ze<de;ze++)Ae.disableVertexAttribArray(ze)}A.enableAttributes(Ae,_);for(const ze of L)ze.enableAttributes(Ae,_);ee&&ee.enableAttributes(Ae,_),ae&&ae.enableAttributes(Ae,_),A.bind(),A.setVertexAttribPointers(Ae,_,H);for(const ze of L)ze.bind(),ze.setVertexAttribPointers(Ae,_,H);ee&&(ee.bind(),ee.setVertexAttribPointers(Ae,_,H)),G&&G.bind(),ae&&(ae.bind(),ae.setVertexAttribPointers(Ae,_,H)),we.currentNumAttributes=me}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function yi(D,_){const A=Math.pow(2,_.canonical.z),L=_.canonical.y;return[new n.MercatorCoordinate(0,L/A).toLngLat().lat,new n.MercatorCoordinate(0,(L+1)/A).toLngLat().lat]}function oi(D,_,A,L,G,H,ee){const ae=D.context,de=ae.gl,me=A.fbo;if(!me)return;D.prepareDrawTile(_);const we=D.useProgram("hillshade");ae.activeTexture.set(de.TEXTURE0),de.bindTexture(de.TEXTURE_2D,me.colorAttachment.get());const Ae=((ze,Xe,Fe,Ge)=>{const It=Fe.paint.get("hillshade-shadow-color"),Je=Fe.paint.get("hillshade-highlight-color"),ht=Fe.paint.get("hillshade-accent-color");let wt=Fe.paint.get("hillshade-illumination-direction")*(Math.PI/180);Fe.paint.get("hillshade-illumination-anchor")==="viewport"&&(wt-=ze.transform.angle);const Bt=!ze.options.moving;return{u_matrix:Ge||ze.transform.calculateProjMatrix(Xe.tileID.toUnwrapped(),Bt),u_image:0,u_latrange:yi(0,Xe.tileID),u_light:[Fe.paint.get("hillshade-exaggeration"),wt],u_shadow:It,u_highlight:Je,u_accent:ht}})(D,A,L,D.terrain?_.projMatrix:null);D.prepareDrawProgram(ae,we,_.toUnwrapped()),we.draw(ae,de.TRIANGLES,G,H,ee,n.CullFaceMode.disabled,Ae,L.id,D.rasterBoundsBuffer,D.quadTriangleIndexBuffer,D.rasterBoundsSegments)}function Kn(D,_,A){if(!_.needsDEMTextureUpload)return;const L=D.context,G=L.gl;L.pixelStoreUnpackPremultiplyAlpha.set(!1),_.demTexture=_.demTexture||D.getTileTexture(A.stride);const H=A.getPixels();_.demTexture?_.demTexture.update(H,{premultiply:!1}):_.demTexture=new n.Texture(L,H,G.RGBA,{premultiply:!1}),_.needsDEMTextureUpload=!1}function Un(D,_,A,L,G,H){const ee=D.context,ae=ee.gl;if(!_.dem)return;const de=_.dem;if(ee.activeTexture.set(ae.TEXTURE1),Kn(D,_,de),!_.demTexture)return;_.demTexture.bind(ae.NEAREST,ae.CLAMP_TO_EDGE);const me=de.dim;ee.activeTexture.set(ae.TEXTURE0);let we=_.fbo;if(!we){const Ae=new n.Texture(ee,{width:me,height:me,data:null},ae.RGBA);Ae.bind(ae.LINEAR,ae.CLAMP_TO_EDGE),we=_.fbo=ee.createFramebuffer(me,me,!0),we.colorAttachment.set(Ae.texture)}ee.bindFramebuffer.set(we.framebuffer),ee.viewport.set([0,0,me,me]),D.useProgram("hillshadePrepare").draw(ee,ae.TRIANGLES,L,G,H,n.CullFaceMode.disabled,((Ae,ze)=>{const Xe=ze.stride,Fe=n.create$1();return n.ortho(Fe,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(Fe,Fe,[0,-n.EXTENT,0]),{u_matrix:Fe,u_image:1,u_dimension:[Xe,Xe],u_zoom:Ae.overscaledZ,u_unpack:ze.unpackVector}})(_.tileID,de),A.id,D.rasterBoundsBuffer,D.quadTriangleIndexBuffer,D.rasterBoundsSegments),_.needsHillshadePrepare=!1}const Bn=(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_image0:new n.Uniform1i(D,_.u_image0),u_skirt_height:new n.Uniform1f(D,_.u_skirt_height)}),Ai=(D,_)=>({u_matrix:D,u_image0:0,u_skirt_height:_}),da=new class{constructor(){this.operations={}}newMorphing(D,_,A,L,G){if(D in this.operations){const H=this.operations[D];H.to.tileID.key!==A.tileID.key&&(H.queued=A)}else this.operations[D]={startTime:L,phase:0,duration:G,from:_,to:A,queued:null}}getMorphValuesForProxy(D){if(!(D in this.operations))return null;const _=this.operations[D];return{from:_.from,to:_.to,phase:_.phase}}update(D){for(const _ in this.operations){const A=this.operations[_];for(A.phase=(D-A.startTime)/A.duration;A.phase>=1||!this._validOp(A);)if(!this._nextOp(A,D)){delete this.operations[_];break}}}_nextOp(D,_){return!!D.queued&&(D.from=D.to,D.to=D.queued,D.queued=null,D.phase=0,D.startTime=_,!0)}_validOp(D){return D.from.hasData()&&D.to.hasData()}},Vo={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function _o(D,_,A,L,G){const H=D.context,ee=H.gl;let ae,de;const me=D.options.showTerrainWireframe?2:0,we=(Ge,It)=>{if(de===Ge)return;const Je=[Vo[Ge]];It&&Je.push(Vo[me]),ae=D.useProgram("terrainRaster",null,Je),de=Ge},Ae=D.colorModeForRenderPass(),ze=new n.DepthMode(ee.LEQUAL,n.DepthMode.ReadWrite,D.depthRangeFor3D);da.update(G);const Xe=D.transform,Fe=6*Math.pow(1.5,22-Xe.zoom)*_.exaggeration();(me?[!1,!0]:[!1]).forEach(Ge=>{de=-1;const It=Ge?ee.LINES:ee.TRIANGLES,[Je,ht]=Ge?_.getWirefameBuffer():[_.gridIndexBuffer,_.gridSegments];for(const rr of L){const tr=A.getTile(rr),wr=n.StencilMode.disabled,Sr=_.prevTerrainTileForTile[rr.key],Vr=_.terrainTileForTile[rr.key];Bt=Vr,(wt=Sr)!=null&&Bt!=null&&wt.hasData()&&Bt.hasData()&&wt.demTexture!=null&&Bt.demTexture!=null&&wt.tileID.key!==Bt.tileID.key&&da.newMorphing(rr.key,Sr,Vr,G,250),H.activeTexture.set(ee.TEXTURE0),tr.texture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE,ee.LINEAR_MIPMAP_NEAREST);const Pt=da.getMorphValuesForProxy(rr.key),on=Pt?1:0;let Zr;Pt&&(Zr={morphing:{srcDemTile:Pt.from,dstDemTile:Pt.to,phase:n.easeCubicInOut(Pt.phase)}});const kn=Ai(rr.projMatrix,Ko(rr.canonical,Xe.renderWorldCopies)?Fe/10:Fe);we(on,Ge),_.setupElevationDraw(tr,ae,Zr),D.prepareDrawProgram(H,ae,rr.toUnwrapped()),ae.draw(H,It,ze,wr,Ae,n.CullFaceMode.backCCW,kn,"terrain_raster",_.gridBuffer,Je,ht)}var wt,Bt})}function Ko(D,_){const A=1<<D.z;return!_&&(D.x===0||D.x===A-1)||D.y===0||D.y===A-1}const io=D=>({u_matrix:D});function Jo(D,_,A,L,G){if(G>0){const H=n.exported.now(),ee=(H-D.timeAdded)/G,ae=_?(H-_.timeAdded)/G:-1,de=A.getSource(),me=L.coveringZoomLevel({tileSize:de.tileSize,roundZoom:de.roundZoom}),we=!_||Math.abs(_.tileID.overscaledZ-me)>Math.abs(D.tileID.overscaledZ-me),Ae=we&&D.refreshedUponExpiration?1:n.clamp(we?ee:1-ae,0,1);return D.refreshedUponExpiration&&ee>=1&&(D.refreshedUponExpiration=!1),_?{opacity:1,mix:1-Ae}:{opacity:Ae,mix:0}}return{opacity:1,mix:0}}class Ji extends n.SourceCache{constructor(_){const A=ct("proxy",{type:"geojson",maxzoom:_.transform.maxZoom},new bt(ln(),null),_.style);super("proxy",A,!1),A.setEventedParent(this),this.map=this.getSource().map=_,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(_,A,L){if(_.freezeTileCoverage)return;this.transform=_;const G=_.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((H,ee)=>{if(H[ee.key]="",!this._tiles[ee.key]){const ae=new n.Tile(ee,this._source.tileSize*ee.overscaleFactor(),_.tileZoom);ae.state="loaded",this._tiles[ee.key]=ae}return H},{});for(const H in this._tiles)H in G||(this.freeFBO(H),this._tiles[H].state="unloaded",delete this._tiles[H])}freeFBO(_){const A=this.proxyCachedFBO[_];if(A!==void 0){const L=Object.values(A);this.renderCachePool.push(...L),delete this.proxyCachedFBO[_]}}deallocRenderCache(){this.renderCache.forEach(_=>_.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Qo extends n.OverscaledTileID{constructor(_,A,L){super(_.overscaledZ,_.wrap,_.canonical.z,_.canonical.x,_.canonical.y),this.proxyTileKey=A,this.projMatrix=L}}class Ao extends n.Elevation{constructor(_,A){super(),this.painter=_,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[L,G,H]=function(de){const me=new n.StructArrayLayout4i8,we=new n.StructArrayLayout3ui6,Ae=131;me.reserve(17161),we.reserve(33800);const ze=n.EXTENT/128,Xe=n.EXTENT+ze/2,Fe=Xe+ze;for(let It=-ze;It<Fe;It+=ze)for(let Je=-ze;Je<Fe;Je+=ze){const ht=Je<0||Je>Xe||It<0||It>Xe?24575:0,wt=n.clamp(Math.round(Je),0,n.EXTENT),Bt=n.clamp(Math.round(It),0,n.EXTENT);me.emplaceBack(wt+ht,Bt,wt,Bt)}const Ge=(It,Je)=>{const ht=Je*Ae+It;we.emplaceBack(ht+1,ht,ht+Ae),we.emplaceBack(ht+Ae,ht+Ae+1,ht+1)};for(let It=1;It<129;It++)for(let Je=1;Je<129;Je++)Ge(Je,It);return[0,129].forEach(It=>{for(let Je=0;Je<130;Je++)Ge(Je,It),Ge(It,Je)}),[me,we,32768]}(),ee=_.context;this.gridBuffer=ee.createVertexBuffer(L,_e.members),this.gridIndexBuffer=ee.createIndexBuffer(G),this.gridSegments=n.SegmentVector.simpleSegment(0,0,L.length,G.length),this.gridNoSkirtSegments=n.SegmentVector.simpleSegment(0,0,L.length,H),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Ji(A.map),this.orthoMatrix=n.create$1(),n.ortho(this.orthoMatrix,0,n.EXTENT,0,n.EXTENT,0,1);const ae=ee.gl;this._overlapStencilMode=new n.StencilMode({func:ae.GEQUAL,mask:255},0,255,ae.KEEP,ae.KEEP,ae.REPLACE),this._previousZoom=_.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=A,this._useVertexMorphing=!0,this._exaggeration=1}set style(_){_.on("data",this._onStyleDataEvent.bind(this)),_.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=_,this._checkRenderCacheEfficiency()}update(_,A,L){if(_&&_.terrain){this._style!==_&&(this.style=_),this.enabled=!0;const G=_.terrain.properties;this.sourceCache=_._getSourceCache(G.get("source")),this._exaggeration=G.get("exaggeration");const H=()=>{this.sourceCache.used&&n.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const ee=this.sourceCache.getSource().tileSize/128,ae=this.proxySourceCache.getSource().tileSize;this.sourceCache.update(A,ee*ae,!0),this._findCoveringTileCache[this.sourceCache.id]={}};this.sourceCache.usedForTerrain||(this._findCoveringTileCache[this.sourceCache.id]={},this.sourceCache.usedForTerrain=!0,H(),this._initializing=!0),H(),A.updateElevation(!L),this._findCoveringTileCache[this.proxySourceCache.id]={},this.proxySourceCache.update(A),this._emptyDEMTextureDirty=!0}else this._disable()}_checkRenderCacheEfficiency(){const _=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||_.efficiency!==100&&n.warnOnce(`Terrain render cache efficiency is not optimal (${_.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${_.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(_){_.coord&&_.dataType==="source"?this._clearRenderCacheForTile(_.sourceCacheId,_.coord):_.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const _ in this._style._sourceCaches)this._style._sourceCaches[_].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this.pool.forEach(_=>_.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture)}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const _=2*this.proxySourceCache.getSource().tileSize;return[_,_]}set useVertexMorphing(_){this._useVertexMorphing=_}updateTileBinding(_){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const A=this.proxySourceCache,L=this.painter.transform;this._initializing&&(this._initializing=L._centerAltitude===0&&this.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(L.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const G=this.proxyCoords=A.getIds().map(de=>{const me=A.getTileByID(de).tileID;return me.projMatrix=L.calculateProjMatrix(me.toUnwrapped()),me});(function(de,me){const we=me.transform.pointCoordinate(me.transform.getCameraPoint()),Ae=new n.pointGeometry(we.x,we.y);de.sort((ze,Xe)=>{if(Xe.overscaledZ-ze.overscaledZ)return Xe.overscaledZ-ze.overscaledZ;const Fe=new n.pointGeometry(ze.canonical.x+(1<<ze.canonical.z)*ze.wrap,ze.canonical.y),Ge=new n.pointGeometry(Xe.canonical.x+(1<<Xe.canonical.z)*Xe.wrap,Xe.canonical.y),It=Ae.mult(1<<ze.canonical.z);return It.x-=.5,It.y-=.5,It.distSqr(Fe)-It.distSqr(Ge)})})(G,this.painter),this._previousZoom=L.zoom;const H=this.proxyToSource||{};this.proxyToSource={},G.forEach(de=>{this.proxyToSource[de.key]={}}),this.terrainTileForTile={};const ee=this._style._sourceCaches;for(const de in ee){const me=ee[de];if(!me.used||(me!==this.sourceCache&&(this._findCoveringTileCache[me.id]={}),this._setupProxiedCoordsForOrtho(me,_[de],H),me.usedForTerrain))continue;const we=_[de];me.getSource().reparseOverscaled&&this._assignTerrainTiles(we)}this.proxiedCoords[A.id]=G.map(de=>new Qo(de,de.key,this.orthoMatrix)),this._assignTerrainTiles(G),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(H),this.renderingToTexture=!1,this._updateTimestamp=n.exported.now();const ae={};this._visibleDemTiles=[];for(const de of this.proxyCoords){const me=this.terrainTileForTile[de.key];if(!me)continue;const we=me.tileID.key;we in ae||(this._visibleDemTiles.push(me),ae[we]=we)}}_assignTerrainTiles(_){this._initializing||_.forEach(A=>{if(this.terrainTileForTile[A.key])return;const L=this._findTileCoveringTileID(A,this.sourceCache);L&&(this.terrainTileForTile[A.key]=L)})}_prepareDEMTextures(){const _=this.painter.context,A=_.gl;for(const L in this.terrainTileForTile){const G=this.terrainTileForTile[L],H=G.dem;!H||G.demTexture&&!G.needsDEMTextureUpload||(_.activeTexture.set(A.TEXTURE1),Kn(this.painter,G,H))}}_prepareDemTileUniforms(_,A,L,G){if(!A||A.demTexture==null)return!1;const H=_.tileID.canonical,ee=Math.pow(2,A.tileID.canonical.z-H.z),ae=G||"";return L["u_dem_tl"+ae]=[H.x*ee%1,H.y*ee%1],L["u_dem_scale"+ae]=ee,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}_getLoadedAreaMinimum(){let _=0;const A=this._visibleDemTiles.reduce((L,G)=>{if(!G.dem)return L;const H=G.dem.tree.minimums[0];return H>0&&_++,L+H},0);return _?A/_:0}_updateEmptyDEMTexture(){const _=this.painter.context,A=_.gl;_.activeTexture.set(A.TEXTURE2);const L=this._getLoadedAreaMinimum(),G={width:1,height:1,data:new Uint8Array(n.DEMData.pack(L,this.sourceCache.getSource().encoding))};this._emptyDEMTextureDirty=!1;let H=this._emptyDEMTexture;return H?H.update(G,{premultiply:!1}):H=this._emptyDEMTexture=new n.Texture(_,G,A.RGBA,{premultiply:!1}),H}setupElevationDraw(_,A,L){const G=this.painter.context,H=G.gl,ee=(ae=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:n.DEMData.getUnpackVector(ae),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var ae;ee.u_dem_size=this.sourceCache.getSource().tileSize,ee.u_exaggeration=this.exaggeration();let de=null,me=null,we=1;if(L&&L.morphing&&this._useVertexMorphing){const Ae=L.morphing.srcDemTile,ze=L.morphing.dstDemTile;we=L.morphing.phase,Ae&&ze&&(this._prepareDemTileUniforms(_,Ae,ee,"_prev")&&(me=Ae),this._prepareDemTileUniforms(_,ze,ee)&&(de=ze))}if(me&&de?(G.activeTexture.set(H.TEXTURE2),de.demTexture.bind(H.NEAREST,H.CLAMP_TO_EDGE,H.NEAREST),G.activeTexture.set(H.TEXTURE4),me.demTexture.bind(H.NEAREST,H.CLAMP_TO_EDGE,H.NEAREST),ee.u_dem_lerp=we):(de=this.terrainTileForTile[_.tileID.key],G.activeTexture.set(H.TEXTURE2),(this._prepareDemTileUniforms(_,de,ee)?de.demTexture:this.emptyDEMTexture).bind(H.NEAREST,H.CLAMP_TO_EDGE,H.NEAREST)),L&&L.useDepthForOcclusion&&(G.activeTexture.set(H.TEXTURE3),this._depthTexture.bind(H.NEAREST,H.CLAMP_TO_EDGE,H.NEAREST),ee.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height]),L&&L.useMeterToDem&&de){const Ae=(1<<de.tileID.canonical.z)*n.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;ee.u_meter_to_dem=Ae}L&&L.labelPlaneMatrixInv&&(ee.u_label_plane_matrix_inv=L.labelPlaneMatrixInv),A.setTerrainUniformValues(G,ee)}renderBatch(_){if(this._drapedRenderBatches.length===0)return _+1;this.renderingToTexture=!0;const A=this.painter,L=this.painter.context,G=this.proxySourceCache,H=this.proxiedCoords[G.id],ee=()=>{L.bindFramebuffer.set(null),L.viewport.set([0,0,A.width,A.height]),this.renderingToTexture=!1},ae=this._drapedRenderBatches.shift();let de=[];const me=A.style.order;let we=0;for(let Ae=0;Ae<H.length;Ae++){const ze=H[Ae],Xe=G.getTileByID(ze.proxyTileKey),Fe=G.proxyCachedFBO[ze.key]?G.proxyCachedFBO[ze.key][_]:void 0;let Ge,It;if(Ge=this.currentFBO=Fe!==void 0?G.renderCache[Fe]:this.pool[we++],Xe.texture=Ge.tex,Fe===void 0||Ge.dirty){L.bindFramebuffer.set(Ge.fb.framebuffer),this.renderedToTile=!1,Ge.dirty&&(L.clear({color:n.Color.transparent}),Ge.dirty=!1);for(let Je=ae.start;Je<=ae.end;++Je){const ht=A.style._layers[me[Je]];if(ht.isHidden(A.transform.zoom))continue;const wt=A.style._getLayerSourceCache(ht),Bt=wt?this.proxyToSource[ze.key][wt.id]:[ze];if(!Bt)continue;const rr=Bt;L.viewport.set([0,0,Ge.fb.width,Ge.fb.height]),It!==(wt?wt.id:null)&&(this._setupStencil(Bt,ht,wt),It=wt?wt.id:null),A.renderLayer(A,wt,ht,rr)}Ge.dirty=this.renderedToTile,this.renderedToTile&&de.push(Xe.tileID),we===5&&(we=0,de.length>0&&(ee(),_o(A,this,G,de,this._updateTimestamp),this.renderingToTexture=!0,de=[]))}else de.push(Xe.tileID)}return ee(),de.length>0&&_o(A,this,G,de,this._updateTimestamp),ae.end+1}postRender(){}renderCacheEfficiency(_){const A=_.order.length;if(A===0)return{efficiency:100};let L,G=0,H=0,ee=!1;for(let ae=0;ae<A;++ae){const de=_._layers[_.order[ae]];this._style.isLayerDraped(de)?(ee&&++G,++H):ee||(ee=!0,L=de.id)}return H===0?{efficiency:100}:{efficiency:100*(1-G/H),firstUndrapedLayer:L}}getMinElevationBelowMSL(){let _=0;return this._visibleDemTiles.filter(A=>A.dem).forEach(A=>{_=Math.min(_,A.dem.tree.minimums[0])}),_===0?_:(_-30)*this._exaggeration}raycast(_,A,L){if(!this._visibleDemTiles)return null;const G=this._visibleDemTiles.filter(H=>H.dem).map(H=>{const ee=H.tileID,ae=Math.pow(2,ee.overscaledZ),{x:de,y:me}=ee.canonical,we=de/ae,Ae=(de+1)/ae,ze=me/ae,Xe=(me+1)/ae;return{minx:we,miny:ze,maxx:Ae,maxy:Xe,t:H.dem.tree.raycastRoot(we,ze,Ae,Xe,_,A,L),tile:H}});G.sort((H,ee)=>(H.t!==null?H.t:Number.MAX_VALUE)-(ee.t!==null?ee.t:Number.MAX_VALUE));for(const H of G){if(H.t==null)return null;const ee=H.tile.dem.tree.raycast(H.minx,H.miny,H.maxx,H.maxy,_,A,L);if(ee!=null)return ee}return null}_createFBO(){const _=this.painter.context,A=_.gl,L=this.drapeBufferSize;_.activeTexture.set(A.TEXTURE0);const G=new n.Texture(_,{width:L[0],height:L[1],data:null},A.RGBA);G.bind(A.LINEAR,A.CLAMP_TO_EDGE);const H=_.createFramebuffer(L[0],L[1],!1);return H.colorAttachment.set(G.texture),H.depthAttachment=new Er(_,H.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=_.createRenderbuffer(_.gl.DEPTH_STENCIL,L[0],L[1]),this._stencilRef=0,H.depthAttachment.set(this._sharedDepthStencil),_.clear({stencil:0})):H.depthAttachment.set(this._sharedDepthStencil),_.extTextureFilterAnisotropic&&!_.extTextureFilterAnisotropicForceOff&&A.texParameterf(A.TEXTURE_2D,_.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,_.extTextureFilterAnisotropicMax),{fb:H,tex:G,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const _ in this._style._sourceCaches)if(this._style._sourceCaches[_].hasTransition())return!0;return this._style.order.some(_=>{const A=this._style._layers[_],L=A.isHidden(this.painter.transform.zoom),G=A.getCrossfadeParameters(),H=!!G&&G.t!==1,ee=A.hasTransition();return A.type!=="custom"&&!L&&(H||ee)})}_clearRasterFadeFromRenderCache(){let _=!1;for(const A in this._style._sourceCaches)if(this._style._sourceCaches[A]._source instanceof vn){_=!0;break}if(_)for(let A=0;A<this._style.order.length;++A){const L=this._style._layers[this._style.order[A]],G=L.isHidden(this.painter.transform.zoom),H=this._style._getLayerSourceCache(L);if(L.type!=="raster"||G||!H)continue;const ee=L.paint.get("raster-fade-duration");for(const ae of this.proxyCoords){const de=this.proxyToSource[ae.key][H.id];if(de)for(const me of de){const we=Jo(H.getTile(me),H.findLoadedParent(me,0),H,this.painter.transform,ee);(we.opacity!==1||we.mix!==0)&&this._clearRenderCacheForTile(H.id,me)}}}}_setupDrapedRenderBatches(){const _=this._style.order,A=_.length;if(A===0)return;const L=[];let G,H=0,ee=this._style._layers[_[H]];for(;!this._style.isLayerDraped(ee)&&ee.isHidden(this.painter.transform.zoom)&&++H<A;)ee=this._style._layers[_[H]];for(;H<A;++H){const ae=this._style._layers[_[H]];ae.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(ae)?G===void 0&&(G=H):G!==void 0&&(L.push({start:G,end:H-1}),G=void 0))}G!==void 0&&L.push({start:G,end:H-1}),this._drapedRenderBatches=L}_setupRenderCache(_){const A=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,A.renderCache.length>A.renderCachePool.length){const H=Object.values(A.proxyCachedFBO);A.proxyCachedFBO={};for(let ee=0;ee<H.length;++ee){const ae=Object.values(H[ee]);A.renderCachePool.push(...ae)}}return}this._clearRasterFadeFromRenderCache();const L=this.proxyCoords,G=this._tilesDirty;for(let H=L.length-1;H>=0;H--){const ee=L[H];if(A.getTileByID(ee.key),A.proxyCachedFBO[ee.key]!==void 0){const ae=_[ee.key],de=this.proxyToSource[ee.key];let me=0;for(const we in de){const Ae=de[we],ze=ae[we];if(!ze||ze.length!==Ae.length||Ae.some((Xe,Fe)=>Xe!==ze[Fe]||G[we]&&G[we].hasOwnProperty(Xe.key))){me=-1;break}++me}for(const we in A.proxyCachedFBO[ee.key])A.renderCache[A.proxyCachedFBO[ee.key][we]].dirty=me<0||me!==Object.values(ae).length}else for(let ae=0;ae<this._drapedRenderBatches.length;++ae){const de=this._drapedRenderBatches[ae];let me=A.renderCachePool.pop();me===void 0&&A.renderCache.length<50&&(me=A.renderCache.length,A.renderCache.push(this._createFBO())),me!==void 0&&(A.proxyCachedFBO[ee.key]===void 0&&(A.proxyCachedFBO[ee.key]={}),A.proxyCachedFBO[ee.key][de.start]=me,A.renderCache[me].dirty=!0)}}this._tilesDirty={}}_setupStencil(_,A,L){if(!L||!this._sourceTilesOverlap[L.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const G=this.painter.context,H=G.gl;if(_.length<=1)return void(this._overlapStencilType=!1);let ee;if(A.isTileClipped())ee=_.length,this._overlapStencilMode.test={func:H.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(_[0].overscaledZ>_[_.length-1].overscaledZ))return void(this._overlapStencilType=!1);ee=1,this._overlapStencilMode.test={func:H.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+ee>255&&(G.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=ee,this._overlapStencilMode.ref=this._stencilRef,A.isTileClipped()&&this._renderTileClippingMasks(_,this._overlapStencilMode.ref)}stencilModeForRTTOverlap(_){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[_.key]),this._overlapStencilMode):n.StencilMode.disabled}_renderTileClippingMasks(_,A){const L=this.painter,G=this.painter.context,H=G.gl;L._tileClippingMaskIDs={},G.setColorMode(n.ColorMode.disabled),G.setDepthMode(n.DepthMode.disabled);const ee=L.useProgram("clippingMask");for(const ae of _){const de=L._tileClippingMaskIDs[ae.key]=--A;ee.draw(G,H.TRIANGLES,n.DepthMode.disabled,new n.StencilMode({func:H.ALWAYS,mask:0},de,255,H.KEEP,H.KEEP,H.REPLACE),n.ColorMode.disabled,n.CullFaceMode.disabled,io(ae.projMatrix),"$clipping",L.tileExtentBuffer,L.quadTriangleIndexBuffer,L.tileExtentSegments)}}pointCoordinate(_){const A=this.painter.transform;if(_.x<0||_.x>A.width||_.y<0||_.y>A.height)return null;const L=[_.x,_.y,1,1];n.transformMat4(L,L,A.pixelMatrixInverse),n.scale$2(L,L,1/L[3]),L[0]/=A.worldSize,L[1]/=A.worldSize;const G=A._camera.position,H=n.mercatorZfromAltitude(1,A.center.lat),ee=[G[0],G[1],G[2]/H,0],ae=n.subtract([],L.slice(0,3),ee);n.normalize(ae,ae);const de=this.raycast(ee,ae,this._exaggeration);return de!==null&&de?(n.scaleAndAdd(ee,ee,ae,de),ee[3]=ee[2],ee[2]*=H,ee):null}drawDepth(){const _=this.painter,A=_.context,L=this.proxySourceCache,G=Math.ceil(_.width),H=Math.ceil(_.height);if(!this._depthFBO||this._depthFBO.width===G&&this._depthFBO.height===H||(this._depthFBO.destroy(),delete this._depthFBO,delete this._depthTexture),!this._depthFBO){const ee=A.gl,ae=A.createFramebuffer(G,H,!0);A.activeTexture.set(ee.TEXTURE0);const de=new n.Texture(A,{width:G,height:H,data:null},ee.RGBA);de.bind(ee.NEAREST,ee.CLAMP_TO_EDGE),ae.colorAttachment.set(de.texture);const me=A.createRenderbuffer(A.gl.DEPTH_COMPONENT16,G,H);ae.depthAttachment.set(me),this._depthFBO=ae,this._depthTexture=de}A.bindFramebuffer.set(this._depthFBO.framebuffer),A.viewport.set([0,0,G,H]),function(ee,ae,de,me){const we=ee.context,Ae=we.gl;we.clear({depth:1});const ze=ee.useProgram("terrainDepth"),Xe=new n.DepthMode(Ae.LESS,n.DepthMode.ReadWrite,ee.depthRangeFor3D);for(const Fe of me){const Ge=de.getTile(Fe),It=Ai(Fe.projMatrix,0);ae.setupElevationDraw(Ge,ze),ze.draw(we,Ae.TRIANGLES,Xe,n.StencilMode.disabled,n.ColorMode.unblended,n.CullFaceMode.backCCW,It,"terrain_depth",ae.gridBuffer,ae.gridIndexBuffer,ae.gridNoSkirtSegments)}}(_,this,L,this.proxyCoords)}_setupProxiedCoordsForOrtho(_,A,L){if(_.getSource()instanceof Ie)return this._setupProxiedCoordsForImageSource(_,A,L);this._findCoveringTileCache[_.id]=this._findCoveringTileCache[_.id]||{};const G=this.proxiedCoords[_.id]=[],H=this.proxyCoords;for(let ae=0;ae<H.length;ae++){const de=H[ae],me=this._findTileCoveringTileID(de,_);if(me){const we=this._createProxiedId(de,me,L[de.key]&&L[de.key][_.id]);G.push(we),this.proxyToSource[de.key][_.id]=[we]}}let ee=!1;for(let ae=0;ae<A.length;ae++){const de=_.getTile(A[ae]);if(!de||!de.hasData())continue;const me=this._findTileCoveringTileID(de.tileID,this.proxySourceCache);if(me&&me.tileID.canonical.z!==de.tileID.canonical.z){const we=this.proxyToSource[me.tileID.key][_.id],Ae=this._createProxiedId(me.tileID,de,L[me.tileID.key]&&L[me.tileID.key][_.id]);we?we.splice(we.length-1,0,Ae):this.proxyToSource[me.tileID.key][_.id]=[Ae],G.push(Ae),ee=!0}}this._sourceTilesOverlap[_.id]=ee}_setupProxiedCoordsForImageSource(_,A,L){if(!_.getSource().loaded())return;const G=this.proxiedCoords[_.id]=[],H=this.proxyCoords,ee=_.getSource(),ae=new n.pointGeometry(ee.tileID.x,ee.tileID.y)._div(1<<ee.tileID.z),de=ee.coordinates.map(n.MercatorCoordinate.fromLngLat).reduce((we,Ae)=>(we.min.x=Math.min(we.min.x,Ae.x-ae.x),we.min.y=Math.min(we.min.y,Ae.y-ae.y),we.max.x=Math.max(we.max.x,Ae.x-ae.x),we.max.y=Math.max(we.max.y,Ae.y-ae.y),we),{min:new n.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new n.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),me=(we,Ae)=>{const ze=we.wrap+we.canonical.x/(1<<we.canonical.z),Xe=we.canonical.y/(1<<we.canonical.z),Fe=n.EXTENT/(1<<we.canonical.z),Ge=Ae.wrap+Ae.canonical.x/(1<<Ae.canonical.z),It=Ae.canonical.y/(1<<Ae.canonical.z);return ze+Fe<Ge+de.min.x||ze>Ge+de.max.x||Xe+Fe<It+de.min.y||Xe>It+de.max.y};for(let we=0;we<H.length;we++){const Ae=H[we];for(let ze=0;ze<A.length;ze++){const Xe=_.getTile(A[ze]);if(!Xe||!Xe.hasData()||me(Ae,Xe.tileID))continue;const Fe=this._createProxiedId(Ae,Xe,L[Ae.key]&&L[Ae.key][_.id]),Ge=this.proxyToSource[Ae.key][_.id];Ge?Ge.push(Fe):this.proxyToSource[Ae.key][_.id]=[Fe],G.push(Fe)}}}_createProxiedId(_,A,L){let G=this.orthoMatrix;if(L){const H=L.find(ee=>ee.key===A.tileID.key);if(H)return H}if(A.tileID.key!==_.key){const H=_.canonical.z-A.tileID.canonical.z;let ee,ae,de;G=n.create$1();const me=A.tileID.wrap-_.wrap<<_.overscaledZ;H>0?(ee=n.EXTENT>>H,ae=ee*((A.tileID.canonical.x<<H)-_.canonical.x+me),de=ee*((A.tileID.canonical.y<<H)-_.canonical.y)):(ee=n.EXTENT<<-H,ae=n.EXTENT*(A.tileID.canonical.x-(_.canonical.x+me<<-H)),de=n.EXTENT*(A.tileID.canonical.y-(_.canonical.y<<-H))),n.ortho(G,0,ee,0,ee,0,1),n.translate(G,G,[ae,de,0])}return new Qo(A.tileID,_.key,G)}_findTileCoveringTileID(_,A){let L=A.getTile(_);if(L&&L.hasData())return L;const G=this._findCoveringTileCache[A.id],H=G[_.key];if(L=H?A.getTileByID(H):null,L&&L.hasData()||H===null)return L;let ee=L?L.tileID:_,ae=ee.overscaledZ;const de=A.getSource().minzoom,me=[];if(!H){const Ae=A.getSource().maxzoom;if(_.canonical.z>=Ae){const ze=_.canonical.z-Ae;A.getSource().reparseOverscaled?(ae=Math.max(_.canonical.z+2,A.transform.tileZoom),ee=new n.OverscaledTileID(ae,_.wrap,Ae,_.canonical.x>>ze,_.canonical.y>>ze)):ze!==0&&(ae=Ae,ee=new n.OverscaledTileID(ae,_.wrap,Ae,_.canonical.x>>ze,_.canonical.y>>ze))}ee.key!==_.key&&(me.push(ee.key),L=A.getTile(ee))}const we=Ae=>{me.forEach(ze=>{G[ze]=Ae}),me.length=0};for(ae-=1;ae>=de&&(!L||!L.hasData());ae--){L&&we(L.tileID.key);const Ae=ee.calculateScaledKey(ae);if(L=A.getTileByID(Ae),L&&L.hasData())break;const ze=G[Ae];if(ze===null)break;ze===void 0?me.push(Ae):L=A.getTileByID(ze)}return we(L?L.tileID.key:null),L&&L.hasData()?L:null}findDEMTileFor(_){return this.enabled?this._findTileCoveringTileID(_,this.sourceCache):null}prepareDrawTile(_){this.renderedToTile||(this.renderedToTile=!0)}_clearRenderCacheForTile(_,A){let L=this._tilesDirty[_];L||(L=this._tilesDirty[_]={}),L[A.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const _=function(A){let L,G,H;const ee=new n.StructArrayLayout2ui4,ae=131;for(G=1;G<129;G++){for(L=1;L<129;L++)H=G*ae+L,ee.emplaceBack(H,H+1),ee.emplaceBack(H,H+ae),ee.emplaceBack(H+1,H+ae),G===128&&ee.emplaceBack(H+ae,H+ae+1);ee.emplaceBack(H+1,H+1+ae)}return ee}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(_),this.wireframeSegments=n.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,_.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}function ea(D){const _=[];for(let A=0;A<D.length;A++){if(D[A]===null)continue;const L=D[A].split(" ");_.push(L.pop())}return _}class Uo{static cacheKey(_,A,L){let G=`${_}${L?L.cacheKey:""}`;for(const H of A)G+="/"+H;return G}constructor(_,A,L,G,H,ee){const ae=_.gl;this.program=ae.createProgram();const de=ea(L.staticAttributes),me=G?G.getBinderAttributes():[],we=de.concat(me),Ae=L.staticUniforms?ea(L.staticUniforms):[],ze=G?G.getBinderUniforms():[],Xe=Ae.concat(ze),Fe=[];for(const rr of Xe)Fe.indexOf(rr)<0&&Fe.push(rr);let Ge=G?G.defines():[];Ge=Ge.concat(ee.map(rr=>"#define "+rr));const It=Ge.concat(pn.fragmentSource,Dn,Xr.fragmentSource,L.fragmentSource).join(`
`),Je=Ge.concat(pn.vertexSource,Dn,Xr.vertexSource,Wr.vertexSource,L.vertexSource).join(`
`),ht=ae.createShader(ae.FRAGMENT_SHADER);if(ae.isContextLost())return void(this.failedToCreate=!0);ae.shaderSource(ht,It),ae.compileShader(ht),ae.attachShader(this.program,ht);const wt=ae.createShader(ae.VERTEX_SHADER);if(ae.isContextLost())return void(this.failedToCreate=!0);ae.shaderSource(wt,Je),ae.compileShader(wt),ae.attachShader(this.program,wt),this.attributes={};const Bt={};this.numAttributes=we.length;for(let rr=0;rr<this.numAttributes;rr++)we[rr]&&(ae.bindAttribLocation(this.program,rr,we[rr]),this.attributes[we[rr]]=rr);ae.linkProgram(this.program),ae.deleteShader(wt),ae.deleteShader(ht);for(let rr=0;rr<Fe.length;rr++){const tr=Fe[rr];if(tr&&!Bt[tr]){const wr=ae.getUniformLocation(this.program,tr);wr&&(Bt[tr]=wr)}}this.fixedUniforms=H(_,Bt),this.binderUniforms=G?G.getUniforms(_,Bt):[],ee.indexOf("TERRAIN")!==-1&&(this.terrainUniforms=((rr,tr)=>({u_dem:new n.Uniform1i(rr,tr.u_dem),u_dem_prev:new n.Uniform1i(rr,tr.u_dem_prev),u_dem_unpack:new n.Uniform4f(rr,tr.u_dem_unpack),u_dem_tl:new n.Uniform2f(rr,tr.u_dem_tl),u_dem_scale:new n.Uniform1f(rr,tr.u_dem_scale),u_dem_tl_prev:new n.Uniform2f(rr,tr.u_dem_tl_prev),u_dem_scale_prev:new n.Uniform1f(rr,tr.u_dem_scale_prev),u_dem_size:new n.Uniform1f(rr,tr.u_dem_size),u_dem_lerp:new n.Uniform1f(rr,tr.u_dem_lerp),u_exaggeration:new n.Uniform1f(rr,tr.u_exaggeration),u_depth:new n.Uniform1i(rr,tr.u_depth),u_depth_size_inv:new n.Uniform2f(rr,tr.u_depth_size_inv),u_meter_to_dem:new n.Uniform1f(rr,tr.u_meter_to_dem),u_label_plane_matrix_inv:new n.UniformMatrix4f(rr,tr.u_label_plane_matrix_inv)}))(_,Bt)),ee.indexOf("FOG")!==-1&&(this.fogUniforms=((rr,tr)=>({u_fog_matrix:new n.UniformMatrix4f(rr,tr.u_fog_matrix),u_fog_range:new n.Uniform2f(rr,tr.u_fog_range),u_fog_color:new n.Uniform4f(rr,tr.u_fog_color),u_fog_horizon_blend:new n.Uniform1f(rr,tr.u_fog_horizon_blend),u_fog_temporal_offset:new n.Uniform1f(rr,tr.u_fog_temporal_offset)}))(_,Bt))}setTerrainUniformValues(_,A){if(!this.terrainUniforms)return;const L=this.terrainUniforms;if(!this.failedToCreate){_.program.set(this.program);for(const G in A)L[G].set(A[G])}}setFogUniformValues(_,A){if(!this.fogUniforms)return;const L=this.fogUniforms;if(!this.failedToCreate){_.program.set(this.program);for(const G in A)L[G].location&&L[G].set(A[G])}}draw(_,A,L,G,H,ee,ae,de,me,we,Ae,ze,Xe,Fe,Ge,It){const Je=_.gl;if(this.failedToCreate)return;_.program.set(this.program),_.setDepthMode(L),_.setStencilMode(G),_.setColorMode(H),_.setCullFace(ee);for(const wt in this.fixedUniforms)this.fixedUniforms[wt].set(ae[wt]);Fe&&Fe.setUniforms(_,this.binderUniforms,ze,{zoom:Xe});const ht={[Je.LINES]:2,[Je.TRIANGLES]:3,[Je.LINE_STRIP]:1}[A];for(const wt of Ae.get()){const Bt=wt.vaos||(wt.vaos={});(Bt[de]||(Bt[de]=new ui)).bind(_,this,me,Fe?Fe.getPaintVertexBuffers():[],we,wt.vertexOffset,Ge,It),Je.drawElements(A,wt.primitiveLength*ht,Je.UNSIGNED_SHORT,wt.primitiveOffset*ht*2)}}}function Qi(D,_,A){const L=1/Ye(A,1,_.transform.tileZoom),G=Math.pow(2,A.tileID.overscaledZ),H=A.tileSize*Math.pow(2,_.transform.tileZoom)/G,ee=H*(A.tileID.canonical.x+A.tileID.wrap*G),ae=H*A.tileID.canonical.y;return{u_image:0,u_texsize:A.imageAtlasTexture.size,u_scale:[L,D.fromScale,D.toScale],u_fade:D.t,u_pixel_coord_upper:[ee>>16,ae>>16],u_pixel_coord_lower:[65535&ee,65535&ae]}}const Go=(D,_,A,L)=>{const G=_.style.light,H=G.properties.get("position"),ee=[H.x,H.y,H.z],ae=n.create$2();G.properties.get("anchor")==="viewport"&&(n.fromRotation(ae,-_.transform.angle),n.transformMat3(ee,ee,ae));const de=G.properties.get("color");return{u_matrix:D,u_lightpos:ee,u_lightintensity:G.properties.get("intensity"),u_lightcolor:[de.r,de.g,de.b],u_vertical_gradient:+A,u_opacity:L}},ri=(D,_,A,L,G,H,ee)=>n.extend(Go(D,_,A,L),Qi(H,_,ee),{u_height_factor:-Math.pow(2,G.overscaledZ)/ee.tileSize/8}),Li=D=>({u_matrix:D}),Hi=(D,_,A,L)=>n.extend(Li(D),Qi(A,_,L)),zi=(D,_)=>({u_matrix:D,u_world:_}),Ea=(D,_,A,L,G)=>n.extend(Hi(D,_,A,L),{u_world:G}),ha=(D,_,A,L)=>{const G=D.transform;let H;if(L.paint.get("circle-pitch-alignment")==="map"){const ee=Ye(A,1,G.zoom);H=[ee,ee]}else H=G.pixelsToGLUnits;return{u_camera_to_center_distance:G.cameraToCenterDistance,u_matrix:D.translatePosMatrix(_.projMatrix,A,L.paint.get("circle-translate"),L.paint.get("circle-translate-anchor")),u_device_pixel_ratio:n.exported.devicePixelRatio,u_extrude_scale:H}},Po=D=>{const _=[];return D.paint.get("circle-pitch-alignment")==="map"&&_.push("PITCH_WITH_MAP"),D.paint.get("circle-pitch-scale")==="map"&&_.push("SCALE_WITH_MAP"),_},ps=(D,_,A)=>{const L=n.EXTENT/A.tileSize;return{u_matrix:D,u_camera_to_center_distance:_.cameraToCenterDistance,u_extrude_scale:[_.pixelsToGLUnits[0]/L,_.pixelsToGLUnits[1]/L]}},za=(D,_,A=1)=>({u_matrix:D,u_color:_,u_overlay:0,u_overlay_scale:A}),po=(D,_,A,L)=>({u_matrix:D,u_extrude_scale:Ye(_,1,A),u_intensity:L}),eo=(D,_,A,L)=>{const G=D.transform;return{u_matrix:Lo(D,_,A,L),u_ratio:1/Ye(_,1,G.zoom),u_device_pixel_ratio:n.exported.devicePixelRatio,u_units_to_pixels:[1/G.pixelsToGLUnits[0],1/G.pixelsToGLUnits[1]]}},Zi=(D,_,A,L,G)=>n.extend(eo(D,_,A,L),{u_image:0,u_image_height:G}),xo=(D,_,A,L,G)=>{const H=D.transform,ee=fa(_,H);return{u_matrix:Lo(D,_,A,G),u_texsize:_.imageAtlasTexture.size,u_ratio:1/Ye(_,1,H.zoom),u_device_pixel_ratio:n.exported.devicePixelRatio,u_image:0,u_scale:[ee,L.fromScale,L.toScale],u_fade:L.t,u_units_to_pixels:[1/H.pixelsToGLUnits[0],1/H.pixelsToGLUnits[1]]}},pa=(D,_,A,L,G)=>{const H=fa(_,D.transform);return n.extend(eo(D,_,A,G),{u_texsize:_.lineAtlasTexture.size,u_scale:[H,L.fromScale,L.toScale],u_image:0,u_mix:L.t})};function fa(D,_){return 1/Ye(D,1,_.tileZoom)}function Lo(D,_,A,L){return D.translatePosMatrix(L||_.tileID.projMatrix,_,A.paint.get("line-translate"),A.paint.get("line-translate-anchor"))}const ks=(D,_,A,L,G)=>{return{u_matrix:D,u_tl_parent:_,u_scale_parent:A,u_buffer_scale:1,u_fade_t:L.mix,u_opacity:L.opacity*G.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:G.paint.get("raster-brightness-min"),u_brightness_high:G.paint.get("raster-brightness-max"),u_saturation_factor:(ee=G.paint.get("raster-saturation"),ee>0?1-1/(1.001-ee):-ee),u_contrast_factor:(H=G.paint.get("raster-contrast"),H>0?1/(1-H):1+H),u_spin_weights:ts(G.paint.get("raster-hue-rotate"))};var H,ee};function ts(D){D*=Math.PI/180;const _=Math.sin(D),A=Math.cos(D);return[(2*A+1)/3,(-Math.sqrt(3)*_-A+1)/3,(Math.sqrt(3)*_-A+1)/3]}const Fa=(D,_,A,L,G,H,ee,ae,de,me)=>{const we=G.transform;return{u_is_size_zoom_constant:+(D==="constant"||D==="source"),u_is_size_feature_constant:+(D==="constant"||D==="camera"),u_size_t:_?_.uSizeT:0,u_size:_?_.uSize:0,u_camera_to_center_distance:we.cameraToCenterDistance,u_pitch:we.pitch/360*2*Math.PI,u_rotate_symbol:+A,u_aspect_ratio:we.width/we.height,u_fade_change:G.options.fadeDuration?G.symbolFadeChange:1,u_matrix:H,u_label_plane_matrix:ee,u_coord_matrix:ae,u_is_text:+de,u_pitch_with_map:+L,u_texsize:me,u_texture:0}},ta=(D,_,A,L,G,H,ee,ae,de,me,we)=>{const{cameraToCenterDistance:Ae,_pitch:ze}=G.transform;return n.extend(Fa(D,_,A,L,G,H,ee,ae,de,me),{u_gamma_scale:L?Ae*Math.cos(G.terrain?0:ze):1,u_device_pixel_ratio:n.exported.devicePixelRatio,u_is_halo:+we})},ma=(D,_,A,L,G,H,ee,ae,de,me)=>n.extend(ta(D,_,A,L,G,H,ee,ae,!0,de,!0),{u_texsize_icon:me,u_texture_icon:1}),Ta=(D,_,A)=>({u_matrix:D,u_opacity:_,u_color:A}),qa=(D,_,A,L,G,H)=>n.extend(function(ee,ae,de,me){const we=de.imageManager.getPattern(ee.from.toString()),Ae=de.imageManager.getPattern(ee.to.toString()),{width:ze,height:Xe}=de.imageManager.getPixelSize(),Fe=Math.pow(2,me.tileID.overscaledZ),Ge=me.tileSize*Math.pow(2,de.transform.tileZoom)/Fe,It=Ge*(me.tileID.canonical.x+me.tileID.wrap*Fe),Je=Ge*me.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:we.tl,u_pattern_br_a:we.br,u_pattern_tl_b:Ae.tl,u_pattern_br_b:Ae.br,u_texsize:[ze,Xe],u_mix:ae.t,u_pattern_size_a:we.displaySize,u_pattern_size_b:Ae.displaySize,u_scale_a:ae.fromScale,u_scale_b:ae.toScale,u_tile_units_to_pixels:1/Ye(me,1,de.transform.tileZoom),u_pixel_coord_upper:[It>>16,Je>>16],u_pixel_coord_lower:[65535&It,65535&Je]}}(L,H,A,G),{u_matrix:D,u_opacity:_}),fs={fillExtrusion:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_lightpos:new n.Uniform3f(D,_.u_lightpos),u_lightintensity:new n.Uniform1f(D,_.u_lightintensity),u_lightcolor:new n.Uniform3f(D,_.u_lightcolor),u_vertical_gradient:new n.Uniform1f(D,_.u_vertical_gradient),u_opacity:new n.Uniform1f(D,_.u_opacity)}),fillExtrusionPattern:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_lightpos:new n.Uniform3f(D,_.u_lightpos),u_lightintensity:new n.Uniform1f(D,_.u_lightintensity),u_lightcolor:new n.Uniform3f(D,_.u_lightcolor),u_vertical_gradient:new n.Uniform1f(D,_.u_vertical_gradient),u_height_factor:new n.Uniform1f(D,_.u_height_factor),u_image:new n.Uniform1i(D,_.u_image),u_texsize:new n.Uniform2f(D,_.u_texsize),u_pixel_coord_upper:new n.Uniform2f(D,_.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(D,_.u_pixel_coord_lower),u_scale:new n.Uniform3f(D,_.u_scale),u_fade:new n.Uniform1f(D,_.u_fade),u_opacity:new n.Uniform1f(D,_.u_opacity)}),fill:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix)}),fillPattern:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_image:new n.Uniform1i(D,_.u_image),u_texsize:new n.Uniform2f(D,_.u_texsize),u_pixel_coord_upper:new n.Uniform2f(D,_.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(D,_.u_pixel_coord_lower),u_scale:new n.Uniform3f(D,_.u_scale),u_fade:new n.Uniform1f(D,_.u_fade)}),fillOutline:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_world:new n.Uniform2f(D,_.u_world)}),fillOutlinePattern:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_world:new n.Uniform2f(D,_.u_world),u_image:new n.Uniform1i(D,_.u_image),u_texsize:new n.Uniform2f(D,_.u_texsize),u_pixel_coord_upper:new n.Uniform2f(D,_.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(D,_.u_pixel_coord_lower),u_scale:new n.Uniform3f(D,_.u_scale),u_fade:new n.Uniform1f(D,_.u_fade)}),circle:(D,_)=>({u_camera_to_center_distance:new n.Uniform1f(D,_.u_camera_to_center_distance),u_extrude_scale:new n.Uniform2f(D,_.u_extrude_scale),u_device_pixel_ratio:new n.Uniform1f(D,_.u_device_pixel_ratio),u_matrix:new n.UniformMatrix4f(D,_.u_matrix)}),collisionBox:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_camera_to_center_distance:new n.Uniform1f(D,_.u_camera_to_center_distance),u_extrude_scale:new n.Uniform2f(D,_.u_extrude_scale)}),collisionCircle:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_inv_matrix:new n.UniformMatrix4f(D,_.u_inv_matrix),u_camera_to_center_distance:new n.Uniform1f(D,_.u_camera_to_center_distance),u_viewport_size:new n.Uniform2f(D,_.u_viewport_size)}),debug:(D,_)=>({u_color:new n.UniformColor(D,_.u_color),u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_overlay:new n.Uniform1i(D,_.u_overlay),u_overlay_scale:new n.Uniform1f(D,_.u_overlay_scale)}),clippingMask:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix)}),heatmap:(D,_)=>({u_extrude_scale:new n.Uniform1f(D,_.u_extrude_scale),u_intensity:new n.Uniform1f(D,_.u_intensity),u_matrix:new n.UniformMatrix4f(D,_.u_matrix)}),heatmapTexture:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_world:new n.Uniform2f(D,_.u_world),u_image:new n.Uniform1i(D,_.u_image),u_color_ramp:new n.Uniform1i(D,_.u_color_ramp),u_opacity:new n.Uniform1f(D,_.u_opacity)}),hillshade:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_image:new n.Uniform1i(D,_.u_image),u_latrange:new n.Uniform2f(D,_.u_latrange),u_light:new n.Uniform2f(D,_.u_light),u_shadow:new n.UniformColor(D,_.u_shadow),u_highlight:new n.UniformColor(D,_.u_highlight),u_accent:new n.UniformColor(D,_.u_accent)}),hillshadePrepare:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_image:new n.Uniform1i(D,_.u_image),u_dimension:new n.Uniform2f(D,_.u_dimension),u_zoom:new n.Uniform1f(D,_.u_zoom),u_unpack:new n.Uniform4f(D,_.u_unpack)}),line:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_ratio:new n.Uniform1f(D,_.u_ratio),u_device_pixel_ratio:new n.Uniform1f(D,_.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(D,_.u_units_to_pixels)}),lineGradient:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_ratio:new n.Uniform1f(D,_.u_ratio),u_device_pixel_ratio:new n.Uniform1f(D,_.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(D,_.u_units_to_pixels),u_image:new n.Uniform1i(D,_.u_image),u_image_height:new n.Uniform1f(D,_.u_image_height)}),linePattern:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_texsize:new n.Uniform2f(D,_.u_texsize),u_ratio:new n.Uniform1f(D,_.u_ratio),u_device_pixel_ratio:new n.Uniform1f(D,_.u_device_pixel_ratio),u_image:new n.Uniform1i(D,_.u_image),u_units_to_pixels:new n.Uniform2f(D,_.u_units_to_pixels),u_scale:new n.Uniform3f(D,_.u_scale),u_fade:new n.Uniform1f(D,_.u_fade)}),lineSDF:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_texsize:new n.Uniform2f(D,_.u_texsize),u_ratio:new n.Uniform1f(D,_.u_ratio),u_device_pixel_ratio:new n.Uniform1f(D,_.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(D,_.u_units_to_pixels),u_image:new n.Uniform1i(D,_.u_image),u_scale:new n.Uniform3f(D,_.u_scale),u_mix:new n.Uniform1f(D,_.u_mix)}),raster:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_tl_parent:new n.Uniform2f(D,_.u_tl_parent),u_scale_parent:new n.Uniform1f(D,_.u_scale_parent),u_buffer_scale:new n.Uniform1f(D,_.u_buffer_scale),u_fade_t:new n.Uniform1f(D,_.u_fade_t),u_opacity:new n.Uniform1f(D,_.u_opacity),u_image0:new n.Uniform1i(D,_.u_image0),u_image1:new n.Uniform1i(D,_.u_image1),u_brightness_low:new n.Uniform1f(D,_.u_brightness_low),u_brightness_high:new n.Uniform1f(D,_.u_brightness_high),u_saturation_factor:new n.Uniform1f(D,_.u_saturation_factor),u_contrast_factor:new n.Uniform1f(D,_.u_contrast_factor),u_spin_weights:new n.Uniform3f(D,_.u_spin_weights)}),symbolIcon:(D,_)=>({u_is_size_zoom_constant:new n.Uniform1i(D,_.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(D,_.u_is_size_feature_constant),u_size_t:new n.Uniform1f(D,_.u_size_t),u_size:new n.Uniform1f(D,_.u_size),u_camera_to_center_distance:new n.Uniform1f(D,_.u_camera_to_center_distance),u_pitch:new n.Uniform1f(D,_.u_pitch),u_rotate_symbol:new n.Uniform1i(D,_.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(D,_.u_aspect_ratio),u_fade_change:new n.Uniform1f(D,_.u_fade_change),u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(D,_.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(D,_.u_coord_matrix),u_is_text:new n.Uniform1i(D,_.u_is_text),u_pitch_with_map:new n.Uniform1i(D,_.u_pitch_with_map),u_texsize:new n.Uniform2f(D,_.u_texsize),u_texture:new n.Uniform1i(D,_.u_texture)}),symbolSDF:(D,_)=>({u_is_size_zoom_constant:new n.Uniform1i(D,_.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(D,_.u_is_size_feature_constant),u_size_t:new n.Uniform1f(D,_.u_size_t),u_size:new n.Uniform1f(D,_.u_size),u_camera_to_center_distance:new n.Uniform1f(D,_.u_camera_to_center_distance),u_pitch:new n.Uniform1f(D,_.u_pitch),u_rotate_symbol:new n.Uniform1i(D,_.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(D,_.u_aspect_ratio),u_fade_change:new n.Uniform1f(D,_.u_fade_change),u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(D,_.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(D,_.u_coord_matrix),u_is_text:new n.Uniform1i(D,_.u_is_text),u_pitch_with_map:new n.Uniform1i(D,_.u_pitch_with_map),u_texsize:new n.Uniform2f(D,_.u_texsize),u_texture:new n.Uniform1i(D,_.u_texture),u_gamma_scale:new n.Uniform1f(D,_.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(D,_.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(D,_.u_is_halo)}),symbolTextAndIcon:(D,_)=>({u_is_size_zoom_constant:new n.Uniform1i(D,_.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(D,_.u_is_size_feature_constant),u_size_t:new n.Uniform1f(D,_.u_size_t),u_size:new n.Uniform1f(D,_.u_size),u_camera_to_center_distance:new n.Uniform1f(D,_.u_camera_to_center_distance),u_pitch:new n.Uniform1f(D,_.u_pitch),u_rotate_symbol:new n.Uniform1i(D,_.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(D,_.u_aspect_ratio),u_fade_change:new n.Uniform1f(D,_.u_fade_change),u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(D,_.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(D,_.u_coord_matrix),u_is_text:new n.Uniform1i(D,_.u_is_text),u_pitch_with_map:new n.Uniform1i(D,_.u_pitch_with_map),u_texsize:new n.Uniform2f(D,_.u_texsize),u_texsize_icon:new n.Uniform2f(D,_.u_texsize_icon),u_texture:new n.Uniform1i(D,_.u_texture),u_texture_icon:new n.Uniform1i(D,_.u_texture_icon),u_gamma_scale:new n.Uniform1f(D,_.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(D,_.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(D,_.u_is_halo)}),background:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_opacity:new n.Uniform1f(D,_.u_opacity),u_color:new n.UniformColor(D,_.u_color)}),backgroundPattern:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_opacity:new n.Uniform1f(D,_.u_opacity),u_image:new n.Uniform1i(D,_.u_image),u_pattern_tl_a:new n.Uniform2f(D,_.u_pattern_tl_a),u_pattern_br_a:new n.Uniform2f(D,_.u_pattern_br_a),u_pattern_tl_b:new n.Uniform2f(D,_.u_pattern_tl_b),u_pattern_br_b:new n.Uniform2f(D,_.u_pattern_br_b),u_texsize:new n.Uniform2f(D,_.u_texsize),u_mix:new n.Uniform1f(D,_.u_mix),u_pattern_size_a:new n.Uniform2f(D,_.u_pattern_size_a),u_pattern_size_b:new n.Uniform2f(D,_.u_pattern_size_b),u_scale_a:new n.Uniform1f(D,_.u_scale_a),u_scale_b:new n.Uniform1f(D,_.u_scale_b),u_pixel_coord_upper:new n.Uniform2f(D,_.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(D,_.u_pixel_coord_lower),u_tile_units_to_pixels:new n.Uniform1f(D,_.u_tile_units_to_pixels)}),terrainRaster:Bn,terrainDepth:Bn,skybox:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_sun_direction:new n.Uniform3f(D,_.u_sun_direction),u_cubemap:new n.Uniform1i(D,_.u_cubemap),u_opacity:new n.Uniform1f(D,_.u_opacity),u_temporal_offset:new n.Uniform1f(D,_.u_temporal_offset)}),skyboxGradient:(D,_)=>({u_matrix:new n.UniformMatrix4f(D,_.u_matrix),u_color_ramp:new n.Uniform1i(D,_.u_color_ramp),u_center_direction:new n.Uniform3f(D,_.u_center_direction),u_radius:new n.Uniform1f(D,_.u_radius),u_opacity:new n.Uniform1f(D,_.u_opacity),u_temporal_offset:new n.Uniform1f(D,_.u_temporal_offset)}),skyboxCapture:(D,_)=>({u_matrix_3f:new n.UniformMatrix3f(D,_.u_matrix_3f),u_sun_direction:new n.Uniform3f(D,_.u_sun_direction),u_sun_intensity:new n.Uniform1f(D,_.u_sun_intensity),u_color_tint_r:new n.Uniform4f(D,_.u_color_tint_r),u_color_tint_m:new n.Uniform4f(D,_.u_color_tint_m),u_luminance:new n.Uniform1f(D,_.u_luminance)})};let ka;function ga(D,_,A,L,G,H,ee){const ae=D.context,de=ae.gl,me=D.useProgram("collisionBox"),we=[];let Ae=0,ze=0;for(let wt=0;wt<L.length;wt++){const Bt=L[wt],rr=_.getTile(Bt),tr=rr.getBucket(A);if(!tr)continue;let wr=Bt.projMatrix;G[0]===0&&G[1]===0||(wr=D.translatePosMatrix(Bt.projMatrix,rr,G,H));const Sr=ee?tr.textCollisionBox:tr.iconCollisionBox,Vr=tr.collisionCircleArray;if(Vr.length>0){const Pt=n.create$1(),on=wr;n.mul$1(Pt,tr.placementInvProjMatrix,D.transform.glCoordMatrix),n.mul$1(Pt,Pt,tr.placementViewportMatrix),we.push({circleArray:Vr,circleOffset:ze,transform:on,invTransform:Pt}),Ae+=Vr.length/4,ze=Ae}Sr&&(D.terrain&&D.terrain.setupElevationDraw(rr,me),me.draw(ae,de.LINES,n.DepthMode.disabled,n.StencilMode.disabled,D.colorModeForRenderPass(),n.CullFaceMode.disabled,ps(wr,D.transform,rr),A.id,Sr.layoutVertexBuffer,Sr.indexBuffer,Sr.segments,null,D.transform.zoom,null,Sr.collisionVertexBuffer,Sr.collisionVertexBufferExt))}if(!ee||!we.length)return;const Xe=D.useProgram("collisionCircle"),Fe=new n.StructArrayLayout2f1f2i16;Fe.resize(4*Ae),Fe._trim();let Ge=0;for(const wt of we)for(let Bt=0;Bt<wt.circleArray.length/4;Bt++){const rr=4*Bt,tr=wt.circleArray[rr+0],wr=wt.circleArray[rr+1],Sr=wt.circleArray[rr+2],Vr=wt.circleArray[rr+3];Fe.emplace(Ge++,tr,wr,Sr,Vr,0),Fe.emplace(Ge++,tr,wr,Sr,Vr,1),Fe.emplace(Ge++,tr,wr,Sr,Vr,2),Fe.emplace(Ge++,tr,wr,Sr,Vr,3)}(!ka||ka.length<2*Ae)&&(ka=function(wt){const Bt=2*wt,rr=new n.StructArrayLayout3ui6;rr.resize(Bt),rr._trim();for(let tr=0;tr<Bt;tr++){const wr=6*tr;rr.uint16[wr+0]=4*tr+0,rr.uint16[wr+1]=4*tr+1,rr.uint16[wr+2]=4*tr+2,rr.uint16[wr+3]=4*tr+2,rr.uint16[wr+4]=4*tr+3,rr.uint16[wr+5]=4*tr+0}return rr}(Ae));const It=ae.createIndexBuffer(ka,!0),Je=ae.createVertexBuffer(Fe,n.collisionCircleLayout.members,!0);for(const wt of we){const Bt={u_matrix:wt.transform,u_inv_matrix:wt.invTransform,u_camera_to_center_distance:(ht=D.transform).cameraToCenterDistance,u_viewport_size:[ht.width,ht.height]};Xe.draw(ae,de.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,D.colorModeForRenderPass(),n.CullFaceMode.disabled,Bt,A.id,Je,It,n.SegmentVector.simpleSegment(0,2*wt.circleOffset,wt.circleArray.length,wt.circleArray.length/2),null,D.transform.zoom,null,null,null)}var ht;Je.destroy(),It.destroy()}const Wa=n.identity(new Float32Array(16));function Ho(D,_,A,L,G,H){const{horizontalAlign:ee,verticalAlign:ae}=n.getAnchorAlignment(D),de=-(ee-.5)*_,me=-(ae-.5)*A,we=n.evaluateVariableOffset(D,L);return new n.pointGeometry((de/G+we[0])*H,(me/G+we[1])*H)}function rs(D,_,A,L,G,H,ee,ae,de,me,we,Ae){const ze=D.text.placedSymbolArray,Xe=D.text.dynamicLayoutVertexArray,Fe=D.icon.dynamicLayoutVertexArray,Ge={};Xe.clear();for(let It=0;It<ze.length;It++){const Je=ze.get(It),ht=D.allowVerticalPlacement&&!Je.placedOrientation,wt=Je.hidden||!Je.crossTileID||ht?null:L[Je.crossTileID];if(wt){const Bt=new n.pointGeometry(Je.anchorX,Je.anchorY),rr=Ae(Bt),tr=In(Bt,A?ae:ee,rr),wr=vi(H.cameraToCenterDistance,tr.signedDistanceFromCamera);let Sr=G.evaluateSizeForFeature(D.textSizeData,me,Je)*wr/n.ONE_EM;A&&(Sr*=D.tilePixelRatio/de);const{width:Vr,height:Pt,anchor:on,textOffset:Zr,textScale:kn}=wt,wn=Ho(on,Vr,Pt,Zr,kn,Sr),Sn=A?In(Bt.add(wn),ee,rr).point:tr.point.add(_?wn.rotate(-H.angle):wn),Hn=D.allowVerticalPlacement&&Je.placedOrientation===n.WritingMode.vertical?Math.PI/2:0;for(let Dt=0;Dt<Je.numGlyphs;Dt++)n.addDynamicAttributes(Xe,Sn,Hn);we&&Je.associatedIconIndex>=0&&(Ge[Je.associatedIconIndex]={shiftedAnchor:Sn,angle:Hn})}else yo(Je.numGlyphs,Xe)}if(we){Fe.clear();const It=D.icon.placedSymbolArray;for(let Je=0;Je<It.length;Je++){const ht=It.get(Je);if(ht.hidden)yo(ht.numGlyphs,Fe);else{const wt=Ge[Je];if(wt)for(let Bt=0;Bt<ht.numGlyphs;Bt++)n.addDynamicAttributes(Fe,wt.shiftedAnchor,wt.angle);else yo(ht.numGlyphs,Fe)}}D.icon.dynamicLayoutVertexBuffer.updateData(Fe)}D.text.dynamicLayoutVertexBuffer.updateData(Xe)}function Gs(D,_,A){return A.iconsInText&&_?"symbolTextAndIcon":D?"symbolSDF":"symbolIcon"}function Is(D,_,A,L,G,H,ee,ae,de,me,we,Ae){const ze=D.context,Xe=ze.gl,Fe=D.transform,Ge=ae==="map",It=de==="map",Je=Ge&&A.layout.get("symbol-placement")!=="point",ht=Ge&&!It&&!Je,wt=A.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Bt=!1;const rr=D.depthModeForSublayer(0,n.DepthMode.ReadOnly),tr=A.layout.get("text-variable-anchor"),wr=[],Sr=D.terrain&&It?["PITCH_WITH_MAP_TERRAIN"]:null;for(const Vr of L){const Pt=_.getTile(Vr),on=Pt.getBucket(A);if(!on)continue;const Zr=G?on.text:on.icon;if(!Zr||!Zr.segments.get().length)continue;const kn=Zr.programConfigurations.get(A.id),wn=G||on.sdfIcons,Sn=G?on.textSizeData:on.iconSizeData,Hn=It||Fe.pitch!==0,Dt=D.useProgram(Gs(wn,G,on),kn,Sr),hr=n.evaluateSizeForZoom(Sn,Fe.zoom);let Jr,yn,Pn,Mn,qn=[0,0],Ci=null;if(G){if(yn=Pt.glyphAtlasTexture,Pn=Xe.LINEAR,Jr=Pt.glyphAtlasTexture.size,on.iconsInText){qn=Pt.imageAtlasTexture.size,Ci=Pt.imageAtlasTexture;const Zo=Sn.kind==="composite"||Sn.kind==="camera";Mn=Hn||D.options.rotating||D.options.zooming||Zo?Xe.LINEAR:Xe.NEAREST}}else{const Zo=A.layout.get("icon-size").constantOr(0)!==1||on.iconsNeedLinear;yn=Pt.imageAtlasTexture,Pn=wn||D.options.rotating||D.options.zooming||Zo||Hn?Xe.LINEAR:Xe.NEAREST,Jr=Pt.imageAtlasTexture.size}const Gi=Ye(Pt,1,D.transform.zoom),mi=On(Vr.projMatrix,It,Ge,D.transform,Gi),Ei=D.terrain&&It&&Je?n.invert(new Float32Array(16),mi):Wa,oo=$n(Vr.projMatrix,It,Ge,D.transform,Gi),hi=tr&&on.hasTextData(),pi=A.layout.get("icon-text-fit")!=="none"&&hi&&on.hasIconData();if(Je){const Zo=Fe.elevation;jo(on,Vr.projMatrix,D,G,mi,oo,It,me,Zo?Ka=>Zo.getAtTileOffset(Vr,Ka.x,Ka.y):null)}const Xn=D.translatePosMatrix(Vr.projMatrix,Pt,H,ee),Fi=Je||G&&tr||pi?Wa:mi,ao=D.translatePosMatrix(oo,Pt,H,ee,!0),Si=wn&&A.paint.get(G?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Eo;Eo=wn?on.iconsInText?ma(Sn.kind,hr,ht,It,D,Xn,Fi,ao,Jr,qn):ta(Sn.kind,hr,ht,It,D,Xn,Fi,ao,G,Jr,!0):Fa(Sn.kind,hr,ht,It,D,Xn,Fi,ao,G,Jr);const Cs={program:Dt,buffers:Zr,uniformValues:Eo,atlasTexture:yn,atlasTextureIcon:Ci,atlasInterpolation:Pn,atlasInterpolationIcon:Mn,isSDF:wn,hasHalo:Si,tile:Pt,labelPlaneMatrixInv:Ei};if(wt&&on.canOverlap){Bt=!0;const Zo=Zr.segments.get();for(const Ka of Zo)wr.push({segments:new n.SegmentVector([Ka]),sortKey:Ka.sortKey,state:Cs})}else wr.push({segments:Zr.segments,sortKey:0,state:Cs})}Bt&&wr.sort((Vr,Pt)=>Vr.sortKey-Pt.sortKey);for(const Vr of wr){const Pt=Vr.state;if(D.terrain&&D.terrain.setupElevationDraw(Pt.tile,Pt.program,{useDepthForOcclusion:!0,labelPlaneMatrixInv:Pt.labelPlaneMatrixInv}),ze.activeTexture.set(Xe.TEXTURE0),Pt.atlasTexture.bind(Pt.atlasInterpolation,Xe.CLAMP_TO_EDGE),Pt.atlasTextureIcon&&(ze.activeTexture.set(Xe.TEXTURE1),Pt.atlasTextureIcon&&Pt.atlasTextureIcon.bind(Pt.atlasInterpolationIcon,Xe.CLAMP_TO_EDGE)),Pt.isSDF){const on=Pt.uniformValues;Pt.hasHalo&&(on.u_is_halo=1,di(Pt.buffers,Vr.segments,A,D,Pt.program,rr,we,Ae,on)),on.u_is_halo=0}di(Pt.buffers,Vr.segments,A,D,Pt.program,rr,we,Ae,Pt.uniformValues)}}function di(D,_,A,L,G,H,ee,ae,de){const me=L.context;G.draw(me,me.gl.TRIANGLES,H,ee,ae,n.CullFaceMode.disabled,de,A.id,D.layoutVertexBuffer,D.indexBuffer,_,A.paint,L.transform.zoom,D.programConfigurations.get(A.id),D.dynamicLayoutVertexBuffer,D.opacityVertexBuffer)}function Za(D,_,A,L,G,H,ee){const ae=D.context.gl,de=A.paint.get("fill-pattern"),me=de&&de.constantOr(1),we=A.getCrossfadeParameters();let Ae,ze,Xe,Fe,Ge;ee?(ze=me&&!A.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",Ae=ae.LINES):(ze=me?"fillPattern":"fill",Ae=ae.TRIANGLES);for(const It of L){const Je=_.getTile(It);if(me&&!Je.patternsLoaded())continue;const ht=Je.getBucket(A);if(!ht)continue;D.prepareDrawTile(It);const wt=ht.programConfigurations.get(A.id),Bt=D.useProgram(ze,wt);me&&(D.context.activeTexture.set(ae.TEXTURE0),Je.imageAtlasTexture.bind(ae.LINEAR,ae.CLAMP_TO_EDGE),wt.updatePaintBuffers(we));const rr=de.constantOr(null);if(rr&&Je.imageAtlas){const wr=Je.imageAtlas,Sr=wr.patternPositions[rr.to.toString()],Vr=wr.patternPositions[rr.from.toString()];Sr&&Vr&&wt.setConstantPatternPositions(Sr,Vr)}const tr=D.translatePosMatrix(It.projMatrix,Je,A.paint.get("fill-translate"),A.paint.get("fill-translate-anchor"));if(ee){Fe=ht.indexBuffer2,Ge=ht.segments2;const wr=D.terrain&&D.terrain.renderingToTexture?D.terrain.drapeBufferSize:[ae.drawingBufferWidth,ae.drawingBufferHeight];Xe=ze==="fillOutlinePattern"&&me?Ea(tr,D,we,Je,wr):zi(tr,wr)}else Fe=ht.indexBuffer,Ge=ht.segments,Xe=me?Hi(tr,D,we,Je):Li(tr);D.prepareDrawProgram(D.context,Bt,It.toUnwrapped()),Bt.draw(D.context,Ae,G,D.stencilModeForClipping(It),H,n.CullFaceMode.disabled,Xe,A.id,ht.layoutVertexBuffer,Fe,Ge,A.paint,D.transform.zoom,wt)}}function Hs(D,_,A,L,G,H,ee){const ae=D.context,de=ae.gl,me=A.paint.get("fill-extrusion-pattern"),we=me.constantOr(1),Ae=A.getCrossfadeParameters(),ze=A.paint.get("fill-extrusion-opacity");for(const Xe of L){const Fe=_.getTile(Xe),Ge=Fe.getBucket(A);if(!Ge)continue;const It=Ge.programConfigurations.get(A.id),Je=D.useProgram(we?"fillExtrusionPattern":"fillExtrusion",It);if(D.terrain){const tr=D.terrain;if(!Ge.enableTerrain)continue;if(tr.setupElevationDraw(Fe,Je,{useMeterToDem:!0}),gs(ae,_,Xe,Ge,A,tr),!Ge.centroidVertexBuffer){const wr=Je.attributes.a_centroid_pos;wr!==void 0&&de.vertexAttrib2f(wr,0,0)}}we&&(D.context.activeTexture.set(de.TEXTURE0),Fe.imageAtlasTexture.bind(de.LINEAR,de.CLAMP_TO_EDGE),It.updatePaintBuffers(Ae));const ht=me.constantOr(null);if(ht&&Fe.imageAtlas){const tr=Fe.imageAtlas,wr=tr.patternPositions[ht.to.toString()],Sr=tr.patternPositions[ht.from.toString()];wr&&Sr&&It.setConstantPatternPositions(wr,Sr)}const wt=D.translatePosMatrix(Xe.projMatrix,Fe,A.paint.get("fill-extrusion-translate"),A.paint.get("fill-extrusion-translate-anchor")),Bt=A.paint.get("fill-extrusion-vertical-gradient"),rr=we?ri(wt,D,Bt,ze,Xe,Ae,Fe):Go(wt,D,Bt,ze);D.prepareDrawProgram(ae,Je,Xe.toUnwrapped()),Je.draw(ae,ae.gl.TRIANGLES,G,H,ee,n.CullFaceMode.backCCW,rr,A.id,Ge.layoutVertexBuffer,Ge.indexBuffer,Ge.segments,A.paint,D.transform.zoom,It,D.terrain?Ge.centroidVertexBuffer:null)}}function gs(D,_,A,L,G,H){const ee=[Je=>{let ht=Je.canonical.x-1,wt=Je.wrap;return ht<0&&(ht=(1<<Je.canonical.z)-1,wt--),new n.OverscaledTileID(Je.overscaledZ,wt,Je.canonical.z,ht,Je.canonical.y)},Je=>{let ht=Je.canonical.x+1,wt=Je.wrap;return ht===1<<Je.canonical.z&&(ht=0,wt++),new n.OverscaledTileID(Je.overscaledZ,wt,Je.canonical.z,ht,Je.canonical.y)},Je=>new n.OverscaledTileID(Je.overscaledZ,Je.wrap,Je.canonical.z,Je.canonical.x,(Je.canonical.y===0?1<<Je.canonical.z:Je.canonical.y)-1),Je=>new n.OverscaledTileID(Je.overscaledZ,Je.wrap,Je.canonical.z,Je.canonical.x,Je.canonical.y===(1<<Je.canonical.z)-1?0:Je.canonical.y+1)],ae=Je=>{const ht=_.getSource().maxzoom,wt=wr=>{const Sr=_.getTileByID(wr);if(Sr&&Sr.hasData())return Sr.getBucket(G)};let Bt,rr,tr;return(Je.overscaledZ===Je.canonical.z||Je.overscaledZ>=ht)&&(Bt=wt(Je.key)),Je.overscaledZ>=ht&&(rr=wt(Je.calculateScaledKey(Je.overscaledZ+1))),Je.overscaledZ>ht&&(tr=wt(Je.calculateScaledKey(Je.overscaledZ-1))),Bt||rr||tr},de=[0,0,0],me=(Je,ht)=>(de[0]=Math.min(Je.min.y,ht.min.y),de[1]=Math.max(Je.max.y,ht.max.y),de[2]=n.EXTENT-ht.min.x>Je.max.x?ht.min.x-n.EXTENT:Je.max.x,de),we=(Je,ht)=>(de[0]=Math.min(Je.min.x,ht.min.x),de[1]=Math.max(Je.max.x,ht.max.x),de[2]=n.EXTENT-ht.min.y>Je.max.y?ht.min.y-n.EXTENT:Je.max.y,de),Ae=[(Je,ht)=>me(Je,ht),(Je,ht)=>me(ht,Je),(Je,ht)=>we(Je,ht),(Je,ht)=>we(ht,Je)],ze=new n.pointGeometry(0,0);let Xe,Fe,Ge;const It=(Je,ht,wt,Bt,rr)=>{const tr=[[Bt?wt:Je,Bt?Je:wt,0],[Bt?wt:ht,Bt?ht:wt,0]],wr=rr<0?n.EXTENT+rr:rr,Sr=[Bt?wr:(Je+ht)/2,Bt?(Je+ht)/2:wr,0];return wt===0&&rr<0||wt!==0&&rr>0?H.getForTilePoints(Ge,[Sr],!0,Fe):tr.push(Sr),H.getForTilePoints(A,tr,!0,Xe),Math.max(tr[0][2],tr[1][2],Sr[2])/H.exaggeration()};for(let Je=0;Je<4;Je++){const ht=L.borders[Je];if(ht.length===0&&(L.borderDone[Je]=!0),L.borderDone[Je])continue;const wt=Ge=ee[Je](A),Bt=ae(wt);if(!Bt||!Bt.enableTerrain||(Fe=H.findDEMTileFor(wt),!Fe||!Fe.dem))continue;if(!Xe){const Sr=H.findDEMTileFor(A);if(!Sr||!Sr.dem)return;Xe=Sr}const rr=(Je<2?1:5)-Je,tr=Bt.borders[rr];let wr=0;for(let Sr=0;Sr<ht.length;Sr++){const Vr=L.featuresOnBorder[ht[Sr]],Pt=Vr.borders[Je];let on;for(;wr<tr.length&&(on=Bt.featuresOnBorder[tr[wr]],!(on.borders[rr][1]>Pt[0]+3));)Bt.borderDone[rr]||Bt.encodeCentroid(void 0,on,!1),wr++;if(on&&wr<tr.length){const Zr=wr;let kn=0;for(;!(on.borders[rr][0]>Pt[1]-3)&&(kn++,++wr!==tr.length);)on=Bt.featuresOnBorder[tr[wr]];if(on=Bt.featuresOnBorder[tr[Zr]],Vr.intersectsCount()>1||on.intersectsCount()>1||kn!==1){kn!==1&&(wr=Zr),L.encodeCentroid(void 0,Vr,!1),Bt.borderDone[rr]||Bt.encodeCentroid(void 0,on,!1);continue}const wn=Ae[Je](Vr,on),Sn=Je%2?n.EXTENT-1:0;ze.x=It(wn[0],Math.min(n.EXTENT-1,wn[1]),Sn,Je<2,wn[2]),ze.y=0,L.encodeCentroid(ze,Vr,!1),Bt.borderDone[rr]||Bt.encodeCentroid(ze,on,!1)}else L.encodeCentroid(void 0,Vr,!1)}L.borderDone[Je]=L.needsCentroidUpdate=!0,Bt.borderDone[rr]||(Bt.borderDone[rr]=Bt.needsCentroidUpdate=!0)}(L.needsCentroidUpdate||!L.centroidVertexBuffer&&L.centroidVertexArray.length!==0)&&L.uploadCentroid(D)}const wl=new n.Color(1,0,0,1),Ul=new n.Color(0,1,0,1),Cl=new n.Color(0,0,1,1),Sl=new n.Color(1,0,1,1),al=new n.Color(0,1,1,1);function Ms(D,_,A,L){vs(D,0,_+A/2,D.transform.width,A,L)}function As(D,_,A,L){vs(D,_-A/2,0,A,D.transform.height,L)}function vs(D,_,A,L,G,H){const ee=D.context,ae=ee.gl;ae.enable(ae.SCISSOR_TEST),ae.scissor(_*n.exported.devicePixelRatio,A*n.exported.devicePixelRatio,L*n.exported.devicePixelRatio,G*n.exported.devicePixelRatio),ee.clear({color:H}),ae.disable(ae.SCISSOR_TEST)}function ns(D,_,A){const L=D.context,G=L.gl,H=A.projMatrix,ee=D.useProgram("debug"),ae=_.getTileByID(A.key);D.terrain&&D.terrain.setupElevationDraw(ae,ee);const de=n.DepthMode.disabled,me=n.StencilMode.disabled,we=D.colorModeForRenderPass(),Ae="$debug";L.activeTexture.set(G.TEXTURE0),D.emptyTexture.bind(G.LINEAR,G.CLAMP_TO_EDGE),ee.draw(L,G.LINE_STRIP,de,me,we,n.CullFaceMode.disabled,za(H,n.Color.red),Ae,D.debugBuffer,D.tileBorderIndexBuffer,D.debugSegments);const ze=ae.latestRawTileData,Xe=Math.floor((ze&&ze.byteLength||0)/1024),Fe=_.getTile(A).tileSize,Ge=512/Math.min(Fe,512)*(A.overscaledZ/D.transform.zoom)*.5;let It=A.canonical.toString();A.overscaledZ!==A.canonical.z&&(It+=" => "+A.overscaledZ),function(Je,ht){Je.initDebugOverlayCanvas();const wt=Je.debugOverlayCanvas,Bt=Je.context.gl,rr=Je.debugOverlayCanvas.getContext("2d");rr.clearRect(0,0,wt.width,wt.height),rr.shadowColor="white",rr.shadowBlur=2,rr.lineWidth=1.5,rr.strokeStyle="white",rr.textBaseline="top",rr.font="bold 36px Open Sans, sans-serif",rr.fillText(ht,5,5),rr.strokeText(ht,5,5),Je.debugOverlayTexture.update(wt),Je.debugOverlayTexture.bind(Bt.LINEAR,Bt.CLAMP_TO_EDGE)}(D,`${It} ${Xe}kb`),ee.draw(L,G.TRIANGLES,de,me,n.ColorMode.alphaBlended,n.CullFaceMode.disabled,za(H,n.Color.transparent,Ge),Ae,D.debugBuffer,D.quadTriangleIndexBuffer,D.debugSegments)}const sl=n.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Ps}=sl;function Xi(D,_,A,L){D.emplaceBack(_,A,L)}class qs{constructor(_){this.vertexArray=new n.StructArrayLayout3f12,this.indices=new n.StructArrayLayout3ui6,Xi(this.vertexArray,-1,-1,1),Xi(this.vertexArray,1,-1,1),Xi(this.vertexArray,-1,1,1),Xi(this.vertexArray,1,1,1),Xi(this.vertexArray,-1,-1,-1),Xi(this.vertexArray,1,-1,-1),Xi(this.vertexArray,-1,1,-1),Xi(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=_.createVertexBuffer(this.vertexArray,Ps),this.indexBuffer=_.createIndexBuffer(this.indices),this.segment=n.SegmentVector.simpleSegment(0,0,36,12)}}function is(D,_,A,L,G,H){const ee=D.gl,ae=_.paint.get("sky-atmosphere-color"),de=_.paint.get("sky-atmosphere-halo-color"),me=_.paint.get("sky-atmosphere-sun-intensity"),we=((Ae,ze,Xe,Fe,Ge)=>({u_matrix_3f:Ae,u_sun_direction:ze,u_sun_intensity:Xe,u_color_tint_r:[Fe.r,Fe.g,Fe.b,Fe.a],u_color_tint_m:[Ge.r,Ge.g,Ge.b,Ge.a],u_luminance:5e-5}))(n.fromMat4([],L),G,me,ae,de);ee.framebufferTexture2D(ee.FRAMEBUFFER,ee.COLOR_ATTACHMENT0,ee.TEXTURE_CUBE_MAP_POSITIVE_X+H,_.skyboxTexture,0),A.draw(D,ee.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,n.ColorMode.unblended,n.CullFaceMode.frontCW,we,"skyboxCapture",_.skyboxGeometry.vertexBuffer,_.skyboxGeometry.indexBuffer,_.skyboxGeometry.segment)}const Ws={symbol:function(D,_,A,L,G){if(D.renderPass!=="translucent")return;const H=n.StencilMode.disabled,ee=D.colorModeForRenderPass();A.layout.get("text-variable-anchor")&&function(ae,de,me,we,Ae,ze,Xe){const Fe=de.transform,Ge=Ae==="map",It=ze==="map";for(const Je of ae){const ht=we.getTile(Je),wt=ht.getBucket(me);if(!wt||!wt.text||!wt.text.segments.get().length)continue;const Bt=n.evaluateSizeForZoom(wt.textSizeData,Fe.zoom),rr=Ye(ht,1,de.transform.zoom),tr=On(Je.projMatrix,It,Ge,de.transform,rr),wr=me.layout.get("icon-text-fit")!=="none"&&wt.hasIconData();if(Bt){const Sr=Math.pow(2,Fe.zoom-ht.tileID.overscaledZ),Vr=Fe.elevation;rs(wt,Ge,It,Xe,n.symbolSize,Fe,tr,Je.projMatrix,Sr,Bt,wr,Vr?Pt=>Vr.getAtTileOffset(Je,Pt.x,Pt.y):Pt=>0)}}}(L,D,A,_,A.layout.get("text-rotation-alignment"),A.layout.get("text-pitch-alignment"),G),A.paint.get("icon-opacity").constantOr(1)!==0&&Is(D,_,A,L,!1,A.paint.get("icon-translate"),A.paint.get("icon-translate-anchor"),A.layout.get("icon-rotation-alignment"),A.layout.get("icon-pitch-alignment"),A.layout.get("icon-keep-upright"),H,ee),A.paint.get("text-opacity").constantOr(1)!==0&&Is(D,_,A,L,!0,A.paint.get("text-translate"),A.paint.get("text-translate-anchor"),A.layout.get("text-rotation-alignment"),A.layout.get("text-pitch-alignment"),A.layout.get("text-keep-upright"),H,ee),_.map.showCollisionBoxes&&(ga(D,_,A,L,A.paint.get("text-translate"),A.paint.get("text-translate-anchor"),!0),ga(D,_,A,L,A.paint.get("icon-translate"),A.paint.get("icon-translate-anchor"),!1))},circle:function(D,_,A,L){if(D.renderPass!=="translucent")return;const G=A.paint.get("circle-opacity"),H=A.paint.get("circle-stroke-width"),ee=A.paint.get("circle-stroke-opacity"),ae=A.layout.get("circle-sort-key").constantOr(1)!==void 0;if(G.constantOr(1)===0&&(H.constantOr(1)===0||ee.constantOr(1)===0))return;const de=D.context,me=de.gl,we=D.depthModeForSublayer(0,n.DepthMode.ReadOnly),Ae=n.StencilMode.disabled,ze=D.colorModeForRenderPass(),Xe=[];for(let Fe=0;Fe<L.length;Fe++){const Ge=L[Fe],It=_.getTile(Ge),Je=It.getBucket(A);if(!Je)continue;const ht=Je.programConfigurations.get(A.id),wt=Po(A),Bt={programConfiguration:ht,program:D.useProgram("circle",ht,wt),layoutVertexBuffer:Je.layoutVertexBuffer,indexBuffer:Je.indexBuffer,uniformValues:ha(D,Ge,It,A),tile:It};if(ae){const rr=Je.segments.get();for(const tr of rr)Xe.push({segments:new n.SegmentVector([tr]),sortKey:tr.sortKey,state:Bt})}else Xe.push({segments:Je.segments,sortKey:0,state:Bt})}ae&&Xe.sort((Fe,Ge)=>Fe.sortKey-Ge.sortKey);for(const Fe of Xe){const{programConfiguration:Ge,program:It,layoutVertexBuffer:Je,indexBuffer:ht,uniformValues:wt,tile:Bt}=Fe.state,rr=Fe.segments;D.terrain&&D.terrain.setupElevationDraw(Bt,It,{useDepthForOcclusion:!0}),D.prepareDrawProgram(de,It,Bt.tileID.toUnwrapped()),It.draw(de,me.TRIANGLES,we,Ae,ze,n.CullFaceMode.disabled,wt,A.id,Je,ht,rr,A.paint,D.transform.zoom,Ge)}},heatmap:function(D,_,A,L){if(A.paint.get("heatmap-opacity")!==0)if(D.renderPass==="offscreen"){const G=D.context,H=G.gl,ee=n.StencilMode.disabled,ae=new n.ColorMode([H.ONE,H.ONE],n.Color.transparent,[!0,!0,!0,!0]);(function(de,me,we){const Ae=de.gl;de.activeTexture.set(Ae.TEXTURE1),de.viewport.set([0,0,me.width/4,me.height/4]);let ze=we.heatmapFbo;if(ze)Ae.bindTexture(Ae.TEXTURE_2D,ze.colorAttachment.get()),de.bindFramebuffer.set(ze.framebuffer);else{const Xe=Ae.createTexture();Ae.bindTexture(Ae.TEXTURE_2D,Xe),Ae.texParameteri(Ae.TEXTURE_2D,Ae.TEXTURE_WRAP_S,Ae.CLAMP_TO_EDGE),Ae.texParameteri(Ae.TEXTURE_2D,Ae.TEXTURE_WRAP_T,Ae.CLAMP_TO_EDGE),Ae.texParameteri(Ae.TEXTURE_2D,Ae.TEXTURE_MIN_FILTER,Ae.LINEAR),Ae.texParameteri(Ae.TEXTURE_2D,Ae.TEXTURE_MAG_FILTER,Ae.LINEAR),ze=we.heatmapFbo=de.createFramebuffer(me.width/4,me.height/4,!1),function(Fe,Ge,It,Je){const ht=Fe.gl;ht.texImage2D(ht.TEXTURE_2D,0,ht.RGBA,Ge.width/4,Ge.height/4,0,ht.RGBA,Fe.extRenderToTextureHalfFloat?Fe.extTextureHalfFloat.HALF_FLOAT_OES:ht.UNSIGNED_BYTE,null),Je.colorAttachment.set(It)}(de,me,Xe,ze)}})(G,D,A),G.clear({color:n.Color.transparent});for(let de=0;de<L.length;de++){const me=L[de];if(_.hasRenderableParent(me))continue;const we=_.getTile(me),Ae=we.getBucket(A);if(!Ae)continue;const ze=Ae.programConfigurations.get(A.id),Xe=D.useProgram("heatmap",ze),{zoom:Fe}=D.transform;D.terrain&&D.terrain.setupElevationDraw(we,Xe),D.prepareDrawProgram(G,Xe,me.toUnwrapped()),Xe.draw(G,H.TRIANGLES,n.DepthMode.disabled,ee,ae,n.CullFaceMode.disabled,po(me.projMatrix,we,Fe,A.paint.get("heatmap-intensity")),A.id,Ae.layoutVertexBuffer,Ae.indexBuffer,Ae.segments,A.paint,D.transform.zoom,ze)}G.viewport.set([0,0,D.width,D.height])}else D.renderPass==="translucent"&&(D.context.setColorMode(D.colorModeForRenderPass()),function(G,H){const ee=G.context,ae=ee.gl,de=H.heatmapFbo;if(!de)return;ee.activeTexture.set(ae.TEXTURE0),ae.bindTexture(ae.TEXTURE_2D,de.colorAttachment.get()),ee.activeTexture.set(ae.TEXTURE1);let me=H.colorRampTexture;me||(me=H.colorRampTexture=new n.Texture(ee,H.colorRamp,ae.RGBA)),me.bind(ae.LINEAR,ae.CLAMP_TO_EDGE),G.useProgram("heatmapTexture").draw(ee,ae.TRIANGLES,n.DepthMode.disabled,n.StencilMode.disabled,G.colorModeForRenderPass(),n.CullFaceMode.disabled,((we,Ae,ze,Xe)=>{const Fe=n.create$1();n.ortho(Fe,0,we.width,we.height,0,0,1);const Ge=we.context.gl;return{u_matrix:Fe,u_world:[Ge.drawingBufferWidth,Ge.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:Ae.paint.get("heatmap-opacity")}})(G,H),H.id,G.viewportBuffer,G.quadTriangleIndexBuffer,G.viewportSegments,H.paint,G.transform.zoom)}(D,A))},line:function(D,_,A,L){if(D.renderPass!=="translucent")return;const G=A.paint.get("line-opacity"),H=A.paint.get("line-width");if(G.constantOr(1)===0||H.constantOr(1)===0)return;const ee=D.depthModeForSublayer(0,n.DepthMode.ReadOnly),ae=D.colorModeForRenderPass(),de=A.paint.get("line-dasharray"),me=de.constantOr(1),we=A.layout.get("line-cap"),Ae=A.paint.get("line-pattern"),ze=Ae.constantOr(1),Xe=A.paint.get("line-gradient"),Fe=A.getCrossfadeParameters(),Ge=ze?"linePattern":me?"lineSDF":Xe?"lineGradient":"line",It=D.context,Je=It.gl;for(const ht of L){const wt=_.getTile(ht);if(ze&&!wt.patternsLoaded())continue;const Bt=wt.getBucket(A);if(!Bt)continue;D.prepareDrawTile(ht);const rr=Bt.programConfigurations.get(A.id),tr=D.useProgram(Ge,rr),wr=Ae.constantOr(null);if(wr&&wt.imageAtlas){const Zr=wt.imageAtlas,kn=Zr.patternPositions[wr.to.toString()],wn=Zr.patternPositions[wr.from.toString()];kn&&wn&&rr.setConstantPatternPositions(kn,wn)}const Sr=de.constantOr(null),Vr=we.constantOr(null);if(!ze&&Sr&&Vr&&wt.lineAtlas){const Zr=wt.lineAtlas,kn=Zr.getDash(Sr.to,Vr),wn=Zr.getDash(Sr.from,Vr);kn&&wn&&rr.setConstantPatternPositions(kn,wn)}const Pt=D.terrain?ht.projMatrix:null,on=ze?xo(D,wt,A,Fe,Pt):me?pa(D,wt,A,Fe,Pt):Xe?Zi(D,wt,A,Pt,Bt.lineClipsArray.length):eo(D,wt,A,Pt);if(ze)It.activeTexture.set(Je.TEXTURE0),wt.imageAtlasTexture.bind(Je.LINEAR,Je.CLAMP_TO_EDGE),rr.updatePaintBuffers(Fe);else if(me)It.activeTexture.set(Je.TEXTURE0),wt.lineAtlasTexture.bind(Je.LINEAR,Je.REPEAT),rr.updatePaintBuffers(Fe);else if(Xe){const Zr=Bt.gradients[A.id];let kn=Zr.texture;if(A.gradientVersion!==Zr.version){let wn=256;if(A.stepInterpolant){const Sn=_.getSource().maxzoom,Hn=ht.canonical.z===Sn?Math.ceil(1<<D.transform.maxZoom-ht.canonical.z):1;wn=n.clamp(n.nextPowerOfTwo(Bt.maxLineLength/n.EXTENT*1024*Hn),256,It.maxTextureSize)}Zr.gradient=n.renderColorRamp({expression:A.gradientExpression(),evaluationKey:"lineProgress",resolution:wn,image:Zr.gradient||void 0,clips:Bt.lineClipsArray}),Zr.texture?Zr.texture.update(Zr.gradient):Zr.texture=new n.Texture(It,Zr.gradient,Je.RGBA),Zr.version=A.gradientVersion,kn=Zr.texture}It.activeTexture.set(Je.TEXTURE0),kn.bind(A.stepInterpolant?Je.NEAREST:Je.LINEAR,Je.CLAMP_TO_EDGE)}D.prepareDrawProgram(It,tr,ht.toUnwrapped()),tr.draw(It,Je.TRIANGLES,ee,D.stencilModeForClipping(ht),ae,n.CullFaceMode.disabled,on,A.id,Bt.layoutVertexBuffer,Bt.indexBuffer,Bt.segments,A.paint,D.transform.zoom,rr,Bt.layoutVertexBuffer2)}},fill:function(D,_,A,L){const G=A.paint.get("fill-color"),H=A.paint.get("fill-opacity");if(H.constantOr(1)===0)return;const ee=D.colorModeForRenderPass(),ae=A.paint.get("fill-pattern"),de=D.opaquePassEnabledForLayer()&&!ae.constantOr(1)&&G.constantOr(n.Color.transparent).a===1&&H.constantOr(0)===1?"opaque":"translucent";if(D.renderPass===de){const me=D.depthModeForSublayer(1,D.renderPass==="opaque"?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly);Za(D,_,A,L,me,ee,!1)}if(D.renderPass==="translucent"&&A.paint.get("fill-antialias")){const me=D.depthModeForSublayer(A.getPaintProperty("fill-outline-color")?2:0,n.DepthMode.ReadOnly);Za(D,_,A,L,me,ee,!0)}},"fill-extrusion":function(D,_,A,L){const G=A.paint.get("fill-extrusion-opacity");if(G!==0&&D.renderPass==="translucent"){const H=new n.DepthMode(D.context.gl.LEQUAL,n.DepthMode.ReadWrite,D.depthRangeFor3D);if(G!==1||A.paint.get("fill-extrusion-pattern").constantOr(1))Hs(D,_,A,L,H,n.StencilMode.disabled,n.ColorMode.disabled),Hs(D,_,A,L,H,D.stencilModeFor3D(),D.colorModeForRenderPass());else{const ee=D.colorModeForRenderPass();Hs(D,_,A,L,H,n.StencilMode.disabled,ee)}}},hillshade:function(D,_,A,L){if(D.renderPass!=="offscreen"&&D.renderPass!=="translucent")return;const G=D.context,H=D.depthModeForSublayer(0,n.DepthMode.ReadOnly),ee=D.colorModeForRenderPass(),ae=D.terrain&&D.terrain.renderingToTexture,[de,me]=D.renderPass!=="translucent"||ae?[{},L]:D.stencilConfigForOverlap(L);for(const we of me){const Ae=_.getTile(we);if(Ae.needsHillshadePrepare&&D.renderPass==="offscreen")Un(D,Ae,A,H,n.StencilMode.disabled,ee);else if(D.renderPass==="translucent"){const ze=ae&&D.terrain?D.terrain.stencilModeForRTTOverlap(we):de[we.overscaledZ];oi(D,we,Ae,A,H,ze,ee)}}G.viewport.set([0,0,D.width,D.height])},raster:function(D,_,A,L,G,H){if(D.renderPass!=="translucent"||A.paint.get("raster-opacity")===0||!L.length)return;const ee=D.context,ae=ee.gl,de=_.getSource(),me=D.useProgram("raster"),we=D.colorModeForRenderPass(),Ae=D.terrain&&D.terrain.renderingToTexture,[ze,Xe]=de instanceof Ie||Ae?[{},L]:D.stencilConfigForOverlap(L),Fe=Xe[Xe.length-1].overscaledZ,Ge=!D.options.moving;for(const It of Xe){const Je=Ae?n.DepthMode.disabled:D.depthModeForSublayer(It.overscaledZ-Fe,A.paint.get("raster-opacity")===1?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly,ae.LESS),ht=It.toUnwrapped(),wt=_.getTile(It);if(Ae&&(!wt||!wt.hasData()))continue;const Bt=Ae?It.projMatrix:D.transform.calculateProjMatrix(ht,Ge),rr=D.terrain&&Ae?D.terrain.stencilModeForRTTOverlap(It):ze[It.overscaledZ],tr=H?0:A.paint.get("raster-fade-duration");wt.registerFadeDuration(tr);const wr=_.findLoadedParent(It,0),Sr=Jo(wt,wr,_,D.transform,tr);let Vr,Pt;D.terrain&&D.terrain.prepareDrawTile(It);const on=A.paint.get("raster-resampling")==="nearest"?ae.NEAREST:ae.LINEAR;ee.activeTexture.set(ae.TEXTURE0),wt.texture.bind(on,ae.CLAMP_TO_EDGE,ae.LINEAR_MIPMAP_NEAREST),ee.activeTexture.set(ae.TEXTURE1),wr?(wr.texture.bind(on,ae.CLAMP_TO_EDGE,ae.LINEAR_MIPMAP_NEAREST),Vr=Math.pow(2,wr.tileID.overscaledZ-wt.tileID.overscaledZ),Pt=[wt.tileID.canonical.x*Vr%1,wt.tileID.canonical.y*Vr%1]):wt.texture.bind(on,ae.CLAMP_TO_EDGE,ae.LINEAR_MIPMAP_NEAREST);const Zr=ks(Bt,Pt||[0,0],Vr||1,Sr,A);D.prepareDrawProgram(ee,me,ht),de instanceof Ie?me.draw(ee,ae.TRIANGLES,Je,n.StencilMode.disabled,we,n.CullFaceMode.disabled,Zr,A.id,de.boundsBuffer,D.quadTriangleIndexBuffer,de.boundsSegments):me.draw(ee,ae.TRIANGLES,Je,rr,we,n.CullFaceMode.disabled,Zr,A.id,D.rasterBoundsBuffer,D.quadTriangleIndexBuffer,D.rasterBoundsSegments)}},background:function(D,_,A,L){const G=A.paint.get("background-color"),H=A.paint.get("background-opacity");if(H===0)return;const ee=D.context,ae=ee.gl,de=D.transform,me=de.tileSize,we=A.paint.get("background-pattern");if(D.isPatternMissing(we))return;const Ae=!we&&G.a===1&&H===1&&D.opaquePassEnabledForLayer()?"opaque":"translucent";if(D.renderPass!==Ae)return;const ze=n.StencilMode.disabled,Xe=D.depthModeForSublayer(0,Ae==="opaque"?n.DepthMode.ReadWrite:n.DepthMode.ReadOnly),Fe=D.colorModeForRenderPass(),Ge=D.useProgram(we?"backgroundPattern":"background"),It=L||de.coveringTiles({tileSize:me});we&&(ee.activeTexture.set(ae.TEXTURE0),D.imageManager.bind(D.context));const Je=A.getCrossfadeParameters();for(const ht of It){const wt=ht.toUnwrapped(),Bt=L?ht.projMatrix:D.transform.calculateProjMatrix(wt);D.prepareDrawTile(ht);const rr=we?qa(Bt,H,D,we,{tileID:ht,tileSize:me},Je):Ta(Bt,H,G);D.prepareDrawProgram(ee,Ge,wt),Ge.draw(ee,ae.TRIANGLES,Xe,ze,Fe,n.CullFaceMode.disabled,rr,A.id,D.tileExtentBuffer,D.quadTriangleIndexBuffer,D.tileExtentSegments)}},sky:function(D,_,A){const L=A.paint.get("sky-opacity");if(L===0)return;const G=D.context,H=A.paint.get("sky-type"),ee=new n.DepthMode(G.gl.LEQUAL,n.DepthMode.ReadOnly,[0,1]),ae=D.frameCounter/1e3%1;H==="atmosphere"?D.renderPass==="offscreen"?A.needsSkyboxCapture(D)&&(function(de,me,we,Ae){const ze=de.context,Xe=ze.gl;let Fe=me.skyboxFbo;if(!Fe){Fe=me.skyboxFbo=ze.createFramebuffer(32,32,!1),me.skyboxGeometry=new qs(ze),me.skyboxTexture=ze.gl.createTexture(),Xe.bindTexture(Xe.TEXTURE_CUBE_MAP,me.skyboxTexture),Xe.texParameteri(Xe.TEXTURE_CUBE_MAP,Xe.TEXTURE_WRAP_S,Xe.CLAMP_TO_EDGE),Xe.texParameteri(Xe.TEXTURE_CUBE_MAP,Xe.TEXTURE_WRAP_T,Xe.CLAMP_TO_EDGE),Xe.texParameteri(Xe.TEXTURE_CUBE_MAP,Xe.TEXTURE_MIN_FILTER,Xe.LINEAR),Xe.texParameteri(Xe.TEXTURE_CUBE_MAP,Xe.TEXTURE_MAG_FILTER,Xe.LINEAR);for(let ht=0;ht<6;++ht)Xe.texImage2D(Xe.TEXTURE_CUBE_MAP_POSITIVE_X+ht,0,Xe.RGBA,32,32,0,Xe.RGBA,Xe.UNSIGNED_BYTE,null)}ze.bindFramebuffer.set(Fe.framebuffer),ze.viewport.set([0,0,32,32]);const Ge=me.getCenter(de,!0),It=de.useProgram("skyboxCapture"),Je=new Float64Array(16);n.identity(Je),n.rotateY(Je,Je,.5*-Math.PI),is(ze,me,It,Je,Ge,0),n.identity(Je),n.rotateY(Je,Je,.5*Math.PI),is(ze,me,It,Je,Ge,1),n.identity(Je),n.rotateX(Je,Je,.5*-Math.PI),is(ze,me,It,Je,Ge,2),n.identity(Je),n.rotateX(Je,Je,.5*Math.PI),is(ze,me,It,Je,Ge,3),n.identity(Je),is(ze,me,It,Je,Ge,4),n.identity(Je),n.rotateY(Je,Je,Math.PI),is(ze,me,It,Je,Ge,5),ze.viewport.set([0,0,de.width,de.height])}(D,A),A.markSkyboxValid(D)):D.renderPass==="sky"&&function(de,me,we,Ae,ze){const Xe=de.context,Fe=Xe.gl,Ge=de.transform,It=de.useProgram("skybox");Xe.activeTexture.set(Fe.TEXTURE0),Fe.bindTexture(Fe.TEXTURE_CUBE_MAP,me.skyboxTexture);const Je=((ht,wt,Bt,rr,tr)=>({u_matrix:ht,u_sun_direction:wt,u_cubemap:0,u_opacity:rr,u_temporal_offset:tr}))(Ge.skyboxMatrix,me.getCenter(de,!1),0,Ae,ze);de.prepareDrawProgram(Xe,It),It.draw(Xe,Fe.TRIANGLES,we,n.StencilMode.disabled,de.colorModeForRenderPass(),n.CullFaceMode.backCW,Je,"skybox",me.skyboxGeometry.vertexBuffer,me.skyboxGeometry.indexBuffer,me.skyboxGeometry.segment)}(D,A,ee,L,ae):H==="gradient"&&D.renderPass==="sky"&&function(de,me,we,Ae,ze){const Xe=de.context,Fe=Xe.gl,Ge=de.transform,It=de.useProgram("skyboxGradient");me.skyboxGeometry||(me.skyboxGeometry=new qs(Xe)),Xe.activeTexture.set(Fe.TEXTURE0);let Je=me.colorRampTexture;Je||(Je=me.colorRampTexture=new n.Texture(Xe,me.colorRamp,Fe.RGBA)),Je.bind(Fe.LINEAR,Fe.CLAMP_TO_EDGE);const ht=((wt,Bt,rr,tr,wr)=>({u_matrix:wt,u_color_ramp:0,u_center_direction:Bt,u_radius:n.degToRad(rr),u_opacity:tr,u_temporal_offset:wr}))(Ge.skyboxMatrix,me.getCenter(de,!1),me.paint.get("sky-gradient-radius"),Ae,ze);de.prepareDrawProgram(Xe,It),It.draw(Xe,Fe.TRIANGLES,we,n.StencilMode.disabled,de.colorModeForRenderPass(),n.CullFaceMode.backCW,ht,"skyboxGradient",me.skyboxGeometry.vertexBuffer,me.skyboxGeometry.indexBuffer,me.skyboxGeometry.segment)}(D,A,ee,L,ae)},debug:function(D,_,A){for(let L=0;L<A.length;L++)ns(D,_,A[L])},custom:function(D,_,A){const L=D.context,G=A.implementation;if(D.renderPass==="offscreen"){const H=G.prerender;H&&(D.setCustomLayerDefaults(),L.setColorMode(D.colorModeForRenderPass()),H.call(G,L.gl,D.transform.customLayerMatrix()),L.setDirty(),D.setBaseState())}else if(D.renderPass==="translucent"){D.setCustomLayerDefaults(),L.setColorMode(D.colorModeForRenderPass()),L.setStencilMode(n.StencilMode.disabled);const H=G.renderingMode==="3d"?new n.DepthMode(D.context.gl.LEQUAL,n.DepthMode.ReadWrite,D.depthRangeFor3D):D.depthModeForSublayer(0,n.DepthMode.ReadOnly);L.setDepthMode(H),G.render(L.gl,D.transform.customLayerMatrix()),L.setDirty(),D.setBaseState(),L.bindFramebuffer.set(null)}}};class os{constructor(_,A){this.context=new un(_),this.transform=A,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=n.SourceCache.maxUnderzooming+n.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new mt,this.gpuTimers={},this.frameCounter=0}updateTerrain(_,A){const L=!!_&&!!_.terrain;if(!(L||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new Ao(this,_));const G=this._terrain;this.transform.elevation=L?G:null,G.update(_,this.transform,A)}_updateFog(_){const A=_.fog;if(!A||A.getOpacity(this.transform.pitch)<1||A.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[L,G]=A.getFovAdjustedRange(this.transform._fov);if(L>G)return void(this.transform.fogCullDistSq=null);const H=L+.78*(G-L);this.transform.fogCullDistSq=H*H}get terrain(){return this._terrain&&this._terrain.enabled?this._terrain:null}resize(_,A){if(this.width=_*n.exported.devicePixelRatio,this.height=A*n.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const L of this.style.order)this.style._layers[L].resize()}setup(){const _=this.context,A=new n.StructArrayLayout2i4;A.emplaceBack(0,0),A.emplaceBack(n.EXTENT,0),A.emplaceBack(0,n.EXTENT),A.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=_.createVertexBuffer(A,n.posAttributes.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);const L=new n.StructArrayLayout2i4;L.emplaceBack(0,0),L.emplaceBack(n.EXTENT,0),L.emplaceBack(0,n.EXTENT),L.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=_.createVertexBuffer(L,n.posAttributes.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);const G=new n.StructArrayLayout4i8;G.emplaceBack(0,0,0,0),G.emplaceBack(n.EXTENT,0,n.EXTENT,0),G.emplaceBack(0,n.EXTENT,0,n.EXTENT),G.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.rasterBoundsBuffer=_.createVertexBuffer(G,_e.members),this.rasterBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);const H=new n.StructArrayLayout2i4;H.emplaceBack(0,0),H.emplaceBack(1,0),H.emplaceBack(0,1),H.emplaceBack(1,1),this.viewportBuffer=_.createVertexBuffer(H,n.posAttributes.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);const ee=new n.StructArrayLayout1ui2;ee.emplaceBack(0),ee.emplaceBack(1),ee.emplaceBack(3),ee.emplaceBack(2),ee.emplaceBack(0),this.tileBorderIndexBuffer=_.createIndexBuffer(ee);const ae=new n.StructArrayLayout3ui6;ae.emplaceBack(0,1,2),ae.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=_.createIndexBuffer(ae),this.emptyTexture=new n.Texture(_,{width:1,height:1,data:new Uint8Array([0,0,0,0])},_.gl.RGBA),this.identityMat=n.create$1();const de=this.context.gl;this.stencilClearMode=new n.StencilMode({func:de.ALWAYS,mask:0},0,255,de.ZERO,de.ZERO,de.ZERO),this.loadTimeStamps.push(n.window.performance.now())}clearStencil(){const _=this.context,A=_.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const L=n.create$1();n.ortho(L,0,this.width,this.height,0,0,1),n.scale$1(L,L,[A.drawingBufferWidth,A.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(_,A.TRIANGLES,n.DepthMode.disabled,this.stencilClearMode,n.ColorMode.disabled,n.CullFaceMode.disabled,io(L),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(_,A,L){if(!(A&&this.currentStencilSource!==A.id&&_.isTileClipped()&&L&&L.length))return;this.currentStencilSource=A.id;const G=this.context,H=G.gl;this.nextStencilID+L.length>256&&this.clearStencil(),G.setColorMode(n.ColorMode.disabled),G.setDepthMode(n.DepthMode.disabled);const ee=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const ae of L){const de=this._tileClippingMaskIDs[ae.key]=this.nextStencilID++;ee.draw(G,H.TRIANGLES,n.DepthMode.disabled,new n.StencilMode({func:H.ALWAYS,mask:0},de,255,H.KEEP,H.KEEP,H.REPLACE),n.ColorMode.disabled,n.CullFaceMode.disabled,io(ae.projMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const _=this.nextStencilID++,A=this.context.gl;return new n.StencilMode({func:A.NOTEQUAL,mask:255},_,255,A.KEEP,A.KEEP,A.REPLACE)}stencilModeForClipping(_){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(_);const A=this.context.gl;return new n.StencilMode({func:A.EQUAL,mask:255},this._tileClippingMaskIDs[_.key],0,A.KEEP,A.KEEP,A.REPLACE)}stencilConfigForOverlap(_){const A=this.context.gl,L=_.sort((ee,ae)=>ae.overscaledZ-ee.overscaledZ),G=L[L.length-1].overscaledZ,H=L[0].overscaledZ-G+1;if(H>1){this.currentStencilSource=void 0,this.nextStencilID+H>256&&this.clearStencil();const ee={};for(let ae=0;ae<H;ae++)ee[ae+G]=new n.StencilMode({func:A.GEQUAL,mask:255},ae+this.nextStencilID,255,A.KEEP,A.KEEP,A.REPLACE);return this.nextStencilID+=H,[ee,L]}return[{[G]:n.StencilMode.disabled},L]}colorModeForRenderPass(){const _=this.context.gl;if(this._showOverdrawInspector){const A=1/8;return new n.ColorMode([_.CONSTANT_COLOR,_.ONE],new n.Color(A,A,A,0),[!0,!0,!0,!0])}return this.renderPass==="opaque"?n.ColorMode.unblended:n.ColorMode.alphaBlended}depthModeForSublayer(_,A,L){if(!this.opaquePassEnabledForLayer())return n.DepthMode.disabled;const G=1-((1+this.currentLayer)*this.numSublayers+_)*this.depthEpsilon;return new n.DepthMode(L||this.context.gl.LEQUAL,A,[G,G])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(_,A){this.style=_,this.options=A,this.lineAtlas=_.lineAtlas,this.imageManager=_.imageManager,this.glyphManager=_.glyphManager,this.symbolFadeChange=_.placement.symbolFadeChange(n.exported.now()),this.imageManager.beginFrame();const L=this.style.order,G=this.style._sourceCaches;for(const me in G){const we=G[me];we.used&&we.prepare(this.context)}const H={},ee={},ae={};for(const me in G){const we=G[me];H[me]=we.getVisibleCoordinates(),ee[me]=H[me].slice().reverse(),ae[me]=we.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let me=0;me<L.length;me++)if(this.style._layers[L[me]].is3D()){this.opaquePassCutoff=me;break}if(this.terrain&&(this.terrain.updateTileBinding(ae),this.opaquePassCutoff=0),!n.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const me of L){const we=this.style._layers[me],Ae=_._getLayerSourceCache(we);if(!we.hasOffscreenPass()||we.isHidden(this.transform.zoom))continue;const ze=Ae?ee[Ae.id]:void 0;(we.type==="custom"||we.isSky()||ze&&ze.length)&&this.renderLayer(this,Ae,we,ze)}this.depthRangeFor3D=[0,1-(_.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);let de=n.Color.transparent;if(this.style.fog&&(de=this.style.fog.properties.get("color")),this.context.clear({color:A.showOverdrawInspector?n.Color.black:de,depth:1}),this.clearStencil(),this._showOverdrawInspector=A.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=L.length-1;this.currentLayer>=0;this.currentLayer--){const me=this.style._layers[L[this.currentLayer]],we=_._getLayerSourceCache(me);if(me.isSky())continue;const Ae=we?ee[we.id]:void 0;this._renderTileClippingMasks(me,we,Ae),this.renderLayer(this,we,me,Ae)}if(this.renderPass="sky",this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<L.length;this.currentLayer++){const me=this.style._layers[L[this.currentLayer]],we=_._getLayerSourceCache(me);me.isSky()&&this.renderLayer(this,we,me,we?ee[we.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<L.length;){const me=this.style._layers[L[this.currentLayer]],we=_._getLayerSourceCache(me);if(me.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(me)){if(me.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const Ae=we?(me.type==="symbol"?ae:ee)[we.id]:void 0;this._renderTileClippingMasks(me,we,we?H[we.id]:void 0),this.renderLayer(this,we,me,Ae),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){let me=null;n.values(this.style._layers).forEach(we=>{const Ae=_._getLayerSourceCache(we);Ae&&!we.isHidden(this.transform.zoom)&&(!me||me.getSource().maxzoom<Ae.getSource().maxzoom)&&(me=Ae)}),me&&this.options.showTileBoundaries&&Ws.debug(this,me,me.getVisibleCoordinates())}this.options.showPadding&&function(me){const we=me.transform.padding;Ms(me,me.transform.height-(we.top||0),3,wl),Ms(me,we.bottom||0,3,Ul),As(me,we.left||0,3,Cl),As(me,me.transform.width-(we.right||0),3,Sl);const Ae=me.transform.centerPoint;(function(ze,Xe,Fe,Ge){vs(ze,Xe-1,Fe-10,2,20,Ge),vs(ze,Xe-10,Fe-1,20,2,Ge)})(me,Ae.x,me.transform.height-Ae.y,al)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%n.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(n.window.performance.now()),this.saveCanvasCopy())}renderLayer(_,A,L,G){L.isHidden(this.transform.zoom)||(L.type==="background"||L.type==="sky"||L.type==="custom"||G&&G.length)&&(this.id=L.id,this.gpuTimingStart(L),Ws[L.type](_,A,L,G,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(_){if(!this.options.gpuTiming)return;const A=this.context.extTimerQuery;let L=this.gpuTimers[_.id];L||(L=this.gpuTimers[_.id]={calls:0,cpuTime:0,query:A.createQueryEXT()}),L.calls++,A.beginQueryEXT(A.TIME_ELAPSED_EXT,L.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const _=this.context.extTimerQuery;_.endQueryEXT(_.TIME_ELAPSED_EXT)}collectGpuTimers(){const _=this.gpuTimers;return this.gpuTimers={},_}queryGpuTimers(_){const A={};for(const L in _){const G=_[L],H=this.context.extTimerQuery,ee=H.getQueryObjectEXT(G.query,H.QUERY_RESULT_EXT)/1e6;H.deleteQueryEXT(G.query),A[L]=ee}return A}translatePosMatrix(_,A,L,G,H){if(!L[0]&&!L[1])return _;const ee=H?G==="map"?this.transform.angle:0:G==="viewport"?-this.transform.angle:0;if(ee){const me=Math.sin(ee),we=Math.cos(ee);L=[L[0]*we-L[1]*me,L[0]*me+L[1]*we]}const ae=[H?L[0]:Ye(A,L[0],this.transform.zoom),H?L[1]:Ye(A,L[1],this.transform.zoom),0],de=new Float32Array(16);return n.translate(de,_,ae),de}saveTileTexture(_){const A=this._tileTextures[_.size[0]];A?A.push(_):this._tileTextures[_.size[0]]=[_]}getTileTexture(_){const A=this._tileTextures[_];return A&&A.length>0?A.pop():null}isPatternMissing(_){if(!_)return!1;if(!_.from||!_.to)return!0;const A=this.imageManager.getPattern(_.from.toString()),L=this.imageManager.getPattern(_.to.toString());return!A||!L}currentGlobalDefines(){const _=this.terrain&&this.terrain.renderingToTexture,A=this.style&&this.style.fog,L=[];return this.terrain&&!this.terrain.renderingToTexture&&L.push("TERRAIN"),A&&!_&&A.getOpacity(this.transform.pitch)!==0&&L.push("FOG"),_&&L.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&L.push("OVERDRAW_INSPECTOR"),L}useProgram(_,A,L){this.cache=this.cache||{};const G=L||[],H=this.currentGlobalDefines().concat(G),ee=Uo.cacheKey(_,H,A);return this.cache[ee]||(this.cache[ee]=new Uo(this.context,_,Zn[_],A,fs[_],H)),this.cache[ee]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const _=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(_.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}prepareDrawTile(_){this.terrain&&this.terrain.prepareDrawTile(_)}prepareDrawProgram(_,A,L){if(this.terrain&&this.terrain.renderingToTexture)return;const G=this.style.fog;if(G){const H=G.getOpacity(this.transform.pitch);H!==0&&A.setFogUniformValues(_,((ee,ae,de,me)=>{const we=ae.properties.get("color"),Ae=ee.frameCounter/1e3%1,ze=[we.r/we.a,we.g/we.a,we.b/we.a,me];return{u_fog_matrix:de?ee.transform.calculateFogTileMatrix(de):ee.identityMat,u_fog_range:ae.getFovAdjustedRange(ee.transform._fov),u_fog_color:ze,u_fog_horizon_blend:ae.properties.get("horizon-blend"),u_fog_temporal_offset:Ae}})(this,G,L,H))}}setTileLoadedFlag(_){this.tileLoaded=_}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const _=this.context.gl,A=_.createTexture();return _.bindTexture(_.TEXTURE_2D,A),_.copyTexImage2D(_.TEXTURE_2D,0,_.RGBA,0,0,_.drawingBufferWidth,_.drawingBufferHeight,0),A}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const _=this.style&&this.style.fog;return!!_&&_.getOpacity(this.transform.pitch)!==0}}class ys{constructor(_=0,A=0,L=0,G=0){if(isNaN(_)||_<0||isNaN(A)||A<0||isNaN(L)||L<0||isNaN(G)||G<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=_,this.bottom=A,this.left=L,this.right=G}interpolate(_,A,L){return A.top!=null&&_.top!=null&&(this.top=n.number(_.top,A.top,L)),A.bottom!=null&&_.bottom!=null&&(this.bottom=n.number(_.bottom,A.bottom,L)),A.left!=null&&_.left!=null&&(this.left=n.number(_.left,A.left,L)),A.right!=null&&_.right!=null&&(this.right=n.number(_.right,A.right,L)),this}getCenter(_,A){const L=n.clamp((this.left+_-this.right)/2,0,_),G=n.clamp((this.top+A-this.bottom)/2,0,A);return new n.pointGeometry(L,G)}equals(_){return this.top===_.top&&this.bottom===_.bottom&&this.left===_.left&&this.right===_.right}clone(){return new ys(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Ia(D,_){return[D[4*_],D[4*_+1],D[4*_+2],D[4*_+3]]}function ll(D,_,A){D[4*_+0]=A[0],D[4*_+1]=A[1],D[4*_+2]=A[2],D[4*_+3]=A[3]}function Ba(D,_){const A=Ia(D,3);n.fromQuat(D,_),ll(D,3,A)}function va(D,_){ll(D,3,[_[0],_[1],_[2],1])}function qo(D,_){const A=n.identity$1([]);return n.rotateZ$1(A,A,-_),n.rotateX$1(A,A,-D),A}function So(D,_){const A=[D[0],D[1],0],L=[_[0],_[1],0];if(n.length(A)>=1e-15){const ee=n.normalize([],A);n.scale(L,ee,n.dot(L,ee)),_[0]=L[0],_[1]=L[1]}const G=n.cross([],_,D);if(n.len(G)<1e-15)return null;const H=Math.atan2(-G[1],G[0]);return qo(Math.atan2(Math.sqrt(D[0]*D[0]+D[1]*D[1]),-D[2]),H)}class bs{constructor(_,A){this.position=_,this.orientation=A}get position(){return this._position}set position(_){this._position=this._renderWorldCopies?function(A){if(!A)return;const L=Array.isArray(A)?new n.MercatorCoordinate(A[0],A[1],A[2]):A;return L.x=n.wrap(L.x,0,1),L}(_):_}lookAtPoint(_,A){if(this.orientation=null,!this.position)return;const L=this._elevation?this._elevation.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(_)):0,G=this.position,H=n.MercatorCoordinate.fromLngLat(_,L),ee=[H.x-G.x,H.y-G.y,H.z-G.z];A||(A=[0,0,1]),A[2]=Math.abs(A[2]),this.orientation=So(ee,A)}setPitchBearing(_,A){this.orientation=qo(n.degToRad(_),n.degToRad(-A))}}class ya{constructor(_,A){this._transform=n.identity([]),this._orientation=n.identity$1([]),A&&(this._orientation=A,Ba(this._transform,this._orientation)),_&&va(this._transform,_)}get mercatorPosition(){const _=this.position;return new n.MercatorCoordinate(_[0],_[1],_[2])}get position(){const _=Ia(this._transform,3);return[_[0],_[1],_[2]]}set position(_){va(this._transform,_)}get orientation(){return this._orientation}set orientation(_){this._orientation=_,Ba(this._transform,this._orientation)}getPitchBearing(){const _=this.forward(),A=this.right();return{bearing:Math.atan2(-A[1],A[0]),pitch:Math.atan2(Math.sqrt(_[0]*_[0]+_[1]*_[1]),-_[2])}}setPitchBearing(_,A){this._orientation=qo(_,A),Ba(this._transform,this._orientation)}forward(){const _=Ia(this._transform,2);return[-_[0],-_[1],-_[2]]}up(){const _=Ia(this._transform,1);return[-_[0],-_[1],-_[2]]}right(){const _=Ia(this._transform,0);return[_[0],_[1],_[2]]}getCameraToWorld(_,A){const L=new Float64Array(16);return n.invert(L,this.getWorldToCamera(_,A)),L}getWorldToCameraPosition(_,A,L){const G=this.position;n.scale(G,G,-_);const H=new Float64Array(16);return n.fromScaling(H,[L,L,L]),n.translate(H,H,G),H[10]*=A,H}getWorldToCamera(_,A){const L=new Float64Array(16),G=new Float64Array(4),H=this.position;return n.conjugate(G,this._orientation),n.scale(H,H,-_),n.fromQuat(L,G),n.translate(L,L,H),L[1]*=-1,L[5]*=-1,L[9]*=-1,L[13]*=-1,L[8]*=A,L[9]*=A,L[10]*=A,L[11]*=A,L}getCameraToClipPerspective(_,A,L,G){const H=new Float64Array(16);return n.perspective(H,_,A,L,G),H}getDistanceToElevation(_){const A=_===0?0:n.mercatorZfromAltitude(_,this.position[1]),L=this.forward();return(A-this.position[2])/L[2]}clone(){return new ya([...this.position],[...this.orientation])}}class Zs{constructor(_,A,L,G,H){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=H===void 0||H,this._minZoom=_||0,this._maxZoom=A||22,this._minPitch=L==null?0:L,this._maxPitch=G==null?60:G,this.setMaxBounds(),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ys,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._camera=new ya,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._horizonShift=.1}clone(){const _=new Zs(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return _._elevation=this._elevation,_._centerAltitude=this._centerAltitude,_.tileSize=this.tileSize,_.latRange=this.latRange,_.width=this.width,_.height=this.height,_.cameraElevationReference=this.cameraElevationReference,_._center=this._center,_._setZoom(this.zoom),_._cameraZoom=this._cameraZoom,_.angle=this.angle,_._fov=this._fov,_._pitch=this._pitch,_._averageElevation=this._averageElevation,_._unmodified=this._unmodified,_._edgeInsets=this._edgeInsets.clone(),_._camera=this._camera.clone(),_._calcMatrices(),_.freezeTileCoverage=this.freezeTileCoverage,_}get elevation(){return this._elevation}set elevation(_){this._elevation!==_&&(this._elevation=_,_?this._updateCenterElevation()&&this._updateCameraOnTerrain():(this._cameraZoom=null,this._centerAltitude=0),this._calcMatrices())}updateElevation(_){this._terrainEnabled()&&this._cameraZoom==null&&this._updateCenterElevation()&&this._updateCameraOnTerrain(),_&&this._constrainCameraAltitude(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(_){this._minZoom!==_&&(this._minZoom=_,this.zoom=Math.max(this.zoom,_))}get maxZoom(){return this._maxZoom}set maxZoom(_){this._maxZoom!==_&&(this._maxZoom=_,this.zoom=Math.min(this.zoom,_))}get minPitch(){return this._minPitch}set minPitch(_){this._minPitch!==_&&(this._minPitch=_,this.pitch=Math.max(this.pitch,_))}get maxPitch(){return this._maxPitch}set maxPitch(_){this._maxPitch!==_&&(this._maxPitch=_,this.pitch=Math.min(this.pitch,_))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(_){_===void 0?_=!0:_===null&&(_=!1),this._renderWorldCopies=_}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const _=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(_))}get pixelsPerMeter(){return n.mercatorZfromAltitude(1,this.center.lat)*this.worldSize}get cameraPixelsPerMeter(){return n.mercatorZfromAltitude(1,this.center.lat)*this.cameraWorldSize}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new n.pointGeometry(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(_){const A=-n.wrap(_,-180,180)*Math.PI/180;var L;this.angle!==A&&(this._unmodified=!1,this.angle=A,this._calcMatrices(),this.rotationMatrix=(L=new n.ARRAY_TYPE(4),n.ARRAY_TYPE!=Float32Array&&(L[1]=0,L[2]=0),L[0]=1,L[3]=1,L),function(G,H,ee){var ae=H[0],de=H[1],me=H[2],we=H[3],Ae=Math.sin(ee),ze=Math.cos(ee);G[0]=ae*ze+me*Ae,G[1]=de*ze+we*Ae,G[2]=ae*-Ae+me*ze,G[3]=de*-Ae+we*ze}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(_){const A=n.clamp(_,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==A&&(this._unmodified=!1,this._pitch=A,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(_){_=Math.max(.01,Math.min(60,_)),this._fov!==_&&(this._unmodified=!1,this._fov=_/180*Math.PI,this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(_){this._averageElevation=_,this._calcFogMatrices()}get zoom(){return this._zoom}set zoom(_){const A=Math.min(Math.max(_,this.minZoom),this.maxZoom);this._zoom!==A&&(this._unmodified=!1,this._setZoom(A),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._constrain(),this._calcMatrices())}_setZoom(_){this._zoom=_,this.scale=this.zoomScale(_),this.tileZoom=Math.floor(_),this.zoomFraction=_-this.tileZoom}_updateCenterElevation(){if(!this._elevation)return!1;const _=this._elevation.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(this.center),-1);return _===-1?(this._cameraZoom=null,!1):(this._centerAltitude=_,!0)}_updateCameraOnTerrain(){const _=this.cameraToCenterDistance/this.worldSize,A=n.mercatorZfromAltitude(this._centerAltitude,this.center.lat);this._cameraZoom=this._zoomFromMercatorZ(A+_)}sampleAverageElevation(){if(!this._elevation)return 0;const _=this._elevation,A=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],L=this.horizonLineFromTop();let G=0,H=0;for(let ee=0;ee<A.length;ee++){const ae=new n.pointGeometry(A[ee][0]*this.width,L+A[ee][1]*(this.height-L)),de=_.pointCoordinate(ae);if(!de)continue;const me=1/Math.hypot(de[0]-this._camera.position[0],de[1]-this._camera.position[1]);G+=de[3]*me,H+=me}return H===0?NaN:G/H}get center(){return this._center}set center(_){_.lat===this._center.lat&&_.lng===this._center.lng||(this._unmodified=!1,this._center=_,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCenterElevation()?this._updateCameraOnTerrain():this._cameraZoom=null:this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._cameraZoom==null||!this._elevation)return;const _=this._cameraZoom,A=this._elevation.getAtPointOrZero(n.MercatorCoordinate.fromLngLat(this.center)),L=n.mercatorZfromAltitude(A,this.center.lat),G=this._mercatorZfromZoom(_),H=this._mercatorZfromZoom(this._maxZoom),ee=Math.max(G-L,H);this._setZoom(this._zoomFromMercatorZ(ee))}get padding(){return this._edgeInsets.toJSON()}set padding(_){this._edgeInsets.equals(_)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,_,1),this._calcMatrices())}computeZoomRelativeTo(_){const A=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,_.toAltitude()));let L;L=_.z<this._camera.position[2]?[A.x,A.y,A.z]:[_.x,_.y,_.z];const G=n.length(n.sub([],this._camera.position,L));return n.clamp(this._zoomFromMercatorZ(G),this._minZoom,this._maxZoom)}setFreeCameraOptions(_){if(!this.height||!_.position&&!_.orientation)return;this._updateCameraState();let A=!1;if(_.orientation&&!n.exactEquals(_.orientation,this._camera.orientation)&&(A=this._setCameraOrientation(_.orientation)),_.position){const L=[_.position.x,_.position.y,_.position.z];n.exactEquals$1(L,this._camera.position)||(this._setCameraPosition(L),A=!0)}A&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const _=this._camera.position,A=new bs;return A.position=new n.MercatorCoordinate(_[0],_[1],_[2]),A.orientation=this._camera.orientation,A._elevation=this.elevation,A._renderWorldCopies=this._renderWorldCopies,A}_setCameraOrientation(_){if(!n.length$1(_))return!1;n.normalize$1(_,_);const A=n.transformQuat([],[0,0,-1],_),L=n.transformQuat([],[0,-1,0],_);if(L[2]<0)return!1;const G=So(A,L);return!!G&&(this._camera.orientation=G,!0)}_setCameraPosition(_){const A=this.zoomScale(this.minZoom)*this.tileSize,L=this.zoomScale(this.maxZoom)*this.tileSize,G=this.cameraToCenterDistance;_[2]=n.clamp(_[2],G/L,G/A),this._camera.position=_}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(_){return this._edgeInsets.equals(_)}interpolatePadding(_,A,L){this._unmodified=!1,this._edgeInsets.interpolate(_,A,L),this._constrain(),this._calcMatrices()}coveringZoomLevel(_){const A=(_.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/_.tileSize));return Math.max(0,A)}getVisibleUnwrappedCoordinates(_){const A=[new n.UnwrappedTileID(0,_)];if(this._renderWorldCopies){const L=this.pointCoordinate(new n.pointGeometry(0,0)),G=this.pointCoordinate(new n.pointGeometry(this.width,0)),H=this.pointCoordinate(new n.pointGeometry(this.width,this.height)),ee=this.pointCoordinate(new n.pointGeometry(0,this.height)),ae=Math.floor(Math.min(L.x,G.x,H.x,ee.x)),de=Math.floor(Math.max(L.x,G.x,H.x,ee.x)),me=1;for(let we=ae-me;we<=de+me;we++)we!==0&&A.push(new n.UnwrappedTileID(we,_))}return A}coveringTiles(_){let A=this.coveringZoomLevel(_);const L=A,G=this.elevation&&!_.isTerrainDEM;if(_.minzoom!==void 0&&A<_.minzoom)return[];_.maxzoom!==void 0&&A>_.maxzoom&&(A=_.maxzoom);const H=n.MercatorCoordinate.fromLngLat(this.center),ee=1<<A,ae=[ee*H.x,ee*H.y,0],de=Q.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,A),me=this.pointCoordinate(this.getCameraPoint()),we=ee*n.mercatorZfromAltitude(1,this.center.lat),Ae=this._camera.position[2]/n.mercatorZfromAltitude(1,this.center.lat),ze=[ee*me.x,ee*me.y,Ae],Xe=this.cameraToCenterDistance/_.tileSize*(_.roundZoom?1:.502),Fe=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation?A:0,Ge=_.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,It=_.isTerrainDEM?-Ge:this._elevation?this._elevation.getMinElevationBelowMSL():0,Je=Pt=>({aabb:new te([Pt*ee,0,It],[(Pt+1)*ee,ee,Ge]),zoom:0,x:0,y:0,wrap:Pt,fullyVisible:!1}),ht=[],wt=[],Bt=A,rr=_.reparseOverscaled?L:A,tr=Pt=>{if(!this._elevation||!Pt.tileID)return;const on=this._elevation.getMinMaxForTile(Pt.tileID),Zr=Pt.aabb;on?(Zr.min[2]=on.min,Zr.max[2]=on.max,Zr.center[2]=(Zr.min[2]+Zr.max[2])/2):(Pt.shouldSplit=Vr(Pt),Pt.shouldSplit||(Zr.min[2]=Zr.max[2]=Zr.center[2]=this._centerAltitude))},wr=Pt=>Pt*Pt,Sr=wr((Ae-this._centerAltitude)*we),Vr=Pt=>{if(Pt.zoom<Fe)return!0;if(Pt.zoom===Bt)return!1;if(Pt.shouldSplit!=null)return Pt.shouldSplit;const on=Pt.aabb.distanceX(ze),Zr=Pt.aabb.distanceY(ze);let kn=Sr;G&&(kn=wr(Pt.aabb.distanceZ(ze)*we));const wn=on*on+Zr*Zr+kn;return wn<wr((1<<Bt-Pt.zoom)*Xe*((Sn,Hn)=>{if(Hn*wr(.707)<Sn)return 1;const Dt=Math.sqrt(Hn/Sn);return Dt/(1.4144271570014144+(Math.pow(1.1,Dt-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(kn,Sr),wn))};if(this._renderWorldCopies)for(let Pt=1;Pt<=3;Pt++)ht.push(Je(-Pt)),ht.push(Je(Pt));for(ht.push(Je(0));ht.length>0;){const Pt=ht.pop(),on=Pt.x,Zr=Pt.y;let kn=Pt.fullyVisible;if(!kn){const wn=Pt.aabb.intersects(de);if(wn===0)continue;kn=wn===2}if(Pt.zoom!==Bt&&Vr(Pt))for(let wn=0;wn<4;wn++){const Sn=(on<<1)+wn%2,Hn=(Zr<<1)+(wn>>1),Dt={aabb:Pt.aabb.quadrant(wn),zoom:Pt.zoom+1,x:Sn,y:Hn,wrap:Pt.wrap,fullyVisible:kn,tileID:void 0,shouldSplit:void 0};G&&(Dt.tileID=new n.OverscaledTileID(Pt.zoom+1===Bt?rr:Pt.zoom+1,Pt.wrap,Pt.zoom+1,Sn,Hn),tr(Dt)),ht.push(Dt)}else{const wn=Pt.zoom===Bt?rr:Pt.zoom;if(_.minzoom&&_.minzoom>wn)continue;const Sn=ae[0]-(.5+on+(Pt.wrap<<Pt.zoom))*(1<<A-Pt.zoom),Hn=ae[1]-.5-Zr,Dt=Pt.tileID?Pt.tileID:new n.OverscaledTileID(wn,Pt.wrap,Pt.zoom,on,Zr);wt.push({tileID:Dt,distanceSq:Sn*Sn+Hn*Hn})}}if(this.fogCullDistSq){const Pt=this.fogCullDistSq;wt.splice(0,wt.length,...wt.filter(on=>{const Zr=[0,0,0,1],kn=[n.EXTENT,n.EXTENT,0,1],wn=this.calculateFogTileMatrix(on.tileID.toUnwrapped());n.transformMat4(Zr,Zr,wn),n.transformMat4(kn,kn,wn);const Sn=n.getAABBPointSquareDist(Zr,kn);if(Sn===0)return!0;let Hn=!1;const Dt=this.horizonLineFromTop();if(Sn>Pt&&Dt!==0){const hr=this.calculateProjMatrix(on.tileID.toUnwrapped());let Jr;G&&this._elevation&&(Jr=this._elevation.getMinMaxForTile(on.tileID)),Jr||(Jr={min:It,max:Ge});const yn=n.furthestTileCorner(this.bearing),Pn=[yn[0]*n.EXTENT,yn[1]*n.EXTENT,Jr.max];n.transformMat4$1(Pn,Pn,hr),Hn=(1-Pn[1])*this.height*.5<Dt}return Sn<Pt||Hn}))}return wt.sort((Pt,on)=>Pt.distanceSq-on.distanceSq).map(Pt=>Pt.tileID)}resize(_,A){this.width=_,this.height=A,this.pixelsToGLUnits=[2/_,-2/A],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(_){return Math.pow(2,_)}scaleZoom(_){return Math.log(_)/Math.LN2}project(_){const A=n.clamp(_.lat,-this.maxValidLatitude,this.maxValidLatitude);return new n.pointGeometry(n.mercatorXfromLng(_.lng)*this.worldSize,n.mercatorYfromLat(A)*this.worldSize)}unproject(_){return new n.MercatorCoordinate(_.x/this.worldSize,_.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}setLocationAtPoint(_,A){const L=this.pointCoordinate(A),G=this.pointCoordinate(this.centerPoint),H=this.locationCoordinate(_),ee=new n.MercatorCoordinate(H.x-(L.x-G.x),H.y-(L.y-G.y));this.center=this.coordinateLocation(ee),this._renderWorldCopies&&(this.center=this.center.wrap())}setLocation(_){this.center=this.coordinateLocation(_),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(_){return this._coordinatePoint(this.locationCoordinate(_),!1)}locationPoint3D(_){return this._coordinatePoint(this.locationCoordinate(_),!0)}pointLocation(_){return this.coordinateLocation(this.pointCoordinate(_))}pointLocation3D(_){return this.coordinateLocation(this.pointCoordinate3D(_))}locationCoordinate(_){return n.MercatorCoordinate.fromLngLat(_)}coordinateLocation(_){return _.toLngLat()}pointRayIntersection(_,A){const L=A!=null?A:this._centerAltitude,G=[_.x,_.y,0,1],H=[_.x,_.y,1,1];n.transformMat4(G,G,this.pixelMatrixInverse),n.transformMat4(H,H,this.pixelMatrixInverse);const ee=H[3];n.scale$2(G,G,1/G[3]),n.scale$2(H,H,1/ee);const ae=G[2],de=H[2];return{p0:G,p1:H,t:ae===de?0:(L-ae)/(de-ae)}}screenPointToMercatorRay(_){const A=[_.x,_.y,0,1],L=[_.x,_.y,1,1];return n.transformMat4(A,A,this.pixelMatrixInverse),n.transformMat4(L,L,this.pixelMatrixInverse),n.scale$2(A,A,1/A[3]),n.scale$2(L,L,1/L[3]),A[2]=n.mercatorZfromAltitude(A[2],this._center.lat)*this.worldSize,L[2]=n.mercatorZfromAltitude(L[2],this._center.lat)*this.worldSize,n.scale$2(A,A,1/this.worldSize),n.scale$2(L,L,1/this.worldSize),new Y([A[0],A[1],A[2]],n.normalize([],n.sub([],L,A)))}rayIntersectionCoordinate(_){const{p0:A,p1:L,t:G}=_,H=n.mercatorZfromAltitude(A[2],this._center.lat),ee=n.mercatorZfromAltitude(L[2],this._center.lat);return new n.MercatorCoordinate(n.number(A[0],L[0],G)/this.worldSize,n.number(A[1],L[1],G)/this.worldSize,n.number(H,ee,G))}pointCoordinate(_){const A=this.horizonLineFromTop(!1),L=new n.pointGeometry(_.x,Math.max(A,_.y));return this.rayIntersectionCoordinate(this.pointRayIntersection(L))}pointCoordinate3D(_){if(!this.elevation)return this.pointCoordinate(_);const A=this.elevation;let L=this.elevation.pointCoordinate(_);if(L)return new n.MercatorCoordinate(L[0],L[1],L[2]);let G=0,H=this.horizonLineFromTop();if(_.y>H)return this.pointCoordinate(_);const ee=.02*H,ae=_.clone();for(let de=0;de<10&&H-G>ee;de++){ae.y=n.number(G,H,.66);const me=A.pointCoordinate(ae);me?(H=ae.y,L=me):G=ae.y}return L?new n.MercatorCoordinate(L[0],L[1],L[2]):this.pointCoordinate(_)}isPointAboveHorizon(_){if(this.elevation)return!this.elevation.pointCoordinate(_);{const A=this.horizonLineFromTop();return _.y<A}}_coordinatePoint(_,A){const L=A&&this.elevation?this.elevation.getAtPointOrZero(_,this._centerAltitude):this._centerAltitude,G=[_.x*this.worldSize,_.y*this.worldSize,L+_.toAltitude(),1];return n.transformMat4(G,G,this.pixelMatrix),G[3]>0?new n.pointGeometry(G[0]/G[3],G[1]/G[3]):new n.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}getBounds(){return this._terrainEnabled()?this._getBounds3D():new n.LngLatBounds().extend(this.pointLocation(new n.pointGeometry(this._edgeInsets.left,this._edgeInsets.top))).extend(this.pointLocation(new n.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top))).extend(this.pointLocation(new n.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom))).extend(this.pointLocation(new n.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom)))}_getBounds3D(){const _=this.elevation,A=_.visibleDemTiles.reduce((G,H)=>{if(H.dem){const ee=H.dem.tree;G.min=Math.min(G.min,ee.minimums[0]),G.max=Math.max(G.max,ee.maximums[0])}return G},{min:Number.MAX_VALUE,max:0});A.min*=_.exaggeration(),A.max*=_.exaggeration();const L=this.horizonLineFromTop();return[new n.pointGeometry(0,L),new n.pointGeometry(this.width,L),new n.pointGeometry(this.width,this.height),new n.pointGeometry(0,this.height)].reduce((G,H)=>G.extend(this.coordinateLocation(this.rayIntersectionCoordinate(this.pointRayIntersection(H,A.min)))).extend(this.coordinateLocation(this.rayIntersectionCoordinate(this.pointRayIntersection(H,A.max)))),new n.LngLatBounds)}horizonLineFromTop(_=!0){const A=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,L=this.height/2-.97*A;return _?Math.max(0,L):L}getMaxBounds(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new n.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}setMaxBounds(_){_?(this.lngRange=[_.getWest(),_.getEast()],this.latRange=[_.getSouth(),_.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(_,A){const L=_.canonical,G=A/this.zoomScale(L.z),H=L.x+Math.pow(2,L.z)*_.wrap,ee=n.identity(new Float64Array(16));return n.translate(ee,ee,[H*G,L.y*G,0]),n.scale$1(ee,ee,[G/n.EXTENT,G/n.EXTENT,1]),ee}calculateFogTileMatrix(_){const A=_.key,L=this._fogTileMatrixCache;if(L[A])return L[A];const G=this.calculatePosMatrix(_,this.cameraWorldSize);return n.multiply(G,this.worldToFogMatrix,G),L[A]=new Float32Array(G),L[A]}calculateProjMatrix(_,A=!1){const L=_.key,G=A?this._alignedProjMatrixCache:this._projMatrixCache;if(G[L])return G[L];const H=this.calculatePosMatrix(_,this.worldSize);return n.multiply(H,A?this.alignedProjMatrix:this.projMatrix,H),G[L]=new Float32Array(H),G[L]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation)return;const _=this._elevation;this._updateCameraState();const A=this._camera.position,L=this._camera.forward();if(A[2]<=0||L[2]>=0)return;const G=n.mercatorZfromAltitude(1,this._center.lat);A[2]/=G,L[2]/=G,n.normalize(L,L);const H=_.raycast(A,L,_.exaggeration());if(H){const ee=n.scaleAndAdd([],A,L,H),ae=new n.MercatorCoordinate(ee[0],ee[1],n.mercatorZfromAltitude(ee[2],n.latFromMercatorY(ee[1]))),de=this._camera.position,me=ae.z+n.length([ae.x-de[0],ae.y-de[1],ae.z-de[2]]);this._cameraZoom=this._zoomFromMercatorZ(me),this._centerAltitude=ae.toAltitude(),this._center=ae.toLngLat(),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const _=this._elevation;this._updateCameraState();const A=_.getAtPointOrZero(this._camera.mercatorPosition),L=this._minimumHeightOverTerrain()*Math.cos(n.degToRad(this._maxPitch)),G=n.mercatorZfromAltitude(A,this._center.lat),H=this._camera.position[2]-G;if(H<L){const ee=n.MercatorCoordinate.fromLngLat(this._center,this._centerAltitude),ae=this._camera.mercatorPosition,de=[ee.x-ae.x,ee.y-ae.y,ee.z-ae.z],me=n.length(de);de[2]-=L-H;const we=n.length(de);if(we===0)return;n.scale(de,de,me/we),this._camera.position=[ee.x-de[0],ee.y-de[1],ee.z-de[2]],this._camera.orientation=So(de,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let _,A,L,G,H=-90,ee=90,ae=-180,de=180;const me=this.size,we=this._unmodified;if(this.latRange){const Xe=this.latRange;H=n.mercatorYfromLat(Xe[1])*this.worldSize,ee=n.mercatorYfromLat(Xe[0])*this.worldSize,_=ee-H<me.y?me.y/(ee-H):0}if(this.lngRange){const Xe=this.lngRange;ae=n.mercatorXfromLng(Xe[0])*this.worldSize,de=n.mercatorXfromLng(Xe[1])*this.worldSize,A=de-ae<me.x?me.x/(de-ae):0}const Ae=this.point,ze=Math.max(A||0,_||0);if(ze)return this.center=this.unproject(new n.pointGeometry(A?(de+ae)/2:Ae.x,_?(ee+H)/2:Ae.y)),this.zoom+=this.scaleZoom(ze),this._unmodified=we,void(this._constraining=!1);if(this.latRange){const Xe=Ae.y,Fe=me.y/2;Xe-Fe<H&&(G=H+Fe),Xe+Fe>ee&&(G=ee-Fe)}if(this.lngRange){const Xe=Ae.x,Fe=me.x/2;Xe-Fe<ae&&(L=ae+Fe),Xe+Fe>de&&(L=de-Fe)}L===void 0&&G===void 0||(this.center=this.unproject(new n.pointGeometry(L!==void 0?L:Ae.x,G!==void 0?G:Ae.y))),this._constrainCameraAltitude(),this._unmodified=we,this._constraining=!1}_minZoomForBounds(){const _=(G,H)=>Math.log2(G/(this.tileSize*Math.abs(H[1]-H[0])));let A=0;if(this.latRange){const G=this.latRange;A=_(this.height,[n.mercatorYfromLat(G[0]),n.mercatorYfromLat(G[1])])}let L=0;if(this.lngRange){const G=this.lngRange;L=_(this.width,[n.mercatorXfromLng(G[0]),n.mercatorXfromLng(G[1])])}return Math.max(A,L)}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const _=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;const A=this.pixelsPerMeter;this._updateCameraState();const L=Math.PI/2+this._pitch,G=this.fovAboveCenter,H=this.elevation?this.elevation.getMinElevationBelowMSL()*A:0,ee=(this._camera.position[2]*this.worldSize-H)/Math.cos(this._pitch),ae=Math.sin(G)*ee/Math.sin(n.clamp(Math.PI-L-G,.01,Math.PI-.01)),de=this.point,me=de.x,we=de.y,Ae=Math.cos(Math.PI/2-this._pitch)*ae+ee,ze=Math.min(1.01*Ae,ee*(1/this._horizonShift)),Xe=this.height/50,Fe=this._camera.getWorldToCamera(this.worldSize,A),Ge=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,Xe,ze);Ge[8]=2*-_.x/this.width,Ge[9]=2*_.y/this.height;let It=n.mul$1([],Ge,Fe);this.mercatorMatrix=n.scale$1([],It,[this.worldSize,this.worldSize,this.worldSize/A]),this.projMatrix=It,this.invProjMatrix=n.invert(new Float64Array(16),this.projMatrix);const Je=new Float32Array(16);n.identity(Je),n.scale$1(Je,Je,[1,-1,1]),n.rotateX(Je,Je,this._pitch),n.rotateZ(Je,Je,this.angle);const ht=n.perspective(new Float32Array(16),this._fov,this.width/this.height,Xe,ze),wt=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;ht[8]=2*-_.x/this.width,ht[9]=2*(_.y+wt)/this.height,this.skyboxMatrix=n.multiply(Je,ht,Je);const Bt=this.width%2/2,rr=this.height%2/2,tr=Math.cos(this.angle),wr=Math.sin(this.angle),Sr=me-Math.round(me)+tr*Bt+wr*rr,Vr=we-Math.round(we)+tr*rr+wr*Bt,Pt=new Float64Array(It);if(n.translate(Pt,Pt,[Sr>.5?Sr-1:Sr,Vr>.5?Vr-1:Vr,0]),this.alignedProjMatrix=Pt,It=n.create$1(),n.scale$1(It,It,[this.width/2,-this.height/2,1]),n.translate(It,It,[1,-1,0]),this.labelPlaneMatrix=It,It=n.create$1(),n.scale$1(It,It,[1,-1,1]),n.translate(It,It,[-1,-1,0]),n.scale$1(It,It,[2/this.width,2/this.height,1]),this.glCoordMatrix=It,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),It=n.invert(new Float64Array(16),this.pixelMatrix),!It)throw new Error("failed to invert matrix");this.pixelMatrixInverse=It,this._projMatrixCache={},this._alignedProjMatrixCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const _=this.cameraWorldSize,A=this.cameraPixelsPerMeter,L=this._camera.position,G=1/this.height,H=[_,_,A];n.scale(H,H,G),n.scale(L,L,-1),n.multiply$1(L,L,H);const ee=n.create$1();n.translate(ee,ee,L),n.scale$1(ee,ee,H),this.mercatorFogMatrix=ee,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(_,A,G)}_updateCameraState(){if(!this.height)return;this._camera.setPitchBearing(this._pitch,this.angle);const _=this._camera.forward(),A=this.cameraToCenterDistance,L=this.point,G=this._mercatorZfromZoom(this._cameraZoom?this._cameraZoom:this._zoom)-n.mercatorZfromAltitude(this._centerAltitude,this.center.lat),H=this.cameraToCenterDistance/G;this._camera.position=[L.x/this.worldSize-_[0]*A/H,L.y/this.worldSize-_[1]*A/H,n.mercatorZfromAltitude(this._centerAltitude,this._center.lat)+-_[2]*A/H]}_translateCameraConstrained(_){const A=this._maxCameraBoundsDistance()*Math.cos(this._pitch),L=_[2];let G=1;L>0&&(G=Math.min((A-this._camera.position[2])/L,1)),this._camera.position=n.scaleAndAdd([],this._camera.position,_,G),this._updateStateFromCamera()}_updateStateFromCamera(){const _=this._camera.position,A=this._camera.forward(),{pitch:L,bearing:G}=this._camera.getPitchBearing(),H=n.mercatorZfromAltitude(this._centerAltitude,this.center.lat),ee=this._mercatorZfromZoom(this._maxZoom)*Math.cos(n.degToRad(this._maxPitch)),ae=Math.max((_[2]-H)/Math.cos(L),ee),de=this._zoomFromMercatorZ(ae);n.scaleAndAdd(_,_,A,ae),this._pitch=n.clamp(L,n.degToRad(this.minPitch),n.degToRad(this.maxPitch)),this.angle=n.wrap(G,-Math.PI,Math.PI),this._setZoom(n.clamp(de,this._minZoom,this._maxZoom)),this._terrainEnabled()&&this._updateCameraOnTerrain(),this._center=new n.MercatorCoordinate(_[0],_[1],_[2]).toLngLat(),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(_){return Math.pow(2,_)*this.tileSize}_mercatorZfromZoom(_){return this.cameraToCenterDistance/this._worldSizeFromZoom(_)}_minimumHeightOverTerrain(){const _=Math.min((this._cameraZoom!=null?this._cameraZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(_)}_zoomFromMercatorZ(_){return this.scaleZoom(this.cameraToCenterDistance/(_*this.tileSize))}_terrainEnabled(){return!!this._elevation}isHorizonVisibleForPoints(_,A){const L=Math.min(_.x,A.x),G=Math.max(_.x,A.x),H=Math.min(_.y,A.y),ee=Math.max(_.y,A.y),ae=[new n.pointGeometry(L,H),new n.pointGeometry(G,ee),new n.pointGeometry(L,ee),new n.pointGeometry(G,H)],de=this._renderWorldCopies?-3:0,me=this._renderWorldCopies?4:1;for(const we of ae){const Ae=this.pointRayIntersection(we);if(Ae.t<0)return!0;const ze=this.rayIntersectionCoordinate(Ae);if(ze.x<de||ze.y<0||ze.x>me||ze.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+n.radToDeg(this.fovAboveCenter)>88||this.isHorizonVisibleForPoints(new n.pointGeometry(0,0),new n.pointGeometry(this.width,this.height))}zoomDeltaToMovement(_,A){const L=n.length(n.sub([],this._camera.position,_)),G=this._zoomFromMercatorZ(L)+A;return L-this._mercatorZfromZoom(G)}getCameraPoint(){const _=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.pointGeometry(0,_))}}class Xs{constructor(_){this._hashName=_&&encodeURIComponent(_),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=function(A,L){let G=!1,H=null;const ee=()=>{H=null,G&&(A(),H=setTimeout(ee,300),G=!1)};return()=>(G=!0,H||ee(),H)}(this._updateHashUnthrottled.bind(this))}addTo(_){return this._map=_,n.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return n.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(_){const A=this._map.getCenter(),L=Math.round(100*this._map.getZoom())/100,G=Math.ceil((L*Math.LN2+Math.log(512/360/.5))/Math.LN10),H=Math.pow(10,G),ee=Math.round(A.lng*H)/H,ae=Math.round(A.lat*H)/H,de=this._map.getBearing(),me=this._map.getPitch();let we="";if(we+=_?`/${ee}/${ae}/${L}`:`${L}/${ae}/${ee}`,(de||me)&&(we+="/"+Math.round(10*de)/10),me&&(we+="/"+Math.round(me)),this._hashName){const Ae=this._hashName;let ze=!1;const Xe=n.window.location.hash.slice(1).split("&").map(Fe=>{const Ge=Fe.split("=")[0];return Ge===Ae?(ze=!0,`${Ge}=${we}`):Fe}).filter(Fe=>Fe);return ze||Xe.push(`${Ae}=${we}`),"#"+Xe.join("&")}return"#"+we}_getCurrentHash(){const _=n.window.location.hash.replace("#","");if(this._hashName){let A;return _.split("&").map(L=>L.split("=")).forEach(L=>{L[0]===this._hashName&&(A=L)}),(A&&A[1]||"").split("/")}return _.split("/")}_onHashChange(){const _=this._getCurrentHash();if(_.length>=3&&!_.some(A=>isNaN(A))){const A=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(_[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+_[2],+_[1]],zoom:+_[0],bearing:A,pitch:+(_[4]||0)}),!0}return!1}_updateHashUnthrottled(){const _=n.window.location.href.replace(/(#.+)?$/,this.getHashString());n.window.history.replaceState(n.window.history.state,null,_)}}const Na={linearity:.3,easing:n.bezier(0,0,.3,1)},Wo=n.extend({deceleration:2500,maxSpeed:1400},Na),Os=n.extend({deceleration:20,maxSpeed:1400},Na),Xa=n.extend({deceleration:1e3,maxSpeed:360},Na),Ya=n.extend({deceleration:1e3,maxSpeed:90},Na);class ra{constructor(_){this._map=_,this.clear()}clear(){this._inertiaBuffer=[]}record(_){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.exported.now(),settings:_})}_drainInertiaBuffer(){const _=this._inertiaBuffer,A=n.exported.now();for(;_.length>0&&A-_[0].time>160;)_.shift()}_onMoveEnd(_){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const A={zoom:0,bearing:0,pitch:0,pan:new n.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:H}of this._inertiaBuffer)A.zoom+=H.zoomDelta||0,A.bearing+=H.bearingDelta||0,A.pitch+=H.pitchDelta||0,H.panDelta&&A.pan._add(H.panDelta),H.around&&(A.around=H.around),H.pinchAround&&(A.pinchAround=H.pinchAround);const L=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,G={};if(A.pan.mag()){const H=_s(A.pan.mag(),L,n.extend({},Wo,_||{}));G.offset=A.pan.mult(H.amount/A.pan.mag()),G.center=this._map.transform.center,na(G,H)}if(A.zoom){const H=_s(A.zoom,L,Os);G.zoom=this._map.transform.zoom+H.amount,na(G,H)}if(A.bearing){const H=_s(A.bearing,L,Xa);G.bearing=this._map.transform.bearing+n.clamp(H.amount,-179,179),na(G,H)}if(A.pitch){const H=_s(A.pitch,L,Ya);G.pitch=this._map.transform.pitch+H.amount,na(G,H)}if(G.zoom||G.bearing){const H=A.pinchAround===void 0?A.around:A.pinchAround;G.around=H?this._map.unproject(H):this._map.getCenter()}return this.clear(),n.extend(G,{noMoveStart:!0})}}function na(D,_){(!D.duration||D.duration<_.duration)&&(D.duration=_.duration,D.easing=_.easing)}function _s(D,_,A){const{maxSpeed:L,linearity:G,deceleration:H}=A,ee=n.clamp(D*G/(_/1e3),-L,L),ae=Math.abs(ee)/(H*G);return{easing:A.easing,duration:1e3*ae,amount:ee*(ae/2)}}class Oo extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(_,A,L,G={}){const H=$.mousePos(A.getCanvasContainer(),L),ee=A.unproject(H);super(_,n.extend({point:H,lngLat:ee,originalEvent:L},G)),this._defaultPrevented=!1,this.target=A}}class xs extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(_,A,L){const G=_==="touchend"?L.changedTouches:L.touches,H=$.touchPos(A.getCanvasContainer(),G),ee=H.map(de=>A.unproject(de)),ae=H.reduce((de,me,we,Ae)=>de.add(me.div(Ae.length)),new n.pointGeometry(0,0));super(_,{points:H,point:ae,lngLats:ee,lngLat:A.unproject(ae),originalEvent:L}),this._defaultPrevented=!1}}class ia extends n.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(_,A,L){super(_,{originalEvent:L}),this._defaultPrevented=!1}}class cl{constructor(_,A){this._map=_,this._clickTolerance=A.clickTolerance}reset(){delete this._mousedownPos}wheel(_){return this._firePreventable(new ia(_.type,this._map,_))}mousedown(_,A){return this._mousedownPos=A,this._firePreventable(new Oo(_.type,this._map,_))}mouseup(_){this._map.fire(new Oo(_.type,this._map,_))}click(_,A){this._mousedownPos&&this._mousedownPos.dist(A)>=this._clickTolerance||this._map.fire(new Oo(_.type,this._map,_))}dblclick(_){return this._firePreventable(new Oo(_.type,this._map,_))}mouseover(_){this._map.fire(new Oo(_.type,this._map,_))}mouseout(_){this._map.fire(new Oo(_.type,this._map,_))}touchstart(_){return this._firePreventable(new xs(_.type,this._map,_))}touchmove(_){this._map.fire(new xs(_.type,this._map,_))}touchend(_){this._map.fire(new xs(_.type,this._map,_))}touchcancel(_){this._map.fire(new xs(_.type,this._map,_))}_firePreventable(_){if(this._map.fire(_),_.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class fo{constructor(_){this._map=_}reset(){this._delayContextMenu=!1,delete this._contextMenuEvent}mousemove(_){this._map.fire(new Oo(_.type,this._map,_))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Oo("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(_){this._delayContextMenu?this._contextMenuEvent=_:this._map.fire(new Oo(_.type,this._map,_)),this._map.listens("contextmenu")&&_.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ul{constructor(_,A){this._map=_,this._el=_.getCanvasContainer(),this._container=_.getContainer(),this._clickTolerance=A.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(_,A){this.isEnabled()&&_.shiftKey&&_.button===0&&($.disableDrag(),this._startPos=this._lastPos=A,this._active=!0)}mousemoveWindow(_,A){if(!this._active)return;const L=A;if(this._lastPos.equals(L)||!this._box&&L.dist(this._startPos)<this._clickTolerance)return;const G=this._startPos;this._lastPos=L,this._box||(this._box=$.create("div","vjmapgis-boxzoom",this._container),this._container.classList.add("vjmapgis-crosshair"),this._fireEvent("boxzoomstart",_));const H=Math.min(G.x,L.x),ee=Math.max(G.x,L.x),ae=Math.min(G.y,L.y),de=Math.max(G.y,L.y);this._map._requestDomTask(()=>{this._box&&($.setTransform(this._box,`translate(${H}px,${ae}px)`),this._box.style.width=ee-H+"px",this._box.style.height=de-ae+"px")})}mouseupWindow(_,A){if(!this._active||_.button!==0)return;const L=this._startPos,G=A;if(this.reset(),$.suppressClick(),L.x!==G.x||L.y!==G.y)return this._map.fire(new n.Event("boxzoomend",{originalEvent:_})),{cameraAnimation:H=>H.fitScreenCoordinates(L,G,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",_)}keydown(_){this._active&&_.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",_))}reset(){this._active=!1,this._container.classList.remove("vjmapgis-crosshair"),this._box&&($.remove(this._box),this._box=null),$.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(_,A){return this._map.fire(new n.Event(_,{originalEvent:A}))}}function oa(D,_){const A={};for(let L=0;L<D.length;L++)A[D[L].identifier]=_[L];return A}class El{constructor(_){this.reset(),this.numTouches=_.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(_,A,L){(this.centroid||L.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=_.timeStamp),L.length===this.numTouches&&(this.centroid=function(G){const H=new n.pointGeometry(0,0);for(const ee of G)H._add(ee);return H.div(G.length)}(A),this.touches=oa(L,A)))}touchmove(_,A,L){if(this.aborted||!this.centroid)return;const G=oa(L,A);for(const H in this.touches){const ee=this.touches[H],ae=G[H];(!ae||ae.dist(ee)>30)&&(this.aborted=!0)}}touchend(_,A,L){if((!this.centroid||_.timeStamp-this.startTime>500)&&(this.aborted=!0),L.length===0){const G=!this.aborted&&this.centroid;if(this.reset(),G)return G}}}class ba{constructor(_){this.singleTap=new El(_),this.numTaps=_.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(_,A,L){this.singleTap.touchstart(_,A,L)}touchmove(_,A,L){this.singleTap.touchmove(_,A,L)}touchend(_,A,L){const G=this.singleTap.touchend(_,A,L);if(G){const H=_.timeStamp-this.lastTime<500,ee=!this.lastTap||this.lastTap.dist(G)<30;if(H&&ee||this.reset(),this.count++,this.lastTime=_.timeStamp,this.lastTap=G,this.count===this.numTaps)return this.reset(),G}}}class ws{constructor(){this._zoomIn=new ba({numTouches:1,numTaps:2}),this._zoomOut=new ba({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(_,A,L){this._zoomIn.touchstart(_,A,L),this._zoomOut.touchstart(_,A,L)}touchmove(_,A,L){this._zoomIn.touchmove(_,A,L),this._zoomOut.touchmove(_,A,L)}touchend(_,A,L){const G=this._zoomIn.touchend(_,A,L),H=this._zoomOut.touchend(_,A,L);return G?(this._active=!0,_.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ee=>ee.easeTo({duration:300,zoom:ee.getZoom()+1,around:ee.unproject(G)},{originalEvent:_})}):H?(this._active=!0,_.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:ee=>ee.easeTo({duration:300,zoom:ee.getZoom()-1,around:ee.unproject(H)},{originalEvent:_})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const Gl={0:1,2:2};class dl{constructor(_){this.reset(),this._clickTolerance=_.clickTolerance||1}reset(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton}_correctButton(_,A){return!1}_move(_,A){return{}}mousedown(_,A){if(this._lastPoint)return;const L=$.mouseButton(_);this._correctButton(_,L)&&(this._lastPoint=A,this._eventButton=L)}mousemoveWindow(_,A){const L=this._lastPoint;if(L){if(_.preventDefault(),function(G,H){const ee=Gl[H];return G.buttons===void 0||(G.buttons&ee)!==ee}(_,this._eventButton))this.reset();else if(this._moved||!(A.dist(L)<this._clickTolerance))return this._moved=!0,this._lastPoint=A,this._move(L,A)}}mouseupWindow(_){this._lastPoint&&$.mouseButton(_)===this._eventButton&&(this._moved&&$.suppressClick(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Tl extends dl{mousedown(_,A){super.mousedown(_,A),this._lastPoint&&(this._active=!0)}_correctButton(_,A){return A===0&&!_.ctrlKey}_move(_,A){return{around:A,panDelta:A.sub(_)}}}class hl extends dl{_correctButton(_,A){return A===0&&_.ctrlKey||A===2}_move(_,A){const L=.8*(A.x-_.x);if(L)return this._active=!0,{bearingDelta:L}}contextmenu(_){_.preventDefault()}}class Ys extends dl{_correctButton(_,A){return A===0&&_.ctrlKey||A===2}_move(_,A){const L=-.5*(A.y-_.y);if(L)return this._active=!0,{pitchDelta:L}}contextmenu(_){_.preventDefault()}}class Ma{constructor(_){this._minTouches=1,this._clickTolerance=_.clickTolerance||1,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new n.pointGeometry(0,0)}touchstart(_,A,L){return this._calculateTransform(_,A,L)}touchmove(_,A,L){if(this._active&&!(L.length<this._minTouches))return _.preventDefault(),this._calculateTransform(_,A,L)}touchend(_,A,L){this._calculateTransform(_,A,L),this._active&&L.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(_,A,L){L.length>0&&(this._active=!0);const G=oa(L,A),H=new n.pointGeometry(0,0),ee=new n.pointGeometry(0,0);let ae=0;for(const me in G){const we=G[me],Ae=this._touches[me];Ae&&(H._add(we),ee._add(we.sub(Ae)),ae++,G[me]=we)}if(this._touches=G,ae<this._minTouches||!ee.mag())return;const de=ee.div(ae);return this._sum._add(de),this._sum.mag()<this._clickTolerance?void 0:{around:H.div(ae),panDelta:de}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class z{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}_start(_){}_move(_,A,L){return{}}touchstart(_,A,L){this._firstTwoTouches||L.length<2||(this._firstTwoTouches=[L[0].identifier,L[1].identifier],this._start([A[0],A[1]]))}touchmove(_,A,L){if(!this._firstTwoTouches)return;_.preventDefault();const[G,H]=this._firstTwoTouches,ee=W(L,A,G),ae=W(L,A,H);if(!ee||!ae)return;const de=this._aroundCenter?null:ee.add(ae).div(2);return this._move([ee,ae],de,_)}touchend(_,A,L){if(!this._firstTwoTouches)return;const[G,H]=this._firstTwoTouches,ee=W(L,A,G),ae=W(L,A,H);ee&&ae||(this._active&&$.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(_){this._enabled=!0,this._aroundCenter=!!_&&_.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function W(D,_,A){for(let L=0;L<D.length;L++)if(D[L].identifier===A)return _[L]}function J(D,_){return Math.log(D/_)/Math.LN2}class ue extends z{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(_){this._startDistance=this._distance=_[0].dist(_[1])}_move(_,A){const L=this._distance;if(this._distance=_[0].dist(_[1]),this._active||!(Math.abs(J(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:J(this._distance,L),pinchAround:A}}}function pe(D,_){return 180*D.angleWith(_)/Math.PI}class Se extends z{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(_){this._startVector=this._vector=_[0].sub(_[1]),this._minDiameter=_[0].dist(_[1])}_move(_,A){const L=this._vector;if(this._vector=_[0].sub(_[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:pe(this._vector,L),pinchAround:A}}_isBelowThreshold(_){this._minDiameter=Math.min(this._minDiameter,_.mag());const A=25/(Math.PI*this._minDiameter)*360,L=pe(_,this._startVector);return Math.abs(L)<A}}function Pe(D){return Math.abs(D.y)>Math.abs(D.x)}class qe extends z{reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}_start(_){this._lastPoints=_,Pe(_[0].sub(_[1]))&&(this._valid=!1)}_move(_,A,L){const G=_[0].sub(this._lastPoints[0]),H=_[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(G,H,L.timeStamp),this._valid)return this._lastPoints=_,this._active=!0,{pitchDelta:(G.y+H.y)/2*-.5}}gestureBeginsVertically(_,A,L){if(this._valid!==void 0)return this._valid;const G=_.mag()>=2,H=A.mag()>=2;if(!G&&!H)return;if(!G||!H)return this._firstMove===void 0&&(this._firstMove=L),L-this._firstMove<100&&void 0;const ee=_.y>0==A.y>0;return Pe(_)&&Pe(A)&&ee}}const Ue={panStep:100,bearingStep:15,pitchStep:10};class dt{constructor(){const _=Ue;this._panStep=_.panStep,this._bearingStep=_.bearingStep,this._pitchStep=_.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(_){if(_.altKey||_.ctrlKey||_.metaKey)return;let A=0,L=0,G=0,H=0,ee=0;switch(_.keyCode){case 61:case 107:case 171:case 187:A=1;break;case 189:case 109:case 173:A=-1;break;case 37:_.shiftKey?L=-1:(_.preventDefault(),H=-1);break;case 39:_.shiftKey?L=1:(_.preventDefault(),H=1);break;case 38:_.shiftKey?G=1:(_.preventDefault(),ee=-1);break;case 40:_.shiftKey?G=-1:(_.preventDefault(),ee=1);break;default:return}return this._rotationDisabled&&(L=0,G=0),{cameraAnimation:ae=>{const de=ae.getZoom();ae.easeTo({duration:300,easeId:"keyboardHandler",easing:et,zoom:A?Math.round(de)+A*(_.shiftKey?2:1):de,bearing:ae.getBearing()+L*this._bearingStep,pitch:ae.getPitch()+G*this._pitchStep,offset:[-H*this._panStep,-ee*this._panStep],center:ae.getCenter()},{originalEvent:_})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function et(D){return D*(2-D)}const At=4.000244140625;class Lt{constructor(_,A){this._map=_,this._el=_.getCanvasContainer(),this._handler=A,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,n.bindAll(["_onTimeout"],this)}setZoomRate(_){this._defaultZoomRate=_}setWheelZoomRate(_){this._wheelZoomRate=_}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(_){this.isEnabled()||(this._enabled=!0,this._aroundCenter=_&&_.around==="center")}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(_){if(!this.isEnabled())return;let A=_.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?40*_.deltaY:_.deltaY;const L=n.exported.now(),G=L-(this._lastWheelEventTime||0);this._lastWheelEventTime=L,A!==0&&A%At==0?this._type="wheel":A!==0&&Math.abs(A)<4?this._type="trackpad":G>400?(this._type=null,this._lastValue=A,this._timeout=setTimeout(this._onTimeout,40,_)):this._type||(this._type=Math.abs(G*A)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,A+=this._lastValue)),_.shiftKey&&A&&(A/=4),this._type&&(this._lastWheelEvent=_,this._delta-=A,this._active||this._start(_)),_.preventDefault()}_onTimeout(_){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(_)}_start(_){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const A=$.mousePos(this._el,_);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:A,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const _=this._map.transform,A=()=>_._terrainEnabled()?_.computeZoomRelativeTo(this._aroundCoord):_.zoom;if(this._delta!==0){const de=this._type==="wheel"&&Math.abs(this._delta)>At?this._wheelZoomRate:this._defaultZoomRate;let me=2/(1+Math.exp(-Math.abs(this._delta*de)));this._delta<0&&me!==0&&(me=1/me);const we=A(),Ae=Math.pow(2,we),ze=typeof this._targetZoom=="number"?_.zoomScale(this._targetZoom):Ae;this._targetZoom=Math.min(_.maxZoom,Math.max(_.minZoom,_.scaleZoom(ze*me))),this._type==="wheel"&&(this._startZoom=A(),this._easing=this._smoothOutEasing(200)),this._delta=0}const L=typeof this._targetZoom=="number"?this._targetZoom:A(),G=this._startZoom,H=this._easing;let ee,ae=!1;if(this._type==="wheel"&&G&&H){const de=Math.min((n.exported.now()-this._lastWheelEventTime)/200,1),me=H(de);ee=n.number(G,L,me),de<1?this._frameId||(this._frameId=!0):ae=!0}else ee=L,ae=!0;return this._active=!0,ae&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!ae,zoomDelta:ee-A(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(_){let A=n.ease;if(this._prevEase){const L=this._prevEase,G=(n.exported.now()-L.start)/L.duration,H=L.easing(G+.01)-L.easing(G),ee=.27/Math.sqrt(H*H+1e-4)*.01,ae=Math.sqrt(.0729-ee*ee);A=n.bezier(ee,ae,.25,1)}return this._prevEase={start:n.exported.now(),duration:_,easing:A},A}reset(){this._active=!1}}class nr{constructor(_,A){this._clickZoom=_,this._tapZoom=A}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class fr{constructor(){this.reset()}reset(){this._active=!1}dblclick(_,A){return _.preventDefault(),{cameraAnimation:L=>{L.easeTo({duration:300,zoom:L.getZoom()+(_.shiftKey?-1:1),around:L.unproject(A)},{originalEvent:_})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class dn{constructor(){this._tap=new ba({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()}touchstart(_,A,L){this._swipePoint||(this._tapTime&&_.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?L.length>0&&(this._swipePoint=A[0],this._swipeTouch=L[0].identifier):this._tap.touchstart(_,A,L))}touchmove(_,A,L){if(this._tapTime){if(this._swipePoint){if(L[0].identifier!==this._swipeTouch)return;const G=A[0],H=G.y-this._swipePoint.y;return this._swipePoint=G,_.preventDefault(),this._active=!0,{zoomDelta:H/128}}}else this._tap.touchmove(_,A,L)}touchend(_,A,L){this._tapTime?this._swipePoint&&L.length===0&&this.reset():this._tap.touchend(_,A,L)&&(this._tapTime=_.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class hn{constructor(_,A,L){this._el=_,this._mousePan=A,this._touchPan=L}enable(_){this._inertiaOptions=_||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("vjmapgis-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("vjmapgis-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class nn{constructor(_,A,L){this._pitchWithRotate=_.pitchWithRotate,this._mouseRotate=A,this._mousePitch=L}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class vt{constructor(_,A,L,G){this._el=_,this._touchZoom=A,this._touchRotate=L,this._tapDragZoom=G,this._rotationDisabled=!1,this._enabled=!0}enable(_){this._touchZoom.enable(_),this._rotationDisabled||this._touchRotate.enable(_),this._tapDragZoom.enable(),this._el.classList.add("vjmapgis-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("vjmapgis-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const Wt=D=>D.zoom||D.drag||D.pitch||D.rotate;class Rr extends n.Event{}class Ir{constructor(){this.constants=[1,1,.01],this.radius=0}setup(_,A){const L=n.sub([],A,_);this.radius=n.length(L[2]<0?n.div([],L,this.constants):[L[0],L[1],0])}projectRay(_){n.div(_,_,this.constants),n.normalize(_,_),n.mul$2(_,_,this.constants);const A=n.scale([],_,this.radius);if(A[2]>0){const L=n.scale([],[0,0,1],n.dot(A,[0,0,1])),G=n.scale([],n.normalize([],[A[0],A[1],0]),this.radius),H=n.add([],A,n.scale([],n.sub([],n.add([],G,L),A),2));A[0]=H[0],A[1]=H[1]}return A}}function gn(D){return D.panDelta&&D.panDelta.mag()||D.zoomDelta||D.bearingDelta||D.pitchDelta}class bn{constructor(_,A){this._map=_,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ra(_),this._bearingSnap=A.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Ir,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(A),n.bindAll(["handleEvent","handleWindowEvent"],this);const L=this._el;this._listeners=[[L,"touchstart",{passive:!0}],[L,"touchmove",{passive:!1}],[L,"touchend",void 0],[L,"touchcancel",void 0],[L,"mousedown",void 0],[L,"mousemove",void 0],[L,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[L,"mouseover",void 0],[L,"mouseout",void 0],[L,"dblclick",void 0],[L,"click",void 0],[L,"keydown",{capture:!1}],[L,"keyup",void 0],[L,"wheel",{passive:!1}],[L,"contextmenu",void 0],[n.window,"blur",void 0]];for(const[G,H,ee]of this._listeners)$.addEventListener(G,H,G===n.window.document?this.handleWindowEvent:this.handleEvent,ee)}destroy(){for(const[_,A,L]of this._listeners)$.removeEventListener(_,A,_===n.window.document?this.handleWindowEvent:this.handleEvent,L)}_addDefaultHandlers(_){const A=this._map,L=A.getCanvasContainer();this._add("mapEvent",new cl(A,_));const G=A.boxZoom=new ul(A,_);this._add("boxZoom",G);const H=new ws,ee=new fr;A.doubleClickZoom=new nr(ee,H),this._add("tapZoom",H),this._add("clickZoom",ee);const ae=new dn;this._add("tapDragZoom",ae);const de=A.touchPitch=new qe;this._add("touchPitch",de);const me=new hl(_),we=new Ys(_);A.dragRotate=new nn(_,me,we),this._add("mouseRotate",me,["mousePitch"]),this._add("mousePitch",we,["mouseRotate"]);const Ae=new Tl(_),ze=new Ma(_);A.dragPan=new hn(L,Ae,ze),this._add("mousePan",Ae),this._add("touchPan",ze,["touchZoom","touchRotate"]);const Xe=new Se,Fe=new ue;A.touchZoomRotate=new vt(L,Fe,Xe,ae),this._add("touchRotate",Xe,["touchPan","touchZoom"]),this._add("touchZoom",Fe,["touchPan","touchRotate"]),this._add("blockableMapEvent",new fo(A));const Ge=A.scrollZoom=new Lt(A,this);this._add("scrollZoom",Ge,["mousePan"]);const It=A.keyboard=new dt;this._add("keyboard",It);for(const Je of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])_.interactive&&_[Je]&&A[Je].enable(_[Je])}_add(_,A,L){this._handlers.push({handlerName:_,handler:A,allowed:L}),this._handlersById[_]=A}stop(_){if(!this._updatingCamera){for(const{handler:A}of this._handlers)A.reset();this._inertia.clear(),this._fireEvents({},{},_),this._changes=[]}}isActive(){for(const{handler:_}of this._handlers)if(_.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(Wt(this._eventsInProgress))||this.isZooming()}_blockedByActive(_,A,L){for(const G in _)if(G!==L&&(!A||A.indexOf(G)<0))return!0;return!1}handleWindowEvent(_){this.handleEvent(_,_.type+"Window")}_getMapTouches(_){const A=[];for(const L of _)this._el.contains(L.target)&&A.push(L);return A}handleEvent(_,A){if(_.type==="blur")return void this.stop(!0);this._updatingCamera=!0;const L=_.type==="renderFrame",G=L?void 0:_,H={needsRenderFrame:!1},ee={},ae={},de=_.touches?this._getMapTouches(_.touches):void 0,me=de?$.touchPos(this._el,de):L?void 0:$.mousePos(this._el,_);for(const{handlerName:ze,handler:Xe,allowed:Fe}of this._handlers){if(!Xe.isEnabled())continue;let Ge;this._blockedByActive(ae,Fe,ze)?Xe.reset():Xe[A||_.type]&&(Ge=Xe[A||_.type](_,me,de),this.mergeHandlerResult(H,ee,Ge,ze,G),Ge&&Ge.needsRenderFrame&&this._triggerRenderFrame()),(Ge||Xe.isActive())&&(ae[ze]=Xe)}const we={};for(const ze in this._previousActiveHandlers)ae[ze]||(we[ze]=G);this._previousActiveHandlers=ae,(Object.keys(we).length||gn(H))&&(this._changes.push([H,ee,we]),this._triggerRenderFrame()),(Object.keys(ae).length||gn(H))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:Ae}=H;Ae&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Ae(this._map))}mergeHandlerResult(_,A,L,G,H){if(!L)return;n.extend(_,L);const ee={handlerName:G,originalEvent:L.originalEvent||H};L.zoomDelta!==void 0&&(A.zoom=ee),L.panDelta!==void 0&&(A.drag=ee),L.pitchDelta!==void 0&&(A.pitch=ee),L.bearingDelta!==void 0&&(A.rotate=ee)}_applyChanges(){const _={},A={},L={};for(const[G,H,ee]of this._changes)G.panDelta&&(_.panDelta=(_.panDelta||new n.pointGeometry(0,0))._add(G.panDelta)),G.zoomDelta&&(_.zoomDelta=(_.zoomDelta||0)+G.zoomDelta),G.bearingDelta&&(_.bearingDelta=(_.bearingDelta||0)+G.bearingDelta),G.pitchDelta&&(_.pitchDelta=(_.pitchDelta||0)+G.pitchDelta),G.around!==void 0&&(_.around=G.around),G.aroundCoord!==void 0&&(_.aroundCoord=G.aroundCoord),G.pinchAround!==void 0&&(_.pinchAround=G.pinchAround),G.noInertia&&(_.noInertia=G.noInertia),n.extend(A,H),n.extend(L,ee);this._updateMapTransform(_,A,L),this._changes=[]}_updateMapTransform(_,A,L){const G=this._map,H=G.transform,ee=ht=>[ht.x,ht.y,ht.z];if((ht=>{const wt=this._eventsInProgress.drag;return wt&&!this._handlersById[wt.handlerName].isActive()})()&&!gn(_)){const ht=H.zoom;H.cameraElevationReference="sea",H.recenterOnTerrain(),H.cameraElevationReference="ground",ht!==H.zoom&&this._map._update(!0)}if(!gn(_))return this._fireEvents(A,L,!0);let{panDelta:ae,zoomDelta:de,bearingDelta:me,pitchDelta:we,around:Ae,aroundCoord:ze,pinchAround:Xe}=_;Xe!==void 0&&(Ae=Xe),(ht=>A.drag&&!this._eventsInProgress.drag)()&&Ae&&(this._dragOrigin=ee(H.pointCoordinate3D(Ae)),this._trackingEllipsoid.setup(H._camera.position,this._dragOrigin)),H.cameraElevationReference="sea",G._stop(!0),Ae=Ae||G.transform.centerPoint,me&&(H.bearing+=me),we&&(H.pitch+=we),H._updateCameraState();const Fe=[0,0,0];if(ae){const ht=H.screenPointToMercatorRay(Ae),wt=H.screenPointToMercatorRay(Ae.sub(ae)),Bt=this._trackingEllipsoid.projectRay(ht.dir),rr=this._trackingEllipsoid.projectRay(wt.dir);Fe[0]=rr[0]-Bt[0],Fe[1]=rr[1]-Bt[1]}const Ge=H.zoom,It=[0,0,0];if(de){const ht=ee(ze||H.pointCoordinate3D(Ae)),wt={dir:n.normalize([],n.sub([],ht,H._camera.position))},Bt=H.screenPointToMercatorRay(H.centerPoint);if(wt.dir[2]<0){const rr=n.altitudeFromMercatorZ(ht[2],ht[1]),tr=H.rayIntersectionCoordinate(H.pointRayIntersection(H.centerPoint,rr)),wr=H.zoomDeltaToMovement(ee(tr),de)*(Bt.dir[2]/wt.dir[2]);n.scale(It,wt.dir,wr)}else if(H._terrainEnabled()){const rr=H.zoomDeltaToMovement(ht,de);n.scale(It,wt.dir,rr)}}const Je=n.add(Fe,Fe,It);H._translateCameraConstrained(Je),de&&Math.abs(H.zoom-Ge)>1e-4&&H.recenterOnTerrain(),H.cameraElevationReference="ground",this._map._update(),_.noInertia||this._inertia.record(_),this._fireEvents(A,L,!0)}_fireEvents(_,A,L){const G=Wt(this._eventsInProgress),H=Wt(_),ee={};for(const we in _){const{originalEvent:Ae}=_[we];this._eventsInProgress[we]||(ee[we+"start"]=Ae),this._eventsInProgress[we]=_[we]}!G&&H&&this._fireEvent("movestart",H.originalEvent);for(const we in ee)this._fireEvent(we,ee[we]);H&&this._fireEvent("move",H.originalEvent);for(const we in _){const{originalEvent:Ae}=_[we];this._fireEvent(we,Ae)}const ae={};let de;for(const we in this._eventsInProgress){const{handlerName:Ae,originalEvent:ze}=this._eventsInProgress[we];this._handlersById[Ae].isActive()||(delete this._eventsInProgress[we],de=A[Ae]||ze,ae[we+"end"]=de)}for(const we in ae)this._fireEvent(we,ae[we]);const me=Wt(this._eventsInProgress);if(L&&(G||H)&&!me){this._updatingCamera=!0;const we=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Ae=ze=>ze!==0&&-this._bearingSnap<ze&&ze<this._bearingSnap;we?(Ae(we.bearing||this._map.getBearing())&&(we.bearing=0),this._map.easeTo(we,{originalEvent:de})):(this._map.fire(new n.Event("moveend",{originalEvent:de})),Ae(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(_,A){this._map.fire(new n.Event(_,A?{originalEvent:A}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(_=>{delete this._frameId,this.handleEvent(new Rr("renderFrame",{timeStamp:_})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}class fn extends n.Evented{constructor(_,A){super(),this._moving=!1,this._zooming=!1,this.transform=_,this._bearingSnap=A.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}getCenter(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(_,A){return this.jumpTo({center:_},A)}panBy(_,A,L){return _=n.pointGeometry.convert(_).mult(-1),this.panTo(this.transform.center,n.extend({offset:_},A),L)}panTo(_,A,L){return this.easeTo(n.extend({center:_},A),L)}getZoom(){return this.transform.zoom}setZoom(_,A){return this.jumpTo({zoom:_},A),this}zoomTo(_,A,L){return this.easeTo(n.extend({zoom:_},A),L)}zoomIn(_,A){return this.zoomTo(this.getZoom()+1,_,A),this}zoomOut(_,A){return this.zoomTo(this.getZoom()-1,_,A),this}getBearing(){return this.transform.bearing}setBearing(_,A){return this.jumpTo({bearing:_},A),this}getPadding(){return this.transform.padding}setPadding(_,A){return this.jumpTo({padding:_},A),this}rotateTo(_,A,L){return this.easeTo(n.extend({bearing:_},A),L)}resetNorth(_,A){return this.rotateTo(0,n.extend({duration:1e3},_),A),this}resetNorthPitch(_,A){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},_),A),this}snapToNorth(_,A){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(_,A):this}getPitch(){return this.transform.pitch}setPitch(_,A){return this.jumpTo({pitch:_},A),this}cameraForBounds(_,A){_=n.LngLatBounds.convert(_);const L=A&&A.bearing||0;return this._cameraForBoxAndBearing(_.getNorthWest(),_.getSouthEast(),L,A)}_extendCameraOptions(_){const A={top:0,bottom:0,right:0,left:0};if(typeof(_=n.extend({padding:A,offset:[0,0],maxZoom:this.transform.maxZoom},_)).padding=="number"){const L=_.padding;_.padding={top:L,bottom:L,right:L,left:L}}return _.padding=n.extend(A,_.padding),_}_cameraForBoxAndBearing(_,A,L,G){const H=this._extendCameraOptions(G),ee=this.transform,ae=ee.padding,de=ee.project(n.LngLat.convert(_)),me=ee.project(n.LngLat.convert(A)),we=de.rotate(-n.degToRad(L)),Ae=me.rotate(-n.degToRad(L)),ze=new n.pointGeometry(Math.max(we.x,Ae.x),Math.max(we.y,Ae.y)),Xe=new n.pointGeometry(Math.min(we.x,Ae.x),Math.min(we.y,Ae.y)),Fe=ze.sub(Xe),Ge=(ee.width-(ae.left+ae.right+H.padding.left+H.padding.right))/Fe.x,It=(ee.height-(ae.top+ae.bottom+H.padding.top+H.padding.bottom))/Fe.y;if(It<0||Ge<0)return void n.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Je=Math.min(ee.scaleZoom(ee.scale*Math.min(Ge,It)),H.maxZoom),ht=typeof H.offset.x=="number"?new n.pointGeometry(H.offset.x,H.offset.y):n.pointGeometry.convert(H.offset),wt=new n.pointGeometry((H.padding.left-H.padding.right)/2,(H.padding.top-H.padding.bottom)/2).rotate(L*Math.PI/180),Bt=ht.add(wt).mult(ee.scale/ee.zoomScale(Je));return{center:ee.unproject(de.add(me).div(2).sub(Bt)),zoom:Je,bearing:L}}_cameraForBox(_,A,L,G,H){const ee=this._extendCameraOptions(H);L=L||0,G=G||0,_=n.LngLat.convert(_),A=n.LngLat.convert(A);const ae=this.transform.clone();ae.padding=ee.padding;const de=this.getFreeCameraOptions(),me=new n.LngLat(.5*(_.lng+A.lng),.5*(_.lat+A.lat)),we=.5*(L+G);if(ae._camera.position[2]<n.mercatorZfromAltitude(we,me.lat))return void n.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");de.lookAtPoint(me),ae.setFreeCameraOptions(de);const Ae=n.MercatorCoordinate.fromLngLat(_),ze=n.MercatorCoordinate.fromLngLat(A),Xe=ae.pointRayIntersection(ae.centerPoint,we),Fe=[(Ge=ae.rayIntersectionCoordinate(Xe)).x,Ge.y,Ge.z];var Ge;const It=ae.screenPointToMercatorRay(ae.centerPoint);let Je,ht=0;do{const wt=Math.floor(ae.zoom),Bt=1<<wt,rr=Math.min(Bt*Ae.x,Bt*ze.x),tr=Math.min(Bt*Ae.y,Bt*ze.y),wr=Math.max(Bt*Ae.x,Bt*ze.x),Sr=Math.max(Bt*Ae.y,Bt*ze.y),Vr=new te([rr,tr,L],[wr,Sr,G]),Pt=Q.fromInvProjectionMatrix(ae.invProjMatrix,ae.worldSize,wt);if(Vr.intersects(Pt)!==2){Je&&(ae._camera.position=n.scaleAndAdd([],ae._camera.position,It.dir,-Je),ae._updateStateFromCamera());break}const on=n.sub([],ae._camera.position,Fe);Je=.5*n.length(on),ae._camera.position=n.scaleAndAdd([],ae._camera.position,It.dir,Je);try{ae._updateStateFromCamera()}catch{return void n.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++ht<10);return{center:ae.center,zoom:ae.zoom,bearing:ae.bearing,pitch:ae.pitch}}fitBounds(_,A,L){return this._fitInternal(this.cameraForBounds(_,A),A,L)}_raycastElevationBox(_,A){const L=this.transform.elevation;if(!L)return;const G=new n.pointGeometry(_.x,A.y),H=new n.pointGeometry(A.x,_.y),ee=L.pointCoordinate(_);if(!ee)return;const ae=L.pointCoordinate(A);if(!ae)return;const de=L.pointCoordinate(G);if(!de)return;const me=L.pointCoordinate(H);if(!me)return;const we=new n.MercatorCoordinate(ee[0],ee[1]).toLngLat(),Ae=new n.MercatorCoordinate(ae[0],ae[1]).toLngLat(),ze=new n.MercatorCoordinate(de[0],de[1]).toLngLat(),Xe=new n.MercatorCoordinate(me[0],me[1]).toLngLat(),Fe=Math.min(we.lng,Math.min(Ae.lng,Math.min(ze.lng,Xe.lng))),Ge=Math.min(we.lat,Math.min(Ae.lat,Math.min(ze.lat,Xe.lat))),It=Math.max(we.lng,Math.max(Ae.lng,Math.max(ze.lng,Xe.lng))),Je=Math.max(we.lat,Math.max(Ae.lat,Math.max(ze.lat,Xe.lat))),ht=Math.min(ee[3],Math.min(ae[3],Math.min(de[3],me[3]))),wt=Math.max(ee[3],Math.max(ae[3],Math.max(de[3],me[3])));return{minLngLat:new n.LngLat(Fe,Ge),maxLngLat:new n.LngLat(It,Je),minAltitude:ht,maxAltitude:wt}}fitScreenCoordinates(_,A,L,G,H){let ee,ae,de,me;const we=n.pointGeometry.convert(_),Ae=n.pointGeometry.convert(A),ze=this._raycastElevationBox(we,Ae);if(ze)ee=ze.minLngLat,ae=ze.maxLngLat,de=ze.minAltitude,me=ze.maxAltitude;else{if(this.transform.isHorizonVisibleForPoints(we,Ae))return this;ee=this.transform.pointLocation(we),ae=this.transform.pointLocation(Ae)}return this._fitInternal(this.transform.pitch===0?this._cameraForBoxAndBearing(this.transform.pointLocation(n.pointGeometry.convert(_)),this.transform.pointLocation(n.pointGeometry.convert(A)),L,G):this._cameraForBox(ee,ae,de,me,G),G,H)}_fitInternal(_,A,L){return _?(delete(A=n.extend(_,A)).padding,A.linear?this.easeTo(A,L):this.flyTo(A,L)):this}jumpTo(_,A){this.stop();const L=this.transform;let G=!1,H=!1,ee=!1;return"zoom"in _&&L.zoom!==+_.zoom&&(G=!0,L.zoom=+_.zoom),_.center!==void 0&&(L.center=n.LngLat.convert(_.center)),"bearing"in _&&L.bearing!==+_.bearing&&(H=!0,L.bearing=+_.bearing),"pitch"in _&&L.pitch!==+_.pitch&&(ee=!0,L.pitch=+_.pitch),_.padding==null||L.isPaddingEqual(_.padding)||(L.padding=_.padding),this.fire(new n.Event("movestart",A)).fire(new n.Event("move",A)),G&&this.fire(new n.Event("zoomstart",A)).fire(new n.Event("zoom",A)).fire(new n.Event("zoomend",A)),H&&this.fire(new n.Event("rotatestart",A)).fire(new n.Event("rotate",A)).fire(new n.Event("rotateend",A)),ee&&this.fire(new n.Event("pitchstart",A)).fire(new n.Event("pitch",A)).fire(new n.Event("pitchend",A)),this.fire(new n.Event("moveend",A))}getFreeCameraOptions(){return this.transform.getFreeCameraOptions()}setFreeCameraOptions(_,A){this.stop();const L=this.transform,G=L.zoom,H=L.pitch,ee=L.bearing;L.setFreeCameraOptions(_);const ae=G!==L.zoom,de=H!==L.pitch,me=ee!==L.bearing;return this.fire(new n.Event("movestart",A)).fire(new n.Event("move",A)),ae&&this.fire(new n.Event("zoomstart",A)).fire(new n.Event("zoom",A)).fire(new n.Event("zoomend",A)),me&&this.fire(new n.Event("rotatestart",A)).fire(new n.Event("rotate",A)).fire(new n.Event("rotateend",A)),de&&this.fire(new n.Event("pitchstart",A)).fire(new n.Event("pitch",A)).fire(new n.Event("pitchend",A)),this.fire(new n.Event("moveend",A)),this}easeTo(_,A){this._stop(!1,_.easeId),((_=n.extend({offset:[0,0],duration:500,easing:n.ease},_)).animate===!1||!_.essential&&n.exported.prefersReducedMotion)&&(_.duration=0);const L=this.transform,G=this.getZoom(),H=this.getBearing(),ee=this.getPitch(),ae=this.getPadding(),de="zoom"in _?+_.zoom:G,me="bearing"in _?this._normalizeBearing(_.bearing,H):H,we="pitch"in _?+_.pitch:ee,Ae="padding"in _?_.padding:L.padding,ze=n.pointGeometry.convert(_.offset);let Xe=L.centerPoint.add(ze);const Fe=L.pointLocation(Xe),Ge=n.LngLat.convert(_.center||Fe);this._normalizeCenter(Ge);const It=L.project(Fe),Je=L.project(Ge).sub(It),ht=L.zoomScale(de-G);let wt,Bt;_.around&&(wt=n.LngLat.convert(_.around),Bt=L.locationPoint(wt));const rr={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||de!==G,this._rotating=this._rotating||H!==me,this._pitching=this._pitching||we!==ee,this._padding=!L.isPaddingEqual(Ae),this._easeId=_.easeId,this._prepareEase(A,_.noMoveStart,rr),this._ease(tr=>{if(this._zooming&&(L.zoom=n.number(G,de,tr)),this._rotating&&(L.bearing=n.number(H,me,tr)),this._pitching&&(L.pitch=n.number(ee,we,tr)),this._padding&&(L.interpolatePadding(ae,Ae,tr),Xe=L.centerPoint.add(ze)),wt)L.setLocationAtPoint(wt,Bt);else{const wr=L.zoomScale(L.zoom-G),Sr=de>G?Math.min(2,ht):Math.max(.5,ht),Vr=Math.pow(Sr,1-tr),Pt=L.unproject(It.add(Je.mult(tr*Vr)).mult(wr));L.setLocationAtPoint(L.renderWorldCopies?Pt.wrap():Pt,Xe)}this._fireMoveEvents(A)},tr=>{L.recenterOnTerrain(),this._afterEase(A,tr)},_),this}_prepareEase(_,A,L={}){this._moving=!0,this.transform.cameraElevationReference="sea",A||L.moving||this.fire(new n.Event("movestart",_)),this._zooming&&!L.zooming&&this.fire(new n.Event("zoomstart",_)),this._rotating&&!L.rotating&&this.fire(new n.Event("rotatestart",_)),this._pitching&&!L.pitching&&this.fire(new n.Event("pitchstart",_))}_fireMoveEvents(_){this.fire(new n.Event("move",_)),this._zooming&&this.fire(new n.Event("zoom",_)),this._rotating&&this.fire(new n.Event("rotate",_)),this._pitching&&this.fire(new n.Event("pitch",_))}_afterEase(_,A){if(this._easeId&&A&&this._easeId===A)return;delete this._easeId,this.transform.cameraElevationReference="ground";const L=this._zooming,G=this._rotating,H=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,L&&this.fire(new n.Event("zoomend",_)),G&&this.fire(new n.Event("rotateend",_)),H&&this.fire(new n.Event("pitchend",_)),this.fire(new n.Event("moveend",_))}flyTo(_,A){if(!_.essential&&n.exported.prefersReducedMotion){const Sn=n.pick(_,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Sn,A)}this.stop(),_=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},_);const L=this.transform,G=this.getZoom(),H=this.getBearing(),ee=this.getPitch(),ae=this.getPadding(),de="zoom"in _?n.clamp(+_.zoom,L.minZoom,L.maxZoom):G,me="bearing"in _?this._normalizeBearing(_.bearing,H):H,we="pitch"in _?+_.pitch:ee,Ae="padding"in _?_.padding:L.padding,ze=L.zoomScale(de-G),Xe=n.pointGeometry.convert(_.offset);let Fe=L.centerPoint.add(Xe);const Ge=L.pointLocation(Fe),It=n.LngLat.convert(_.center||Ge);this._normalizeCenter(It);const Je=L.project(Ge),ht=L.project(It).sub(Je);let wt=_.curve;const Bt=Math.max(L.width,L.height),rr=Bt/ze,tr=ht.mag();if("minZoom"in _){const Sn=n.clamp(Math.min(_.minZoom,G,de),L.minZoom,L.maxZoom),Hn=Bt/L.zoomScale(Sn-G);wt=Math.sqrt(Hn/tr*2)}const wr=wt*wt;function Sr(Sn){const Hn=(rr*rr-Bt*Bt+(Sn?-1:1)*wr*wr*tr*tr)/(2*(Sn?rr:Bt)*wr*tr);return Math.log(Math.sqrt(Hn*Hn+1)-Hn)}function Vr(Sn){return(Math.exp(Sn)-Math.exp(-Sn))/2}function Pt(Sn){return(Math.exp(Sn)+Math.exp(-Sn))/2}const on=Sr(0);let Zr=function(Sn){return Pt(on)/Pt(on+wt*Sn)},kn=function(Sn){return Bt*((Pt(on)*(Vr(Hn=on+wt*Sn)/Pt(Hn))-Vr(on))/wr)/tr;var Hn},wn=(Sr(1)-on)/wt;if(Math.abs(tr)<1e-6||!isFinite(wn)){if(Math.abs(Bt-rr)<1e-6)return this.easeTo(_,A);const Sn=rr<Bt?-1:1;wn=Math.abs(Math.log(rr/Bt))/wt,kn=function(){return 0},Zr=function(Hn){return Math.exp(Sn*wt*Hn)}}return _.duration="duration"in _?+_.duration:1e3*wn/("screenSpeed"in _?+_.screenSpeed/wt:+_.speed),_.maxDuration&&_.duration>_.maxDuration&&(_.duration=0),this._zooming=!0,this._rotating=H!==me,this._pitching=we!==ee,this._padding=!L.isPaddingEqual(Ae),this._prepareEase(A,!1),this._ease(Sn=>{const Hn=Sn*wn,Dt=1/Zr(Hn);L.zoom=Sn===1?de:G+L.scaleZoom(Dt),this._rotating&&(L.bearing=n.number(H,me,Sn)),this._pitching&&(L.pitch=n.number(ee,we,Sn)),this._padding&&(L.interpolatePadding(ae,Ae,Sn),Fe=L.centerPoint.add(Xe));const hr=Sn===1?It:L.unproject(Je.add(ht.mult(kn(Hn))).mult(Dt));L.setLocationAtPoint(L.renderWorldCopies?hr.wrap():hr,Fe),L._updateCenterElevation(),this._fireMoveEvents(A)},()=>this._afterEase(A),_),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(_,A){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const L=this._onEaseEnd;delete this._onEaseEnd,L.call(this,A)}if(!_){const L=this.handlers;L&&L.stop(!1)}return this}_ease(_,A,L){L.animate===!1||L.duration===0?(_(1),A()):(this._easeStart=n.exported.now(),this._easeOptions=L,this._onEaseFrame=_,this._onEaseEnd=A,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const _=Math.min((n.exported.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(_)),_<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(_,A){_=n.wrap(_,-180,180);const L=Math.abs(_-A);return Math.abs(_-360-A)<L&&(_-=360),Math.abs(_+360-A)<L&&(_+=360),_}_normalizeCenter(_){const A=this.transform;if(!A.renderWorldCopies||A.lngRange)return;const L=_.lng-A.center.lng;_.lng+=L>180?-360:L<-180?360:0}}class Rn{constructor(_={}){this.options=_,n.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(_){const A=this.options&&this.options.compact;return this._map=_,this._container=$.create("div","vjmapgis-ctrl vjmapgis-ctrl-attrib"),this._compactButton=$.create("button","vjmapgis-ctrl-attrib-button",this._container),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=$.create("div","vjmapgis-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),A&&this._container.classList.add("vjmapgis-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),A===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){$.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(_,A){const L=this._map._getUIString("AttributionControl."+A);_.title=L,_.setAttribute("aria-label",L)}_toggleAttribution(){this._container.classList.contains("vjmapgis-compact-show")?(this._container.classList.remove("vjmapgis-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("vjmapgis-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))}_updateEditLink(){let _=this._editLink;_||(_=this._editLink=this._container.querySelector(".vjmaps-improve-map"));const A=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(_){const L=A.reduce((G,H,ee)=>(H.value&&(G+=`${H.key}=${H.value}${ee<A.length-1?"&":""}`),G),"?");_.href=`${n.config.FEEDBACK_URL}/${L}${this._map._hash?this._map._hash.getHashString(!0):""}`,_.rel="noopener nofollow",this._setElementTitle(_,"MapFeedback")}}_updateData(_){!_||_.sourceDataType!=="metadata"&&_.sourceDataType!=="visibility"&&_.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let _=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?_=_.concat(this.options.customAttribution.map(G=>typeof G!="string"?"":G)):typeof this.options.customAttribution=="string"&&_.push(this.options.customAttribution)),this._map.style.stylesheet){const G=this._map.style.stylesheet;this.styleOwner=G.owner,this.styleId=G.id}const A=this._map.style._sourceCaches;for(const G in A){const H=A[G];if(H.used){const ee=H.getSource();ee.attribution&&_.indexOf(ee.attribution)<0&&_.push(ee.attribution)}}_.sort((G,H)=>G.length-H.length),_=_.filter((G,H)=>{for(let ee=H+1;ee<_.length;ee++)if(_[ee].indexOf(G)>=0)return!1;return!0});const L=_.join(" | ");L!==this._attribHTML&&(this._attribHTML=L,_.length?(this._innerContainer.innerHTML=L,this._container.classList.remove("vjmapgis-attrib-empty")):this._container.classList.add("vjmapgis-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("vjmapgis-compact"):this._container.classList.remove("vjmapgis-compact","vjmapgis-compact-show")}}class An{constructor(){n.bindAll(["_updateLogo"],this),n.bindAll(["_updateCompact"],this)}onAdd(_){this._map=_,this._container=$.create("div","vjmapgis-ctrl");const A=$.create("a","vjmapgis-ctrl-logo");return A.target="_blank",A.rel="noopener nofollow",A.href=" https://www.vjmap.com/",A.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),A.setAttribute("rel","noopener nofollow"),this._container.appendChild(A),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){$.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(_){_&&_.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const _=this._map.style._sourceCaches;if(Object.entries(_).length===0)return!0;for(const A in _){const L=_[A].getSource();if(L.hasOwnProperty("vjmaps_logo")&&!L.vjmaps_logo)return!1}return!0}_updateCompact(){const _=this._container.children;if(_.length){const A=_[0];this._map.getCanvasContainer().offsetWidth<250?A.classList.add("vjmapgis-compact"):A.classList.remove("vjmapgis-compact")}}}class ei{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(_){const A=++this._id;return this._queue.push({callback:_,id:A,cancelled:!1}),A}remove(_){const A=this._currentlyRunning,L=A?this._queue.concat(A):this._queue;for(const G of L)if(G.id===_)return void(G.cancelled=!0)}run(_=0){const A=this._currentlyRunning=this._queue;this._queue=[];for(const L of A)if(!L.cancelled&&(L.callback(_),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function fi(D,_,A){if(D=new n.LngLat(D.lng,D.lat),_){const L=new n.LngLat(D.lng-360,D.lat),G=new n.LngLat(D.lng+360,D.lat),H=360*Math.ceil(Math.abs(D.lng-A.center.lng)/360),ee=A.locationPoint(D).distSqr(_),ae=_.x<0||_.y<0||_.x>A.width||_.y>A.height;A.locationPoint(L).distSqr(_)<ee&&(ae||Math.abs(L.lng-A.center.lng)<H)?D=L:A.locationPoint(G).distSqr(_)<ee&&(ae||Math.abs(G.lng-A.center.lng)<H)&&(D=G)}for(;Math.abs(D.lng-A.center.lng)>180;){const L=A.locationPoint(D);if(L.x>=0&&L.y>=0&&L.x<=A.width&&L.y<=A.height)break;D.lng>A.center.lng?D.lng-=360:D.lng+=360}return D}const Gn={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Ni(D,_,A){const L=D.classList;for(const G in Gn)L.remove(`vjmapgis-${A}-anchor-${G}`);L.add(`vjmapgis-${A}-anchor-${_}`)}class $o extends n.Evented{constructor(_,A){if(super(),(_ instanceof n.window.HTMLElement||A)&&(_=n.extend({element:_},A)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=_&&_.anchor||"center",this._color=_&&_.color||"#3FB1CE",this._scale=_&&_.scale||1,this._draggable=_&&_.draggable||!1,this._clickTolerance=_&&_.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=_&&_.rotation||0,this._rotationAlignment=_&&_.rotationAlignment||"auto",this._pitchAlignment=_&&_.pitchAlignment&&_.pitchAlignment!=="auto"?_.pitchAlignment:this._rotationAlignment,_&&_.element)this._element=_.element,this._offset=n.pointGeometry.convert(_&&_.offset||[0,0]);else{this._defaultMarker=!0,this._element=$.create("div"),this._element.setAttribute("aria-label","Map marker");const L=$.createNS("http://www.w3.org/2000/svg","svg"),G=41,H=27;L.setAttributeNS(null,"display","block"),L.setAttributeNS(null,"height",G+"px"),L.setAttributeNS(null,"width",H+"px"),L.setAttributeNS(null,"viewBox",`0 0 ${H} ${G}`);const ee=$.createNS("http://www.w3.org/2000/svg","g");ee.setAttributeNS(null,"stroke","none"),ee.setAttributeNS(null,"stroke-width","1"),ee.setAttributeNS(null,"fill","none"),ee.setAttributeNS(null,"fill-rule","evenodd");const ae=$.createNS("http://www.w3.org/2000/svg","g");ae.setAttributeNS(null,"fill-rule","nonzero");const de=$.createNS("http://www.w3.org/2000/svg","g");de.setAttributeNS(null,"transform","translate(3.0, 29.0)"),de.setAttributeNS(null,"fill","#000000");const me=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const ht of me){const wt=$.createNS("http://www.w3.org/2000/svg","ellipse");wt.setAttributeNS(null,"opacity","0.04"),wt.setAttributeNS(null,"cx","10.5"),wt.setAttributeNS(null,"cy","5.80029008"),wt.setAttributeNS(null,"rx",ht.rx),wt.setAttributeNS(null,"ry",ht.ry),de.appendChild(wt)}const we=$.createNS("http://www.w3.org/2000/svg","g");we.setAttributeNS(null,"fill",this._color);const Ae=$.createNS("http://www.w3.org/2000/svg","path");Ae.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),we.appendChild(Ae);const ze=$.createNS("http://www.w3.org/2000/svg","g");ze.setAttributeNS(null,"opacity","0.25"),ze.setAttributeNS(null,"fill","#000000");const Xe=$.createNS("http://www.w3.org/2000/svg","path");Xe.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),ze.appendChild(Xe);const Fe=$.createNS("http://www.w3.org/2000/svg","g");Fe.setAttributeNS(null,"transform","translate(6.0, 7.0)"),Fe.setAttributeNS(null,"fill","#FFFFFF");const Ge=$.createNS("http://www.w3.org/2000/svg","g");Ge.setAttributeNS(null,"transform","translate(8.0, 8.0)");const It=$.createNS("http://www.w3.org/2000/svg","circle");It.setAttributeNS(null,"fill","#000000"),It.setAttributeNS(null,"opacity","0.25"),It.setAttributeNS(null,"cx","5.5"),It.setAttributeNS(null,"cy","5.5"),It.setAttributeNS(null,"r","5.4999962");const Je=$.createNS("http://www.w3.org/2000/svg","circle");Je.setAttributeNS(null,"fill","#FFFFFF"),Je.setAttributeNS(null,"cx","5.5"),Je.setAttributeNS(null,"cy","5.5"),Je.setAttributeNS(null,"r","5.4999962"),Ge.appendChild(It),Ge.appendChild(Je),ae.appendChild(de),ae.appendChild(we),ae.appendChild(ze),ae.appendChild(Fe),ae.appendChild(Ge),L.appendChild(ae),L.setAttributeNS(null,"height",G*this._scale+"px"),L.setAttributeNS(null,"width",H*this._scale+"px"),this._element.appendChild(L),this._offset=n.pointGeometry.convert(_&&_.offset||[0,-14])}this._element.classList.add("vjmapgis-marker"),this._element.addEventListener("dragstart",L=>{L.preventDefault()}),this._element.addEventListener("mousedown",L=>{L.preventDefault()}),Ni(this._element,this._anchor,"marker"),this._popup=null}addTo(_){return this.remove(),this._map=_,_.getCanvasContainer().appendChild(this._element),_.on("move",this._update),_.on("moveend",this._update),_.on("remove",this._clearFadeTimer),_._addMarker(this),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._map.off("remove",this._clearFadeTimer),this._map._removeMarker(this),delete this._map),this._clearFadeTimer(),$.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(_){return this._lngLat=n.LngLat.convert(_),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(_){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),_){if(!("offset"in _.options)){const A=38.1,L=13.5,G=Math.sqrt(Math.pow(L,2)/2);_.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-A],"bottom-left":[G,-1*(A-L+G)],"bottom-right":[-G,-1*(A-L+G)],left:[L,-1*(A-L)],right:[-L,-1*(A-L)]}:this._offset}this._popup=_,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}_onKeyPress(_){const A=_.code,L=_.charCode||_.keyCode;A!=="Space"&&A!=="Enter"&&L!==32&&L!==13||this.togglePopup()}_onMapClick(_){const A=_.originalEvent.target,L=this._element;this._popup&&(A===L||L.contains(A))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const _=this._popup;return _?(_.isOpen()?_.remove():_.addTo(this._map),this):this}_evaluateOpacity(){const _=this._pos?this._pos.sub(this._transformedOffset()):null;if(!this._withinScreenBounds(_))return void this._clearFadeTimer();const A=this._map.unproject(_);let L=!1;if(this._map.getTerrain()){const H=this._map.getFreeCameraOptions();if(H.position){const ee=H.position.toLngLat();L=ee.distanceTo(A)<.9*ee.distanceTo(this._lngLat)}}const G=(1-this._map._queryFogOpacity(A))*(L?.2:1);this._element.style.opacity=""+G,this._popup&&this._popup._setOpacity(""+G),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_withinScreenBounds(_){const A=this._map.transform;return!!_&&_.x>=0&&_.x<A.width&&_.y>=0&&_.y<A.height}_update(_){if(!this._map)return;this._map.transform.renderWorldCopies&&(this._lngLat=fi(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._transformedOffset());let A="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?A=`rotateZ(${this._rotation}deg)`:this._rotationAlignment==="map"&&(A=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let L="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?L="rotateX(0deg)":this._pitchAlignment==="map"&&(L=`rotateX(${this._map.getPitch()}deg)`),_&&_.type!=="moveend"||(this._pos=this._pos.round()),this._map._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&$.setTransform(this._element,`${Gn[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${L} ${A}`),!this._map.getTerrain()&&!this._map.getFog()||this._fadeTimer||(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))})}_transformedOffset(){if(!this._defaultMarker)return this._offset;const _=this._map.transform,A=this._offset.mult(this._scale);return this._rotationAlignment==="map"&&A._rotate(_.angle),this._pitchAlignment==="map"&&(A.y*=Math.cos(_._pitch)),A}getOffset(){return this._offset}setOffset(_){return this._offset=n.pointGeometry.convert(_),this._update(),this}_onMove(_){if(!this._isDragging){const A=this._clickTolerance||this._map._clickTolerance;this._isDragging=_.point.dist(this._pointerdownPos)>=A}this._isDragging&&(this._pos=_.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag")))}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"}_addDragHandler(_){this._element.contains(_.originalEvent.target)&&(_.preventDefault(),this._positionDelta=_.point.sub(this._pos).add(this._transformedOffset()),this._pointerdownPos=_.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))}setDraggable(_){return this._draggable=!!_,this._map&&(_?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(_){return this._rotation=_||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(_){return this._rotationAlignment=_||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(_){return this._pitchAlignment=_&&_!=="auto"?_:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}class aa{constructor(_){this.jumpTo(_)}getValue(_){if(_<=this._startTime)return this._start;if(_>=this._endTime)return this._end;const A=n.easeCubicInOut((_-this._startTime)/(this._endTime-this._startTime));return this._start*(1-A)+this._end*A}isEasing(_){return _>=this._startTime&&_<=this._endTime}jumpTo(_){this._startTime=-1/0,this._endTime=-1/0,this._start=_,this._end=_}easeTo(_,A,L){this._start=this.getValue(A),this._end=_,this._startTime=A,this._endTime=A+L}}const zo={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"vjmaps logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},{HTMLImageElement:to,HTMLElement:sa,ImageBitmap:Vi}=n.window,$s={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function Yi(D){D.parentNode&&D.parentNode.removeChild(D)}const pr={showCompass:!0,showZoom:!0,visualizePitch:!1};class Re{constructor(_,A,L=!1){this._clickTolerance=10,this.element=A,this.mouseRotate=new hl({clickTolerance:_.dragRotate._mouseRotate._clickTolerance}),this.map=_,L&&(this.mousePitch=new Ys({clickTolerance:_.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),$.addEventListener(A,"mousedown",this.mousedown),$.addEventListener(A,"touchstart",this.touchstart,{passive:!1}),$.addEventListener(A,"touchmove",this.touchmove),$.addEventListener(A,"touchend",this.touchend),$.addEventListener(A,"touchcancel",this.reset)}down(_,A){this.mouseRotate.mousedown(_,A),this.mousePitch&&this.mousePitch.mousedown(_,A),$.disableDrag()}move(_,A){const L=this.map,G=this.mouseRotate.mousemoveWindow(_,A);if(G&&G.bearingDelta&&L.setBearing(L.getBearing()+G.bearingDelta),this.mousePitch){const H=this.mousePitch.mousemoveWindow(_,A);H&&H.pitchDelta&&L.setPitch(L.getPitch()+H.pitchDelta)}}off(){const _=this.element;$.removeEventListener(_,"mousedown",this.mousedown),$.removeEventListener(_,"touchstart",this.touchstart,{passive:!1}),$.removeEventListener(_,"touchmove",this.touchmove),$.removeEventListener(_,"touchend",this.touchend),$.removeEventListener(_,"touchcancel",this.reset),this.offTemp()}offTemp(){$.enableDrag(),$.removeEventListener(n.window,"mousemove",this.mousemove),$.removeEventListener(n.window,"mouseup",this.mouseup)}mousedown(_){this.down(n.extend({},_,{ctrlKey:!0,preventDefault:()=>_.preventDefault()}),$.mousePos(this.element,_)),$.addEventListener(n.window,"mousemove",this.mousemove),$.addEventListener(n.window,"mouseup",this.mouseup)}mousemove(_){this.move(_,$.mousePos(this.element,_))}mouseup(_){this.mouseRotate.mouseupWindow(_),this.mousePitch&&this.mousePitch.mouseupWindow(_),this.offTemp()}touchstart(_){_.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=$.touchPos(this.element,_.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>_.preventDefault()},this._startPos))}touchmove(_){_.targetTouches.length!==1?this.reset():(this._lastPos=$.touchPos(this.element,_.targetTouches)[0],this.move({preventDefault:()=>_.preventDefault()},this._lastPos))}touchend(_){_.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Ke={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let $t,Yt=0,ur=!1;const rn={maxWidth:100,unit:"metric"};function jr(D,_,A){const L=A&&A.maxWidth||100,G=D._container.clientHeight/2,H=D.unproject([0,G]),ee=D.unproject([L,G]),ae=H.distanceTo(ee);if(A&&A.unit==="imperial"){const de=3.2808*ae;de>5280?Gr(_,L,de/5280,D._getUIString("ScaleControl.Miles"),D):Gr(_,L,de,D._getUIString("ScaleControl.Feet"),D)}else A&&A.unit==="nautical"?Gr(_,L,ae/1852,D._getUIString("ScaleControl.NauticalMiles"),D):ae>=1e3?Gr(_,L,ae/1e3,D._getUIString("ScaleControl.Kilometers"),D):Gr(_,L,ae,D._getUIString("ScaleControl.Meters"),D)}function Gr(D,_,A,L,G){const H=function(ae){const de=Math.pow(10,(""+Math.floor(ae)).length-1);let me=ae/de;return me=me>=10?10:me>=5?5:me>=3?3:me>=2?2:me>=1?1:function(we){const Ae=Math.pow(10,Math.ceil(-Math.log(we)/Math.LN10));return Math.round(we*Ae)/Ae}(me),de*me}(A),ee=H/A;G._requestDomTask(()=>{D.style.width=_*ee+"px",D.innerHTML=`${H}&nbsp;${L}`})}const _n={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},En=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Tn(D){if(D){if(typeof D=="number"){const _=Math.round(Math.sqrt(.5*Math.pow(D,2)));return{center:new n.pointGeometry(0,0),top:new n.pointGeometry(0,D),"top-left":new n.pointGeometry(_,_),"top-right":new n.pointGeometry(-_,_),bottom:new n.pointGeometry(0,-D),"bottom-left":new n.pointGeometry(_,-_),"bottom-right":new n.pointGeometry(-_,-_),left:new n.pointGeometry(D,0),right:new n.pointGeometry(-D,0)}}if(D instanceof n.pointGeometry||Array.isArray(D)){const _=n.pointGeometry.convert(D);return{center:_,top:_,"top-left":_,"top-right":_,bottom:_,"bottom-left":_,"bottom-right":_,left:_,right:_}}return{center:n.pointGeometry.convert(D.center||[0,0]),top:n.pointGeometry.convert(D.top||[0,0]),"top-left":n.pointGeometry.convert(D["top-left"]||[0,0]),"top-right":n.pointGeometry.convert(D["top-right"]||[0,0]),bottom:n.pointGeometry.convert(D.bottom||[0,0]),"bottom-left":n.pointGeometry.convert(D["bottom-left"]||[0,0]),"bottom-right":n.pointGeometry.convert(D["bottom-right"]||[0,0]),left:n.pointGeometry.convert(D.left||[0,0]),right:n.pointGeometry.convert(D.right||[0,0])}}return Tn(new n.pointGeometry(0,0))}const Ln={version:n.version,supported:S,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:class extends fn{constructor(D){if((D=n.extend({},$s,D)).minZoom!=null&&D.maxZoom!=null&&D.minZoom>D.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(D.minPitch!=null&&D.maxPitch!=null&&D.minPitch>D.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(D.minPitch!=null&&D.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(D.maxPitch!=null&&D.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new Zs(D.minZoom,D.maxZoom,D.minPitch,D.maxPitch,D.renderWorldCopies),D),this._interactive=D.interactive,this._maxTileCacheSize=D.maxTileCacheSize,this._failIfMajorPerformanceCaveat=D.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=D.preserveDrawingBuffer,this._antialias=D.antialias,this._trackResize=D.trackResize,this._bearingSnap=D.bearingSnap,this._refreshExpiredTiles=D.refreshExpiredTiles,this._fadeDuration=D.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=D.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=D.collectResourceTiming,this._optimizeForTerrain=D.optimizeForTerrain,this._renderTaskQueue=new ei,this._domRenderTaskQueue=new ei,this._controls=[],this._markers=[],this._mapId=n.uniqueId(),this._locale=n.extend({},zo,D.locale),this._clickTolerance=D.clickTolerance,this._averageElevationLastSampledAt=-1/0,this._averageElevation=new aa(0),this._requestManager=new n.RequestManager(D.transformRequest,D.accessToken,D.testMode),this._silenceAuthErrors=!!D.testMode,typeof D.container=="string"){if(this._container=n.window.document.getElementById(D.container),!this._container)throw new Error(`Container '${D.container}' not found.`)}else{if(!(D.container instanceof sa))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=D.container}if(D.maxBounds&&this.setMaxBounds(D.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),n.window!==void 0&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1),n.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new bn(this,D),this._hash=D.hash&&new Xs(typeof D.hash=="string"&&D.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:D.center,zoom:D.zoom,bearing:D.bearing,pitch:D.pitch}),D.bounds&&(this.resize(),this.fitBounds(D.bounds,n.extend({},D.fitBoundsOptions,{duration:0})))),this.resize(),this._localFontFamily=D.localFontFamily,this._localIdeographFontFamily=D.localIdeographFontFamily,D.style&&this.setStyle(D.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),D.attributionControl&&this.addControl(new Rn({customAttribution:D.customAttribution})),this._logoControl=new An,this.addControl(this._logoControl,D.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",_=>{this._update(_.dataType==="style"),this.fire(new n.Event(_.dataType+"data",_))}),this.on("dataloading",_=>{this.fire(new n.Event(_.dataType+"dataloading",_))})}_getMapId(){return this._mapId}addControl(D,_){if(_===void 0&&(_=D.getDefaultPosition?D.getDefaultPosition():"top-right"),!D||!D.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const A=D.onAdd(this);this._controls.push(D);const L=this._controlPositions[_];return _.indexOf("bottom")!==-1?L.insertBefore(A,L.firstChild):L.appendChild(A),this}removeControl(D){if(!D||!D.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const _=this._controls.indexOf(D);return _>-1&&this._controls.splice(_,1),D.onRemove(this),this}hasControl(D){return this._controls.indexOf(D)>-1}resize(D){const _=this._containerDimensions(),A=_[0],L=_[1];this._resizeCanvas(A,L),this.transform.resize(A,L),this.painter.resize(A,L);const G=!this._moving;return G&&(this.stop(),this.fire(new n.Event("movestart",D)).fire(new n.Event("move",D))),this.fire(new n.Event("resize",D)),G&&this.fire(new n.Event("moveend",D)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(D){return this.transform.setMaxBounds(n.LngLatBounds.convert(D)),this._update()}setMinZoom(D){if((D=D==null?-2:D)>=-2&&D<=this.transform.maxZoom)return this.transform.minZoom=D,this._update(),this.getZoom()<D&&this.setZoom(D),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(D){if((D=D==null?22:D)>=this.transform.minZoom)return this.transform.maxZoom=D,this._update(),this.getZoom()>D&&this.setZoom(D),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(D){if((D=D==null?0:D)<0)throw new Error("minPitch must be greater than or equal to 0");if(D>=0&&D<=this.transform.maxPitch)return this.transform.minPitch=D,this._update(),this.getPitch()<D&&this.setPitch(D),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(D){if((D=D==null?85:D)>85)throw new Error("maxPitch must be less than or equal to 85");if(D>=this.transform.minPitch)return this.transform.maxPitch=D,this._update(),this.getPitch()>D&&this.setPitch(D),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(D){return this.transform.renderWorldCopies=D,this._update()}project(D){return this.transform.locationPoint3D(n.LngLat.convert(D))}unproject(D){return this.transform.pointLocation3D(n.pointGeometry.convert(D))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()}_createDelegatedListener(D,_,A){if(D==="mouseenter"||D==="mouseover"){let L=!1;return{layer:_,listener:A,delegates:{mousemove:H=>{const ee=this.getLayer(_)?this.queryRenderedFeatures(H.point,{layers:[_]}):[];ee.length?L||(L=!0,A.call(this,new Oo(D,this,H.originalEvent,{features:ee}))):L=!1},mouseout:()=>{L=!1}}}}if(D==="mouseleave"||D==="mouseout"){let L=!1;return{layer:_,listener:A,delegates:{mousemove:ee=>{(this.getLayer(_)?this.queryRenderedFeatures(ee.point,{layers:[_]}):[]).length?L=!0:L&&(L=!1,A.call(this,new Oo(D,this,ee.originalEvent)))},mouseout:ee=>{L&&(L=!1,A.call(this,new Oo(D,this,ee.originalEvent)))}}}}{const L=G=>{const H=this.getLayer(_)?this.queryRenderedFeatures(G.point,{layers:[_]}):[];H.length&&(G.features=H,A.call(this,G),delete G.features)};return{layer:_,listener:A,delegates:{[D]:L}}}}on(D,_,A){if(A===void 0)return super.on(D,_);const L=this._createDelegatedListener(D,_,A);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[D]=this._delegatedListeners[D]||[],this._delegatedListeners[D].push(L);for(const G in L.delegates)this.on(G,L.delegates[G]);return this}once(D,_,A){if(A===void 0)return super.once(D,_);const L=this._createDelegatedListener(D,_,A);for(const G in L.delegates)this.once(G,L.delegates[G]);return this}off(D,_,A){return A===void 0?super.off(D,_):(this._delegatedListeners&&this._delegatedListeners[D]&&(L=>{const G=this._delegatedListeners[D];for(let H=0;H<G.length;H++){const ee=G[H];if(ee.layer===_&&ee.listener===A){for(const ae in ee.delegates)this.off(ae,ee.delegates[ae]);return G.splice(H,1),this}}})(),this)}queryRenderedFeatures(D,_){return this.style?(_!==void 0||D===void 0||D instanceof n.pointGeometry||Array.isArray(D)||(_=D,D=void 0),this.style.queryRenderedFeatures(D=D||[[0,0],[this.transform.width,this.transform.height]],_=_||{},this.transform)):[]}querySourceFeatures(D,_){return this.style.querySourceFeatures(D,_)}setStyle(D,_){return(_=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},_)).diff!==!1&&_.localIdeographFontFamily===this._localIdeographFontFamily&&_.localFontFamily===this._localFontFamily&&this.style&&D?(this._diffStyle(D,_),this):(this._localIdeographFontFamily=_.localIdeographFontFamily,this._localFontFamily=_.localFontFamily,this._updateStyle(D,_))}_getUIString(D){const _=this._locale[D];if(_==null)throw new Error(`Missing UI string '${D}'`);return _}_updateStyle(D,_){return this.style&&(this.style.setEventedParent(null),this.style._remove(),delete this.style),D&&(this.style=new lr(this,_||{}),this.style.setEventedParent(this,{style:this.style}),typeof D=="string"?this.style.loadURL(D):this.style.loadJSON(D)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new lr(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(D,_){if(typeof D=="string"){const A=this._requestManager.normalizeStyleURL(D),L=this._requestManager.transformRequest(A,n.ResourceType.Style);n.getJSON(L,(G,H)=>{G?this.fire(new n.ErrorEvent(G)):H&&this._updateDiff(H,_)})}else typeof D=="object"&&this._updateDiff(D,_)}_updateDiff(D,_){try{this.style.setState(D)&&this._update(!0)}catch(A){n.warnOnce(`Unable to perform style diff: ${A.message||A.error||A}.  Rebuilding the style from scratch.`),this._updateStyle(D,_)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():n.warnOnce("There is no style added to the map.")}addSource(D,_){return this._lazyInitEmptyStyle(),this.style.addSource(D,_),this._update(!0)}isSourceLoaded(D){const _=this.style&&this.style._getSourceCaches(D);if(_.length!==0)return _.every(A=>A.loaded());this.fire(new n.ErrorEvent(new Error(`There is no source with ID '${D}'`)))}areTilesLoaded(){const D=this.style&&this.style._sourceCaches;for(const _ in D){const A=D[_]._tiles;for(const L in A){const G=A[L];if(G.state!=="loaded"&&G.state!=="errored")return!1}}return!0}addSourceType(D,_,A){return this._lazyInitEmptyStyle(),this.style.addSourceType(D,_,A)}removeSource(D){return this.style.removeSource(D),this._updateTerrain(),this._update(!0)}getSource(D){return this.style.getSource(D)}addImage(D,_,{pixelRatio:A=1,sdf:L=!1,stretchX:G,stretchY:H,content:ee}={}){if(this._lazyInitEmptyStyle(),_ instanceof to||Vi&&_ instanceof Vi){const{width:ae,height:de,data:me}=n.exported.getImageData(_);this.style.addImage(D,{data:new n.RGBAImage({width:ae,height:de},me),pixelRatio:A,stretchX:G,stretchY:H,content:ee,sdf:L,version:0})}else{if(_.width===void 0||_.height===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:ae,height:de,data:me}=_,we=_;this.style.addImage(D,{data:new n.RGBAImage({width:ae,height:de},new Uint8Array(me)),pixelRatio:A,stretchX:G,stretchY:H,content:ee,sdf:L,version:0,userImage:we}),we.onAdd&&we.onAdd(this,D)}}}updateImage(D,_){const A=this.style.getImage(D);if(!A)return this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const L=_ instanceof to||Vi&&_ instanceof Vi?n.exported.getImageData(_):_,{width:G,height:H,data:ee}=L;return G===void 0||H===void 0?this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):G!==A.data.width||H!==A.data.height?this.fire(new n.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(A.data.replace(ee,!(_ instanceof to||Vi&&_ instanceof Vi)),void this.style.updateImage(D,A))}hasImage(D){return D?!!this.style.getImage(D):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(D){this.style.removeImage(D)}loadImage(D,_){n.getImage(this._requestManager.transformRequest(D,n.ResourceType.Image),(A,L)=>{_(A,L instanceof to?n.exported.getImageData(L):L)})}listImages(){return this.style.listImages()}addLayer(D,_){return this._lazyInitEmptyStyle(),this.style.addLayer(D,_),this._update(!0)}moveLayer(D,_){return this.style.moveLayer(D,_),this._update(!0)}removeLayer(D){return this.style.removeLayer(D),this._update(!0)}getLayer(D){return this.style.getLayer(D)}setLayerZoomRange(D,_,A){return this.style.setLayerZoomRange(D,_,A),this._update(!0)}setFilter(D,_,A={}){return this.style.setFilter(D,_,A),this._update(!0)}getFilter(D){return this.style.getFilter(D)}setPaintProperty(D,_,A,L={}){return this.style.setPaintProperty(D,_,A,L),this._update(!0)}getPaintProperty(D,_){return this.style.getPaintProperty(D,_)}setLayoutProperty(D,_,A,L={}){return this.style.setLayoutProperty(D,_,A,L),this._update(!0)}getLayoutProperty(D,_){return this.style.getLayoutProperty(D,_)}setLight(D,_={}){return this._lazyInitEmptyStyle(),this.style.setLight(D,_),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(D){return this._lazyInitEmptyStyle(),this.style.setTerrain(D),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(D){return this._lazyInitEmptyStyle(),this.style.setFog(D),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(D){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(n.LngLat.convert(D),this.transform):0}queryTerrainElevation(D,_){const A=this.transform.elevation;return A?(_=n.extend({},{exaggerated:!0},_),A.getAtPoint(n.MercatorCoordinate.fromLngLat(D),null,_.exaggerated)):null}setFeatureState(D,_){return this.style.setFeatureState(D,_),this._update()}removeFeatureState(D,_){return this.style.removeFeatureState(D,_),this._update()}getFeatureState(D){return this.style.getFeatureState(D)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let D=0,_=0;return this._container&&(D=this._container.clientWidth||400,_=this._container.clientHeight||300),[D,_]}_detectMissingCSS(){n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for vjmaps GL JS, which may cause the map to display incorrectly. Please ensure your page includes vjmaps-gl.css, as described in  https://www.vjmap.com/vjmaps-gl-js/api/.")}_setupContainer(){const D=this._container;D.classList.add("vjmapgis-map"),(this._missingCSSCanary=$.create("div","vjmapgis-canary",D)).style.visibility="hidden",this._detectMissingCSS();const _=this._canvasContainer=$.create("div","vjmapgis-canvas-container",D);this._interactive&&_.classList.add("vjmapgis-interactive"),this._canvas=$.create("canvas","vjmapgis-canvas",_),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const A=this._containerDimensions();this._resizeCanvas(A[0],A[1]);const L=this._controlContainer=$.create("div","vjmapgis-control-container",D),G=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(H=>{G[H]=$.create("div","vjmapgis-ctrl-"+H,L)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(D,_){const A=n.exported.devicePixelRatio||1;this._canvas.width=A*D,this._canvas.height=A*_,this._canvas.style.width=D+"px",this._canvas.style.height=_+"px"}_addMarker(D){this._markers.push(D)}_removeMarker(D){const _=this._markers.indexOf(D);_!==-1&&this._markers.splice(_,1)}_setupPainter(){const D=n.extend({},S.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),_=this._canvas.getContext("webgl",D)||this._canvas.getContext("experimental-webgl",D);_?(n.storeAuthState(_,!0),this.painter=new os(_,this.transform),this.on("data",A=>{A.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),n.exported$1.testSupport(_)):this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(D){D.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:D}))}_contextRestored(D){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:D}))}_onMapScroll(D){if(D.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(D){return this.style?(this._styleDirty=this._styleDirty||D,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(D){return this._update(),this._renderTaskQueue.add(D)}_cancelRenderFrame(D){this._renderTaskQueue.remove(D)}_requestDomTask(D){!this.isMoving()&&this.loaded()?D():this._domRenderTaskQueue.add(D)}_render(D){let _;const A=this.painter.context.extTimerQuery,L=n.exported.now();this.listens("gpu-timing-frame")&&(_=A.createQueryEXT(),A.beginQueryEXT(A.TIME_ELAPSED_EXT,_));let G=this._updateAverageElevation(L);if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(D),this._domRenderTaskQueue.run(D),this._removed)return;let H=!1;const ee=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const de=this.transform.zoom,me=n.exported.now();this.style.zoomHistory.update(de,me);const we=new n.EvaluationParameters(de,{now:me,fadeDuration:ee,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),Ae=we.crossFadingFactor();Ae===1&&Ae===this._crossFadingFactor||(H=!0,this._crossFadingFactor=Ae),this.style.update(we)}if(this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,ee,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:ee,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),speedIndexTiming:this.speedIndexTiming}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&(this.style.hasTransitions()||H)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const de=n.exported.now()-L;A.endQueryEXT(A.TIME_ELAPSED_EXT,_),setTimeout(()=>{const me=A.getQueryObjectEXT(_,A.QUERY_RESULT_EXT)/1e6;A.deleteQueryEXT(_),this.fire(new n.Event("gpu-timing-frame",{cpuTime:de,gpuTime:me}))},50)}if(this.listens("gpu-timing-layer")){const de=this.painter.collectGpuTimers();setTimeout(()=>{const me=this.painter.queryGpuTimers(de);this.fire(new n.Event("gpu-timing-layer",{layerTimes:me}))},50)}const ae=this._sourcesDirty||this._styleDirty||this._placementDirty||G;if(ae||this._repaint)this.triggerRepaint();else{const de=!this.isMoving()&&this.loaded();if(de&&(G=this._updateAverageElevation(L,!0)),G)this.triggerRepaint();else if(this._triggerFrame(!1),de&&(this.fire(new n.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const me=this._calculateSpeedIndex();this.fire(new n.Event("speedindexcompleted",{speedIndex:me})),this.speedIndexTiming=!1}}return!this._loaded||this._fullyLoaded||ae||(this._fullyLoaded=!0,this._authenticate()),this}_updateAverageElevation(D,_=!1){const A=L=>(this.transform.averageElevation=L,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&A(0);if((_||D-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(D)){const L=this.transform.averageElevation;let G=this.transform.sampleAverageElevation();isNaN(G)?G=0:this._averageElevationLastSampledAt=D;const H=Math.abs(L-G);if(H>1)this._averageElevation.easeTo(G,D,300);else if(H>1e-4)return this._averageElevation.jumpTo(G),A(G)}return!!this._averageElevation.isEasing(D)&&A(this._averageElevation.getValue(D))}_authenticate(){n.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,D=>{if(D&&(D.message===n.AUTH_ERR_MSG||D.status===401)){const _=this.painter.context.gl;n.storeAuthState(_,!1),this._logoControl instanceof An&&this._logoControl._updateLogo(),_&&_.clear(_.DEPTH_BUFFER_BIT|_.COLOR_BUFFER_BIT|_.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new n.ErrorEvent(new Error("A valid vjmaps access token is required to use vjmaps GL JS. To create an account or a new access token, visit https://account.vjmap.com/ ")))}}),n.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const D=this.painter.canvasCopy(),_=this.painter.getCanvasCopiesAndTimestamps();_.timeStamps.push(performance.now());const A=this.painter.context.gl,L=A.createFramebuffer();function G(H){A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,H,0);const ee=new Uint8Array(A.drawingBufferWidth*A.drawingBufferHeight*4);return A.readPixels(0,0,A.drawingBufferWidth,A.drawingBufferHeight,A.RGBA,A.UNSIGNED_BYTE,ee),ee}return A.bindFramebuffer(A.FRAMEBUFFER,L),this._canvasPixelComparison(G(D),_.canvasCopies.map(G),_.timeStamps)}_canvasPixelComparison(D,_,A){let L=A[1]-A[0];const G=D.length/4;for(let H=0;H<_.length;H++){const ee=_[H];let ae=0;for(let de=0;de<ee.length;de+=4)ee[de]===D[de]&&ee[de+1]===D[de+1]&&ee[de+2]===D[de+2]&&ee[de+3]===D[de+3]&&(ae+=1);L+=(A[H+2]-A[H+1])*(1-ae/G)}return L}remove(){this._hash&&this._hash.remove();for(const _ of this._controls)_.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),n.window!==void 0&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("orientationchange",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1));const D=this.painter.context.gl.getExtension("WEBGL_lose_context");D&&D.loseContext(),Yi(this._canvasContainer),Yi(this._controlContainer),Yi(this._missingCSSCanary),this._container.classList.remove("vjmapgis-map"),n.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new n.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(D){this._renderNextFrame=this._renderNextFrame||D,this.style&&!this._frame&&(this._frame=n.exported.frame(_=>{const A=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,A&&this._render(_)}))}_onWindowOnline(){this._update()}_onWindowResize(D){this._trackResize&&this.resize({originalEvent:D})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(D){this._showTileBoundaries!==D&&(this._showTileBoundaries=D,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(D){this._showTerrainWireframe!==D&&(this._showTerrainWireframe=D,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(D){this._speedIndexTiming!==D&&(this._speedIndexTiming=D,this._update())}get showPadding(){return!!this._showPadding}set showPadding(D){this._showPadding!==D&&(this._showPadding=D,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(D){this._showCollisionBoxes!==D&&(this._showCollisionBoxes=D,D?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(D){this._showOverdrawInspector!==D&&(this._showOverdrawInspector=D,this._update())}get repaint(){return!!this._repaint}set repaint(D){this._repaint!==D&&(this._repaint=D,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(D){this._vertices=D,this._update()}_setCacheLimits(D,_){n.setCacheLimits(D,_)}get version(){return n.version}},NavigationControl:class{constructor(D){this.options=n.extend({},pr,D),this._container=$.create("div","vjmapgis-ctrl vjmapgis-ctrl-group"),this._container.addEventListener("contextmenu",_=>_.preventDefault()),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("vjmapgis-ctrl-zoom-in",_=>this._map.zoomIn({},{originalEvent:_})),$.create("span","vjmapgis-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("vjmapgis-ctrl-zoom-out",_=>this._map.zoomOut({},{originalEvent:_})),$.create("span","vjmapgis-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("vjmapgis-ctrl-compass",_=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:_}):this._map.resetNorth({},{originalEvent:_})}),this._compassIcon=$.create("span","vjmapgis-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))}_updateZoomButtons(){const D=this._map.getZoom(),_=D===this._map.getMaxZoom(),A=D===this._map.getMinZoom();this._zoomInButton.disabled=_,this._zoomOutButton.disabled=A,this._zoomInButton.setAttribute("aria-disabled",_.toString()),this._zoomOutButton.setAttribute("aria-disabled",A.toString())}_rotateCompassArrow(){const D=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${this._map.transform.angle*(180/Math.PI)}deg)`:`rotate(${this._map.transform.angle*(180/Math.PI)}deg)`;this._map._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=D)})}onAdd(D){return this._map=D,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Re(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){$.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(D,_){const A=$.create("button",D,this._container);return A.type="button",A.addEventListener("click",_),A}_setButtonTitle(D,_){const A=this._map._getUIString("NavigationControl."+_);D.title=A,D.setAttribute("aria-label",A)}},GeolocateControl:class extends n.Evented{constructor(D){super(),this.options=n.extend({},Ke,D),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}onAdd(D){var _;return this._map=D,this._container=$.create("div","vjmapgis-ctrl vjmapgis-ctrl-group"),_=this._setupUI,$t!==void 0?_($t):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(A=>{$t=A.state!=="denied",_($t)}):($t=!!n.window.navigator.geolocation,_($t)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),$.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Yt=0,ur=!1}_isOutOfMapMaxBounds(D){const _=this._map.getMaxBounds(),A=D.coords;return _&&(A.longitude<_.getWest()||A.longitude>_.getEast()||A.latitude<_.getSouth()||A.latitude>_.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-active"),this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-active"),this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-background"),this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-waiting")}}_onSuccess(D){if(this._map){if(this._isOutOfMapMaxBounds(D))return this._setErrorState(),this.fire(new n.Event("outofmaxbounds",D)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=D,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(D),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(D),this.options.showUserLocation&&this._dotElement.classList.remove("vjmapgis-user-location-dot-stale"),this.fire(new n.Event("geolocate",D)),this._finish()}}_updateCamera(D){const _=new n.LngLat(D.coords.longitude,D.coords.latitude),A=D.coords.accuracy,L=this._map.getBearing(),G=n.extend({bearing:L},this.options.fitBoundsOptions);this._map.fitBounds(_.toBounds(A),G,{geolocateSource:!0})}_updateMarker(D){if(D){const _=new n.LngLat(D.coords.longitude,D.coords.latitude);this._accuracyCircleMarker.setLngLat(_).addTo(this._map),this._userLocationDotMarker.setLngLat(_).addTo(this._map),this._accuracy=D.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const D=this._map._container.clientHeight/2,_=this._map.unproject([0,D]),A=this._map.unproject([100,D]),L=_.distanceTo(A)/100,G=Math.ceil(2*this._accuracy/L);this._circleElement.style.width=G+"px",this._circleElement.style.height=G+"px"}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_onError(D){if(this._map){if(this.options.trackUserLocation)if(D.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-active"),this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-background"),this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const _=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=_,this._geolocateButton.setAttribute("aria-label",_),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(D.code===3&&ur)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("vjmapgis-user-location-dot-stale"),this.fire(new n.Event("error",D)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(D){if(this._container.addEventListener("contextmenu",_=>_.preventDefault()),this._geolocateButton=$.create("button","vjmapgis-ctrl-geolocate",this._container),$.create("span","vjmapgis-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",D===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const _=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=_,this._geolocateButton.setAttribute("aria-label",_)}else{const _=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=_,this._geolocateButton.setAttribute("aria-label",_)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=$.create("div","vjmapgis-user-location-dot"),this._userLocationDotMarker=new $o(this._dotElement),this._circleElement=$.create("div","vjmapgis-user-location-accuracy-circle"),this._accuracyCircleMarker=new $o({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",_=>{_.geolocateSource||this._watchState!=="ACTIVE_LOCK"||_.originalEvent&&_.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-background"),this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-active"),this.fire(new n.Event("trackuserlocationend")))})}trigger(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Yt--,ur=!1,this._watchState="OFF",this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-active"),this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-background"),this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let D;this._geolocateButton.classList.add("vjmapgis-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Yt++,Yt>1?(D={maximumAge:6e5,timeout:0},ur=!0):(D=this.options.positionOptions,ur=!1),this._geolocationWatchID=n.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,D)}}else n.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("vjmapgis-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:Rn,ScaleControl:class{constructor(D){this.options=n.extend({},rn,D),n.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){jr(this._map,this._container,this.options)}onAdd(D){return this._map=D,this._container=$.create("div","vjmapgis-ctrl vjmapgis-ctrl-scale",D.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){$.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}setUnit(D){this.options.unit=D,jr(this._map,this._container,this.options)}},FullscreenControl:class{constructor(D){this._fullscreen=!1,D&&D.container&&(D.container instanceof n.window.HTMLElement?this._container=D.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in n.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(D){return this._map=D,this._container||(this._container=this._map.getContainer()),this._controlContainer=$.create("div","vjmapgis-ctrl vjmapgis-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){$.remove(this._controlContainer),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!n.window.document.fullscreenEnabled&&!n.window.document.webkitFullscreenEnabled)}_setupUI(){const D=this._fullscreenButton=$.create("button","vjmapgis-ctrl-fullscreen",this._controlContainer);$.create("span","vjmapgis-ctrl-icon",D).setAttribute("aria-hidden",!0),D.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const D=this._getTitle();this._fullscreenButton.setAttribute("aria-label",D),this._fullscreenButton.title=D}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(n.window.document.fullscreenElement||n.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("vjmapgis-ctrl-shrink"),this._fullscreenButton.classList.toggle("vjmapgis-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends n.Evented{constructor(D){super(),this.options=n.extend(Object.create(_n),D),n.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}addTo(D){return this._map&&this.remove(),this._map=D,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("vjmapgis-popup-track-pointer"),this._map._canvasContainer.classList.add("vjmapgis-track-pointer")):this._map.on("move",this._update),this.fire(new n.Event("open")),this}isOpen(){return!!this._map}remove(){return this._content&&$.remove(this._content),this._container&&($.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new n.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(D){return this._lngLat=n.LngLat.convert(D),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("vjmapgis-popup-track-pointer"),this._map._canvasContainer.classList.remove("vjmapgis-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("vjmapgis-popup-track-pointer"),this._map._canvasContainer.classList.add("vjmapgis-track-pointer")),this}getElement(){return this._container}setText(D){return this.setDOMContent(n.window.document.createTextNode(D))}setHTML(D){const _=n.window.document.createDocumentFragment(),A=n.window.document.createElement("body");let L;for(A.innerHTML=D;L=A.firstChild,L;)_.appendChild(L);return this.setDOMContent(_)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(D){return this.options.maxWidth=D,this._update(),this}setDOMContent(D){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=$.create("div","vjmapgis-popup-content",this._container);return this._content.appendChild(D),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(D){this._container&&this._container.classList.add(D)}removeClassName(D){this._container&&this._container.classList.remove(D)}setOffset(D){return this.options.offset=D,this._update(),this}toggleClassName(D){if(this._container)return this._container.classList.toggle(D)}_createCloseButton(){this.options.closeButton&&(this._closeButton=$.create("button","vjmapgis-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_onMouseUp(D){this._update(D.point)}_onMouseMove(D){this._update(D.point)}_onDrag(D){this._update(D.point)}_update(D){if(!this._map||!this._lngLat&&!this._trackPointer||!this._content||(this._container||(this._container=$.create("div","vjmapgis-popup",this._map.getContainer()),this._tip=$.create("div","vjmapgis-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(H=>this._container.classList.add(H)),this._trackPointer&&this._container.classList.add("vjmapgis-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=fi(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!D))return;const _=this._pos=this._trackPointer&&D?D:this._map.project(this._lngLat);let A=this.options.anchor;const L=Tn(this.options.offset);if(!A){const H=this._container.offsetWidth,ee=this._container.offsetHeight;let ae;ae=_.y+L.bottom.y<ee?["top"]:_.y>this._map.transform.height-ee?["bottom"]:[],_.x<H/2?ae.push("left"):_.x>this._map.transform.width-H/2&&ae.push("right"),A=ae.length===0?"bottom":ae.join("-")}const G=_.add(L[A]).round();this._map._requestDomTask(()=>{this._container&&A&&($.setTransform(this._container,`${Gn[A]} translate(${G.x}px,${G.y}px)`),Ni(this._container,A,"popup"))})}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const D=this._container.querySelector(En);D&&D.focus()}_onClose(){this.remove()}_setOpacity(D){this._content&&(this._content.style.opacity=D),this._tip&&(this._tip.style.opacity=D)}},Marker:$o,Style:lr,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.pointGeometry,MercatorCoordinate:n.MercatorCoordinate,FreeCameraOptions:bs,Evented:n.Evented,config:n.config,prewarm:function(){ln().acquire(Cr)},clearPrewarmedResources:function(){const D=Tr;D&&(D.isPreloaded()&&D.numActive()===1?(D.release(Cr),Tr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(D){n.config.ACCESS_TOKEN=D},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(D){n.config.API_URL=D},get workerCount(){return Lr.workerCount},set workerCount(D){Lr.workerCount=D},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(D){n.config.MAX_PARALLEL_IMAGE_REQUESTS=D},clearStorage(D){n.clearTileCache(D)},workerUrl:"",workerClass:null,setNow:n.exported.setNow,restoreNow:n.exported.restoreNow};return Ln}),u}()}).call(this,l(31))},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbEntity=void 0,r.DbEntity=class{constructor(g={}){this.typename||(this.typename="DbEntity")}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbDimension=void 0;const g=l(4);class x extends g.DbEntity{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbDimension"}}r.DbDimension=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.OverlayLayerBase=void 0,r.OverlayLayerBase=class{constructor(){}addTo(g,x){this.options.sourceLayer&&this.setLayerSource(this.layerId,this.sourceId,this.options.sourceLayer),this.options.isHoverPointer&&this.hoverPointer(),this.options.isHoverFeatureState&&this.hoverFeatureState()}getSourceId(){return this.sourceId}getLayerId(){return this.layerId}getData(){var g,x;return(x=(g=this._map)===null||g===void 0?void 0:g.getSource(this.getSourceId()))===null||x===void 0?void 0:x._data}remove(){this._map&&this._map.removeSourceEx(this.sourceId)}hoverPointer(){this._map.hoverPointer(this.layerId)}hoverFeatureState(g,x){this._map.hoverFeatureState(this.layerId,this.sourceId,this.options.sourceLayer,g,x)}hoverPopup(g,x){return this._map.hoverPopup(this.layerId,g,x)}clickPopup(g,x){return this._map.clickPopup(this.layerId,g,x)}clickLayer(g){return this._map.clickLayer(this.layerId,g)}hoverLayer(g){return this._map.hoverLayer(this.layerId,g)}show(){this._map.show(this.layerId)}hide(){this._map.hide(this.layerId)}toggle(g){return this._map.toggle(this.layerId,g)}setProperty(g,x){return this._map.setProperty(this.layerId,g,x)}getLayerStyle(){return this._map.getLayerStyle(this.layerId)}setLayerStyle(g){return this._map.setLayerStyle(this.layerId,g)}setFilter(g){return this._map.setFilterEx(this.layerId,g)}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.equals=r.toRadian=r.EPSILON=void 0,r.EPSILON=1e-8;const g=Math.PI/180;r.toRadian=function(x){return x*g},r.equals=function(x,C){return Math.abs(x-C)<=r.EPSILON*Math.max(1,Math.abs(x),Math.abs(C))}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbCurve=void 0;const g=l(4);class x extends g.DbEntity{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbCurve"}}r.DbCurve=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.Projection=void 0;const g=l(1);class x{static lngLat2Mercator(u){const f=g.GeoPoint.convert(u),n=f.x*x.EQUATORIAL_SEMIPERIMETER/180;let S=Math.log(Math.tan((90+f.y)*Math.PI/360))/(Math.PI/180);return S=S*x.EQUATORIAL_SEMIPERIMETER/180,[n,S]}static mercator2LngLat(u){const f=g.GeoPoint.convert(u),n=f.x/x.EQUATORIAL_SEMIPERIMETER*180;let S=f.y/x.EQUATORIAL_SEMIPERIMETER*180;return S=180/Math.PI*(2*Math.atan(Math.exp(S*Math.PI/180))-Math.PI/2),[n,S]}}r.Projection=x,x.EQUATORIAL_SEMIPERIMETER=200375083427892e-7,x.EARTH_BOUNDS=[-x.EQUATORIAL_SEMIPERIMETER,-x.EQUATORIAL_SEMIPERIMETER,x.EQUATORIAL_SEMIPERIMETER,x.EQUATORIAL_SEMIPERIMETER]},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.isGeoPointLike=void 0;const g=l(1);r.isGeoPointLike=function(x){if(Array.isArray(x)){const[C,u,f]=x;return typeof C=="number"&&typeof u=="number"&&(f===void 0||typeof f=="number")}return x instanceof g.GeoPoint||typeof x=="object"&&("x"in x&&"y"in x||"lng"in x&&"lat"in x||"lon"in x&&"lat"in x)}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.geoBounds=r.GeoBounds=void 0;const g=l(36),x=l(12),C=l(1),u=l(9);class f{constructor(S,k){this.min=S!=null?S:new C.GeoPoint(-1/0,-1/0),this.max=k!=null?k:new C.GeoPoint(1/0,1/0),this.set(this.min,this.max)}static fromArray(S){return new f(new C.GeoPoint(S[0],S[1]),new C.GeoPoint(S[2],S[3]))}static fromString(S){S.indexOf("[")<0&&S.indexOf("]")<0&&(S="["+S+"]");const k=JSON.parse(S);if(Array.isArray(k)&&k.length===4)return new f(new C.GeoPoint(k[0],k[1]),new C.GeoPoint(k[2],k[3]));throw Error("param is not array length four string")}static fromDataExtent(S){const k=new f,M=[];return x.transform.convert(S,P=>(M.push(new C.GeoPoint(P[0],P[1])),P)),k.update(M),k}static fromCenterWH(S,k,M){const P=C.GeoPoint.convert(S);return M=M!=null?M:k,new f(new C.GeoPoint(P.x-k/2,P.y-M/2),new C.GeoPoint(P.x+k/2,P.y+M/2))}set(S,k){let M=Math.min(S.x,k.x),P=Math.min(S.y,k.y),$=Math.max(S.x,k.x),R=Math.max(S.y,k.y);this.min.x=M,this.min.y=P,this.max.x=$,this.max.y=R}center(){return new C.GeoPoint((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2)}randomPoint(S=.6,k=.6){const M=this.width()*Math.random()*S,P=this.height()*Math.random()*k,$=this.center();return new C.GeoPoint($.x-this.width()*S/2+M,$.y-this.height()*k/2+P)}randomPoints(S,k,M=.6,P=.6){const $=g.randInt(S,k),R=[];for(let B=0;B<$;B++)R.push(this.randomPoint(M,P));return R}randomGeoJsonPointCollection(S,k=.6,M=.6,P){if(P=P!=null?P:()=>{},S===1){const $=this.randomPoint(k,M);return{type:"Feature",id:1,properties:Object.assign({index:1},P(1)),geometry:{type:"Point",coordinates:[$.x,$.y]}}}{const $={type:"FeatureCollection",features:[]};for(let R=0;R<S;R++){const B=this.randomPoint(k,M),V={type:"Feature",id:R+1,properties:Object.assign({index:R+1},P(R+1)),geometry:{type:"Point",coordinates:[B.x,B.y]}};$.features.push(V)}return $}}randomGeoJsonLineCollection(S,k,M=.6,P=.6,$){$=$!=null?$:()=>{};{const R=g.randInt(1,S),B={type:"FeatureCollection",features:[]};for(let V=0;V<R;V++){const j=g.randInt(2,k),U=[];for(let Y=0;Y<j;Y++){const Q=this.randomPoint(M,P);U.push([Q.x,Q.y])}const q={type:"Feature",id:V+1,properties:Object.assign({index:V+1},$(V+1)),geometry:{type:"LineString",coordinates:U}};B.features.push(q)}return B}}randomGeoJsonPolygonCollection(S,k,M=.6,P=.6,$){$=$!=null?$:()=>{};{const R=g.randInt(1,S),B={type:"FeatureCollection",features:[]};for(let V=0;V<R;V++){const j=g.randInt(3,k),U=[];for(let Y=0;Y<j;Y++){const Q=this.randomPoint(M,P);U.push([Q.x,Q.y])}const q={type:"Feature",id:V+1,properties:Object.assign({index:V+1},$(V+1)),geometry:{type:"Polygon",coordinates:[U]}};B.features.push(q)}return B}}toArray(){return[this.min.x,this.min.y,this.max.x,this.max.y]}toPointArray(){return[[this.min.x,this.max.y],[this.max.x,this.max.y],[this.max.x,this.min.y],[this.min.x,this.min.y]]}toString(S=6){return`${this.min.toString(S)}, ${this.max.toString(S)}`}clone(){return new f(this.min,this.max)}square(S){if(S){const k=u.Projection.lngLat2Mercator(this.min),M=u.Projection.lngLat2Mercator(this.max),P=new f(C.GeoPoint.convert(k),C.GeoPoint.convert(M)).square(!1),$=u.Projection.mercator2LngLat(P.min),R=u.Projection.mercator2LngLat(P.max);return new f(C.GeoPoint.convert($),C.GeoPoint.convert(R))}{const k=this.center(),M=this.width()>this.height()?this.width():this.height();return new f(new C.GeoPoint(k.x-M/2,k.y-M/2),new C.GeoPoint(k.x+M/2,k.y+M/2))}}width(){return this.max.x-this.min.x}height(){return this.max.y-this.min.y}scale(S,k){S=S||1,k||(k=this.center());const M=k.x,P=k.y,$=(this.min.x-M)*S+M,R=(this.min.y-P)*S+P,B=(this.max.x-M)*S+M,V=(this.max.y-P)*S+P;return new f(new C.GeoPoint($,R),new C.GeoPoint(B,V))}scaleXY(S,k,M){S=S!=null?S:1,k=k!=null?k:1,M||(M=this.center());const P=M.x,$=M.y,R=(this.min.x-P)*S+P,B=(this.min.y-$)*S+$,V=(this.max.x-P)*k+P,j=(this.max.y-$)*k+$;return new f(new C.GeoPoint(R,B),new C.GeoPoint(V,j))}translate(S,k){this.min.x+=S,this.min.y+=k,this.max.x+=S,this.max.y+=k}update(S){let k=-1/0,M=-1/0,P=1/0,$=1/0;this.min.x!=1/0&&this.min.y!=-1/0&&(k=this.max.x,M=this.max.y,P=this.min.x,$=this.min.y);for(let R=0;R<S.length;R++){const B=S[R];B.x<P&&(P=B.x),B.x>k&&(k=B.x),B.y<$&&($=B.y),B.y>M&&(M=B.y)}this.min.x=P,this.min.y=$,this.max.x=k,this.max.y=M}updateByBounds(S){let k,M=-1/0,P=-1/0,$=1/0,R=1/0;this.min.x!=1/0&&this.min.y!=-1/0&&(M=this.max.x,P=this.max.y,$=this.min.x,R=this.min.y),Array.isArray(S)||(S=[S]);for(let B=0;B<S.length;B++)k=S[B],k.min.x<$&&($=k.min.x),k.min.y<R&&(R=k.min.y),k.max.x>M&&(M=k.max.x),k.max.y>P&&(P=k.max.y);this.min.x=$,this.min.y=R,this.max.x=M,this.max.y=P}intersect(S){const k=Math.max(this.min.x,S.min.x),M=Math.min(this.max.x,S.max.x),P=Math.max(this.min.y,S.min.y),$=M-k,R=Math.min(this.max.y,S.max.y)-P;if($<0||R<0)return null;const B=new C.GeoPoint(k,P),V=new C.GeoPoint(k+$,P+R);return new f(B,V)}union(S){const k=new C.GeoPoint(Math.min(this.min.x,S.min.x),Math.min(this.min.y,S.min.y)),M=new C.GeoPoint(Math.max(this.max.x,S.max.x),Math.max(this.max.y,S.max.y));return new f(k,M)}isIntersect(S){return this.min.x<=S.max.x&&this.max.x>=S.min.x&&this.min.y<=S.max.y&&S.min.y<=this.max.y}isContains(S){return this.min.x<=S.min.x&&this.min.y<=S.min.y&&this.max.x>=S.max.x&&this.max.y>=S.max.y}contains(S){return S.x>=this.min.x&&S.x<=this.max.x&&S.y>=this.min.y&&S.y<=this.max.y}closestInterval(S,k,M=!0){return k<=S.min?{value:S.min,contained:!1}:S.max<=k?{value:S.max,contained:!1}:M?{value:k,contained:!0}:k-S.min<S.max-k?{value:S.min,contained:!0}:{value:S.max,contained:!0}}closestPoint(S,k=!0){const M=this.closestInterval({min:this.min.x,max:this.max.x},S.x,k),P=this.closestInterval({min:this.min.y,max:this.max.y},S.y,k);return!M.contained&&!P.contained?new C.GeoPoint(M.value,P.value):M.contained&&!P.contained?new C.GeoPoint(S.x,P.value):!M.contained&&P.contained?new C.GeoPoint(M.value,S.y):k?S:Math.abs(S.x-M.value)<Math.abs(S.y-P.value)?new C.GeoPoint(M.value,S.y):new C.GeoPoint(S.x,P.value)}}r.GeoBounds=f,r.geoBounds=function(n,S){return new f(n,S)}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.transform=void 0;const g=l(37),x=l(73),C=l(74);r.transform={CRSTypes:g.CRSTypes,convert:x.default,EpsgCrsTypes:C.EpsgCrsTypes,getEpsgParam:C.getEpsgParam}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.MathUtils=void 0,function(g){function x(C,u,f){return C<u?u:C>f?f:C}g.clamp=x,g.wrap=function(C,u,f,n=!1){const S=f-u,k=((C-u)%S+S)%S+u;return k===u?n?u:f:k},g.smoothStep=function(C,u,f){return(f=x((f-C)/(u-C),0,1))*f*(3-2*f)},g.smootherStep=function(C,u,f){return(f=x((f-C)/(u-C),0,1))*f*f*(f*(6*f-15)+10)},g.map=function(C,u,f,n,S){return(C-u)*(S-n)/(f-u)+n},g.min2=function(C,u){let f;return C!==void 0&&(f=C),u!==void 0&&(f=f===void 0?u:Math.min(f,u)),f},g.lerp=function(C,u,f){return C+f*(u-C)},g.max2=function(C,u){let f;return C!==void 0&&(f=C),u!==void 0&&(f=f===void 0?u:Math.max(f,u)),f},g.isClamped=function(C,u,f){return!(u!==void 0&&C<u)&&!(f!==void 0&&C>f)},g.easeInOutCubic=function(C,u,f){return C+(u-C)*(f<.5?4*f*f*f:(f-1)*(2*f-2)*(2*f-2)+1)},g.equals=function(C,u,f=8){const n=1/Math.pow(10,f);return Math.abs(C-u)<=n}}(r.MathUtils||(r.MathUtils={}))},function(e,r,l){l.r(r),l.d(r,"invariant",function(){return x}),l.d(r,"warning",function(){return g});var g=function(){},x=function(){}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.clamp=void 0,r.clamp=(g,x,C)=>Math.min(Math.max(C,g),x)},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.mix=void 0,r.mix=(g,x,C)=>-C*g+C*x+g},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.bufferConvexPolygon=r.clipPolygon=r._getEdgeIntersection=r.clipSegment=r.multiLineSplit=r.lineSplit=r.segmentIntersect=r.closestPointOnPolylines=r.closestPointOnPolyline=r.closestPointOnSegment=r.pointToSegmentDistance=r.simplify=void 0;const g=l(11),x=l(1);var C=l(13).MathUtils.wrap,u=l(18).Math2D.dist;const f=l(0);function n(V,j,U){return B(V,j,U)}function S(V,j){let U,q=0,Y=0,Q=0;for(let te=1;te<j.length;te++){const re=n(V,j[te-1],j[te]),oe=u(re.x,re.y,V.x,V.y,re.z,V.z);te===1?(q=oe,U=re,Y=0,Q=u(re.x,re.y,j[te-1].x,j[te-1].y,re.z,j[te-1].z)):oe<q&&(q=oe,U=re,Y=te-1,Q=u(re.x,re.y,j[te-1].x,j[te-1].y,re.z,j[te-1].z))}return{closestLength:q,closestPoint:U,closestIndex:Y,closestPrePointDist:Q}}function k(V,j,U,q,Y,Q,te,re){const oe=(re-Q)*(U-V)-(te-Y)*(q-j),se=(te-Y)*(j-Q)-(re-Q)*(V-Y),fe=(U-V)*(j-Q)-(q-j)*(V-Y);if(f.isZero(oe))return f.isZero(se)&&f.isZero(fe)?{result:"COLINEAR",status:!1}:{result:"PARALLEL",status:!1};const ge=se/oe,Ce=fe/oe;return ge>=0&&ge<=1&&Ce>=0&&Ce<=1?{status:!0,x:V+ge*(U-V),y:j+ge*(q-j),ratio:ge}:{result:"NONE",status:!1}}function M(V,j,U){if(U=U!=null?U:6,V.length<2||j.length<2)return[[...V]];const q=[],Y=te=>{let re=0;for(re=0;re<q.length;re++){const oe=q[re];if(!(oe.closestPointIndex<te.closestPointIndex)&&!(oe.closestPointIndex===te.closestPointIndex&&oe.ratio<te.ratio))break}q.splice(re,0,te)};for(let te=1;te<V.length;te++)for(let re=1;re<j.length;re++){const oe=k(V[te-1].x,V[te-1].y,V[te].x,V[te].y,j[re-1].x,j[re-1].y,j[re].x,j[re].y);if(oe.status&&!f.isZero(oe.ratio)&&!f.isZero(oe.ratio-1)){const se=new x.GeoPoint(oe.x,oe.y),fe=new x.GeoPoint(V[te-1].x,V[te-1].y),ge=new x.GeoPoint(V[te].x,V[te].y);se.equals(fe,U)||se.equals(ge,U)||Y({point:se,closestPointIndex:te-1,ratio:oe.ratio})}}const Q=[];if(q.length===0)return[[...V]];{let te=[],re=0;for(let oe=0;oe<q.length;oe++){const se=q[oe];for(;!(re>se.closestPointIndex||re>=V.length);)te.push(V[re]),re++;te.push(se.point),Q.push(te),te=[],te.push(se.point)}for(let oe=re;oe<V.length;oe++)te.push(V[oe]);Q.push(te)}return Q}function P(V,j,U,q){const Y=j.x-V.x,Q=j.y-V.y,te=q.min,re=q.max;let oe=0,se=0;return 8&U?(oe=V.x+Y*(re.y-V.y)/Q,se=re.y):4&U?(oe=V.x+Y*(te.y-V.y)/Q,se=te.y):2&U?(oe=re.x,se=V.y+Q*(re.x-V.x)/Y):1&U&&(oe=te.x,se=V.y+Q*(te.x-V.x)/Y),new x.GeoPoint(oe,se)}function $(V,j){let U=0;return V.x<j.min.x?U|=1:V.x>j.max.x&&(U|=2),V.y<j.min.y?U|=4:V.y>j.max.y&&(U|=8),U}function R(V,j){const U=j.x-V.x,q=j.y-V.y;return U*U+q*q}function B(V,j,U,q){if(V.z!==void 0&&j.z!==void 0&&U.z!==void 0){const fe=function(ge,Ce,$e){const be=$e.clone().sub(Ce),ke=ge.clone().sub(Ce).dot(be)/be.lengthSq();return Ce.clone().lerp($e,Math.min(Math.max(ke,0),1))}(V,j,U);if(q){const ge=V.x-fe.x,Ce=V.y-fe.y;let $e=0;return fe.z!==void 0&&($e=V.z-fe.z),ge*ge+Ce*Ce+$e*$e}return fe}let Y=j.x,Q=j.y,te=U.x-Y,re=U.y-Q;const oe=te*te+re*re;let se;return oe>0&&(se=((V.x-Y)*te+(V.y-Q)*re)/oe,se>1?(Y=U.x,Q=U.y):se>0&&(Y+=te*se,Q+=re*se)),te=V.x-Y,re=V.y-Q,q?te*te+re*re:new x.GeoPoint(Y,Q)}r.simplify=function(V,j){if(!j||!V.length)return V.slice();const U=j*j;return V=function(q,Y){const Q=q.length,te=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(Q);let re;te[0]=te[Q-1]=1,function se(fe,ge,Ce,$e,be){let ke,Ee,He=0,rt=0;for(ke=$e+1;ke<=be-1;ke++)Ee=B(fe[ke],fe[$e],fe[be],!0),Ee>He&&(rt=ke,He=Ee);He>Ce&&(ge[rt]=1,se(fe,ge,Ce,$e,rt),se(fe,ge,Ce,rt,be))}(q,te,Y,0,Q-1);var oe=[];for(re=0;re<Q;re++)te[re]&&oe.push(q[re]);return oe}(V=function(q,Y){for(var Q=[q[0]],te=1,re=0,oe=q.length;te<oe;te++)R(q[te],q[re])>Y&&(Q.push(q[te]),re=te);return re<oe-1&&Q.push(q[oe-1]),Q}(V,U),U)},r.pointToSegmentDistance=function(V,j,U){return Math.sqrt(B(V,j,U,!0))},r.closestPointOnSegment=n,r.closestPointOnPolyline=S,r.closestPointOnPolylines=function(V,j){let U,q=Number.MAX_VALUE,Y=0,Q=0,te=0;for(let re=0;re<j.length;re++){const oe=j[re],se=g.GeoBounds.fromDataExtent(oe).closestPoint(V);if(u(se.x,se.y,V.x,V.y,se.z,V.z)>q)continue;const fe=S(V,oe);fe.closestLength<q&&(q=fe.closestLength,U=fe.closestPoint,Y=re,Q=fe.closestIndex,te=fe.closestPrePointDist)}return{closestLength:q,closestPoint:U,closestIndex:Y,closestPointIndex:Q,closestPrePointDist:te}},r.segmentIntersect=k,r.lineSplit=M,r.multiLineSplit=function(V,j){const U=[],q=V.map(Q=>g.GeoBounds.fromDataExtent(Q)),Y=new Set;for(let Q=0;Q<V.length;Q++)if(!Y.has(Q)){for(let te=0;te<V.length;te++)if(Q!==te&&!Y.has(Q)&&!Y.has(te)&&q[Q].isIntersect(q[te])){const re=M(V[Q],V[te]);if(re.length>1){Y.add(Q),V.push(...re),q.push(...re.map(oe=>g.GeoBounds.fromDataExtent(oe)));break}}}for(let Q=0;Q<V.length;Q++)Y.has(Q)||U.push(V[Q]);return U},r.clipSegment=function(V,j,U){let q,Y,Q,te=$(V,U),re=$(j,U);for(;;){if(!(te|re))return[V,j];if(te&re)return!1;q=te||re,Y=P(V,j,q,U),Q=$(Y,U),q===te?(V=Y,te=Q):(j=Y,re=Q)}},r._getEdgeIntersection=P,r.clipPolygon=function(V,j){let U;const q=[1,4,2,8];let Y,Q,te,re,oe,se,fe,ge;for(Y=0,se=V.length;Y<se;Y++)V[Y]._code=$(V[Y],j);for(te=0;te<4;te++){for(fe=q[te],U=[],Y=0,se=V.length,Q=se-1;Y<se;Q=Y++)re=V[Y],oe=V[Q],re._code&fe?oe._code&fe||(ge=P(oe,re,fe,j),ge._code=$(ge,j),U.push(ge)):(oe._code&fe&&(ge=P(oe,re,fe,j),ge._code=$(ge,j),U.push(ge)),U.push(re));V=U}return V},r.bufferConvexPolygon=function(V,j){const U=[];for(let q=0;q<V.length;q++){const Y=C(q-1,-1,V.length-1),Q=C(q+1,-1,V.length-1),te=V[Y],re=V[q],oe=V[Q],se=te.sub(re).unit(),fe=oe.sub(re).unit(),ge=fe.angleWithSep(se.x,se.y),Ce=se.add(fe).unit().mult(-1*j/Math.sin(ge/2));U.push(re.add(Ce))}return U}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.Math2D=void 0;const g=l(1);(function(x){function C(f,n,S,k){return(f-S)*(f-S)+(n-k)*(n-k)}function u(f,n,S,k,M,P){return Math.sqrt(M!==void 0&&P!==void 0?(f-S)*(f-S)+(n-k)*(n-k)+(M-P)*(M-P):C(f,n,S,k))}x.Box=class{constructor(f=0,n=0,S=0,k=0){this.x=f,this.y=n,this.w=S,this.h=k}set(f,n,S,k){this.x=f,this.y=n,this.w=S,this.h=k}contains(f,n){return this.x<=f&&this.x+this.w>=f&&this.y<=n&&this.y+this.h>=n}containsBox(f){const n=f.x+f.w,S=f.y+f.h;return this.contains(f.x,f.y)&&this.contains(n,f.y)&&this.contains(f.x,S)&&this.contains(n,S)}intersects(f){return this.x<=f.x+f.w&&this.x+this.w>=f.x&&this.y<=f.y+f.h&&this.y+this.h>=f.y}},x.distSquared=C,x.dist=u,x.lineDist=function(f){let n=0;const S=f.map(k=>g.GeoPoint.convert(k));for(let k=1;k<S.length;k++)n+=u(S[k-1].x,S[k-1].y,S[k].x,S[k].y,S[k].z,S[k].z);return n},x.computeSquaredLineLength=function(f){let n=0;const S=f.length-4;for(let k=0;k<S;k+=3){const M=f[k+3]-f[k],P=f[k+4]-f[k+1];n+=M*M+P*P}return n},x.distToSegmentSquared=function(f,n,S,k,M,P){const $=C(S,k,M,P);if($===0)return C(f,n,S,k);let R=((f-S)*(M-S)+(n-k)*(P-k))/$;return R=Math.max(0,Math.min(1,R)),C(f,n,S+R*(M-S),k+R*(P-k))},x.intersectLineAndCircle=function(f,n,S,k,M,P=0,$=0){const R=S-f,B=k-n,V=R*R+B*B,j=f*k-S*n-B*P+R*$,U=M*M*V-j*j;if(U<-1e-10)return;const q=j*B,Y=-j*R;if(U<1e-10)return{x1:P+q/V,y1:$+Y/V};const Q=Math.sqrt(U),te=(B<0?-1:1)*R*Q,re=Math.abs(B)*Q;return{x1:P+(q+te)/V,y1:$+(Y+re)/V,x2:P+(q-te)/V,y2:$+(Y-re)/V}},x.intersectLines=function(f,n,S,k,M,P,$,R,B={x:0,y:0}){const V=(f-S)*(P-R)-(n-k)*(M-$);if(V===0)return;const j=((f*k-n*S)*(M-$)-(f-S)*(M*R-P*$))/V,U=((f*k-n*S)*(P-R)-(n-k)*(M*R-P*$))/V;return B.x=j,B.y=U,B}})(r.Math2D||(r.Math2D={}))},function(e,r,l){var g=this&&this.__createBinding||(Object.create?function(C,u,f,n){n===void 0&&(n=f),Object.defineProperty(C,n,{enumerable:!0,get:function(){return u[f]}})}:function(C,u,f,n){n===void 0&&(n=f),C[n]=u[f]}),x=this&&this.__exportStar||function(C,u){for(var f in C)f==="default"||u.hasOwnProperty(f)||g(u,C,f)};Object.defineProperty(r,"__esModule",{value:!0}),x(l(42),r),x(l(43),r),x(l(44),r),x(l(98),r)},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.interpolate=void 0;const g=l(14),x=l(28),C=l(15),u=l(16),f=l(21),n=l(48),S=l(23),k=l(49),M=($,R)=>B=>u.mix($,R,B);function P($,R,B){const V=[],j=B||(typeof(U=$[0])=="number"?M:typeof U=="string"?x.color.test(U)?f.mixColor:n.mixComplex:Array.isArray(U)?n.mixArray:typeof U=="object"?n.mixObject:void 0);var U;const q=$.length-1;for(let Y=0;Y<q;Y++){let Q=j($[Y],$[Y+1]);if(R){const te=Array.isArray(R)?R[Y]:R;Q=S.pipe(te,Q)}V.push(Q)}return V}r.interpolate=function($,R,{clamp:B=!0,ease:V,mixer:j}={}){const U=$.length;g.invariant(U===R.length,"Both input and output ranges must be the same length"),g.invariant(!V||!Array.isArray(V)||V.length===U-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),$[0]>$[U-1]&&($=[].concat($),R=[].concat(R),$.reverse(),R.reverse());const q=P(R,V,j),Y=U===2?function([Q,te],[re]){return oe=>re(k.progress(Q,te,oe))}($,q):function(Q,te){const re=Q.length,oe=re-1;return se=>{let fe=0,ge=!1;if(se<=Q[0]?ge=!0:se>=Q[oe]&&(fe=oe-1,ge=!0),!ge){let $e=1;for(;$e<re&&!(Q[$e]>se||$e===oe);$e++);fe=$e-1}const Ce=k.progress(Q[fe],Q[fe+1],se);return te[fe](Ce)}}($,q);return B?Q=>Y(C.clamp($[0],$[U-1],Q)):Y}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.mixColor=r.mixLinearColor=void 0;const g=l(14),x=l(28),C=l(16);r.mixLinearColor=(S,k,M)=>{const P=S*S,$=k*k;return Math.sqrt(Math.max(0,M*($-P)+P))};const u=[x.hex,x.rgba,x.hsla],f=S=>u.find(k=>k.test(S)),n=S=>`'${S}' is not an animatable color. Use the equivalent color code instead.`;r.mixColor=(S,k)=>{const M=f(S),P=f(k);g.invariant(!!M,n(S)),g.invariant(!!P,n(k)),g.invariant(M.transform===P.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");const $=M.parse(S),R=P.parse(k),B=Object.assign({},$),V=M===x.hsla?C.mix:r.mixLinearColor;return j=>{for(const U in B)U!=="alpha"&&(B[U]=V($[U],R[U],j));return B.alpha=C.mix($.alpha,R.alpha,j),M.transform(B)}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.isNum=r.zeroPoint=void 0,r.zeroPoint={x:0,y:0,z:0},r.isNum=g=>typeof g=="number"},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.pipe=void 0;const g=(x,C)=>u=>C(x(u));r.pipe=(...x)=>x.reduce(g)},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.bounceInOut=r.bounceIn=r.bounceOut=r.anticipate=r.backInOut=r.backOut=r.backIn=r.circInOut=r.circOut=r.circIn=r.easeInOut=r.easeOut=r.easeIn=r.linear=void 0;const g=l(52);r.linear=x=>x,r.easeIn=g.createExpoIn(2),r.easeOut=g.reverseEasing(r.easeIn),r.easeInOut=g.mirrorEasing(r.easeIn),r.circIn=x=>1-Math.sin(Math.acos(x)),r.circOut=g.reverseEasing(r.circIn),r.circInOut=g.mirrorEasing(r.circOut),r.backIn=g.createBackIn(1.525),r.backOut=g.reverseEasing(r.backIn),r.backInOut=g.mirrorEasing(r.backIn),r.anticipate=g.createAnticipate(1.525),r.bounceOut=x=>{if(x===1||x===0)return x;const C=x*x;return x<4/11?7.5625*C:x<8/11?9.075*C-9.9*x+3.4:x<.9?4356/361*C-35442/1805*x+16061/1805:10.8*x*x-20.52*x+10.72},r.bounceIn=g.reverseEasing(r.bounceOut),r.bounceInOut=x=>x<.5?.5*(1-r.bounceOut(1-2*x)):.5*r.bounceOut(2*x-1)+.5},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.isPoint=void 0,r.isPoint=g=>g.hasOwnProperty("x")&&g.hasOwnProperty("y")},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.Polygon=void 0;const g=l(0),x=l(6);class C extends x.OverlayLayerBase{constructor(f){super(),this.options=g.extend({},f)}addTo(f,n){var S,k;if(this._map=f,this.sourceId=(S=this.options.sourceId)!==null&&S!==void 0?S:"custom_polygon_"+g.RandomID(),this.options.data){const M=g.createPolygonGeoJson(this.options.data);f.addGeoJSONSource(this.sourceId,M)}this.layerId=(k=this.options.layerId)!==null&&k!==void 0?k:"custom_polygon_layer_"+g.RandomID(),f.addFillLayer(this.layerId,this.sourceId,this.options,n),super.addTo(f,n)}setData(f){f=g.createPolygonGeoJson(f),this._map.setData(this.sourceId,f)}setFillSortKey(f){return this._map.setFillSortKey(this.layerId,f),this}setFillAntialias(f){return this._map.setFillAntialias(this.layerId,f),this}setFillOpacity(f){return this._map.setFillOpacity(this.layerId,f),this}setFillColor(f){return this._map.setFillColor(this.layerId,f),this}setFillOutlineColor(f){return this._map.setFillOutlineColor(this.layerId,f),this}setFillTranslate(f){return this._map.setFillTranslate(this.layerId,f),this}setFillTranslateAnchor(f){return this._map.setFillTranslateAnchor(this.layerId,f),this}setFillPattern(f){return this._map.setFillPattern(this.layerId,f),this}getFillSortKey(){return this._map.getFillSortKey(this.layerId)}getFillAntialias(){return this._map.getFillAntialias(this.layerId)}getFillOpacity(){return this._map.getFillOpacity(this.layerId)}getFillColor(){return this._map.getFillColor(this.layerId)}getFillOutlineColor(){return this._map.getFillOutlineColor(this.layerId)}getFillTranslate(){return this._map.getFillTranslate(this.layerId)}getFillTranslateAnchor(){return this._map.getFillTranslateAnchor(this.layerId)}getFillPattern(){return this._map.getFillPattern(this.layerId)}}r.Polygon=C},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.Polyline=void 0;const g=l(0),x=l(6);class C extends x.OverlayLayerBase{constructor(f){super(),this.options=g.extend({},f)}addTo(f,n){var S,k;if(this._map=f,this.sourceId=(S=this.options.sourceId)!==null&&S!==void 0?S:"custom_polyline_"+g.RandomID(),this.options.data){const M=g.createLineGeoJson(this.options.data);f.addGeoJSONSource(this.sourceId,M)}this.layerId=(k=this.options.layerId)!==null&&k!==void 0?k:"custom_polyline_layer_"+g.RandomID(),f.addLineLayer(this.layerId,this.sourceId,this.options,n),super.addTo(f,n)}setData(f){f=g.createLineGeoJson(f),this._map.setData(this.sourceId,f)}setLineCap(f){return this._map.setLineCap(this.layerId,f),this}getLineCap(){return this._map.getLineCap(this.layerId)}setLineJoin(f){return this._map.setLineJoin(this.layerId,f),this}getLineJoin(){return this._map.getLineJoin(this.layerId)}setLineMiterMimit(f){return this._map.setLineMiterMimit(this.layerId,f),this}getLineMiterMimit(){return this._map.getLineMiterMimit(this.layerId)}setLineRoundLimit(f){return this._map.setLineRoundLimit(this.layerId,f),this}getLineRoundLimit(){return this._map.getLineRoundLimit(this.layerId)}setLineSortKey(f){return this._map.setLineSortKey(this.layerId,f),this}getLineSortKey(){return this._map.getLineSortKey(this.layerId)}setLineOpacity(f){return this._map.setLineOpacity(this.layerId,f),this}getLineOpacity(){return this._map.getLineOpacity(this.layerId)}setLineColor(f){return this._map.setLineColor(this.layerId,f),this}getLineColor(){return this._map.getLineColor(this.layerId)}setLineTranslate(f){return this._map.setLineTranslate(this.layerId,f),this}getLineTranslate(){return this._map.getLineTranslate(this.layerId)}setLineTranslateAnchor(f){return this._map.setLineTranslateAnchor(this.layerId,f),this}getLineTranslateAnchor(){return this._map.getLineTranslateAnchor(this.layerId)}setLineWidth(f){return this._map.setLineWidth(this.layerId,f),this}getLineWidth(){return this._map.getLineWidth(this.layerId)}setLineGapWidth(f){return this._map.setLineGapWidth(this.layerId,f),this}getLineGapWidth(){return this._map.getLineGapWidth(this.layerId)}setLineOffset(f){return this._map.setLineOffset(this.layerId,f),this}getLineOffset(){return this._map.getLineOffset(this.layerId)}setLineBlur(f){return this._map.setLineBlur(this.layerId,f),this}getLineBlur(){return this._map.getLineBlur(this.layerId)}setLineDasharray(f){return this._map.setLineDasharray(this.layerId,f),this}getLineDasharray(){return this._map.getLineDasharray(this.layerId)}setLinePattern(f){return this._map.setLinePattern(this.layerId,f),this}getLinePattern(){return this._map.getLinePattern(this.layerId)}setLineGradient(f){return this._map.setLineGradient(this.layerId,f),this}getLineGradient(){return this._map.getLineGradient(this.layerId)}}r.Polyline=C},function(e,r,l){l.r(r),l.d(r,"alpha",function(){return M}),l.d(r,"number",function(){return k}),l.d(r,"scale",function(){return P}),l.d(r,"degrees",function(){return R}),l.d(r,"percent",function(){return B}),l.d(r,"progressPercentage",function(){return q}),l.d(r,"px",function(){return V}),l.d(r,"vh",function(){return j}),l.d(r,"vw",function(){return U}),l.d(r,"hsla",function(){return te}),l.d(r,"rgbUnit",function(){return oe}),l.d(r,"rgba",function(){return se}),l.d(r,"hex",function(){return fe}),l.d(r,"color",function(){return ge}),l.d(r,"complex",function(){return Ee}),l.d(r,"filter",function(){return bt});var g=function(){return(g=Object.assign||function(Ye){for(var De,at=1,Ut=arguments.length;at<Ut;at++)for(var je in De=arguments[at])Object.prototype.hasOwnProperty.call(De,je)&&(Ye[je]=De[je]);return Ye}).apply(this,arguments)},x=function(Ye,De){return function(at){return Math.max(Math.min(at,De),Ye)}},C=function(Ye){return Ye%1?Number(Ye.toFixed(5)):Ye},u=/(-)?([\d]*\.?[\d])+/g,f=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,n=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function S(Ye){return typeof Ye=="string"}var k={test:function(Ye){return typeof Ye=="number"},parse:parseFloat,transform:function(Ye){return Ye}},M=g(g({},k),{transform:x(0,1)}),P=g(g({},k),{default:1}),$=function(Ye){return{test:function(De){return S(De)&&De.endsWith(Ye)&&De.split(" ").length===1},parse:parseFloat,transform:function(De){return""+De+Ye}}},R=$("deg"),B=$("%"),V=$("px"),j=$("vh"),U=$("vw"),q=g(g({},B),{parse:function(Ye){return B.parse(Ye)/100},transform:function(Ye){return B.transform(100*Ye)}}),Y=function(Ye,De){return function(at){return Boolean(S(at)&&n.test(at)&&at.startsWith(Ye)||De&&Object.prototype.hasOwnProperty.call(at,De))}},Q=function(Ye,De,at){return function(Ut){var je;if(!S(Ut))return Ut;var tt=Ut.match(u),We=tt[0],Gt=tt[1],gt=tt[2],Mt=tt[3];return(je={})[Ye]=parseFloat(We),je[De]=parseFloat(Gt),je[at]=parseFloat(gt),je.alpha=Mt!==void 0?parseFloat(Mt):1,je}},te={test:Y("hsl","hue"),parse:Q("hue","saturation","lightness"),transform:function(Ye){var De=Ye.hue,at=Ye.saturation,Ut=Ye.lightness,je=Ye.alpha,tt=je===void 0?1:je;return"hsla("+Math.round(De)+", "+B.transform(C(at))+", "+B.transform(C(Ut))+", "+C(M.transform(tt))+")"}},re=x(0,255),oe=g(g({},k),{transform:function(Ye){return Math.round(re(Ye))}}),se={test:Y("rgb","red"),parse:Q("red","green","blue"),transform:function(Ye){var De=Ye.red,at=Ye.green,Ut=Ye.blue,je=Ye.alpha,tt=je===void 0?1:je;return"rgba("+oe.transform(De)+", "+oe.transform(at)+", "+oe.transform(Ut)+", "+C(M.transform(tt))+")"}},fe={test:Y("#"),parse:function(Ye){var De="",at="",Ut="",je="";return Ye.length>5?(De=Ye.substr(1,2),at=Ye.substr(3,2),Ut=Ye.substr(5,2),je=Ye.substr(7,2)):(De=Ye.substr(1,1),at=Ye.substr(2,1),Ut=Ye.substr(3,1),je=Ye.substr(4,1),De+=De,at+=at,Ut+=Ut,je+=je),{red:parseInt(De,16),green:parseInt(at,16),blue:parseInt(Ut,16),alpha:je?parseInt(je,16)/255:1}},transform:se.transform},ge={test:function(Ye){return se.test(Ye)||fe.test(Ye)||te.test(Ye)},parse:function(Ye){return se.test(Ye)?se.parse(Ye):te.test(Ye)?te.parse(Ye):fe.parse(Ye)},transform:function(Ye){return S(Ye)?Ye:Ye.hasOwnProperty("red")?se.transform(Ye):te.transform(Ye)}};function Ce(Ye){var De=[],at=0,Ut=Ye.match(f);Ut&&(at=Ut.length,Ye=Ye.replace(f,"${c}"),De.push.apply(De,Ut.map(ge.parse)));var je=Ye.match(u);return je&&(Ye=Ye.replace(u,"${n}"),De.push.apply(De,je.map(k.parse))),{values:De,numColors:at,tokenised:Ye}}function $e(Ye){return Ce(Ye).values}function be(Ye){var De=Ce(Ye),at=De.values,Ut=De.numColors,je=De.tokenised,tt=at.length;return function(We){for(var Gt=je,gt=0;gt<tt;gt++)Gt=Gt.replace(gt<Ut?"${c}":"${n}",gt<Ut?ge.transform(We[gt]):C(We[gt]));return Gt}}var ke=function(Ye){return typeof Ye=="number"?0:Ye},Ee={test:function(Ye){var De,at,Ut,je;return isNaN(Ye)&&S(Ye)&&((at=(De=Ye.match(u))===null||De===void 0?void 0:De.length)!==null&&at!==void 0?at:0)+((je=(Ut=Ye.match(f))===null||Ut===void 0?void 0:Ut.length)!==null&&je!==void 0?je:0)>0},parse:$e,createTransformer:be,getAnimatableNone:function(Ye){var De=$e(Ye);return be(Ye)(De.map(ke))}},He=new Set(["brightness","contrast","saturate","opacity"]);function rt(Ye){var De=Ye.slice(0,-1).split("("),at=De[0],Ut=De[1];if(at==="drop-shadow")return Ye;var je=(Ut.match(u)||[])[0];if(!je)return Ye;var tt=Ut.replace(je,""),We=He.has(at)?1:0;return je!==Ut&&(We*=100),at+"("+We+tt+")"}var ft=/([a-z-]*)\(.*?\)/g,bt=g(g({},Ee),{getAnimatableNone:function(Ye){var De=Ye.match(ft);return De?De.map(rt).join(" "):Ye}})},function(e,r,l){l.r(r),l.d(r,"cancelSync",function(){return P}),l.d(r,"flushSync",function(){return $}),l.d(r,"getFrameData",function(){return j});var g=typeof performance!="undefined"?function(){return performance.now()}:function(){return Date.now()},x=typeof window!="undefined"?function(U){return window.requestAnimationFrame(U)}:function(U){return setTimeout(function(){return U(g())},1/60*1e3)},C=!0,u=!1,f=!1,n={delta:0,timestamp:0},S=["read","update","preRender","render","postRender"],k=S.reduce(function(U,q){return U[q]=function(Y){var Q=[],te=[],re=0,oe=!1,se=new WeakSet,fe={schedule:function(ge,Ce,$e){Ce===void 0&&(Ce=!1),$e===void 0&&($e=!1);var be=$e&&oe,ke=be?Q:te;return Ce&&se.add(ge),ke.indexOf(ge)===-1&&(ke.push(ge),be&&oe&&(re=Q.length)),ge},cancel:function(ge){var Ce=te.indexOf(ge);Ce!==-1&&te.splice(Ce,1),se.delete(ge)},process:function(ge){var Ce;if(oe=!0,Q=(Ce=[te,Q])[0],(te=Ce[1]).length=0,re=Q.length)for(var $e=0;$e<re;$e++){var be=Q[$e];be(ge),se.has(be)&&(fe.schedule(be),Y())}oe=!1}};return fe}(function(){return u=!0}),U},{}),M=S.reduce(function(U,q){var Y=k[q];return U[q]=function(Q,te,re){return te===void 0&&(te=!1),re===void 0&&(re=!1),u||V(),Y.schedule(Q,te,re)},U},{}),P=S.reduce(function(U,q){return U[q]=k[q].cancel,U},{}),$=S.reduce(function(U,q){return U[q]=function(){return k[q].process(n)},U},{}),R=function(U){return k[U].process(n)},B=function(U){u=!1,n.delta=C?1/60*1e3:Math.max(Math.min(U-n.timestamp,40),1),n.timestamp=U,f=!0,S.forEach(R),f=!1,u&&(C=!1,x(B))},V=function(){u=!0,C=!0,f||x(B)},j=function(){return n};r.default=M},function(e,r,l){var g=this&&this.__createBinding||(Object.create?function(C,u,f,n){n===void 0&&(n=f),Object.defineProperty(C,n,{enumerable:!0,get:function(){return u[f]}})}:function(C,u,f,n){n===void 0&&(n=f),C[n]=u[f]}),x=this&&this.__exportStar||function(C,u){for(var f in C)f==="default"||u.hasOwnProperty(f)||g(u,C,f)};Object.defineProperty(r,"__esModule",{value:!0}),x(l(3),r),x(l(61),r),x(l(0),r),x(l(2),r),x(l(19),r),x(l(101),r),x(l(130),r),x(l(148),r),x(l(149),r),x(l(150),r),l(151),x(l(32),r),x(l(152),r),x(l(153),r),x(l(154),r),x(l(155),r),x(l(6),r),x(l(26),r),x(l(27),r),x(l(156),r),x(l(157),r),x(l(158),r),x(l(159),r),x(l(160),r),x(l(161),r),x(l(162),r),x(l(34),r),x(l(163),r),x(l(164),r),x(l(165),r),x(l(166),r),x(l(167),r),x(l(168),r),x(l(169),r),x(l(170),r)},function(e,r){var l,g,x=e.exports={};function C(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function f(V){if(l===setTimeout)return setTimeout(V,0);if((l===C||!l)&&setTimeout)return l=setTimeout,setTimeout(V,0);try{return l(V,0)}catch{try{return l.call(null,V,0)}catch{return l.call(this,V,0)}}}(function(){try{l=typeof setTimeout=="function"?setTimeout:C}catch{l=C}try{g=typeof clearTimeout=="function"?clearTimeout:u}catch{g=u}})();var n,S=[],k=!1,M=-1;function P(){k&&n&&(k=!1,n.length?S=n.concat(S):M=-1,S.length&&$())}function $(){if(!k){var V=f(P);k=!0;for(var j=S.length;j;){for(n=S,S=[];++M<j;)n&&n[M].run();M=-1,j=S.length}n=null,k=!1,function(U){if(g===clearTimeout)return clearTimeout(U);if((g===u||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(U);try{g(U)}catch{try{return g.call(null,U)}catch{return g.call(this,U)}}}(V)}}function R(V,j){this.fun=V,this.array=j}function B(){}x.nextTick=function(V){var j=new Array(arguments.length-1);if(arguments.length>1)for(var U=1;U<arguments.length;U++)j[U-1]=arguments[U];S.push(new R(V,j)),S.length!==1||k||f($)},R.prototype.run=function(){this.fun.apply(null,this.array)},x.title="browser",x.browser=!0,x.env={},x.argv=[],x.version="",x.versions={},x.on=B,x.addListener=B,x.once=B,x.off=B,x.removeListener=B,x.removeAllListeners=B,x.emit=B,x.prependListener=B,x.prependOnceListener=B,x.listeners=function(V){return[]},x.binding=function(V){throw new Error("process.binding is not supported")},x.cwd=function(){return"/"},x.chdir=function(V){throw new Error("process.chdir is not supported")},x.umask=function(){return 0}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.MapGlUtils=r.upperCamelCase=r.kebabCase=void 0;const g=l(3);var x={paints:"fill-antialias,fill-opacity,fill-color,fill-outline-color,fill-translate,fill-translate-anchor,fill-pattern,fill-extrusion-opacity,fill-extrusion-color,fill-extrusion-translate,fill-extrusion-translate-anchor,fill-extrusion-pattern,fill-extrusion-height,fill-extrusion-base,fill-extrusion-vertical-gradient,line-opacity,line-color,line-translate,line-translate-anchor,line-width,line-gap-width,line-offset,line-blur,line-dasharray,line-pattern,line-gradient,circle-radius,circle-color,circle-blur,circle-opacity,circle-translate,circle-translate-anchor,circle-pitch-scale,circle-pitch-alignment,circle-stroke-width,circle-stroke-color,circle-stroke-opacity,heatmap-radius,heatmap-weight,heatmap-intensity,heatmap-color,heatmap-opacity,icon-opacity,icon-color,icon-halo-color,icon-halo-width,icon-halo-blur,icon-translate,icon-translate-anchor,text-opacity,text-color,text-halo-color,text-halo-width,text-halo-blur,text-translate,text-translate-anchor,raster-opacity,raster-hue-rotate,raster-brightness-min,raster-brightness-max,raster-saturation,raster-contrast,raster-resampling,raster-fade-duration,hillshade-illumination-direction,hillshade-illumination-anchor,hillshade-exaggeration,hillshade-shadow-color,hillshade-highlight-color,hillshade-accent-color,background-color,background-pattern,background-opacity".split(","),layouts:"visibility,fill-sort-key,circle-sort-key,line-cap,line-join,line-miter-limit,line-round-limit,line-sort-key,symbol-placement,symbol-spacing,symbol-avoid-edges,symbol-sort-key,symbol-z-order,icon-allow-overlap,icon-ignore-placement,icon-optional,icon-rotation-alignment,icon-size,icon-text-fit,icon-text-fit-padding,icon-image,icon-rotate,icon-padding,icon-keep-upright,icon-offset,icon-anchor,icon-pitch-alignment,text-pitch-alignment,text-rotation-alignment,text-field,text-font,text-size,text-max-width,text-line-height,text-letter-spacing,text-justify,text-radial-offset,text-variable-anchor,text-anchor,text-max-angle,text-writing-mode,text-rotate,text-padding,text-keep-upright,text-transform,text-offset,text-allow-overlap,text-ignore-placement,text-optional".split(",")};function C(M){var P;return((P=String(M).match(/\.(geo)?json/))!==null&&P!==void 0?P:M.type==="Feature")||M.type==="FeatureCollection"?{type:"geojson",data:M}:String(M).match(/^vjmaps:\/\//)?{type:"vector",url:M}:M}r.kebabCase=M=>M.replace(/[A-Z]/g,P=>"-"+P.toLowerCase()),r.upperCamelCase=M=>M.replace(/(^|-)([a-z])/g,(P,$,R)=>""+R.toUpperCase());const u=(M,P)=>Array.isArray(M)?M:M instanceof RegExp?P.getStyle().layers.map($=>$.id).filter($=>$.match(M)):M instanceof Function?P.getStyle().layers.filter($=>M($)).map($=>$.id):[M],f=M=>function(P,...$){return u(P,this.map).map(R=>M.call(this,R,...$))},n=M=>function(P,...$){const R=u(P,this.map).map(B=>M.call(this,B,...$));return()=>R.forEach(B=>B())},S=["line","fill","circle","symbol","video","raster","fill-extrusion","heatmap","hillshade"];class k{constructor(){this._isloaded=!1}static init(P,$){if(P.U=new k,P.U.map=P,$){for(const R in P.U)if(R!=="makeSource"&&R!=="update"&&R!=="addRasterDem"&&!P.U.hasOwnProperty(R)){let B=R;R in P&&(B=R+"Ex"),P[B]=(...V)=>P.U[R](...V)}}return P.U}static async newMap(P={},$={}){if(P.style||(P.style={version:8,layers:[],sources:{}}),$.addLayers||$.addSources||$.transformStyle||$.mixStyles){const B=P.style;let V;typeof B=="string"?V=await(await fetch(B)).json():V=B;const j=new k;(function(U,q=[]){U.layers=[...U.layers,...q.map(Y=>this.layerStyle(Y))]}).call(j,V,$.addLayers),function(U,q={}){U.sources=Object.assign(Object.assign({},U.sources),q)}(V,$.addSources),function(U,q=Y=>Y){U=q(U)}(V,$.transformStyle),function(U,q={}){Object.keys(q).forEach(Y=>{const Q=q[Y].layers;delete q[Y].layers,U.sources[Y]=q[Y],U.layers=[...U.layers,...Q.map(te=>this.layerStyle(Object.assign({source:Y},te)))]})}.call(j,V,$.mixStyles),P.style=V}const R=new g.Map(P);return k.init(R),R}}r.MapGlUtils=k,Object.assign(k.prototype,{hoverPointer:(()=>function(M){const P=u(M,this.map),$=V=>this.map.getCanvas().style.cursor="pointer",R=V=>{this.map.queryRenderedFeatures(V.point,{layers:P}).length===0&&(this.map.getCanvas().style.cursor=B)},B=this.map.getCanvas().style.cursor;for(const V of P)this.map.on("mouseleave",V,R),this.map.on("mouseenter",V,$);return()=>{for(const V of P)this.map.off("mouseenter",V,$),this.map.off("mouseleave",V,R);this.map.getCanvas().style.cursor=B}}).call(void 0),hoverFeatureState:n(function(M,P,$,R,B){if(Array.isArray(P)){const Y=P.map(([Q,te])=>this.hoverFeatureState(M,Q,te));return()=>Y.forEach(Q=>Q())}if(P===void 0){const Y=this.getLayerStyle(M);P=Y.source,$=Y["source-layer"]}let V;const j=Y=>{V&&this.map.setFeatureState({source:P,sourceLayer:$,id:V},{hover:Y})},U=Y=>{const Q=Y.features[0];Q&&Q.id===V||(j(!1),Q&&(V&&B&&B(Object.assign(Object.assign({},Y),{oldFeatureId:V})),V=Q.id,j(!0),R&&R(Y)))},q=Y=>{j(!1),Y&&Y.oldFeatureId&&(Y.oldFeatureId=V),V=void 0,B&&B(Y)};return this.map.on("mousemove",M,U),this.map.on("mouseleave",M,q),()=>{this.map.off("mousemove",M,U),this.map.off("mouseleave",M,q),q()}}),hoverPopup(M,P,$={}){const R=new g.Popup(Object.assign({closeButton:!1},$));return n(function(B,V){const j=this.map;function U(Y){Y.features[0]&&(R.setLngLat(Y.lngLat),R.setHTML(V(Y.features[0],R)),R.addTo(j))}function q(Y){R.remove()}return this.map.on("mouseenter",B,U),this.map.on("mouseout",B,q),()=>{this.map.off("mouseenter",B,U),this.map.off("mouseout",B,q),q()}}).call(this,M,P)},clickPopup(M,P,$={}){const R=new g.Popup(Object.assign({},$));return n(function(B,V){const j=this.map;function U(q){q.features[0]&&(R.setLngLat(q.features[0].geometry.coordinates.slice()),R.setHTML(V(q.features[0],R)),R.addTo(j))}return this.map.on("click",B,U),()=>this.map.off("click",B,U)}).call(this,M,P)},clickLayer:n(function(M,P){const $=R=>{R.features=this.map.queryRenderedFeatures(R.point,{layers:[M]}),P(R)};return this.map.on("click",M,$),()=>this.map.off("click",M,$)}),clickOneLayer(M,P,$){const R=B=>{let V=!1;for(const j of M){const U=this.map.queryRenderedFeatures(B.point,{layers:[j]});if(U[0])try{P({event:B,layer:j,feature:U[0],features:U})}finally{V=!0;break}}!V&&$&&$(B)};return this.map.on("click",R),()=>this.map.off("click",R)},hoverLayer:n(function(M,P){const $=this.map;function R(V){V.features=$.queryRenderedFeatures(V.point,{layers:[M]}),P(V)}function B(V){V.features=void 0,P(V)}return this.map.on("mouseenter",M,R),this.map.on("mouseout",M,B),()=>{this.map.off("mouseenter",M,R),this.map.off("mouseout",M,B),B()}}),mapAddLayerBefore(M,P){P?this.map.addLayer(M,P):this.map.addLayer(M)},addLayerEx(M,P,$,R,B){return this.mapAddLayerBefore(this.layerStyle(M,P,$,R),B),this.makeSource(P)},addLayerBefore(M,P,$,R,B){return this.mapAddLayerBefore(Object.assign({id:M,source:C(P),type:$},this.properties(R)),B),this.makeSource(P)},setLayer(M,P,$,R,B){const V=this.layerStyle(M,P,$,R),j=this.map.getStyle(),U=j.layers.findIndex(Y=>Y.id===V.id),q=j.layers.findIndex(Y=>Y.id===B);return U>=0?j.layers.splice(U,1,V):q>=0?j.layers.splice(q,0,V):j.layers.push(V),this.map.setStyle(j),this.makeSource(P)},removeLayerEx:f(function(M){const P=$=>{$.error.message.match(/does not exist/)||console.error($.error)};this.map.once("error",P),this.map.removeLayer(M),this.map.off("error",P)}),addGeoJSONSource(M,P={type:"FeatureCollection",features:[]},$){return this.addSourceEx(M,Object.assign({type:"geojson",data:P},$))},addSourceEx(M,P){const $=this.map.getStyle();return $.sources[M]=P,this.map.setStyle($),this.makeSource(M)},layersBySource(M){return this.map.getStyle().layers.filter(P=>P.source===M).map(P=>P.id)},addVectorSource(M,P,$={}){return typeof P=="string"?P.match(/\{z\}/)?this.addSourceEx(M,Object.assign({type:"vector",tiles:[P]},$)):this.addSourceEx(M,Object.assign({type:"vector",url:P},$)):this.addSourceEx(M,Object.assign({type:"vector"},this.properties(P)))},setProperty:f(function(M,P,$){if(typeof P=="object")Object.keys(P).forEach(R=>this.setProperty(M,R,P[R]));else{const R=r.kebabCase(P);(function(B){return x.paints.includes(B)})(R)?this.map.setPaintProperty(M,R,$):function(B){return x.layouts.includes(B)}(R)&&this.map.setLayoutProperty(M,R,$)}}),properties(M){if(!M)return;const P={},$={paint:{},layout:{},other:{}};return Object.keys(M).forEach(R=>{const B=r.kebabCase(R);$[function(V){return x.paints.includes(V)?"paint":x.layouts.includes(V)?"layout":"other"}(B)][B]=M[R]}),Object.keys($.paint).length&&(P.paint=$.paint),Object.keys($.layout).length&&(P.layout=$.layout),Object.assign(P,$.other),P},layerStyle(...M){var P;const[$,R,B]=M,V=M.find(U=>typeof U=="object"&&!Array.isArray(U)),j=(P=this.properties(V))!==null&&P!==void 0?P:{};return typeof $=="string"&&(j.id=$),typeof R=="string"&&(j.source=R),typeof B=="string"&&(j.type=B),j},getLayerStyle(M){return this.map.getStyle().layers.find(P=>P.id===M)},setLayerStyle:f(function(M,P){const $=(V={},j={})=>Object.keys(V).forEach(U=>{U in j||this.setProperty(M,U,void 0)});P||(M=(P=M).id);const R=this.getLayerStyle(M),B=this.properties(P);$(R.paint,B.paint),$(R.layout,B.layout),this.setProperty(M,Object.assign(Object.assign({},B.paint),B.layout))}),setData(M,P={type:"FeatureCollection",features:[]}){this.map.getSource(M).setData(P)},show:f(function(M){this.setVisibility(M,"visible")}),hide:f(function(M){this.setVisibility(M,"none")}),toggle:f(function(M,P){this.setVisibility(M,P?"visible":"none")}),showSource:f(function(M){this.setVisibility(this.layersBySource(M),"visible")}),hideSource:f(function(M){this.setVisibility(this.layersBySource(M),"none")}),toggleSource:f(function(M,P){this.setVisibility(this.layersBySource(M),P?"visible":"none")}),setFilterEx:f(function(M,P){this.map.setFilter(M,P)}),removeSourceEx:f(function(M){const P=this.layersBySource(M);this.removeLayerEx(P),this.map.getSource(M)&&this.map.removeSource(M)}),setLayerSource:f(function(M,P,$){const R=this.map.getStyle().layers,B=R.findIndex(U=>U.id===M),V=R[B],j=R[B+1]&&R[B+1].id;V.source=P,$?V["source-layer"]=$:$!==void 0&&delete V["source-layer"],this.map.removeLayer(M),this.mapAddLayerBefore(V,j)}),onLoad(M){if(!M)return new Promise(P=>this.onLoad(P));{let P;arguments.length===2&&(P=arguments[0],M=arguments[1]),this.map.loaded()||this._isloaded?P?M.bind(P)():M():this.map.once("load",()=>{this._isloaded=!0,P?M.bind(P)():M()})}},setRootProperty(M,P){const $=this.map.getStyle();$[r.kebabCase(M)]=P,this.map.setStyle($)},setTransition(M){this.setRootProperty("transition",M)},loadImageEx(M,P,$){return typeof P=="string"?new Promise((R,B)=>{this.map.loadImage(P,(V,j)=>{V?B("Error loading image "+P,V):(this.map.addImage(M,j,$),R(M,P,j))})}):this.map.addImage(M,P,$)},lockOrientation(){this.map.touchZoomRotate.disableRotation(),this.map.dragRotate.disable()},fontsInUse(){function M(R){Array.isArray(R)&&(R[0]==="literal"?P.push(...R[1]):R.forEach(M))}const P=[],$=this.map.getStyle().layers.map(R=>R.layout&&R.layout["text-font"]).filter(Boolean);for(const R of $)if(R.stops)try{P.push(...R.stops.flat().filter(Array.isArray).flat())}catch{}else R.every(B=>typeof B=="string")?P.push(...R):M(R);return[...new Set(P)]}}),function(M){const P=(B,V)=>{const j="set"+r.upperCamelCase(B);M[j]=f(function(U,q){return this.map[V](U,B,q)})},$=(B,V)=>{const j="get"+r.upperCamelCase(B);M[j]=f(function(U){return this.map[V](U,B)})},R=(B,V,j)=>{let U;U=j?function(q,Y,Q){return this.setLayer(q,j,B,Y,Q)}:function(q,Y,Q,te){return this.setLayer(q,Y,B,Q,te)},V[`add${r.upperCamelCase(B)}Layer`]=U};M.makeSource=function(B){const V=new k;return V.map=this.map,S.forEach(function(j){R(j,V,B)}),V},M.update=M.setData,x.paints.forEach(B=>P(B,"setPaintProperty")),x.layouts.forEach(B=>P(B,"setLayoutProperty")),x.paints.forEach(B=>$(B,"getPaintProperty")),x.layouts.forEach(B=>$(B,"getLayoutProperty")),S.forEach(B=>R(B,M)),["raster","raster-dem","image","video"].forEach(B=>function(V){let j="add"+r.upperCamelCase(V),U=j+"Source";j==="addImage"&&(j="addImageSource",U="addImageSource"),M[j]=function(q,Y){return this.addSourceEx(q,Object.assign({type:V},Y))},M[U]=M[j]}(B))}(k.prototype)},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.MessageTipControl=void 0,r.MessageTipControl=class{constructor(g={}){this.style=g.style||{},this.message=`<h1 style='color:#F9EEED;line-height:40px'>${g.message}</h1>`}_insertControl(){this.container=document.createElement("div"),this.container.classList.add("vjmap-ctrl"),this.container.style.border=this.style.border||"1px",this.container.style.marginLeft=this.style.marginLeft||"60px",this.container.style.backgroundColor=this.style.backgroundColor||"#bd362f",this.container.style.boxShadow="0 0 12px #999999",this.panel=document.createElement("div"),this.panel.innerHTML=this.message,this.container.appendChild(this.panel)}updateMessage(g){this.message=`<h1 style='color:#F9EEED;line-height:40px'>${g}</h1>`,this.panel.innerHTML=this.message}onAdd(g){return this.map=g,this._insertControl(),this.container}onRemove(){this.container.parentNode.removeChild(this.container)}getDefaultPosition(){return"top-left"}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.Symbol=void 0;const g=l(0),x=l(6);class C extends x.OverlayLayerBase{constructor(f){super(),this.options=g.extend({},f)}addTo(f,n){var S,k;if(this._map=f,this.sourceId=(S=this.options.sourceId)!==null&&S!==void 0?S:"custom_symbol_"+g.RandomID(),this.options.data){const M=g.createPointGeoJson(this.options.data);f.addGeoJSONSource(this.sourceId,M)}this.layerId=(k=this.options.layerId)!==null&&k!==void 0?k:"custom_symbol_layer_"+g.RandomID(),f.addSymbolLayer(this.layerId,this.sourceId,this.options,n),super.addTo(f,n)}setData(f){f=g.createPointGeoJson(f),this._map.setData(this.sourceId,f)}setSymbolPlacement(f){return this._map.setSymbolPlacement(this.layerId,f),this}getSymbolPlacement(){return this._map.getSymbolPlacement(this.layerId)}setSymbolSpacing(f){return this._map.setSymbolSpacing(this.layerId,f),this}getSymbolSpacing(){return this._map.getSymbolSpacing(this.layerId)}setSymbolAvoidEdges(f){return this._map.setSymbolAvoidEdges(this.layerId,f),this}getSymbolAvoidEdges(){return this._map.getSymbolAvoidEdges(this.layerId)}setSymbolSortKey(f){return this._map.setSymbolSortKey(this.layerId,f),this}getSymbolSortKey(){return this._map.getSymbolSortKey(this.layerId)}setSymbolZOrder(f){return this._map.setSymbolZOrder(this.layerId,f),this}getSymbolZOrder(){return this._map.getSymbolZOrder(this.layerId)}setIconAllowOverlap(f){return this._map.setIconAllowOverlap(this.layerId,f),this}getIconAllowOverlap(){return this._map.getIconAllowOverlap(this.layerId)}setIconIgnorePlacement(f){return this._map.setIconIgnorePlacement(this.layerId,f),this}getIconIgnorePlacement(){return this._map.getIconIgnorePlacement(this.layerId)}setIconOptional(f){return this._map.setIconOptional(this.layerId,f),this}getIconOptional(){return this._map.getIconOptional(this.layerId)}setIconRotationAlignment(f){return this._map.setIconRotationAlignment(this.layerId,f),this}getIconRotationAlignment(){return this._map.getIconRotationAlignment(this.layerId)}setIconSize(f){return this._map.setIconSize(this.layerId,f),this}getIconSize(){return this._map.getIconSize(this.layerId)}setIconTextFit(f){return this._map.setIconTextFit(this.layerId,f),this}getIconTextFit(){return this._map.getIconTextFit(this.layerId)}setIconTextFitPadding(f){return this._map.setIconTextFitPadding(this.layerId,f),this}getIconTextFitPadding(){return this._map.getIconTextFitPadding(this.layerId)}setIconImage(f){return this._map.setIconImage(this.layerId,f),this}getIconImage(){return this._map.getIconImage(this.layerId)}setIconRotate(f){return this._map.setIconRotate(this.layerId,f),this}getIconRotate(){return this._map.getIconRotate(this.layerId)}setIconPadding(f){return this._map.setIconPadding(this.layerId,f),this}getIconPadding(){return this._map.getIconPadding(this.layerId)}setIconKeepUpright(f){return this._map.setIconKeepUpright(this.layerId,f),this}getIconKeepUpright(){return this._map.getIconKeepUpright(this.layerId)}setIconOffset(f){return this._map.setIconOffset(this.layerId,f),this}getIconOffset(){return this._map.getIconOffset(this.layerId)}setIconAnchor(f){return this._map.setIconAnchor(this.layerId,f),this}getIconAnchor(){return this._map.getIconAnchor(this.layerId)}setIconPitchAlignment(f){return this._map.setIconPitchAlignment(this.layerId,f),this}getIconPitchAlignment(){return this._map.getIconPitchAlignment(this.layerId)}setTextPitchAlignment(f){return this._map.setTextPitchAlignment(this.layerId,f),this}getTextPitchAlignment(){return this._map.getTextPitchAlignment(this.layerId)}setTextRotationAlignment(f){return this._map.setTextRotationAlignment(this.layerId,f),this}getTextRotationAlignment(){return this._map.getTextRotationAlignment(this.layerId)}setTextField(f){return this._map.setTextField(this.layerId,f),this}getTextField(){return this._map.getTextField(this.layerId)}setTextFont(f){return this._map.setTextFont(this.layerId,f),this}getTextFont(){return this._map.getTextFont(this.layerId)}setTextSize(f){return this._map.setTextSize(this.layerId,f),this}getTextSize(){return this._map.getTextSize(this.layerId)}setTextMaxWidth(f){return this._map.setTextMaxWidth(this.layerId,f),this}getTextMaxWidth(){return this._map.getTextMaxWidth(this.layerId)}setTextLineHeight(f){return this._map.setTextLineHeight(this.layerId,f),this}getTextLineHeight(){return this._map.getTextLineHeight(this.layerId)}setTextLetterSpacing(f){return this._map.setTextLetterSpacing(this.layerId,f),this}getTextLetterSpacing(){return this._map.getTextLetterSpacing(this.layerId)}setTextJustify(f){return this._map.setTextJustify(this.layerId,f),this}getTextJustify(){return this._map.getTextJustify(this.layerId)}setTextRadialOffset(f){return this._map.setTextRadialOffset(this.layerId,f),this}getTextRadialOffset(){return this._map.getTextRadialOffset(this.layerId)}setTextVariableAnchor(f){return this._map.setTextVariableAnchor(this.layerId,f),this}getTextVariableAnchor(){return this._map.getTextVariableAnchor(this.layerId)}setTextAnchor(f){return this._map.setTextAnchor(this.layerId,f),this}getTextAnchor(){return this._map.getTextAnchor(this.layerId)}setTextMaxAngle(f){return this._map.setTextMaxAngle(this.layerId,f),this}getTextMaxAngle(){return this._map.getTextMaxAngle(this.layerId)}setTextWritingMode(f){return this._map.setTextWritingMode(this.layerId,f),this}getTextWritingMode(){return this._map.getTextWritingMode(this.layerId)}setTextRotate(f){return this._map.setTextRotate(this.layerId,f),this}getTextRotate(){return this._map.getTextRotate(this.layerId)}setTextPadding(f){return this._map.setTextPadding(this.layerId,f),this}getTextPadding(){return this._map.getTextPadding(this.layerId)}setTextKeepUpright(f){return this._map.setTextKeepUpright(this.layerId,f),this}getTextKeepUpright(){return this._map.getTextKeepUpright(this.layerId)}setTextTransform(f){return this._map.setTextTransform(this.layerId,f),this}getTextTransform(){return this._map.getTextTransform(this.layerId)}setTextOffset(f){return this._map.setTextOffset(this.layerId,f),this}getTextOffset(){return this._map.getTextOffset(this.layerId)}setTextAllowOverlap(f){return this._map.setTextAllowOverlap(this.layerId,f),this}getTextAllowOverlap(){return this._map.getTextAllowOverlap(this.layerId)}setTextIgnorePlacement(f){return this._map.setTextIgnorePlacement(this.layerId,f),this}getTextIgnorePlacement(){return this._map.getTextIgnorePlacement(this.layerId)}setTextOptional(f){return this._map.setTextOptional(this.layerId,f),this}getTextOptional(){return this._map.getTextOptional(this.layerId)}setIconOpacity(f){return this._map.setIconOpacity(this.layerId,f),this}getIconOpacity(){return this._map.getIconOpacity(this.layerId)}setIconColor(f){return this._map.setIconColor(this.layerId,f),this}getIconColor(){return this._map.getIconColor(this.layerId)}setIconHaloColor(f){return this._map.setIconHaloColor(this.layerId,f),this}getIconHaloColor(){return this._map.getIconHaloColor(this.layerId)}setIconHaloWidth(f){return this._map.setIconHaloWidth(this.layerId,f),this}getIconHaloWidth(){return this._map.getIconHaloWidth(this.layerId)}setIconHaloBlur(f){return this._map.setIconHaloBlur(this.layerId,f),this}getIconHaloBlur(){return this._map.getIconHaloBlur(this.layerId)}setIconTranslate(f){return this._map.setIconTranslate(this.layerId,f),this}getIconTranslate(){return this._map.getIconTranslate(this.layerId)}setIconTranslateAnchor(f){return this._map.setIconTranslateAnchor(this.layerId,f),this}getIconTranslateAnchor(){return this._map.getIconTranslateAnchor(this.layerId)}setTextOpacity(f){return this._map.setTextOpacity(this.layerId,f),this}getTextOpacity(){return this._map.getTextOpacity(this.layerId)}setTextColor(f){return this._map.setTextColor(this.layerId,f),this}getTextColor(){return this._map.getTextColor(this.layerId)}setTextHaloColor(f){return this._map.setTextHaloColor(this.layerId,f),this}getTextHaloColor(){return this._map.getTextHaloColor(this.layerId)}setTextHaloWidth(f){return this._map.setTextHaloWidth(this.layerId,f),this}getTextHaloWidth(){return this._map.getTextHaloWidth(this.layerId)}setTextHaloBlur(f){return this._map.setTextHaloBlur(this.layerId,f),this}getTextHaloBlur(){return this._map.getTextHaloBlur(this.layerId)}setTextTranslate(f){return this._map.setTextTranslate(this.layerId,f),this}getTextTranslate(){return this._map.getTextTranslate(this.layerId)}setTextTranslateAnchor(f){return this._map.setTextTranslateAnchor(this.layerId,f),this}getTextTranslateAnchor(){return this._map.getTextTranslateAnchor(this.layerId)}}r.Symbol=C},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.extend=r.bindAll=r.pick=r.cloneDeep=void 0,r.cloneDeep=function(g){const x=new Map,C=function u(f){if(f===null)return null;if(typeof f=="object"){const n=x.get(f);if(n!==void 0)return n;if(Array.isArray(f)){const S=[];x.set(f,S),S.length=f.length;for(let k=0;k<S.length;++k)S[k]=u(f[k]);return S}if(f instanceof Date){const S=new Date(f.getTime());return x.set(f,S),S}if(f instanceof RegExp){const S=new RegExp(f.source,f.flags);return x.set(f,S),S}if(f.constructor!==Object)throw new Error("cloneDeep doesn't support objects with custom prototypes");{const S={};x.set(f,S);for(const k in f)f.hasOwnProperty(k)&&(S[k]=u(f[k]));return S}}return f}(g);return x.clear(),C},r.pick=function(g,x){const C={};for(const u of x)g.hasOwnProperty(u)&&(C[u]=g[u]);return C},r.bindAll=function(g,x){g.forEach(C=>{x[C]&&(x[C]=x[C].bind(x))})},r.extend=function(g,...x){for(const C of x)for(const u in C)g[u]=C[u];return g}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.randInt=r.isClosedPolygon=r.calculateSignedArea=r.isCounterClockwise=r.radToDeg=r.degToRad=void 0;const g=Math.PI/180,x=180/Math.PI;function C(u){let f=0;for(let n,S,k=0,M=u.length,P=M-1;k<M;P=k++)n=u[k],S=u[P],f+=(S.x-n.x)*(n.y+S.y);return f}r.degToRad=function(u){return u*g},r.radToDeg=function(u){return u*x},r.isCounterClockwise=function(u,f,n){return(n.y-u.y)*(f.x-u.x)>(f.y-u.y)*(n.x-u.x)},r.calculateSignedArea=C,r.isClosedPolygon=function(u){if(u.length<4)return!1;const f=u[0],n=u[u.length-1];return!(Math.abs(f.x-n.x)>0||Math.abs(f.y-n.y)>0)&&Math.abs(C(u))>.01},r.randInt=function(u,f){return Math.floor(Math.random()*(f-u+1)+u)}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.crsMap=r.BD09MC=r.EPSG3857=r.BD09=r.GCJ02=r.WGS84=r.CRSTypes=void 0;const g=l(38),x=l(69),C=l(70),u=l(71),f=l(72);var n;(function(S){S.WGS84="WGS84",S.WGS1984="WGS84",S.EPSG4326="WGS84",S.GCJ02="GCJ02",S.AMap="GCJ02",S.BD09="BD09",S.BD09LL="BD09",S.Baidu="BD09",S.BMap="BD09",S.BD09MC="BD09MC",S.BD09Meter="BD09MC",S.EPSG3857="EPSG3857",S.EPSG900913="EPSG3857",S.EPSG102100="EPSG3857",S.WebMercator="EPSG3857",S.WM="EPSG3857"})(n=r.CRSTypes||(r.CRSTypes={})),r.WGS84={to:{[n.GCJ02]:f.WGS84ToGCJ02,[n.BD09]:g.compose(x.GCJ02ToBD09,f.WGS84ToGCJ02),[n.BD09MC]:g.compose(C.BD09toBD09MC,x.GCJ02ToBD09,f.WGS84ToGCJ02),[n.EPSG3857]:u.WGS84ToEPSG3857}},r.GCJ02={to:{[n.WGS84]:f.GCJ02ToWGS84,[n.BD09]:x.GCJ02ToBD09,[n.BD09MC]:g.compose(C.BD09toBD09MC,x.GCJ02ToBD09),[n.EPSG3857]:g.compose(u.WGS84ToEPSG3857,f.GCJ02ToWGS84)}},r.BD09={to:{[n.WGS84]:g.compose(f.GCJ02ToWGS84,x.BD09ToGCJ02),[n.GCJ02]:x.BD09ToGCJ02,[n.EPSG3857]:g.compose(u.WGS84ToEPSG3857,f.GCJ02ToWGS84,x.BD09ToGCJ02),[n.BD09MC]:C.BD09toBD09MC}},r.EPSG3857={to:{[n.WGS84]:u.ESPG3857ToWGS84,[n.GCJ02]:g.compose(f.WGS84ToGCJ02,u.ESPG3857ToWGS84),[n.BD09]:g.compose(x.GCJ02ToBD09,f.WGS84ToGCJ02,u.ESPG3857ToWGS84),[n.BD09MC]:g.compose(C.BD09toBD09MC,x.GCJ02ToBD09,f.WGS84ToGCJ02,u.ESPG3857ToWGS84)}},r.BD09MC={to:{[n.WGS84]:g.compose(f.GCJ02ToWGS84,x.BD09ToGCJ02,C.BD09MCtoBD09),[n.GCJ02]:g.compose(x.BD09ToGCJ02,C.BD09MCtoBD09),[n.EPSG3857]:g.compose(u.WGS84ToEPSG3857,f.GCJ02ToWGS84,x.BD09ToGCJ02,C.BD09MCtoBD09),[n.BD09]:C.BD09MCtoBD09}},r.crsMap={WGS84:r.WGS84,GCJ02:r.GCJ02,BD09:r.BD09,EPSG3857:r.EPSG3857,BD09MC:r.BD09MC},r.default=r.crsMap},function(e,r,l){function g(x){return!!x&&Object.prototype.toString.call(x)==="[object Array]"}Object.defineProperty(r,"__esModule",{value:!0}),r.coordEach=r.compose=r.isString=r.isNumber=r.isArray=r.isObject=r.assert=void 0,r.assert=function(x,C){if(!x)throw new Error(C)},r.isObject=function(x){return!!x&&x.constructor===Object},r.isArray=g,r.isNumber=function(x){return!isNaN(Number(x))&&x!==null&&!g(x)},r.isString=function(x){return typeof x=="string"},r.compose=function(...x){const C=x.length-1;return function(...u){let f=C,n=x[C].apply(null,u);for(;f--;)n=x[f].call(null,n);return n}},r.coordEach=function x(C,u,f=!1){if(C===null)return;let n,S,k,M,P,$,R,B,V=0,j=0;const{type:U}=C,q=U==="FeatureCollection",Y=U==="Feature",Q=q?C.features.length:1;for(let te=0;te<Q;te++){R=q?C.features[te].geometry:Y?C.geometry:C,B=!!R&&R.type==="GeometryCollection",P=B?R.geometries.length:1;for(let re=0;re<P;re++){let oe=0,se=0;if(M=B?R.geometries[re]:R,M===null)continue;const fe=M.type;switch(V=!f||fe!=="Polygon"&&fe!=="MultiPolygon"?0:1,fe){case null:break;case"Point":case"GeometryPoint":if($=M.coordinates,u($,j,te,oe,se)===!1)return!1;j++,oe++;break;case"LineString":case"MultiPoint":for($=M.coordinates,n=0;n<$.length;n++){if(u($[n],j,te,oe,se)===!1)return!1;j++,fe==="MultiPoint"&&oe++}fe==="LineString"&&oe++;break;case"Polygon":case"MultiLineString":for($=M.coordinates,n=0;n<$.length;n++){for(S=0;S<$[n].length-V;S++){if(u($[n][S],j,te,oe,se)===!1)return!1;j++}fe==="MultiLineString"&&oe++,fe==="Polygon"&&se++}fe==="Polygon"&&oe++;break;case"MultiPolygon":for($=M.coordinates,n=0;n<$.length;n++){for(se=0,S=0;S<$[n].length;S++){for(k=0;k<$[n][S].length-V;k++){if(u($[n][S][k],j,te,oe,se)===!1)return!1;j++}se++}oe++}break;case"GeometryCollection":for(n=0;n<M.geometries.length;n++)if(x(M.geometries[n],u,f)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.mat3=void 0;const g=l(7);(function(x){x.create=function(){const C=new Float32Array(9);return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=1,C[5]=0,C[6]=0,C[7]=0,C[8]=1,C},x.fromMat4=function(C,u){return C[0]=u[0],C[1]=u[1],C[2]=u[2],C[3]=u[4],C[4]=u[5],C[5]=u[6],C[6]=u[8],C[7]=u[9],C[8]=u[10],C},x.clone=function(C){const u=new Float32Array(9);return u[0]=C[0],u[1]=C[1],u[2]=C[2],u[3]=C[3],u[4]=C[4],u[5]=C[5],u[6]=C[6],u[7]=C[7],u[8]=C[8],u},x.copy=function(C,u){return C[0]=u[0],C[1]=u[1],C[2]=u[2],C[3]=u[3],C[4]=u[4],C[5]=u[5],C[6]=u[6],C[7]=u[7],C[8]=u[8],C},x.fromValues=function(C,u,f,n,S,k,M,P,$){const R=new Float32Array(9);return R[0]=C,R[1]=u,R[2]=f,R[3]=n,R[4]=S,R[5]=k,R[6]=M,R[7]=P,R[8]=$,R},x.set=function(C,u,f,n,S,k,M,P,$,R){return C[0]=u,C[1]=f,C[2]=n,C[3]=S,C[4]=k,C[5]=M,C[6]=P,C[7]=$,C[8]=R,C},x.identity=function(C){return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=1,C[5]=0,C[6]=0,C[7]=0,C[8]=1,C},x.transpose=function(C,u){if(C===u){const f=u[1],n=u[2],S=u[5];C[1]=u[3],C[2]=u[6],C[3]=f,C[5]=u[7],C[6]=n,C[7]=S}else C[0]=u[0],C[1]=u[3],C[2]=u[6],C[3]=u[1],C[4]=u[4],C[5]=u[7],C[6]=u[2],C[7]=u[5],C[8]=u[8];return C},x.invert=function(C,u){const f=u[0],n=u[1],S=u[2],k=u[3],M=u[4],P=u[5],$=u[6],R=u[7],B=u[8],V=B*M-P*R,j=-B*k+P*$,U=R*k-M*$;let q=f*V+n*j+S*U;return q?(q=1/q,C[0]=V*q,C[1]=(-B*n+S*R)*q,C[2]=(P*n-S*M)*q,C[3]=j*q,C[4]=(B*f-S*$)*q,C[5]=(-P*f+S*k)*q,C[6]=U*q,C[7]=(-R*f+n*$)*q,C[8]=(M*f-n*k)*q,C):null},x.adjoint=function(C,u){const f=u[0],n=u[1],S=u[2],k=u[3],M=u[4],P=u[5],$=u[6],R=u[7],B=u[8];return C[0]=M*B-P*R,C[1]=S*R-n*B,C[2]=n*P-S*M,C[3]=P*$-k*B,C[4]=f*B-S*$,C[5]=S*k-f*P,C[6]=k*R-M*$,C[7]=n*$-f*R,C[8]=f*M-n*k,C},x.determinant=function(C){const u=C[0],f=C[1],n=C[2],S=C[3],k=C[4],M=C[5],P=C[6],$=C[7],R=C[8];return u*(R*k-M*$)+f*(-R*S+M*P)+n*($*S-k*P)},x.multiply=function(C,u,f){const n=u[0],S=u[1],k=u[2],M=u[3],P=u[4],$=u[5],R=u[6],B=u[7],V=u[8],j=f[0],U=f[1],q=f[2],Y=f[3],Q=f[4],te=f[5],re=f[6],oe=f[7],se=f[8];return C[0]=j*n+U*M+q*R,C[1]=j*S+U*P+q*B,C[2]=j*k+U*$+q*V,C[3]=Y*n+Q*M+te*R,C[4]=Y*S+Q*P+te*B,C[5]=Y*k+Q*$+te*V,C[6]=re*n+oe*M+se*R,C[7]=re*S+oe*P+se*B,C[8]=re*k+oe*$+se*V,C},x.translate=function(C,u,f){const n=u[0],S=u[1],k=u[2],M=u[3],P=u[4],$=u[5],R=u[6],B=u[7],V=u[8],j=f[0],U=f[1];return C[0]=n,C[1]=S,C[2]=k,C[3]=M,C[4]=P,C[5]=$,C[6]=j*n+U*M+R,C[7]=j*S+U*P+B,C[8]=j*k+U*$+V,C},x.rotate=function(C,u,f){const n=u[0],S=u[1],k=u[2],M=u[3],P=u[4],$=u[5],R=u[6],B=u[7],V=u[8],j=Math.sin(f),U=Math.cos(f);return C[0]=U*n+j*M,C[1]=U*S+j*P,C[2]=U*k+j*$,C[3]=U*M-j*n,C[4]=U*P-j*S,C[5]=U*$-j*k,C[6]=R,C[7]=B,C[8]=V,C},x.scale=function(C,u,f){const n=f[0],S=f[1];return C[0]=n*u[0],C[1]=n*u[1],C[2]=n*u[2],C[3]=S*u[3],C[4]=S*u[4],C[5]=S*u[5],C[6]=u[6],C[7]=u[7],C[8]=u[8],C},x.fromTranslation=function(C,u){return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C[4]=1,C[5]=0,C[6]=u[0],C[7]=u[1],C[8]=1,C},x.fromRotation=function(C,u){const f=Math.sin(u),n=Math.cos(u);return C[0]=n,C[1]=f,C[2]=0,C[3]=-f,C[4]=n,C[5]=0,C[6]=0,C[7]=0,C[8]=1,C},x.fromScaling=function(C,u){return C[0]=u[0],C[1]=0,C[2]=0,C[3]=0,C[4]=u[1],C[5]=0,C[6]=0,C[7]=0,C[8]=1,C},x.fromMat2d=function(C,u){return C[0]=u[0],C[1]=u[1],C[2]=0,C[3]=u[2],C[4]=u[3],C[5]=0,C[6]=u[4],C[7]=u[5],C[8]=1,C},x.fromQuat=function(C,u){const f=u[0],n=u[1],S=u[2],k=u[3],M=f+f,P=n+n,$=S+S,R=f*M,B=n*M,V=n*P,j=S*M,U=S*P,q=S*$,Y=k*M,Q=k*P,te=k*$;return C[0]=1-V-q,C[3]=B-te,C[6]=j+Q,C[1]=B+te,C[4]=1-R-q,C[7]=U-Y,C[2]=j-Q,C[5]=U+Y,C[8]=1-R-V,C},x.normalFromMat4=function(C,u){const f=u[0],n=u[1],S=u[2],k=u[3],M=u[4],P=u[5],$=u[6],R=u[7],B=u[8],V=u[9],j=u[10],U=u[11],q=u[12],Y=u[13],Q=u[14],te=u[15],re=f*P-n*M,oe=f*$-S*M,se=f*R-k*M,fe=n*$-S*P,ge=n*R-k*P,Ce=S*R-k*$,$e=B*Y-V*q,be=B*Q-j*q,ke=B*te-U*q,Ee=V*Q-j*Y,He=V*te-U*Y,rt=j*te-U*Q;let ft=re*rt-oe*He+se*Ee+fe*ke-ge*be+Ce*$e;return ft?(ft=1/ft,C[0]=(P*rt-$*He+R*Ee)*ft,C[1]=($*ke-M*rt-R*be)*ft,C[2]=(M*He-P*ke+R*$e)*ft,C[3]=(S*He-n*rt-k*Ee)*ft,C[4]=(f*rt-S*ke+k*be)*ft,C[5]=(n*ke-f*He-k*$e)*ft,C[6]=(Y*Ce-Q*ge+te*fe)*ft,C[7]=(Q*se-q*Ce-te*oe)*ft,C[8]=(q*ge-Y*se+te*re)*ft,C):null},x.str=function(C){return"mat3("+C[0]+", "+C[1]+", "+C[2]+", "+C[3]+", "+C[4]+", "+C[5]+", "+C[6]+", "+C[7]+", "+C[8]+")"},x.frob=function(C){return Math.sqrt(Math.pow(C[0],2)+Math.pow(C[1],2)+Math.pow(C[2],2)+Math.pow(C[3],2)+Math.pow(C[4],2)+Math.pow(C[5],2)+Math.pow(C[6],2)+Math.pow(C[7],2)+Math.pow(C[8],2))},x.add=function(C,u,f){return C[0]=u[0]+f[0],C[1]=u[1]+f[1],C[2]=u[2]+f[2],C[3]=u[3]+f[3],C[4]=u[4]+f[4],C[5]=u[5]+f[5],C[6]=u[6]+f[6],C[7]=u[7]+f[7],C[8]=u[8]+f[8],C},x.subtract=function(C,u,f){return C[0]=u[0]-f[0],C[1]=u[1]-f[1],C[2]=u[2]-f[2],C[3]=u[3]-f[3],C[4]=u[4]-f[4],C[5]=u[5]-f[5],C[6]=u[6]-f[6],C[7]=u[7]-f[7],C[8]=u[8]-f[8],C},x.multiplyScalar=function(C,u,f){return C[0]=u[0]*f,C[1]=u[1]*f,C[2]=u[2]*f,C[3]=u[3]*f,C[4]=u[4]*f,C[5]=u[5]*f,C[6]=u[6]*f,C[7]=u[7]*f,C[8]=u[8]*f,C},x.multiplyScalarAndAdd=function(C,u,f,n){return C[0]=u[0]+f[0]*n,C[1]=u[1]+f[1]*n,C[2]=u[2]+f[2]*n,C[3]=u[3]+f[3]*n,C[4]=u[4]+f[4]*n,C[5]=u[5]+f[5]*n,C[6]=u[6]+f[6]*n,C[7]=u[7]+f[7]*n,C[8]=u[8]+f[8]*n,C},x.exactEquals=function(C,u){return C[0]===u[0]&&C[1]===u[1]&&C[2]===u[2]&&C[3]===u[3]&&C[4]===u[4]&&C[5]===u[5]&&C[6]===u[6]&&C[7]===u[7]&&C[8]===u[8]},x.equals=function(C,u){const f=C[0],n=C[1],S=C[2],k=C[3],M=C[4],P=C[5],$=C[6],R=C[7],B=C[8],V=u[0],j=u[1],U=u[2],q=u[3],Y=u[4],Q=u[5],te=u[6],re=u[7],oe=u[8];return Math.abs(f-V)<=g.EPSILON*Math.max(1,Math.abs(f),Math.abs(V))&&Math.abs(n-j)<=g.EPSILON*Math.max(1,Math.abs(n),Math.abs(j))&&Math.abs(S-U)<=g.EPSILON*Math.max(1,Math.abs(S),Math.abs(U))&&Math.abs(k-q)<=g.EPSILON*Math.max(1,Math.abs(k),Math.abs(q))&&Math.abs(M-Y)<=g.EPSILON*Math.max(1,Math.abs(M),Math.abs(Y))&&Math.abs(P-Q)<=g.EPSILON*Math.max(1,Math.abs(P),Math.abs(Q))&&Math.abs($-te)<=g.EPSILON*Math.max(1,Math.abs($),Math.abs(te))&&Math.abs(R-re)<=g.EPSILON*Math.max(1,Math.abs(R),Math.abs(re))&&Math.abs(B-oe)<=g.EPSILON*Math.max(1,Math.abs(B),Math.abs(oe))}})(r.mat3||(r.mat3={}))},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.vec3=void 0;const g=l(7);(function(x){function C(){const S=new Float32Array(3);return S[0]=0,S[1]=0,S[2]=0,S}function u(S,k,M){const P=new Float32Array(3);return P[0]=S,P[1]=k,P[2]=M,P}function f(S,k){const M=k[0],P=k[1],$=k[2];let R=M*M+P*P+$*$;return R>0&&(R=1/Math.sqrt(R),S[0]=k[0]*R,S[1]=k[1]*R,S[2]=k[2]*R),S}function n(S,k){return S[0]*k[0]+S[1]*k[1]+S[2]*k[2]}x.create=C,x.clone=function(S){const k=new Float32Array(3);return k[0]=S[0],k[1]=S[1],k[2]=S[2],k},x.fromValues=u,x.copy=function(S,k){return S[0]=k[0],S[1]=k[1],S[2]=k[2],S},x.set=function(S,k,M,P){return S[0]=k,S[1]=M,S[2]=P,S},x.add=function(S,k,M){return S[0]=k[0]+M[0],S[1]=k[1]+M[1],S[2]=k[2]+M[2],S},x.subtract=function(S,k,M){return S[0]=k[0]-M[0],S[1]=k[1]-M[1],S[2]=k[2]-M[2],S},x.multiply=function(S,k,M){return S[0]=k[0]*M[0],S[1]=k[1]*M[1],S[2]=k[2]*M[2],S},x.divide=function(S,k,M){return S[0]=k[0]/M[0],S[1]=k[1]/M[1],S[2]=k[2]/M[2],S},x.ceil=function(S,k){return S[0]=Math.ceil(k[0]),S[1]=Math.ceil(k[1]),S[2]=Math.ceil(k[2]),S},x.floor=function(S,k){return S[0]=Math.floor(k[0]),S[1]=Math.floor(k[1]),S[2]=Math.floor(k[2]),S},x.min=function(S,k,M){return S[0]=Math.min(k[0],M[0]),S[1]=Math.min(k[1],M[1]),S[2]=Math.min(k[2],M[2]),S},x.max=function(S,k,M){return S[0]=Math.max(k[0],M[0]),S[1]=Math.max(k[1],M[1]),S[2]=Math.max(k[2],M[2]),S},x.round=function(S,k){return S[0]=Math.round(k[0]),S[1]=Math.round(k[1]),S[2]=Math.round(k[2]),S},x.scale=function(S,k,M){return S[0]=k[0]*M,S[1]=k[1]*M,S[2]=k[2]*M,S},x.scaleAndAdd=function(S,k,M,P){return S[0]=k[0]+M[0]*P,S[1]=k[1]+M[1]*P,S[2]=k[2]+M[2]*P,S},x.distance=function(S,k){const M=k[0]-S[0],P=k[1]-S[1],$=k[2]-S[2];return Math.sqrt(M*M+P*P+$*$)},x.squaredDistance=function(S,k){const M=k[0]-S[0],P=k[1]-S[1],$=k[2]-S[2];return M*M+P*P+$*$},x.length=function(S){const k=S[0],M=S[1],P=S[2];return Math.sqrt(k*k+M*M+P*P)},x.squaredLength=function(S){const k=S[0],M=S[1],P=S[2];return k*k+M*M+P*P},x.negate=function(S,k){return S[0]=-k[0],S[1]=-k[1],S[2]=-k[2],S},x.inverse=function(S,k){return S[0]=1/k[0],S[1]=1/k[1],S[2]=1/k[2],S},x.normalize=f,x.dot=n,x.cross=function(S,k,M){const P=k[0],$=k[1],R=k[2],B=M[0],V=M[1],j=M[2];return S[0]=$*j-R*V,S[1]=R*B-P*j,S[2]=P*V-$*B,S},x.lerp=function(S,k,M,P){const $=k[0],R=k[1],B=k[2];return S[0]=$+P*(M[0]-$),S[1]=R+P*(M[1]-R),S[2]=B+P*(M[2]-B),S},x.hermite=function(S,k,M,P,$,R){const B=R*R,V=B*(2*R-3)+1,j=B*(R-2)+R,U=B*(R-1),q=B*(3-2*R);return S[0]=k[0]*V+M[0]*j+P[0]*U+$[0]*q,S[1]=k[1]*V+M[1]*j+P[1]*U+$[1]*q,S[2]=k[2]*V+M[2]*j+P[2]*U+$[2]*q,S},x.bezier=function(S,k,M,P,$,R){const B=1-R,V=B*B,j=R*R,U=V*B,q=3*R*V,Y=3*j*B,Q=j*R;return S[0]=k[0]*U+M[0]*q+P[0]*Y+$[0]*Q,S[1]=k[1]*U+M[1]*q+P[1]*Y+$[1]*Q,S[2]=k[2]*U+M[2]*q+P[2]*Y+$[2]*Q,S},x.random=function(S,k=1){const M=2*Math.random()*Math.PI,P=2*Math.random()-1,$=Math.sqrt(1-P*P)*k;return S[0]=Math.cos(M)*$,S[1]=Math.sin(M)*$,S[2]=P*k,S},x.transformMat4=function(S,k,M){const P=k[0],$=k[1],R=k[2];let B=M[3]*P+M[7]*$+M[11]*R+M[15];return B=B||1,S[0]=(M[0]*P+M[4]*$+M[8]*R+M[12])/B,S[1]=(M[1]*P+M[5]*$+M[9]*R+M[13])/B,S[2]=(M[2]*P+M[6]*$+M[10]*R+M[14])/B,S},x.transformMat3=function(S,k,M){const P=k[0],$=k[1],R=k[2];return S[0]=P*M[0]+$*M[3]+R*M[6],S[1]=P*M[1]+$*M[4]+R*M[7],S[2]=P*M[2]+$*M[5]+R*M[8],S},x.transformQuat=function(S,k,M){const P=k[0],$=k[1],R=k[2],B=M[0],V=M[1],j=M[2],U=M[3],q=U*P+V*R-j*$,Y=U*$+j*P-B*R,Q=U*R+B*$-V*P,te=-B*P-V*$-j*R;return S[0]=q*U+te*-B+Y*-j-Q*-V,S[1]=Y*U+te*-V+Q*-B-q*-j,S[2]=Q*U+te*-j+q*-V-Y*-B,S},x.rotateX=function(S,k,M,P){const $=[],R=[];return $[0]=k[0]-M[0],$[1]=k[1]-M[1],$[2]=k[2]-M[2],R[0]=$[0],R[1]=$[1]*Math.cos(P)-$[2]*Math.sin(P),R[2]=$[1]*Math.sin(P)+$[2]*Math.cos(P),S[0]=R[0]+M[0],S[1]=R[1]+M[1],S[2]=R[2]+M[2],S},x.rotateY=function(S,k,M,P){const $=[],R=[];return $[0]=k[0]-M[0],$[1]=k[1]-M[1],$[2]=k[2]-M[2],R[0]=$[2]*Math.sin(P)+$[0]*Math.cos(P),R[1]=$[1],R[2]=$[2]*Math.cos(P)-$[0]*Math.sin(P),S[0]=R[0]+M[0],S[1]=R[1]+M[1],S[2]=R[2]+M[2],S},x.rotateZ=function(S,k,M,P){const $=[],R=[];return $[0]=k[0]-M[0],$[1]=k[1]-M[1],$[2]=k[2]-M[2],R[0]=$[0]*Math.cos(P)-$[1]*Math.sin(P),R[1]=$[0]*Math.sin(P)+$[1]*Math.cos(P),R[2]=$[2],S[0]=R[0]+M[0],S[1]=R[1]+M[1],S[2]=R[2]+M[2],S},x.forEach=function(S,k,M,P,$,R){const B=C();let V,j;for(k||(k=3),M||(M=0),j=P?Math.min(P*k+M,S.length):S.length,V=M;V<j;V+=k)B[0]=S[V],B[1]=S[V+1],B[2]=S[V+2],$(B,B,R),S[V]=B[0],S[V+1]=B[1],S[V+2]=B[2];return S},x.angle=function(S,k){const M=u(S[0],S[1],S[2]),P=u(k[0],k[1],k[2]);f(M,M),f(P,P);const $=n(M,P);return $>1?0:$<-1?Math.PI:Math.acos($)},x.str=function(S){return"vec3("+S[0]+", "+S[1]+", "+S[2]+")"},x.exactEquals=function(S,k){return S[0]===k[0]&&S[1]===k[1]&&S[2]===k[2]},x.equals=function(S,k){const M=S[0],P=S[1],$=S[2],R=k[0],B=k[1],V=k[2];return Math.abs(M-R)<=g.EPSILON*Math.max(1,Math.abs(M),Math.abs(R))&&Math.abs(P-B)<=g.EPSILON*Math.max(1,Math.abs(P),Math.abs(B))&&Math.abs($-V)<=g.EPSILON*Math.max(1,Math.abs($),Math.abs(V))}})(r.vec3||(r.vec3={}))},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.vec4=void 0;const g=l(7);(function(x){function C(){const n=new Float32Array(4);return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n}function u(n,S,k){return n[0]=S[0]*k,n[1]=S[1]*k,n[2]=S[2]*k,n[3]=S[3]*k,n}function f(n,S){const k=S[0],M=S[1],P=S[2],$=S[3];let R=k*k+M*M+P*P+$*$;return R>0&&(R=1/Math.sqrt(R),n[0]=k*R,n[1]=M*R,n[2]=P*R,n[3]=$*R),n}x.create=C,x.clone=function(n){const S=new Float32Array(4);return S[0]=n[0],S[1]=n[1],S[2]=n[2],S[3]=n[3],S},x.fromValues=function(n,S,k,M){const P=new Float32Array(4);return P[0]=n,P[1]=S,P[2]=k,P[3]=M,P},x.copy=function(n,S){return n[0]=S[0],n[1]=S[1],n[2]=S[2],n[3]=S[3],n},x.set=function(n,S,k,M,P){return n[0]=S,n[1]=k,n[2]=M,n[3]=P,n},x.add=function(n,S,k){return n[0]=S[0]+k[0],n[1]=S[1]+k[1],n[2]=S[2]+k[2],n[3]=S[3]+k[3],n},x.subtract=function(n,S,k){return n[0]=S[0]-k[0],n[1]=S[1]-k[1],n[2]=S[2]-k[2],n[3]=S[3]-k[3],n},x.multiply=function(n,S,k){return n[0]=S[0]*k[0],n[1]=S[1]*k[1],n[2]=S[2]*k[2],n[3]=S[3]*k[3],n},x.divide=function(n,S,k){return n[0]=S[0]/k[0],n[1]=S[1]/k[1],n[2]=S[2]/k[2],n[3]=S[3]/k[3],n},x.ceil=function(n,S){return n[0]=Math.ceil(S[0]),n[1]=Math.ceil(S[1]),n[2]=Math.ceil(S[2]),n[3]=Math.ceil(S[3]),n},x.floor=function(n,S){return n[0]=Math.floor(S[0]),n[1]=Math.floor(S[1]),n[2]=Math.floor(S[2]),n[3]=Math.floor(S[3]),n},x.min=function(n,S,k){return n[0]=Math.min(S[0],k[0]),n[1]=Math.min(S[1],k[1]),n[2]=Math.min(S[2],k[2]),n[3]=Math.min(S[3],k[3]),n},x.max=function(n,S,k){return n[0]=Math.max(S[0],k[0]),n[1]=Math.max(S[1],k[1]),n[2]=Math.max(S[2],k[2]),n[3]=Math.max(S[3],k[3]),n},x.round=function(n,S){return n[0]=Math.round(S[0]),n[1]=Math.round(S[1]),n[2]=Math.round(S[2]),n[3]=Math.round(S[3]),n},x.scale=u,x.scaleAndAdd=function(n,S,k,M){return n[0]=S[0]+k[0]*M,n[1]=S[1]+k[1]*M,n[2]=S[2]+k[2]*M,n[3]=S[3]+k[3]*M,n},x.distance=function(n,S){const k=S[0]-n[0],M=S[1]-n[1],P=S[2]-n[2],$=S[3]-n[3];return Math.sqrt(k*k+M*M+P*P+$*$)},x.squaredDistance=function(n,S){const k=S[0]-n[0],M=S[1]-n[1],P=S[2]-n[2],$=S[3]-n[3];return k*k+M*M+P*P+$*$},x.length=function(n){const S=n[0],k=n[1],M=n[2],P=n[3];return Math.sqrt(S*S+k*k+M*M+P*P)},x.squaredLength=function(n){const S=n[0],k=n[1],M=n[2],P=n[3];return S*S+k*k+M*M+P*P},x.negate=function(n,S){return n[0]=-S[0],n[1]=-S[1],n[2]=-S[2],n[3]=-S[3],n},x.inverse=function(n,S){return n[0]=1/S[0],n[1]=1/S[1],n[2]=1/S[2],n[3]=1/S[3],n},x.normalize=f,x.dot=function(n,S){return n[0]*S[0]+n[1]*S[1]+n[2]*S[2]+n[3]*S[3]},x.lerp=function(n,S,k,M){const P=S[0],$=S[1],R=S[2],B=S[3];return n[0]=P+M*(k[0]-P),n[1]=$+M*(k[1]-$),n[2]=R+M*(k[2]-R),n[3]=B+M*(k[3]-B),n},x.random=function(n,S=1){return n[0]=Math.random(),n[1]=Math.random(),n[2]=Math.random(),n[3]=Math.random(),f(n,n),u(n,n,S),n},x.transformMat4=function(n,S,k){const M=S[0],P=S[1],$=S[2],R=S[3];return n[0]=k[0]*M+k[4]*P+k[8]*$+k[12]*R,n[1]=k[1]*M+k[5]*P+k[9]*$+k[13]*R,n[2]=k[2]*M+k[6]*P+k[10]*$+k[14]*R,n[3]=k[3]*M+k[7]*P+k[11]*$+k[15]*R,n},x.transformQuat=function(n,S,k){const M=S[0],P=S[1],$=S[2],R=k[0],B=k[1],V=k[2],j=k[3],U=j*M+B*$-V*P,q=j*P+V*M-R*$,Y=j*$+R*P-B*M,Q=-R*M-B*P-V*$;return n[0]=U*j+Q*-R+q*-V-Y*-B,n[1]=q*j+Q*-B+Y*-R-U*-V,n[2]=Y*j+Q*-V+U*-B-q*-R,n[3]=S[3],n},x.forEach=function(n,S,k,M,P,$){const R=C();let B,V;for(S||(S=4),k||(k=0),V=M?Math.min(M*S+k,n.length):n.length,B=k;B<V;B+=S)R[0]=n[B],R[1]=n[B+1],R[2]=n[B+2],R[3]=n[B+3],P(R,R,$),n[B]=R[0],n[B+1]=R[1],n[B+2]=R[2],n[B+3]=R[3];return n},x.str=function(n){return"vec4("+n[0]+", "+n[1]+", "+n[2]+", "+n[3]+")"},x.exactEquals=function(n,S){return n[0]===S[0]&&n[1]===S[1]&&n[2]===S[2]&&n[3]===S[3]},x.equals=function(n,S){const k=n[0],M=n[1],P=n[2],$=n[3],R=S[0],B=S[1],V=S[2],j=S[3];return Math.abs(k-R)<=g.EPSILON*Math.max(1,Math.abs(k),Math.abs(R))&&Math.abs(M-B)<=g.EPSILON*Math.max(1,Math.abs(M),Math.abs(B))&&Math.abs(P-V)<=g.EPSILON*Math.max(1,Math.abs(P),Math.abs(V))&&Math.abs($-j)<=g.EPSILON*Math.max(1,Math.abs($),Math.abs(j))}})(r.vec4||(r.vec4={}))},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.EVENTS=r.METHODS=void 0,r.METHODS={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH",OPTIONS:"OPTIONS",HEAD:"HEAD"},r.EVENTS={READY_STATE_CHANGE:"readystatechange",LOAD_START:"loadstart",PROGRESS:"progress",ABORT:"abort",ERROR:"error",LOAD:"load",TIMEOUT:"timeout",LOAD_END:"loadend"}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.httpHelper=void 0;const g=l(42),x={method:g.METHODS.GET,data:void 0,headers:{Accept:"application/json","Content-Type":"application/json"},dump:JSON.stringify,load:JSON.parse,xmlHttpRequest:()=>new XMLHttpRequest,promise:n=>new Promise(n),withCredentials:!1},C=(n,S)=>({status:n.status,response:n.response,data:S,xhr:n});let u=Object.assign({},x);const f=n=>((S,k)=>(S&&S.promise?S.promise:u.promise||x.promise)(k))(n,(S,k)=>{const M=Object.assign(Object.assign(Object.assign({},x),u),n),P=M.xmlHttpRequest();if(M.abort&&typeof n.abort=="function"&&n.abort(()=>{k(C(P)),P.abort()}),M.url===void 0)throw new Error("No URL defined");P.open(M.method,M.params?`${M.url.split("?")[0]}?${new URLSearchParams(M.params)}`:M.url,!0),P.withCredentials=M.withCredentials,P.addEventListener(g.EVENTS.LOAD,()=>{if(P.status>=200&&P.status<300){let R;P.responseText&&(R=M.raw===!0?P.responseText:M.load(P.responseText)),S(C(P,R))}else k(C(P))}),P.addEventListener(g.EVENTS.ABORT,()=>k(C(P))),P.addEventListener(g.EVENTS.ERROR,()=>k(C(P))),P.addEventListener(g.EVENTS.TIMEOUT,()=>k(C(P)));for(const R in M.headers)({}).hasOwnProperty.call(M.headers,R)&&P.setRequestHeader(R,M.headers[R]);if(M.events)for(const R in M.events)({}).hasOwnProperty.call(M.events,R)&&P.addEventListener(R,M.events[R].bind(null,P),!1);const $=typeof M.data!="object"||M.raw?M.data:M.dump(M.data);$!==void 0?P.send($):P.send()});r.httpHelper={configure:n=>{u=Object.assign(Object.assign({},u),n)},event:g.EVENTS,methods:g.METHODS,rqeust:f,get:(n,S,k)=>f(Object.assign({url:n,method:g.METHODS.GET,params:S},k)),put:(n,S,k)=>f(Object.assign({url:n,method:g.METHODS.PUT,data:S},k)),post:(n,S,k)=>f(Object.assign({url:n,method:g.METHODS.POST,data:S},k)),patch:(n,S,k)=>f(Object.assign({url:n,method:g.METHODS.PATCH,data:S},k)),del:(n,S)=>f(Object.assign({url:n,method:g.METHODS.DELETE},S)),options:(n,S)=>f(Object.assign({url:n,method:g.METHODS.OPTIONS},S))}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.MapOpenWay=void 0,function(g){g.Memory="Memory",g.GeomRender="GeomRender"}(r.MapOpenWay||(r.MapOpenWay={}))},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.decryptFromBase64=r.encryptToBase64=void 0;const g=function(){var C,u,f={};f.btoa===void 0&&(f.btoa=(C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),function(j){var U,q,Y,Q,te,re,oe;for(q=Y=0,Q=j.length,re=(Q-=te=Q%3)/3<<2,te>0&&(re+=4),U=new Array(re);q<Q;)oe=j.charCodeAt(q++)<<16|j.charCodeAt(q++)<<8|j.charCodeAt(q++),U[Y++]=C[oe>>18]+C[oe>>12&63]+C[oe>>6&63]+C[63&oe];return te==1?(oe=j.charCodeAt(q++),U[Y++]=C[oe>>2]+C[(3&oe)<<4]+"=="):te==2&&(oe=j.charCodeAt(q++)<<8|j.charCodeAt(q++),U[Y++]=C[oe>>10]+C[oe>>4&63]+C[(15&oe)<<2]+"="),U.join("")})),f.atob===void 0&&(f.atob=(u=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],function(j){var U,q,Y,Q,te,re,oe,se,fe,ge;if((oe=j.length)%4!=0||/[^ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\+\/\=]/.test(j))return"";for(fe=oe,(se=j.charAt(oe-2)=="="?1:j.charAt(oe-1)=="="?2:0)>0&&(fe-=4),fe=3*(fe>>2)+se,ge=new Array(fe),te=re=0;te<oe&&(U=u[j.charCodeAt(te++)])!=-1&&(q=u[j.charCodeAt(te++)])!=-1&&(ge[re++]=String.fromCharCode(U<<2|(48&q)>>4),(Y=u[j.charCodeAt(te++)])!=-1)&&(ge[re++]=String.fromCharCode((15&q)<<4|(60&Y)>>2),(Q=u[j.charCodeAt(te++)])!=-1);)ge[re++]=String.fromCharCode((3&Y)<<6|Q);return ge.join("")}));function n(j,U){var q=j.length,Y=q<<2;if(U){var Q=j[q-1];if(Q<(Y-=4)-3||Q>Y)return null;Y=Q}for(var te=0;te<q;te++)j[te]=String.fromCharCode(255&j[te],j[te]>>>8&255,j[te]>>>16&255,j[te]>>>24&255);var re=j.join("");return U?re.substring(0,Y):re}function S(j,U){var q,Y=j.length,Q=Y>>2;(3&Y)!=0&&++Q,U?(q=new Array(Q+1))[Q]=Y:q=new Array(Q);for(var te=0;te<Y;++te)q[te>>2]|=j.charCodeAt(te)<<((3&te)<<3);return q}function k(j){return 4294967295&j}function M(j,U,q,Y,Q,te){return(q>>>5^U<<2)+(U>>>3^q<<4)^(j^U)+(te[3&Y^Q]^q)}function P(j){return j.length<4&&(j.length=4),j}function $(j){if(/^[\x00-\x7f]*$/.test(j))return j;for(var U=[],q=j.length,Y=0,Q=0;Y<q;++Y,++Q){var te=j.charCodeAt(Y);if(te<128)U[Q]=j.charAt(Y);else if(te<2048)U[Q]=String.fromCharCode(192|te>>6,128|63&te);else{if(!(te<55296||te>57343)){if(Y+1<q){var re=j.charCodeAt(Y+1);if(te<56320&&56320<=re&&re<=57343){var oe=65536+((1023&te)<<10|1023&re);U[Q]=String.fromCharCode(240|oe>>18&63,128|oe>>12&63,128|oe>>6&63,128|63&oe),++Y;continue}}throw new Error("Malformed string")}U[Q]=String.fromCharCode(224|te>>12,128|te>>6&63,128|63&te)}}return U.join("")}function R(j,U){return(U==null||U<0)&&(U=j.length),U===0?"":/^[\x00-\x7f]*$/.test(j)||!/^[\x00-\xff]*$/.test(j)?U===j.length?j:j.substr(0,U):U<32767?function(q,Y){for(var Q=new Array(Y),te=0,re=0,oe=q.length;te<Y&&re<oe;te++){var se=q.charCodeAt(re++);switch(se>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:Q[te]=se;break;case 12:case 13:if(!(re<oe))throw new Error("Unfinished UTF-8 octet sequence");Q[te]=(31&se)<<6|63&q.charCodeAt(re++);break;case 14:if(!(re+1<oe))throw new Error("Unfinished UTF-8 octet sequence");Q[te]=(15&se)<<12|(63&q.charCodeAt(re++))<<6|63&q.charCodeAt(re++);break;case 15:if(!(re+2<oe))throw new Error("Unfinished UTF-8 octet sequence");var fe=((7&se)<<18|(63&q.charCodeAt(re++))<<12|(63&q.charCodeAt(re++))<<6|63&q.charCodeAt(re++))-65536;if(!(0<=fe&&fe<=1048575))throw new Error("Character outside valid Unicode range: 0x"+fe.toString(16));Q[te++]=fe>>10&1023|55296,Q[te]=1023&fe|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+se.toString(16))}}return te<Y&&(Q.length=te),String.fromCharCode.apply(String,Q)}(j,U):function(q,Y){for(var Q=[],te=new Array(32768),re=0,oe=0,se=q.length;re<Y&&oe<se;re++){var fe=q.charCodeAt(oe++);switch(fe>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:te[re]=fe;break;case 12:case 13:if(!(oe<se))throw new Error("Unfinished UTF-8 octet sequence");te[re]=(31&fe)<<6|63&q.charCodeAt(oe++);break;case 14:if(!(oe+1<se))throw new Error("Unfinished UTF-8 octet sequence");te[re]=(15&fe)<<12|(63&q.charCodeAt(oe++))<<6|63&q.charCodeAt(oe++);break;case 15:if(!(oe+2<se))throw new Error("Unfinished UTF-8 octet sequence");var ge=((7&fe)<<18|(63&q.charCodeAt(oe++))<<12|(63&q.charCodeAt(oe++))<<6|63&q.charCodeAt(oe++))-65536;if(!(0<=ge&&ge<=1048575))throw new Error("Character outside valid Unicode range: 0x"+ge.toString(16));te[re++]=ge>>10&1023|55296,te[re]=1023&ge|56320;break;default:throw new Error("Bad UTF-8 encoding 0x"+fe.toString(16))}if(re>=32766){var Ce=re+1;te.length=Ce,Q[Q.length]=String.fromCharCode.apply(String,te),Y-=Ce,re=-1}}return re>0&&(te.length=re,Q[Q.length]=String.fromCharCode.apply(String,te)),Q.join("")}(j,U)}function B(j,U){return j==null||j.length===0?j:(j=$(j),U=$(U),n(function(q,Y){var Q,te,re,oe,se,fe,ge=q.length,Ce=ge-1;for(te=q[Ce],re=0,fe=0|Math.floor(6+52/ge);fe>0;--fe){for(oe=(re=k(re+2654435769))>>>2&3,se=0;se<Ce;++se)Q=q[se+1],te=q[se]=k(q[se]+M(re,Q,te,se,oe,Y));Q=q[0],te=q[Ce]=k(q[Ce]+M(re,Q,te,Ce,oe,Y))}return q}(S(j,!0),P(S(U,!1))),!1))}function V(j,U){return j==null||j.length===0?j:(U=$(U),R(n(function(q,Y){var Q,te,re,oe,se,fe=q.length,ge=fe-1;for(Q=q[0],re=k(2654435769*Math.floor(6+52/fe));re!==0;re=k(re-2654435769)){for(oe=re>>>2&3,se=ge;se>0;--se)te=q[se-1],Q=q[se]=k(q[se]-M(re,Q,te,se,oe,Y));te=q[ge],Q=q[0]=k(q[0]-M(re,Q,te,0,oe,Y))}return q}(S(j,!1),P(S(U,!1))),!0)))}return{utf8Encode:$,utf8Decode:R,encrypt:B,encryptToBase64:function(j,U){return f.btoa(B(j,U))},encryptToBase64Url:function(j,U){return f.btoa(B(j,U)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},decrypt:V,decryptFromBase64:function(j,U){return j==null||j.length===0?j:V(f.atob(j),U)},decryptFromBase64Url:function(j,U){return j==null||j.length===0?j:V(f.atob(((q=j)+"===".slice((q.length+3)%4)).replace(/-/g,"+").replace(/_/g,"/")),U);var q}}}(),x=[35,94,118,106,109,97,112,95,99,111,109,42,64].map(C=>String.fromCodePoint(C)).join("");r.encryptToBase64=function(C){return g.encryptToBase64Url(C,x)},r.decryptFromBase64=function(C){return g.decryptFromBase64Url(C,x)}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbRasterImage=void 0;const g=l(4);class x extends g.DbEntity{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbRasterImage"}}r.DbRasterImage=x},function(e,r,l){var g=this&&this.__rest||function(S,k){var M={};for(var P in S)Object.prototype.hasOwnProperty.call(S,P)&&k.indexOf(P)<0&&(M[P]=S[P]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function"){var $=0;for(P=Object.getOwnPropertySymbols(S);$<P.length;$++)k.indexOf(P[$])<0&&Object.prototype.propertyIsEnumerable.call(S,P[$])&&(M[P[$]]=S[P[$]])}return M};Object.defineProperty(r,"__esModule",{value:!0}),r.createAnimation=void 0;const x=l(29),C=l(20),u=l(131),f=l(133),n=S=>{const k=({delta:M})=>S(M);return{start:()=>x.default.update(k,!0),stop:()=>x.cancelSync.update(k)}};r.createAnimation=function(S){var k,M,{from:P,autoplay:$=!0,driver:R=n,elapsed:B=0,repeat:V=0,repeatType:j="loop",repeatDelay:U=0,onPlay:q,onStop:Y,onComplete:Q,onRepeat:te,onUpdate:re}=S,oe=g(S,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let se,fe,ge,{to:Ce}=oe,$e=0,be=oe.duration,ke=!1,Ee=!0;const He=u.detectAnimationFromOptions(oe);((M=(k=He).needsInterpolation)===null||M===void 0?void 0:M.call(k,P,Ce))&&(ge=C.interpolate([0,100],[P,Ce],{clamp:!1}),P=0,Ce=100);const rt=He(Object.assign(Object.assign({},oe),{from:P,to:Ce}));function ft(bt){if(Ee||(bt=-bt),B+=bt,!ke){const Ye=rt.next(Math.max(0,B));fe=Ye.value,ge&&(fe=ge(fe)),ke=Ee?Ye.done:B<=0}re==null||re(fe),ke&&($e===0&&(be=be!=null?be:B),$e<V?f.hasRepeatDelayElapsed(B,be,U,Ee)&&($e++,j==="reverse"?(Ee=$e%2==0,B=f.reverseElapsed(B,be,U,Ee)):(B=f.loopElapsed(B,be,U),j==="mirror"&&rt.flipTarget()),ke=!1,te&&te()):(se.stop(),Q&&Q()))}return $&&(q==null||q(),se=R(ft),se.start()),{stop:()=>{Y==null||Y(),se.stop()},start:()=>{q==null||q(),se.start()}}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.mixComplex=r.mixObject=r.mixArray=void 0;const g=l(14),x=l(28),C=l(22),u=l(16),f=l(21),n=l(23);function S(M,P){return C.isNum(M)?$=>u.mix(M,P,$):x.color.test(M)?f.mixColor(M,P):r.mixComplex(M,P)}function k(M){const P=x.complex.parse(M),$=P.length;let R=0,B=0,V=0;for(let j=0;j<$;j++)R||typeof P[j]=="number"?R++:P[j].hue!==void 0?V++:B++;return{parsed:P,numNumbers:R,numRGB:B,numHSL:V}}r.mixArray=(M,P)=>{const $=[...M],R=$.length,B=M.map((V,j)=>S(V,P[j]));return V=>{for(let j=0;j<R;j++)$[j]=B[j](V);return $}},r.mixObject=(M,P)=>{const $=Object.assign(Object.assign({},M),P),R={};for(const B in $)M[B]!==void 0&&P[B]!==void 0&&(R[B]=S(M[B],P[B]));return B=>{for(const V in R)$[V]=R[V](B);return $}},r.mixComplex=(M,P)=>{const $=x.complex.createTransformer(P),R=k(M),B=k(P);return g.invariant(R.numHSL===B.numHSL&&R.numRGB===B.numRGB&&R.numNumbers>=B.numNumbers,`Complex values '${M}' and '${P}' too different to mix. Ensure all colors are of the same type.`),n.pipe(r.mixArray(R.parsed,B.parsed),$)}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.progress=void 0,r.progress=(g,x,C)=>{const u=x-g;return u===0?1:(C-g)/u}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.decay=void 0,r.decay=function({velocity:g=0,from:x=0,power:C=.8,timeConstant:u=350,restDelta:f=.5,modifyTarget:n}){const S={done:!1,value:x};let k=C*g;const M=x+k,P=n===void 0?M:n(M);return P!==M&&(k=P-x),{next:$=>{const R=-k*Math.exp(-$/u);return S.done=!(R>f||R<-f),S.value=S.done?P:P+R,S},flipTarget:()=>{}}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.keyframes=r.convertOffsetToTimes=r.defaultOffset=r.defaultEasing=void 0;const g=l(24),x=l(20);function C(n,S){return n.map(()=>S||g.easeInOut).splice(0,n.length-1)}function u(n){const S=n.length;return n.map((k,M)=>M!==0?M/(S-1):0)}function f(n,S){return n.map(k=>k*S)}r.defaultEasing=C,r.defaultOffset=u,r.convertOffsetToTimes=f,r.keyframes=function({from:n=0,to:S=1,ease:k,offset:M,duration:P=300}){const $={done:!1,value:n},R=Array.isArray(S)?S:[n,S],B=f(M&&M.length===R.length?M:u(R),P);function V(){return x.interpolate(B,R,{ease:Array.isArray(k)?k:C(R,k)})}let j=V();return{next:U=>($.value=j(U),$.done=U>=P,$),flipTarget:()=>{R.reverse(),j=V()}}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.createAnticipate=r.createBackIn=r.createExpoIn=r.mirrorEasing=r.reverseEasing=void 0,r.reverseEasing=g=>x=>1-g(1-x),r.mirrorEasing=g=>x=>x<=.5?g(2*x)/2:(2-g(2*(1-x)))/2,r.createExpoIn=g=>x=>x**g,r.createBackIn=g=>x=>x*x*((g+1)*x-g),r.createAnticipate=g=>{const x=r.createBackIn(g);return C=>(C*=2)<1?.5*x(C):.5*(2-Math.pow(2,-10*(C-1)))}},function(e,r,l){var g=this&&this.__rest||function(k,M){var P={};for(var $ in k)Object.prototype.hasOwnProperty.call(k,$)&&M.indexOf($)<0&&(P[$]=k[$]);if(k!=null&&typeof Object.getOwnPropertySymbols=="function"){var R=0;for($=Object.getOwnPropertySymbols(k);R<$.length;R++)M.indexOf($[R])<0&&Object.prototype.propertyIsEnumerable.call(k,$[R])&&(P[$[R]]=k[$[R]])}return P};Object.defineProperty(r,"__esModule",{value:!0}),r.spring=void 0;const x=l(132),C=["duration","bounce"],u=["stiffness","damping","mass"];function f(k,M){return M.some(P=>k[P]!==void 0)}function n(k){var{from:M=0,to:P=1,restSpeed:$=2,restDelta:R}=k,B=g(k,["from","to","restSpeed","restDelta"]);const V={done:!1,value:M};let{stiffness:j,damping:U,mass:q,velocity:Y,duration:Q,isResolvedFromDuration:te}=function(fe){let ge=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},fe);if(!f(fe,u)&&f(fe,C)){const Ce=x.findSpring(fe);ge=Object.assign(Object.assign(Object.assign({},ge),Ce),{velocity:0,mass:1}),ge.isResolvedFromDuration=!0}return ge}(B),re=S,oe=S;function se(){const fe=Y?-Y/1e3:0,ge=P-M,Ce=U/(2*Math.sqrt(j*q)),$e=Math.sqrt(j/q)/1e3;if(R=(R!=null?R:Math.abs(P-M)<=1)?.01:.4,Ce<1){const be=x.calcAngularFreq($e,Ce);re=ke=>{const Ee=Math.exp(-Ce*$e*ke);return P-Ee*((fe+Ce*$e*ge)/be*Math.sin(be*ke)+ge*Math.cos(be*ke))},oe=ke=>{const Ee=Math.exp(-Ce*$e*ke);return Ce*$e*Ee*(Math.sin(be*ke)*(fe+Ce*$e*ge)/be+ge*Math.cos(be*ke))-Ee*(Math.cos(be*ke)*(fe+Ce*$e*ge)-be*ge*Math.sin(be*ke))}}else if(Ce===1)re=be=>P-Math.exp(-$e*be)*(ge+(fe+$e*ge)*be);else{const be=$e*Math.sqrt(Ce*Ce-1);re=ke=>{const Ee=Math.exp(-Ce*$e*ke),He=Math.min(be*ke,300);return P-Ee*((fe+Ce*$e*ge)*Math.sinh(He)+be*ge*Math.cosh(He))/be}}}return se(),{next:fe=>{const ge=re(fe);if(te)V.done=fe>=Q;else{const Ce=1e3*oe(fe),$e=Math.abs(Ce)<=$,be=Math.abs(P-ge)<=R;V.done=$e&&be}return V.value=V.done?P:ge,V},flipTarget:()=>{Y=-Y,[M,P]=[P,M],se()}}}r.spring=n,n.needsInterpolation=(k,M)=>typeof k=="string"||typeof M=="string";const S=k=>0},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.velocityPerSecond=void 0,r.velocityPerSecond=function(g,x){return x?g*(1e3/x):0}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.radiansToDegrees=void 0,r.radiansToDegrees=g=>180*g/Math.PI},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.degreesToRadians=void 0,r.degreesToRadians=g=>g*Math.PI/180},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.isPoint3D=void 0;const g=l(25);r.isPoint3D=x=>g.isPoint(x)&&x.hasOwnProperty("z")},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.smoothFrame=void 0;const g=l(59);r.smoothFrame=(x,C,u,f=0)=>g.toDecimal(x+u*(C-x)/Math.max(f,u))},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.toDecimal=void 0,r.toDecimal=(g,x=2)=>(x=10**x,Math.round(g*x)/x)},function(e,r,l){var g=this&&this.__createBinding||(Object.create?function(u,f,n,S){S===void 0&&(S=n),Object.defineProperty(u,S,{enumerable:!0,get:function(){return f[n]}})}:function(u,f,n,S){S===void 0&&(S=n),u[S]=f[n]}),x=this&&this.__exportStar||function(u,f){for(var n in u)n==="default"||f.hasOwnProperty(n)||g(f,u,n)};Object.defineProperty(r,"__esModule",{value:!0});const C=l(30);x(l(30),r),r.default=C},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0});const g=l(3),x=l(32),C=l(62),u=l(63),f=g.Map.prototype.addControl;g.Map.prototype.addControl=function(){var P,$,R,B;arguments.length>0&&((($=(P=arguments[0])===null||P===void 0?void 0:P.constructor)===null||$===void 0?void 0:$.name)==="LogoControl"||typeof((R=arguments[0])===null||R===void 0?void 0:R._updateLogo)=="function"&&typeof((B=arguments[0])===null||B===void 0?void 0:B._updateCompact)=="function")||typeof f=="function"&&f.call(this,...arguments)};const n=g.Map.prototype._setupContainer;g.Map.prototype._setupContainer=function(){x.MapGlUtils.init(this,!0),u.recvMapAuthEvent(this),typeof n=="function"&&n.call(this,...arguments),C.initAuthorize(this)};const S=g.Map.prototype._authenticate;function k(P,$,R){const B=R&&R.maxWidth||100,V=P._container.clientHeight/2,j=P.unproject([0,V]),U=P.unproject([B,V]);let q=j.distanceTo(U);if(P.getProjection()){const Y=P.fromLngLat(j),Q=P.fromLngLat(U);q=Y.distanceTo(Q)}if(R&&R.unit==="imperial"){const Y=3.2808*q;Y>5280?M($,B,Y/5280,P._getUIString("ScaleControl.Miles")):M($,B,Y,P._getUIString("ScaleControl.Feet"))}else R&&R.unit==="nautical"?M($,B,q/1852,P._getUIString("ScaleControl.NauticalMiles")):q>=1e3?M($,B,q/1e3,P._getUIString("ScaleControl.Kilometers")):M($,B,q,P._getUIString("ScaleControl.Meters"))}function M(P,$,R,B){const V=function(U){const q=Math.pow(10,(""+Math.floor(U)).length-1);let Y=U/q;return Y=Y>=10?10:Y>=5?5:Y>=3?3:Y>=2?2:Y>=1?1:function(Q){const te=Math.pow(10,Math.ceil(-Math.log(Q)/Math.LN10));return Math.round(Q*te)/te}(Y),q*Y}(R),j=V/R;P.style.width=$*j+"px",P.innerHTML=`${V}&nbsp;${B}`}g.Map.prototype._authenticate=()=>{},g.Map.prototype.enableAuthenticate=function(){g.Map.prototype._authenticate=S},g.Map.prototype.disableAuthenticate=function(){g.Map.prototype._authenticate=()=>{}},g.ScaleControl.prototype._onMove=function(){k(this._map,this._container,this.options)},g.ScaleControl.prototype.setUnit=function(P){this.options.unit=P,k(this._map,this._container,this.options)}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.initAuthorize=void 0;const g=l(33);r.initAuthorize=function(x){const C=[22320,22270,23545,35937,38656,35843,29992,97,116,116,97,99,104,26469,20851,32852,26381,21153,23545,35937,65292,22914,32,109,97,112,46,97,116,116,97,99,104,40,115,118,99,44,32,112,114,106,41,59].map(S=>String.fromCodePoint(S)).join("");let u=new g.MessageTipControl({message:C}),f=!1,n={};setInterval(()=>{if(!x._svc)return void(f||(f=!0,x.addControl(u)));const S=[95,99,117,115,116,111,109,95,101,118,116,95,97,117,116,104].map(k=>String.fromCodePoint(k)).join("");x.fire(S,n)},18e4)}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.recvMapAuthEvent=void 0;const g=l(64),x=l(2),C=l(33),u=l(100),f=l(45);r.recvMapAuthEvent=function(n){let S=null;const k=[36229,36807,20102,26368,22823,24182,21457,25968,29992,25143,65292,35775,38382,35831,27714,23558,19981,20801,35768,65281].map(B=>String.fromCodePoint(B)).join("");let M=null,P=!1,$={};const R=[95,99,117,115,116,111,109,95,101,118,116,95,97,117,116,104].map(B=>String.fromCodePoint(B)).join("");n.on(R,async B=>{if(!n._svc)return;let V=await async function(j,U){let q=j._svc;const Y=q._url("heart")+"?token="+q.accessToken;U.getVisitorId||(U.getVisitorId=u.getVisitorId());let Q={};try{let te=await U.getVisitorId(),re=await q._post(Y,{tm:f.encryptToBase64(te)});re&&"data"in re&&(re=re.data);let oe=f.decryptFromBase64(re.info);Q=JSON.parse(oe)}catch{Q={}}return Q}(n,$);JSON.stringify(V)=="{}"||!V.trial&&V.permitAccessUserCount>0?(S&&S.remove(),S=null):S?x.randInt(0,20)<=1&&(S.remove(),S=(await g.addImage(n)).layer):S=(await g.addImage(n)).layer,V.overMaxAccessUser?P?M&&M.updateMessage(k+`: ${V.curAccessUserCount} > ${V.permitAccessUserCount}`):(P=!0,M||(M=new C.MessageTipControl({message:k+`: ${V.curAccessUserCount} > ${V.permitAccessUserCount}`})),n.addControl(M)):(P=!1,M&&(n.removeControl(M),M=null))})}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.addImage=void 0;const g=l(34);r.addImage=async function(x){const C=[95,105,109,103,95,119,109,95].map(f=>String.fromCodePoint(f)).join(""),u=()=>{const f=x.getGeoBounds(.6),n=[];for(let k=0;k<30;k++)for(let M=0;M<k+1;M++){const P=f.randomPoint(),$={point:x.toLngLat(P),properties:{z:k}};n.push($)}const S=new g.Symbol({filter:["==",["zoom"],["get","z"]],data:n,iconImage:C});return S.addTo(x),S};return new Promise((f,n)=>{try{const S="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAoCAYAAAAcwQPnAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAKTWlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVN3WJP3Fj7f92UPVkLY8LGXbIEAIiOsCMgQWaIQkgBhhBASQMWFiApWFBURnEhVxILVCkidiOKgKLhnQYqIWotVXDjuH9yntX167+3t+9f7vOec5/zOec8PgBESJpHmomoAOVKFPDrYH49PSMTJvYACFUjgBCAQ5svCZwXFAADwA3l4fnSwP/wBr28AAgBw1S4kEsfh/4O6UCZXACCRAOAiEucLAZBSAMguVMgUAMgYALBTs2QKAJQAAGx5fEIiAKoNAOz0ST4FANipk9wXANiiHKkIAI0BAJkoRyQCQLsAYFWBUiwCwMIAoKxAIi4EwK4BgFm2MkcCgL0FAHaOWJAPQGAAgJlCLMwAIDgCAEMeE80DIEwDoDDSv+CpX3CFuEgBAMDLlc2XS9IzFLiV0Bp38vDg4iHiwmyxQmEXKRBmCeQinJebIxNI5wNMzgwAABr50cH+OD+Q5+bk4eZm52zv9MWi/mvwbyI+IfHf/ryMAgQAEE7P79pf5eXWA3DHAbB1v2upWwDaVgBo3/ldM9sJoFoK0Hr5i3k4/EAenqFQyDwdHAoLC+0lYqG9MOOLPv8z4W/gi372/EAe/tt68ABxmkCZrcCjg/1xYW52rlKO58sEQjFu9+cj/seFf/2OKdHiNLFcLBWK8ViJuFAiTcd5uVKRRCHJleIS6X8y8R+W/QmTdw0ArIZPwE62B7XLbMB+7gECiw5Y0nYAQH7zLYwaC5EAEGc0Mnn3AACTv/mPQCsBAM2XpOMAALzoGFyolBdMxggAAESggSqwQQcMwRSswA6cwR28wBcCYQZEQAwkwDwQQgbkgBwKoRiWQRlUwDrYBLWwAxqgEZrhELTBMTgN5+ASXIHrcBcGYBiewhi8hgkEQcgIE2EhOogRYo7YIs4IF5mOBCJhSDSSgKQg6YgUUSLFyHKkAqlCapFdSCPyLXIUOY1cQPqQ28ggMor8irxHMZSBslED1AJ1QLmoHxqKxqBz0XQ0D12AlqJr0Rq0Hj2AtqKn0UvodXQAfYqOY4DRMQ5mjNlhXIyHRWCJWBomxxZj5Vg1Vo81Yx1YN3YVG8CeYe8IJAKLgBPsCF6EEMJsgpCQR1hMWEOoJewjtBK6CFcJg4Qxwicik6hPtCV6EvnEeGI6sZBYRqwm7iEeIZ4lXicOE1+TSCQOyZLkTgohJZAySQtJa0jbSC2kU6Q+0hBpnEwm65Btyd7kCLKArCCXkbeQD5BPkvvJw+S3FDrFiOJMCaIkUqSUEko1ZT/lBKWfMkKZoKpRzame1AiqiDqfWkltoHZQL1OHqRM0dZolzZsWQ8ukLaPV0JppZ2n3aC/pdLoJ3YMeRZfQl9Jr6Afp5+mD9HcMDYYNg8dIYigZaxl7GacYtxkvmUymBdOXmchUMNcyG5lnmA+Yb1VYKvYqfBWRyhKVOpVWlX6V56pUVXNVP9V5qgtUq1UPq15WfaZGVbNQ46kJ1Bar1akdVbupNq7OUndSj1DPUV+jvl/9gvpjDbKGhUaghkijVGO3xhmNIRbGMmXxWELWclYD6yxrmE1iW7L57Ex2Bfsbdi97TFNDc6pmrGaRZp3mcc0BDsax4PA52ZxKziHODc57LQMtPy2x1mqtZq1+rTfaetq+2mLtcu0W7eva73VwnUCdLJ31Om0693UJuja6UbqFutt1z+o+02PreekJ9cr1Dund0Uf1bfSj9Rfq79bv0R83MDQINpAZbDE4Y/DMkGPoa5hpuNHwhOGoEctoupHEaKPRSaMnuCbuh2fjNXgXPmasbxxirDTeZdxrPGFiaTLbpMSkxeS+Kc2Ua5pmutG003TMzMgs3KzYrMnsjjnVnGueYb7ZvNv8jYWlRZzFSos2i8eW2pZ8ywWWTZb3rJhWPlZ5VvVW16xJ1lzrLOtt1ldsUBtXmwybOpvLtqitm63Edptt3xTiFI8p0in1U27aMez87ArsmuwG7Tn2YfYl9m32zx3MHBId1jt0O3xydHXMdmxwvOuk4TTDqcSpw+lXZxtnoXOd8zUXpkuQyxKXdpcXU22niqdun3rLleUa7rrStdP1o5u7m9yt2W3U3cw9xX2r+00umxvJXcM970H08PdY4nHM452nm6fC85DnL152Xlle+70eT7OcJp7WMG3I28Rb4L3Le2A6Pj1l+s7pAz7GPgKfep+Hvqa+It89viN+1n6Zfgf8nvs7+sv9j/i/4XnyFvFOBWABwQHlAb2BGoGzA2sDHwSZBKUHNQWNBbsGLww+FUIMCQ1ZH3KTb8AX8hv5YzPcZyya0RXKCJ0VWhv6MMwmTB7WEY6GzwjfEH5vpvlM6cy2CIjgR2yIuB9pGZkX+X0UKSoyqi7qUbRTdHF09yzWrORZ+2e9jvGPqYy5O9tqtnJ2Z6xqbFJsY+ybuIC4qriBeIf4RfGXEnQTJAntieTE2MQ9ieNzAudsmjOc5JpUlnRjruXcorkX5unOy553PFk1WZB8OIWYEpeyP+WDIEJQLxhP5aduTR0T8oSbhU9FvqKNolGxt7hKPJLmnVaV9jjdO31D+miGT0Z1xjMJT1IreZEZkrkj801WRNberM/ZcdktOZSclJyjUg1plrQr1zC3KLdPZisrkw3keeZtyhuTh8r35CP5c/PbFWyFTNGjtFKuUA4WTC+oK3hbGFt4uEi9SFrUM99m/ur5IwuCFny9kLBQuLCz2Lh4WfHgIr9FuxYji1MXdy4xXVK6ZHhp8NJ9y2jLspb9UOJYUlXyannc8o5Sg9KlpUMrglc0lamUycturvRauWMVYZVkVe9ql9VbVn8qF5VfrHCsqK74sEa45uJXTl/VfPV5bdra3kq3yu3rSOuk626s91m/r0q9akHV0IbwDa0b8Y3lG19tSt50oXpq9Y7NtM3KzQM1YTXtW8y2rNvyoTaj9nqdf13LVv2tq7e+2Sba1r/dd3vzDoMdFTve75TsvLUreFdrvUV99W7S7oLdjxpiG7q/5n7duEd3T8Wej3ulewf2Re/ranRvbNyvv7+yCW1SNo0eSDpw5ZuAb9qb7Zp3tXBaKg7CQeXBJ9+mfHvjUOihzsPcw83fmX+39QjrSHkr0jq/dawto22gPaG97+iMo50dXh1Hvrf/fu8x42N1xzWPV56gnSg98fnkgpPjp2Snnp1OPz3Umdx590z8mWtdUV29Z0PPnj8XdO5Mt1/3yfPe549d8Lxw9CL3Ytslt0utPa49R35w/eFIr1tv62X3y+1XPK509E3rO9Hv03/6asDVc9f41y5dn3m978bsG7duJt0cuCW69fh29u0XdwruTNxdeo94r/y+2v3qB/oP6n+0/rFlwG3g+GDAYM/DWQ/vDgmHnv6U/9OH4dJHzEfVI0YjjY+dHx8bDRq98mTOk+GnsqcTz8p+Vv9563Or59/94vtLz1j82PAL+YvPv655qfNy76uprzrHI8cfvM55PfGm/K3O233vuO+638e9H5ko/ED+UPPR+mPHp9BP9z7nfP78L/eE8/sl0p8zAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAXGSURBVHja7Fwxb+M2FP5SnDo4CBQD0RAN8aJFiztkSZYsXW7pPylQtL+jwxW46x+5JUuXLvFQD83iRYsXZVAOic+IhhMgdtAn+0lHyTpbshWUHxBIlki+x8ePfOQjlSOlFAwM2sZ3xgQGhlgGhlgGhlgGBoZYBq8Db8oPnM+fNMkU/1C6qprf62eq8G71ZwEq+SqvKqZTlTJSXZkaealGt7TwvkI/rQylqt6lQse0pEtaI1/3vr5+9fXNbYiGeYvtuxz+3g2x9gAXgA9gACAAMDP927jCNuCRVPm9ZZrBEKsN/Asg5v0MQGKa4X8wx9oDFgD+4khlSGVGrNZhSGWIZWDweog1qJm4+5zYGxwAJ0+/+SdPv+5k/6Py6Qbn8yfNSk0lgAp4z4YvxIYWgApr4lguoGwRvzrl7ykAkU/5UMrj/QxQiYLyszyI+SwC1BhIXaaLADWpiOuMgPQMmfxctwRI51l9VFITx/KA1KJMLytLDRjHioD0AVDzPcSxXECdF+ugIuq1aBDHWunO3wn1nmniWD7Tr+zPZxag4myxldsfLmVEy+GHSRNiOQBsjhoAEADqMStwRSyXCtiZAggzwZXEGpBMObFyZcvEAonlswJQGWlsADeUQcOkc+rgA+peNjINfZXJTAOSKNfNBtIfKP8OSGPRMDagbkSDB2yQnGALEssHUo+dadohscYkRcg6JtTlElAOO1RUQSwLUNfUX9pgJMhzp7IOK2UX7L8cvpucPP1Cu2Bl/+Xw/fzk6Wemxf1y+GG+yRVGGZkQiVVcVEoTAnhmukCED6oQM08IYN4gPQB8D2AidIjpPvMy8uckSwFjAA7DGYFmVTpjWZ7m3Uesg7YjXidCFkS5bocue0z5MwBTsdhJANyLNFW4Zh3/LtlgDuBOpKm0/3L4bgIAy+EfBfsvh+832b92jvUo5kI6OKKBu0BYsYqUz7/wWp6ruRvKfub1tKYj5NdpRZqAOo06qLvDcheajgEAx6Jt7Io5ql3T6WPRufwO7F9LrLCmkRwALw1HnkOEKaISgbZFtEGPvBc7LdfxoqJxc7wI+QvN+xHfBxvad5uO0ShM9GaD+4poNLtUgXMxovUR04qRpu0tpBfaxt5Awm1GrDpixQBuK96NWMcm+jyL0bFV77Mp8v5IwU6JWI7w032GzRFXGnvRYvlxlStoIQyTbOkRrJJu+9a/EbFC+uAzMawe0g1+C65EhwhKbsHqcZzMail/E5eVHIpY0h0O+PscwMMrIVVYM/lukwR92p5K9pSnFk0i74+lSfxpx6vBXeGSVHHHpJIr5jYbZsHyrC1HkmTDar5r/RsTK59Angk32GecNVjRtYXjjmTFG8IhEuOK1V6TvKdMGx6CWNIdXvR8NdjFRLpuZBxgHbwtv/sJwFtsjqnVdeaLBqOzpRmxQurmNtA/PNSIJd1h390gxKqvLrY00hjZq3GrOvLm6XVHq32Rzt+iDgHr4dbUIw9u6uTPSPa68IqHdaAUhyJWuEf3YlWMPJZmFDkuXfNGiZjuSmPMG7rLRJR5VhGGiOhqvBLZrhnKmHZok3+o06WGnB51mFWszhOGgyymG5X0v+G7O81otav9Aeg3oTV6KnBH+6G4Gb31Vzo33PCdZA2zen4JVdjFD1W2+fq2JGMKpANulkLs2t8KedzVTweyvKwOacjN2DFPN8y5yQtxouBSbGD7TJ9/pRMC6ay48V7YhGZ+BZXpGu5wusFD8XQI5aug4emGXHeLv2Pm151uuCydoggB0P6FMqfrEXP1PFkO/7zdhljivhGx+HmXllg/sqK3X+Xtx+dfklgz8/lXd67wWzHixPWqZtLY97maQQ+JZYkJtNx9tzk/iNDv7wkHQl+DLdDVVzpzrPfprlHckwp7TCoeKFzPDBg26DqCb4jVEAkbYiYCdcmeVpW7hio+GlrsjiPzH/0MXtMcy8AQy8DAEMvAEMvAEMvAoGX8NwAiCOY0OotnkAAAAABJRU5ErkJggg==";if(x&&x.style)if(x.hasImage(C))f({layer:u()});else{const k=new Image(150,40);k.src=S,k.onload=()=>{x.hasImage(C)||x.addImage(C,k),f({layer:u()})}}else f({layer:null})}catch{f({layer:null})}})}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.applyMixinsWithoutProperties=r.applyMixins=void 0,r.applyMixins=function(g,x){x.forEach(C=>{Object.getOwnPropertyNames(C.prototype).forEach(u=>{g.prototype[u]=C.prototype[u]})})},r.applyMixinsWithoutProperties=function(g,x){x.forEach(C=>{Object.getOwnPropertyNames(C.prototype).forEach(u=>{const f=Object.getOwnPropertyDescriptor(C.prototype,u);f!==void 0&&f.get===void 0&&u!=="constructor"&&(g.prototype[u]=C.prototype[u])})})}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.getOptionValue=void 0,r.getOptionValue=function(...g){for(const x of g)if(x!=null)return x}},function(e,r,l){function g(f,n){return n=n!=null?n:[],new Proxy(function(){},{get(S,k,M){if(k==="then"){if((n==null?void 0:n.length)===0)return{then:()=>M};const P=f.remote({type:"GET",path:n});return P.then.bind(P)}return g(f,n==null?void 0:n.concat(k))},set:(S,k,M)=>f.remote({type:"SET",path:n.concat(k),value:M}),apply:(S,k,M)=>f.remote({type:"APPLY",path:n,args:M}),construct:(S,k)=>f.remote({type:"CONSTRUCT",args:k})})}Object.defineProperty(r,"__esModule",{value:!0}),r.WorkerExpose=r.WorkerLink=r.WorkerProxy=void 0,r.WorkerProxy=function(f){let n,S;if(typeof f=="function"){const k=Function.prototype.toString;n=S=URL.createObjectURL(new Blob([`${k.call(C)}
(${k.call(u)})(${k.call(f)})`]))}else typeof f=="string"&&(n=f,f.indexOf("blob:")===0&&(S=n));if(n){const k=new Worker(n);return S&&(k.oURL=S),g(new x(k))}throw"WorkerProxy only supports functions, classes, urls"},r.WorkerLink=function(f){return g(new x(f))};class x{constructor(n,S){this.w=n,this.uid=S!=null?S:`${Date.now()}-${C()}`,this.c=0,this.cbs={},n.addEventListener("message",k=>{if(this.w.oURL)try{URL.revokeObjectURL(this.w.oURL)}catch{}finally{delete this.w.oURL}const M=k.data&&k.data.id,P=M&&this.cbs[M];P&&(delete this.cbs[M],k.data.error?P[1](new Error(k.data.error)):P[0](k.data.targetId?g(new x(n,k.data.targetId)):k.data.value))})}remote(n){const S=n.args||[],k=`${this.uid}-${++this.c}`;return new Promise((M,P)=>{this.cbs[k]=[M,P],this.w.postMessage(Object.assign({},n,{id:k,args:S,target:this.uid}))})}}function C(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER)}function u(f){const n=f,S={};self.addEventListener("message",async k=>{const M=k.data||{};M.path=M.path||[];const P=M.target&&S[M.target]||n,$=B=>B.reduce((V,j)=>V&&V[j],P),R=M&&M.id;if(R&&M.type){const B={id:R},V=$(M.path),j=$(M.path.slice(0,-1));switch(M.type){case"GET":B.value=V;break;case"SET":const U=M.path.length&&M.path[M.path.length-1];U&&(j[U]=M.value),B.value=!!U;break;case"APPLY":try{B.value=await V.apply(j,M.args||[])}catch(q){B.error=q.toString()}break;case"CONSTRUCT":try{B.value=new V(...M.args),B.targetId=(q=>{const Y=`${Date.now()}-${C()}`;return S[Y]=q,Y})(B.value)}catch(q){B.error=q.toString()}}self.postMessage(B)}})}r.WorkerExpose=u},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.Dom=void 0;const g=l(2);(function(x){x.create=function(M,P,$){const R=window.document.createElement(M);return P!==void 0&&(R.className=P),$&&$.appendChild(R),R},x.createNS=function(M,P){return window.document.createElementNS(M,P)};const C=window.document&&window.document.documentElement.style,u=C&&C.userSelect!==void 0?"userSelect":"WebkitUserSelect";let f;x.disableDrag=function(){C&&u&&(f=C[u],C[u]="none")},x.enableDrag=function(){C&&u&&(C[u]=f)},x.setTransform=function(M,P){M.style.transform=P};let n=!1;try{const M=Object.defineProperty({},"passive",{get(){n=!0}});window.addEventListener("test",M,M),window.removeEventListener("test",M,M)}catch{n=!1}x.addEventListener=function(M,P,$,R={}){"passive"in R&&n?M.addEventListener(P,$,R):M.addEventListener(P,$,R.capture)},x.removeEventListener=function(M,P,$,R={}){"passive"in R&&n?M.removeEventListener(P,$,R):M.removeEventListener(P,$,R.capture)};const S=function(M){M.preventDefault(),M.stopPropagation(),window.removeEventListener("click",S,!0)};function k(M,P,$){const R=M.offsetWidth===P.width?1:M.offsetWidth/P.width;return new g.GeoPoint(($.clientX-P.left)*R,($.clientY-P.top)*R)}x.suppressClick=function(){window.addEventListener("click",S,!0),window.setTimeout(()=>{window.removeEventListener("click",S,!0)},0)},x.mousePos=function(M,P){const $=M.getBoundingClientRect();return k(M,$,P)},x.touchPos=function(M,P){const $=M.getBoundingClientRect(),R=[];for(let B=0;B<P.length;B++)R.push(k(M,$,P[B]));return R},x.mouseButton=function(M){return window.InstallTrigger!==void 0&&M.button===2&&M.ctrlKey&&window.navigator.platform.toUpperCase().includes("MAC")?0:M.button},x.remove=function(M){M.parentNode&&M.parentNode.removeChild(M)}})(r.Dom||(r.Dom={}))},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.GCJ02ToBD09=r.BD09ToGCJ02=void 0;const{sin:g,cos:x,atan2:C,sqrt:u,PI:f}=Math,n=3e3*f/180;r.BD09ToGCJ02=function(S){const[k,M]=S,P=k-.0065,$=M-.006,R=u(P*P+$*$)-2e-5*g($*n),B=C($,P)-3e-6*x(P*n);return[R*x(B),R*g(B)]},r.GCJ02ToBD09=function(S){const[k,M]=S,P=k,$=M,R=u(P*P+$*$)+2e-5*g($*n),B=C($,P)+3e-6*x(P*n);return[R*x(B)+.0065,R*g(B)+.006]}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.BD09MCtoBD09=r.BD09toBD09MC=void 0;const{abs:g}=Math,x=[1289059486e-2,836237787e-2,5591021,348198983e-2,167804312e-2,0],C=[75,60,45,30,15,0],u=[[1410526172116255e-23,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,173379812e-1],[-7435856389565537e-24,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,1026014486e-2],[-3030883460898826e-23,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,685681737e-2],[-1981981304930552e-23,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,448277706e-2],[309191371068437e-23,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,25551644e-1],[2890871144776878e-24,8983055095805407e-21,-3068298e-14,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],f=[[-.0015702102444,111320.7020616939,1704480524535203,-10338987376042340,26112667856603880,-35149669176653700,26595700718403920,-10725012454188240,1800819912950474,82.5],[.0008277824516172526,111320.7020463578,6477955746671607e-7,-4082003173641316e-6,1077490566351142e-5,-1517187553151559e-5,1205306533862167e-5,-5124939663577472e-6,9133119359512032e-7,67.5],[.00337398766765,111320.7020202162,4481351045890365e-9,-2339375119931662e-8,7968221547186455e-8,-1159649932797253e-7,9723671115602145e-8,-4366194633752821e-8,8477230501135234e-9,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837749470245e-9,992013.7397791013,-122195221711287e-8,1340652697009075e-9,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758690035394e-9,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]];function n(S,k,M){const P=g(k)/M[9];let $=M[0]+M[1]*g(S),R=M[2]+M[3]*P+M[4]*P**2+M[5]*P**3+M[6]*P**4+M[7]*P**5+M[8]*P**6;return $*=S<0?-1:1,R*=k<0?-1:1,[$,R]}r.BD09toBD09MC=function(S){const[k,M]=S;let P=[];for(let $=0;$<C.length;$++)if(g(M)>C[$]){P=f[$];break}return n(k,M,P)},r.BD09MCtoBD09=function(S){const[k,M]=S;let P=[];for(let $=0;$<x.length;$++)if(M>=x[$]){P=u[$];break}return n(k,M,P)}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.WGS84ToEPSG3857=r.ESPG3857ToWGS84=void 0;const g=180/Math.PI,x=Math.PI/180,C=6378137,u=20037508342789244e-9;r.ESPG3857ToWGS84=function(f){return[f[0]*g/C,(.5*Math.PI-2*Math.atan(Math.exp(-f[1]/C)))*g]},r.WGS84ToEPSG3857=function(f){const n=Math.abs(f[0])<=180?f[0]:f[0]-360*(f[0]<0?-1:1),S=[C*n*x,C*Math.log(Math.tan(.25*Math.PI+.5*f[1]*x))];return S[0]>u&&(S[0]=u),S[0]<-u&&(S[0]=-u),S[1]>u&&(S[1]=u),S[1]<-u&&(S[1]=-u),S}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.GCJ02ToWGS84=r.WGS84ToGCJ02=void 0;const{sin:g,cos:x,sqrt:C,abs:u,PI:f}=Math,n=6378245,S=.006693421622965823;function k($,R){return $>=72.004&&$<=137.8347&&R>=.8293&&R<=55.8271}function M($,R){let B=function(Y,Q){let te=300+Y+2*Q+.1*Y*Y+.1*Y*Q+.1*C(u(Y));return te+=2*(20*g(6*Y*f)+20*g(2*Y*f))/3,te+=2*(20*g(Y*f)+40*g(Y/3*f))/3,te+=2*(150*g(Y/12*f)+300*g(Y/30*f))/3,te}($-105,R-35),V=function(Y,Q){let te=2*Y-100+3*Q+.2*Q*Q+.1*Y*Q+.2*C(u(Y));return te+=2*(20*g(6*Y*f)+20*g(2*Y*f))/3,te+=2*(20*g(Q*f)+40*g(Q/3*f))/3,te+=2*(160*g(Q/12*f)+320*g(Q*f/30))/3,te}($-105,R-35);const j=R/180*f;let U=g(j);U=1-S*U*U;const q=C(U);return B=180*B/(n/q*x(j)*f),V=180*V/(n*(1-S)/(U*q)*f),[B,V]}function P($){const[R,B]=$;if(!k(R,B))return[R,B];const V=M(R,B);return[R+V[0],B+V[1]]}r.WGS84ToGCJ02=P,r.GCJ02ToWGS84=function($){const[R,B]=$;if(!k(R,B))return[R,B];let[V,j]=[R,B],U=P([V,j]),q=U[0]-R,Y=U[1]-B;for(;u(q)>1e-6||u(Y)>1e-6;)V-=q,j-=Y,U=P([V,j]),q=U[0]-R,Y=U[1]-B;return[V,j]}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0});const g=l(1),x=l(10),C=l(37),u=l(38);r.default=function(f,n,S){u.assert(!!f,"The args[0] input coordinate is required");const k=typeof f;if(u.assert(k==="string"||k==="object","Invalid input coordinate type: "+k),k==="string")try{f=JSON.parse(f)}catch{throw new Error("Invalid input coordinate: "+f)}let M;if(typeof n=="function")M=n;else{if(u.assert(!!n,"The args[1] original coordinate system is required"),u.assert(!!S,"The args[2] target coordinate system is required"),n===S)return f;const P=C.default[n];u.assert(!!P,"Invalid original coordinate system: "+n);const $=P.to[S];u.assert(!!$,"Invalid target coordinate system: "+S),M=$}if(x.isGeoPointLike(f)){const P=g.GeoPoint.convert(f);return M([P.x,P.y])}return u.isArray(f)?f.length===0?f:Array.isArray(f)&&f[0].length>0&&Array.isArray(f[0][0])&&f[0][0].length>=2?f.map(P=>P.map($=>{const R=g.GeoPoint.convert($);return M([R.x,R.y])})):f.map(P=>{const $=g.GeoPoint.convert(P);return M([$.x,$.y])}):(u.coordEach(f,P=>{[P[0],P[1]]=M(P)}),f)}},function(e,r,l){var g;Object.defineProperty(r,"__esModule",{value:!0}),r.getEpsgParam=r.EpsgCrsTypes=void 0,function(x){x.Beijing54="Beijing54",x.Xian80="Xian80",x.CGCS2000="CGCS2000",x.Wgs84="Wgs84",x.Merc3857="Merc3857"}(g=r.EpsgCrsTypes||(r.EpsgCrsTypes={})),r.getEpsgParam=function(x,C){if(x==g.Wgs84)return{epsg:"EPSG:4326",proj:"+proj=longlat +datum=WGS84 +no_defs"};if(x==g.Merc3857)return{epsg:"EPSG:3857",proj:"+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs"};let u=+(C+"").substr(0,2);if(x==g.Beijing54){if(u>=13&&u<=23){let f=u-13;return{epsg:"EPSG:"+(21413+f),proj:`+proj=tmerc +lat_0=0 +lon_0=${75+6*f} +k=1.000000 +x_0=${135e5+1e6*f} +y_0=0 +ellps=krass +units=m +no_defs  no_defs`}}if(u>=25&&u<=45){let f=u-25;return{epsg:"EPSG:"+(2401+f),proj:`+proj=tmerc +lat_0=0 +lon_0=${75+3*f} +k=1.000000 +x_0=${255e5+1e6*f} +y_0=0 +ellps=krass +units=m +no_defs  no_defs`}}}else if(x==g.Xian80){if(u>=13&&u<=23){let f=u-13;return{epsg:"EPSG:"+(2327+f),proj:`+proj=tmerc +lat_0=0 +lon_0=${75+6*f} +k=1.000000 +x_0=${135e5+1e6*f} +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs  no_defs`}}if(u>=25&&u<=45){let f=u-25;return{epsg:"EPSG:"+(2349+f),proj:`+proj=tmerc +lat_0=0 +lon_0=${75+3*f} +k=1.000000 +x_0=${255e5+1e6*f} +y_0=0 +a=6378140 +b=6356755.288157528 +units=m +no_defs  no_defs`}}}else if(x==g.CGCS2000){if(u>=13&&u<=23){let f=u-13;return{epsg:"EPSG:"+(4491+f),proj:`+proj=tmerc +lat_0=0 +lon_0=${75+6*f} +k=1 +x_0=${135e5+1e6*f} +y_0=0 +ellps=GRS80 +units=m +no_defs `}}if(u>=25&&u<=45){let f=u-25;return{epsg:"EPSG:"+(4513+f),proj:`+proj=tmerc +lat_0=0 +lon_0=${75+3*f} +k=1 +x_0=${255e5+1e6*f} +y_0=0 +ellps=GRS80 +units=m +no_defs `}}}return null}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.GeoProjection=void 0;const g=l(12),x=l(11),C=l(1),u=l(10),f=l(9);class n extends f.Projection{constructor(k){super(),this._ratio_x=1,this._ratio_y=1,this.mapExtent=typeof k=="string"?x.GeoBounds.fromString(k):k,this.setExtent(this.mapExtent)}setExtent(k){this.mapExtent=k,this._ratio_x=(f.Projection.EARTH_BOUNDS[2]-f.Projection.EARTH_BOUNDS[0])/this.mapExtent.width(),this._ratio_y=(f.Projection.EARTH_BOUNDS[3]-f.Projection.EARTH_BOUNDS[1])/this.mapExtent.height()}toMercator(k){const M=C.GeoPoint.convert(k);return[f.Projection.EARTH_BOUNDS[0]+(M.x-this.mapExtent.min.x)*this._ratio_x,f.Projection.EARTH_BOUNDS[1]+(M.y-this.mapExtent.min.y)*this._ratio_y]}fromMercator(k){const M=C.GeoPoint.convert(k);return[this.mapExtent.min.x+(M.x-f.Projection.EARTH_BOUNDS[0])/this._ratio_x,this.mapExtent.min.y+(M.y-f.Projection.EARTH_BOUNDS[1])/this._ratio_y]}toLngLat(k){if(u.isGeoPointLike(k)){const M=this.toMercator(k);return f.Projection.mercator2LngLat(M)}return g.transform.convert(k,M=>{const P=this.toMercator(M);return f.Projection.mercator2LngLat(P)})}fromLngLat(k){if(u.isGeoPointLike(k)){const M=f.Projection.lngLat2Mercator(k),P=this.fromMercator(M);return new C.GeoPoint(P[0],P[1])}return g.transform.convert(k,M=>{const P=f.Projection.lngLat2Mercator(M);return C.GeoPoint.convert(this.fromMercator(P))})}getMapExtent(){return this.mapExtent}toMeter(k){return k*f.Projection.EQUATORIAL_SEMIPERIMETER*2/this.getMapExtent().width()}fromMeter(k){return k*this.getMapExtent().width()/(2*f.Projection.EQUATORIAL_SEMIPERIMETER)}}r.GeoProjection=n},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.LnglatProjection=void 0;const g=l(11),x=l(1),C=l(10),u=l(9);class f extends u.Projection{constructor(){super(),this.mapExtent=new g.GeoBounds(new x.GeoPoint(-180,-90),new x.GeoPoint(180,90)),this.setExtent(this.mapExtent)}setExtent(S){this.mapExtent=S}toMercator(S){return u.Projection.lngLat2Mercator(S)}fromMercator(S){return u.Projection.mercator2LngLat(S)}toLngLat(S){if(C.isGeoPointLike(S)){const k=x.GeoPoint.convert(S);return[k.x,k.y]}return S}fromLngLat(S){return C.isGeoPointLike(S)?x.GeoPoint.convert(S):S}getMapExtent(){return this.mapExtent}toMeter(S){return S*u.Projection.EQUATORIAL_SEMIPERIMETER*2/this.getMapExtent().width()}fromMeter(S){return S*this.getMapExtent().width()/(2*u.Projection.EQUATORIAL_SEMIPERIMETER)}}r.LnglatProjection=f},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.coordTransfromByInvFourParamter=r.coordTransfromByFourParamter=r.coordTransfromGetFourParamter=void 0;const g=l(1);function x(n){let S=[];for(let k=0;k<n[0].length;k++){let M=[];for(let P=0;P<n.length;P++)M.push(n[P][k]);S.push(M)}return S}function C(n){if(n.length!==n[0].length)throw new Error;let S=n.length,k=0;if(S>3)for(let M=0;M<S;M++){let P=new Array(S-1).fill(0).map($=>new Array(S-1).fill(0));for(let $=0;$<S-1;$++)for(let R=0;R<S-1;R++)P[$][R]=R<M?n[$+1][R]:n[$+1][R+1];k+=n[0][M]*Math.pow(-1,0+M)*C(P)}else S===3?k=n[0][0]*n[1][1]*n[2][2]+n[0][1]*n[1][2]*n[2][0]+n[0][2]*n[1][0]*n[2][1]-n[0][2]*n[1][1]*n[2][0]-n[0][1]*n[1][0]*n[2][2]-n[0][0]*n[1][2]*n[2][1]:S===2?k=n[0][0]*n[1][1]-n[0][1]*n[1][0]:S===1&&(k=n[0][0]);return k}function u(n){if(n[0].length!==n.length)throw new Error;let S=C(n),k=function(M){if(M[0].length!==M.length)throw new Error;let P=M.length,$=new Array(P).fill(0).map(R=>new Array(P).fill(0));for(let R=0;R<P;R++)for(let B=0;B<P;B++){let V=[];for(let j=0;j<M.length;j++)if(j!==R){let U=[];for(let q=0;q<M.length;q++)q!==B&&U.push(M[j][q]);V.push(U)}$[R][B]=Math.pow(-1,R+B)*C(V)}return x($)}(n);for(let M=0;M<k.length;M++)for(let P=0;P<k.length;P++)k[M][P]/=S;return k}function f(n,S){if(n[0].length!==S.length)throw new Error;let k=n.length,M=n[0].length,P=S[0].length,$=new Array(k).fill(0).map(R=>new Array(P).fill(0));for(let R=0;R<k;R++)for(let B=0;B<P;B++)for(let V=0;V<M;V++)$[R][B]+=n[R][V]*S[V][B];return $}r.coordTransfromGetFourParamter=function(n,S,k){if(S.length!=n.length)throw Error("\u8F93\u5165\u70B9\u548C\u8F93\u51FA\u70B9\u5750\u6807\u957F\u5EA6\u5FC5\u987B\u4E00\u6837!");if(k)return function(se,fe){let ge=[],Ce=[];for(let He=0;He<se.length;He++){ge.push([fe[He][0]-se[He][0]]),ge.push([fe[He][1]-se[He][1]]),Ce.push([1,0,se[He][0]]),Ce.push([0,1,se[He][1]]);let rt=[];for(let ft=0;ft<se.length;ft++)rt.push(He==ft?1:0)}let $e=x(Ce),be=f($e,Ce),ke=f(u(be),$e),Ee=f(ke,ge);return{dx:+Ee[0],dy:+Ee[1],scale:+Ee[2]+1,rotate:0}}(n.map(se=>[se.x,se.y]),S.map(se=>[se.x,se.y]));let M=S.length,P=0,$=0,R=0,B=0;for(let se=0;se<M;se++)P+=n[se].x,$+=n[se].y,R+=S[se].x,B+=S[se].y;let V=P/M,j=$/M,U=R/M,q=B/M,Y=0,Q=0,te=0;for(let se=0;se<M;se++){let fe=n[se].x-V,ge=n[se].y-j,Ce=S[se].x-U,$e=S[se].y-q;Y+=fe*Ce+ge*$e,Q+=fe*$e-ge*Ce,te+=fe*fe+ge*ge}let re=Math.sqrt(Y*Y+Q*Q)/te,oe=Math.atan(Q/Y);return{dx:U-re*Math.cos(oe)*V+re*Math.sin(oe)*j,dy:q-re*Math.sin(oe)*V-re*Math.cos(oe)*j,scale:re,rotate:oe}},r.coordTransfromByFourParamter=function(n,S){let k=S.dx+S.scale*Math.cos(S.rotate)*n.x-S.scale*Math.sin(S.rotate)*n.y,M=S.dy+S.scale*Math.sin(S.rotate)*n.x+S.scale*Math.cos(S.rotate)*n.y;return new g.GeoPoint(k,M)},r.coordTransfromByInvFourParamter=function(n,S){let k=n.x-S.dx,M=n.y-S.dy,P=1/S.scale,$=-S.rotate,R=P*Math.cos($)*k-P*Math.sin($)*M,B=P*Math.sin($)*k+P*Math.cos($)*M;return new g.GeoPoint(R,B)}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.interpolateLineRange=r.interpolatePointsByRatio=void 0;const g=l(1),x=l(9),C=l(12);var u=l(13).MathUtils.lerp;function f(S,k){const M=S[0]-k[0],P=S[1]-k[1];return Math.sqrt(M*M+P*P)}function n(S,k,M,P){return[S[0]-M*P,S[1]+k*P]}r.interpolatePointsByRatio=function(S,k,M=!1){if(k<=0||S.length===0)return[];if(k>=1)return[...S];{const P=[];C.transform.convert(S,V=>{if(M)P.push(x.Projection.lngLat2Mercator(V));else{const j=g.GeoPoint.convert(V);P.push([j.x,j.y])}return V});let $=0;for(let V=1;V<P.length;V++)$+=f(P[V],P[V-1]);const R=$*k;$=0;const B=[P[0]];for(let V=1;V<P.length;V++){const j=f(P[V],P[V-1]);if($+=j,!($<=R)){const U=(j-$+R)/j;B.push([u(P[V-1][0],P[V][0],U),u(P[V-1][1],P[V][1],U)]);break}B.push(P[V])}if(!M)return B;{const V=[];C.transform.convert(B,j=>(V.push(x.Projection.mercator2LngLat(j)),j))}}},r.interpolateLineRange=function(S,k,M=!1,P=0,$=0,R=!0){const B=[];C.transform.convert(S,se=>{let fe;if(M)fe=x.Projection.lngLat2Mercator(se);else{const ge=g.GeoPoint.convert(se);fe=[ge.x,ge.y]}if(B.length>0){let ge=B.length-1;Math.abs(B[ge][1]-fe[1])<1e-8&&Math.abs(B[ge][0]-fe[0])<1e-8||B.push(fe)}else B.push(fe);return se}),$=$||0,P=P||0;let V=0;const j=[0],U=[];for(let se=1;se<B.length;se++){const fe=f(B[se],B[se-1]);V+=fe,U.push(P/fe),j.push(V)}V/(k-1)<$&&(k=V/$+1);const q=V/(k-1),Y=[n(B[0],B[1][0]-B[0][0],B[1][1]-B[0][1],U[0])];let Q=0,te=0,re=B[0],oe=q;for(let se=0;se<k-2;se++){for(;oe>j[Q+1];)Q++,te=j[Q],re=B[Q],R&&Y.push(n(B[Q],B[Q][0]-B[Q-1][0],B[Q][1]-B[Q-1][1],U[Q]));const fe=oe-te,ge=B[Q+1][0]-B[Q][0],Ce=B[Q+1][1]-B[Q][1],$e=fe/(j[Q+1]-j[Q]);re=[re[0]+ge*$e,re[1]+Ce*$e],Y.push(n(re,ge,Ce,U[Q])),te=oe,oe+=q}if(R)for(let se=Q+1;se<B.length-1;se++)Y.push(n(B[se],B[se][0]-B[se-1][0],B[se][1]-B[se-1][1],U[se]));if(Y.push(n(B[B.length-1],B[B.length-1][0]-B[B.length-2][0],B[B.length-1][1]-B[B.length-2][1],U[U.length-1])),M){const se=[];return C.transform.convert(Y,fe=>(se.push(x.Projection.mercator2LngLat(fe)),fe)),se}return Y}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.getEllipseFeature=r.getEllipsePolygonCoordinates=r.getCircleFeature=r.getCirclePolygonCoordinates=void 0;const g=l(1);var x=l(13).MathUtils.wrap;function C(f,n,S=360,k=0,M=360,P=!0){const $=g.GeoPoint.convert(f),R=[];k=x(k,0,360,!0),(M=x(M,0,360))<k&&(M+=360);const B=(M-k)/S;for(let V=0;V<S+1;V++){const j=Math.PI/180*(k+V*B),U=$.x+n*Math.cos(j),q=$.y+n*Math.sin(j);R.push([U,q])}return P&&M-k!=360&&R.push([$.x,$.y]),R}function u(f,n,S,k=360,M=0,P=360,$=!0){const R=g.GeoPoint.convert(f),B=[];M=x(M,0,360,!0),(P=x(P,0,360))<M&&(P+=360);const V=(P-M)/k;for(let j=0;j<k+1;j++){const U=Math.PI/180*(M+j*V),q=R.x+n*Math.cos(U),Y=R.y+S*Math.sin(U);B.push([q,Y])}return $&&P-M!=360&&B.push([R.x,R.y]),B}r.getCirclePolygonCoordinates=C,r.getCircleFeature=function(f,n,S=360,k=0,M=360,P=!0){return{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[C(f,n,S)]}}},r.getEllipsePolygonCoordinates=u,r.getEllipseFeature=function(f,n,S,k=360,M=0,P=360,$=!0){return{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[u(f,n,S,k)]}}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.buildTransformerMatrix3d=r.buildTransformer=void 0;const g=Math.log(2);function x(u,f,n,S,k,M){const P=S+"-"+k,$=u.length;if(M.hasOwnProperty(P))return M[P];if(f===1){const j=Math.round(Math.log((1<<$)-1&~k)/g);return u[n][j]}const R=S|1<<n;let B=n+1;for(;S&1<<B;)B++;let V=0;for(let j=0,U=0;j<$;j++){const q=1<<j;q&k||(V+=(U%2?-1:1)*u[n][j]*x(u,f-1,B,R,k|q,M),U++)}return M[P]=V,V}function C(u,f){const n=[[u[0],u[1],1,0,0,0,-f[0]*u[0],-f[0]*u[1]],[0,0,0,u[0],u[1],1,-f[1]*u[0],-f[1]*u[1]],[u[2],u[3],1,0,0,0,-f[2]*u[2],-f[2]*u[3]],[0,0,0,u[2],u[3],1,-f[3]*u[2],-f[3]*u[3]],[u[4],u[5],1,0,0,0,-f[4]*u[4],-f[4]*u[5]],[0,0,0,u[4],u[5],1,-f[5]*u[4],-f[5]*u[5]],[u[6],u[7],1,0,0,0,-f[6]*u[6],-f[6]*u[7]],[0,0,0,u[6],u[7],1,-f[7]*u[6],-f[7]*u[7]]],S={},k=x(n,8,0,0,0,S);if(k===0)return;const M=[];for(let P=0;P<8;P++)for(let $=0;$<8;$++)M[$]==null&&(M[$]=0),M[$]+=((P+$)%2?-1:1)*x(n,7,P===0?1:0,1<<P,1<<$,S)/k*f[P];return M}r.buildTransformer=C,r.buildTransformerMatrix3d=function(u,f){const n=C(u,f);if(!!n)return`matrix3d(${[n[0],n[3],0,n[6],n[1],n[4],0,n[7],0,0,1,0,n[2],n[5],0,1].join(",")})`}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.offsetPoints=r.offsetPointLine=void 0;const g=l(1),x=l(17);function C(P,$){if(P&&!(P.length<1))for(var R=1,B=P.length;R<B;R++)$(P[R-1],P[R])}function u(P,$){if(P.x===$.x)return P.y===$.y?null:{x:P.x};const R=($.y-P.y)/($.x-P.x);return{a:R,b:P.y-R*P.x}}function f(P,$,R,B){const V=u(P,$),j=u(R,B);if(V===null||j===null)return null;if(V.hasOwnProperty("x"))return j.hasOwnProperty("x")?null:{x:V.x,y:j.a*V.x+j.b};if(j.hasOwnProperty("x"))return{x:j.x,y:V.a*j.x+V.b};if(V.a===j.a)return null;const U=(j.b-V.b)/(V.a-j.a);return{x:U,y:V.a*U+V.b}}function n(P,$,R){return{x:P.x+$*Math.cos(R),y:P.y+$*Math.sin(R)}}function S(P,$){const R=[];return C(P,(B,V)=>{if(B.x===V.x&&B.y===V.y)return;const j=Math.atan2(B.y-V.y,B.x-V.x)-Math.PI/2;R.push({offsetAngle:j,original:[B,V],offset:[n(B,$,j),n(V,$,j)]})}),R}function k(P){return{x:P[1].x-P[0].x,y:P[1].y-P[0].y}}function M(P,$){const R=k(P),B=k($);return Math.atan2(R.x*B.y-R.y*B.x,R.x*B.x+R.y*B.y)}r.offsetPointLine=S,r.offsetPoints=function(P,$){const R=P.map(B=>g.GeoPoint.convert(B));return function(B,V){let j=[];const U=B[0],q=B[B.length-1];return U&&q&&(j.push(U.offset[0]),C(B,(Y,Q)=>{j=j.concat(function(te,re,oe){return function(se,fe,ge){if(se.offsetAngle===fe.offsetAngle)return[se.offset[1]];const Ce=M(se.offset,fe.offset);if(Ce*ge>0&&Ce*M(se.offset,[se.offset[0],fe.offset[1]])>0)return[f(se.offset[0],se.offset[1],fe.offset[0],fe.offset[1])];const $e=[],be=se.original[1],ke=ge>0,Ee=ke?fe.offsetAngle:se.offsetAngle;let He=ke?se.offsetAngle:fe.offsetAngle;He<Ee&&(He+=2*Math.PI);const rt=Math.PI/8;for(var ft=Ee;ft<He;ft+=rt)$e.push(n(be,ge,ft));return $e.push(n(be,ge,He)),ke?$e.reverse():$e}(te,re,oe).filter(function(se){return se})}(Y,Q,V))}),j.push(q.offset[1])),j}(S(x.simplify(R,$==null?void 0:$.smoothFactor),$.offset),$.offset)}},function(e,r,l){function g(x,C){x+=1;const u=(C=C!=null?C:0)*(Math.PI/180);return 400750166855784e-7*Math.cos(u)/Math.pow(2,x+8)}Object.defineProperty(r,"__esModule",{value:!0}),r.pixelValue=r.metersPerPixel=void 0,r.metersPerPixel=g,r.pixelValue=function(x,C,u){return x/g(u=u!=null?u:0,C+=1)}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.isPointInPolygon=r.polygonCentroid=r.polygonIsClockwise=r.calcPolygonArea=void 0;const g=l(1);r.calcPolygonArea=function(x){const C=[];for(const n of x)C.push(n.x),C.push(n.y);let u=0,f=0;for(let n=0;n<C.length;n+=2)u=(n+2)%C.length,f+=C[n]*C[u+1],f-=C[n+1]*C[u];return f/=2,f<0?-f:f},r.polygonIsClockwise=function(x){if(x==null||x.length===0)return!0;let C=0;for(let u=0;u<x.length-1;++u)C+=-.5*(x[u+1].y+x[u].y)*(x[u+1].x-x[u].x);return C+=-.5*(x[0].y+x[x.length-1].y)*(x[0].x-x[x.length-1].x),C<0},r.polygonCentroid=function(x){const C=[0,0];let u=0;for(let k=0;k<x.length-1;k+=1){const M=x[k].x,P=x[k].y,$=x[k+1].x,R=x[k+1].y,B=M*R-$*P;u+=B,C[0]+=(M+$)*B,C[1]+=(P+R)*B}const f=x[0],n=x[x.length-1],S=f.x*n.y-n.x*f.y;return u+=S,C[0]+=(f.x+n.x)*S,C[1]+=(f.y+n.y)*S,u*=.5,C[0]/=6*u,C[1]/=6*u,new g.GeoPoint(C[0],C[1])},r.isPointInPolygon=(x,C)=>{const u=[],f=[];C.forEach($=>{u.push($.x),f.push($.y)});const{x:n,y:S}=x,k=u.length;let M=k-1,P=0;for(let $=0;$<k;$++)(f[$]<=S&&S<f[M]||f[M]<=S&&S<f[$])&&n>(u[M]-u[$])*(S-f[$])/(f[M]-f[$])+u[$]&&(P=!P),M=$;return!!P}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.findShortestPath=r.buildTopoGraph=r.Graph=void 0;const g=l(1),x=l(18);var C=x.Math2D.lineDist;const u=l(17);class f extends Error{constructor(M){super(M),Object.setPrototypeOf(this,f.prototype)}}function n(k){const M={addNode:R,removeNode:function(oe){return Object.keys(P).forEach(function(se){P[se].forEach(function(fe){fe===oe&&Q(se,fe)})}),delete P[oe],M},nodes:B,adjacent:V,addEdge:Y,removeEdge:Q,hasEdge:function(oe,se){return V(oe).includes(se)},setEdgeWeight:U,getEdgeWeight:q,indegree:function(oe){let se=0;function fe(ge){ge===oe&&se++}return Object.keys(P).forEach(function(ge){P[ge].forEach(fe)}),se},outdegree:function(oe){return oe in P?P[oe].length:0},depthFirstSearch:te,hasCycle:function(){try{return te(void 0,!0,!0),!1}catch(oe){if(oe instanceof f)return!0;throw oe}},lowestCommonAncestors:function(oe,se){const fe=[],ge=[];return function Ce($e,be){return!!$e[be]||($e[be]=!0,fe.push(be),be===se?(ge.push(be),!1):V(be).every(ke=>Ce($e,ke)))}({},oe)&&function Ce($e,be){$e[be]||($e[be]=!0,fe.includes(be)?ge.push(be):ge.length===0&&V(be).forEach(ke=>{Ce($e,ke)}))}({},se),ge},topologicalSort:function(oe,se=!0){return te(oe,se,!0).reverse()},shortestPath:function(oe,se){const fe={},ge={};let Ce={};function $e(){let ke,Ee=1/0;return Object.keys(Ce).forEach(function(He){fe[He]<Ee&&(Ee=fe[He],ke=He)}),ke===void 0?(Ce={},null):(delete Ce[ke],ke)}function be(ke,Ee){const He=q(ke,Ee);fe[Ee]>fe[ke]+He&&(fe[Ee]=fe[ke]+He,ge[Ee]=ke)}return function(){for(function(){if(B().forEach(function(ke){fe[ke]=1/0}),fe[oe]!==1/0)throw new Error("Source node is not in the graph");if(fe[se]!==1/0)throw new Error("Destination node is not in the graph");fe[oe]=0}(),B().forEach(function(ke){Ce[ke]=!0});Object.keys(Ce).length!==0;){const ke=$e();if(ke===null)return;V(ke).forEach(function(Ee){be(ke,Ee)})}}(),function(){const ke=[];let Ee=0,He=se;for(;ge[He];)ke.push(He),Ee+=q(ge[He],He),He=ge[He];if(He!==oe)throw new Error("No path found");return ke.push(He),ke.reverse(),ke.weight=Ee,ke}()},serialize:function(){const oe={nodes:B().map(function(se){return{id:se}}),links:[]};return oe.nodes.forEach(function(se){const fe=se.id;V(fe).forEach(function(ge){oe.links.push({source:fe,target:ge,weight:q(fe,ge)})})}),oe},deserialize:re},P={},$={};function R(oe){return P[oe]=V(oe),M}function B(){const oe={};return Object.keys(P).forEach(function(se){oe[se]=!0,P[se].forEach(function(fe){oe[fe]=!0})}),Object.keys(oe)}function V(oe){return P[oe]||[]}function j(oe,se){return oe+"|"+se}function U(oe,se,fe){return $[j(oe,se)]=fe,M}function q(oe,se){const fe=$[j(oe,se)];return fe===void 0?1:fe}function Y(oe,se,fe){return R(oe),R(se),V(oe).push(se),fe!==void 0&&U(oe,se,fe),M}function Q(oe,se){return P[oe]&&(P[oe]=V(oe).filter(function(fe){return fe!==se})),M}function te(oe,se=!0,fe=!1){oe||(oe=B()),typeof se!="boolean"&&(se=!0);const ge={},Ce={},$e=[];function be(ke){if(Ce[ke]&&fe)throw new f("Cycle found");ge[ke]||(ge[ke]=!0,Ce[ke]=!0,V(ke).forEach(be),Ce[ke]=!1,$e.push(ke))}return se?oe.forEach(be):(oe.forEach(function(ke){ge[ke]=!0}),oe.forEach(function(ke){V(ke).forEach(be)})),$e}function re(oe){return oe.nodes.forEach(function(se){R(se.id)}),oe.links.forEach(function(se){Y(se.source,se.target,se.weight)}),M}return k&&re(k),M}function S(k,M,P){var $,R;M=M!=null?M:6,P=P!=null&&P;const B=q=>q.roundStr(M),V=n(),j={},U={edges:{},inputNodes:{},outputNodes:{}};for(let q=0;q<k.length;q++){const Y=q+1;if(k[q].id=($=k[q].id)!==null&&$!==void 0?$:q+1+"",j[k[q].id]=Y,k[q].weight=(R=k[q].weight)!==null&&R!==void 0?R:C(k[q].points),k[q].points.length<2)throw Error(`index ${q}, id: ${k[q].id} points length is ${k[q].points.length}, must large two`);const Q=k[q].points[0],te=k[q].points[k[q].points.length-1],re=B(Q),oe=B(te);V.addEdge(re,oe,k[q].weight);let se=`${re}_${oe}`;U.edges[se]=U.edges[se]||[],U.edges[se].push(Y),U.outputNodes[re]=U.outputNodes[re]||[],U.outputNodes[re].push(Y),U.inputNodes[oe]=U.inputNodes[oe]||[],U.inputNodes[oe].push(Y),P||(V.addEdge(oe,re,k[q].weight),se=`${oe}_${re}`,U.edges[se]=U.edges[se]||[],U.edges[se].push(-Y),U.outputNodes[oe]=U.outputNodes[oe]||[],U.outputNodes[oe].push(Y),U.inputNodes[re]=U.inputNodes[re]||[],U.inputNodes[re].push(Y))}return{graph:V,topo:U}}r.Graph=n,r.buildTopoGraph=S,r.findShortestPath=function(k,M,P,$,R){const B=g.GeoPoint.convert(k),V=g.GeoPoint.convert(M),j=P.map(re=>re.points),U=(re,oe)=>{const se=re[oe.closestIndex],fe=[],ge=[];for(let Ce=0;Ce<se.length;Ce++)Ce<oe.closestPointIndex?fe.push(se[Ce]):Ce===oe.closestPointIndex?(fe.push(se[Ce]),fe.push(oe.closestPoint),ge.push(oe.closestPoint)):ge.push(se[Ce]);re[oe.closestIndex]=fe,re.push(ge)},q=(re,oe,se,fe)=>{const ge=se.edges[`${re}_${oe}`],Ce=re.split(","),$e=new g.GeoPoint(+Ce[0],+Ce[1]),be=oe.split(","),ke=new g.GeoPoint(+be[0],+be[1]);if(ge.length===0)return{points:[$e,ke],index:-1,reverse:!1};{ge.length>1&&ge.sort((He,rt)=>x.Math2D.lineDist(fe[Math.abs(He)-1])-x.Math2D.lineDist(fe[Math.abs(rt)-1]));let Ee=ge[0];return Ee>=0?{points:[...fe[Ee-1]],index:Ee,reverse:!1}:(Ee=-Ee,{points:[...fe[Ee-1].reverse()],index:Ee,reverse:!0})}},Y=u.closestPointOnPolylines(B,j),Q=u.closestPointOnPolylines(V,j),te=[...j];Y.closestIndex!==Q.closestIndex?(U(te,Y),U(te,Q)):((re,oe,se,fe)=>{const ge=re[oe];let Ce=!1,$e=se,be=fe;fe.closestPointIndex<se.closestPointIndex&&(Ce=!0),fe.closestPointIndex===se.closestPointIndex&&fe.closestPrePointDist<se.closestPrePointDist&&(Ce=!0),Ce&&($e=fe,be=se);const ke=[],Ee=[],He=[];for(let rt=0;rt<ge.length;rt++)rt<$e.closestPointIndex?ke.push(ge[rt]):rt===$e.closestPointIndex?(ke.push(ge[rt]),ke.push($e.closestPoint),Ee.push($e.closestPoint),rt===be.closestPointIndex&&(Ee.push(be.closestPoint),He.push(be.closestPoint))):rt<be.closestPointIndex?Ee.push(ge[rt]):rt===be.closestPointIndex?(Ee.push(ge[rt]),Ee.push(be.closestPoint),He.push(be.closestPoint)):He.push(ge[rt]);re[oe.closestIndex]=ke,re.push(Ee),re.push(He)})(te,Y.closestIndex,Y,Q);try{const re=S(te.map(ge=>({points:ge}))),oe=re.graph.shortestPath(Y.closestPoint.roundStr(),Q.closestPoint.roundStr()),se=[],fe=[];for(let ge=1;ge<oe.length;ge++){const Ce=q(oe[ge-1],oe[ge],re.topo,te);ge===1?se.push(...Ce.points):se.push(...Ce.points.slice(1)),fe.push(Ce)}return{startPoint:Y,endPoint:Q,route:se,routeDetail:fe}}catch(re){return{error:re}}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.polylineToBezierCurve=r.getBezierCurveLength=r.bezierCurveToPolyline=void 0;const g=l(86);Object.defineProperty(r,"bezierCurveToPolyline",{enumerable:!0,get:function(){return g.bezierCurveToPolyline}}),Object.defineProperty(r,"getBezierCurveLength",{enumerable:!0,get:function(){return g.getBezierCurveLength}});const x=l(87);Object.defineProperty(r,"polylineToBezierCurve",{enumerable:!0,get:function(){return x.polylineToBezierCurve}})},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.getBezierCurveLength=r.bezierCurveToPolyline=void 0;function g($){return $.reduce((R,B)=>R+B,0)}function x($){return $.reduce((R,B)=>[...R,...B],[])}function C($){const R=function(V){return V.slice(1)}($),B=function(V){return V[0]}($);return R.map((V,j)=>function(U,q,Y,Q){const te=new Map([]);return re=>{if(te.has(re))return te.get(re);const oe=1-re,se=Math.pow(oe,3),fe=Math.pow(oe,2),ge=Math.pow(re,3),Ce=Math.pow(re,2),$e=[U[0]*se+3*q[0]*re*fe+3*Y[0]*Ce*oe+Q[0]*ge,U[1]*se+3*q[1]*re*fe+3*Y[1]*Ce*oe+Q[1]*ge];return te.set(re,$e),$e}}(j===0?B:R[j-1][2],...V))}function u($,R){return $.map((B,V)=>{const j=1/(R[V]-1);return new Array(R[V]).fill(0).map((U,q)=>B(q*j))})}function f($){return new Array($.length-1).fill(0).map((R,B)=>function([V,j],[U,q]){return Math.sqrt(Math.pow(V-U,2)+Math.pow(j-q,2))}($[B],$[B+1]))}function n($){const R=function(q){return q.map(f)}($),B=g(R.map(({length:q})=>q)),V=R.map(g),j=g(V),U=j/B;return{totalLength:j,segmentLength:V,avgDistance:U,deviation:function(q,Y){return g(q.map(Q=>Q.map(te=>Math.abs(te-Y))).map(g))}(R,U)}}function S($){return x($).length}function k($,R,B,V){let j=n($);return j.deviation<=B?x($):($=function(U,q,{avgDistance:Y,totalLength:Q,segmentLength:te},re){let oe=S(U);return oe=Math.ceil(Y/re*oe*1.1),u(q,te.map(se=>Math.ceil(se/Q*oe)).map(se=>se>1?se:2))}($,R,j,B),V<=0?x($):(j=n($),x($=function(U,q,{avgDistance:Y},Q){const te=1/S(U)/10;return q.forEach((re,oe)=>{const se=U[oe].length,fe=1/(se-1),ge=new Array(se).fill(0).map((Ce,$e)=>$e*fe);for(let Ce=0;Ce<Q;Ce++){const $e=f(U[oe]).map(ke=>ke-Y);let be=0;for(let ke=0;ke<se;ke++)ke!==0&&(be+=$e[ke-1],ge[ke]-=te*be,ge[ke]>1&&(ge[ke]=1),ge[ke]<0&&(ge[ke]=0),U[oe][ke]=re(ge[ke]))}}),U}($,R,j,V))))}function M($,R=5,B=0){const V=C($),j=k(function(q){const{length:Y}=q;return u(q,new Array(Y).fill(50))}(V),V,R,B),U=function(q){return q.slice(-1)[0][2]}($);return j.push(U),j}function P($,R=5,B=0){if(!($ instanceof Array))throw new Error("bezierCurveToPolyline: Invalid input of "+$);if($.length<=1)throw new Error("bezierCurveToPolyline: The length of the bezierCurve should be greater than 1");if(typeof R!="number")throw new Error("bezierCurveToPolyline: Type of precision must be number");return M($,R,B)}r.bezierCurveToPolyline=P,r.getBezierCurveLength=function($,R=5,B=0){return g(f(P($,R,B)))},r.default=P},function(e,r,l){function g(C,u,f=!1,n=.25,S=.25){const k=C.length;if(k<3||u>=k)return null;let M=u-1;M<0&&(M=f?k+M:0);let P=u+1;P>=k&&(P=f?P-k:k-1);let $=u+2;$>=k&&($=f?$-k:k-1);const R=C[M],B=C[u],V=C[P],j=C[$];return[[B[0]+n*(V[0]-R[0]),B[1]+n*(V[1]-R[1])],[V[0]-S*(j[0]-B[0]),V[1]-S*(j[1]-B[1])]]}function x([C,u],[f,n]){return[f+(f-C),n+(n-u)]}Object.defineProperty(r,"__esModule",{value:!0}),r.polylineToBezierCurve=void 0,r.polylineToBezierCurve=function(C,u=!1,f=.25,n=.25){if(!(C instanceof Array))throw new Error("polylineToBezierCurve: Invalid input of "+C);if(C.length<=2)throw new Error("polylineToBezierCurve: The length of the polyline should be greater than 2");const S=C[0],k=C.length-1,M=new Array(k).fill(0).map((P,$)=>[...g(C,$,u,f,n),C[$+1]]);return u&&function(P,$){const R=P[0],B=P.slice(-1)[0];P.push([x(B[1],B[2]),x(R[0],$),$])}(M,S),M.unshift(C[0]),M}},function(e,r,l){var g=this&&this.__createBinding||(Object.create?function(C,u,f,n){n===void 0&&(n=f),Object.defineProperty(C,n,{enumerable:!0,get:function(){return u[f]}})}:function(C,u,f,n){n===void 0&&(n=f),C[n]=u[f]}),x=this&&this.__exportStar||function(C,u){for(var f in C)f==="default"||u.hasOwnProperty(f)||g(u,C,f)};Object.defineProperty(r,"__esModule",{value:!0}),x(l(7),r),x(l(39),r),x(l(89),r),x(l(90),r),x(l(40),r),x(l(41),r),x(l(91),r),x(l(92),r),x(l(93),r)},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.mat4=void 0;const g=l(7);(function(x){function C(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}x.create=function(){const u=new Float32Array(16);return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},x.clone=function(u){const f=new Float32Array(16);return f[0]=u[0],f[1]=u[1],f[2]=u[2],f[3]=u[3],f[4]=u[4],f[5]=u[5],f[6]=u[6],f[7]=u[7],f[8]=u[8],f[9]=u[9],f[10]=u[10],f[11]=u[11],f[12]=u[12],f[13]=u[13],f[14]=u[14],f[15]=u[15],f},x.copy=function(u,f){return u[0]=f[0],u[1]=f[1],u[2]=f[2],u[3]=f[3],u[4]=f[4],u[5]=f[5],u[6]=f[6],u[7]=f[7],u[8]=f[8],u[9]=f[9],u[10]=f[10],u[11]=f[11],u[12]=f[12],u[13]=f[13],u[14]=f[14],u[15]=f[15],u},x.fromValues=function(u,f,n,S,k,M,P,$,R,B,V,j,U,q,Y,Q){const te=new Float32Array(16);return te[0]=u,te[1]=f,te[2]=n,te[3]=S,te[4]=k,te[5]=M,te[6]=P,te[7]=$,te[8]=R,te[9]=B,te[10]=V,te[11]=j,te[12]=U,te[13]=q,te[14]=Y,te[15]=Q,te},x.set=function(u,f,n,S,k,M,P,$,R,B,V,j,U,q,Y,Q,te){return u[0]=f,u[1]=n,u[2]=S,u[3]=k,u[4]=M,u[5]=P,u[6]=$,u[7]=R,u[8]=B,u[9]=V,u[10]=j,u[11]=U,u[12]=q,u[13]=Y,u[14]=Q,u[15]=te,u},x.identity=C,x.transpose=function(u,f){if(u===f){const n=f[1],S=f[2],k=f[3],M=f[6],P=f[7],$=f[11];u[1]=f[4],u[2]=f[8],u[3]=f[12],u[4]=n,u[6]=f[9],u[7]=f[13],u[8]=S,u[9]=M,u[11]=f[14],u[12]=k,u[13]=P,u[14]=$}else u[0]=f[0],u[1]=f[4],u[2]=f[8],u[3]=f[12],u[4]=f[1],u[5]=f[5],u[6]=f[9],u[7]=f[13],u[8]=f[2],u[9]=f[6],u[10]=f[10],u[11]=f[14],u[12]=f[3],u[13]=f[7],u[14]=f[11],u[15]=f[15];return u},x.invert=function(u,f){const n=f[0],S=f[1],k=f[2],M=f[3],P=f[4],$=f[5],R=f[6],B=f[7],V=f[8],j=f[9],U=f[10],q=f[11],Y=f[12],Q=f[13],te=f[14],re=f[15],oe=n*$-S*P,se=n*R-k*P,fe=n*B-M*P,ge=S*R-k*$,Ce=S*B-M*$,$e=k*B-M*R,be=V*Q-j*Y,ke=V*te-U*Y,Ee=V*re-q*Y,He=j*te-U*Q,rt=j*re-q*Q,ft=U*re-q*te;let bt=oe*ft-se*rt+fe*He+ge*Ee-Ce*ke+$e*be;return bt?(bt=1/bt,u[0]=($*ft-R*rt+B*He)*bt,u[1]=(k*rt-S*ft-M*He)*bt,u[2]=(Q*$e-te*Ce+re*ge)*bt,u[3]=(U*Ce-j*$e-q*ge)*bt,u[4]=(R*Ee-P*ft-B*ke)*bt,u[5]=(n*ft-k*Ee+M*ke)*bt,u[6]=(te*fe-Y*$e-re*se)*bt,u[7]=(V*$e-U*fe+q*se)*bt,u[8]=(P*rt-$*Ee+B*be)*bt,u[9]=(S*Ee-n*rt-M*be)*bt,u[10]=(Y*Ce-Q*fe+re*oe)*bt,u[11]=(j*fe-V*Ce-q*oe)*bt,u[12]=($*ke-P*He-R*be)*bt,u[13]=(n*He-S*ke+k*be)*bt,u[14]=(Q*se-Y*ge-te*oe)*bt,u[15]=(V*ge-j*se+U*oe)*bt,u):null},x.adjoint=function(u,f){const n=f[0],S=f[1],k=f[2],M=f[3],P=f[4],$=f[5],R=f[6],B=f[7],V=f[8],j=f[9],U=f[10],q=f[11],Y=f[12],Q=f[13],te=f[14],re=f[15];return u[0]=$*(U*re-q*te)-j*(R*re-B*te)+Q*(R*q-B*U),u[1]=-(S*(U*re-q*te)-j*(k*re-M*te)+Q*(k*q-M*U)),u[2]=S*(R*re-B*te)-$*(k*re-M*te)+Q*(k*B-M*R),u[3]=-(S*(R*q-B*U)-$*(k*q-M*U)+j*(k*B-M*R)),u[4]=-(P*(U*re-q*te)-V*(R*re-B*te)+Y*(R*q-B*U)),u[5]=n*(U*re-q*te)-V*(k*re-M*te)+Y*(k*q-M*U),u[6]=-(n*(R*re-B*te)-P*(k*re-M*te)+Y*(k*B-M*R)),u[7]=n*(R*q-B*U)-P*(k*q-M*U)+V*(k*B-M*R),u[8]=P*(j*re-q*Q)-V*($*re-B*Q)+Y*($*q-B*j),u[9]=-(n*(j*re-q*Q)-V*(S*re-M*Q)+Y*(S*q-M*j)),u[10]=n*($*re-B*Q)-P*(S*re-M*Q)+Y*(S*B-M*$),u[11]=-(n*($*q-B*j)-P*(S*q-M*j)+V*(S*B-M*$)),u[12]=-(P*(j*te-U*Q)-V*($*te-R*Q)+Y*($*U-R*j)),u[13]=n*(j*te-U*Q)-V*(S*te-k*Q)+Y*(S*U-k*j),u[14]=-(n*($*te-R*Q)-P*(S*te-k*Q)+Y*(S*R-k*$)),u[15]=n*($*U-R*j)-P*(S*U-k*j)+V*(S*R-k*$),u},x.determinant=function(u){const f=u[0],n=u[1],S=u[2],k=u[3],M=u[4],P=u[5],$=u[6],R=u[7],B=u[8],V=u[9],j=u[10],U=u[11],q=u[12],Y=u[13],Q=u[14],te=u[15];return(f*P-n*M)*(j*te-U*Q)-(f*$-S*M)*(V*te-U*Y)+(f*R-k*M)*(V*Q-j*Y)+(n*$-S*P)*(B*te-U*q)-(n*R-k*P)*(B*Q-j*q)+(S*R-k*$)*(B*Y-V*q)},x.multiply=function(u,f,n){const S=f[0],k=f[1],M=f[2],P=f[3],$=f[4],R=f[5],B=f[6],V=f[7],j=f[8],U=f[9],q=f[10],Y=f[11],Q=f[12],te=f[13],re=f[14],oe=f[15];let se=n[0],fe=n[1],ge=n[2],Ce=n[3];return u[0]=se*S+fe*$+ge*j+Ce*Q,u[1]=se*k+fe*R+ge*U+Ce*te,u[2]=se*M+fe*B+ge*q+Ce*re,u[3]=se*P+fe*V+ge*Y+Ce*oe,se=n[4],fe=n[5],ge=n[6],Ce=n[7],u[4]=se*S+fe*$+ge*j+Ce*Q,u[5]=se*k+fe*R+ge*U+Ce*te,u[6]=se*M+fe*B+ge*q+Ce*re,u[7]=se*P+fe*V+ge*Y+Ce*oe,se=n[8],fe=n[9],ge=n[10],Ce=n[11],u[8]=se*S+fe*$+ge*j+Ce*Q,u[9]=se*k+fe*R+ge*U+Ce*te,u[10]=se*M+fe*B+ge*q+Ce*re,u[11]=se*P+fe*V+ge*Y+Ce*oe,se=n[12],fe=n[13],ge=n[14],Ce=n[15],u[12]=se*S+fe*$+ge*j+Ce*Q,u[13]=se*k+fe*R+ge*U+Ce*te,u[14]=se*M+fe*B+ge*q+Ce*re,u[15]=se*P+fe*V+ge*Y+Ce*oe,u},x.translate=function(u,f,n){const S=n[0],k=n[1],M=n[2];let P,$,R,B,V,j,U,q,Y,Q,te,re;return f===u?(u[12]=f[0]*S+f[4]*k+f[8]*M+f[12],u[13]=f[1]*S+f[5]*k+f[9]*M+f[13],u[14]=f[2]*S+f[6]*k+f[10]*M+f[14],u[15]=f[3]*S+f[7]*k+f[11]*M+f[15]):(P=f[0],$=f[1],R=f[2],B=f[3],V=f[4],j=f[5],U=f[6],q=f[7],Y=f[8],Q=f[9],te=f[10],re=f[11],u[0]=P,u[1]=$,u[2]=R,u[3]=B,u[4]=V,u[5]=j,u[6]=U,u[7]=q,u[8]=Y,u[9]=Q,u[10]=te,u[11]=re,u[12]=P*S+V*k+Y*M+f[12],u[13]=$*S+j*k+Q*M+f[13],u[14]=R*S+U*k+te*M+f[14],u[15]=B*S+q*k+re*M+f[15]),u},x.scale=function(u,f,n){const S=n[0],k=n[1],M=n[2];return u[0]=f[0]*S,u[1]=f[1]*S,u[2]=f[2]*S,u[3]=f[3]*S,u[4]=f[4]*k,u[5]=f[5]*k,u[6]=f[6]*k,u[7]=f[7]*k,u[8]=f[8]*M,u[9]=f[9]*M,u[10]=f[10]*M,u[11]=f[11]*M,u[12]=f[12],u[13]=f[13],u[14]=f[14],u[15]=f[15],u},x.rotate=function(u,f,n,S){let k=S[0],M=S[1],P=S[2],$=Math.sqrt(k*k+M*M+P*P);if(Math.abs($)<g.EPSILON)return null;$=1/$,k*=$,M*=$,P*=$;const R=Math.sin(n),B=Math.cos(n),V=1-B,j=f[0],U=f[1],q=f[2],Y=f[3],Q=f[4],te=f[5],re=f[6],oe=f[7],se=f[8],fe=f[9],ge=f[10],Ce=f[11],$e=k*k*V+B,be=M*k*V+P*R,ke=P*k*V-M*R,Ee=k*M*V-P*R,He=M*M*V+B,rt=P*M*V+k*R,ft=k*P*V+M*R,bt=M*P*V-k*R,Ye=P*P*V+B;return u[0]=j*$e+Q*be+se*ke,u[1]=U*$e+te*be+fe*ke,u[2]=q*$e+re*be+ge*ke,u[3]=Y*$e+oe*be+Ce*ke,u[4]=j*Ee+Q*He+se*rt,u[5]=U*Ee+te*He+fe*rt,u[6]=q*Ee+re*He+ge*rt,u[7]=Y*Ee+oe*He+Ce*rt,u[8]=j*ft+Q*bt+se*Ye,u[9]=U*ft+te*bt+fe*Ye,u[10]=q*ft+re*bt+ge*Ye,u[11]=Y*ft+oe*bt+Ce*Ye,f!==u&&(u[12]=f[12],u[13]=f[13],u[14]=f[14],u[15]=f[15]),u},x.rotateX=function(u,f,n){const S=Math.sin(n),k=Math.cos(n),M=f[4],P=f[5],$=f[6],R=f[7],B=f[8],V=f[9],j=f[10],U=f[11];return f!==u&&(u[0]=f[0],u[1]=f[1],u[2]=f[2],u[3]=f[3],u[12]=f[12],u[13]=f[13],u[14]=f[14],u[15]=f[15]),u[4]=M*k+B*S,u[5]=P*k+V*S,u[6]=$*k+j*S,u[7]=R*k+U*S,u[8]=B*k-M*S,u[9]=V*k-P*S,u[10]=j*k-$*S,u[11]=U*k-R*S,u},x.rotateY=function(u,f,n){const S=Math.sin(n),k=Math.cos(n),M=f[0],P=f[1],$=f[2],R=f[3],B=f[8],V=f[9],j=f[10],U=f[11];return f!==u&&(u[4]=f[4],u[5]=f[5],u[6]=f[6],u[7]=f[7],u[12]=f[12],u[13]=f[13],u[14]=f[14],u[15]=f[15]),u[0]=M*k-B*S,u[1]=P*k-V*S,u[2]=$*k-j*S,u[3]=R*k-U*S,u[8]=M*S+B*k,u[9]=P*S+V*k,u[10]=$*S+j*k,u[11]=R*S+U*k,u},x.rotateZ=function(u,f,n){const S=Math.sin(n),k=Math.cos(n),M=f[0],P=f[1],$=f[2],R=f[3],B=f[4],V=f[5],j=f[6],U=f[7];return f!==u&&(u[8]=f[8],u[9]=f[9],u[10]=f[10],u[11]=f[11],u[12]=f[12],u[13]=f[13],u[14]=f[14],u[15]=f[15]),u[0]=M*k+B*S,u[1]=P*k+V*S,u[2]=$*k+j*S,u[3]=R*k+U*S,u[4]=B*k-M*S,u[5]=V*k-P*S,u[6]=j*k-$*S,u[7]=U*k-R*S,u},x.fromTranslation=function(u,f){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=f[0],u[13]=f[1],u[14]=f[2],u[15]=1,u},x.fromScaling=function(u,f){return u[0]=f[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=f[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=f[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},x.fromRotation=function(u,f,n){let S=n[0],k=n[1],M=n[2],P=Math.sqrt(S*S+k*k+M*M);if(Math.abs(P)<g.EPSILON)return null;P=1/P,S*=P,k*=P,M*=P;const $=Math.sin(f),R=Math.cos(f),B=1-R;return u[0]=S*S*B+R,u[1]=k*S*B+M*$,u[2]=M*S*B-k*$,u[3]=0,u[4]=S*k*B-M*$,u[5]=k*k*B+R,u[6]=M*k*B+S*$,u[7]=0,u[8]=S*M*B+k*$,u[9]=k*M*B-S*$,u[10]=M*M*B+R,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},x.fromXRotation=function(u,f){const n=Math.sin(f),S=Math.cos(f);return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=S,u[6]=n,u[7]=0,u[8]=0,u[9]=-n,u[10]=S,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},x.fromYRotation=function(u,f){const n=Math.sin(f),S=Math.cos(f);return u[0]=S,u[1]=0,u[2]=-n,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=n,u[9]=0,u[10]=S,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},x.fromZRotation=function(u,f){const n=Math.sin(f),S=Math.cos(f);return u[0]=S,u[1]=n,u[2]=0,u[3]=0,u[4]=-n,u[5]=S,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},x.fromRotationTranslation=function(u,f,n){const S=f[0],k=f[1],M=f[2],P=f[3],$=S+S,R=k+k,B=M+M,V=S*$,j=S*R,U=S*B,q=k*R,Y=k*B,Q=M*B,te=P*$,re=P*R,oe=P*B;return u[0]=1-(q+Q),u[1]=j+oe,u[2]=U-re,u[3]=0,u[4]=j-oe,u[5]=1-(V+Q),u[6]=Y+te,u[7]=0,u[8]=U+re,u[9]=Y-te,u[10]=1-(V+q),u[11]=0,u[12]=n[0],u[13]=n[1],u[14]=n[2],u[15]=1,u},x.getTranslation=function(u,f){return u[0]=f[12],u[1]=f[13],u[2]=f[14],u},x.getScaling=function(u,f){const n=f[0],S=f[1],k=f[2],M=f[4],P=f[5],$=f[6],R=f[8],B=f[9],V=f[10];return u[0]=Math.sqrt(n*n+S*S+k*k),u[1]=Math.sqrt(M*M+P*P+$*$),u[2]=Math.sqrt(R*R+B*B+V*V),u},x.getRotation=function(u,f){const n=f[0]+f[5]+f[10];let S=0;return n>0?(S=2*Math.sqrt(n+1),u[3]=.25*S,u[0]=(f[6]-f[9])/S,u[1]=(f[8]-f[2])/S,u[2]=(f[1]-f[4])/S):f[0]>f[5]&&f[0]>f[10]?(S=2*Math.sqrt(1+f[0]-f[5]-f[10]),u[3]=(f[6]-f[9])/S,u[0]=.25*S,u[1]=(f[1]+f[4])/S,u[2]=(f[8]+f[2])/S):f[5]>f[10]?(S=2*Math.sqrt(1+f[5]-f[0]-f[10]),u[3]=(f[8]-f[2])/S,u[0]=(f[1]+f[4])/S,u[1]=.25*S,u[2]=(f[6]+f[9])/S):(S=2*Math.sqrt(1+f[10]-f[0]-f[5]),u[3]=(f[1]-f[4])/S,u[0]=(f[8]+f[2])/S,u[1]=(f[6]+f[9])/S,u[2]=.25*S),u},x.fromRotationTranslationScale=function(u,f,n,S){const k=f[0],M=f[1],P=f[2],$=f[3],R=k+k,B=M+M,V=P+P,j=k*R,U=k*B,q=k*V,Y=M*B,Q=M*V,te=P*V,re=$*R,oe=$*B,se=$*V,fe=S[0],ge=S[1],Ce=S[2];return u[0]=(1-(Y+te))*fe,u[1]=(U+se)*fe,u[2]=(q-oe)*fe,u[3]=0,u[4]=(U-se)*ge,u[5]=(1-(j+te))*ge,u[6]=(Q+re)*ge,u[7]=0,u[8]=(q+oe)*Ce,u[9]=(Q-re)*Ce,u[10]=(1-(j+Y))*Ce,u[11]=0,u[12]=n[0],u[13]=n[1],u[14]=n[2],u[15]=1,u},x.fromRotationTranslationScaleOrigin=function(u,f,n,S,k){const M=f[0],P=f[1],$=f[2],R=f[3],B=M+M,V=P+P,j=$+$,U=M*B,q=M*V,Y=M*j,Q=P*V,te=P*j,re=$*j,oe=R*B,se=R*V,fe=R*j,ge=S[0],Ce=S[1],$e=S[2],be=k[0],ke=k[1],Ee=k[2];return u[0]=(1-(Q+re))*ge,u[1]=(q+fe)*ge,u[2]=(Y-se)*ge,u[3]=0,u[4]=(q-fe)*Ce,u[5]=(1-(U+re))*Ce,u[6]=(te+oe)*Ce,u[7]=0,u[8]=(Y+se)*$e,u[9]=(te-oe)*$e,u[10]=(1-(U+Q))*$e,u[11]=0,u[12]=n[0]+be-(u[0]*be+u[4]*ke+u[8]*Ee),u[13]=n[1]+ke-(u[1]*be+u[5]*ke+u[9]*Ee),u[14]=n[2]+Ee-(u[2]*be+u[6]*ke+u[10]*Ee),u[15]=1,u},x.fromQuat=function(u,f){const n=f[0],S=f[1],k=f[2],M=f[3],P=n+n,$=S+S,R=k+k,B=n*P,V=S*P,j=S*$,U=k*P,q=k*$,Y=k*R,Q=M*P,te=M*$,re=M*R;return u[0]=1-j-Y,u[1]=V+re,u[2]=U-te,u[3]=0,u[4]=V-re,u[5]=1-B-Y,u[6]=q+Q,u[7]=0,u[8]=U+te,u[9]=q-Q,u[10]=1-B-j,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},x.frustum=function(u,f,n,S,k,M,P){const $=1/(n-f),R=1/(k-S),B=1/(M-P);return u[0]=2*M*$,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=2*M*R,u[6]=0,u[7]=0,u[8]=(n+f)*$,u[9]=(k+S)*R,u[10]=(P+M)*B,u[11]=-1,u[12]=0,u[13]=0,u[14]=P*M*2*B,u[15]=0,u},x.perspective=function(u,f,n,S,k){const M=1/Math.tan(f/2),P=1/(S-k);return u[0]=M/n,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=M,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=(k+S)*P,u[11]=-1,u[12]=0,u[13]=0,u[14]=2*k*S*P,u[15]=0,u},x.perspectiveFromFieldOfView=function(u,f,n,S){const k=Math.tan(f.upDegrees*Math.PI/180),M=Math.tan(f.downDegrees*Math.PI/180),P=Math.tan(f.leftDegrees*Math.PI/180),$=Math.tan(f.rightDegrees*Math.PI/180),R=2/(P+$),B=2/(k+M);return u[0]=R,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=B,u[6]=0,u[7]=0,u[8]=-(P-$)*R*.5,u[9]=(k-M)*B*.5,u[10]=S/(n-S),u[11]=-1,u[12]=0,u[13]=0,u[14]=S*n/(n-S),u[15]=0,u},x.ortho=function(u,f,n,S,k,M,P){const $=1/(f-n),R=1/(S-k),B=1/(M-P);return u[0]=-2*$,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*R,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*B,u[11]=0,u[12]=(f+n)*$,u[13]=(k+S)*R,u[14]=(P+M)*B,u[15]=1,u},x.lookAt=function(u,f,n,S){let k,M,P,$,R,B,V,j,U,q;const Y=f[0],Q=f[1],te=f[2],re=S[0],oe=S[1],se=S[2],fe=n[0],ge=n[1],Ce=n[2];return Math.abs(Y-fe)<g.EPSILON&&Math.abs(Q-ge)<g.EPSILON&&Math.abs(te-Ce)<g.EPSILON?C(u):(V=Y-fe,j=Q-ge,U=te-Ce,q=1/Math.sqrt(V*V+j*j+U*U),V*=q,j*=q,U*=q,k=oe*U-se*j,M=se*V-re*U,P=re*j-oe*V,q=Math.sqrt(k*k+M*M+P*P),q?(q=1/q,k*=q,M*=q,P*=q):(k=0,M=0,P=0),$=j*P-U*M,R=U*k-V*P,B=V*M-j*k,q=Math.sqrt($*$+R*R+B*B),q?(q=1/q,$*=q,R*=q,B*=q):($=0,R=0,B=0),u[0]=k,u[1]=$,u[2]=V,u[3]=0,u[4]=M,u[5]=R,u[6]=j,u[7]=0,u[8]=P,u[9]=B,u[10]=U,u[11]=0,u[12]=-(k*Y+M*Q+P*te),u[13]=-($*Y+R*Q+B*te),u[14]=-(V*Y+j*Q+U*te),u[15]=1,u)},x.str=function(u){return"mat4("+u[0]+", "+u[1]+", "+u[2]+", "+u[3]+", "+u[4]+", "+u[5]+", "+u[6]+", "+u[7]+", "+u[8]+", "+u[9]+", "+u[10]+", "+u[11]+", "+u[12]+", "+u[13]+", "+u[14]+", "+u[15]+")"},x.frob=function(u){return Math.sqrt(Math.pow(u[0],2)+Math.pow(u[1],2)+Math.pow(u[2],2)+Math.pow(u[3],2)+Math.pow(u[4],2)+Math.pow(u[5],2)+Math.pow(u[6],2)+Math.pow(u[7],2)+Math.pow(u[8],2)+Math.pow(u[9],2)+Math.pow(u[10],2)+Math.pow(u[11],2)+Math.pow(u[12],2)+Math.pow(u[13],2)+Math.pow(u[14],2)+Math.pow(u[15],2))},x.add=function(u,f,n){return u[0]=f[0]+n[0],u[1]=f[1]+n[1],u[2]=f[2]+n[2],u[3]=f[3]+n[3],u[4]=f[4]+n[4],u[5]=f[5]+n[5],u[6]=f[6]+n[6],u[7]=f[7]+n[7],u[8]=f[8]+n[8],u[9]=f[9]+n[9],u[10]=f[10]+n[10],u[11]=f[11]+n[11],u[12]=f[12]+n[12],u[13]=f[13]+n[13],u[14]=f[14]+n[14],u[15]=f[15]+n[15],u},x.subtract=function(u,f,n){return u[0]=f[0]-n[0],u[1]=f[1]-n[1],u[2]=f[2]-n[2],u[3]=f[3]-n[3],u[4]=f[4]-n[4],u[5]=f[5]-n[5],u[6]=f[6]-n[6],u[7]=f[7]-n[7],u[8]=f[8]-n[8],u[9]=f[9]-n[9],u[10]=f[10]-n[10],u[11]=f[11]-n[11],u[12]=f[12]-n[12],u[13]=f[13]-n[13],u[14]=f[14]-n[14],u[15]=f[15]-n[15],u},x.multiplyScalar=function(u,f,n){return u[0]=f[0]*n,u[1]=f[1]*n,u[2]=f[2]*n,u[3]=f[3]*n,u[4]=f[4]*n,u[5]=f[5]*n,u[6]=f[6]*n,u[7]=f[7]*n,u[8]=f[8]*n,u[9]=f[9]*n,u[10]=f[10]*n,u[11]=f[11]*n,u[12]=f[12]*n,u[13]=f[13]*n,u[14]=f[14]*n,u[15]=f[15]*n,u},x.multiplyScalarAndAdd=function(u,f,n,S){return u[0]=f[0]+n[0]*S,u[1]=f[1]+n[1]*S,u[2]=f[2]+n[2]*S,u[3]=f[3]+n[3]*S,u[4]=f[4]+n[4]*S,u[5]=f[5]+n[5]*S,u[6]=f[6]+n[6]*S,u[7]=f[7]+n[7]*S,u[8]=f[8]+n[8]*S,u[9]=f[9]+n[9]*S,u[10]=f[10]+n[10]*S,u[11]=f[11]+n[11]*S,u[12]=f[12]+n[12]*S,u[13]=f[13]+n[13]*S,u[14]=f[14]+n[14]*S,u[15]=f[15]+n[15]*S,u},x.exactEquals=function(u,f){return u[0]===f[0]&&u[1]===f[1]&&u[2]===f[2]&&u[3]===f[3]&&u[4]===f[4]&&u[5]===f[5]&&u[6]===f[6]&&u[7]===f[7]&&u[8]===f[8]&&u[9]===f[9]&&u[10]===f[10]&&u[11]===f[11]&&u[12]===f[12]&&u[13]===f[13]&&u[14]===f[14]&&u[15]===f[15]},x.equals=function(u,f){const n=u[0],S=u[1],k=u[2],M=u[3],P=u[4],$=u[5],R=u[6],B=u[7],V=u[8],j=u[9],U=u[10],q=u[11],Y=u[12],Q=u[13],te=u[14],re=u[15],oe=f[0],se=f[1],fe=f[2],ge=f[3],Ce=f[4],$e=f[5],be=f[6],ke=f[7],Ee=f[8],He=f[9],rt=f[10],ft=f[11],bt=f[12],Ye=f[13],De=f[14],at=f[15];return Math.abs(n-oe)<=g.EPSILON*Math.max(1,Math.abs(n),Math.abs(oe))&&Math.abs(S-se)<=g.EPSILON*Math.max(1,Math.abs(S),Math.abs(se))&&Math.abs(k-fe)<=g.EPSILON*Math.max(1,Math.abs(k),Math.abs(fe))&&Math.abs(M-ge)<=g.EPSILON*Math.max(1,Math.abs(M),Math.abs(ge))&&Math.abs(P-Ce)<=g.EPSILON*Math.max(1,Math.abs(P),Math.abs(Ce))&&Math.abs($-$e)<=g.EPSILON*Math.max(1,Math.abs($),Math.abs($e))&&Math.abs(R-be)<=g.EPSILON*Math.max(1,Math.abs(R),Math.abs(be))&&Math.abs(B-ke)<=g.EPSILON*Math.max(1,Math.abs(B),Math.abs(ke))&&Math.abs(V-Ee)<=g.EPSILON*Math.max(1,Math.abs(V),Math.abs(Ee))&&Math.abs(j-He)<=g.EPSILON*Math.max(1,Math.abs(j),Math.abs(He))&&Math.abs(U-rt)<=g.EPSILON*Math.max(1,Math.abs(U),Math.abs(rt))&&Math.abs(q-ft)<=g.EPSILON*Math.max(1,Math.abs(q),Math.abs(ft))&&Math.abs(Y-bt)<=g.EPSILON*Math.max(1,Math.abs(Y),Math.abs(bt))&&Math.abs(Q-Ye)<=g.EPSILON*Math.max(1,Math.abs(Q),Math.abs(Ye))&&Math.abs(te-De)<=g.EPSILON*Math.max(1,Math.abs(te),Math.abs(De))&&Math.abs(re-at)<=g.EPSILON*Math.max(1,Math.abs(re),Math.abs(at))}})(r.mat4||(r.mat4={}))},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.vec2=void 0;const g=l(7);(function(x){function C(){const u=new Float32Array(2);return u[0]=0,u[1]=0,u}x.create=C,x.clone=function(u){const f=new Float32Array(2);return f[0]=u[0],f[1]=u[1],f},x.fromValues=function(u,f){const n=new Float32Array(2);return n[0]=u,n[1]=f,n},x.copy=function(u,f){return u[0]=f[0],u[1]=f[1],u},x.set=function(u,f,n){return u[0]=f,u[1]=n,u},x.add=function(u,f,n){return u[0]=f[0]+n[0],u[1]=f[1]+n[1],u},x.subtract=function(u,f,n){return u[0]=f[0]-n[0],u[1]=f[1]-n[1],u},x.multiply=function(u,f,n){return u[0]=f[0]*n[0],u[1]=f[1]*n[1],u},x.divide=function(u,f,n){return u[0]=f[0]/n[0],u[1]=f[1]/n[1],u},x.ceil=function(u,f){return u[0]=Math.ceil(f[0]),u[1]=Math.ceil(f[1]),u},x.floor=function(u,f){return u[0]=Math.floor(f[0]),u[1]=Math.floor(f[1]),u},x.min=function(u,f,n){return u[0]=Math.min(f[0],n[0]),u[1]=Math.min(f[1],n[1]),u},x.max=function(u,f,n){return u[0]=Math.max(f[0],n[0]),u[1]=Math.max(f[1],n[1]),u},x.round=function(u,f){return u[0]=Math.round(f[0]),u[1]=Math.round(f[1]),u},x.scale=function(u,f,n){return u[0]=f[0]*n,u[1]=f[1]*n,u},x.scaleAndAdd=function(u,f,n,S){return u[0]=f[0]+n[0]*S,u[1]=f[1]+n[1]*S,u},x.distance=function(u,f){var n=f[0]-u[0],S=f[1]-u[1];return Math.hypot(n,S)},x.squaredDistance=function(u,f){var n=f[0]-u[0],S=f[1]-u[1];return n*n+S*S},x.length=function(u){var f=u[0],n=u[1];return Math.hypot(f,n)},x.squaredLength=function(u){var f=u[0],n=u[1];return f*f+n*n},x.negate=function(u,f){return u[0]=-f[0],u[1]=-f[1],u},x.inverse=function(u,f){return u[0]=1/f[0],u[1]=1/f[1],u},x.normalize=function(u,f){var n=f[0],S=f[1],k=n*n+S*S;return k>0&&(k=1/Math.sqrt(k)),u[0]=f[0]*k,u[1]=f[1]*k,u},x.dot=function(u,f){return u[0]*f[0]+u[1]*f[1]},x.cross=function(u,f,n){var S=f[0]*n[1]-f[1]*n[0];return u[0]=u[1]=0,u[2]=S,u},x.lerp=function(u,f,n,S){var k=f[0],M=f[1];return u[0]=k+S*(n[0]-k),u[1]=M+S*(n[1]-M),u},x.random=function(u,f){f=f||1;const n=2*Math.random()*Math.PI;return u[0]=Math.cos(n)*f,u[1]=Math.sin(n)*f,u},x.transformMat2=function(u,f,n){var S=f[0],k=f[1];return u[0]=n[0]*S+n[2]*k,u[1]=n[1]*S+n[3]*k,u},x.transformMat2d=function(u,f,n){var S=f[0],k=f[1];return u[0]=n[0]*S+n[2]*k+n[4],u[1]=n[1]*S+n[3]*k+n[5],u},x.transformMat3=function(u,f,n){var S=f[0],k=f[1];return u[0]=n[0]*S+n[3]*k+n[6],u[1]=n[1]*S+n[4]*k+n[7],u},x.transformMat4=function(u,f,n){const S=f[0],k=f[1];return u[0]=n[0]*S+n[4]*k+n[12],u[1]=n[1]*S+n[5]*k+n[13],u},x.rotate=function(u,f,n,S){const k=f[0]-n[0],M=f[1]-n[1],P=Math.sin(S),$=Math.cos(S);return u[0]=k*$-M*P+n[0],u[1]=k*P+M*$+n[1],u},x.angle=function(u,f){const n=u[0],S=u[1],k=f[0],M=f[1],P=Math.sqrt((n*n+S*S)*(k*k+M*M)),$=P&&(n*k+S*M)/P;return Math.acos(Math.min(Math.max($,-1),1))},x.zero=function(u){return u[0]=0,u[1]=0,u},x.str=function(u){return"vec2("+u[0]+", "+u[1]+")"},x.exactEquals=function(u,f){return u[0]===f[0]&&u[1]===f[1]},x.equals=function(u,f){const n=u[0],S=u[1],k=f[0],M=f[1];return Math.abs(n-k)<=g.EPSILON*Math.max(1,Math.abs(n),Math.abs(k))&&Math.abs(S-M)<=g.EPSILON*Math.max(1,Math.abs(S),Math.abs(M))},x.forEach=function(){const u=C();return function(f,n,S,k,M,P){let $,R;for(n||(n=2),S||(S=0),R=k?Math.min(k*n+S,f.length):f.length,$=S;$<R;$+=n)u[0]=f[$],u[1]=f[$+1],M(u,u,P),f[$]=u[0],f[$+1]=u[1];return f}}()})(r.vec2||(r.vec2={}))},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.quat=void 0;const g=l(39),x=l(40),C=l(41);(function(u){function f(){const M=new Float32Array(4);return M[0]=0,M[1]=0,M[2]=0,M[3]=1,M}function n(M,P,$){$*=.5;const R=Math.sin($);return M[0]=R*P[0],M[1]=R*P[1],M[2]=R*P[2],M[3]=Math.cos($),M}function S(M,P,$,R){const B=P[0],V=P[1],j=P[2],U=P[3];let q,Y,Q,te,re,oe=$[0],se=$[1],fe=$[2],ge=$[3];return Y=B*oe+V*se+j*fe+U*ge,Y<0&&(Y=-Y,oe=-oe,se=-se,fe=-fe,ge=-ge),1-Y>1e-6?(q=Math.acos(Y),Q=Math.sin(q),te=Math.sin((1-R)*q)/Q,re=Math.sin(R*q)/Q):(te=1-R,re=R),M[0]=te*B+re*oe,M[1]=te*V+re*se,M[2]=te*j+re*fe,M[3]=te*U+re*ge,M}function k(M,P){const $=P[0]+P[4]+P[8];let R;if($>0)R=Math.sqrt($+1),M[3]=.5*R,R=.5/R,M[0]=(P[5]-P[7])*R,M[1]=(P[6]-P[2])*R,M[2]=(P[1]-P[3])*R;else{let B=0;P[4]>P[0]&&(B=1),P[8]>P[3*B+B]&&(B=2);const V=(B+1)%3,j=(B+2)%3;R=Math.sqrt(P[3*B+B]-P[3*V+V]-P[3*j+j]+1),M[B]=.5*R,R=.5/R,M[3]=(P[3*V+j]-P[3*j+V])*R,M[V]=(P[3*V+B]+P[3*B+V])*R,M[j]=(P[3*j+B]+P[3*B+j])*R}return M}u.create=f,u.rotationTo=function(M,P,$){const R=x.vec3.create(),B=x.vec3.fromValues(1,0,0),V=x.vec3.fromValues(0,1,0),j=x.vec3.dot(P,$);return j<-.999999?(x.vec3.cross(R,B,P),x.vec3.length(R)<1e-6&&x.vec3.cross(R,V,P),x.vec3.normalize(R,R),n(M,R,Math.PI),M):j>.999999?(M[0]=0,M[1]=0,M[2]=0,M[3]=1,M):(x.vec3.cross(R,P,$),M[0]=R[0],M[1]=R[1],M[2]=R[2],M[3]=1+j,u.normalize(M,M))},u.setAxes=function(M,P,$,R){const B=g.mat3.create();return B[0]=$[0],B[3]=$[1],B[6]=$[2],B[1]=R[0],B[4]=R[1],B[7]=R[2],B[2]=-P[0],B[5]=-P[1],B[8]=-P[2],u.normalize(M,k(M,B))},u.clone=C.vec4.clone,u.fromValues=C.vec4.fromValues,u.copy=C.vec4.copy,u.set=C.vec4.set,u.identity=function(M){return M[0]=0,M[1]=0,M[2]=0,M[3]=1,M},u.setAxisAngle=n,u.getAxisAngle=function(M,P){const $=2*Math.acos(P[3]),R=Math.sin($/2);return R!==0?(M[0]=P[0]/R,M[1]=P[1]/R,M[2]=P[2]/R):(M[0]=1,M[1]=0,M[2]=0),$},u.add=C.vec4.add,u.multiply=function(M,P,$){const R=P[0],B=P[1],V=P[2],j=P[3],U=$[0],q=$[1],Y=$[2],Q=$[3];return M[0]=R*Q+j*U+B*Y-V*q,M[1]=B*Q+j*q+V*U-R*Y,M[2]=V*Q+j*Y+R*q-B*U,M[3]=j*Q-R*U-B*q-V*Y,M},u.scale=C.vec4.scale,u.rotateX=function(M,P,$){$*=.5;const R=P[0],B=P[1],V=P[2],j=P[3],U=Math.sin($),q=Math.cos($);return M[0]=R*q+j*U,M[1]=B*q+V*U,M[2]=V*q-B*U,M[3]=j*q-R*U,M},u.rotateY=function(M,P,$){$*=.5;const R=P[0],B=P[1],V=P[2],j=P[3],U=Math.sin($),q=Math.cos($);return M[0]=R*q-V*U,M[1]=B*q+j*U,M[2]=V*q+R*U,M[3]=j*q-B*U,M},u.rotateZ=function(M,P,$){$*=.5;const R=P[0],B=P[1],V=P[2],j=P[3],U=Math.sin($),q=Math.cos($);return M[0]=R*q+B*U,M[1]=B*q-R*U,M[2]=V*q+j*U,M[3]=j*q-V*U,M},u.calculateW=function(M,P){const $=P[0],R=P[1],B=P[2];return M[0]=$,M[1]=R,M[2]=B,M[3]=Math.sqrt(Math.abs(1-$*$-R*R-B*B)),M},u.dot=C.vec4.dot,u.lerp=C.vec4.lerp,u.slerp=S,u.sqlerp=function(M,P,$,R,B,V){const j=f(),U=f();return S(j,P,B,V),S(U,$,R,V),S(M,j,U,2*V*(1-V)),M},u.invert=function(M,P){const $=P[0],R=P[1],B=P[2],V=P[3],j=$*$+R*R+B*B+V*V,U=j?1/j:0;return M[0]=-$*U,M[1]=-R*U,M[2]=-B*U,M[3]=V*U,M},u.conjugate=function(M,P){return M[0]=-P[0],M[1]=-P[1],M[2]=-P[2],M[3]=P[3],M},u.length=C.vec4.length,u.squaredLength=C.vec4.squaredLength,u.normalize=C.vec4.normalize,u.fromMat3=k,u.str=function(M){return"quat("+M[0]+", "+M[1]+", "+M[2]+", "+M[3]+")"},u.exactEquals=C.vec4.exactEquals,u.equals=C.vec4.equals})(r.quat||(r.quat={}))},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.mat2=void 0;const g=l(7);(function(x){x.create=function(){const C=new Float32Array(4);return C[0]=1,C[1]=0,C[2]=0,C[3]=0,C},x.clone=function(C){const u=new Float32Array(4);return u[0]=C[0],u[1]=C[1],u[2]=C[2],u[3]=C[3],u},x.copy=function(C,u){return C[0]=u[0],C[1]=u[1],C[2]=u[2],C[3]=u[3],C},x.identity=function(C){return C[0]=1,C[1]=0,C[2]=0,C[3]=1,C},x.fromValues=function(C,u,f,n){const S=new Float32Array(4);return S[0]=C,S[1]=u,S[2]=f,S[3]=n,S},x.set=function(C,u,f,n,S){return C[0]=u,C[1]=f,C[2]=n,C[3]=S,C},x.transpose=function(C,u){if(C===u){const f=u[1];C[1]=u[2],C[2]=f}else C[0]=u[0],C[1]=u[2],C[2]=u[1],C[3]=u[3];return C},x.invert=function(C,u){const f=u[0],n=u[1],S=u[2],k=u[3];let M=f*k-S*n;return M?(M=1/M,C[0]=k*M,C[1]=-n*M,C[2]=-S*M,C[3]=f*M,C):null},x.adjoint=function(C,u){const f=u[0];return C[0]=u[3],C[1]=-u[1],C[2]=-u[2],C[3]=f,C},x.determinant=function(C){return C[0]*C[3]-C[2]*C[1]},x.multiply=function(C,u,f){const n=u[0],S=u[1],k=u[2],M=u[3],P=f[0],$=f[1],R=f[2],B=f[3];return C[0]=n*P+k*$,C[1]=S*P+M*$,C[2]=n*R+k*B,C[3]=S*R+M*B,C},x.rotate=function(C,u,f){const n=u[0],S=u[1],k=u[2],M=u[3],P=Math.sin(f),$=Math.cos(f);return C[0]=n*$+k*P,C[1]=S*$+M*P,C[2]=n*-P+k*$,C[3]=S*-P+M*$,C},x.scale=function(C,u,f){const n=u[0],S=u[1],k=u[2],M=u[3],P=f[0],$=f[1];return C[0]=n*P,C[1]=S*P,C[2]=k*$,C[3]=M*$,C},x.fromRotation=function(C,u){const f=Math.sin(u),n=Math.cos(u);return C[0]=n,C[1]=f,C[2]=-f,C[3]=n,C},x.fromScaling=function(C,u){return C[0]=u[0],C[1]=0,C[2]=0,C[3]=u[1],C},x.str=function(C){return"mat2("+C[0]+", "+C[1]+", "+C[2]+", "+C[3]+")"},x.frob=function(C){return Math.hypot(C[0],C[1],C[2],C[3])},x.LDU=function(C,u,f,n){return C[2]=n[2]/n[0],f[0]=n[0],f[1]=n[1],f[3]=n[3]-C[2]*f[1],[C,u,f]},x.add=function(C,u,f){return C[0]=u[0]+f[0],C[1]=u[1]+f[1],C[2]=u[2]+f[2],C[3]=u[3]+f[3],C},x.subtract=function(C,u,f){return C[0]=u[0]-f[0],C[1]=u[1]-f[1],C[2]=u[2]-f[2],C[3]=u[3]-f[3],C},x.exactEquals=function(C,u){return C[0]===u[0]&&C[1]===u[1]&&C[2]===u[2]&&C[3]===u[3]},x.equals=function(C,u){const f=C[0],n=C[1],S=C[2],k=C[3],M=u[0],P=u[1],$=u[2],R=u[3];return Math.abs(f-M)<=g.EPSILON*Math.max(1,Math.abs(f),Math.abs(M))&&Math.abs(n-P)<=g.EPSILON*Math.max(1,Math.abs(n),Math.abs(P))&&Math.abs(S-$)<=g.EPSILON*Math.max(1,Math.abs(S),Math.abs($))&&Math.abs(k-R)<=g.EPSILON*Math.max(1,Math.abs(k),Math.abs(R))},x.multiplyScalar=function(C,u,f){return C[0]=u[0]*f,C[1]=u[1]*f,C[2]=u[2]*f,C[3]=u[3]*f,C},x.multiplyScalarAndAdd=function(C,u,f,n){return C[0]=u[0]+f[0]*n,C[1]=u[1]+f[1]*n,C[2]=u[2]+f[2]*n,C[3]=u[3]+f[3]*n,C}})(r.mat2||(r.mat2={}))},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.mat2d=void 0;const g=l(7);(function(x){x.create=function(){const C=new Float32Array(4);return C[1]=0,C[2]=0,C[4]=0,C[5]=0,C[0]=1,C[3]=1,C},x.clone=function(C){const u=new Float32Array(6);return u[0]=C[0],u[1]=C[1],u[2]=C[2],u[3]=C[3],u[4]=C[4],u[5]=C[5],u},x.copy=function(C,u){return C[0]=u[0],C[1]=u[1],C[2]=u[2],C[3]=u[3],C[4]=u[4],C[5]=u[5],C},x.identity=function(C){return C[0]=1,C[1]=0,C[2]=0,C[3]=1,C[4]=0,C[5]=0,C},x.fromValues=function(C,u,f,n,S,k){const M=new Float32Array(6);return M[0]=C,M[1]=u,M[2]=f,M[3]=n,M[4]=S,M[5]=k,M},x.set=function(C,u,f,n,S,k,M){return C[0]=u,C[1]=f,C[2]=n,C[3]=S,C[4]=k,C[5]=M,C},x.invert=function(C,u){const f=u[0],n=u[1],S=u[2],k=u[3],M=u[4],P=u[5];let $=f*k-n*S;return $?($=1/$,C[0]=k*$,C[1]=-n*$,C[2]=-S*$,C[3]=f*$,C[4]=(S*P-k*M)*$,C[5]=(n*M-f*P)*$,C):null},x.determinant=function(C){return C[0]*C[3]-C[1]*C[2]},x.multiply=function(C,u,f){const n=u[0],S=u[1],k=u[2],M=u[3],P=u[4],$=u[5],R=f[0],B=f[1],V=f[2],j=f[3],U=f[4],q=f[5];return C[0]=n*R+k*B,C[1]=S*R+M*B,C[2]=n*V+k*j,C[3]=S*V+M*j,C[4]=n*U+k*q+P,C[5]=S*U+M*q+$,C},x.rotate=function(C,u,f){const n=u[0],S=u[1],k=u[2],M=u[3],P=u[4],$=u[5],R=Math.sin(f),B=Math.cos(f);return C[0]=n*B+k*R,C[1]=S*B+M*R,C[2]=n*-R+k*B,C[3]=S*-R+M*B,C[4]=P,C[5]=$,C},x.scale=function(C,u,f){const n=u[0],S=u[1],k=u[2],M=u[3],P=u[4],$=u[5],R=f[0],B=f[1];return C[0]=n*R,C[1]=S*R,C[2]=k*B,C[3]=M*B,C[4]=P,C[5]=$,C},x.translate=function(C,u,f){const n=u[0],S=u[1],k=u[2],M=u[3],P=u[4],$=u[5],R=f[0],B=f[1];return C[0]=n,C[1]=S,C[2]=k,C[3]=M,C[4]=n*R+k*B+P,C[5]=S*R+M*B+$,C},x.fromRotation=function(C,u){const f=Math.sin(u),n=Math.cos(u);return C[0]=n,C[1]=f,C[2]=-f,C[3]=n,C[4]=0,C[5]=0,C},x.fromScaling=function(C,u){return C[0]=u[0],C[1]=0,C[2]=0,C[3]=u[1],C[4]=0,C[5]=0,C},x.fromTranslation=function(C,u){return C[0]=1,C[1]=0,C[2]=0,C[3]=1,C[4]=u[0],C[5]=u[1],C},x.str=function(C){return"mat2d("+C[0]+", "+C[1]+", "+C[2]+", "+C[3]+", "+C[4]+", "+C[5]+")"},x.frob=function(C){return Math.hypot(C[0],C[1],C[2],C[3],C[4],C[5],1)},x.add=function(C,u,f){return C[0]=u[0]+f[0],C[1]=u[1]+f[1],C[2]=u[2]+f[2],C[3]=u[3]+f[3],C[4]=u[4]+f[4],C[5]=u[5]+f[5],C},x.subtract=function(C,u,f){return C[0]=u[0]-f[0],C[1]=u[1]-f[1],C[2]=u[2]-f[2],C[3]=u[3]-f[3],C[4]=u[4]-f[4],C[5]=u[5]-f[5],C},x.multiplyScalar=function(C,u,f){return C[0]=u[0]*f,C[1]=u[1]*f,C[2]=u[2]*f,C[3]=u[3]*f,C[4]=u[4]*f,C[5]=u[5]*f,C},x.multiplyScalarAndAdd=function(C,u,f,n){return C[0]=u[0]+f[0]*n,C[1]=u[1]+f[1]*n,C[2]=u[2]+f[2]*n,C[3]=u[3]+f[3]*n,C[4]=u[4]+f[4]*n,C[5]=u[5]+f[5]*n,C},x.exactEquals=function(C,u){return C[0]===u[0]&&C[1]===u[1]&&C[2]===u[2]&&C[3]===u[3]&&C[4]===u[4]&&C[5]===u[5]},x.equals=function(C,u){const f=C[0],n=C[1],S=C[2],k=C[3],M=C[4],P=C[5],$=u[0],R=u[1],B=u[2],V=u[3],j=u[4],U=u[5];return Math.abs(f-$)<=g.EPSILON*Math.max(1,Math.abs(f),Math.abs($))&&Math.abs(n-R)<=g.EPSILON*Math.max(1,Math.abs(n),Math.abs(R))&&Math.abs(S-B)<=g.EPSILON*Math.max(1,Math.abs(S),Math.abs(B))&&Math.abs(k-V)<=g.EPSILON*Math.max(1,Math.abs(k),Math.abs(V))&&Math.abs(M-j)<=g.EPSILON*Math.max(1,Math.abs(M),Math.abs(j))&&Math.abs(P-U)<=g.EPSILON*Math.max(1,Math.abs(P),Math.abs(U))}})(r.mat2d||(r.mat2d={}))},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.utf8ToUnicode=r.isZero=r.randomColor=r.RandomID=void 0,r.RandomID=function(g){const x="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".split("");g||(g=16);let C="";for(let u=0;u<g;u++)C+=x[Math.floor(Math.random()*x.length)];return C},r.randomColor=function(){const g=[];for(let x=0;x<3;++x){let C=Math.floor(256*Math.random()).toString(16);C=C.length===1?"0"+C:C,g.push(C)}return"#"+g.join("")},r.isZero=function(g,x){return g>=-(x=x!=null?x:1e-6)&&g<=x},r.utf8ToUnicode=function(g){let x,C,u,f="",n=g.length,S=0,k=n;for(;S<n;)if(x=g.charCodeAt(S),(128&x)==0){if(k<1)break;f+=String.fromCharCode(127&x),S++,k-=1}else if((224&x)==192){if(C=g.charCodeAt(S+1),k<2||(192&C)!=128)break;f+=String.fromCharCode((63&x)<<6|63&C),S+=2,k-=2}else{if((240&x)!=224||(C=g.charCodeAt(S+1),u=g.charCodeAt(S+2),k<3||(192&C)!=128||(192&u)!=128))break;f+=String.fromCharCode((15&x)<<12|(63&C)<<6|63&u),S+=3,k-=3}return k!=0?"":f}},function(e,r,l){var g;Object.defineProperty(r,"__esModule",{value:!0}),r.createFrameAnimation=r.FrameAnimationStatus=void 0,function(x){x[x.Run=0]="Run",x[x.Stop=1]="Stop",x[x.Pause=2]="Pause",x[x.End=3]="End"}(g=r.FrameAnimationStatus||(r.FrameAnimationStatus={})),r.createFrameAnimation=function(x,C,u){let f=null,n=g.Stop;const S=()=>{if(n!==g.Run)return x(n),void(u&&u(n));if(x(n))return n=g.End,f&&(window.cancelAnimationFrame(f),f=null),void(u&&u(n));if(C){const k=1e3/C;f=window.requestAnimationFrame(()=>{setTimeout(S,k)})}else f=window.requestAnimationFrame(S)};return{get running(){return n===g.Run},get status(){return n},stop:()=>{n!==g.Stop&&(f&&(window.cancelAnimationFrame(f),f=null),n=g.Stop,S())},start:()=>{n!==g.Run&&(n=g.Run,S())},pause:()=>{n!==g.Pause&&(n=g.Pause,S())}}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.createPolygonGeoJson=r.createLineGeoJson=r.createPointGeoJson=void 0;const g=l(2);function x(C,u){var f,n;const S={type:"FeatureCollection",features:[]};if(Array.isArray(C)){if(C.length===0)return S;const P=C[0];typeof P=="object"&&"points"in P||(C=[{points:C}])}else{if(!("points"in C))return C;C=[C]}const k=u==="Polygon";let M=!1;for(let P=0;P<C.length;P++){let $=[];const R=C[P].points;if(Array.isArray(R)&&R.length>0&&R[0].length>0&&Array.isArray(R[0][0])&&R[0][0].length>=2&&(M=!0),M)for(const U of R)U.length>0&&(g.GeoPoint.convert(U[0]).equals(g.GeoPoint.convert(U[U.length-1]))?$.push(U):$.push([...U,U[0]]));else{for(const U of R){const q=g.GeoPoint.convert(U);$.push([q.x,q.y])}k&&($.length>0&&(g.GeoPoint.convert($[0]).equals(g.GeoPoint.convert($[$.length-1]))||$.push($[0])),$=[$])}const B=(f=C[P].properties)!==null&&f!==void 0?f:{},V=(n=B.id)!==null&&n!==void 0?n:P+1;B.id=V;const j={type:"Feature",id:V,properties:B,geometry:{type:u,coordinates:$}};S.features.push(j)}return S}r.createPointGeoJson=function(C){var u,f;const n={type:"FeatureCollection",features:[]};if(Array.isArray(C)){if(C.length===0)return n;const S=C[0];typeof S=="object"&&"point"in S||(C=typeof S=="number"?[{point:C}]:C.map(k=>({point:k})))}else if("point"in C)C=[C];else{if("type"in C)return C;C=[{point:C}]}for(let S=0;S<C.length;S++){const k=g.GeoPoint.convert(C[S].point),M=(u=C[S].properties)!==null&&u!==void 0?u:{},P=(f=M.id)!==null&&f!==void 0?f:S+1;M.id=P;const $={type:"Feature",id:P,properties:M,geometry:{type:"Point",coordinates:[k.x,k.y]}};n.features.push($)}return n},r.createLineGeoJson=function(C){return x(C,"LineString")},r.createPolygonGeoJson=function(C){return x(C,"Polygon")}},function(module,exports,__webpack_require__){Object.defineProperty(exports,"__esModule",{value:!0}),exports.addScript=void 0;const service_1=__webpack_require__(19);async function addScript(scripts){"src"in scripts&&(scripts=[scripts]);const results=scripts.map(script=>new Promise((resolve,reject)=>{var _a,_b,_c;const callback=(e,r)=>{e?reject(e):resolve(r)},jsLoaded=()=>{callback(null,!0)};script.strategy||(script.strategy=document.head?"inject":"eval"),script.injectLocation||(script.injectLocation="head"),script.async||(script.async=!1);const strategy=script.strategy.toLowerCase();if(strategy==="inject"){((_a=document.querySelector(script.injectLocation))!==null&&_a!==void 0?_a:document.head)||callback(new ReferenceError("Unable to find element in document."),!1);const e=script.src,r=script.injectLocation,l=e.endsWith("css")?"stylesheet":"script";if(l==="script"){const g=document.createElement("script");g.async=script.async,g.src=e,g.addEventListener("load",()=>jsLoaded()),g.addEventListener("error",()=>callback(new Error(`Script failed to load.
`+e),!1)),g.addEventListener("abort",()=>callback(new Error(`Script aborted.
`+e),!1)),((_b=document.querySelector(r))!==null&&_b!==void 0?_b:document.head).appendChild(g)}else if(l==="stylesheet"){const g=document.createElement("link");g.rel="stylesheet",g.href=e,g.addEventListener("load",()=>jsLoaded()),g.addEventListener("error",()=>callback(new Error(`Link failed to load.
`+e),!1)),g.addEventListener("abort",()=>callback(new Error(`Link aborted.
`+e),!1)),((_c=document.querySelector(r))!==null&&_c!==void 0?_c:document.head).appendChild(g)}else callback(new TypeError("Invalid resource type specified."),!1)}else strategy==="eval"?service_1.httpHelper.get(script.src).then(res=>{try{eval(res),jsLoaded()}catch(e){callback(e,!1)}}).catch(e=>callback(e,!1)):strategy==="href"?(window.location.href||callback(new ReferenceError("Unable to find href object."),!1),service_1.httpHelper.get(script.src).then(e=>{try{window.location.href="javascript:"+encodeURIComponent(e),jsLoaded()}catch(r){callback(r,!1)}}).catch(e=>callback(e,!1))):callback(new ReferenceError(`Invalid strategy: ${script.strategy}. 
With source: ${script.src}`),!1)}));return Promise.all(results)}exports.addScript=addScript},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.openMapDarkStyle=r.Service=void 0;const g=l(99),x=l(2),C=l(44),u=l(43),f=l(0),n=l(45);r.Service=class{constructor(S,k,M){this.serverUrl="",this.accessToken="",this._reqImpl=u.httpHelper,this._svr_url_map="",this._svr_url_service="",S.slice(-1)!=="/"&&(S+="/"),this.serverUrl=S,this.accessToken=k!=null?k:"",this._svr_url_service=this.serverUrl+"service/",S.indexOf("/api")!=0&&(this._svr_url_map=this.serverUrl+"map/"),M&&typeof M.get=="function"&&typeof M.post=="function"&&typeof M.del=="function"&&(this._reqImpl=M),setTimeout(async()=>{var P,$,R,B;try{let V={};const j=this._url("activate")+"/user";if(V=await this._get(j,{}),V&&"data"in V){let U=V.data;if(U&&U.uid){let q=(P=U.uid)!==null&&P!==void 0?P:"",Y=($=U.pid)!==null&&$!==void 0?$:"",Q=(R=U.tid)!==null&&R!==void 0?R:"",te=(B=U.trial)!==null&&B!==void 0&&B,re="";typeof document=="object"&&document.title&&(re=document.title.substr(0,16));let oe=n.encryptToBase64(`u:${q}__p:${Y}__m:${Q}__r:${te}__t:${re}`);await this._get("https://vjmap.com/server/getverupdate",{id:oe})}}}catch{}},18e5)}_url(S){return`${this._svr_url_map}${S}`}serviceUrl(S){return`${this._svr_url_service}${S}`}_to_layer_string(S){return typeof S=="string"?S:Array.isArray(S)?S.length===0?"[]":JSON.stringify(S):""}_addTokenHeader(S){var k;return this.accessToken&&((S=S!=null?S:{}).headers=(k=S.headers)!==null&&k!==void 0?k:{},S.headers.Accept="application/json",S.headers["Content-Type"]="application/json",S.headers.token=this.accessToken),S}_get(S,k,M){return M=this._addTokenHeader(M),this._reqImpl.get(S,k,M)}_post(S,k,M){return M=this._addTokenHeader(M),this._reqImpl.post(S,k,M)}_del(S,k){return k=this._addTokenHeader(k),this._reqImpl.del(S,k)}toLayerIndex(S,k){const M=[];for(const P of S)M.push(k.findIndex($=>$.name===P));return M}async _waitOpenMap(S,k,M){var P,$,R,B;if(k&&"data"in k){if(this._cur_map_param=(P=k.data)!==null&&P!==void 0?P:{},this._cur_map_param.mapopenway=($=S==null?void 0:S.mapopenway)!==null&&$!==void 0?$:C.MapOpenWay.GeomRender,this._cur_map_param.darkMode=S.style&&S.style.backcolor===0,M&&this._cur_map_param.mapopenway===C.MapOpenWay.GeomRender&&((R=k.data)===null||R===void 0?void 0:R.status)==="working"){const V=await this.waitMapOpenFinish(this._cur_map_param.mapid,this._cur_map_param.version);if(!V.error)return S.version=(B=S.version)!==null&&B!==void 0?B:V.version,await this.openMap(S,!1);this._cur_map_param=Object.assign(Object.assign({},this._cur_map_param),V)}return this._cur_map_param}return k}setCurrentMapParam(S){var k;return this._cur_map_param=(k=this._cur_map_param)!==null&&k!==void 0?k:{},f.extend(this._cur_map_param,S),this.currentMapParam()}currentMapParam(){if(!this._cur_map_param)return null;let S=[],k=[];try{Array.isArray(this._cur_map_param.styles)?S=this._cur_map_param.styles:this._cur_map_param.styles&&(S=JSON.parse(this._cur_map_param.styles))}catch{}try{Array.isArray(this._cur_map_param.layers)?k=this._cur_map_param.layers:this._cur_map_param.layers&&(k=JSON.parse(this._cur_map_param.layers))}catch{}let M={};if(this._cur_map_param.initCenterX&&this._cur_map_param.initCenterY&&this._cur_map_param.bounds){let P=x.GeoBounds.fromString(this._cur_map_param.bounds),$=new x.GeoProjection(P);if(M.center=$.toLngLat([+this._cur_map_param.initCenterX,+this._cur_map_param.initCenterY]),this._cur_map_param.initZoom){let R=+this._cur_map_param.initZoom;R>=0&&R<=20&&(M.zoom=R)}this._cur_map_param.initBearing&&(M.bearing=+this._cur_map_param.initBearing)}return{mapid:this._cur_map_param.mapid,version:this._cur_map_param.version,layer:this._cur_map_param.layer,mapopenway:this._cur_map_param.geom==="true"?C.MapOpenWay.GeomRender:C.MapOpenWay.Memory,dbid:this._cur_map_param.dbid,fileid:this._cur_map_param.fileid,filename:this._cur_map_param.filename,bounds:this._cur_map_param.bounds?x.GeoBounds.fromString(this._cur_map_param.bounds):null,mapBounds:this._cur_map_param.mapBounds?x.GeoBounds.fromString(this._cur_map_param.mapBounds):null,styles:S,layers:k,status:this._cur_map_param.status,type:this._cur_map_param.type,uploadname:this._cur_map_param.uploadname,description:this._cur_map_param.description,darkMode:this._cur_map_param.darkMode,view:M}}async openMap(S,k=!0){var M,P,$,R,B,V,j,U,q,Y,Q;const te=S.mapopenway!==C.MapOpenWay.Memory;let re={};const oe=`${this._url("openmap")}/${S.mapid}`,se=!(!S.fileid&&S.filedoc),fe={version:(M=S.version)!==null&&M!==void 0?M:"",layer:(P=S.layer)!==null&&P!==void 0?P:"",geom:te,fileid:(R=($=S.fileid)!==null&&$!==void 0?$:S.filedoc)!==null&&R!==void 0?R:"",uploadname:(V=(B=S.uploadname)!==null&&B!==void 0?B:S.filename)!==null&&V!==void 0?V:"",stylename:S.style&&(j=S.style.name)!==null&&j!==void 0?j:"",layeron:S.style&&(U=this._to_layer_string(S.style.layeron))!==null&&U!==void 0?U:"",layeroff:S.style&&(q=this._to_layer_string(S.style.layeroff))!==null&&q!==void 0?q:"",clipbounds:S.style&&S.style.clipbounds?JSON.stringify(typeof S.style.clipbounds=="number"?[S.style.clipbounds,0,0,0]:S.style.clipbounds):"",bkcolor:S.style&&(Y=S.style.backcolor)!==null&&Y!==void 0?Y:"",lineweight:S.style&&S.style.lineweight?JSON.stringify(S.style.lineweight):"",expression:S.style&&(Q=S.style.expression)!==null&&Q!==void 0?Q:""};return re=se?await this._get(oe,fe):await this._post(oe,fe),await this._waitOpenMap(S,re,k)}async updateMap(S,k=!0){var M,P,$,R,B,V,j,U,q,Y;let Q={};const te=`${this._url("updatemap")}/${S.mapid}`,re=!(!S.fileid&&S.filedoc),oe={geom:S.mapopenway!==C.MapOpenWay.Memory,fileid:(P=(M=S.fileid)!==null&&M!==void 0?M:S.filedoc)!==null&&P!==void 0?P:"",uploadname:(R=($=S.uploadname)!==null&&$!==void 0?$:S.filename)!==null&&R!==void 0?R:"",stylename:S.style&&(B=S.style.name)!==null&&B!==void 0?B:"",layeron:S.style&&(V=this._to_layer_string(S.style.layeron))!==null&&V!==void 0?V:"",layeroff:S.style&&(j=this._to_layer_string(S.style.layeroff))!==null&&j!==void 0?j:"",clipbounds:S.style&&S.style.clipbounds?JSON.stringify(typeof S.style.clipbounds=="number"?[S.style.clipbounds,0,0,0]:S.style.clipbounds):"",bkcolor:S.style&&(U=S.style.backcolor)!==null&&U!==void 0?U:"",lineweight:S.style&&S.style.lineweight?JSON.stringify(S.style.lineweight):"",expression:S.style&&(q=S.style.expression)!==null&&q!==void 0?q:"",deleteOldVersion:(Y=S.deleteOldVersion)!==null&&Y!==void 0&&Y};return Q=re?await this._get(te,oe):await this._post(te,oe),await this._waitOpenMap(S,Q,k)}glyphsUrl(){return`${this._svr_url_service}fonts/{fontstack}/{range}.pbf?token=${this.accessToken}`}baseUrl(){let S=this._svr_url_service,k=S.indexOf("api/");return k>0&&(S=S.substr(0,k)),S}spriteUrl(S){return`${this.baseUrl()}sprite/${S}`}setSprite(S){return this._spriteUrl="",S.indexOf(":")>0?this._spriteUrl=S:this._spriteUrl=this.spriteUrl(S),this._spriteUrl}blankTileUrl(){return`${this._svr_url_service}map/tile/blank?token=${this.accessToken}`}rasterTileUrl(S={}){var k,M,P,$,R,B,V,j,U,q;const Y=(k=S==null?void 0:S.mapid)!==null&&k!==void 0?k:(M=this._cur_map_param)===null||M===void 0?void 0:M.mapid,Q=(R=(P=S==null?void 0:S.version)!==null&&P!==void 0?P:($=this._cur_map_param)===null||$===void 0?void 0:$.version)!==null&&R!==void 0?R:"v1",te=(B=S==null?void 0:S.layer)!==null&&B!==void 0?B:(V=this._cur_map_param)===null||V===void 0?void 0:V.layer,re=(q=(j=S==null?void 0:S.fileid)!==null&&j!==void 0?j:(U=this._cur_map_param)===null||U===void 0?void 0:U.fileid)!==null&&q!==void 0?q:"";return`${this._url("tile")}/${Y}/${Q}/${te}/{z}/{x}/{y}?tag=${re}&token=${this.accessToken}`}vectorTileUrl(S={}){var k,M,P,$,R,B,V,j,U,q,Y;const Q=(k=S==null?void 0:S.mapid)!==null&&k!==void 0?k:(M=this._cur_map_param)===null||M===void 0?void 0:M.mapid,te=(R=(P=S==null?void 0:S.version)!==null&&P!==void 0?P:($=this._cur_map_param)===null||$===void 0?void 0:$.version)!==null&&R!==void 0?R:"v1",re=(j=(B=S==null?void 0:S.layer)!==null&&B!==void 0?B:(V=this._cur_map_param)===null||V===void 0?void 0:V.layer)!==null&&j!==void 0?j:"main",oe=(Y=(U=S==null?void 0:S.fileid)!==null&&U!==void 0?U:(q=this._cur_map_param)===null||q===void 0?void 0:q.fileid)!==null&&Y!==void 0?Y:"";return`${this._url("tile")}/${Q}/${te}/${re}/{z}/{x}/{y}.mvt?tag=${oe}&token=${this.accessToken}`}async checkFileHasUpload(S){const k=await this._get(this._url("mapfile"),{md5:S});return k&&"data"in k?k.data:k}uploadUrl(){return this._url("uploads")+"?token="+this.accessToken}strMd5(S){return g.hash(S)}styleVersion(){return 8}fileMd5(S){return new Promise((k,M)=>{const P=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice,$=Math.ceil(S.size/2097152);let R=0;const B=new g.ArrayBuffer,V=new FileReader;function j(){var U=2097152*R,q=U+2097152>=S.size?S.size:U+2097152;V.readAsArrayBuffer(P.call(S,U,q))}V.onload=function(U){if(B.append(U.target.result),R++,R<$)j();else{var q=B.end();k(q)}},V.onerror=function(){M("file reader error")},j()})}uploadMap(S){return new Promise(async(k,M)=>{try{const R=await this.fileMd5(S),B=await this.checkFileHasUpload(R);if(B.result===!0)B.uploadname=S.name,k(B);else{var P=new FormData;P.append("fileToUpload",S);var $=new XMLHttpRequest;$.addEventListener("load",V=>{const j=JSON.parse(V.target.responseText);j&&j.uploadname&&(j.uploadname=S.name),k(j)},!1),$.addEventListener("error",V=>M(V),!1),$.addEventListener("abort",V=>M(V),!1),$.open("POST",this.uploadUrl()),$.send(P)}}catch(R){M(R)}})}async execCommand(S,k,M,P,$){var R,B,V,j;if(M=M!=null?M:(R=this._cur_map_param)===null||R===void 0?void 0:R.mapid,P=(V=P!=null?P:(B=this._cur_map_param)===null||B===void 0?void 0:B.version)!==null&&V!==void 0?V:"v1",!["listmaps"].includes(S)){const Y=((j=this._cur_map_param)===null||j===void 0?void 0:j.geom)==="true";!k||"geom"in k&&k.geom!==void 0||(k.geom=Y)}let U={};const q=`${this._url("cmd")}/${S}/${M}/${P}`;return U=$===!0?await this._get(q,k):await this._post(q,k),U&&"data"in U?U.data:U}async metadata(S,k){var M,P,$;S=S!=null?S:(M=this._cur_map_param)===null||M===void 0?void 0:M.mapid,k=($=k!=null?k:(P=this._cur_map_param)===null||P===void 0?void 0:P.version)!==null&&$!==void 0?$:"v1";const R=await this.execCommand("metadata",{},S,k,!0);if(R.styles)try{R.styles=JSON.parse(R.styles)}catch{}if(R.layers)try{R.layers=JSON.parse(R.layers)}catch{}return R}async listMaps(S="_",k="_"){S=S||"_",k=k||"_";const M=await this.execCommand("listmaps",{},S,k,!0);if(S!=="_"){const P=M[S];return k!=="*"&&Array.isArray(P)&&P.length===1?P[0]:P}return M}waitMapOpenFinish(S,k,M=5,P=120){return new Promise(async($,R)=>{if(S==="_"||S===""||k==="*")return void $({error:"param error, mapid is empty",status:"error"});let B=1,V=!1;const j=setInterval(async()=>{try{if(V)return;if(B++,B>=P)return clearInterval(j),void $({error:"try max times",status:"error"});V=!0;const U=await this.listMaps(S,k);if(V=!1,U.geom!==!0)return clearInterval(j),void $({error:"is not GeomRender type map",status:"error",version:U.version});if(U.status==="runerror"||U.status==="error")return clearInterval(j),void $({error:U.errmsg,status:"error",version:U.version});U.status==="finish"&&(clearInterval(j),$({status:"finish",version:U.version}))}catch(U){clearInterval(j),$({error:U,status:"error"})}},1e3*M)})}_processQueryResult(S){const k=S.result,M=S.isgeocoord;let P=null,$=null;const R=this.currentMapParam();if(R&&(P=new x.GeoProjection(R.bounds),!M&&R.mapBounds&&($=new x.GeoProjection(R.mapBounds))),k&&k.length>0)for(let B=0;B<k.length;B++){if(!k[B].geojson)continue;const V=k[B],j=JSON.parse(V.geojson);let U=!1;for(const q in j.geometries)if(Array.isArray(j.geometries[q]))for(const Y in j.geometries[q]){const Q=j.geometries[q][Y];for(const te in Q)M?P&&(Q[te]=P.toLngLat([Q[te][0],Q[te][1]])):Q[te]=$&&P?P.toLngLat($.fromMercator([Q[te][0],Q[te][1]])):x.Projection.mercator2LngLat([Q[te][0],Q[te][1]])}else if(j.geometries[q].type==="Polygon")for(let Y=0;Y<j.geometries[q].coordinates.length;Y++){const Q=j.geometries[q].coordinates[Y];for(const te in Q)M?P&&(Q[te]=P.toLngLat([Q[te][0],Q[te][1]])):Q[te]=$&&P?P.toLngLat($.fromMercator([Q[te][0],Q[te][1]])):x.Projection.mercator2LngLat([Q[te][0],Q[te][1]])}else{U=!0;const Y=j.geometries[q].coordinates;for(const Q in Y)M?P&&(Y[Q]=P.toLngLat([Y[Q][0],Y[Q][1]])):Y[Q]=$&&P?P.toLngLat($.fromMercator([Y[Q][0],Y[Q][1]])):x.Projection.mercator2LngLat([Y[Q][0],Y[Q][1]])}!U&&V.isEnvelop&&(U=!0),S.result[B].geom=j,S.result[B].isline=U}return S}async pointQueryFeature(S){var k,M,P,$,R,B,V,j,U,q;const Y=await this.execCommand("queryFeatures",{querytype:"point",zoom:(k=S.zoom)!==null&&k!==void 0?k:1,pixelToGeoLength:(M=S.pixelToGeoLength)!==null&&M!==void 0?M:void 0,layername:(P=S==null?void 0:S.layer)!==null&&P!==void 0?P:($=this._cur_map_param)===null||$===void 0?void 0:$.layer,x:S.x,y:S.y,pixelsize:(R=S.pixelsize)!==null&&R!==void 0?R:5,maxReturnCount:(B=S.limit)!==null&&B!==void 0?B:void 0,maxGeomBytesSize:(V=S.maxGeomBytesSize)!==null&&V!==void 0?V:void 0,fields:(j=S.fields)!==null&&j!==void 0?j:"",geom:(U=S.geom)!==null&&U!==void 0?U:void 0,simplifyTolerance:(q=S.simplifyTolerance)!==null&&q!==void 0?q:void 0},S.mapid,S.version);return this._processQueryResult(Y)}async rectQueryFeature(S){var k,M,P,$,R,B,V,j;const U=await this.execCommand("queryFeatures",{querytype:"rect",zoom:(k=S.zoom)!==null&&k!==void 0?k:1,layername:(M=S==null?void 0:S.layer)!==null&&M!==void 0?M:(P=this._cur_map_param)===null||P===void 0?void 0:P.layer,x1:S.x1,y1:S.y1,x2:S.x2,y2:S.y2,maxReturnCount:($=S.limit)!==null&&$!==void 0?$:void 0,maxGeomBytesSize:(R=S.maxGeomBytesSize)!==null&&R!==void 0?R:void 0,fields:(B=S.fields)!==null&&B!==void 0?B:"",geom:(V=S.geom)!==null&&V!==void 0?V:void 0,simplifyTolerance:(j=S.simplifyTolerance)!==null&&j!==void 0?j:void 0},S.mapid,S.version);return this._processQueryResult(U)}async exprQueryFeature(S){var k,M,P,$,R,B,V,j,U;const q=await this.execCommand("queryFeatures",{querytype:"expresion",zoom:(k=S.zoom)!==null&&k!==void 0?k:1,layername:(M=S==null?void 0:S.layer)!==null&&M!==void 0?M:(P=this._cur_map_param)===null||P===void 0?void 0:P.layer,expr:S.expr,beginpos:S.beginpos,maxReturnCount:($=S.limit)!==null&&$!==void 0?$:void 0,limit:(R=S.limit)!==null&&R!==void 0?R:void 0,fields:(B=S.fields)!==null&&B!==void 0?B:"",useCache:(V=S.useCache)!==null&&V!==void 0&&V,geom:(j=S.geom)!==null&&j!==void 0?j:void 0,simplifyTolerance:(U=S.simplifyTolerance)!==null&&U!==void 0?U:void 0},S.mapid,S.version);return this._processQueryResult(q)}async conditionQueryFeature(S){var k,M,P,$,R,B,V,j,U,q,Y;const Q=await this.execCommand("queryFeatures",{querytype:"condition",zoom:(k=S.zoom)!==null&&k!==void 0?k:1,layername:(M=S==null?void 0:S.layer)!==null&&M!==void 0?M:(P=this._cur_map_param)===null||P===void 0?void 0:P.layer,condition:S.condition,beginpos:S.beginpos,maxReturnCount:($=S.limit)!==null&&$!==void 0?$:void 0,limit:(R=S.limit)!==null&&R!==void 0?R:void 0,includegeom:(B=S.includegeom)!==null&&B!==void 0?B:void 0,realgeom:(V=S.realgeom)!==null&&V!==void 0?V:void 0,isContains:(j=S.isContains)!==null&&j!==void 0?j:void 0,fields:(U=S.fields)!==null&&U!==void 0?U:"",bounds:S.bounds?JSON.stringify(S.bounds):"",geom:(q=S.geom)!==null&&q!==void 0?q:void 0,simplifyTolerance:(Y=S.simplifyTolerance)!==null&&Y!==void 0?Y:void 0},S.mapid,S.version);return this._processQueryResult(Q)}getMapLayers(){var S;let k=(S=this._cur_map_param)===null||S===void 0?void 0:S.layers;if(!k)throw Error("\u8C03\u7528\u6B64\u51FD\u6570\u524D\uFF0C\u8BF7\u786E\u4FDD\u5DF2\u901A\u8FC7 openMap \u51FD\u6570\u6253\u5F00\u4E86\u5730\u56FE\u3002");k=JSON.parse(k);const M=[];for(const P of k)M.push({name:P.name,color:P.color,index:P.index,isFrozen:P.isFrozen,isLocked:P.isLocked,isOff:P.isOff,lineWeight:P.lineWeight});return M}async cmdSwitchLayers(S){const k=this.currentMapParam(),M=k&&k.darkMode,P=await this.execCommand("switchlayer",{visibleLayer:S,darkMode:M});return this._cur_map_param&&(this._cur_map_param.layer=P.layerid),P}async cmdUpdateStyle(S){var k,M,P,$,R,B,V,j,U,q,Y;const Q=await this.execCommand("updateStyle",{stylename:S&&(k=S.name)!==null&&k!==void 0?k:"",layeron:S&&(M=this._to_layer_string(S.layeron))!==null&&M!==void 0?M:"",layeroff:S&&(P=this._to_layer_string(S.layeroff))!==null&&P!==void 0?P:"",clipbounds:S&&S.clipbounds?JSON.stringify(typeof S.clipbounds=="number"?[S.clipbounds,0,0,0]:S.clipbounds):"",bkcolor:S&&($=S.backcolor)!==null&&$!==void 0?$:"",lineweight:S&&S.lineweight?JSON.stringify(S.lineweight):"",expression:S&&(R=S.expression)!==null&&R!==void 0?R:""},(B=S.mapid)!==null&&B!==void 0?B:(V=this._cur_map_param)===null||V===void 0?void 0:V.mapid,(q=(j=S.version)!==null&&j!==void 0?j:(U=this._cur_map_param)===null||U===void 0?void 0:U.version)!==null&&q!==void 0?q:"v1");return this._cur_map_param&&(this._cur_map_param.layer=Q.layerid),S.mapid&&S.mapid!=((Y=this._cur_map_param)===null||Y===void 0?void 0:Y.mapid)||S.backcolor!==void 0&&(this._cur_map_param.darkMode=S.backcolor===0),Q}async cmdSliceLayer(S){var k,M,P,$,R,B,V;return await this.execCommand("slicelayer",{layer:(k=S==null?void 0:S.layer)!==null&&k!==void 0?k:(M=this._cur_map_param)===null||M===void 0?void 0:M.layer,zoom:S.zoom,ismvt:S.ismvt,iscancel:S.iscancel},(P=S.mapid)!==null&&P!==void 0?P:($=this._cur_map_param)===null||$===void 0?void 0:$.mapid,(V=(R=S.version)!==null&&R!==void 0?R:(B=this._cur_map_param)===null||B===void 0?void 0:B.version)!==null&&V!==void 0?V:"v1")}async createStyle(S,k,M,P){var $,R,B;return P=P==null||P,k=k!=null?k:($=this._cur_map_param)===null||$===void 0?void 0:$.mapid,M=(B=M!=null?M:(R=this._cur_map_param)===null||R===void 0?void 0:R.version)!==null&&B!==void 0?B:"v1",await this.execCommand("createMapStyle",Object.assign({geom:P},S),k,M)}async getStyleLayerName(S,k,M,P){let $=await this.metadata(S,k);if(!P){M=M==null||M;for(let R=0;R<$.styles.length;R++)if($.styles[R].isgeom==M&&$.styles[R].issys)return $.styles[R].layername;for(let R=0;R<$.styles.length;R++)if($.styles[R].isgeom==M)return $.styles[R].layername;return $.styles.length>0?$.styles[0].layername:""}for(let R=0;R<$.styles.length;R++)if($.styles[R].name==P)return $.styles[R].layername}thumbnailUrl(S,k,M,P){var $,R,B;return S=S!=null?S:($=this._cur_map_param)===null||$===void 0?void 0:$.mapid,k=(B=k!=null?k:(R=this._cur_map_param)===null||R===void 0?void 0:R.version)!==null&&B!==void 0?B:"v1",M=M!=null?M:100,P=P!=null?P:100,`${this._url("cmd")}/thumbnail/${S}/${k}/?width=${M}&height=${P}&token=${this.accessToken}`}wmsTileUrl(S){var k,M,P,$,R,B,V,j,U,q,Y,Q,te,re,oe;const se=(k=S.mapid)!==null&&k!==void 0?k:(M=this._cur_map_param)===null||M===void 0?void 0:M.mapid,fe=(R=(P=S.version)!==null&&P!==void 0?P:($=this._cur_map_param)===null||$===void 0?void 0:$.version)!==null&&R!==void 0?R:"v1",ge=(B=S.layers)!==null&&B!==void 0?B:(V=this._cur_map_param)===null||V===void 0?void 0:V.layer,Ce=(j=S.bbox)!==null&&j!==void 0?j:"{bbox-epsg-3857}",$e=(U=S.srs)!==null&&U!==void 0?U:"EPSG:3857",be=(q=S.crs)!==null&&q!==void 0?q:"",ke=(Y=S.mapbounds)!==null&&Y!==void 0?Y:"",Ee=(Q=S.width)!==null&&Q!==void 0?Q:256,He=(te=S.height)!==null&&te!==void 0?te:256,rt=(re=S.transparent)===null||re===void 0||re,ft=(oe=S.fourParameter)!==null&&oe!==void 0?oe:"",bt=S.mvt===!0?".mvt":"";return`${this._url("cmd")}/wms/${se}/${fe}${bt}?bbox=${Ce}&mapbounds=${ke}&format=image/png&service=WMS&version=1.1.1&request=GetMap&srs=${$e}&transparent=${rt}&width=${Ee}&height=${He}&layers=${ge}&crs=${be}&fourParameter=${ft}&token=${this.accessToken}`}async cmdDeleteMap(S,k){return await this.execCommand("deletemap",{},S,k)}async cmdClearMapCache(S,k){return await this.execCommand("clearCacheTiles",{},S,k)}async cmdDeleteStyle(S){var k,M,P,$,R,B,V;const j=(k=S.mapid)!==null&&k!==void 0?k:(M=this._cur_map_param)===null||M===void 0?void 0:M.mapid,U=(R=(P=S.version)!==null&&P!==void 0?P:($=this._cur_map_param)===null||$===void 0?void 0:$.version)!==null&&R!==void 0?R:"v1";return await this.execCommand("deletestyle",{styleid:(B=S.styleid)!==null&&B!==void 0?B:"",onlycleardata:(V=S.onlycleardata)!==null&&V!==void 0&&V},j,U)}async cmdDeleteCache(S){var k,M,P,$,R,B;const V=(k=S.mapid)!==null&&k!==void 0?k:(M=this._cur_map_param)===null||M===void 0?void 0:M.mapid,j=(R=(P=S.version)!==null&&P!==void 0?P:($=this._cur_map_param)===null||$===void 0?void 0:$.version)!==null&&R!==void 0?R:"v1";return await this.execCommand("deletecache",{key:(B=S.key)!==null&&B!==void 0?B:""},V,j)}async cmdRunStatus(S){return await this.execCommand("runstatus",{detail:S!=null&&S})}async getConstData(){return this._constdata||(this._constdata=await this.execCommand("constData",{})),this._constdata}rasterBlankStyle(S,k,M){const P=M!=null?M:"rasterBlank";return this.rasterStyle(this.blankTileUrl(),S,k,P)}rasterLayerId(S){return(S!=null?S:"raster")+"-layer"}rasterSourceId(S){return(S!=null?S:"raster")+"-source"}rasterStyle(S,k,M,P){const $=P!=null?P:"raster";S=S!=null?S:this.rasterTileUrl();let R={};return this._spriteUrl&&(R.sprite=this._spriteUrl),Object.assign({version:8,sources:{[$+"-source"]:{type:"raster",tiles:[S],tileSize:256,minzoom:k!=null?k:0,maxzoom:M!=null?M:24}},glyphs:this.glyphsUrl(),layers:[{id:$+"-layer",type:"raster",source:$+"-source",minzoom:k!=null?k:0,maxzoom:M!=null?M:24,layout:{visibility:"visible"}}]},R)}vectorStyle(S,k,M,P,$,R,B,V,j,U){var q;let Y=1;if(typeof S=="object"){let $e=Object.assign({},S);k=$e.minzoom,M=$e.maxzoom,P=$e.prefix,$=$e.hoverColor,R=$e.hoverOpacity,B=$e.hoverLineWidth,V=$e.customColorCaseExpr,j=$e.customOpacityCaseExpr,U=$e.customLineWidthCaseExpr,S=$e.tileUrl,Y=(q=$e.hoverLineBlur)!==null&&q!==void 0?q:Y}const Q=P!=null?P:"vector";S=S!=null?S:this.vectorTileUrl(),V=V!=null?V:[],j=j!=null?j:[],U=U!=null?U:[];const te=this.currentMapParam(),re=te&&te.darkMode,oe=["case",["==",["get","color"],"#757675"],re?"#FFFFFF":"#000000",["get","color"]];let se=re?[220,220,220]:[20,20,20],fe=V.length>0?["case",...V,oe]:oe;const ge=["case",["boolean",["feature-state","hover"],!1],$=$!=null?$:["let","rgba",["to-rgba",["to-color",fe]],["let","r",["at",0,["var","rgba"]],"g",["at",1,["var","rgba"]],"b",["at",2,["var","rgba"]],"a",["at",3,["var","rgba"]],["let","desat_r",["+",["*",.5,se[0]],["*",["-",1,.5],["var","r"]]],"desat_g",["+",["*",.5,se[1]],["*",["-",1,.5],["var","g"]]],"desat_b",["+",["*",.5,se[2]],["*",["-",1,.5],["var","b"]]],["rgba",["var","desat_r"],["var","desat_g"],["var","desat_b"],["var","a"]]]]],...V,oe];let Ce={};return this._spriteUrl&&(Ce.sprite=this._spriteUrl),Object.assign(Object.assign({version:8,sources:{[Q+"-source"]:{type:"vector",tiles:[S],maxzoom:M!=null?M:25,minzoom:k!=null?k:0}},glyphs:this.glyphsUrl()},Ce),{layers:[{id:Q+"-layer-polygons-border",type:"line",source:Q+"-source","source-layer":"polygons",paint:{"line-color":ge,"line-opacity":["case",["boolean",["feature-state","hover"],!1],R!=null?R:.9,...j,["case",["has","alpha"],["get","alpha"],1]],"line-width":["case",["boolean",["feature-state","hover"],!1],B!=null?B:4,1]}},{id:Q+"-layer-polygons",type:"fill",source:Q+"-source","source-layer":"polygons",paint:{"fill-color":ge,"fill-antialias":!1,"fill-outline-color":ge,"fill-opacity":["case",["boolean",["feature-state","hover"],!1],R!=null?R:.9,...j,["case",["has","alpha"],["get","alpha"],1]]},layout:{}},{id:Q+"-layer-lines",type:"line",source:Q+"-source","source-layer":"lines",layout:{"line-cap":"round"},paint:{"line-color":ge,"line-blur":["case",["boolean",["feature-state","hover"],!1],Y!=null?Y:1,0],"line-opacity":["case",["boolean",["feature-state","hover"],!1],R!=null?R:.9,...j,["case",["has","alpha"],["get","alpha"],1]],"line-width":["case",["boolean",["feature-state","hover"],!1],B!=null?B:4,...U,["case",["has","linewidth"],["get","linewidth"],1]]}},{id:Q+"-layer-points",type:"circle",source:Q+"-source","source-layer":"points",paint:{"circle-radius":["case",["boolean",["feature-state","hover"],!1],4,...U,1],"circle-color":ge,"circle-stroke-color":ge}}]})}async getFontsCapacity(){let S={};const k=this.serviceUrl("capacity/fonts");return S=await this._get(k,{}),S&&"data"in S?S.data:S}async clearCache(S=""){let k={};const M=this.serviceUrl("clearCache");return k=await this._get(M,{prefix:S}),k&&"data"in k?k.data:k}webMapUrl(S){S.tileUrl=encodeURIComponent(S.tileUrl);const k=Object.keys(S).reduce((M,P)=>M+P+"="+S[P]+"&","");return`${this._svr_url_service}map/tile/web/{z}/{x}/{y}?${k}token=${this.accessToken}`}},r.openMapDarkStyle=function(){return{backcolor:0}}},function(e,r,l){e.exports=function(g){var x=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function C(R,B){var V=R[0],j=R[1],U=R[2],q=R[3];j=((j+=((U=((U+=((q=((q+=((V=((V+=(j&U|~j&q)+B[0]-680876936|0)<<7|V>>>25)+j|0)&j|~V&U)+B[1]-389564586|0)<<12|q>>>20)+V|0)&V|~q&j)+B[2]+606105819|0)<<17|U>>>15)+q|0)&q|~U&V)+B[3]-1044525330|0)<<22|j>>>10)+U|0,j=((j+=((U=((U+=((q=((q+=((V=((V+=(j&U|~j&q)+B[4]-176418897|0)<<7|V>>>25)+j|0)&j|~V&U)+B[5]+1200080426|0)<<12|q>>>20)+V|0)&V|~q&j)+B[6]-1473231341|0)<<17|U>>>15)+q|0)&q|~U&V)+B[7]-45705983|0)<<22|j>>>10)+U|0,j=((j+=((U=((U+=((q=((q+=((V=((V+=(j&U|~j&q)+B[8]+1770035416|0)<<7|V>>>25)+j|0)&j|~V&U)+B[9]-1958414417|0)<<12|q>>>20)+V|0)&V|~q&j)+B[10]-42063|0)<<17|U>>>15)+q|0)&q|~U&V)+B[11]-1990404162|0)<<22|j>>>10)+U|0,j=((j+=((U=((U+=((q=((q+=((V=((V+=(j&U|~j&q)+B[12]+1804603682|0)<<7|V>>>25)+j|0)&j|~V&U)+B[13]-40341101|0)<<12|q>>>20)+V|0)&V|~q&j)+B[14]-1502002290|0)<<17|U>>>15)+q|0)&q|~U&V)+B[15]+1236535329|0)<<22|j>>>10)+U|0,j=((j+=((U=((U+=((q=((q+=((V=((V+=(j&q|U&~q)+B[1]-165796510|0)<<5|V>>>27)+j|0)&U|j&~U)+B[6]-1069501632|0)<<9|q>>>23)+V|0)&j|V&~j)+B[11]+643717713|0)<<14|U>>>18)+q|0)&V|q&~V)+B[0]-373897302|0)<<20|j>>>12)+U|0,j=((j+=((U=((U+=((q=((q+=((V=((V+=(j&q|U&~q)+B[5]-701558691|0)<<5|V>>>27)+j|0)&U|j&~U)+B[10]+38016083|0)<<9|q>>>23)+V|0)&j|V&~j)+B[15]-660478335|0)<<14|U>>>18)+q|0)&V|q&~V)+B[4]-405537848|0)<<20|j>>>12)+U|0,j=((j+=((U=((U+=((q=((q+=((V=((V+=(j&q|U&~q)+B[9]+568446438|0)<<5|V>>>27)+j|0)&U|j&~U)+B[14]-1019803690|0)<<9|q>>>23)+V|0)&j|V&~j)+B[3]-187363961|0)<<14|U>>>18)+q|0)&V|q&~V)+B[8]+1163531501|0)<<20|j>>>12)+U|0,j=((j+=((U=((U+=((q=((q+=((V=((V+=(j&q|U&~q)+B[13]-1444681467|0)<<5|V>>>27)+j|0)&U|j&~U)+B[2]-51403784|0)<<9|q>>>23)+V|0)&j|V&~j)+B[7]+1735328473|0)<<14|U>>>18)+q|0)&V|q&~V)+B[12]-1926607734|0)<<20|j>>>12)+U|0,j=((j+=((U=((U+=((q=((q+=((V=((V+=(j^U^q)+B[5]-378558|0)<<4|V>>>28)+j|0)^j^U)+B[8]-2022574463|0)<<11|q>>>21)+V|0)^V^j)+B[11]+1839030562|0)<<16|U>>>16)+q|0)^q^V)+B[14]-35309556|0)<<23|j>>>9)+U|0,j=((j+=((U=((U+=((q=((q+=((V=((V+=(j^U^q)+B[1]-1530992060|0)<<4|V>>>28)+j|0)^j^U)+B[4]+1272893353|0)<<11|q>>>21)+V|0)^V^j)+B[7]-155497632|0)<<16|U>>>16)+q|0)^q^V)+B[10]-1094730640|0)<<23|j>>>9)+U|0,j=((j+=((U=((U+=((q=((q+=((V=((V+=(j^U^q)+B[13]+681279174|0)<<4|V>>>28)+j|0)^j^U)+B[0]-358537222|0)<<11|q>>>21)+V|0)^V^j)+B[3]-722521979|0)<<16|U>>>16)+q|0)^q^V)+B[6]+76029189|0)<<23|j>>>9)+U|0,j=((j+=((U=((U+=((q=((q+=((V=((V+=(j^U^q)+B[9]-640364487|0)<<4|V>>>28)+j|0)^j^U)+B[12]-421815835|0)<<11|q>>>21)+V|0)^V^j)+B[15]+530742520|0)<<16|U>>>16)+q|0)^q^V)+B[2]-995338651|0)<<23|j>>>9)+U|0,j=((j+=((q=((q+=(j^((V=((V+=(U^(j|~q))+B[0]-198630844|0)<<6|V>>>26)+j|0)|~U))+B[7]+1126891415|0)<<10|q>>>22)+V|0)^((U=((U+=(V^(q|~j))+B[14]-1416354905|0)<<15|U>>>17)+q|0)|~V))+B[5]-57434055|0)<<21|j>>>11)+U|0,j=((j+=((q=((q+=(j^((V=((V+=(U^(j|~q))+B[12]+1700485571|0)<<6|V>>>26)+j|0)|~U))+B[3]-1894986606|0)<<10|q>>>22)+V|0)^((U=((U+=(V^(q|~j))+B[10]-1051523|0)<<15|U>>>17)+q|0)|~V))+B[1]-2054922799|0)<<21|j>>>11)+U|0,j=((j+=((q=((q+=(j^((V=((V+=(U^(j|~q))+B[8]+1873313359|0)<<6|V>>>26)+j|0)|~U))+B[15]-30611744|0)<<10|q>>>22)+V|0)^((U=((U+=(V^(q|~j))+B[6]-1560198380|0)<<15|U>>>17)+q|0)|~V))+B[13]+1309151649|0)<<21|j>>>11)+U|0,j=((j+=((q=((q+=(j^((V=((V+=(U^(j|~q))+B[4]-145523070|0)<<6|V>>>26)+j|0)|~U))+B[11]-1120210379|0)<<10|q>>>22)+V|0)^((U=((U+=(V^(q|~j))+B[2]+718787259|0)<<15|U>>>17)+q|0)|~V))+B[9]-343485551|0)<<21|j>>>11)+U|0,R[0]=V+R[0]|0,R[1]=j+R[1]|0,R[2]=U+R[2]|0,R[3]=q+R[3]|0}function u(R){var B,V=[];for(B=0;B<64;B+=4)V[B>>2]=R.charCodeAt(B)+(R.charCodeAt(B+1)<<8)+(R.charCodeAt(B+2)<<16)+(R.charCodeAt(B+3)<<24);return V}function f(R){var B,V=[];for(B=0;B<64;B+=4)V[B>>2]=R[B]+(R[B+1]<<8)+(R[B+2]<<16)+(R[B+3]<<24);return V}function n(R){var B,V,j,U,q,Y,Q=R.length,te=[1732584193,-271733879,-1732584194,271733878];for(B=64;B<=Q;B+=64)C(te,u(R.substring(B-64,B)));for(V=(R=R.substring(B-64)).length,j=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B=0;B<V;B+=1)j[B>>2]|=R.charCodeAt(B)<<(B%4<<3);if(j[B>>2]|=128<<(B%4<<3),B>55)for(C(te,j),B=0;B<16;B+=1)j[B]=0;return U=(U=8*Q).toString(16).match(/(.*?)(.{0,8})$/),q=parseInt(U[2],16),Y=parseInt(U[1],16)||0,j[14]=q,j[15]=Y,C(te,j),te}function S(R){var B,V="";for(B=0;B<4;B+=1)V+=x[R>>8*B+4&15]+x[R>>8*B&15];return V}function k(R){var B;for(B=0;B<R.length;B+=1)R[B]=S(R[B]);return R.join("")}function M(R){return/[\u0080-\uFFFF]/.test(R)&&(R=unescape(encodeURIComponent(R))),R}function P(R){var B,V=[],j=R.length;for(B=0;B<j-1;B+=2)V.push(parseInt(R.substr(B,2),16));return String.fromCharCode.apply(String,V)}function $(){this.reset()}return k(n("hello")),typeof ArrayBuffer=="undefined"||ArrayBuffer.prototype.slice||function(){function R(B,V){return(B=0|B||0)<0?Math.max(B+V,0):Math.min(B,V)}ArrayBuffer.prototype.slice=function(B,V){var j,U,q,Y,Q=this.byteLength,te=R(B,Q),re=Q;return V!==g&&(re=R(V,Q)),te>re?new ArrayBuffer(0):(j=re-te,U=new ArrayBuffer(j),q=new Uint8Array(U),Y=new Uint8Array(this,te,j),q.set(Y),U)}}(),$.prototype.append=function(R){return this.appendBinary(M(R)),this},$.prototype.appendBinary=function(R){this._buff+=R,this._length+=R.length;var B,V=this._buff.length;for(B=64;B<=V;B+=64)C(this._hash,u(this._buff.substring(B-64,B)));return this._buff=this._buff.substring(B-64),this},$.prototype.end=function(R){var B,V,j=this._buff,U=j.length,q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(B=0;B<U;B+=1)q[B>>2]|=j.charCodeAt(B)<<(B%4<<3);return this._finish(q,U),V=k(this._hash),R&&(V=P(V)),this.reset(),V},$.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},$.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},$.prototype.setState=function(R){return this._buff=R.buff,this._length=R.length,this._hash=R.hash,this},$.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},$.prototype._finish=function(R,B){var V,j,U,q=B;if(R[q>>2]|=128<<(q%4<<3),q>55)for(C(this._hash,R),q=0;q<16;q+=1)R[q]=0;V=(V=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),j=parseInt(V[2],16),U=parseInt(V[1],16)||0,R[14]=j,R[15]=U,C(this._hash,R)},$.hash=function(R,B){return $.hashBinary(M(R),B)},$.hashBinary=function(R,B){var V=k(n(R));return B?P(V):V},$.ArrayBuffer=function(){this.reset()},$.ArrayBuffer.prototype.append=function(R){var B,V,j,U,q,Y=(V=this._buff.buffer,j=R,U=!0,(q=new Uint8Array(V.byteLength+j.byteLength)).set(new Uint8Array(V)),q.set(new Uint8Array(j),V.byteLength),U?q:q.buffer),Q=Y.length;for(this._length+=R.byteLength,B=64;B<=Q;B+=64)C(this._hash,f(Y.subarray(B-64,B)));return this._buff=B-64<Q?new Uint8Array(Y.buffer.slice(B-64)):new Uint8Array(0),this},$.ArrayBuffer.prototype.end=function(R){var B,V,j=this._buff,U=j.length,q=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(B=0;B<U;B+=1)q[B>>2]|=j[B]<<(B%4<<3);return this._finish(q,U),V=k(this._hash),R&&(V=P(V)),this.reset(),V},$.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},$.ArrayBuffer.prototype.getState=function(){var R,B=$.prototype.getState.call(this);return B.buff=(R=B.buff,String.fromCharCode.apply(null,new Uint8Array(R))),B},$.ArrayBuffer.prototype.setState=function(R){return R.buff=function(B,V){var j,U=B.length,q=new ArrayBuffer(U),Y=new Uint8Array(q);for(j=0;j<U;j+=1)Y[j]=B.charCodeAt(j);return V?Y:q}(R.buff,!0),$.prototype.setState.call(this,R)},$.ArrayBuffer.prototype.destroy=$.prototype.destroy,$.ArrayBuffer.prototype._finish=$.prototype._finish,$.ArrayBuffer.hash=function(R,B){var V=k(function(j){var U,q,Y,Q,te,re,oe=j.length,se=[1732584193,-271733879,-1732584194,271733878];for(U=64;U<=oe;U+=64)C(se,f(j.subarray(U-64,U)));for(j=U-64<oe?j.subarray(U-64):new Uint8Array(0),q=j.length,Y=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],U=0;U<q;U+=1)Y[U>>2]|=j[U]<<(U%4<<3);if(Y[U>>2]|=128<<(U%4<<3),U>55)for(C(se,Y),U=0;U<16;U+=1)Y[U]=0;return Q=(Q=8*oe).toString(16).match(/(.*?)(.{0,8})$/),te=parseInt(Q[2],16),re=parseInt(Q[1],16)||0,Y[14]=te,Y[15]=re,C(se,Y),se}(new Uint8Array(R)));return B?P(V):V},$}()},function(e,r,l){async function g(){return(await(await function(u){var f=function(){return(f=Object.assign||function(Ve){for(var ve,lt=1,sr=arguments.length;lt<sr;lt++)for(var ir in ve=arguments[lt])Object.prototype.hasOwnProperty.call(ve,ir)&&(Ve[ir]=ve[ir]);return Ve}).apply(this,arguments)};function n(Ve,ve,lt,sr){return new(lt||(lt=Promise))(function(ir,mr){function kr(Er){try{Or(sr.next(Er))}catch(Nr){mr(Nr)}}function Pr(Er){try{Or(sr.throw(Er))}catch(Nr){mr(Nr)}}function Or(Er){var Nr;Er.done?ir(Er.value):(Nr=Er.value,Nr instanceof lt?Nr:new lt(function(un){un(Nr)})).then(kr,Pr)}Or((sr=sr.apply(Ve,ve||[])).next())})}function S(Ve,ve){var lt,sr,ir,mr,kr={label:0,sent:function(){if(1&ir[0])throw ir[1];return ir[1]},trys:[],ops:[]};return mr={next:Pr(0),throw:Pr(1),return:Pr(2)},typeof Symbol=="function"&&(mr[Symbol.iterator]=function(){return this}),mr;function Pr(Or){return function(Er){return function(Nr){if(lt)throw new TypeError("Generator is already executing.");for(;kr;)try{if(lt=1,sr&&(ir=2&Nr[0]?sr.return:Nr[0]?sr.throw||((ir=sr.return)&&ir.call(sr),0):sr.next)&&!(ir=ir.call(sr,Nr[1])).done)return ir;switch(sr=0,ir&&(Nr=[2&Nr[0],ir.value]),Nr[0]){case 0:case 1:ir=Nr;break;case 4:return kr.label++,{value:Nr[1],done:!1};case 5:kr.label++,sr=Nr[1],Nr=[0];continue;case 7:Nr=kr.ops.pop(),kr.trys.pop();continue;default:if(!((ir=(ir=kr.trys).length>0&&ir[ir.length-1])||Nr[0]!==6&&Nr[0]!==2)){kr=0;continue}if(Nr[0]===3&&(!ir||Nr[1]>ir[0]&&Nr[1]<ir[3])){kr.label=Nr[1];break}if(Nr[0]===6&&kr.label<ir[1]){kr.label=ir[1],ir=Nr;break}if(ir&&kr.label<ir[2]){kr.label=ir[2],kr.ops.push(Nr);break}ir[2]&&kr.ops.pop(),kr.trys.pop();continue}Nr=ve.call(Ve,kr)}catch(un){Nr=[6,un],sr=0}finally{lt=ir=0}if(5&Nr[0])throw Nr[1];return{value:Nr[0]?Nr[1]:void 0,done:!0}}([Or,Er])}}}function k(){for(var Ve=0,ve=0,lt=arguments.length;ve<lt;ve++)Ve+=arguments[ve].length;var sr=Array(Ve),ir=0;for(ve=0;ve<lt;ve++)for(var mr=arguments[ve],kr=0,Pr=mr.length;kr<Pr;kr++,ir++)sr[ir]=mr[kr];return sr}function M(Ve,ve){return new Promise(function(lt){return setTimeout(lt,Ve,ve)})}function P(Ve,ve){try{var lt=Ve();(sr=lt)&&typeof sr.then=="function"?lt.then(function(ir){return ve(!0,ir)},function(ir){return ve(!1,ir)}):ve(!0,lt)}catch(ir){ve(!1,ir)}var sr}function $(Ve,ve,lt){return lt===void 0&&(lt=16),n(this,void 0,void 0,function(){var sr,ir,mr;return S(this,function(kr){switch(kr.label){case 0:sr=Date.now(),ir=0,kr.label=1;case 1:return ir<Ve.length?(ve(Ve[ir],ir),(mr=Date.now())>=sr+lt?(sr=mr,[4,M(0)]):[3,3]):[3,4];case 2:kr.sent(),kr.label=3;case 3:return++ir,[3,1];case 4:return[2]}})})}function R(Ve,ve){Ve=[Ve[0]>>>16,65535&Ve[0],Ve[1]>>>16,65535&Ve[1]],ve=[ve[0]>>>16,65535&ve[0],ve[1]>>>16,65535&ve[1]];var lt=[0,0,0,0];return lt[3]+=Ve[3]+ve[3],lt[2]+=lt[3]>>>16,lt[3]&=65535,lt[2]+=Ve[2]+ve[2],lt[1]+=lt[2]>>>16,lt[2]&=65535,lt[1]+=Ve[1]+ve[1],lt[0]+=lt[1]>>>16,lt[1]&=65535,lt[0]+=Ve[0]+ve[0],lt[0]&=65535,[lt[0]<<16|lt[1],lt[2]<<16|lt[3]]}function B(Ve,ve){Ve=[Ve[0]>>>16,65535&Ve[0],Ve[1]>>>16,65535&Ve[1]],ve=[ve[0]>>>16,65535&ve[0],ve[1]>>>16,65535&ve[1]];var lt=[0,0,0,0];return lt[3]+=Ve[3]*ve[3],lt[2]+=lt[3]>>>16,lt[3]&=65535,lt[2]+=Ve[2]*ve[3],lt[1]+=lt[2]>>>16,lt[2]&=65535,lt[2]+=Ve[3]*ve[2],lt[1]+=lt[2]>>>16,lt[2]&=65535,lt[1]+=Ve[1]*ve[3],lt[0]+=lt[1]>>>16,lt[1]&=65535,lt[1]+=Ve[2]*ve[2],lt[0]+=lt[1]>>>16,lt[1]&=65535,lt[1]+=Ve[3]*ve[1],lt[0]+=lt[1]>>>16,lt[1]&=65535,lt[0]+=Ve[0]*ve[3]+Ve[1]*ve[2]+Ve[2]*ve[1]+Ve[3]*ve[0],lt[0]&=65535,[lt[0]<<16|lt[1],lt[2]<<16|lt[3]]}function V(Ve,ve){return(ve%=64)==32?[Ve[1],Ve[0]]:ve<32?[Ve[0]<<ve|Ve[1]>>>32-ve,Ve[1]<<ve|Ve[0]>>>32-ve]:(ve-=32,[Ve[1]<<ve|Ve[0]>>>32-ve,Ve[0]<<ve|Ve[1]>>>32-ve])}function j(Ve,ve){return(ve%=64)==0?Ve:ve<32?[Ve[0]<<ve|Ve[1]>>>32-ve,Ve[1]<<ve]:[Ve[1]<<ve-32,0]}function U(Ve,ve){return[Ve[0]^ve[0],Ve[1]^ve[1]]}function q(Ve){return Ve=U(Ve,[0,Ve[0]>>>1]),Ve=U(Ve=B(Ve,[4283543511,3981806797]),[0,Ve[0]>>>1]),U(Ve=B(Ve,[3301882366,444984403]),[0,Ve[0]>>>1])}function Y(Ve,ve){ve=ve||0;var lt,sr=(Ve=Ve||"").length%16,ir=Ve.length-sr,mr=[0,ve],kr=[0,ve],Pr=[0,0],Or=[0,0],Er=[2277735313,289559509],Nr=[1291169091,658871167];for(lt=0;lt<ir;lt+=16)Pr=[255&Ve.charCodeAt(lt+4)|(255&Ve.charCodeAt(lt+5))<<8|(255&Ve.charCodeAt(lt+6))<<16|(255&Ve.charCodeAt(lt+7))<<24,255&Ve.charCodeAt(lt)|(255&Ve.charCodeAt(lt+1))<<8|(255&Ve.charCodeAt(lt+2))<<16|(255&Ve.charCodeAt(lt+3))<<24],Or=[255&Ve.charCodeAt(lt+12)|(255&Ve.charCodeAt(lt+13))<<8|(255&Ve.charCodeAt(lt+14))<<16|(255&Ve.charCodeAt(lt+15))<<24,255&Ve.charCodeAt(lt+8)|(255&Ve.charCodeAt(lt+9))<<8|(255&Ve.charCodeAt(lt+10))<<16|(255&Ve.charCodeAt(lt+11))<<24],Pr=V(Pr=B(Pr,Er),31),mr=R(mr=V(mr=U(mr,Pr=B(Pr,Nr)),27),kr),mr=R(B(mr,[0,5]),[0,1390208809]),Or=V(Or=B(Or,Nr),33),kr=R(kr=V(kr=U(kr,Or=B(Or,Er)),31),mr),kr=R(B(kr,[0,5]),[0,944331445]);switch(Pr=[0,0],Or=[0,0],sr){case 15:Or=U(Or,j([0,Ve.charCodeAt(lt+14)],48));case 14:Or=U(Or,j([0,Ve.charCodeAt(lt+13)],40));case 13:Or=U(Or,j([0,Ve.charCodeAt(lt+12)],32));case 12:Or=U(Or,j([0,Ve.charCodeAt(lt+11)],24));case 11:Or=U(Or,j([0,Ve.charCodeAt(lt+10)],16));case 10:Or=U(Or,j([0,Ve.charCodeAt(lt+9)],8));case 9:Or=B(Or=U(Or,[0,Ve.charCodeAt(lt+8)]),Nr),kr=U(kr,Or=B(Or=V(Or,33),Er));case 8:Pr=U(Pr,j([0,Ve.charCodeAt(lt+7)],56));case 7:Pr=U(Pr,j([0,Ve.charCodeAt(lt+6)],48));case 6:Pr=U(Pr,j([0,Ve.charCodeAt(lt+5)],40));case 5:Pr=U(Pr,j([0,Ve.charCodeAt(lt+4)],32));case 4:Pr=U(Pr,j([0,Ve.charCodeAt(lt+3)],24));case 3:Pr=U(Pr,j([0,Ve.charCodeAt(lt+2)],16));case 2:Pr=U(Pr,j([0,Ve.charCodeAt(lt+1)],8));case 1:Pr=B(Pr=U(Pr,[0,Ve.charCodeAt(lt)]),Er),mr=U(mr,Pr=B(Pr=V(Pr,31),Nr))}return mr=R(mr=U(mr,[0,Ve.length]),kr=U(kr,[0,Ve.length])),kr=R(kr,mr),mr=R(mr=q(mr),kr=q(kr)),kr=R(kr,mr),("00000000"+(mr[0]>>>0).toString(16)).slice(-8)+("00000000"+(mr[1]>>>0).toString(16)).slice(-8)+("00000000"+(kr[0]>>>0).toString(16)).slice(-8)+("00000000"+(kr[1]>>>0).toString(16)).slice(-8)}function Q(Ve){return parseInt(Ve)}function te(Ve){return parseFloat(Ve)}function re(Ve,ve){return typeof Ve=="number"&&isNaN(Ve)?ve:Ve}function oe(Ve){return Ve.reduce(function(ve,lt){return ve+(lt?1:0)},0)}function se(Ve,ve){if(ve===void 0&&(ve=1),Math.abs(ve)>=1)return Math.round(Ve/ve)*ve;var lt=1/ve;return Math.round(Ve*lt)/lt}function fe(Ve){return Ve&&typeof Ve=="object"&&"message"in Ve?Ve:{message:Ve}}function ge(Ve,ve,lt){var sr=Object.keys(Ve).filter(function(mr){return!function(kr,Pr){for(var Or=0,Er=kr.length;Or<Er;++Or)if(kr[Or]===Pr)return!0;return!1}(lt,mr)}),ir=Array(sr.length);return $(sr,function(mr,kr){ir[kr]=function(Pr,Or){var Er=function(un){return typeof un!="function"},Nr=new Promise(function(un){var vn=Date.now();P(Pr.bind(null,Or),function(){for(var Ze=[],_e=0;_e<arguments.length;_e++)Ze[_e]=arguments[_e];var Ie=Date.now()-vn;if(!Ze[0])return un(function(){return{error:fe(Ze[1]),duration:Ie}});var Qe=Ze[1];if(Er(Qe))return un(function(){return{value:Qe,duration:Ie}});un(function(){return new Promise(function(ct){var kt=Date.now();P(Qe,function(){for(var er=[],Kt=0;Kt<arguments.length;Kt++)er[Kt]=arguments[Kt];var Nt=Ie+Date.now()-kt;if(!er[0])return ct({error:fe(er[1]),duration:Nt});ct({value:er[1],duration:Nt})})})})})});return function(){return Nr.then(function(un){return un()})}}(Ve[mr],ve)}),function(){return n(this,void 0,void 0,function(){var mr,kr,Pr,Or,Er,Nr;return S(this,function(un){switch(un.label){case 0:for(mr={},kr=0,Pr=sr;kr<Pr.length;kr++)Or=Pr[kr],mr[Or]=void 0;Er=Array(sr.length),Nr=function(){var vn;return S(this,function(Ze){switch(Ze.label){case 0:return vn=!0,[4,$(sr,function(_e,Ie){Er[Ie]||(ir[Ie]?Er[Ie]=ir[Ie]().then(function(Qe){return mr[_e]=Qe}):vn=!1)})];case 1:return Ze.sent(),vn?[2,"break"]:[4,M(1)];case 2:return Ze.sent(),[2]}})},un.label=1;case 1:return[5,Nr()];case 2:if(un.sent()==="break")return[3,4];un.label=3;case 3:return[3,1];case 4:return[4,Promise.all(Er)];case 5:return un.sent(),[2,mr]}})})}}function Ce(){var Ve=window,ve=navigator;return oe(["MSCSSMatrix"in Ve,"msSetImmediate"in Ve,"msIndexedDB"in Ve,"msMaxTouchPoints"in ve,"msPointerEnabled"in ve])>=4}function $e(){var Ve=window,ve=navigator;return oe(["msWriteProfilerMark"in Ve,"MSStream"in Ve,"msLaunchUri"in ve,"msSaveBlob"in ve])>=3&&!Ce()}function be(){var Ve=window,ve=navigator;return oe(["webkitPersistentStorage"in ve,"webkitTemporaryStorage"in ve,ve.vendor.indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in Ve,"BatteryManager"in Ve,"webkitMediaStream"in Ve,"webkitSpeechGrammar"in Ve])>=5}function ke(){var Ve=window,ve=navigator;return oe(["ApplePayError"in Ve,"CSSPrimitiveValue"in Ve,"Counter"in Ve,ve.vendor.indexOf("Apple")===0,"getStorageUpdates"in ve,"WebKitMediaKeys"in Ve])>=4}function Ee(){var Ve=window;return oe(["safari"in Ve,!("DeviceMotionEvent"in Ve),!("ongestureend"in Ve),!("standalone"in navigator)])>=3}function He(){var Ve,ve,lt=window;return oe(["buildID"in navigator,"MozAppearance"in((ve=(Ve=document.documentElement)===null||Ve===void 0?void 0:Ve.style)!==null&&ve!==void 0?ve:{}),"onmozfullscreenchange"in lt,"mozInnerScreenX"in lt,"CSSMozDocumentRule"in lt,"CanvasCaptureMediaStream"in lt])>=4}function rt(){var Ve=document;return Ve.fullscreenElement||Ve.msFullscreenElement||Ve.mozFullScreenElement||Ve.webkitFullscreenElement||null}function ft(){var Ve=be(),ve=He();if(!Ve&&!ve)return!1;var lt=window;return oe(["onorientationchange"in lt,"orientation"in lt,Ve&&!("SharedWorker"in lt),ve&&/android/i.test(navigator.appVersion)])>=2}function bt(Ve){var ve=new Error(Ve);return ve.name=Ve,ve}function Ye(Ve,ve,lt){var sr,ir,mr;return lt===void 0&&(lt=50),n(this,void 0,void 0,function(){var kr,Pr;return S(this,function(Or){switch(Or.label){case 0:kr=document,Or.label=1;case 1:return kr.body?[3,3]:[4,M(lt)];case 2:return Or.sent(),[3,1];case 3:Pr=kr.createElement("iframe"),Or.label=4;case 4:return Or.trys.push([4,,10,11]),[4,new Promise(function(Er,Nr){Pr.onload=Er,Pr.onerror=Nr;var un=Pr.style;un.setProperty("display","block","important"),un.position="absolute",un.top="0",un.left="0",un.visibility="hidden",ve&&"srcdoc"in Pr?Pr.srcdoc=ve:Pr.src="about:blank",kr.body.appendChild(Pr);var vn=function(){var Ze,_e;((_e=(Ze=Pr.contentWindow)===null||Ze===void 0?void 0:Ze.document)===null||_e===void 0?void 0:_e.readyState)==="complete"?Er():setTimeout(vn,10)};vn()})];case 5:Or.sent(),Or.label=6;case 6:return((ir=(sr=Pr.contentWindow)===null||sr===void 0?void 0:sr.document)===null||ir===void 0?void 0:ir.body)?[3,8]:[4,M(lt)];case 7:return Or.sent(),[3,6];case 8:return[4,Ve(Pr,Pr.contentWindow)];case 9:return[2,Or.sent()];case 10:return(mr=Pr.parentNode)===null||mr===void 0||mr.removeChild(Pr),[7];case 11:return[2]}})})}function De(Ve){for(var ve=function(Or){for(var Er,Nr,un="Unexpected syntax '"+Or+"'",vn=/^\s*([a-z-]*)(.*)$/i.exec(Or),Ze=vn[1]||void 0,_e={},Ie=/([.:#][\w-]+|\[.+?\])/gi,Qe=function(Kt,Nt){_e[Kt]=_e[Kt]||[],_e[Kt].push(Nt)};;){var ct=Ie.exec(vn[2]);if(!ct)break;var kt=ct[0];switch(kt[0]){case".":Qe("class",kt.slice(1));break;case"#":Qe("id",kt.slice(1));break;case"[":var er=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(kt);if(!er)throw new Error(un);Qe(er[1],(Nr=(Er=er[4])!==null&&Er!==void 0?Er:er[5])!==null&&Nr!==void 0?Nr:"");break;default:throw new Error(un)}}return[Ze,_e]}(Ve),lt=ve[0],sr=ve[1],ir=document.createElement(lt!=null?lt:"div"),mr=0,kr=Object.keys(sr);mr<kr.length;mr++){var Pr=kr[mr];ir.setAttribute(Pr,sr[Pr].join(" "))}return ir}var at,Ut,je=["monospace","sans-serif","serif"],tt=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function We(Ve){return Ve.rect(0,0,10,10),Ve.rect(2,2,6,6),!Ve.isPointInPath(5,5,"evenodd")}function Gt(Ve,ve){Ve.width=240,Ve.height=60,ve.textBaseline="alphabetic",ve.fillStyle="#f60",ve.fillRect(100,1,62,20),ve.fillStyle="#069",ve.font='11pt "Times New Roman"';var lt="Cwm fjordbank gly "+String.fromCharCode(55357,56835);return ve.fillText(lt,2,15),ve.fillStyle="rgba(102, 204, 0, 0.2)",ve.font="18pt Arial",ve.fillText(lt,4,45),Mt(Ve)}function gt(Ve,ve){Ve.width=122,Ve.height=110,ve.globalCompositeOperation="multiply";for(var lt=0,sr=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];lt<sr.length;lt++){var ir=sr[lt],mr=ir[0],kr=ir[1],Pr=ir[2];ve.fillStyle=mr,ve.beginPath(),ve.arc(kr,Pr,40,0,2*Math.PI,!0),ve.closePath(),ve.fill()}return ve.fillStyle="#f9c",ve.arc(60,60,60,0,2*Math.PI,!0),ve.arc(60,60,20,0,2*Math.PI,!0),ve.fill("evenodd"),Mt(Ve)}function Mt(Ve){return Ve.toDataURL()}function Rt(){var Ve=this;return function(){if(Ut===void 0){var ve=function(){var lt=Jt();ut(lt)?Ut=setTimeout(ve,2500):(at=lt,Ut=void 0)};ve()}}(),function(){return n(Ve,void 0,void 0,function(){var ve;return S(this,function(lt){switch(lt.label){case 0:return ut(ve=Jt())?at?[2,k(at)]:rt()?[4,(sr=document,(sr.exitFullscreen||sr.msExitFullscreen||sr.mozCancelFullScreen||sr.webkitExitFullscreen).call(sr))]:[3,2]:[3,2];case 1:lt.sent(),ve=Jt(),lt.label=2;case 2:return ut(ve)||(at=ve),[2,ve]}var sr})})}}function Jt(){var Ve=screen;return[re(te(Ve.availTop),null),re(te(Ve.width)-te(Ve.availWidth)-re(te(Ve.availLeft),0),null),re(te(Ve.height)-te(Ve.availHeight)-re(te(Ve.availTop),0),null),re(te(Ve.availLeft),null)]}function ut(Ve){for(var ve=0;ve<4;++ve)if(Ve[ve])return!1;return!0}var Ht={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'a[title="7naga poker" i]','[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",".i-said-no-thing-can-stop-me-warning.dark",".quangcao",'[href^="https://r88.vn/"]','[href^="https://zbet.vn/"]'],adBlockFinland:[".mainostila",".sponsorit",".ylamainos",'a[href*="/clickthrgh.asp?"]','a[href^="https://app.readpeak.com/ads"]'],adBlockPersian:["#navbar_notice_50",'a[href^="http://g1.v.fwmrm.net/ad/"]',".kadr",'TABLE[width="140px"]',"#divAgahi"],adBlockWarningRemoval:["#adblock_message",".adblockInfo",".deadblocker-header-bar",".no-ad-reminder","#AdBlockDialog"],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:["#ad-fullbanner2-billboard-outer",".stky-ad-footer",".BetterJsPopOverlay","#ad_300X250","#bannerfloat22"],adGuardChinese:['#piao_div_0[style*="width:140px;"]','a[href*=".ttz5.cn"]','a[href*=".yabovip2027.com/"]',".tm3all2h4b","#duilian_left"],adGuardFrench:["#anAdScGp300x25",'a[href*=".kfiopkln.com/"]','a[href^="https://jsecoin.com/o/?"]','a[href^="https://www.clickadu.com/?"]',".bandeauClosePub"],adGuardGerman:[".banneritemwerbung_head_1",".boxstartwerbung",".werbung3",'a[href^="http://www.eis.de/index.phtml?refid="]','a[href^="https://www.tipico.com/?affiliateId="]'],adGuardJapanese:["#kauli_yad_1",".adArticleSidetile",".ads_entrymore",'a[href^="http://ad2.trafficgate.net/"]','a[href^="http://www.rssad.jp/"]'],adGuardMobile:["amp-auto-ads","#mgid_iframe",".amp_ad","amp-sticky-ad",".plugin-blogroll"],adGuardRussian:['a[href^="https://ya-distrib.ru/r/"]','a[href^="https://ad.letmeads.com/"]',".reclama",'div[id^="smi2adblock"]','div[id^="AdFox_banner_"]'],adGuardSocial:['a[href^="//www.stumbleupon.com/submit?url="]','a[href^="//telegram.me/share/url?"]',".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",'[href^="http://ads.glispa.com/"]'],adGuardTrackingProtection:['amp-embed[type="taboola"]',"#qoo-counter",'a[href^="http://click.hotlog.ru/"]','a[href^="http://hitcounter.ru/top/stat.php"]','a[href^="http://top.mail.ru/jump"]'],adGuardTurkish:["#backkapat","#reklami",'a[href^="http://adserv.ontek.com.tr/"]','a[href^="http://izlenzi.com/campaign/"]','a[href^="http://www.installads.net/"]'],bulgarian:["td#freenet_table_ads","#newAd","#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:["#adlabelheader","#anAdScGame300x250","#adTakeOverLeft","#ad_LargeRec01","#adundergame"],easyListChina:['a[href*=".wensixuetang.com/"]','A[href*="/hth107.com/"]','.appguide-wrap[onclick*="bcebos.com"]',".frontpageAdvM","#taotaole"],easyListCookie:["#Button_Cookie","#CWCookie","#CookieCon","#DGPR","#PnlCookie"],easyListCzechSlovak:["#onlajny-stickers","#reklamni-box",".reklama-megaboard",".sklik",'[id^="sklikReklama"]'],easyListDutch:["#advertentie","#vipAdmarktBannerBlock",".adstekst",'a[href^="http://adserver.webads.nl/adclick/"]',"#semilo-lrectangle"],easyListGermany:["#nativendo-hometop",'a[href^="http://www.kontakt-vermittler.de/?wm="]',"#gwerbung",'a[href^="https://marketing.net.brillen.de/"]',".werbenbox"],easyListItaly:[".box_adv_annunci",".sb-box-pubbliredazionale",'a[href^="http://affiliazioniads.snai.it/"]','a[href^="https://adserver.html.it/"]','a[href^="https://affiliazioniads.snai.it/"]'],easyListLithuania:[".reklamos_tarpas",".reklamos_nuorodos",'img[alt="Reklaminis skydelis"]','img[alt="Dedikuoti.lt serveriai"]','img[alt="Hostingas Serveriai.lt"]'],estonian:['A[href*="http://pay4results24.eu"]'],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag",'div[style*="box-shadow: rgb(136, 136, 136) 0px 0px 12px; color: "]','div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:['a[href*="casinopro.se"][target="_blank"]','a[href*="doktor-se.onelink.me"]',"article.category-samarbete","div.holidAds","ul.adsmodern"],greekAdBlock:['A[href*="adman.otenet.gr/click?"]','A[href*="http://axiabanners.exodus.gr/"]','A[href*="http://interactive.forthnet.gr/click?"]',"DIV.agores300","TABLE.advright"],hungarian:['A[href*="ad.eval.hu"]','A[href*="ad.netmedia.hu"]','A[href*="daserver.ultraweb.hu"]',"#cemp_doboz",".optimonk-iframe-container"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:['A[href^="/framework/resources/forms/ads.aspx"]'],latvian:['a[href="http://www.salidzini.lv/"][style="display: block; width: 120px; height: 40px; overflow: hidden; position: relative;"]','a[href="http://www.salidzini.lv/"][style="display: block; width: 88px; height: 31px; overflow: hidden; position: relative;"]'],listKr:['a[href*="//kingtoon.slnk.kr"]','a[href*="//playdsb.com/kr"]',"div.logly-lift-adz",'div[data-widget_id="ml6EJ074"]',"ins.daum_ddn_area"],listeAr:[".geminiLB1Ad",".right-and-left-sponsers",'a[href*=".aflam.info"]','a[href*="booraq.org"]','a[href*="dubizzle.com/ar/?utm_source="]'],listeFr:['a[href^="http://promo.vador.com/"]',"#adcontainer_recherche",'a[href*="weborama.fr/fcgi-bin/"]',".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",'[href^="https://aff.sendhub.pl/"]','a[href^="http://advmanager.techfun.pl/redirect/"]','a[href^="http://www.trizer.pl/?utm_source"]',"div#skapiec_ad"],ro:['a[href^="//afftrk.altex.ro/Counter/Click"]','a[href^="/magazin/"]','a[href^="https://blackfridaysales.ro/trk/shop/"]','a[href^="https://event.2performant.com/events/click"]','a[href^="https://l.profitshare.ro/"]'],ruAd:['a[href*="//febrare.ru/"]','a[href*="//utimg.ru/"]','a[href*="://chikidiki.ru"]',"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]","#ads-google-middle_rectangle-group",".ads300s",".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",".ctpl-fullbanner",".zergnet-recommend",".yt.btn-link.btn-md.btn"]};function cr(Ve){var ve;return n(this,void 0,void 0,function(){var lt,sr,ir,mr,kr,Pr,Or;return S(this,function(Er){switch(Er.label){case 0:for(lt=document,sr=lt.createElement("div"),ir=new Array(Ve.length),mr={},Vt(sr),Or=0;Or<Ve.length;++Or)kr=De(Ve[Or]),Vt(Pr=lt.createElement("div")),Pr.appendChild(kr),sr.appendChild(Pr),ir[Or]=kr;Er.label=1;case 1:return lt.body?[3,3]:[4,M(50)];case 2:return Er.sent(),[3,1];case 3:lt.body.appendChild(sr);try{for(Or=0;Or<Ve.length;++Or)ir[Or].offsetParent||(mr[Ve[Or]]=!0)}finally{(ve=sr.parentNode)===null||ve===void 0||ve.removeChild(sr)}return[2,mr]}})})}function Vt(Ve){Ve.style.setProperty("display","block","important")}function Ne(Ve){return matchMedia("(inverted-colors: "+Ve+")").matches}function ot(Ve){return matchMedia("(forced-colors: "+Ve+")").matches}function Tt(Ve){return matchMedia("(prefers-contrast: "+Ve+")").matches}function St(Ve){return matchMedia("(prefers-reduced-motion: "+Ve+")").matches}function jt(Ve){return matchMedia("(dynamic-range: "+Ve+")").matches}var or=Math,xr=function(){return 0},st={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]},yt={fonts:function(){return Ye(function(Ve,ve){var lt=ve.document,sr=lt.body;sr.style.fontSize="48px";var ir=lt.createElement("div"),mr={},kr={},Pr=function(un){var vn=lt.createElement("span"),Ze=vn.style;return Ze.position="absolute",Ze.top="0",Ze.left="0",Ze.fontFamily=un,vn.textContent="mmMwWLliI0O&1",ir.appendChild(vn),vn},Or=je.map(Pr),Er=function(){for(var un={},vn=function(Ie){un[Ie]=je.map(function(Qe){return function(ct,kt){return Pr("'"+ct+"',"+kt)}(Ie,Qe)})},Ze=0,_e=tt;Ze<_e.length;Ze++)vn(_e[Ze]);return un}();sr.appendChild(ir);for(var Nr=0;Nr<je.length;Nr++)mr[je[Nr]]=Or[Nr].offsetWidth,kr[je[Nr]]=Or[Nr].offsetHeight;return tt.filter(function(un){return vn=Er[un],je.some(function(Ze,_e){return vn[_e].offsetWidth!==mr[Ze]||vn[_e].offsetHeight!==kr[Ze]});var vn})})},domBlockers:function(Ve){var ve=(Ve===void 0?{}:Ve).debug;return n(this,void 0,void 0,function(){var lt,sr,ir,mr;return S(this,function(kr){switch(kr.label){case 0:return ke()||ft()?(lt=Object.keys(Ht),[4,cr((mr=[]).concat.apply(mr,lt.map(function(Pr){return Ht[Pr]})))]):[2,void 0];case 1:return sr=kr.sent(),ve&&function(Pr){for(var Or="DOM blockers debug:\n```",Er=0,Nr=Object.keys(Ht);Er<Nr.length;Er++){var un=Nr[Er];Or+=`
`+un+":";for(var vn=0,Ze=Ht[un];vn<Ze.length;vn++){var _e=Ze[vn];Or+=`
  `+_e+" "+(Pr[_e]?"\xF0\u0178\u0161\xAB":"\xE2\u017E\xA1\xEF\xB8\x8F")}}console.log(Or+"\n```")}(sr),(ir=lt.filter(function(Pr){var Or=Ht[Pr];return oe(Or.map(function(Er){return sr[Er]}))>.6*Or.length})).sort(),[2,ir]}})})},fontPreferences:function(){return function(Ve,ve){return ve===void 0&&(ve=4e3),Ye(function(lt,sr){var ir=sr.document,mr=ir.body,kr=mr.style;kr.width=ve+"px",kr.webkitTextSizeAdjust=kr.textSizeAdjust="none",be()?mr.style.zoom=""+1/sr.devicePixelRatio:ke()&&(mr.style.zoom="reset");var Pr=ir.createElement("div");return Pr.textContent=k(Array(ve/20<<0)).map(function(){return"word"}).join(" "),mr.appendChild(Pr),function(Or,Er){for(var Nr={},un={},vn=0,Ze=Object.keys(st);vn<Ze.length;vn++){var _e=Ze[vn],Ie=st[_e],Qe=Ie[0],ct=Qe===void 0?{}:Qe,kt=Ie[1],er=kt===void 0?"mmMwWLliI0fiflO&1":kt,Kt=Or.createElement("span");Kt.textContent=er,Kt.style.whiteSpace="nowrap";for(var Nt=0,Qt=Object.keys(ct);Nt<Qt.length;Nt++){var Cr=Qt[Nt],Lr=ct[Cr];Lr!==void 0&&(Kt.style[Cr]=Lr)}Nr[_e]=Kt,Er.appendChild(Or.createElement("br")),Er.appendChild(Kt)}for(var Tr=0,ln=Object.keys(st);Tr<ln.length;Tr++)un[_e=ln[Tr]]=Nr[_e].getBoundingClientRect().width;return un}(ir,mr)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}()},audio:function(){var Ve=window,ve=Ve.OfflineAudioContext||Ve.webkitOfflineAudioContext;if(!ve)return-2;if(ke()&&!Ee()&&!function(){var Er=window;return oe(["DOMRectList"in Er,"RTCPeerConnectionIceEvent"in Er,"SVGGeometryElement"in Er,"ontransitioncancel"in Er])>=3}())return-1;var lt=new ve(1,5e3,44100),sr=lt.createOscillator();sr.type="triangle",sr.frequency.value=1e4;var ir=lt.createDynamicsCompressor();ir.threshold.value=-50,ir.knee.value=40,ir.ratio.value=12,ir.attack.value=0,ir.release.value=.25,sr.connect(ir),ir.connect(lt.destination),sr.start(0);var mr=function(Er){var Nr=function(){};return[new Promise(function(un,vn){var Ze=!1,_e=0,Ie=0;Er.oncomplete=function(kt){return un(kt.renderedBuffer)};var Qe=function(){setTimeout(function(){return vn(bt("timeout"))},Math.min(500,Ie+5e3-Date.now()))},ct=function(){try{switch(Er.startRendering(),Er.state){case"running":Ie=Date.now(),Ze&&Qe();break;case"suspended":document.hidden||_e++,Ze&&_e>=3?vn(bt("suspended")):setTimeout(ct,500)}}catch(kt){vn(kt)}};ct(),Nr=function(){Ze||(Ze=!0,Ie>0&&Qe())}}),Nr]}(lt),kr=mr[0],Pr=mr[1],Or=kr.then(function(Er){return function(Nr){for(var un=0,vn=0;vn<Nr.length;++vn)un+=Math.abs(Nr[vn]);return un}(Er.getChannelData(0).subarray(4500))},function(Er){if(Er.name==="timeout"||Er.name==="suspended")return-3;throw Er});return Or.catch(function(){}),function(){return Pr(),Or}},screenFrame:function(){var Ve=this,ve=Rt();return function(){return n(Ve,void 0,void 0,function(){var lt,sr;return S(this,function(ir){switch(ir.label){case 0:return[4,ve()];case 1:return lt=ir.sent(),[2,[(sr=function(mr){return mr===null?null:se(mr,10)})(lt[0]),sr(lt[1]),sr(lt[2]),sr(lt[3])]]}})})}},osCpu:function(){return navigator.oscpu},languages:function(){var Ve,ve=navigator,lt=[],sr=ve.language||ve.userLanguage||ve.browserLanguage||ve.systemLanguage;if(sr!==void 0&&lt.push([sr]),Array.isArray(ve.languages))be()&&oe([!("MediaSettingsRange"in(Ve=window)),"RTCEncodedAudioFrame"in Ve,""+Ve.Intl=="[object Intl]",""+Ve.Reflect=="[object Reflect]"])>=3||lt.push(ve.languages);else if(typeof ve.languages=="string"){var ir=ve.languages;ir&&lt.push(ir.split(","))}return lt},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return re(te(navigator.deviceMemory),void 0)},screenResolution:function(){var Ve=screen,ve=function(sr){return re(Q(sr),null)},lt=[ve(Ve.width),ve(Ve.height)];return lt.sort().reverse(),lt},hardwareConcurrency:function(){return re(Q(navigator.hardwareConcurrency),void 0)},timezone:function(){var Ve,ve=(Ve=window.Intl)===null||Ve===void 0?void 0:Ve.DateTimeFormat;if(ve){var lt=new ve().resolvedOptions().timeZone;if(lt)return lt}var sr,ir=(sr=new Date().getFullYear(),-Math.max(te(new Date(sr,0,1).getTimezoneOffset()),te(new Date(sr,6,1).getTimezoneOffset())));return"UTC"+(ir>=0?"+":"")+Math.abs(ir)},sessionStorage:function(){try{return!!window.sessionStorage}catch{return!0}},localStorage:function(){try{return!!window.localStorage}catch{return!0}},indexedDB:function(){if(!Ce()&&!$e())try{return!!window.indexedDB}catch{return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var Ve=navigator.platform;return Ve==="MacIntel"&&ke()&&!Ee()?function(){if(navigator.platform==="iPad")return!0;var ve=screen,lt=ve.width/ve.height;return oe(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,lt>.65&&lt<1.53])>=2}()?"iPad":"iPhone":Ve},plugins:function(){var Ve=navigator.plugins;if(Ve){for(var ve=[],lt=0;lt<Ve.length;++lt){var sr=Ve[lt];if(sr){for(var ir=[],mr=0;mr<sr.length;++mr){var kr=sr[mr];ir.push({type:kr.type,suffixes:kr.suffixes})}ve.push({name:sr.name,description:sr.description,mimeTypes:ir})}}return ve}},canvas:function(){var Ve=function(){var sr=document.createElement("canvas");return sr.width=1,sr.height=1,[sr,sr.getContext("2d")]}(),ve=Ve[0],lt=Ve[1];return function(sr,ir){return!(!ir||!sr.toDataURL)}(ve,lt)?{winding:We(lt),geometry:gt(ve,lt),text:Gt(ve,lt)}:{winding:!1,geometry:"",text:""}},touchSupport:function(){var Ve,ve=navigator,lt=0;ve.maxTouchPoints!==void 0?lt=Q(ve.maxTouchPoints):ve.msMaxTouchPoints!==void 0&&(lt=ve.msMaxTouchPoints);try{document.createEvent("TouchEvent"),Ve=!0}catch{Ve=!1}return{maxTouchPoints:lt,touchEvent:Ve,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var Ve=[],ve=0,lt=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];ve<lt.length;ve++){var sr=lt[ve],ir=window[sr];ir&&typeof ir=="object"&&Ve.push(sr)}return Ve.sort()},cookiesEnabled:function(){var Ve=document;try{Ve.cookie="cookietest=1; SameSite=Strict;";var ve=Ve.cookie.indexOf("cookietest=")!==-1;return Ve.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",ve}catch{return!1}},colorGamut:function(){for(var Ve=0,ve=["rec2020","p3","srgb"];Ve<ve.length;Ve++){var lt=ve[Ve];if(matchMedia("(color-gamut: "+lt+")").matches)return lt}},invertedColors:function(){return!!Ne("inverted")||!Ne("none")&&void 0},forcedColors:function(){return!!ot("active")||!ot("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var Ve=0;Ve<=100;++Ve)if(matchMedia("(max-monochrome: "+Ve+")").matches)return Ve;throw new Error("Too high value")}},contrast:function(){return Tt("no-preference")?0:Tt("high")||Tt("more")?1:Tt("low")||Tt("less")?-1:Tt("forced")?10:void 0},reducedMotion:function(){return!!St("reduce")||!St("no-preference")&&void 0},hdr:function(){return!!jt("high")||!jt("standard")&&void 0},math:function(){var Ve,ve=or.acos||xr,lt=or.acosh||xr,sr=or.asin||xr,ir=or.asinh||xr,mr=or.atanh||xr,kr=or.atan||xr,Pr=or.sin||xr,Or=or.sinh||xr,Er=or.cos||xr,Nr=or.cosh||xr,un=or.tan||xr,vn=or.tanh||xr,Ze=or.exp||xr,_e=or.expm1||xr,Ie=or.log1p||xr;return{acos:ve(.12312423423423424),acosh:lt(1e308),acoshPf:(Ve=1e154,or.log(Ve+or.sqrt(Ve*Ve-1))),asin:sr(.12312423423423424),asinh:ir(1),asinhPf:or.log(1+or.sqrt(2)),atanh:mr(.5),atanhPf:or.log(3)/2,atan:kr(.5),sin:Pr(-1e300),sinh:Or(1),sinhPf:or.exp(1)-1/or.exp(1)/2,cos:Er(10.000000000123),cosh:Nr(1),coshPf:(or.exp(1)+1/or.exp(1))/2,tan:un(-1e300),tanh:vn(1),tanhPf:(or.exp(2)-1)/(or.exp(2)+1),exp:Ze(1),expm1:_e(1),expm1Pf:or.exp(1)-1,log1p:Ie(10),log1pPf:or.log(11),powPI:or.pow(or.PI,-100)}}};function Ft(Ve){if(ft())return .4;if(ke())return Ee()?.5:.3;var ve=Ve.platform.value||"";return/^Win/.test(ve)?.6:/^Mac/.test(ve)?.5:.7}function zt(Ve){return se(.99+.01*Ve,1e-4)}function Ct(Ve){return JSON.stringify(Ve,function(ve,lt){return lt instanceof Error?f({name:(sr=lt).name,message:sr.message,stack:(ir=sr.stack)===null||ir===void 0?void 0:ir.split(`
`)},sr):lt;var sr,ir},2)}function gr(Ve){return Y(function(ve){for(var lt="",sr=0,ir=Object.keys(ve).sort();sr<ir.length;sr++){var mr=ir[sr],kr=ve[mr],Pr=kr.error?"error":JSON.stringify(kr.value);lt+=(lt?"|":"")+mr.replace(/([:|\\])/g,"\\$1")+":"+Pr}return lt}(Ve))}function Mr(Ve){return Ve===void 0&&(Ve=50),function(ve,lt){lt===void 0&&(lt=1/0);var sr=window.requestIdleCallback;return sr?new Promise(function(ir){return sr.call(window,function(){return ir()},{timeout:lt})}):M(Math.min(ve,lt))}(Ve,2*Ve)}function Br(Ve,ve){var lt=Date.now();return{get:function(sr){return n(this,void 0,void 0,function(){var ir,mr,kr;return S(this,function(Pr){switch(Pr.label){case 0:return ir=Date.now(),[4,Ve()];case 1:return mr=Pr.sent(),kr=function(Or){var Er;return{get visitorId(){return Er===void 0&&(Er=gr(this.components)),Er},set visitorId(Nr){Er=Nr},confidence:function(Nr){var un=Ft(Nr),vn=zt(un);return{score:un,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,""+vn)}}(Or),components:Or,version:"3.3.0"}}(mr),(ve||(sr==null?void 0:sr.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: "+kr.version+`
userAgent: `+navigator.userAgent+`
timeBetweenLoadAndGet: `+(ir-lt)+`
visitorId: `+kr.visitorId+`
components: `+Ct(mr)+"\n```"),[2,kr]}})})}}}function sn(Ve){var ve=Ve===void 0?{}:Ve,lt=ve.delayFallback,sr=ve.debug;return n(this,void 0,void 0,function(){return S(this,function(ir){switch(ir.label){case 0:return[4,Mr(lt)];case 1:return ir.sent(),[2,Br(ge(yt,{debug:sr},[]),sr)]}})})}var Hr={load:sn,hashComponents:gr,componentsToDebugString:Ct},cn=Y;return u.componentsToDebugString=Ct,u.default=Hr,u.getFullscreenElement=rt,u.getProConfidenceScore=function(){for(var Ve=[],ve=0;ve<arguments.length;ve++)Ve[ve]=arguments[ve];return zt(Ft.apply(void 0,Ve))},u.getScreenFrame=Rt,u.hashComponents=gr,u.isAndroid=ft,u.isChromium=be,u.isDesktopSafari=Ee,u.isEdgeHTML=$e,u.isGecko=He,u.isTrident=Ce,u.isWebKit=ke,u.load=sn,u.loadSources=ge,u.murmurX64Hash128=cn,u.prepareForSources=Mr,u.sources=yt,u}({}).load()).get()).visitorId}Object.defineProperty(r,"__esModule",{value:!0}),r.getVisitorId=void 0,r.getVisitorId=function(){let x="";return async()=>(x||(x=await g()),x)}},function(e,r,l){var g=this&&this.__createBinding||(Object.create?function(C,u,f,n){n===void 0&&(n=f),Object.defineProperty(C,n,{enumerable:!0,get:function(){return u[f]}})}:function(C,u,f,n){n===void 0&&(n=f),C[n]=u[f]}),x=this&&this.__exportStar||function(C,u){for(var f in C)f==="default"||u.hasOwnProperty(f)||g(u,C,f)};Object.defineProperty(r,"__esModule",{value:!0}),x(l(102),r),x(l(103),r),x(l(104),r),x(l(105),r),x(l(106),r),x(l(4),r),x(l(107),r),x(l(8),r),x(l(108),r),x(l(109),r),x(l(110),r),x(l(111),r),x(l(112),r),x(l(113),r),x(l(114),r),x(l(115),r),x(l(116),r),x(l(117),r),x(l(118),r),x(l(119),r),x(l(46),r),x(l(120),r),x(l(5),r),x(l(121),r),x(l(122),r),x(l(123),r),x(l(124),r),x(l(125),r),x(l(126),r),x(l(127),r),x(l(128),r),x(l(129),r)},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbDocument=void 0,r.DbDocument=class{constructor(g={}){for(const x in g)this[x]=g[x]}appendEntity(g){var x;g&&(this.entitys=(x=this.entitys)!==null&&x!==void 0?x:[],Array.isArray(g)?this.entitys=[...this.entitys,...g]:this.entitys.push(g))}appendLayer(g){var x;g&&(this.layers=(x=this.layers)!==null&&x!==void 0?x:[],Array.isArray(g)?this.layers=[...this.layers,...g]:this.layers.push(g))}appendTextStyle(g){var x;g&&(this.textStyles=(x=this.textStyles)!==null&&x!==void 0?x:[],Array.isArray(g)?this.textStyles=[...this.textStyles,...g]:this.textStyles.push(g))}appendDimStyle(g){var x;g&&(this.dimStyles=(x=this.dimStyles)!==null&&x!==void 0?x:[],Array.isArray(g)?this.dimStyles=[...this.dimStyles,...g]:this.dimStyles.push(g))}appendLinetype(g){var x;g&&(this.linetypes=(x=this.linetypes)!==null&&x!==void 0?x:[],Array.isArray(g)?this.linetypes=[...this.linetypes,...g]:this.linetypes.push(g))}appendBlock(g){var x;g&&(this.blocks=(x=this.blocks)!==null&&x!==void 0?x:[],Array.isArray(g)?this.blocks=[...this.blocks,...g]:this.blocks.push(g))}toDoc(g){const x={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(C){var u,f,n,S,k,M,P,$="",R=0;for(C=x._utf8_encode(C);R<C.length;)S=(u=C.charCodeAt(R++))>>2,k=(3&u)<<4|(f=C.charCodeAt(R++))>>4,M=(15&f)<<2|(n=C.charCodeAt(R++))>>6,P=63&n,isNaN(f)?M=P=64:isNaN(n)&&(P=64),$=$+this._keyStr.charAt(S)+this._keyStr.charAt(k)+this._keyStr.charAt(M)+this._keyStr.charAt(P);return $},_utf8_encode:function(C){C=C.replace(/\r\n/g,`
`);for(var u="",f=0;f<C.length;f++){var n=C.charCodeAt(f);n<128?u+=String.fromCharCode(n):n>127&&n<2048?(u+=String.fromCharCode(n>>6|192),u+=String.fromCharCode(63&n|128)):(u+=String.fromCharCode(n>>12|224),u+=String.fromCharCode(n>>6&63|128),u+=String.fromCharCode(63&n|128))}return u}};return"data:application/dwg;base64,"+x.encode(g!=null?g:JSON.stringify(this))}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbLayer=void 0,r.DbLayer=class{constructor(g={}){for(const x in g)this[x]=g[x]}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbBlock=void 0,r.DbBlock=class{constructor(g={}){for(const x in g)this[x]=g[x]}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbTextStyle=void 0,r.DbTextStyle=class{constructor(g={}){for(const x in g)this[x]=g[x]}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbLineType=void 0,r.DbLineType=class{constructor(g={}){for(const x in g)this[x]=g[x]}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbLine=void 0;const g=l(4);class x extends g.DbEntity{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbLine"}}r.DbLine=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbPolyline=void 0;const g=l(8);class x extends g.DbCurve{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbPolyline"}}r.DbPolyline=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.Db2dPolyline=void 0;const g=l(8);class x extends g.DbCurve{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="Db2dPolyline"}}r.Db2dPolyline=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.Db3dPolyline=void 0;const g=l(8);class x extends g.DbCurve{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="Db3dPolyline"}}r.Db3dPolyline=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbSpline=void 0;const g=l(8);class x extends g.DbCurve{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbSpline"}}r.DbSpline=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbArc=void 0;const g=l(8);class x extends g.DbCurve{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbArc"}}r.DbArc=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbCircle=void 0;const g=l(8);class x extends g.DbCurve{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbCircle"}}r.DbCircle=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbEllipse=void 0;const g=l(8);class x extends g.DbCurve{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbEllipse"}}r.DbEllipse=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbBlockReference=void 0;const g=l(4);class x extends g.DbEntity{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbBlockReference"}}r.DbBlockReference=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbHatch=void 0;const g=l(4);class x extends g.DbEntity{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbHatch"}}r.DbHatch=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbText=void 0;const g=l(4);class x extends g.DbEntity{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbText"}}r.DbText=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbMText=void 0;const g=l(4);class x extends g.DbEntity{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbMText"}}r.DbMText=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbShape=void 0;const g=l(4);class x extends g.DbEntity{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbShape"}}r.DbShape=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbWipeout=void 0;const g=l(46);class x extends g.DbRasterImage{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbWipeout"}}r.DbWipeout=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.Db2LineAngularDimension=void 0;const g=l(5);class x extends g.DbDimension{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="Db2LineAngularDimension"}}r.Db2LineAngularDimension=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.Db3PointAngularDimension=void 0;const g=l(5);class x extends g.DbDimension{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="Db3PointAngularDimension"}}r.Db3PointAngularDimension=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbAlignedDimension=void 0;const g=l(5);class x extends g.DbDimension{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbAlignedDimension"}}r.DbAlignedDimension=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbArcDimension=void 0;const g=l(5);class x extends g.DbDimension{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbArcDimension"}}r.DbArcDimension=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbDiametricDimension=void 0;const g=l(5);class x extends g.DbDimension{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbDiametricDimension"}}r.DbDiametricDimension=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbOrdinateDimension=void 0;const g=l(5);class x extends g.DbDimension{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbOrdinateDimension"}}r.DbOrdinateDimension=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbRadialDimension=void 0;const g=l(5);class x extends g.DbDimension{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbRadialDimension"}}r.DbRadialDimension=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbRadialDimensionLarge=void 0;const g=l(5);class x extends g.DbDimension{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbRadialDimensionLarge"}}r.DbRadialDimensionLarge=x},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DbRotatedDimension=void 0;const g=l(5);class x extends g.DbDimension{constructor(u={}){super(u);for(const f in u)this[f]=u[f];this.typename="DbRotatedDimension"}}r.DbRotatedDimension=x},function(e,r,l){var g=this&&this.__createBinding||(Object.create?function(Ye,De,at,Ut){Ut===void 0&&(Ut=at),Object.defineProperty(Ye,Ut,{enumerable:!0,get:function(){return De[at]}})}:function(Ye,De,at,Ut){Ut===void 0&&(Ut=at),Ye[Ut]=De[at]}),x=this&&this.__exportStar||function(Ye,De){for(var at in Ye)at==="default"||De.hasOwnProperty(at)||g(De,Ye,at)};Object.defineProperty(r,"__esModule",{value:!0});var C=l(47);Object.defineProperty(r,"createAnimation",{enumerable:!0,get:function(){return C.createAnimation}});var u=l(134);Object.defineProperty(r,"inertia",{enumerable:!0,get:function(){return u.inertia}});var f=l(50);Object.defineProperty(r,"decay",{enumerable:!0,get:function(){return f.decay}});var n=l(53);Object.defineProperty(r,"spring",{enumerable:!0,get:function(){return n.spring}});var S=l(51);Object.defineProperty(r,"keyframes",{enumerable:!0,get:function(){return S.keyframes}});var k=l(135);Object.defineProperty(r,"angle",{enumerable:!0,get:function(){return k.angle}});var M=l(136);Object.defineProperty(r,"applyOffset",{enumerable:!0,get:function(){return M.applyOffset}});var P=l(137);Object.defineProperty(r,"createAttractor",{enumerable:!0,get:function(){return P.createAttractor}}),Object.defineProperty(r,"attract",{enumerable:!0,get:function(){return P.attract}}),Object.defineProperty(r,"attractExpo",{enumerable:!0,get:function(){return P.attractExpo}});var $=l(15);Object.defineProperty(r,"clamp",{enumerable:!0,get:function(){return $.clamp}});var R=l(56);Object.defineProperty(r,"degreesToRadians",{enumerable:!0,get:function(){return R.degreesToRadians}});var B=l(138);Object.defineProperty(r,"distance",{enumerable:!0,get:function(){return B.distance}});var V=l(20);Object.defineProperty(r,"interpolate",{enumerable:!0,get:function(){return V.interpolate}});var j=l(57);Object.defineProperty(r,"isPoint3D",{enumerable:!0,get:function(){return j.isPoint3D}});var U=l(25);Object.defineProperty(r,"isPoint",{enumerable:!0,get:function(){return U.isPoint}});var q=l(21);Object.defineProperty(r,"mixColor",{enumerable:!0,get:function(){return q.mixColor}});var Y=l(48);Object.defineProperty(r,"mixComplex",{enumerable:!0,get:function(){return Y.mixComplex}});var Q=l(16);Object.defineProperty(r,"mix",{enumerable:!0,get:function(){return Q.mix}});var te=l(23);Object.defineProperty(r,"pipe",{enumerable:!0,get:function(){return te.pipe}});var re=l(139);Object.defineProperty(r,"pointFromVector",{enumerable:!0,get:function(){return re.pointFromVector}});var oe=l(49);Object.defineProperty(r,"progress",{enumerable:!0,get:function(){return oe.progress}});var se=l(55);Object.defineProperty(r,"radiansToDegrees",{enumerable:!0,get:function(){return se.radiansToDegrees}});var fe=l(58);Object.defineProperty(r,"smoothFrame",{enumerable:!0,get:function(){return fe.smoothFrame}});var ge=l(140);Object.defineProperty(r,"smooth",{enumerable:!0,get:function(){return ge.smooth}});var Ce=l(141);Object.defineProperty(r,"snap",{enumerable:!0,get:function(){return Ce.snap}});var $e=l(59);Object.defineProperty(r,"toDecimal",{enumerable:!0,get:function(){return $e.toDecimal}});var be=l(142);Object.defineProperty(r,"velocityPerFrame",{enumerable:!0,get:function(){return be.velocityPerFrame}});var ke=l(54);Object.defineProperty(r,"velocityPerSecond",{enumerable:!0,get:function(){return ke.velocityPerSecond}});var Ee=l(143);Object.defineProperty(r,"wrap",{enumerable:!0,get:function(){return Ee.wrap}});var He=l(24);Object.defineProperty(r,"linear",{enumerable:!0,get:function(){return He.linear}}),Object.defineProperty(r,"easeIn",{enumerable:!0,get:function(){return He.easeIn}}),Object.defineProperty(r,"easeInOut",{enumerable:!0,get:function(){return He.easeInOut}}),Object.defineProperty(r,"easeOut",{enumerable:!0,get:function(){return He.easeOut}}),Object.defineProperty(r,"circIn",{enumerable:!0,get:function(){return He.circIn}}),Object.defineProperty(r,"circInOut",{enumerable:!0,get:function(){return He.circInOut}}),Object.defineProperty(r,"circOut",{enumerable:!0,get:function(){return He.circOut}}),Object.defineProperty(r,"backIn",{enumerable:!0,get:function(){return He.backIn}}),Object.defineProperty(r,"backInOut",{enumerable:!0,get:function(){return He.backInOut}}),Object.defineProperty(r,"backOut",{enumerable:!0,get:function(){return He.backOut}}),Object.defineProperty(r,"anticipate",{enumerable:!0,get:function(){return He.anticipate}}),Object.defineProperty(r,"bounceIn",{enumerable:!0,get:function(){return He.bounceIn}}),Object.defineProperty(r,"bounceInOut",{enumerable:!0,get:function(){return He.bounceInOut}}),Object.defineProperty(r,"bounceOut",{enumerable:!0,get:function(){return He.bounceOut}});var rt=l(144);Object.defineProperty(r,"cubicBezier",{enumerable:!0,get:function(){return rt.cubicBezier}});var ft=l(145);Object.defineProperty(r,"steps",{enumerable:!0,get:function(){return ft.steps}});var bt=l(52);Object.defineProperty(r,"mirrorEasing",{enumerable:!0,get:function(){return bt.mirrorEasing}}),Object.defineProperty(r,"reverseEasing",{enumerable:!0,get:function(){return bt.reverseEasing}}),Object.defineProperty(r,"createExpoIn",{enumerable:!0,get:function(){return bt.createExpoIn}}),Object.defineProperty(r,"createBackIn",{enumerable:!0,get:function(){return bt.createBackIn}}),Object.defineProperty(r,"createAnticipate",{enumerable:!0,get:function(){return bt.createAnticipate}}),x(l(146),r),x(l(147),r)},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.detectAnimationFromOptions=void 0;const g=l(50),x=l(51),C=l(53),u={keyframes:x.keyframes,spring:C.spring,decay:g.decay};r.detectAnimationFromOptions=function(f){if(Array.isArray(f.to))return x.keyframes;if(u[f.type])return u[f.type];const n=new Set(Object.keys(f));return n.has("ease")||n.has("duration")&&!n.has("dampingRatio")?x.keyframes:n.has("dampingRatio")||n.has("stiffness")||n.has("mass")||n.has("damping")||n.has("restSpeed")||n.has("restDelta")?C.spring:x.keyframes}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.calcAngularFreq=r.findSpring=r.maxDamping=r.minDamping=r.maxDuration=r.minDuration=void 0;const g=l(14),x=l(15);r.minDuration=.01,r.maxDuration=10,r.minDamping=.05,r.maxDamping=1,r.findSpring=function({duration:u=800,bounce:f=.25,velocity:n=0,mass:S=1}){let k,M;g.warning(u<=1e3*r.maxDuration,"Spring duration must be 10 seconds or less");let P=1-f;P=x.clamp(r.minDamping,r.maxDamping,P),u=x.clamp(r.minDuration,r.maxDuration,u/1e3),P<1?(k=R=>{const B=R*P,V=B*u;return .001-(B-n)/C(R,P)*Math.exp(-V)},M=R=>{const B=R*P*u,V=B*n+n,j=Math.pow(P,2)*Math.pow(R,2)*u,U=Math.exp(-B),q=C(Math.pow(R,2),P);return(.001-k(R)>0?-1:1)*((V-j)*U)/q}):(k=R=>Math.exp(-R*u)*((R-n)*u+1)-.001,M=R=>Math.exp(-R*u)*(u*u*(n-R)));const $=function(R,B,V){let j=V;for(let U=1;U<12;U++)j-=R(j)/B(j);return j}(k,M,5/u);if(u*=1e3,isNaN($))return{stiffness:100,damping:10,duration:u};{const R=Math.pow($,2)*S;return{stiffness:R,damping:2*P*Math.sqrt(S*R),duration:u}}};function C(u,f){return u*Math.sqrt(1-f*f)}r.calcAngularFreq=C},function(e,r,l){function g(x,C,u=0){return x-C-u}Object.defineProperty(r,"__esModule",{value:!0}),r.hasRepeatDelayElapsed=r.reverseElapsed=r.loopElapsed=void 0,r.loopElapsed=g,r.reverseElapsed=function(x,C,u=0,f=!0){return f?g(C+-x,C,u):C-(x-C)+u},r.hasRepeatDelayElapsed=function(x,C,u,f){return f?x>=C+u:x<=-u}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.inertia=void 0;const g=l(29),x=l(54),C=l(47);r.inertia=function({from:u=0,velocity:f=0,min:n,max:S,power:k=.8,timeConstant:M=750,bounceStiffness:P=500,bounceDamping:$=10,restDelta:R=1,modifyTarget:B,driver:V,onUpdate:j,onComplete:U,onStop:q}){let Y;function Q(se){return n!==void 0&&se<n||S!==void 0&&se>S}function te(se){return n===void 0?S:S===void 0||Math.abs(n-se)<Math.abs(S-se)?n:S}function re(se){Y==null||Y.stop(),Y=C.createAnimation(Object.assign(Object.assign({},se),{driver:V,onUpdate:fe=>{var ge;j==null||j(fe),(ge=se.onUpdate)===null||ge===void 0||ge.call(se,fe)},onComplete:U,onStop:q}))}function oe(se){re(Object.assign({type:"spring",stiffness:P,damping:$,restDelta:R},se))}if(Q(u))oe({from:u,velocity:f,to:te(u)});else{let se=k*f+u;B!==void 0&&(se=B(se));const fe=te(se),ge=fe===n?-1:1;let Ce,$e;const be=ke=>{Ce=$e,$e=ke,f=x.velocityPerSecond(ke-Ce,g.getFrameData().delta),(ge===1&&ke>fe||ge===-1&&ke<fe)&&oe({from:ke,to:fe,velocity:f})};re({type:"decay",from:u,velocity:f,timeConstant:M,power:k,restDelta:R,modifyTarget:B,onUpdate:Q(se)?be:void 0})}return{stop:()=>Y==null?void 0:Y.stop()}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.angle=void 0;const g=l(22),x=l(55);r.angle=(C,u=g.zeroPoint)=>x.radiansToDegrees(Math.atan2(u.y-C.y,u.x-C.x))},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.applyOffset=void 0,r.applyOffset=(g,x)=>{let C=!0;return x===void 0&&(x=g,C=!1),u=>C?u-g+x:(g=u,C=!0,x)}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.attractExpo=r.attract=r.createAttractor=void 0;const g=x=>x;r.createAttractor=(x=g)=>(C,u,f)=>{const n=u-f,S=-(0-C+1)*(0-x(Math.abs(n)));return n<=0?u+S:u-S},r.attract=r.createAttractor(),r.attractExpo=r.createAttractor(Math.sqrt)},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.distance=void 0;const g=l(22),x=l(25),C=l(57),u=(f,n)=>Math.abs(f-n);r.distance=function(f,n){if(g.isNum(f)&&g.isNum(n))return u(f,n);if(x.isPoint(f)&&x.isPoint(n)){const S=u(f.x,n.x),k=u(f.y,n.y),M=C.isPoint3D(f)&&C.isPoint3D(n)?u(f.z,n.z):0;return Math.sqrt(S**2+k**2+M**2)}return 0}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.pointFromVector=void 0;const g=l(56);r.pointFromVector=(x,C,u)=>(C=g.degreesToRadians(C),{x:u*Math.cos(C)+x.x,y:u*Math.sin(C)+x.y})},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.smooth=void 0;const g=l(29),x=l(58);r.smooth=(C=50)=>{let u=0,f=0;return n=>{const S=g.getFrameData().timestamp,k=S!==f?S-f:0,M=k?x.smoothFrame(u,n,k,C):u;return f=S,u=M,M}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.snap=void 0,r.snap=g=>{if(typeof g=="number")return x=>Math.round(x/g)*g;{let x=0;const C=g.length;return u=>{let f=Math.abs(g[0]-u);for(x=1;x<C;x++){const n=g[x],S=Math.abs(n-u);if(S===0)return n;if(S>f)return g[x-1];if(x===C-1)return n;f=S}}}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.velocityPerFrame=void 0,r.velocityPerFrame=function(g,x){return g/(1e3/x)}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.wrap=void 0,r.wrap=(g,x,C)=>{const u=x-g;return((C-g)%u+u)%u+g}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.cubicBezier=void 0;const g=l(24),x=(S,k)=>1-3*k+3*S,C=(S,k)=>3*k-6*S,u=S=>3*S,f=(S,k,M)=>((x(k,M)*S+C(k,M))*S+u(k))*S,n=(S,k,M)=>3*x(k,M)*S*S+2*C(k,M)*S+u(k);r.cubicBezier=function(S,k,M,P){if(S===k&&M===P)return g.linear;const $=new Float32Array(11);for(let B=0;B<11;++B)$[B]=f(.1*B,S,M);function R(B){let V=0,j=1;for(;j!==10&&$[j]<=B;++j)V+=.1;--j;const U=V+.1*((B-$[j])/($[j+1]-$[j])),q=n(U,S,M);return q>=.001?function(Y,Q,te,re){for(let oe=0;oe<8;++oe){const se=n(Q,te,re);if(se===0)return Q;Q-=(f(Q,te,re)-Y)/se}return Q}(B,U,S,M):q===0?U:function(Y,Q,te,re,oe){let se,fe,ge=0;do fe=Q+(te-Q)/2,se=f(fe,re,oe)-Y,se>0?te=fe:Q=fe;while(Math.abs(se)>1e-7&&++ge<10);return fe}(B,V,V+.1,S,M)}return B=>B===0||B===1?B:f(R(B),k,P)}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.steps=void 0;const g=l(15);r.steps=(x,C="end")=>u=>{const f=(u=C==="end"?Math.min(u,.999):Math.max(u,.001))*x,n=C==="end"?Math.floor(f):Math.ceil(f);return g.clamp(0,1,n/x)}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0})},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0})},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0});const g=l(2),x=l(19),C=l(3),u=l(0);C.Map.prototype.hasVectorLayer=function(){return!!this.getSource("vector-source")},C.Map.prototype.attach=function(f,n,S){this._svc=f,this.setProjection(n),this._attach_options=S},C.Map.prototype.getService=function(){return this._svc},C.Map.prototype.getAttachOptions=function(){return this._attach_options},C.Map.prototype.changeSourceTiles=function(f,n,S){let k=!!n;const M=Array.isArray(f)?f:[f];if(f.length!==0){if(!k){const P=!!this.getSource("raster-source"),$=!!this.getSource("vector-source");M[0].includes(".mvt")||M[0].includes(".pbf")?P?(this.disableLayerClickHighlight(),this.switchRasterToVectorStyle(M[0]),S||this.enableVectorLayerHoverHighlight(this._tempVectorHoverHighlightCb,this._tempVectorHoverHighlightPrefix)):k=!0:$?(this.disableVectorLayerHoverHighlight(),this.switchVectorToRasterStyle(M[0]),S||this.enableLayerClickHighlight()):k=!0}n=n!=null?n:this.getSource("raster-source")?"raster-source":"vector-source",k&&(this.getSource(n).tiles=M,typeof this.style._getSourceCache=="function"?(this.style._getSourceCache(n).clearTiles(),this.style._getSourceCache(n).update(this.transform)):(this.style.sourceCaches[n].clearTiles(),this.style.sourceCaches[n].update(this.transform)),this.triggerRepaint())}},C.Map.prototype.setProjection=function(f){this._proj=f},C.Map.prototype.getProjection=function(){return this._proj},C.Map.prototype.toLngLat=function(f){if(typeof f=="object"&&f.type==="FeatureCollection"&&"features"in f)return g.transform.convert(u.cloneDeep(f),n=>this.toLngLat(n));if(this._proj)return f instanceof C.LngLatBounds?new C.LngLatBounds(this._proj.toLngLat(f.getSouthWest()),this._proj.toLngLat(f.getNorthEast())):f instanceof g.GeoBounds?new C.LngLatBounds(this._proj.toLngLat(f.min),this._proj.toLngLat(f.max)):this._proj.toLngLat(f);{const n=g.GeoPoint.convert(f);return[n.x,n.y]}},C.Map.prototype.fromLngLat=function(f){return typeof f=="object"&&f.type==="FeatureCollection"&&"features"in f?g.transform.convert(u.cloneDeep(f),n=>{let S=this.fromLngLat(n);return[S.x,S.y]}):this._proj?f instanceof C.LngLatBounds?new g.GeoBounds(this._proj.fromLngLat(f.getSouthWest()),this._proj.fromLngLat(f.getNorthEast())):f instanceof g.GeoBounds?new g.GeoBounds(this._proj.fromLngLat(f.min),this._proj.fromLngLat(f.max)):this._proj.fromLngLat(f):g.GeoPoint.convert(f)},C.Map.prototype.switchRasterToVectorStyle=function(f,n,S,k,M,P,$,R){var B;const V=n!=null?n:"raster",j=M!=null?M:"vector";this.removeLayer(V+"-layer"),this.removeSource(V+"-source");const U=this.getService().vectorStyle(f,S,k,M,P,$,R);this.addSource(j+"-source",U.sources[j+"-source"]);for(const q of(B=U.layers)!==null&&B!==void 0?B:[])this.addLayer(q)},C.Map.prototype.switchVectorToRasterStyle=function(f,n,S,k,M){var P;const $=M!=null?M:"raster",R=n!=null?n:"vector",B=this.getService(),V=B.vectorStyle(f,S,k,n);for(const U of(P=V.layers)!==null&&P!==void 0?P:[])this.removeLayer(U.id);this.removeSource(R+"-source");const j=B.rasterStyle(f,S,k,M);this.addSource($+"-source",j.sources[$+"-source"]),this.addLayer(j.layers[0])},C.Map.prototype.enableVectorLayerHoverHighlight=function(f,n){var S,k;const M=n!=null?n:"vector";this._tempevents=(S=this._tempevents)!==null&&S!==void 0?S:{},this._tempHoverFeatureId,this._tempHoverLayer="",this._tempHoverFeature,this._tempVectorHoverHighlightCb=f,this._tempVectorHoverHighlightPrefix=n;const P=this.getService().vectorStyle("",0,0,n);for(const $ of(k=P.layers)!==null&&k!==void 0?k:[])$.id.includes("layer-polygons-border")||(this._tempevents["mousemove_"+$.id]=R=>{this.isInteracting()||R.features.length>0&&(R.features[0].id!=this._tempHoverFeatureId||$.id!=this._tempHoverLayer)&&(this._tempHoverFeatureId&&this._tempHoverLayer&&(this.setFeatureState({source:M+"-source",sourceLayer:this._tempHoverLayer,id:this._tempHoverFeatureId},{hover:!1}),f&&f("mouseleave",this._tempHoverFeature,this._tempHoverLayer,R)),this._tempHoverFeatureId=R.features[0].id,this._tempHoverLayer=R.features[0].sourceLayer,this._tempHoverFeature=R.features[0],this.setFeatureState({source:M+"-source",sourceLayer:this._tempHoverLayer,id:this._tempHoverFeatureId},{hover:!0}),f&&f("mousemove",this._tempHoverFeature,this._tempHoverLayer,R))},this.on("mousemove",$.id,this._tempevents["mousemove_"+$.id]),this._tempevents["mouseleave_"+$.id]=R=>{this.isInteracting()||(this._tempHoverFeatureId&&this._tempHoverLayer&&(this.setFeatureState({source:M+"-source",sourceLayer:this._tempHoverLayer,id:this._tempHoverFeatureId},{hover:!1}),f&&f("mouseleave",this._tempHoverFeature,this._tempHoverLayer,R)),this._tempHoverFeatureId=null,this._tempHoverLayer=null,this._tempHoverFeature=null)},this.on("mouseleave",$.id,this._tempevents["mouseleave_"+$.id]),this._tempevents["click_"+$.id]=R=>{this.isInteracting()||this._tempHoverFeatureId&&this._tempHoverLayer&&f&&f("click",this._tempHoverFeature,this._tempHoverLayer,R)},this.on("click",$.id,this._tempevents["click_"+$.id]))},C.Map.prototype.disableVectorLayerHoverHighlight=function(f){var n,S;if(!this._tempevents)return!1;const k=this.getService().vectorStyle("",0,0,f);for(const M of(n=k.layers)!==null&&n!==void 0?n:[])M.id.includes("layer-polygons-border")||(this._tempevents=(S=this._tempevents)!==null&&S!==void 0?S:{},this._tempevents["mousemove_"+M.id]&&this.off("mousemove",M.id,this._tempevents["mousemove_"+M.id]),this._tempevents["mouseleave_"+M.id]&&this.off("mouseleave",M.id,this._tempevents["mouseleave_"+M.id]),delete this._tempevents["mousemove_"+M.id],delete this._tempevents["mouseleave_"+M.id]);return this._tempevents=null,!0},C.Map.prototype.enableLayerClickHighlight=async function(f,n,S,k,M){var P;await this.onLoad();const $=f.currentMapParam(),R=$&&$.darkMode,B=k!=null?k:"highlight",V=S!=null?S:R?"#57FFC9":"#11F",j=()=>{this.addSource(B+"-source",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),this.addLayer({id:B+"-line-layer",type:"line",source:B+"-source",layout:{"line-join":"round","line-cap":"round"},paint:{"line-color":V,"line-width":3,"line-opacity":.8}}),this.addLayer({id:B+"-fill-layer",type:"fill",source:B+"-source",paint:{"fill-color":V,"fill-opacity":1}})},U=()=>{this.getSource(B+"-source")&&this.getSource(B+"-source").setData({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"LineString",coordinates:[]}}]})};U(),this.getSource(B+"-source")||j(),this._tempevents=(P=this._tempevents)!==null&&P!==void 0?P:{},this._tempevents.map_click_highlight=async q=>{if(this.isInteracting())return;const Y=this.fromLngLat(q.lngLat);let Q=await f.pointQueryFeature({zoom:this.getZoom(),x:Y.x,y:Y.y});M&&typeof M=="function"&&(Q=M(Q,this.getZoom(),Y.x,Y.y)),Q&&Q.result&&Q.result.length>0?(Q.result[0].geom&&S!="#0000"&&(this.getSource(B+"-source")||j(),this.getSource(B+"-source").setData(Q.result[0].geom),Q.result[0].isline?(this.setLayoutProperty(B+"-line-layer","visibility","visible"),this.setLayoutProperty(B+"-fill-layer","visibility","none")):(this.setLayoutProperty(B+"-line-layer","visibility","none"),this.setLayoutProperty(B+"-fill-layer","visibility","visible")),this.triggerRepaint()),n&&n(Q.result[0],q)):(U(),this.triggerRepaint(),n&&n(null,q))},this.on("click",this._tempevents.map_click_highlight)},C.Map.prototype.disableLayerClickHighlight=function(f){const n=f!=null?f:"highlight",S=!!this.getSource(n+"-source");return S&&(this.removeLayer(n+"-line-layer"),this.removeLayer(n+"-fill-layer"),this.removeSource(n+"-source")),this._tempevents&&this._tempevents.map_click_highlight&&(this.off("click",this._tempevents.map_click_highlight),delete this._tempevents.map_click_highlight),S},C.Map.prototype.switchLayers=async function(f,n){await f.cmdSwitchLayers(n);const S=!!this.getSource("vector-source");this.changeSourceTiles(S?f.vectorTileUrl():f.rasterTileUrl())},C.Map.prototype.updateStyle=async function(f,n,S){var k,M,P,$;let R=Object.assign({},n);if(S!==!0){let q=(k=f.currentMapParam())===null||k===void 0?void 0:k.styles,Y=(M=f.currentMapParam())===null||M===void 0?void 0:M.layer;if(Y&&Array.isArray(q)){let Q=q.find(te=>te.name==Y);if(!Q){let te=await f.metadata();f.setCurrentMapParam({styles:te.styles}),Q=te.styles.find(re=>re.name==Y)}Q&&(R.layeron===void 0&&R.layeroff===void 0&&(R.layeron=Q.layeron,R.layeroff=Q.layeroff),R.clipbounds===void 0&&(R.clipbounds=Q.clipbounds),R.backcolor===void 0&&(R.backcolor=Q.backcolor),R.lineweight===void 0&&(R.lineweight=Q.lineweight),R.expression===void 0&&(R.expression=Q.expression))}}let B=(P=f.currentMapParam())===null||P===void 0?void 0:P.darkMode;const V=await f.cmdUpdateStyle(R);V.boundsChange&&this.updateMapExtent(V.bounds);const j=!!this.getSource("vector-source");this.changeSourceTiles(j?f.vectorTileUrl():f.rasterTileUrl());let U=($=f.currentMapParam())===null||$===void 0?void 0:$.darkMode;if(j&&U!=B){let q=this.getStyle(),Y=q.layers,Q=f.vectorStyle();if(Array.isArray(Q.layers)&&Array.isArray(q.layers))for(let te of Q.layers){let re=Y==null?void 0:Y.findIndex(oe=>oe.id==te.id);re!==void 0&&re>=0&&(q.layers[re]=te)}this.setStyle(q)}},C.Map.prototype.updateMapExtent=function(f){let n;n=Array.isArray(f)?g.GeoBounds.fromArray(f):typeof f=="string"?g.GeoBounds.fromString(f):f;const S=new g.GeoProjection(n);return this.setProjection(S),S},C.Map.prototype.fitMapBounds=function(f,n,S){const k=this.getProjection().getMapExtent();f=f!=null?f:.7;const M=k.scale(f,k.center());return this.fitBounds([this.toLngLat(M.max),this.toLngLat(M.min)],n,S),this},C.Map.prototype.getGeoBounds=function(f){const n=this.getProjection().getMapExtent();return f=f!=null?f:.7,n.scale(f,n.center())},C.Map.prototype.getMarkers=function(){return this._markers},C.Map.prototype.projectEx=function(f){const n=this.transform.locationCoordinate(C.LngLat.convert(f)),S=[n.x*this.transform.worldSize,n.y*this.transform.worldSize,n.toAltitude(),1];return g.vec4.transformMat4(S,S,this.transform.pixelMatrix),new C.Point(S[0]/S[3],S[1]/S[3])},C.Map.prototype.createThreeJsContext=function(f){if(typeof vjThree!="function")throw Error("no vjThree environment, Please add vjThree plugins.");return window._global_map_=this,new vjThree(this,this.getCanvas().getContext("webgl"),f)},C.Map.prototype.pixelToGeoLength=function(f,n){return this.getProjection().getMapExtent().width()*f/(512*Math.pow(2,n))},C.Map.prototype.geoToPixelLength=function(f,n){return f/this.pixelToGeoLength()},C.Map.prototype.geoToMercatorLength=function(f){const n=this.getProjection().getMapExtent();return f*g.Projection.EQUATORIAL_SEMIPERIMETER*2/n.width()},C.Map.prototype.mercatorToGeoLength=function(f){return f*this.getProjection().getMapExtent().width()/(2*g.Projection.EQUATORIAL_SEMIPERIMETER)},C.Map.prototype.setCustomKeyValue=function(f,n){this._customObj=this._customObj||{},this._customObj[f]=n},C.Map.prototype.getCustomKeyValue=function(f){if(this._customObj)return this._customObj[f]},C.Map.prototype.isInteracting=function(){return!!this._isInteracting},C.Map.prototype.setIsInteracting=function(f){return this._isInteracting=f,!!this._isInteracting},C.Map.prototype.setError=function(f){this.setCustomKeyValue("mapOpenError",f),f&&this.fire("maperror",f)},C.Map.prototype.getError=function(){return this.getCustomKeyValue("mapOpenError")},C.Map.prototype.removeMarkers=function(){let f=[...this.getMarkers()];for(let n of f)n&&n.remove&&n.remove();if(this._markers=[],this._divOverlays&&Array.isArray(this._divOverlays)){for(let n of this._divOverlays)n&&n.remove&&n.remove();this._divOverlays=[]}this.fire("removeMarkers",f)},C.Map.prototype.removePopups=function(){let f=[...document.getElementsByClassName("vjmapgis-popup")];for(let n of f)n.remove();this.fire("removePopups",f)},C.Map.prototype.switchMap=async function(f,n,S,k,M,P){this.fire("mapopenstart",f);let $=this.getService();if(!$){let U="service is null";return this.setError(U),U}let R,B=await $.openMap(f);if(B.error)return this.setError(B.error),B.error;let V=!1;if(f.mapopenway===x.MapOpenWay.Memory?R=$.rasterTileUrl():(R=S?$.vectorTileUrl():$.rasterTileUrl(),V=!!S),n)this.changeSourceTiles(R,P);else{let U=!1;V&&(U=this.disableVectorLayerHoverHighlight());let q,Y=this.getStyle().sources;for(let Q in Y)this.removeSourceEx(Q);this.removeMarkers(),this.removePopups(),q=f.mapopenway===x.MapOpenWay.Memory?$.rasterStyle():S?$.vectorStyle():$.rasterStyle(),this.setStyle(q),U&&this.enableVectorLayerHoverHighlight(this._tempVectorHoverHighlightCb,this._tempVectorHoverHighlightPrefix)}let j=g.GeoBounds.fromString(B.bounds);this.updateMapExtent(j),k&&this.setCenter(this.toLngLat(j.center())),M&&this.fitMapBounds(),this.fire("mapopenfinish",B)},C.Map.prototype.getEnvelopBounds=function(f){let n=(f=(f=f.replace("POLYGON((","")).replace("))","")).split(","),S=[];for(let k=0;k<4;k++){n[k]=n[k].trim();let M=n[k].split(" "),P=+M[0],$=+M[1],R=this._proj.fromMercator([P,$]);S.push(R)}return g.GeoBounds.fromDataExtent(S)},C.Map.prototype.getSourceData=function(f){var n;return(n=this.getSource(f))===null||n===void 0?void 0:n._data}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.MousePositionControl=void 0;const g=l(2);r.MousePositionControl=class{constructor(x={}){var C,u,f,n,S,k,M,P;this.digits=(C=x.digits)!==null&&C!==void 0?C:5,this.trackCenter=(u=x.trackCenter)!==null&&u!==void 0&&u,this.labelFormat=(f=x.labelFormat)!==null&&f!==void 0?f:this.defaultLabelFormat,this.prj=x.projection,this.showLatLng=(n=x.showLatLng)!==null&&n!==void 0&&n,this.showZoom=(S=x.showZoom)!==null&&S!==void 0&&S,this.showBearing=(k=x.showBearing)!==null&&k!==void 0&&k,this.showPitch=(M=x.showPitch)!==null&&M!==void 0&&M,this.style=(P=x.style)!==null&&P!==void 0?P:{backgroundColor:"hsla(0,0%,100%,.75)",border:"1px solid #333"},this.coord=new g.GeoPoint(0,0)}insertControl(){this.container=document.createElement("div"),this.container.classList.add("vjmapgis-ctrl"),this.container.style.border=this.style.border,this.container.style.backgroundColor=this.style.backgroundColor,this.panel=document.createElement("div"),this.trackCenter?this.onMouseMove():this.panel.innerHTML=this.labelFormat(0,0,0,0,this.map),this.container.appendChild(this.panel)}defaultLabelFormat(x,C,u,f){let n="";return n=this.showLatLng?`x:${u.toFixed(this.digits)},y:${f.toFixed(this.digits)};lng:${x.toFixed(this.digits)},lat:${C.toFixed(this.digits)};`:`${u.toFixed(this.digits)}, ${f.toFixed(this.digits)}`,this.showZoom&&(n+=", zoom: "+this.map.getZoom().toFixed(2)),this.showBearing&&(n+=", bearing: "+this.map.getBearing().toFixed(2)),this.showPitch&&(n+=", pitch: "+this.map.getPitch().toFixed(2)),n}onMouseMove(x){var C;if(this.trackCenter){const f=(C=this.map)===null||C===void 0?void 0:C.getCenter();this.coord=new g.GeoPoint(f==null?void 0:f.lng,f==null?void 0:f.lat)}else this.coord=new g.GeoPoint(x.lngLat.lng,x.lngLat.lat);let u=this.prj;if(u||(u=this.map.getProjection()),u){const f=u.fromLngLat(this.coord);this.panel.innerHTML=this.labelFormat(this.coord.x,this.coord.y,f.x,f.y,this.map)}}onAdd(x){return this.map=x,this.insertControl(),this.trackCenter?this.map.on("move",this.onMouseMove.bind(this)):this.map.on("mousemove",this.onMouseMove.bind(this)),this.container}onRemove(){var x;this.trackCenter?this.map.off("move",this.onMouseMove.bind(this)):this.map.off("mousemove",this.onMouseMove.bind(this)),(x=this.container.parentNode)===null||x===void 0||x.removeChild(this.container)}getDefaultPosition(){return"bottom-left"}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.MiniMapControl=void 0;const g=l(3);r.MiniMapControl=class{constructor(x){var C,u,f,n,S,k,M,P,$,R,B,V,j,U,q,Y,Q,te;this._ticking=!1,this._lastMouseMoveEvent=null,this._isDragging=!1,this._isCursorOverFeature=!1,this._previousPoint=[0,0],this._currentPoint=[0,0],this._trackingRectCoordinates=[[[],[],[],[],[]]],this.options=x,this.options.id=(C=this.options.id)!==null&&C!==void 0?C:"vjmap-minimap",this.options.width=(u=this.options.width)!==null&&u!==void 0?u:"360px",this.options.height=(f=this.options.width)!==null&&f!==void 0?f:"360px",this.options.center=(n=this.options.center)!==null&&n!==void 0?n:[0,0],this.options.zoom=(S=this.options.zoom)!==null&&S!==void 0?S:0,this.options.zoomAdjust=(k=this.options.zoomAdjust)!==null&&k!==void 0?k:null,this.options.lineColor=(M=this.options.lineColor)!==null&&M!==void 0?M:"#08F",this.options.lineWidth=(P=this.options.lineWidth)!==null&&P!==void 0?P:1,this.options.lineOpacity=($=this.options.lineOpacity)!==null&&$!==void 0?$:1,this.options.fillColor=(R=this.options.fillColor)!==null&&R!==void 0?R:"#F80",this.options.fillOpacity=(B=this.options.fillOpacity)!==null&&B!==void 0?B:.25,this.options.dragPan=(V=this.options.dragPan)!==null&&V!==void 0&&V,this.options.scrollZoom=(j=this.options.scrollZoom)!==null&&j!==void 0&&j,this.options.boxZoom=(U=this.options.boxZoom)!==null&&U!==void 0&&U,this.options.dragRotate=(q=this.options.dragRotate)!==null&&q!==void 0&&q,this.options.keyboard=(Y=this.options.keyboard)!==null&&Y!==void 0&&Y,this.options.doubleClickZoom=(Q=this.options.doubleClickZoom)!==null&&Q!==void 0&&Q,this.options.touchZoomRotate=(te=this.options.touchZoomRotate)!==null&&te!==void 0&&te}onAdd(x){var C;this._parentMap=x;let u=this.options,f=x.getService();u.style=(C=u.style)!==null&&C!==void 0?C:f.rasterStyle();let n=this._createContainer(x);this._container=n;let S=this._miniMap=new g.Map({attributionControl:!1,container:n,style:u.style,zoom:u.zoom,center:u.center});return S.attach(f,x.getProjection()),u.maxBounds&&S.setMaxBounds(u.maxBounds),S.on("load",this._load.bind(this)),this._container}onRemove(){var x;this._miniMap.remove(),(x=this._container.parentNode)===null||x===void 0||x.removeChild(this._container)}getDefaultPosition(){return"top-right"}_load(){let x=this.options,C=this._parentMap,u=this._miniMap;["dragPan","scrollZoom","boxZoom","dragRotate","keyboard","doubleClickZoom","touchZoomRotate"].forEach(n=>{this.options[n]!==!0&&u[n].disable()}),typeof x.zoomAdjust=="function"?this.options.zoomAdjust=x.zoomAdjust.bind(this):x.zoomAdjust===null&&(this.options.zoomAdjust=this._zoomAdjust.bind(this));let f=u.getBounds();this._convertBoundsToPoints(f),u.addSource("trackingRect",{type:"geojson",data:{type:"Feature",properties:{name:"trackingRect"},geometry:{type:"Polygon",coordinates:this._trackingRectCoordinates}}}),u.addLayer({id:"trackingRectOutline",type:"line",source:"trackingRect",layout:{},paint:{"line-color":x.lineColor,"line-width":x.lineWidth,"line-opacity":x.lineOpacity}}),u.addLayer({id:"trackingRectFill",type:"fill",source:"trackingRect",layout:{},paint:{"fill-color":x.fillColor,"fill-opacity":x.fillOpacity}}),this._trackingRect=this._miniMap.getSource("trackingRect"),this._update(),C.on("move",this._update.bind(this)),u.on("mousemove",this._mouseMove.bind(this)),u.on("mousedown",this._mouseDown.bind(this)),u.on("mouseup",this._mouseUp.bind(this)),u.on("touchmove",this._mouseMove.bind(this)),u.on("touchstart",this._mouseDown.bind(this)),u.on("touchend",this._mouseUp.bind(this)),this._miniMapCanvas=u.getCanvasContainer(),this._miniMapCanvas.addEventListener("wheel",this._preventDefault),this._miniMapCanvas.addEventListener("mousewheel",this._preventDefault)}_mouseDown(x){this._isCursorOverFeature&&(this._isDragging=!0,this._previousPoint=this._currentPoint,this._currentPoint=[x.lngLat.lng,x.lngLat.lat])}_mouseMove(x){this._ticking=!1;let C=this._miniMap.queryRenderedFeatures(x.point,{layers:["trackingRectFill"]});if(this._isCursorOverFeature&&C.length>0||(this._isCursorOverFeature=C.length>0,this._miniMapCanvas.style.cursor=this._isCursorOverFeature?"move":""),this._isDragging){this._previousPoint=this._currentPoint,this._currentPoint=[x.lngLat.lng,x.lngLat.lat];let u=[this._previousPoint[0]-this._currentPoint[0],this._previousPoint[1]-this._currentPoint[1]],f=this._moveTrackingRect(u);f._ne.lng>=-180&&f._ne.lng<=180&&f._ne.lat>=-85&&f._ne.lat<=85&&f._sw.lng>=-180&&f._sw.lng<=180&&f._sw.lat>=-85&&f._sw.lat<=85&&this._parentMap.fitBounds(f,{duration:80,noMoveStart:!0})}}_mouseUp(){this._isDragging=!1,this._ticking=!1}_moveTrackingRect(x){let C=this._trackingRect,u=C._data,f=u.properties.bounds;return f._ne.lat-=x[1],f._ne.lng-=x[0],f._sw.lat-=x[1],f._sw.lng-=x[0],this._convertBoundsToPoints(f),C.setData(u),f}_setTrackingRectBounds(x){let C=this._trackingRect,u=C._data;u.properties.bounds=x,this._convertBoundsToPoints(x),C.setData(u)}_convertBoundsToPoints(x){let C=x._ne,u=x._sw,f=this._trackingRectCoordinates;f[0][0][0]=C.lng,f[0][0][1]=C.lat,f[0][1][0]=u.lng,f[0][1][1]=C.lat,f[0][2][0]=u.lng,f[0][2][1]=u.lat,f[0][3][0]=C.lng,f[0][3][1]=u.lat,f[0][4][0]=C.lng,f[0][4][1]=C.lat}_update(x){if(this._isDragging)return;let C=this._parentMap.getBounds();this._setTrackingRectBounds(C),typeof this.options.zoomAdjust=="function"&&this.options.zoomAdjust()}_zoomAdjust(){}_createContainer(x){var C;let u=this.options,f=document.createElement("div");if(f.className="vjmapgis-ctrl-minimap vjmapgis-ctrl",f.setAttribute("style","width: "+u.width+"; height: "+u.height+";"),f.addEventListener("contextmenu",this._preventDefault),f.style.background=(C=f.style.background)!==null&&C!==void 0?C:"#31346a85",u.containerStyle)for(let n in u.containerStyle)f.style[n]=u.containerStyle[n];return x.getContainer().appendChild(f),u.id!==""&&(f.id=u.id),f}_preventDefault(x){x.preventDefault()}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0});const g=l(3);g.Marker.prototype.setAnimation=function(u){const f=this.getElement();if(f&&f.children&&f.children[0])switch(this._animationType=u,u){case"MAP_ANIMATION_NONE":f.children[0].classList.remove("markerKeyframesImgAnimation"),f.children[0].classList.remove("markerKeyframesAnimationDrop");break;case"MAP_ANIMATION_BOUNCE":f.children[0].classList.remove("markerKeyframesAnimationDrop"),f.children[0].classList.add("markerKeyframesImgAnimation");break;case"MAP_ANIMATION_DROP":f.children[0].classList.remove("markerKeyframesImgAnimation"),f.children[0].classList.add("markerKeyframesAnimationDrop"),f.children[0].style.display==="none"&&setTimeout(()=>{f.children[0].style.display="block"},10);break;default:f.children[0].classList.remove("markerKeyframesImgAnimation"),f.children[0].classList.remove("markerKeyframesAnimationDrop")}},g.Marker.prototype.show=function(){this._visible=!0,this.getElement().style.display="block"},g.Marker.prototype.hide=function(){this._visible=!1,this.getElement().style.display="none"},g.Marker.prototype.setColor=function(u){this.getElement().querySelectorAll('svg g[fill="'+this._color+'"]')[0].setAttribute("fill",u),this._color=u},g.Marker.prototype.setCursor=function(u){this._cursor=u,this.getElement().style.cursor=u};const x=g.Marker.prototype.addTo;g.Marker.prototype.addTo=function(){this.type||(this.type="marker"),typeof x=="function"&&x.call(this,...arguments);const u=j=>this.fire("click",j),f=j=>this.fire("mousemove",j),n=j=>this.fire("mousedown",j),S=j=>this.fire("mouseup",j),k=j=>this.fire("mouseover",j),M=j=>this.fire("mouseleave",j),P=j=>this.fire("dblclick",j),$=j=>this.fire("contextmenu",j),R=j=>this.fire("touchstart",j),B=j=>this.fire("touchmove",j),V=j=>this.fire("touchend",j);this.getElement().addEventListener("click",u),this.getElement().addEventListener("mouseover",k),this.getElement().addEventListener("mouseleave",M),this.getElement().addEventListener("dblclick",P),this.getElement().addEventListener("contextmenu",$),this.getElement().addEventListener("touchstart",R),this.getElement().addEventListener("touchmove",B),this.getElement().addEventListener("touchend",V),this.getElement().addEventListener("mousedown",n),this.getElement().addEventListener("mousemove",f),this.getElement().addEventListener("mouseup",S),this._remove_evt=()=>{this.getElement().removeEventListener("click",u),this.getElement().removeEventListener("mouseover",k),this.getElement().removeEventListener("mouseleave",M),this.getElement().removeEventListener("dblclick",P),this.getElement().removeEventListener("contextmenu",$),this.getElement().removeEventListener("touchstart",R),this.getElement().removeEventListener("touchmove",B),this.getElement().removeEventListener("touchend",V),this.getElement().removeEventListener("mousedown",n),this.getElement().removeEventListener("mousemove",f),this.getElement().removeEventListener("mouseup",S)}};const C=g.Marker.prototype.remove;g.Marker.prototype.remove=function(){typeof this._remove_evt=="function"&&this._remove_evt.call(this),typeof C=="function"&&C.call(this,...arguments)}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0})},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0})},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.Text=void 0;const g=l(0),x=l(3);class C extends x.Evented{constructor(f){var n;super(),f=f!=null?f:{},this._style={};const S=g.Dom.create("div");S.className="vjmap-text";const k=g.Dom.create("div");k.className="vjmap-text-content";const M=g.Dom.create("div");M.className="text-content-container",M.innerHTML=(n=f.text)!==null&&n!==void 0?n:"",k.appendChild(M),this._textContainerDom=M,S.appendChild(k),this._marker=new x.Marker(S,f),this._marker.setEventedParent(this),this.setStyle(f.style),this.type="text"}addTo(f){return this._map=f,this._marker.addTo(f),this}remove(){return this._marker.remove(),this}getLngLat(){return this._marker._lngLat}setLngLat(f){return this._marker.setLngLat(f),this}getElement(){return this._marker._element}setPopup(f){return this._marker.setPopup(f),this}getPopup(){return this._marker._popup}togglePopup(){return this._marker.togglePopup(),this}getOffset(){return this._marker._offset}setOffset(f){return this._marker.setOffset(f),this}setDraggable(f){return this._marker.setDraggable(f),this}isDraggable(){return this._marker._draggable}setRotation(f){return this._marker.setRotation(f),this}getRotation(){return this._marker._rotation}setRotationAlignment(f){return this._marker.setRotationAlignment(f),this}getRotationAlignment(){return this._marker._rotationAlignment}setPitchAlignment(f){return this._marker.setPitchAlignment(f),this}getPitchAlignment(){return this._marker._pitchAlignment}setAnimation(f){this._marker.setAnimation(f)}show(){this._marker.show()}hide(){this._marker.hide()}setCursor(f){this._marker.setCuror(f)}setText(f){return this._textContainerDom.innerHTML=f,this}getText(){return this._textContainerDom.innerHTML}setStyle(f={}){for(const n in f)if(f.hasOwnProperty(n)){const S=n.replace(/\-(\w)/g,function(k,M){return M.toUpperCase()});this._textContainerDom.style[S]=f[n],this._style[S]=f[n]}return this}getStyle(){return this._style}}r.Text=C},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.PolylineArrow=void 0;const g=l(2),x=l(0),C=l(35);var u=g.Math2D.lineDist;r.PolylineArrow=class{constructor(f){var n;this.options=C.extend({dirIconColor:"#fff",borderGapWidth:0,lineGapWidth:0,borderBlur:0,lineBlur:0,borderGradient:"",borderOffset:0,lineOffset:0,borderTranslateAnchor:"map",lineTranslateAnchor:"map",borderMiterLimit:1.05,lineMiterLimit:1.05,lineSortKey:0,showDir:!1,lineCap:"round",lineColor:"#0037e4",lineWidth:2,strokeDasharray:[2,2],strokeImage:"",lineJoin:"round",lineOpacity:1,lineTranslate:[0,0],showBorder:!1,borderWidth:1,borderOpacity:1,borderColor:"#000000",visible:!0,strokeStyle:"solid",animated:!1,dirSize:.4,dirSpacing:30,zIndex:100,beforeId:""},f),this.animateFun=null,this.animatedPointIdx=0,this.geojson={id:"custom_line_"+x.RandomID(),type:"line"},this.id=this.geojson.id,this.type="polyline",this.lineArrowImageName="vj-Polyline-arrow",this.borderGeoJson={id:"lineBorder_"+x.RandomID(),type:"line"},this._layers={one:"",two:"",three:""},this._map=(n=f.map)!==null&&n!==void 0?n:null,C.bindAll(["addTo","on","off","setColor","setOpacity","setWeight","setBorderColor","setBorderOpacity","setborderWidth","show","hide","setOptions","getId","getPath","animate","getOptions","getLength","getBounds","_addLayer","_addStrokeImage","setStrokeImage","_creatDirLine","setCursor","_addShowDirFun","_mouseenterCallbackFun","_mouseleaveCallbackFun","_createLineGeojson","_createBorderLine","setExtData","getExtData","_updateLineStyle","setzIndex","getzIndex","setHeight"],this),this._timeout=null,this._interval=null,this.init()}init(){this.createGeojson()}createGeojson(){this._createLineGeojson(),this.options.showBorder&&this._createBorderLine(),this.options.showDir&&this._creatDirLine(),this._map&&this.addTo(this._map,this.options.beforeId)}_createLineGeojson(){this.geojson.source={type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:this.options.path}}},this.options.minZoom&&(this.geojson.minZoom=this.options.minZoom),this.options.maxZoom&&(this.geojson.maxZoom=this.options.maxZoom),this.geojson.layout={"line-join":this.options.lineJoin,"line-cap":this.options.lineCap,"line-miter-limit":this.options.lineMiterLimit,"line-sort-key":this.options.lineSortKey,visibility:this.options.visible?"visible":"none"},this.geojson.paint={"line-color":this.options.lineColor,"line-width":this.options.lineWidth,"line-opacity":this.options.lineOpacity,"line-translate":this.options.lineTranslate,"line-gap-width":this.options.lineGapWidth,"line-blur":this.options.lineBlur,"line-offset":this.options.lineOffset,"line-translate-anchor":this.options.lineTranslateAnchor},this.options.lineGradient&&(this.geojson.paint["line-gradient"]=this.options.lineGradient),this.options.strokeStyle==="dashed"&&(this.geojson.paint["line-dasharray"]=this.options.strokeDasharray)}_createBorderLine(){this.borderGeoJson.source=this.geojson.source,this.options.minZoom&&(this.borderGeoJson.minZoom=this.options.minZoom),this.options.maxZoom&&(this.borderGeoJson.maxZoom=this.options.maxZoom),this.borderGeoJson.layout={"line-join":this.options.lineJoin,"line-cap":this.options.lineCap,"line-miter-limit":this.options.borderMiterLimit,"line-sort-key":this.options.lineSortKey,visibility:this.options.visible?"visible":"none"},this.borderGeoJson.paint={"line-color":this.options.borderColor,"line-width":this.options.lineWidth+2*this.options.borderWidth,"line-opacity":this.options.borderOpacity,"line-translate":this.options.lineTranslate,"line-gap-width":this.options.borderGapWidth,"line-blur":this.options.borderBlur,"line-offset":this.options.borderOffset,"line-translate-anchor":this.options.borderTranslateAnchor},this.options.borderGradient&&(this.borderGeoJson.paint["line-gradient"]=this.options.borderGradient),this._layers.one=this.borderGeoJson.id,this._layers.two=this.id}_creatDirLine(){var f,n,S;const k=(f=this.options.dirImageColor)!==null&&f!==void 0?f:"#ffffff",M=this.lineArrowImageName+k;let P={"symbol-avoid-edges":!1,"icon-anchor":"center","symbol-placement":"line","symbol-spacing":this.options.dirSpacing,"symbol-z-order":"source","icon-image":M,"icon-size":this.options.dirSize,"icon-rotate":0,"icon-pitch-alignment":"viewport",visibility:this.options.visible?"visible":"none"};P=C.extend(P,(n=this.options.dirLayout)!==null&&n!==void 0?n:{}),this.lineGeojson={id:"custom_line-icon_"+x.RandomID(),type:"symbol",source:this.geojson.source,layout:P,paint:{"icon-color":(S=this.options.dirIconColor)!==null&&S!==void 0?S:"#fff"}},this.options.minZoom&&(this.lineGeojson.minZoom=this.options.minZoom),this.options.maxZoom&&(this.lineGeojson.maxZoom=this.options.maxZoom),this._layers.three=this.lineGeojson.id}getLength(){const f=[];return g.transform.convert(this.getPath(),n=>(f.push(new g.GeoPoint(n[0],n[1])),n)),u(f)}getBounds(){return g.GeoBounds.fromDataExtent(this.getPath())}getId(){return this.id}remove(){var f,n,S,k,M,P;this._map&&(((f=this._map)===null||f===void 0?void 0:f.getLayer(this.borderGeoJson.id))&&((n=this._map)===null||n===void 0||n.removeLayer(this.borderGeoJson.id)),((S=this._map)===null||S===void 0?void 0:S.getLayer(this.id))&&((k=this._map)===null||k===void 0||k.removeLayer(this.id)),this.lineGeojson&&((M=this._map)===null||M===void 0?void 0:M.getLayer(this.lineGeojson.id))&&((P=this._map)===null||P===void 0||P.removeLayer(this.lineGeojson.id)),this._layers={one:"",two:"",three:""})}_addStrokeImage(){var f;this.options.strokeImage!==""&&(this.strokeImageName="custom_line_strokeImageName_"+x.RandomID(),(f=this._map)===null||f===void 0||f.loadImage(this.options.strokeImage,(n,S)=>{var k;n||((k=this._map)===null||k===void 0||k.addImage(this.strokeImageName,S),this.geojson.paint["line-pattern"]=this.strokeImageName,this._addLayer())}))}setStrokeImage(f){var n,S;f?(this.options.strokeImage=f,this.strokeImageName="custom_line_strokeImageName_"+x.RandomID(),(n=this._map)===null||n===void 0||n.loadImage(this.options.strokeImage,(k,M)=>{var P,$;k||((P=this._map)===null||P===void 0||P.addImage(this.strokeImageName,M),($=this._map)===null||$===void 0||$.setPaintProperty(this.id,"line-pattern",this.strokeImageName),this.hide(),this.show())})):(S=this._map)===null||S===void 0||S.setPaintProperty(this.id,"line-pattern",null)}addTo(f,n){n=n!=null?n:"",f?(n&&(this.options.beforeId=n),this._map=f,f.loaded()?this.options.strokeImage===""?(this._addLayer(),this._addShowDirFun()):(this._addStrokeImage(),this._addShowDirFun()):f.onLoad(()=>{this.options.strokeImage===""?(this._addLayer(),this._addShowDirFun()):(this._addStrokeImage(),this._addShowDirFun())})):this._map&&this.remove()}_addShowDirFun(){var f,n,S,k,M,P;const $=(f=this.options.dirImageColor)!==null&&f!==void 0?f:"#ffffff",R=`<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"> 
                <path d="M529.6128 512L239.9232 222.4128 384.7168 77.5168 819.2 512 384.7168 946.4832 239.9232 801.5872z" p-id="9085" fill="${$}"></path> 
            </svg>
            `,B="data:image/svg+xml;base64,"+window.btoa(unescape(encodeURIComponent(R))),V=(n=this.options.dirImageSrc)!==null&&n!==void 0?n:B,j=this.lineArrowImageName+$;if(this.options.showDir)if((S=this._map)===null||S===void 0?void 0:S.hasImage(j))this._layers.three=this.lineGeojson.id,(P=this._map)===null||P===void 0||P.addLayer(this.lineGeojson,this.options.beforeId);else{const U=new Image((k=this.options.dirImageWidth)!==null&&k!==void 0?k:20,(M=this.options.dirImageHeight)!==null&&M!==void 0?M:20);U.src=V,U.onload=()=>{var q,Y,Q;((q=this._map)===null||q===void 0?void 0:q.hasImage(j))||(Y=this._map)===null||Y===void 0||Y.addImage(j,U),this._layers.three=this.lineGeojson.id,(Q=this._map)===null||Q===void 0||Q.addLayer(this.lineGeojson,this.options.beforeId)}}}_addLayer(){var f,n,S;this._layers.one=this.id,(f=this._map)===null||f===void 0||f.addLayer(this.geojson,this.options.beforeId),this.options.showBorder&&(this._layers.one=this.borderGeoJson.id,this._layers.two=this.id,(n=this._map)===null||n===void 0||n.addLayer(this.borderGeoJson,this.id)),this._mapStyleCursor=(S=this._map)===null||S===void 0?void 0:S.getCanvas().style.cursor,this.options.cursor&&this.setCursor(this.options.cursor)}setCursor(f){var n,S,k,M;f&&(this.options.cursor=f,(n=this._map)===null||n===void 0||n.off("mouseenter",this.geojson.id,this._mouseenterCallbackFun),(S=this._map)===null||S===void 0||S.off("mouseleave",this.geojson.id,this._mouseleaveCallbackFun),(k=this._map)===null||k===void 0||k.on("mouseenter",this.geojson.id,this._mouseenterCallbackFun),(M=this._map)===null||M===void 0||M.on("mouseleave",this.geojson.id,this._mouseleaveCallbackFun))}_mouseenterCallbackFun(){this._map&&this.options.cursor&&(this._map.getCanvas().style.cursor=this.options.cursor)}_mouseleaveCallbackFun(){this._map&&this.options.cursor&&typeof this._mapStyleCursor=="string"&&(this._map.getCanvas().style.cursor=this._mapStyleCursor)}setPath(f){var n,S,k;this.options.path=f,this.geojson.source.data.geometry.coordinates=f,this.options.showBorder&&((n=this._map)===null||n===void 0||n.getSource(this.borderGeoJson.id).setData(this.geojson.source.data)),(S=this._map)===null||S===void 0||S.getSource(this.geojson.id).setData(this.geojson.source.data),this.options.showDir&&(this.lineGeojson.source.data.geometry.coordinates=f,(k=this._map)===null||k===void 0||k.getSource(this.lineGeojson.id).setData(this.lineGeojson.source.data)),this._newInterpolatePoints=void 0}getPath(){return this.options.path}animate(f=100,n=10,S=!1,k,M){this._newInterpolatePoints||(this._newInterpolatePoints=g.interpolateLineRange(this.getPath(),f,!0)),f=this._newInterpolatePoints.length,this._newPoints=[];const P=x.createFrameAnimation($=>{var R,B,V,j,U,q;if(this._newPoints.push(this._newInterpolatePoints[this.animatedPointIdx]),(this.animatedPointIdx>=f||$===x.FrameAnimationStatus.Stop)&&(this._newPoints=this.getPath()),this.geojson.source.data.geometry.coordinates=this._newPoints,this.options.showBorder&&((B=(R=this._map)===null||R===void 0?void 0:R.getSource(this.borderGeoJson.id))===null||B===void 0||B.setData(this.geojson.source.data.geometry)),this.options.showDir&&((j=(V=this._map)===null||V===void 0?void 0:V.getSource(this.lineGeojson.id))===null||j===void 0||j.setData(this.geojson.source.data.geometry)),(q=(U=this._map)===null||U===void 0?void 0:U.getSource(this.geojson.id))===null||q===void 0||q.setData(this.geojson.source.data.geometry),M){const Q={target:this,startPnt:this._newPoints[this._newPoints.length-2<0?0:this._newPoints.length-2],endPnt:this._newPoints[this._newPoints.length-1],coordinates:this._newPoints};M($,Q)}this.animatedPointIdx++;let Y=this.animatedPointIdx>=f;return Y&&S&&(this._newPoints=[],this.animatedPointIdx=0,Y=!1),$===x.FrameAnimationStatus.Stop&&(this._newPoints=[],this.animatedPointIdx=0,Y=!0),Y},n,k);return P.start(),P}on(f,n){var S;(S=this._map)===null||S===void 0||S.on(f,this.id,n)}once(f,n){var S;(S=this._map)===null||S===void 0||S.once(f,this.id,n)}off(f,n){var S;(S=this._map)===null||S===void 0||S.off(f,this.id,n)}setOptions(f){var n,S,k,M,P,$,R,B;((n=f.strokeImage)!==null&&n!==void 0?n:f.strokeImage==="")&&this.setStrokeImage(f.strokeImage);const V={lineColor:"line-color",lineWidth:"line-width",lineOpacity:"line-opacity",lineTranslate:"line-translate",lineGapWidth:"line-gap-width",lineBlur:"line-blur",lineGradient:"line-gradient",lineOffset:"line-offset",lineTranslateAnchor:"line-translate-anchor"},j=Object.keys(V),U={borderColor:"line-color",borderWidth:"line-width",borderOpacity:"line-opacity",lineTranslate:"line-translate",borderGapWidth:"line-gap-width",borderBlur:"line-blur",borderGradient:"line-gradient",borderOffset:"line-offset",borderTranslateAnchor:"line-translate-anchor"},q=Object.keys(U),Y={lineJoin:"line-join",lineCap:"line-cap"},Q=Object.keys(Y);let te;for(te in f)if(this.options[te]=f[te],(S=this._map)===null||S===void 0?void 0:S.getLayer(this.id)){if(j.includes(te)&&(te==="lineWidth"&&this.options.showBorder&&((k=this._map)===null||k===void 0||k.setPaintProperty(this.borderGeoJson.id,V[te],f[te]+2*this.options.borderWidth)),(M=this._map)===null||M===void 0||M.setPaintProperty(this.id,V[te],f[te])),this.options.showBorder&&q.includes(te)){const re=te==="borderWidth"?this.options.lineWidth+2*f[te]:f[te];(P=this._map)===null||P===void 0||P.setPaintProperty(this.borderGeoJson.id,U[te],re)}Q.includes(te)&&(this.options.showBorder&&(($=this._map)===null||$===void 0||$.setLayoutProperty(this.borderGeoJson.id,Y[te],f[te])),(R=this._map)===null||R===void 0||R.setLayoutProperty(this.id,Y[te],f[te]))}((B=this._map)===null||B===void 0?void 0:B.getLayer(this.id))&&this._updateLineStyle(f),f.map&&this.addTo(f.map)}_updateLineStyle(f){var n,S,k,M,P,$,R,B,V;((S=(n=this._map)===null||n===void 0?void 0:n.getLayer(this.borderGeoJson.id))!==null&&S!==void 0?S:!f.showBorder)?((k=this._map)===null||k===void 0?void 0:k.getLayer(this.borderGeoJson.id))&&!f.showBorder&&((M=this._map)===null||M===void 0||M.removeLayer(this.borderGeoJson.id),this._layers.one=this.id,this._layers.two=""):(this._createBorderLine(),this._layers.two=this.id,this._layers.one=this.borderGeoJson.id,(P=this._map)===null||P===void 0||P.addLayer(this.borderGeoJson,this.id)),f.strokeStyle==="dashed"?($=this._map)===null||$===void 0||$.setPaintProperty(this.id,"line-dasharray",this.options.strokeDasharray):f.strokeStyle==="solid"&&((R=this._map)===null||R===void 0||R.setPaintProperty(this.id,"line-dasharray",null)),this.lineGeojson?f.showDir?f.dirSize&&((V=this._map)===null||V===void 0||V.setLayoutProperty(this.lineGeojson.id,"icon-size",this.options.dirSize)):((B=this._map)===null||B===void 0||B.removeLayer(this.lineGeojson.id),this.lineGeojson=null,this._layers.three=""):f.showDir&&(this._creatDirLine(),this._addShowDirFun()),f.path&&this.setPath(f.path),f.visible?this.show():f.visible||this.hide(),f.cursor&&f.cursor!==""&&this.setCursor(f.cursor)}getOptions(){return this.options}setColor(f){var n,S;this._map&&((n=this._map)===null||n===void 0?void 0:n.style.hasLayer(this.id))&&(this.options.lineColor=f,(S=this._map)===null||S===void 0||S.setPaintProperty(this.id,"line-color",f))}setOpacity(f){var n,S;this._map&&((n=this._map)===null||n===void 0?void 0:n.style.hasLayer(this.id))&&(this.options.lineOpacity=f,(S=this._map)===null||S===void 0||S.setPaintProperty(this.id,"line-opacity",f))}setWeight(f){var n,S,k;this._map&&((n=this._map)===null||n===void 0?void 0:n.style.hasLayer(this.id))&&(this.options.lineWidth=f,this.options.showBorder&&((S=this._map)===null||S===void 0||S.setPaintProperty(this.borderGeoJson.id,"line-width",f+2*this.options.borderWidth)),(k=this._map)===null||k===void 0||k.setPaintProperty(this.id,"line-width",f))}setBorderColor(f){var n,S;this._map&&((n=this._map)===null||n===void 0?void 0:n.style.hasLayer(this.borderGeoJson.id))&&(this.options.borderColor=f,this.options.showBorder&&((S=this._map)===null||S===void 0||S.setPaintProperty(this.borderGeoJson.id,"line-color",f)))}setBorderOpacity(f){var n,S;this._map&&((n=this._map)===null||n===void 0?void 0:n.style.hasLayer(this.borderGeoJson.id))&&(this.options.borderOpacity=f,this.options.showBorder&&((S=this._map)===null||S===void 0||S.setPaintProperty(this.borderGeoJson.id,"line-opacity",f)))}setborderWidth(f){var n,S;this._map&&((n=this._map)===null||n===void 0?void 0:n.style.hasLayer(this.borderGeoJson.id))&&(this.options.borderWidth=f,this.options.showBorder&&((S=this._map)===null||S===void 0||S.setPaintProperty(this.borderGeoJson.id,"line-width",this.options.lineWidth+2*f)))}show(){var f,n,S;this.options.showBorder&&((f=this._map)===null||f===void 0||f.setLayoutProperty(this.borderGeoJson.id,"visibility","visible")),(n=this._map)===null||n===void 0||n.setLayoutProperty(this.id,"visibility","visible"),this.options.showDir&&((S=this._map)===null||S===void 0||S.setLayoutProperty(this.lineGeojson.id,"visibility","visible"))}hide(){var f,n,S;this.options.showBorder&&((f=this._map)===null||f===void 0||f.setLayoutProperty(this.borderGeoJson.id,"visibility","none")),(n=this._map)===null||n===void 0||n.setLayoutProperty(this.id,"visibility","none"),this.options.showDir&&((S=this._map)===null||S===void 0||S.setLayoutProperty(this.lineGeojson.id,"visibility","none"))}showDir(){this.options.showDir=!0,this._creatDirLine(),this._addShowDirFun()}removeDir(){var f,n;this.options.showDir&&((f=this._map)===null||f===void 0?void 0:f.style.hasLayer(this.lineGeojson.id))&&((n=this._map)===null||n===void 0||n.removeLayer(this.lineGeojson.id)),this.options.showDir=!1}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.CircleFill=void 0;const g=l(2),x=l(26);class C extends x.Polygon{constructor(f){super(f)}addTo(f,n){var S,k,M;this.options.data=f.toLngLat(g.getCirclePolygonCoordinates(this.options.center,this.options.radius,(S=this.options.points)!==null&&S!==void 0?S:360,(k=this.options.startAngle)!==null&&k!==void 0?k:0,(M=this.options.endAngle)!==null&&M!==void 0?M:360,!0)),this.options.properties&&(this.options.data={points:this.options.data,properties:this.options.properties}),super.addTo(f,n)}updateData(){this.options.data=this._map.toLngLat(g.getCirclePolygonCoordinates(this.options.center,this.options.radius,this.options.startAngle,this.options.endAngle,this.options.points,!0)),this.options.properties&&(this.options.data={points:this.options.data,properties:this.options.properties}),this.setData(this.options.data)}setCenter(f,n=!0){return this.options.center=f,n&&this.updateData(),this}getCenter(){return this.options.center}setRadius(f,n=!0){return this.options.radius=f,n&&this.updateData(),this}getRadius(){return this.options.radius}setStartAngle(f,n=!0){return this.options.startAngle=f,n&&this.updateData(),this}getStartAngle(){return this.options.startAngle}setEndAngle(f,n=!0){return this.options.endAngle=f,n&&this.updateData(),this}getEndAngle(){return this.options.endAngle}setPoints(f,n=!0){return this.options.points=f,n&&this.updateData(),this}getPoints(){return this.options.points}}r.CircleFill=C},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.EllipseFill=void 0;const g=l(2),x=l(26);class C extends x.Polygon{constructor(f){super(f)}addTo(f,n){var S,k,M;this.options.data=f.toLngLat(g.getEllipsePolygonCoordinates(this.options.center,this.options.majorAxisRadius,this.options.minorAxisRadius,(S=this.options.points)!==null&&S!==void 0?S:360,(k=this.options.startAngle)!==null&&k!==void 0?k:0,(M=this.options.endAngle)!==null&&M!==void 0?M:360,!0)),this.options.properties&&(this.options.data={points:this.options.data,properties:this.options.properties}),super.addTo(f,n)}updateData(){this.options.data=this._map.toLngLat(g.getEllipsePolygonCoordinates(this.options.center,this.options.majorAxisRadius,this.options.minorAxisRadius,this.options.startAngle,this.options.endAngle,this.options.points,!0)),this.options.properties&&(this.options.data={points:this.options.data,properties:this.options.properties}),this.setData(this.options.data)}setCenter(f,n=!0){return this.options.center=f,n&&this.updateData(),this}getCenter(){return this.options.center}setMajorAxisRadius(f,n=!0){return this.options.majorAxisRadius=f,n&&this.updateData(),this}getMajorAxisRadius(){return this.options.majorAxisRadius}setMinorAxisRadius(f,n=!0){return this.options.minorAxisRadius=f,n&&this.updateData(),this}getMinorAxisRadius(){return this.options.minorAxisRadius}setStartAngle(f,n=!0){return this.options.startAngle=f,n&&this.updateData(),this}getStartAngle(){return this.options.startAngle}setEndAngle(f,n=!0){return this.options.endAngle=f,n&&this.updateData(),this}getEndAngle(){return this.options.endAngle}setPoints(f,n=!0){return this.options.points=f,n&&this.updateData(),this}getPoints(){return this.options.points}}r.EllipseFill=C},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.CircleEdge=void 0;const g=l(2),x=l(27);class C extends x.Polyline{constructor(f){super(f)}addTo(f,n){var S,k,M;this.options.data=f.toLngLat(g.getCirclePolygonCoordinates(this.options.center,this.options.radius,(S=this.options.points)!==null&&S!==void 0?S:360,(k=this.options.startAngle)!==null&&k!==void 0?k:0,(M=this.options.endAngle)!==null&&M!==void 0?M:360,!1)),this.options.properties&&(this.options.data={points:this.options.data,properties:this.options.properties}),super.addTo(f,n)}updateData(){this.options.data=this._map.toLngLat(getCirclePolylineCoordinates(this.options.center,this.options.radius,this.options.startAngle,this.options.endAngle,this.options.points,!0)),this.options.properties&&(this.options.data={points:this.options.data,properties:this.options.properties}),this.setData(this.options.data)}setCenter(f,n=!0){return this.options.center=f,n&&this.updateData(),this}getCenter(){return this.options.center}setRadius(f,n=!0){return this.options.radius=f,n&&this.updateData(),this}getRadius(){return this.options.radius}setStartAngle(f,n=!0){return this.options.startAngle=f,n&&this.updateData(),this}getStartAngle(){return this.options.startAngle}setEndAngle(f,n=!0){return this.options.endAngle=f,n&&this.updateData(),this}getEndAngle(){return this.options.endAngle}setPoints(f,n=!0){return this.options.points=f,n&&this.updateData(),this}getPoints(){return this.options.points}}r.CircleEdge=C},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.EllipseEdge=void 0;const g=l(2),x=l(27);class C extends x.Polyline{constructor(f){super(f)}addTo(f,n){var S,k,M;this.options.data=f.toLngLat(g.getCirclePolygonCoordinates(this.options.center,this.options.majorAxisRadius,this.options.minorAxisRadius,(S=this.options.points)!==null&&S!==void 0?S:360,(k=this.options.startAngle)!==null&&k!==void 0?k:0,(M=this.options.endAngle)!==null&&M!==void 0?M:360,!0)),this.options.properties&&(this.options.data={points:this.options.data,properties:this.options.properties}),super.addTo(f,n)}updateData(){this.options.data=this._map.toLngLat(getEllipsePolylineCoordinates(this.options.center,this.options.majorAxisRadius,this.options.minorAxisRadius,this.options.startAngle,this.options.endAngle,this.options.points,!0)),this.options.properties&&(this.options.data={points:this.options.data,properties:this.options.properties}),this.setData(this.options.data)}setCenter(f,n=!0){return this.options.center=f,n&&this.updateData(),this}getCenter(){return this.options.center}setMajorAxisRadius(f,n=!0){return this.options.majorAxisRadius=f,n&&this.updateData(),this}getMajorAxisRadius(){return this.options.majorAxisRadius}setMinorAxisRadius(f,n=!0){return this.options.minorAxisRadius=f,n&&this.updateData(),this}getMinorAxisRadius(){return this.options.minorAxisRadius}setStartAngle(f,n=!0){return this.options.startAngle=f,n&&this.updateData(),this}getStartAngle(){return this.options.startAngle}setEndAngle(f,n=!0){return this.options.endAngle=f,n&&this.updateData(),this}getEndAngle(){return this.options.endAngle}setPoints(f,n=!0){return this.options.points=f,n&&this.updateData(),this}getPoints(){return this.options.points}}r.EllipseEdge=C},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundLayer=void 0;const g=l(0),x=l(6);class C extends x.OverlayLayerBase{constructor(f){super(),this.options=g.extend({},f)}addTo(f,n){var S,k;this._map=f,this.layerId=(S=this.options.layerId)!==null&&S!==void 0?S:"custom_background_layer_"+g.RandomID();const M={};this.options.backgroundColor&&(M["background-color"]=this.options.backgroundColor),this.options.backgroundPattern&&(M["background-pattern"]=this.options.backgroundPattern),this.options.backgroundOpacity&&(M["background-opacity"]=this.options.backgroundOpacity),f.addLayer({id:this.layerId,type:"background",paint:M,layout:{visibility:(k=this.options.visibility)!==null&&k!==void 0?k:"visible"}},n),super.addTo(f,n)}setBackgroundColor(f){return this._map.setBackgroundColor(this.layerId,f),this}getBackgroundColor(){return this._map.getBackgroundColor(this.layerId)}setBackgroundPattern(f){return this._map.setBackgroundPattern(this.layerId,f),this}getBackgroundPattern(){return this._map.getBackgroundPattern(this.layerId)}setBackgroundOpacity(f){return this._map.setBackgroundOpacity(this.layerId,f),this}getBackgroundOpacity(){return this._map.getBackgroundOpacity(this.layerId)}}r.BackgroundLayer=C},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.FillExtrusion=void 0;const g=l(0),x=l(6);class C extends x.OverlayLayerBase{constructor(f){super(),this.options=g.extend({},f)}addTo(f,n){var S,k;if(this._map=f,this.sourceId=(S=this.options.sourceId)!==null&&S!==void 0?S:"custom_fillExtrusion_"+g.RandomID(),this.options.data){const M=g.createPolygonGeoJson(this.options.data);f.addGeoJSONSource(this.sourceId,M)}this.layerId=(k=this.options.layerId)!==null&&k!==void 0?k:"custom_fillExtrusion_layer_"+g.RandomID(),f.addFillExtrusionLayer(this.layerId,this.sourceId,this.options,n),super.addTo(f,n)}setData(f){f=g.createPolygonGeoJson(f),this._map.setData(this.sourceId,f)}setFillExtrusionOpacity(f){return this._map.setFillExtrusionOpacity(this.layerId,f),this}getFillExtrusionOpacity(){return this._map.getFillExtrusionOpacity(this.layerId)}setFillExtrusionColor(f){return this._map.setFillExtrusionColor(this.layerId,f),this}getFillExtrusionColor(){return this._map.getFillExtrusionColor(this.layerId)}setFillExtrusionTranslate(f){return this._map.setFillExtrusionTranslate(this.layerId,f),this}getFillExtrusionTranslate(){return this._map.getFillExtrusionTranslate(this.layerId)}setFillExtrusionTranslateAnchor(f){return this._map.setFillExtrusionTranslateAnchor(this.layerId,f),this}getFillExtrusionTranslateAnchor(){return this._map.getFillExtrusionTranslateAnchor(this.layerId)}setFillExtrusionPattern(f){return this._map.setFillExtrusionPattern(this.layerId,f),this}getFillExtrusionPattern(){return this._map.getFillExtrusionPattern(this.layerId)}setFillExtrusionHeight(f){return this._map.setFillExtrusionHeight(this.layerId,f),this}getFillExtrusionHeight(){return this._map.getFillExtrusionHeight(this.layerId)}setFillExtrusionBase(f){return this._map.setFillExtrusionBase(this.layerId,f),this}getFillExtrusionBase(){return this._map.getFillExtrusionBase(this.layerId)}setFillExtrusionVerticalGradient(f){return this._map.setFillExtrusionVerticalGradient(this.layerId,f),this}getFillExtrusionVerticalGradient(){return this._map.getFillExtrusionVerticalGradient(this.layerId)}}r.FillExtrusion=C},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.SkyLayer=void 0;const g=l(0),x=l(6);class C extends x.OverlayLayerBase{constructor(f){super(),this.options=g.extend({},f)}addTo(f,n){var S,k;this._map=f,this.layerId=(S=this.options.layerId)!==null&&S!==void 0?S:"custom_sky_layer_"+g.RandomID();const M={};this.options.skyAtmosphereColor&&(M["sky-atmosphere-color"]=this.options.skyAtmosphereColor),this.options.skyAtmosphereHaloColor&&(M["sky-atmosphere-halo-color"]=this.options.skyAtmosphereHaloColor),this.options.skyAtmosphereSunIntensity&&(M["sky-atmosphere-sun-intensity"]=this.options.skyAtmosphereSunIntensity),this.options.skyAtmosphereSun&&(M["sky-atmosphere-sun"]=this.options.skyAtmosphereSun),this.options.skyGradient&&(M["sky-gradient"]=this.options.skyGradient),this.options.skyGradientCenter&&(M["sky-gradient-center"]=this.options.skyGradientCenter),this.options.skyGradientRadius&&(M["sky-gradient-radius"]=this.options.skyGradientRadius),this.options.skyOpacity&&(M["sky-opacity"]=this.options.skyOpacity),this.options.skyType&&(M["sky-type"]=this.options.skyType),f.addLayer({id:this.layerId,type:"sky",paint:M,layout:{visibility:(k=this.options.visibility)!==null&&k!==void 0?k:"visible"}},n),super.addTo(f,n)}setSkyType(f){return this._map.setSkyType(this.layerId,f),this}getSkyType(){return this._map.getSkyType(this.layerId)}setSkyAtmosphereSun(f){return this._map.setSkyAtmosphereSun(this.layerId,f),this}getSkyAtmosphereSun(){return this._map.getSkyAtmosphereSun(this.layerId)}setSkyAtmosphereSunIntensity(f){return this._map.setSkyAtmosphereSunIntensity(this.layerId,f),this}getSkyAtmosphereSunIntensity(){return this._map.getSkyAtmosphereSunIntensity(this.layerId)}setSkyGradientCenter(f){return this._map.setSkyGradientCenter(this.layerId,f),this}getSkyGradientCenter(){return this._map.getSkyGradientCenter(this.layerId)}setSkyGradientRadius(f){return this._map.setSkyGradientRadius(this.layerId,f),this}getSkyGradientRadius(){return this._map.getSkyGradientRadius(this.layerId)}setSkyGradient(f){return this._map.setSkyGradient(this.layerId,f),this}getSkyGradient(){return this._map.getSkyGradient(this.layerId)}setSkyAtmosphereHaloColor(f){return this._map.setSkyAtmosphereHaloColor(this.layerId,f),this}getSkyAtmosphereHaloColor(){return this._map.getSkyAtmosphereHaloColor(this.layerId)}setSkyAtmosphereColor(f){return this._map.setSkyAtmosphereColor(this.layerId,f),this}getSkyAtmosphereColor(){return this._map.getSkyAtmosphereColor(this.layerId)}setSkyOpacity(f){return this._map.setSkyOpacity(this.layerId,f),this}getSkyOpacity(){return this._map.getSkyOpacity(this.layerId)}}r.SkyLayer=C},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.Circle=void 0;const g=l(0),x=l(6);class C extends x.OverlayLayerBase{constructor(f){super(),this.options=g.extend({},f)}addTo(f,n){var S,k;if(this._map=f,this.sourceId=(S=this.options.sourceId)!==null&&S!==void 0?S:"custom_circle_"+g.RandomID(),this.options.data){const M=g.createPointGeoJson(this.options.data);f.addGeoJSONSource(this.sourceId,M)}this.layerId=(k=this.options.layerId)!==null&&k!==void 0?k:"custom_circle_layer_"+g.RandomID(),f.addCircleLayer(this.layerId,this.sourceId,this.options,n),super.addTo(f,n)}setData(f){f=g.createPointGeoJson(f),this._map.setData(this.sourceId,f)}setCircleSortKey(f){return this._map.setCircleSortKey(this.layerId,f),this}getCircleSortKey(){return this._map.getCircleSortKey(this.layerId)}setVisibility(f){return this._map.setVisibility(this.layerId,f),this}getVisibility(){return this._map.getVisibility(this.layerId)}setCircleRadius(f){return this._map.setCircleRadius(this.layerId,f),this}getCircleRadius(){return this._map.getCircleRadius(this.layerId)}setCircleColor(f){return this._map.setCircleColor(this.layerId,f),this}getCircleColor(){return this._map.getCircleColor(this.layerId)}setCircleBlur(f){return this._map.setCircleBlur(this.layerId,f),this}getCircleBlur(){return this._map.getCircleBlur(this.layerId)}setCircleOpacity(f){return this._map.setCircleOpacity(this.layerId,f),this}getCircleOpacity(){return this._map.getCircleOpacity(this.layerId)}setCircleTranslate(f){return this._map.setCircleTranslate(this.layerId,f),this}getCircleTranslate(){return this._map.getCircleTranslate(this.layerId)}setCircleTranslateAnchor(f){return this._map.setCircleTranslateAnchor(this.layerId,f),this}getCircleTranslateAnchor(){return this._map.getCircleTranslateAnchor(this.layerId)}setCirclePitchScale(f){return this._map.setCirclePitchScale(this.layerId,f),this}getCirclePitchScale(){return this._map.getCirclePitchScale(this.layerId)}setCirclePitchAlignment(f){return this._map.setCirclePitchAlignment(this.layerId,f),this}getCirclePitchAlignment(){return this._map.getCirclePitchAlignment(this.layerId)}setCircleStrokeWidth(f){return this._map.setCircleStrokeWidth(this.layerId,f),this}getCircleStrokeWidth(){return this._map.getCircleStrokeWidth(this.layerId)}setCircleStrokeColor(f){return this._map.setCircleStrokeColor(this.layerId,f),this}getCircleStrokeColor(){return this._map.getCircleStrokeColor(this.layerId)}setCircleStrokeOpacity(f){return this._map.setCircleStrokeOpacity(this.layerId,f),this}getCircleStrokeOpacity(){return this._map.getCircleStrokeOpacity(this.layerId)}}r.Circle=C},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.Heatmap=void 0;const g=l(0),x=l(6);class C extends x.OverlayLayerBase{constructor(f){super(),this.options=g.extend({},f)}addTo(f,n){var S,k;if(this._map=f,this.sourceId=(S=this.options.sourceId)!==null&&S!==void 0?S:"custom_heatmap_"+g.RandomID(),this.options.data){const M=g.createPointGeoJson(this.options.data);f.addGeoJSONSource(this.sourceId,M)}this.layerId=(k=this.options.layerId)!==null&&k!==void 0?k:"custom_heatmap_layer_"+g.RandomID(),f.addHeatmapLayer(this.layerId,this.sourceId,this.options,n),super.addTo(f,n)}setData(f){f=g.createPointGeoJson(f),this._map.setData(this.sourceId,f)}setHeatmapRadius(f){return this._map.setHeatmapRadius(this.layerId,f),this}getHeatmapRadius(){return this._map.getHeatmapRadius(this.layerId)}setHeatmapWeight(f){return this._map.setHeatmapWeight(this.layerId,f),this}getHeatmapWeight(){return this._map.getHeatmapWeight(this.layerId)}setHeatmapIntensity(f){return this._map.setHeatmapIntensity(this.layerId,f),this}getHeatmapIntensity(){return this._map.getHeatmapIntensity(this.layerId)}setHeatmapColor(f){return this._map.setHeatmapColor(this.layerId,f),this}getHeatmapColor(){return this._map.getHeatmapColor(this.layerId)}setHeatmapOpacity(f){return this._map.setHeatmapOpacity(this.layerId,f),this}getHeatmapOpacity(){return this._map.getHeatmapOpacity(this.layerId)}}r.Heatmap=C},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DivOverlay=void 0;const g=l(2);var x=g.Math2D.dist;r.DivOverlay=class{constructor(C){var u,f;this.options=C,this.minZoom=(u=this.options.minZoom)!==null&&u!==void 0?u:0,this.maxZoom=(f=this.options.maxZoom)!==null&&f!==void 0?f:100,this.isShow=!1,this.isRemoved=!1,this.type="divOverlay"}addTo(C,u){if(this._map=C,!this.parentContainer){let f=C.getContainer();if(u)if(typeof u=="string"){const n=document.getElementById(u);n&&(f=n)}else f=u;this.parentContainer=f}this._add()}_isShow(){var C,u;const f=(u=(C=this._map)===null||C===void 0?void 0:C.getZoom())!==null&&u!==void 0?u:0;return f>=this.minZoom&&f<this.maxZoom&&!this.isRemoved}_add(C){var u,f,n,S;C||(this.isRemoved=!1),this._isShow()&&!this.isShow&&(this.isShow=!0,(u=this.parentContainer)===null||u===void 0||u.append(this.options.element),(f=this._map)===null||f===void 0||f.on("zoomend",this._updateZoom.bind(this)),(n=this._map)===null||n===void 0||n.on("moveend",this._update.bind(this)),(S=this._map)===null||S===void 0||S.on("move",this._update.bind(this)),this._updateZoom(),this._map._divOverlays=this._map._divOverlays||[],this._map._divOverlays.push(this))}_remove(C){var u,f,n;if(this.isRemoved=!C,this.isShow&&(this.isShow=!1,(u=this._map)===null||u===void 0||u.off("zoomend",this._updateZoom.bind(this)),(f=this._map)===null||f===void 0||f.off("moveend",this._update.bind(this)),(n=this._map)===null||n===void 0||n.off("move",this._update.bind(this)),this.parentContainer&&this.parentContainer.removeChild(this.options.element),this._map._divOverlays&&Array.isArray(this._map._divOverlays))){const S=this._map._divOverlays.indexOf(this);S!==-1&&this._map._divOverlays.splice(S,1)}}setVisible(C,u){u?this.options.element.style.display=C?"":"none":C?(this._add(),this._update()):this._remove()}remove(){this._remove()}updateBounds(C){this.options.bounds=C,this._update()}updateSize(C,u){this.options.width=C,this.options.height=u,this._update()}_updateZoom(){this.isRemoved||(this._isShow()?(this._add(!0),this._update()):this._remove(!0))}_updateDivSize(C){var u;if(!this.options.updateDivSize)return null;const f=(u=this.options.maxDivSize)!==null&&u!==void 0?u:5e4;return C>f&&(C=f),this.options.width>this.options.height?(this.options.height=C*this.options.height/this.options.width,this.options.width=C):(this.options.width=C*this.options.width/this.options.height,this.options.height=C),this.options.element.style.width=this.options.width+"px",this.options.element.style.height=this.options.height+"px",{width:this.options.width,height:this.options.height}}_adjustCoord(C,u){var f,n;const S=[];for(let P=0;P<u.length;P++){const $=(f=this._map)===null||f===void 0?void 0:f.projectEx((n=this._map)===null||n===void 0?void 0:n.toLngLat(u[P]));S.push($.x),S.push($.y)}let k=0;for(let P=0;P<S.length;P+=2)for(let $=0;$<S.length;$+=2){if(P===$)continue;const R=x(S[P],S[P+1],S[$],S[$+1]);R>k&&(k=R)}const M=this._updateDivSize(k);return M&&(C=[0,M.height,0,0,M.width,0,M.width,M.height]),{src:C,pts:S,maxLength:k}}_update(){if(!this.options.element)return;let C=this.options.bounds;C instanceof g.GeoBounds&&(C=[[C.min.x,C.min.y],[C.min.x,C.max.y],[C.max.x,C.max.y],[C.max.x,C.min.y]]);const u=this._adjustCoord([0,this.options.height,0,0,this.options.width,0,this.options.width,this.options.height],C),f=g.buildTransformerMatrix3d(u.src,u.pts);f!=null&&(this.options.element.style.transform=f),this.options.element.style.transformOrigin="0 0"}}},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.DeckLayer=void 0;const g=l(0),x=l(3);class C extends x.Evented{constructor(f){var n,S;super(),this.id=(n=f.id)!==null&&n!==void 0?n:"deck_layer_"+g.RandomID(),this.type="custom",this.renderingMode="3d",this.deckNs=(S=window.deck)!==null&&S!==void 0?S:f.deck,typeof this.deckNs!="object"||this.deckNs,this.layer=new this.deckNs.MapboxLayer(f);for(const k in this.layer)this[k]=this.layer[k]}onAdd(f,n){this.layer.onAdd(f,n);for(const S in this.layer)this[S]=this.layer[S];this.fire("load")}onRemove(){this.layer.onRemove(),this.fire("remove")}setProps(f){this.layer.setProps(f)}render(f,n){this.layer.render(f,n)}}r.DeckLayer=C},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0})},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.ThreeLayer=void 0;const g=l(0),x=l(3);class C extends x.Evented{constructor(f){var n;super(),this.id=(n=f.id)!==null&&n!==void 0?n:"three_layer_"+g.RandomID(),this.type="custom",this.renderingMode="3d",this.context=f.context,this._onAdd=f.onAdd,this._onRemove=f.onRemove,this._render=f.render}onAdd(f,n){typeof this._onAdd=="function"&&this._onAdd(),this.fire("load")}onRemove(){typeof this._onAdd=="function"?this._onRemove():this.context.removeLayer(this.id),this.fire("remove")}render(f,n){typeof this._render=="function"?this._render():this.context.update()}}r.ThreeLayer=C},function(e,r,l){Object.defineProperty(r,"__esModule",{value:!0}),r.Scene=void 0;const g=l(3),x=l(2);r.Scene=function(C,u,f){f=f!=null?f:{};let n=new C[["Map"].join("")+"box"]({mapInstance:u});f.id=u.getContainer().id,f.map=n,f.logoVisible=!1,window.mapboxgl={};const S=new C.Scene(f);delete window.mapboxgl;const k=S.getMapService();return k.lngLatToMercator=function(M,P){const{x:$=0,y:R=0,z:B=0}=g.MercatorCoordinate.fromLngLat(M,P);return{x:$,y:R,z:B}},k.getModelMatrix=function(M,P,$,R=[1,1,1],B={x:0,y:0,z:0}){const V=g.MercatorCoordinate.fromLngLat(M,P),j=V.meterInMercatorCoordinateUnits(),U=x.mat4.create();return x.mat4.translate(U,U,x.vec3.fromValues(V.x-B.x,V.y-B.y,V.z||0-B.z)),x.mat4.scale(U,U,x.vec3.fromValues(j*R[0],-j*R[1],j*R[2])),x.mat4.rotateX(U,U,$[0]),x.mat4.rotateY(U,U,$[1]),x.mat4.rotateZ(U,U,$[2]),U},k.meterToCoord=function(M,P){const $=new g.LngLat(M[0],M[1]),R=new g.LngLat(P[0],P[1]),B=$.distanceTo(R),V=g.MercatorCoordinate.fromLngLat({lng:M[0],lat:M[1]}),j=g.MercatorCoordinate.fromLngLat({lng:P[0],lat:P[1]}),{x:U,y:q}=V,{x:Y,y:Q}=j;return 4194304*Math.sqrt(Math.pow(U-Y,2)+Math.pow(q-Q,2))*2/B},S}},function(e,r,l){(function(g,x){Object.defineProperty(r,"__esModule",{value:!0}),r.Draw=void 0;var C={};(function(f,n){n(f)})(C,function(f){var n=function(z,W){var J={drag:[],click:[],mousemove:[],mousedown:[],mouseup:[],mouseout:[],keydown:[],keyup:[],touchstart:[],touchmove:[],touchend:[],tap:[]},ue={on:function(Se,Pe,qe){if(J[Se]===void 0)throw new Error("Invalid event type: "+Se);J[Se].push({selector:Pe,fn:qe})},render:function(Se){W.store.featureChanged(Se)}},pe=function(Se,Pe){for(var qe=J[Se],Ue=qe.length;Ue--;){var dt=qe[Ue];if(dt.selector(Pe)){dt.fn.call(ue,Pe)||W&&W.store&&W.store.render(),W&&W.ui&&W.ui.updateMapClasses();break}}};return z.start.call(ue),{render:z.render,stop:function(){z.stop&&z.stop()},trash:function(){z.trash&&(z.trash(),W.store.render())},combineFeatures:function(){z.combineFeatures&&z.combineFeatures()},uncombineFeatures:function(){z.uncombineFeatures&&z.uncombineFeatures()},drag:function(Se){pe("drag",Se)},click:function(Se){pe("click",Se)},mousemove:function(Se){pe("mousemove",Se)},mousedown:function(Se){pe("mousedown",Se)},mouseup:function(Se){pe("mouseup",Se)},mouseout:function(Se){pe("mouseout",Se)},keydown:function(Se){pe("keydown",Se)},keyup:function(Se){pe("keyup",Se)},touchstart:function(Se){pe("touchstart",Se)},touchmove:function(Se){pe("touchmove",Se)},touchend:function(Se){pe("touchend",Se)},tap:function(Se){pe("tap",Se)}}},S=6378137;function k(z){var W=0;if(z&&z.length>0){W+=Math.abs(M(z[0]));for(var J=1;J<z.length;J++)W-=Math.abs(M(z[J]))}return W}function M(z){var W,J,ue,pe,Se,Pe,qe=0,Ue=z.length;if(Ue>2){for(Pe=0;Pe<Ue;Pe++)Pe===Ue-2?(ue=Ue-2,pe=Ue-1,Se=0):Pe===Ue-1?(ue=Ue-1,pe=0,Se=1):(ue=Pe,pe=Pe+1,Se=Pe+2),W=z[ue],J=z[pe],qe+=(P(z[Se][0])-P(W[0]))*Math.sin(P(J[1]));qe=qe*S*S/2}return qe}function P(z){return z*Math.PI/180}var $={geometry:function z(W){var J,ue=0;switch(W.type){case"Polygon":return k(W.coordinates);case"MultiPolygon":for(J=0;J<W.coordinates.length;J++)ue+=k(W.coordinates[J]);return ue;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(J=0;J<W.geometries.length;J++)ue+=z(W.geometries[J]);return ue}},ring:M},R="vjmapgis-ctrl",B="vjmap-map-draw_ctrl-draw-btn",V="vjmap-map-draw_line",j="vjmap-map-draw_polygon",U="vjmap-map-draw_point",q="vjmap-map-draw_trash",Y="vjmap-map-draw_combine",Q="vjmap-map-draw_uncombine",te="vjmapgis-ctrl-group",re="active",oe="vjmap-map-draw_boxselect",se="vjmap-map-draw-hot",fe="vjmap-map-draw-cold",ge="add",Ce="move",$e="drag",be="pointer",ke="none",Ee={POLYGON:"polygon",LINE:"line_string",POINT:"point"},He="Feature",rt="Polygon",ft="LineString",bt="Point",Ye="FeatureCollection",De="Multi",at="MultiPoint",Ut="MultiLineString",je="MultiPolygon",tt={DRAW_LINE_STRING:"draw_line_string",DRAW_POLYGON:"draw_polygon",DRAW_POINT:"draw_point",SIMPLE_SELECT:"simple_select",DIRECT_SELECT:"direct_select",STATIC:"static"},We="draw.create",Gt="draw.delete",gt="draw.update",Mt="draw.selectionchange",Rt="draw.modechange",Jt="draw.actionable",ut="draw.render",Ht="draw.combine",cr="draw.uncombine",Vt="draw.updatecoordinate",Ne="move",ot="change_coordinates",Tt="feature",St="midpoint",jt="vertex",or="true",xr="false",st=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate"],yt={Point:0,LineString:1,Polygon:2};function Ft(z,W){var J=yt[z.geometry.type]-yt[W.geometry.type];return J===0&&z.geometry.type===rt?z.area-W.area:J}function zt(z){if(this._items={},this._nums={},this._length=z?z.length:0,z)for(var W=0,J=z.length;W<J;W++)this.add(z[W]),z[W]!==void 0&&(typeof z[W]=="string"?this._items[z[W]]=W:this._nums[z[W]]=W)}zt.prototype.add=function(z){return this.has(z)||(this._length++,typeof z=="string"?this._items[z]=this._length:this._nums[z]=this._length),this},zt.prototype.delete=function(z){return this.has(z)===!1||(this._length--,delete this._items[z],delete this._nums[z]),this},zt.prototype.has=function(z){return(typeof z=="string"||typeof z=="number")&&(this._items[z]!==void 0||this._nums[z]!==void 0)},zt.prototype.values=function(){var z=this,W=[];return Object.keys(this._items).forEach(function(J){W.push({k:J,v:z._items[J]})}),Object.keys(this._nums).forEach(function(J){W.push({k:JSON.parse(J),v:z._nums[J]})}),W.sort(function(J,ue){return J.v-ue.v}).map(function(J){return J.k})},zt.prototype.clear=function(){return this._length=0,this._items={},this._nums={},this};var Ct=[Tt,St,jt],gr={click:function(z,W,J){return Mr(z,W,J,J.options.clickBuffer)},touch:function(z,W,J){return Mr(z,W,J,J.options.touchBuffer)}};function Mr(z,W,J,ue){if(J.map===null)return[];var pe=z?function(dt,et){return et===void 0&&(et=0),[[dt.point.x-et,dt.point.y-et],[dt.point.x+et,dt.point.y+et]]}(z,ue):W,Se={};J.options.styles&&(Se.layers=J.options.styles.map(function(dt){return dt.id}));var Pe=J.map.queryRenderedFeatures(pe,Se).filter(function(dt){return Ct.indexOf(dt.properties.meta)!==-1}),qe=new zt,Ue=[];return Pe.forEach(function(dt){var et=dt.properties.id;qe.has(et)||(qe.add(et),Ue.push(dt))}),function(dt){return dt.map(function(et){return et.geometry.type===rt&&(et.area=$.geometry({type:He,property:{},geometry:et.geometry})),et}).sort(Ft).map(function(et){return delete et.area,et})}(Ue)}function Br(z,W){var J=gr.click(z,null,W),ue={mouse:ke};return J[0]&&(ue.mouse=J[0].properties.active===or?Ce:be,ue.feature=J[0].properties.meta),W.events.currentModeName().indexOf("draw")!==-1&&(ue.mouse=ge),W.ui.queueMapClasses(ue),W.ui.updateMapClasses(),J[0]}function sn(z,W){var J=z.x-W.x,ue=z.y-W.y;return Math.sqrt(J*J+ue*ue)}function Hr(z,W,J){J===void 0&&(J={});var ue=J.fineTolerance!=null?J.fineTolerance:4,pe=J.grossTolerance!=null?J.grossTolerance:12,Se=J.interval!=null?J.interval:500;z.point=z.point||W.point,z.time=z.time||W.time;var Pe=sn(z.point,W.point);return Pe<ue||Pe<pe&&W.time-z.time<Se}function cn(z,W,J){J===void 0&&(J={});var ue=J.tolerance!=null?J.tolerance:25,pe=J.interval!=null?J.interval:250;return z.point=z.point||W.point,z.time=z.time||W.time,sn(z.point,W.point)<ue&&W.time-z.time<pe}function Ve(z,W){return z(W={exports:{}},W.exports),W.exports}var ve=Ve(function(z){var W=z.exports=function(J,ue){if(ue||(ue=16),J===void 0&&(J=128),J<=0)return"0";for(var pe=Math.log(Math.pow(2,J))/Math.log(ue),Se=2;pe===1/0;Se*=2)pe=Math.log(Math.pow(2,J/Se))/Math.log(ue)*Se;var Pe=pe-Math.floor(pe),qe="";for(Se=0;Se<Math.floor(pe);Se++)qe=Math.floor(Math.random()*ue).toString(ue)+qe;if(Pe){var Ue=Math.pow(ue,Pe);qe=Math.floor(Math.random()*Ue).toString(ue)+qe}var dt=parseInt(qe,ue);return dt!==1/0&&dt>=Math.pow(2,J)?W(J,ue):qe};W.rack=function(J,ue,pe){var Se=function(qe){var Ue=0;do{if(Ue++>10){if(!pe)throw new Error("too many ID collisions, use more bits");J+=pe}var dt=W(J,ue)}while(Object.hasOwnProperty.call(Pe,dt));return Pe[dt]=qe,dt},Pe=Se.hats={};return Se.get=function(qe){return Se.hats[qe]},Se.set=function(qe,Ue){return Se.hats[qe]=Ue,Se},Se.bits=J||128,Se.base=ue||16,Se}}),lt=function(z,W){this.ctx=z,this.properties=W.properties||{},this.coordinates=W.geometry.coordinates,this.id=W.id||ve(),this.type=W.geometry.type};lt.prototype.changed=function(){this.ctx.store.featureChanged(this.id)},lt.prototype.incomingCoords=function(z){this.setCoordinates(z)},lt.prototype.setCoordinates=function(z){this.coordinates=z,this.changed()},lt.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.coordinates))},lt.prototype.setProperty=function(z,W){this.properties[z]=W},lt.prototype.toGeoJSON=function(){return JSON.parse(JSON.stringify({id:this.id,type:He,properties:this.properties,geometry:{coordinates:this.getCoordinates(),type:this.type}}))},lt.prototype.internal=function(z){var W={id:this.id,meta:Tt,"meta:type":this.type,active:xr,mode:z};if(this.ctx.options.userProperties)for(var J in this.properties)W["user_"+J]=this.properties[J];return{type:He,properties:W,geometry:{coordinates:this.getCoordinates(),type:this.type}}};var sr=function(z,W){lt.call(this,z,W)};(sr.prototype=Object.create(lt.prototype)).isValid=function(){return typeof this.coordinates[0]=="number"&&typeof this.coordinates[1]=="number"},sr.prototype.updateCoordinate=function(z,W,J){this.coordinates=arguments.length===3?[W,J]:[z,W],this.changed()},sr.prototype.getCoordinate=function(){return this.getCoordinates()};var ir=function(z,W){lt.call(this,z,W)};(ir.prototype=Object.create(lt.prototype)).isValid=function(){return this.coordinates.length>1},ir.prototype.addCoordinate=function(z,W,J){this.changed();var ue=parseInt(z,10);this.coordinates.splice(ue,0,[W,J])},ir.prototype.getCoordinate=function(z){var W=parseInt(z,10);return JSON.parse(JSON.stringify(this.coordinates[W]))},ir.prototype.removeCoordinate=function(z){this.changed(),this.coordinates.splice(parseInt(z,10),1)},ir.prototype.updateCoordinate=function(z,W,J){var ue=parseInt(z,10);this.coordinates[ue]=[W,J],this.changed()};var mr=function(z,W){lt.call(this,z,W),this.coordinates=this.coordinates.map(function(J){return J.slice(0,-1)})};(mr.prototype=Object.create(lt.prototype)).isValid=function(){return this.coordinates.length!==0&&this.coordinates.every(function(z){return z.length>2})},mr.prototype.incomingCoords=function(z){this.coordinates=z.map(function(W){return W.slice(0,-1)}),this.changed()},mr.prototype.setCoordinates=function(z){this.coordinates=z,this.changed()},mr.prototype.addCoordinate=function(z,W,J){this.changed();var ue=z.split(".").map(function(pe){return parseInt(pe,10)});this.coordinates[ue[0]].splice(ue[1],0,[W,J])},mr.prototype.removeCoordinate=function(z){this.changed();var W=z.split(".").map(function(ue){return parseInt(ue,10)}),J=this.coordinates[W[0]];J&&(J.splice(W[1],1),J.length<3&&this.coordinates.splice(W[0],1))},mr.prototype.getCoordinate=function(z){var W=z.split(".").map(function(ue){return parseInt(ue,10)}),J=this.coordinates[W[0]];return JSON.parse(JSON.stringify(J[W[1]]))},mr.prototype.getCoordinates=function(){var z=this.coordinates.map(function(W){return W.concat([W[0]])});return z.length==1&&z[0].length==1&&z[0][0]===void 0&&(z=[[]]),z},mr.prototype.updateCoordinate=function(z,W,J){this.changed();var ue=z.split("."),pe=parseInt(ue[0],10),Se=parseInt(ue[1],10);this.coordinates[pe]===void 0&&(this.coordinates[pe]=[]),this.coordinates[pe][Se]=[W,J]};var kr={MultiPoint:sr,MultiLineString:ir,MultiPolygon:mr},Pr=function(z,W,J,ue,pe){var Se=J.split("."),Pe=parseInt(Se[0],10),qe=Se[1]?Se.slice(1).join("."):null;return z[Pe][W](qe,ue,pe)},Or=function(z,W){if(lt.call(this,z,W),delete this.coordinates,this.model=kr[W.geometry.type],this.model===void 0)throw new TypeError(W.geometry.type+" is not a valid type");this.features=this._coordinatesToFeatures(W.geometry.coordinates)};function Er(z){this.map=z.map,this.drawConfig=JSON.parse(JSON.stringify(z.options||{})),this._ctx=z}(Or.prototype=Object.create(lt.prototype))._coordinatesToFeatures=function(z){var W=this,J=this.model.bind(this);return z.map(function(ue){return new J(W.ctx,{id:ve(),type:He,properties:{},geometry:{coordinates:ue,type:W.type.replace("Multi","")}})})},Or.prototype.isValid=function(){return this.features.every(function(z){return z.isValid()})},Or.prototype.setCoordinates=function(z){this.features=this._coordinatesToFeatures(z),this.changed()},Or.prototype.getCoordinate=function(z){return Pr(this.features,"getCoordinate",z)},Or.prototype.getCoordinates=function(){return JSON.parse(JSON.stringify(this.features.map(function(z){return z.type===rt?z.getCoordinates():z.coordinates})))},Or.prototype.updateCoordinate=function(z,W,J){Pr(this.features,"updateCoordinate",z,W,J),this.changed()},Or.prototype.addCoordinate=function(z,W,J){Pr(this.features,"addCoordinate",z,W,J),this.changed()},Or.prototype.removeCoordinate=function(z){Pr(this.features,"removeCoordinate",z),this.changed()},Or.prototype.getFeatures=function(){return this.features},Er.prototype.setSelected=function(z){return this._ctx.store.setSelected(z)},Er.prototype.setSelectedCoordinates=function(z){var W=this;this._ctx.store.setSelectedCoordinates(z),z.reduce(function(J,ue){return J[ue.feature_id]===void 0&&(J[ue.feature_id]=!0,W._ctx.store.get(ue.feature_id).changed()),J},{})},Er.prototype.getSelected=function(){return this._ctx.store.getSelected()},Er.prototype.getSelectedIds=function(){return this._ctx.store.getSelectedIds()},Er.prototype.isSelected=function(z){return this._ctx.store.isSelected(z)},Er.prototype.getFeature=function(z){if(this._ctx.store)return this._ctx.store.get(z)},Er.prototype.select=function(z){return this._ctx.store.select(z)},Er.prototype.deselect=function(z){return this._ctx.store.deselect(z)},Er.prototype.deleteFeature=function(z,W){return W===void 0&&(W={}),this._ctx.store.delete(z,W)},Er.prototype.addFeature=function(z){return this._ctx.store.add(z)},Er.prototype.clearSelectedFeatures=function(){return this._ctx.store.clearSelected()},Er.prototype.clearSelectedCoordinates=function(){return this._ctx.store.clearSelectedCoordinates()},Er.prototype.setActionableState=function(z){z===void 0&&(z={});var W={trash:z.trash||!1,combineFeatures:z.combineFeatures||!1,uncombineFeatures:z.uncombineFeatures||!1};return this._ctx.events.actionable(W)},Er.prototype.changeMode=function(z,W,J){return W===void 0&&(W={}),J===void 0&&(J={}),this._ctx.events.changeMode(z,W,J)},Er.prototype.updateUIClasses=function(z){return this._ctx.ui.queueMapClasses(z)},Er.prototype.activateUIButton=function(z){return this._ctx.ui.setActiveButton(z)},Er.prototype.featuresAt=function(z,W,J){if(J===void 0&&(J="click"),J!=="click"&&J!=="touch")throw new Error("invalid buffer type");return gr[J](z,W,this._ctx)},Er.prototype.newFeature=function(z){var W=z.geometry.type;return W===bt?new sr(this._ctx,z):W===ft?new ir(this._ctx,z):W===rt?new mr(this._ctx,z):new Or(this._ctx,z)},Er.prototype.isInstanceOf=function(z,W){if(z===bt)return W instanceof sr;if(z===ft)return W instanceof ir;if(z===rt)return W instanceof mr;if(z==="MultiFeature")return W instanceof Or;throw new Error("Unknown feature class: "+z)},Er.prototype.doRender=function(z){return this._ctx.store.featureChanged(z)},Er.prototype.onSetup=function(){},Er.prototype.onDrag=function(){},Er.prototype.onClick=function(){},Er.prototype.onMouseMove=function(){},Er.prototype.onMouseDown=function(){},Er.prototype.onMouseUp=function(){},Er.prototype.onMouseOut=function(){},Er.prototype.onKeyUp=function(){},Er.prototype.onKeyDown=function(){},Er.prototype.onTouchStart=function(){},Er.prototype.onTouchMove=function(){},Er.prototype.onTouchEnd=function(){},Er.prototype.onTap=function(){},Er.prototype.onStop=function(){},Er.prototype.onTrash=function(){},Er.prototype.onCombineFeature=function(){},Er.prototype.onUncombineFeature=function(){},Er.prototype.toDisplayFeatures=function(){throw new Error("You must overwrite toDisplayFeatures")};var Nr={drag:"onDrag",click:"onClick",mousemove:"onMouseMove",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseout:"onMouseOut",keyup:"onKeyUp",keydown:"onKeyDown",touchstart:"onTouchStart",touchmove:"onTouchMove",touchend:"onTouchEnd",tap:"onTap"},un=Object.keys(Nr);function vn(z){var W=Object.keys(z);return function(J,ue){ue===void 0&&(ue={});var pe={},Se=W.reduce(function(Pe,qe){return Pe[qe]=z[qe],Pe},new Er(J));return{start:function(){var Pe=this;pe=Se.onSetup(ue),un.forEach(function(qe){var Ue,dt=Nr[qe],et=function(){return!1};z[dt]&&(et=function(){return!0}),Pe.on(qe,et,(Ue=dt,function(At){return Se[Ue](pe,At)}))})},stop:function(){Se.onStop(pe)},trash:function(){Se.onTrash(pe)},combineFeatures:function(){Se.onCombineFeatures(pe)},uncombineFeatures:function(){Se.onUncombineFeatures(pe)},render:function(Pe,qe){Se.toDisplayFeatures(pe,Pe,qe)}}}}function Ze(z){return[].concat(z).filter(function(W){return W!==void 0})}function _e(){var z=this;if(!(z.ctx.map&&z.ctx.map.getSource(se+z.ctx.options.styleId)!==void 0))return Ue();var W=z.ctx.events.currentModeName();z.ctx.ui.queueMapClasses({mode:W});var J=[],ue=[];z.isDirty?ue=z.getAllIds():(J=z.getChangedIds().filter(function(dt){return z.get(dt)!==void 0}),ue=z.sources.hot.filter(function(dt){return dt.properties.id&&J.indexOf(dt.properties.id)===-1&&z.get(dt.properties.id)!==void 0}).map(function(dt){return dt.properties.id})),z.sources.hot=[];var pe=z.sources.cold.length;z.sources.cold=z.isDirty?[]:z.sources.cold.filter(function(dt){var et=dt.properties.id||dt.properties.parent;return J.indexOf(et)===-1});var Se=pe!==z.sources.cold.length||ue.length>0;function Pe(dt,et){var At=z.get(dt).internal(W);z.ctx.events.currentModeRender(At,function(Lt){z.sources[et].push(Lt)})}if(J.forEach(function(dt){return Pe(dt,"hot")}),ue.forEach(function(dt){return Pe(dt,"cold")}),Se&&z.ctx.map.getSource(fe+z.ctx.options.styleId).setData({type:Ye,features:z.sources.cold}),z.ctx.map.getSource(se+z.ctx.options.styleId).setData({type:Ye,features:z.sources.hot}),z._emitSelectionChange&&(z.ctx.map.fire(Mt,{styleId:z.ctx.options.styleId,features:z.getSelected().map(function(dt){return dt.toGeoJSON()}),points:z.getSelectedCoordinates().map(function(dt){return{type:He,properties:{},geometry:{type:bt,coordinates:dt.coordinates}}})}),z._emitSelectionChange=!1),z._deletedFeaturesToEmit.length){var qe=z._deletedFeaturesToEmit.map(function(dt){return dt.toGeoJSON()});z._deletedFeaturesToEmit=[],z.ctx.map.fire(Gt,{features:qe,styleId:z.ctx.options.styleId})}function Ue(){z.isDirty=!1,z.clearChangedIds()}Ue(),z.ctx.map.fire(ut,{styleId:z.ctx.options.styleId})}function Ie(z){var W,J=this;this._features={},this._featureIds=new zt,this._selectedFeatureIds=new zt,this._selectedCoordinates=[],this._changedFeatureIds=new zt,this._deletedFeaturesToEmit=[],this._emitSelectionChange=!1,this._mapInitialConfig={},this.ctx=z,this.sources={hot:[],cold:[]},this.render=function(){W||(W=requestAnimationFrame(function(){W=null,_e.call(J)}))},this.isDirty=!1}function Qe(z,W){var J=z._selectedCoordinates.filter(function(ue){return z._selectedFeatureIds.has(ue.feature_id)});z._selectedCoordinates.length===J.length||W.silent||(z._emitSelectionChange=!0),z._selectedCoordinates=J}Ie.prototype.createRenderBatch=function(){var z=this,W=this.render,J=0;return this.render=function(){J++},function(){z.render=W,J>0&&z.render()}},Ie.prototype.setDirty=function(){return this.isDirty=!0,this},Ie.prototype.featureChanged=function(z){return this._changedFeatureIds.add(z),this},Ie.prototype.getChangedIds=function(){return this._changedFeatureIds.values()},Ie.prototype.clearChangedIds=function(){return this._changedFeatureIds.clear(),this},Ie.prototype.getAllIds=function(){return this._featureIds.values()},Ie.prototype.add=function(z){return this.featureChanged(z.id),this._features[z.id]=z,this._featureIds.add(z.id),this},Ie.prototype.delete=function(z,W){var J=this;return W===void 0&&(W={}),Ze(z).forEach(function(ue){J._featureIds.has(ue)&&(J._featureIds.delete(ue),J._selectedFeatureIds.delete(ue),W.silent||J._deletedFeaturesToEmit.indexOf(J._features[ue])===-1&&J._deletedFeaturesToEmit.push(J._features[ue]),delete J._features[ue],J.isDirty=!0)}),Qe(this,W),this},Ie.prototype.get=function(z){return this._features[z]},Ie.prototype.getAll=function(){var z=this;return Object.keys(this._features).map(function(W){return z._features[W]})},Ie.prototype.select=function(z,W){var J=this;return W===void 0&&(W={}),Ze(z).forEach(function(ue){J._selectedFeatureIds.has(ue)||(J._selectedFeatureIds.add(ue),J._changedFeatureIds.add(ue),W.silent||(J._emitSelectionChange=!0))}),this},Ie.prototype.deselect=function(z,W){var J=this;return W===void 0&&(W={}),Ze(z).forEach(function(ue){J._selectedFeatureIds.has(ue)&&(J._selectedFeatureIds.delete(ue),J._changedFeatureIds.add(ue),W.silent||(J._emitSelectionChange=!0))}),Qe(this,W),this},Ie.prototype.clearSelected=function(z){return z===void 0&&(z={}),this.deselect(this._selectedFeatureIds.values(),{silent:z.silent}),this},Ie.prototype.setSelected=function(z,W){var J=this;return W===void 0&&(W={}),z=Ze(z),this.deselect(this._selectedFeatureIds.values().filter(function(ue){return z.indexOf(ue)===-1}),{silent:W.silent}),this.select(z.filter(function(ue){return!J._selectedFeatureIds.has(ue)}),{silent:W.silent}),this},Ie.prototype.setSelectedCoordinates=function(z){return this._selectedCoordinates=z,this._emitSelectionChange=!0,this},Ie.prototype.clearSelectedCoordinates=function(){return this._selectedCoordinates=[],this._emitSelectionChange=!0,this},Ie.prototype.getSelectedIds=function(){return this._selectedFeatureIds.values()},Ie.prototype.getSelected=function(){var z=this;return this._selectedFeatureIds.values().map(function(W){return z.get(W)})},Ie.prototype.getSelectedCoordinates=function(){var z=this;return this._selectedCoordinates.map(function(W){return{coordinates:z.get(W.feature_id).getCoordinate(W.coord_path)}})},Ie.prototype.isSelected=function(z){return this._selectedFeatureIds.has(z)},Ie.prototype.setFeatureProperty=function(z,W,J){this.get(z).setProperty(W,J),this.featureChanged(z)},Ie.prototype.storeMapConfig=function(){var z=this;st.forEach(function(W){z.ctx.map[W]&&(z._mapInitialConfig[W]=z.ctx.map[W].isEnabled())})},Ie.prototype.restoreMapConfig=function(){var z=this;Object.keys(this._mapInitialConfig).forEach(function(W){z._mapInitialConfig[W]?z.ctx.map[W].enable():z.ctx.map[W].disable()})},Ie.prototype.getInitialConfigValue=function(z){return this._mapInitialConfig[z]===void 0||this._mapInitialConfig[z]};var ct=function(){for(var z=arguments,W={},J=0;J<arguments.length;J++){var ue=z[J];for(var pe in ue)kt.call(ue,pe)&&(W[pe]=ue[pe])}return W},kt=Object.prototype.hasOwnProperty,er=["mode","feature","mouse"];function Kt(z){var W={},J=null,ue={mode:null,feature:null,mouse:null},pe={mode:null,feature:null,mouse:null};function Se(et){pe=ct(pe,et)}function Pe(){var et,At;if(z.container){var Lt=[],nr=[];er.forEach(function(fr){pe[fr]!==ue[fr]&&(Lt.push(fr+"-"+ue[fr]),pe[fr]!==null&&nr.push(fr+"-"+pe[fr]))}),Lt.length>0&&(et=z.container.classList).remove.apply(et,Lt),nr.length>0&&(At=z.container.classList).add.apply(At,nr),ue=ct(ue,pe)}}function qe(et,At){At===void 0&&(At={});var Lt=document.createElement("button");if(Lt.className=B+" "+At.className,Lt.setAttribute("title",At.title),At.style)for(var nr in At.style)Lt.style[nr]=At.style[nr];return At.container.appendChild(Lt),Lt.addEventListener("click",function(fr){if(fr.preventDefault(),fr.stopPropagation(),fr.target===J)return Ue(),void At.onDeactivate();dt(et),At.onActivate()},!0),Lt}function Ue(){J&&(J.classList.remove(re),J=null)}function dt(et){Ue();var At=W[et];At&&At&&et!=="trash"&&(At.classList.add(re),J=At)}return{setActiveButton:dt,queueMapClasses:Se,updateMapClasses:Pe,clearMapClasses:function(){Se({mode:null,feature:null,mouse:null}),Pe()},addButtons:function(){var et=z.options.controls,At=document.createElement("div");if(At.className=te+" "+R,!et||z.options.isActionDrawMode==1)return At;et[Ee.LINE]&&(W[Ee.LINE]=qe(Ee.LINE,{container:At,className:V,title:"LineString tool "+(z.options.keybindings?"(l)":""),onActivate:function(){return z.events.changeMode(tt.DRAW_LINE_STRING)},onDeactivate:function(){return z.events.trash()}})),et[Ee.POLYGON]&&(W[Ee.POLYGON]=qe(Ee.POLYGON,{container:At,className:j,title:"Polygon tool "+(z.options.keybindings?"(p)":""),onActivate:function(){return z.events.changeMode(tt.DRAW_POLYGON)},onDeactivate:function(){return z.events.trash()}})),et[Ee.POINT]&&(W[Ee.POINT]=qe(Ee.POINT,{container:At,className:U,title:"Marker tool "+(z.options.keybindings?"(m)":""),onActivate:function(){return z.events.changeMode(tt.DRAW_POINT)},onDeactivate:function(){return z.events.trash()}})),et.trash&&(W.trash=qe("trash",{container:At,className:q,title:"Delete",onActivate:function(){z.events.trash()}})),et.combine_features&&(W.combine_features=qe("combineFeatures",{container:At,className:Y,title:"Combine",onActivate:function(){z.events.combineFeatures()}})),et.uncombine_features&&(W.uncombine_features=qe("uncombineFeatures",{container:At,className:Q,title:"Uncombine",onActivate:function(){z.events.uncombineFeatures()}}));var Lt=z.options.addControls;if(Array.isArray(Lt)&&Lt.length>0)for(var nr=function(){var hn=dn[fr];et[hn.id]&&(hn.isCheckbox?W[hn.id]=function(nn,vt){vt===void 0&&(vt={});var Wt=document.createElement("input");if(Wt.setAttribute("type","checkbox"),Wt.setAttribute("title",vt.title),Wt.checked=vt.checked===!0,Wt.className=B+" "+vt.className,Wt.setAttribute("title",vt.title),vt.style)for(var Rr in vt.style)Wt.style[Rr]=vt.style[Rr];return vt.container.appendChild(Wt),Wt.addEventListener("change",function(Ir){Ir.preventDefault(),Ir.stopPropagation(),vt.onActivate(Ir)},!0),Wt}(hn.id,{container:hn.container||At,className:hn.className,title:hn.title||hn.id,style:hn.style,checked:hn.checked,onActivate:function(nn){hn.onActivate&&hn.onActivate(z,nn)}}):W[hn.id]=qe(hn.id,{container:hn.container||At,className:hn.className,title:hn.title||hn.id,style:hn.style,onActivate:function(){hn.onActivate&&hn.onActivate(z)},onDeactivate:function(){hn.onDeactivate?hn.onDeactivate(z):hn.onActivate&&hn.onActivate(z)}}))},fr=0,dn=Lt;fr<dn.length;fr+=1)nr();return At},removeButtons:function(){Object.keys(W).forEach(function(et){var At=W[et];At.parentNode&&At.parentNode.removeChild(At),delete W[et]})}}}var Nt="vjmap-map-draw-hot",Qt="vjmap-map-draw-cold",Cr="Feature",Lr="FeatureCollection",Tr="simple_select",ln={CREATE:"draw.create",DELETE:"draw.delete",UPDATE:"draw.update",SELECTION_CHANGE:"draw.selectionchange",MODE_CHANGE:"draw.modechange",ACTIONABLE:"draw.actionable",RENDER:"draw.render",COMBINE_FEATURES:"draw.combine",UNCOMBINE_FEATURES:"draw.uncombine",UPDATE_COORDINATE:"draw.updatecoordinate"},mn=function(){this.cursor=-1,this.recordes=[]};mn.prototype.addRecord=function(z){if(z){this.cursor+1<this.recordes.length&&(this.recordes=this.recordes.slice(0,this.cursor+1)),this.recordes.push(z);var W=this.recordes.length;this.cursor=W-1}return this},mn.prototype.undoRecord=function(){var z=this.recordes.length,W=null;return z===0?this.cursor=-1:z>0&&this.cursor>-1&&(W=this.recordes[this.cursor],this.cursor=this.cursor-1),W},mn.prototype.redoRecord=function(){var z=this.recordes.length,W=null;return z===0&&(this.cursor=-1),z>0&&this.cursor<z-1&&(W=this.recordes[this.cursor+1],this.cursor=this.cursor+1),W},mn.prototype.getCurrentRecord=function(){var z=this.recordes.length,W=null;return z===0?null:(this.cursor>-1&&this.cursor<z&&(W=this.recordes[this.cursor]),W)},mn.prototype.getAllRecords=function(){return this.recordes},mn.prototype.clear=function(){this.cursor=-1,this.recordes=[]};var Yr=function(z,W,J,ue){z===void 0&&(z=0),W===void 0&&(W=0),J===void 0&&(J=[]),ue===void 0&&(ue=[]),this.type=z,this.action=W,this.features=J,this.prevFeatures=ue};function Et(z){var W=null,J=null,ue=new mn,pe=Object.assign({},{onDrawCreate:function(Pe){var qe=new Yr(3,0,Pe.features);ue.addRecord(qe)},onDrawUpdate:function(Pe){var qe=new Yr(2,0,Pe.features,Pe.prevFeatures);ue.addRecord(qe)},onDrawDelete:function(Pe){var qe=new Yr(1,0,Pe.features);ue.addRecord(qe)},onDrawCombine:function(Pe){var qe=new Yr(4,0,Pe.createdFeatures,Pe.deletedFeatures);ue.addRecord(qe)},onDrawUncombine:function(Pe){var qe=new Yr(4,0,Pe.createdFeatures,Pe.deletedFeatures);ue.addRecord(qe)},onDrawReplace:function(Pe){var qe=new Yr(4,0,Pe.createdFeatures,Pe.deletedFeatures);ue.addRecord(qe)}}),Se={onRemove:function(){return z.map.off("load",Se.connect),clearInterval(J),Se.removeLayers(),z.store.restoreMapConfig(),z.ui.removeButtons(),z.events.removeEventListeners(),z.ui.clearMapClasses(),z.map.off(ln.CREATE,pe.onDrawCreate),z.map.off(ln.UPDATE,pe.onDrawUpdate),z.map.off(ln.DELETE,pe.onDrawDelete),z.map.off(ln.COMBINE_FEATURES,pe.onDrawCombine),z.map.off(ln.UNCOMBINE_FEATURES,pe.onDrawUncombine),z.map.off(ln.REPLACE,pe.onDrawReplace),z.container.removeEventListener("keydown",pe.onKeydown),z.map=null,z.container=null,z.store=null,W&&W.parentNode&&W.parentNode.removeChild(W),W=null,this},connect:function(){z.map.off("load",Se.connect),clearInterval(J),Se.addLayers(),z.store.storeMapConfig(),z.events.addEventListeners()},undoHistory:function(){var Pe=z.api;if(Pe&&ue){var qe=ue.undoRecord();if(qe){var Ue=qe.getType(),dt=qe.getFeatures(),et=qe.getPrevFeatures();switch(Ue){case 1:if(dt.length>0){dt.map(function(nn){Pe.add(Object.assign({},nn,{type:nn.type||Cr}))});var At=dt.map(function(nn){return nn.id});Pe.changeMode(Tr,{featureIds:At})}break;case 2:if(dt.length>0){var Lt=dt.map(function(nn){return nn.id});Pe.delete(Lt)}if(et.length>0){et.map(function(nn){Pe.add(Object.assign({},nn,{type:nn.type||Cr}))});var nr=et.map(function(nn){return nn.id});Pe.changeMode(Tr,{featureIds:nr})}break;case 3:if(dt.length>0){var fr=dt.map(function(nn){return nn.id});Pe.delete(fr)}break;case 4:if(dt.length>0){var dn=dt.map(function(nn){return nn.id});Pe.delete(dn)}if(et.length>0){et.map(function(nn){Pe.add(Object.assign({},nn,{type:nn.type||Cr}))});var hn=et.map(function(nn){return nn.id});Pe.changeMode(Tr,{featureIds:hn})}}}}},redoHistory:function(){var Pe=z.api;if(Pe&&ue){var qe=ue.redoRecord();if(qe){Pe.getAll();var Ue=qe.getType(),dt=qe.getFeatures(),et=qe.getPrevFeatures();switch(Ue){case 3:if(dt.length>0){dt.map(function(nn){Pe.add(Object.assign({},nn,{type:nn.type||Cr}))});var At=dt.map(function(nn){return nn.id});Pe.changeMode(Tr,{featureIds:At})}break;case 2:if(et.length>0){var Lt=et.map(function(nn){return nn.id});Pe.delete(Lt)}if(dt.length>0){dt.map(function(nn){Pe.add(Object.assign({},nn,{type:nn.type||Cr}))});var nr=dt.map(function(nn){return nn.id});Pe.changeMode(Tr,{featureIds:nr})}break;case 1:if(dt.length>0){var fr=dt.map(function(nn){return nn.id});Pe.delete(fr)}break;case 4:if(et.length>0){var dn=et.map(function(nn){return nn.id});Pe.delete(dn)}if(dt.length>0){dt.map(function(nn){Pe.add(Object.assign({},nn,{type:nn.type||Cr}))});var hn=dt.map(function(nn){return nn.id});Pe.changeMode(Tr,{featureIds:hn})}}}}},onAdd:function(Pe){var qe=Pe.fire;return Pe.fire=function(Ue,dt){var et=arguments;return qe.length===1&&arguments.length!==1&&(et=[ct({},{type:Ue},dt)]),qe.apply(Pe,et)},z.map=Pe,z.events=function(Ue){var dt=Object.keys(Ue.options.modes).reduce(function(vt,Wt){return vt[Wt]=vn(Ue.options.modes[Wt]),vt},{}),et={},At={},Lt={},nr=null,fr=null;Lt.drag=function(vt,Wt){Wt({point:vt.point,time:new Date().getTime()})?(Ue.ui.queueMapClasses({mouse:$e}),fr.drag(vt)):vt.originalEvent.stopPropagation()},Lt.mousedrag=function(vt){Lt.drag(vt,function(Wt){return!Hr(et,Wt)})},Lt.touchdrag=function(vt){Lt.drag(vt,function(Wt){return!cn(At,Wt)})},Lt.mousemove=function(vt){if((vt.originalEvent.buttons!==void 0?vt.originalEvent.buttons:vt.originalEvent.which)===1)return Lt.mousedrag(vt);var Wt=Br(vt,Ue);vt.featureTarget=Wt,fr.mousemove(vt)},Lt.mousedown=function(vt){et={time:new Date().getTime(),point:vt.point};var Wt=Br(vt,Ue);vt.featureTarget=Wt,fr.mousedown(vt)},Lt.mouseup=function(vt){var Wt=Br(vt,Ue);vt.featureTarget=Wt,Hr(et,{point:vt.point,time:new Date().getTime()})?fr.click(vt):fr.mouseup(vt)},Lt.mouseout=function(vt){fr.mouseout(vt)},Lt.touchstart=function(vt){if(vt.originalEvent.preventDefault(),Ue.options.touchEnabled){At={time:new Date().getTime(),point:vt.point};var Wt=gr.touch(vt,null,Ue)[0];vt.featureTarget=Wt,fr.touchstart(vt)}},Lt.touchmove=function(vt){if(vt.originalEvent.preventDefault(),Ue.options.touchEnabled)return fr.touchmove(vt),Lt.touchdrag(vt)},Lt.touchend=function(vt){if(vt.originalEvent.preventDefault(),Ue.options.touchEnabled){var Wt=gr.touch(vt,null,Ue)[0];vt.featureTarget=Wt,cn(At,{time:new Date().getTime(),point:vt.point})?fr.tap(vt):fr.touchend(vt)}};var dn=function(vt){return!(vt===8||vt===46||vt>=48&&vt<=57)};function hn(vt,Wt,Rr){Rr===void 0&&(Rr={}),fr.stop();var Ir=dt[vt];if(Ir===void 0)throw new Error(vt+" is not valid");nr=vt;var gn=Ir(Ue,Wt);fr=n(gn,Ue),Rr.silent||Ue.map.fire(Rt,{mode:vt,styleId:Ue.options.styleId}),Ue.store&&(Ue.store.setDirty(),Ue.store.render())}Lt.keydown=function(vt){(vt.srcElement||vt.target).classList[0]==="vjmapgis-canvas"&&(vt.keyCode!==8&&vt.keyCode!==46||!Ue.options.controls.trash?dn(vt.keyCode)?fr.keydown(vt):vt.keyCode===49&&Ue.options.controls.point?hn(tt.DRAW_POINT):vt.keyCode===50&&Ue.options.controls.line_string?hn(tt.DRAW_LINE_STRING):vt.keyCode===51&&Ue.options.controls.polygon&&hn(tt.DRAW_POLYGON):(vt.preventDefault(),fr.trash()))},Lt.keyup=function(vt){dn(vt.keyCode)&&fr.keyup(vt)},Lt.zoomend=function(){Ue.store.changeZoom()},Lt.data=function(vt){if(vt.dataType==="style"){var Wt=Ue.setup,Rr=Ue.map,Ir=Ue.options,gn=Ue.store;Ir.styles.some(function(bn){return Rr.getLayer(bn.id)})||(Wt.addLayers(),gn.setDirty(),gn.render())}};var nn={trash:!1,combineFeatures:!1,uncombineFeatures:!1};return{start:function(){nr=Ue.options.defaultMode,fr=n(dt[nr](Ue),Ue)},changeMode:hn,actionable:function(vt){var Wt=!1;Object.keys(vt).forEach(function(Rr){if(nn[Rr]===void 0)throw new Error("Invalid action type");nn[Rr]!==vt[Rr]&&(Wt=!0),nn[Rr]=vt[Rr]}),Wt&&Ue.map.fire(Jt,{actions:nn,styleId:Ue.options.styleId})},currentModeName:function(){return nr},currentModeRender:function(vt,Wt){return fr.render(vt,Wt)},fire:function(vt,Wt){Lt[vt]&&Lt[vt](Wt)},addEventListeners:function(){Ue.map.on("mousemove",Lt.mousemove),Ue.map.on("mousedown",Lt.mousedown),Ue.map.on("mouseup",Lt.mouseup),Ue.map.on("data",Lt.data),Ue.map.on("touchmove",Lt.touchmove),Ue.map.on("touchstart",Lt.touchstart),Ue.map.on("touchend",Lt.touchend),Ue.container.addEventListener("mouseout",Lt.mouseout),Ue.options.keybindings&&(Ue.container.addEventListener("keydown",Lt.keydown),Ue.container.addEventListener("keyup",Lt.keyup))},removeEventListeners:function(){Ue.map.off("mousemove",Lt.mousemove),Ue.map.off("mousedown",Lt.mousedown),Ue.map.off("mouseup",Lt.mouseup),Ue.map.off("data",Lt.data),Ue.map.off("touchmove",Lt.touchmove),Ue.map.off("touchstart",Lt.touchstart),Ue.map.off("touchend",Lt.touchend),Ue.container.removeEventListener("mouseout",Lt.mouseout),Ue.options.keybindings&&(Ue.container.removeEventListener("keydown",Lt.keydown),Ue.container.removeEventListener("keyup",Lt.keyup))},trash:function(vt){fr.trash(vt)},combineFeatures:function(){fr.combineFeatures()},uncombineFeatures:function(){fr.uncombineFeatures()},getMode:function(){return nr}}}(z),z.ui=Kt(z),z.container=Pe.getContainer(),z.store=new Ie(z),W=z.ui.addButtons(),z.options.boxSelect&&(Pe.boxZoom.disable(),Pe.dragPan.disable(),Pe.dragPan.enable()),Pe.loaded()?Se.connect():(Pe.on("load",Se.connect),J=setInterval(function(){Pe.loaded()&&Se.connect()},16)),Pe.on(ln.CREATE,pe.onDrawCreate),Pe.on(ln.UPDATE,pe.onDrawUpdate),Pe.on(ln.DELETE,pe.onDrawDelete),Pe.on(ln.COMBINE_FEATURES,pe.onDrawCombine),Pe.on(ln.UNCOMBINE_FEATURES,pe.onDrawUncombine),Pe.on(ln.REPLACE,pe.onDrawReplace),z.container.addEventListener("keydown",pe.onKeydown),z.events.start(),W},addLayers:function(){z.map.addSource(Qt+z.options.styleId,{data:{type:Lr,features:[]},type:"geojson"}),z.map.addSource(Nt+z.options.styleId,{data:{type:Lr,features:[]},type:"geojson"}),z.options.styles.forEach(function(Pe){z.map.addLayer(Pe)}),z.store.setDirty(!0),z.store.render()},removeLayers:function(){z.options.styles.forEach(function(Pe){z.map.getLayer(Pe.id)&&z.map.removeLayer(Pe.id)}),z.map.getSource(Qt+z.options.styleId)&&z.map.removeSource(Qt+z.options.styleId),z.map.getSource(Nt+z.options.styleId)&&z.map.removeSource(Nt+z.options.styleId)}};return z.setup=Se,Se}Yr.prototype.getType=function(){return this.type},Yr.prototype.getAction=function(){return this.action},Yr.prototype.getFeatures=function(){return this.features},Yr.prototype.getPrevFeatures=function(){return this.prevFeatures};var _r=[{id:"gl-draw-polygon-fill-inactive",type:"fill",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],paint:{"fill-color":"#3bb2d0","fill-outline-color":"#3bb2d0","fill-opacity":.1}},{id:"gl-draw-polygon-fill-active",type:"fill",filter:["all",["==","active","true"],["==","$type","Polygon"]],paint:{"fill-color":"#fbb03b","fill-outline-color":"#fbb03b","fill-opacity":.1}},{id:"gl-draw-polygon-midpoint",type:"circle",filter:["all",["==","$type","Point"],["==","meta","midpoint"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-stroke-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","Polygon"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-polygon-stroke-active",type:"line",filter:["all",["==","active","true"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-line-inactive",type:"line",filter:["all",["==","active","false"],["==","$type","LineString"],["!=","mode","static"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#3bb2d0","line-width":2}},{id:"gl-draw-line-active",type:"line",filter:["all",["==","$type","LineString"],["==","active","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#fbb03b","line-dasharray":[.2,2],"line-width":2}},{id:"gl-draw-polygon-and-line-vertex-stroke-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-color":"#fff"}},{id:"gl-draw-polygon-and-line-vertex-inactive",type:"circle",filter:["all",["==","meta","vertex"],["==","$type","Point"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#fbb03b"}},{id:"gl-draw-point-point-stroke-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":5,"circle-opacity":1,"circle-color":"#fff"}},{id:"gl-draw-point-inactive",type:"circle",filter:["all",["==","active","false"],["==","$type","Point"],["==","meta","feature"],["!=","mode","static"]],paint:{"circle-radius":3,"circle-color":"#3bb2d0"}},{id:"gl-draw-point-stroke-active",type:"circle",filter:["all",["==","$type","Point"],["==","active","true"],["!=","meta","midpoint"]],paint:{"circle-radius":7,"circle-color":"#fff"}},{id:"gl-draw-point-active",type:"circle",filter:["all",["==","$type","Point"],["!=","meta","midpoint"],["==","active","true"]],paint:{"circle-radius":5,"circle-color":"#fbb03b"}},{id:"gl-draw-polygon-fill-static",type:"fill",filter:["all",["==","mode","static"],["==","$type","Polygon"]],paint:{"fill-color":"#404040","fill-outline-color":"#404040","fill-opacity":.1}},{id:"gl-draw-polygon-stroke-static",type:"line",filter:["all",["==","mode","static"],["==","$type","Polygon"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-line-static",type:"line",filter:["all",["==","mode","static"],["==","$type","LineString"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#404040","line-width":2}},{id:"gl-draw-point-static",type:"circle",filter:["all",["==","mode","static"],["==","$type","Point"]],paint:{"circle-radius":5,"circle-color":"#404040"}}];function Wn(z){return function(W){var J=W.featureTarget;return!!J&&!!J.properties&&J.properties.meta===z}}function jn(z){return!!z.featureTarget&&!!z.featureTarget.properties&&z.featureTarget.properties.active===or&&z.featureTarget.properties.meta===Tt}function xn(z){return!!z.featureTarget&&!!z.featureTarget.properties&&z.featureTarget.properties.active===xr&&z.featureTarget.properties.meta===Tt}function zn(z){return z.featureTarget===void 0}function li(z){var W=z.featureTarget;return!!W&&!!W.properties&&W.properties.meta===jt}function Ri(z){return!!z.originalEvent&&z.originalEvent.shiftKey===!0}function ci(z){return z.keyCode===27}function tn(z){return z.keyCode===13}var On=$n;function $n(z,W){this.x=z,this.y=W}function In(z,W){var J=W.getBoundingClientRect();return new On(z.clientX-J.left-(W.clientLeft||0),z.clientY-J.top-(W.clientTop||0))}function vi(z,W,J,ue){return{type:He,properties:{meta:jt,parent:z,coord_path:J,active:ue?or:xr},geometry:{type:bt,coordinates:W}}}$n.prototype={clone:function(){return new $n(this.x,this.y)},add:function(z){return this.clone()._add(z)},sub:function(z){return this.clone()._sub(z)},multByPoint:function(z){return this.clone()._multByPoint(z)},divByPoint:function(z){return this.clone()._divByPoint(z)},mult:function(z){return this.clone()._mult(z)},div:function(z){return this.clone()._div(z)},rotate:function(z){return this.clone()._rotate(z)},rotateAround:function(z,W){return this.clone()._rotateAround(z,W)},matMult:function(z){return this.clone()._matMult(z)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(z){return this.x===z.x&&this.y===z.y},dist:function(z){return Math.sqrt(this.distSqr(z))},distSqr:function(z){var W=z.x-this.x,J=z.y-this.y;return W*W+J*J},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(z){return Math.atan2(this.y-z.y,this.x-z.x)},angleWith:function(z){return this.angleWithSep(z.x,z.y)},angleWithSep:function(z,W){return Math.atan2(this.x*W-this.y*z,this.x*z+this.y*W)},_matMult:function(z){var W=z[0]*this.x+z[1]*this.y,J=z[2]*this.x+z[3]*this.y;return this.x=W,this.y=J,this},_add:function(z){return this.x+=z.x,this.y+=z.y,this},_sub:function(z){return this.x-=z.x,this.y-=z.y,this},_mult:function(z){return this.x*=z,this.y*=z,this},_div:function(z){return this.x/=z,this.y/=z,this},_multByPoint:function(z){return this.x*=z.x,this.y*=z.y,this},_divByPoint:function(z){return this.x/=z.x,this.y/=z.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var z=this.y;return this.y=this.x,this.x=-z,this},_rotate:function(z){var W=Math.cos(z),J=Math.sin(z),ue=W*this.x-J*this.y,pe=J*this.x+W*this.y;return this.x=ue,this.y=pe,this},_rotateAround:function(z,W){var J=Math.cos(z),ue=Math.sin(z),pe=W.x+J*(this.x-W.x)-ue*(this.y-W.y),Se=W.y+ue*(this.x-W.x)+J*(this.y-W.y);return this.x=pe,this.y=Se,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},$n.convert=function(z){return z instanceof $n?z:Array.isArray(z)?new $n(z[0],z[1]):z};function Fn(z){var W=z[0],J=z[1],ue=200375083427892e-7*W/180,pe=Math.log(Math.tan((90+J)*Math.PI/360))/(Math.PI/180);return[ue,pe=200375083427892e-7*pe/180]}function jo(z){var W=z[0],J=z[1]/200375083427892e-7*180;return[W/200375083427892e-7*180,J=180/Math.PI*(2*Math.atan(Math.exp(J*Math.PI/180))-Math.PI/2)]}function Ui(z,W,J){W===void 0&&(W={}),J===void 0&&(J=null);var ue,pe=z.geometry,Se=pe.type,Pe=pe.coordinates,qe=z.properties&&z.properties.id,Ue=[];function dt(At,Lt){var nr="",fr=null;At.forEach(function(dn,hn){var nn=Lt!=null?Lt+"."+hn:String(hn),vt=vi(qe,dn,nn,et(nn));if(W.midpoints&&fr){var Wt=function(Ir,gn,bn){var fn=gn.geometry.coordinates,Rn=bn.geometry.coordinates;if(fn[1]>85||fn[1]<-85||Rn[1]>85||Rn[1]<-85)return null;var An=Fn(fn),ei=Fn(Rn),fi=jo([(An[0]+ei[0])/2,(An[1]+ei[1])/2]),Gn={lng:fi[0],lat:fi[1]};return{type:He,properties:{meta:St,parent:Ir,lng:Gn.lng,lat:Gn.lat,coord_path:bn.properties.coord_path},geometry:{type:bt,coordinates:[Gn.lng,Gn.lat]}}}(qe,fr,vt);Wt&&Ue.push(Wt)}fr=vt;var Rr=JSON.stringify(dn);nr!==Rr&&Ue.push(vt),hn===0&&(nr=Rr)})}function et(At){return!!W.selectedPaths&&W.selectedPaths.indexOf(At)!==-1}return Se===bt?Ue.push(vi(qe,Pe,J,et(J))):Se===rt?Pe.forEach(function(At,Lt){dt(At,J!==null?J+"."+Lt:String(Lt))}):Se===ft?dt(Pe,J):Se.indexOf(De)===0&&(ue=Se.replace(De,""),Pe.forEach(function(At,Lt){var nr={type:He,properties:z.properties,geometry:{type:ue,coordinates:At}};Ue=Ue.concat(Ui(nr,W,Lt))})),Ue}var xi=function(z){setTimeout(function(){z.map&&z.map.doubleClickZoom&&z._ctx&&z._ctx.store&&z._ctx.store.getInitialConfigValue&&z._ctx.store.getInitialConfigValue("doubleClickZoom")&&z.map.doubleClickZoom.enable()},0)},wi=function(z){setTimeout(function(){z.map&&z.map.doubleClickZoom&&z.map.doubleClickZoom.disable()},0)},Jn=function(z){if(!z||!z.type)return null;var W=vo[z.type];if(!W)return null;if(W==="geometry")return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:z}]};if(W==="feature")return{type:"FeatureCollection",features:[z]};if(W==="featurecollection")return z},vo={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"};function Mo(z){switch(z&&z.type||null){case"FeatureCollection":return z.features=z.features.reduce(function(W,J){return W.concat(Mo(J))},[]),z;case"Feature":return z.geometry?Mo(z.geometry).map(function(W){var J={type:"Feature",properties:JSON.parse(JSON.stringify(z.properties)),geometry:W};return z.id!==void 0&&(J.id=z.id),J}):[z];case"MultiPoint":return z.coordinates.map(function(W){return{type:"Point",coordinates:W}});case"MultiPolygon":return z.coordinates.map(function(W){return{type:"Polygon",coordinates:W}});case"MultiLineString":return z.coordinates.map(function(W){return{type:"LineString",coordinates:W}});case"GeometryCollection":return z.geometries.map(Mo).reduce(function(W,J){return W.concat(J)},[]);case"Point":case"Polygon":case"LineString":return[z]}}var yo=function(z){if(!z)return[];var W=Mo(Jn(z)),J=[];return W.features.forEach(function(ue){ue.geometry&&(J=J.concat(function pe(Se){return Array.isArray(Se)&&Se.length&&typeof Se[0]=="number"?[Se]:Se.reduce(function(Pe,qe){return Array.isArray(qe)&&Array.isArray(qe[0])?Pe.concat(pe(qe)):(Pe.push(qe),Pe)},[])}(ue.geometry.coordinates)))}),J},Co=Ve(function(z){var W=z.exports=function(et){return new J(et)};function J(et){this.value=et}function ue(et,At,Lt){var nr=[],fr=[],dn=!0;return function hn(nn){var vt=Lt?pe(nn):nn,Wt={},Rr=!0,Ir={node:vt,node_:nn,path:[].concat(nr),parent:fr[fr.length-1],parents:fr,key:nr.slice(-1)[0],isRoot:nr.length===0,level:nr.length,circular:null,update:function(fn,Rn){Ir.isRoot||(Ir.parent.node[Ir.key]=fn),Ir.node=fn,Rn&&(Rr=!1)},delete:function(fn){delete Ir.parent.node[Ir.key],fn&&(Rr=!1)},remove:function(fn){qe(Ir.parent.node)?Ir.parent.node.splice(Ir.key,1):delete Ir.parent.node[Ir.key],fn&&(Rr=!1)},keys:null,before:function(fn){Wt.before=fn},after:function(fn){Wt.after=fn},pre:function(fn){Wt.pre=fn},post:function(fn){Wt.post=fn},stop:function(){dn=!1},block:function(){Rr=!1}};if(!dn)return Ir;function gn(){if(typeof Ir.node=="object"&&Ir.node!==null){Ir.keys&&Ir.node_===Ir.node||(Ir.keys=Se(Ir.node)),Ir.isLeaf=Ir.keys.length==0;for(var fn=0;fn<fr.length;fn++)if(fr[fn].node_===nn){Ir.circular=fr[fn];break}}else Ir.isLeaf=!0,Ir.keys=null;Ir.notLeaf=!Ir.isLeaf,Ir.notRoot=!Ir.isRoot}gn();var bn=At.call(Ir,Ir.node);return bn!==void 0&&Ir.update&&Ir.update(bn),Wt.before&&Wt.before.call(Ir,Ir.node),Rr&&(typeof Ir.node!="object"||Ir.node===null||Ir.circular||(fr.push(Ir),gn(),Ue(Ir.keys,function(fn,Rn){nr.push(fn),Wt.pre&&Wt.pre.call(Ir,Ir.node[fn],fn);var An=hn(Ir.node[fn]);Lt&&dt.call(Ir.node,fn)&&(Ir.node[fn]=An.node),An.isLast=Rn==Ir.keys.length-1,An.isFirst=Rn==0,Wt.post&&Wt.post.call(Ir,An),nr.pop()}),fr.pop()),Wt.after&&Wt.after.call(Ir,Ir.node)),Ir}(et).node}function pe(et){if(typeof et=="object"&&et!==null){var At;if(qe(et))At=[];else if(Pe(et)==="[object Date]")At=new Date(et.getTime?et.getTime():et);else if(function(fr){return Pe(fr)==="[object RegExp]"}(et))At=new RegExp(et);else if(function(fr){return Pe(fr)==="[object Error]"}(et))At={message:et.message};else if(function(fr){return Pe(fr)==="[object Boolean]"}(et))At=new Boolean(et);else if(function(fr){return Pe(fr)==="[object Number]"}(et))At=new Number(et);else if(function(fr){return Pe(fr)==="[object String]"}(et))At=new String(et);else if(Object.create&&Object.getPrototypeOf)At=Object.create(Object.getPrototypeOf(et));else if(et.constructor===Object)At={};else{var Lt=et.constructor&&et.constructor.prototype||et.__proto__||{},nr=function(){};nr.prototype=Lt,At=new nr}return Ue(Se(et),function(fr){At[fr]=et[fr]}),At}return et}J.prototype.get=function(et){for(var At=this.value,Lt=0;Lt<et.length;Lt++){var nr=et[Lt];if(!At||!dt.call(At,nr)){At=void 0;break}At=At[nr]}return At},J.prototype.has=function(et){for(var At=this.value,Lt=0;Lt<et.length;Lt++){var nr=et[Lt];if(!At||!dt.call(At,nr))return!1;At=At[nr]}return!0},J.prototype.set=function(et,At){for(var Lt=this.value,nr=0;nr<et.length-1;nr++){var fr=et[nr];dt.call(Lt,fr)||(Lt[fr]={}),Lt=Lt[fr]}return Lt[et[nr]]=At,At},J.prototype.map=function(et){return ue(this.value,et,!0)},J.prototype.forEach=function(et){return this.value=ue(this.value,et,!1),this.value},J.prototype.reduce=function(et,At){var Lt=arguments.length===1,nr=Lt?this.value:At;return this.forEach(function(fr){this.isRoot&&Lt||(nr=et.call(this,nr,fr))}),nr},J.prototype.paths=function(){var et=[];return this.forEach(function(At){et.push(this.path)}),et},J.prototype.nodes=function(){var et=[];return this.forEach(function(At){et.push(this.node)}),et},J.prototype.clone=function(){var et=[],At=[];return function Lt(nr){for(var fr=0;fr<et.length;fr++)if(et[fr]===nr)return At[fr];if(typeof nr=="object"&&nr!==null){var dn=pe(nr);return et.push(nr),At.push(dn),Ue(Se(nr),function(hn){dn[hn]=Lt(nr[hn])}),et.pop(),At.pop(),dn}return nr}(this.value)};var Se=Object.keys||function(et){var At=[];for(var Lt in et)At.push(Lt);return At};function Pe(et){return Object.prototype.toString.call(et)}var qe=Array.isArray||function(et){return Object.prototype.toString.call(et)==="[object Array]"},Ue=function(et,At){if(et.forEach)return et.forEach(At);for(var Lt=0;Lt<et.length;Lt++)At(et[Lt],Lt,et)};Ue(Se(J.prototype),function(et){W[et]=function(At){var Lt=[].slice.call(arguments,1),nr=new J(At);return nr[et].apply(nr,Lt)}});var dt=Object.hasOwnProperty||function(et,At){return At in et}}),ji=ti;function ti(z){if(!(this instanceof ti))return new ti(z);this._bbox=z||[1/0,1/0,-1/0,-1/0],this._valid=!!z}ti.prototype.include=function(z){return this._valid=!0,this._bbox[0]=Math.min(this._bbox[0],z[0]),this._bbox[1]=Math.min(this._bbox[1],z[1]),this._bbox[2]=Math.max(this._bbox[2],z[0]),this._bbox[3]=Math.max(this._bbox[3],z[1]),this},ti.prototype.equals=function(z){var W;return W=z instanceof ti?z.bbox():z,this._bbox[0]==W[0]&&this._bbox[1]==W[1]&&this._bbox[2]==W[2]&&this._bbox[3]==W[3]},ti.prototype.center=function(z){return this._valid?[(this._bbox[0]+this._bbox[2])/2,(this._bbox[1]+this._bbox[3])/2]:null},ti.prototype.union=function(z){var W;return this._valid=!0,W=z instanceof ti?z.bbox():z,this._bbox[0]=Math.min(this._bbox[0],W[0]),this._bbox[1]=Math.min(this._bbox[1],W[1]),this._bbox[2]=Math.max(this._bbox[2],W[2]),this._bbox[3]=Math.max(this._bbox[3],W[3]),this},ti.prototype.bbox=function(){return this._valid?this._bbox:null},ti.prototype.contains=function(z){if(!z)return this._fastContains();if(!this._valid)return null;var W=z[0],J=z[1];return this._bbox[0]<=W&&this._bbox[1]<=J&&this._bbox[2]>=W&&this._bbox[3]>=J},ti.prototype.intersect=function(z){return this._valid?(W=z instanceof ti?z.bbox():z,!(this._bbox[0]>W[2]||this._bbox[2]<W[0]||this._bbox[3]<W[1]||this._bbox[1]>W[3])):null;var W},ti.prototype._fastContains=function(){if(!this._valid)return new Function("return null;");var z="return "+this._bbox[0]+"<= ll[0] &&"+this._bbox[1]+"<= ll[1] &&"+this._bbox[2]+">= ll[0] &&"+this._bbox[3]+">= ll[1]";return new Function("ll",z)},ti.prototype.polygon=function(){return this._valid?{type:"Polygon",coordinates:[[[this._bbox[0],this._bbox[1]],[this._bbox[2],this._bbox[1]],[this._bbox[2],this._bbox[3]],[this._bbox[0],this._bbox[3]],[this._bbox[0],this._bbox[1]]]]}:null};var Qn={features:["FeatureCollection"],coordinates:["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],geometry:["Feature"],geometries:["GeometryCollection"]},la=Object.keys(Qn),Sa=function(z){return Ki(z).bbox()};function Ki(z){for(var W=ji(),J=yo(z),ue=0;ue<J.length;ue++)W.include(J[ue]);return W}Sa.polygon=function(z){return Ki(z).polygon()},Sa.bboxify=function(z){return Co(z).map(function(W){W&&la.some(function(J){return!!W[J]&&Qn[J].indexOf(W.type)!==-1})&&(W.bbox=Ki(W).bbox(),this.update(W))})};function uo(z,W){var J=-90,ue=90,pe=-90,Se=90,Pe=270,qe=-270;z.forEach(function(dt){var et=Sa(dt),At=et[1],Lt=et[3],nr=et[0],fr=et[2];At>J&&(J=At),Lt<ue&&(ue=Lt),Lt>pe&&(pe=Lt),At<Se&&(Se=At),nr<Pe&&(Pe=nr),fr>qe&&(qe=fr)});var Ue=W;return J+Ue.lat>85&&(Ue.lat=85-J),pe+Ue.lat>90&&(Ue.lat=90-pe),ue+Ue.lat<-85&&(Ue.lat=-85-ue),Se+Ue.lat<-90&&(Ue.lat=-90-Se),Pe+Ue.lng<=-270&&(Ue.lng+=360*Math.ceil(Math.abs(Ue.lng)/360)),qe+Ue.lng>=270&&(Ue.lng-=360*Math.ceil(Math.abs(Ue.lng)/360)),Ue}function Da(z,W,J){var ue=uo(z.map(function(qe){return qe.toGeoJSON()}),W),pe=Fn([J.lng,J.lat]),Se=Fn([J.lng-ue.lng,J.lat-ue.lat]),Pe=[pe[0]-Se[0],pe[1]-Se[1]];z.forEach(function(qe){var Ue,dt=qe.getCoordinates(),et=function(Lt){var nr=Fn(Lt);return jo([nr[0]+Pe[0],nr[1]+Pe[1]])},At=function(Lt){return Lt.map(function(nr){return et(nr)})};qe.type===bt?Ue=et(dt):qe.type===ft||qe.type===at?Ue=dt.map(et):qe.type===rt||qe.type===Ut?Ue=dt.map(At):qe.type===je&&(Ue=dt.map(function(Lt){return Lt.map(function(nr){return At(nr)})})),qe.incomingCoords(Ue)})}var ki={onSetup:function(z){var W=this,J={dragMoveLocation:null,boxSelectStartLocation:null,boxSelectElement:void 0,boxSelecting:!1,canBoxSelect:!1,dragMoving:!1,canDragMove:!1,initiallySelectedFeatureIds:z.featureIds||[]};return this.setSelected(J.initiallySelectedFeatureIds.filter(function(ue){return W.getFeature(ue)!==void 0})),this.fireActionable(),this.setActionableState({combineFeatures:!0,uncombineFeatures:!0,trash:!0}),J},fireUpdate:function(){this.map.fire(gt,{action:Ne,features:this.getSelected().map(function(z){return z.toGeoJSON()})})},fireActionable:function(){var z=this,W=this.getSelected(),J=W.filter(function(qe){return z.isInstanceOf("MultiFeature",qe)}),ue=!1;if(W.length>1){ue=!0;var pe=W[0].type.replace("Multi","");W.forEach(function(qe){qe.type.replace("Multi","")!==pe&&(ue=!1)})}var Se=J.length>0,Pe=W.length>0;this.setActionableState({combineFeatures:ue,uncombineFeatures:Se,trash:Pe})},getUniqueIds:function(z){return z.length?z.map(function(W){return W.properties.id}).filter(function(W){return W!==void 0}).reduce(function(W,J){return W.add(J),W},new zt).values():[]},stopExtendedInteractions:function(z){z.boxSelectElement&&(z.boxSelectElement.parentNode&&z.boxSelectElement.parentNode.removeChild(z.boxSelectElement),z.boxSelectElement=null),this.map.dragPan.enable(),z.boxSelecting=!1,z.canBoxSelect=!1,z.dragMoving=!1,z.canDragMove=!1},onStop:function(){xi(this)},onMouseMove:function(z){return this.stopExtendedInteractions(z),!0},onMouseOut:function(z){return!z.dragMoving||this.fireUpdate()}};ki.onTap=ki.onClick=function(z,W){return zn(W)?this.clickAnywhere(z,W):Wn(jt)(W)?this.clickOnVertex(z,W):function(J){return!!J.featureTarget&&!!J.featureTarget.properties&&J.featureTarget.properties.meta===Tt}(W)?this.clickOnFeature(z,W):void 0},ki.clickAnywhere=function(z){var W=this,J=this.getSelectedIds();J.length&&(this.clearSelectedFeatures(),J.forEach(function(ue){return W.doRender(ue)})),xi(this),this.stopExtendedInteractions(z)},ki.clickOnVertex=function(z,W){this.changeMode(tt.DIRECT_SELECT,{featureId:W.featureTarget.properties.parent,coordPath:W.featureTarget.properties.coord_path,startPos:W.lngLat}),this.updateUIClasses({mouse:Ce})},ki.startOnActiveFeature=function(z,W){this.stopExtendedInteractions(z),this.map.dragPan.disable(),this.doRender(W.featureTarget.properties.id),z.canDragMove=!0,z.dragMoveLocation=W.lngLat},ki.clickOnFeature=function(z,W){var J=this;wi(this),this.stopExtendedInteractions(z);var ue=Ri(W),pe=this.getSelectedIds(),Se=W.featureTarget.properties.id,Pe=this.isSelected(Se);if(!ue&&Pe&&this.getFeature(Se).type!==bt)return this.changeMode(tt.DIRECT_SELECT,{featureId:Se});Pe&&ue?(this.deselect(Se),this.updateUIClasses({mouse:be}),pe.length===1&&xi(this)):!Pe&&ue?(this.select(Se),this.updateUIClasses({mouse:Ce})):Pe||ue||(pe.forEach(function(qe){return J.doRender(qe)}),this.setSelected(Se),this.updateUIClasses({mouse:Ce})),this.doRender(Se)},ki.onMouseDown=function(z,W){return jn(W)?this.startOnActiveFeature(z,W):this.drawConfig.boxSelect&&function(J){return!!J.originalEvent&&!!J.originalEvent.shiftKey&&J.originalEvent.button===0}(W)?this.startBoxSelect(z,W):void 0},ki.startBoxSelect=function(z,W){this.stopExtendedInteractions(z),this.map.dragPan.disable(),z.boxSelectStartLocation=In(W.originalEvent,this.map.getContainer()),z.canBoxSelect=!0},ki.onTouchStart=function(z,W){if(jn(W))return this.startOnActiveFeature(z,W)},ki.onDrag=function(z,W){return z.canDragMove?this.dragMove(z,W):this.drawConfig.boxSelect&&z.canBoxSelect?this.whileBoxSelect(z,W):void 0},ki.whileBoxSelect=function(z,W){z.boxSelecting=!0,this.updateUIClasses({mouse:ge}),z.boxSelectElement||(z.boxSelectElement=document.createElement("div"),z.boxSelectElement.classList.add(oe),this.map.getContainer().appendChild(z.boxSelectElement));var J=In(W.originalEvent,this.map.getContainer()),ue=Math.min(z.boxSelectStartLocation.x,J.x),pe=Math.max(z.boxSelectStartLocation.x,J.x),Se=Math.min(z.boxSelectStartLocation.y,J.y),Pe=Math.max(z.boxSelectStartLocation.y,J.y),qe="translate("+ue+"px, "+Se+"px)";z.boxSelectElement.style.transform=qe,z.boxSelectElement.style.WebkitTransform=qe,z.boxSelectElement.style.width=pe-ue+"px",z.boxSelectElement.style.height=Pe-Se+"px"},ki.dragMove=function(z,W){z.dragMoving=!0,W.originalEvent.stopPropagation();var J={lng:W.lngLat.lng-z.dragMoveLocation.lng,lat:W.lngLat.lat-z.dragMoveLocation.lat};Da(this.getSelected(),J,W.lngLat),z.dragMoveLocation=W.lngLat},ki.onTouchEnd=ki.onMouseUp=function(z,W){var J=this;if(z.dragMoving)this.fireUpdate();else if(z.boxSelecting){var ue=[z.boxSelectStartLocation,In(W.originalEvent,this.map.getContainer())],pe=this.featuresAt(null,ue,"click"),Se=this.getUniqueIds(pe).filter(function(Pe){return!J.isSelected(Pe)});Se.length&&(this.select(Se),Se.forEach(function(Pe){return J.doRender(Pe)}),this.updateUIClasses({mouse:Ce}))}this.stopExtendedInteractions(z)},ki.toDisplayFeatures=function(z,W,J){W.properties.active=this.isSelected(W.properties.id)?or:xr,J(W),this.fireActionable(),W.properties.active===or&&W.geometry.type!==bt&&Ui(W).forEach(J)},ki.onTrash=function(){this.deleteFeature(this.getSelectedIds()),this.fireActionable()},ki.onCombineFeatures=function(){var z=this.getSelected();if(!(z.length===0||z.length<2)){for(var W=[],J=[],ue=z[0].type.replace("Multi",""),pe=0;pe<z.length;pe++){var Se=z[pe];if(Se.type.replace("Multi","")!==ue)return;Se.type.includes("Multi")?Se.getCoordinates().forEach(function(qe){W.push(qe)}):W.push(Se.getCoordinates()),J.push(Se.toGeoJSON())}if(J.length>1){var Pe=this.newFeature({type:He,properties:J[0].properties,geometry:{type:"Multi"+ue,coordinates:W}});this.addFeature(Pe),this.deleteFeature(this.getSelectedIds(),{silent:!0}),this.setSelected([Pe.id]),this.map.fire(Ht,{createdFeatures:[Pe.toGeoJSON()],deletedFeatures:J})}this.fireActionable()}},ki.onUncombineFeatures=function(){var z=this,W=this.getSelected();if(W.length!==0){for(var J=[],ue=[],pe=function(Pe){var qe=W[Pe];z.isInstanceOf("MultiFeature",qe)&&(qe.getFeatures().forEach(function(Ue){z.addFeature(Ue),Ue.properties=qe.properties,J.push(Ue.toGeoJSON()),z.select([Ue.id])}),z.deleteFeature(qe.id,{silent:!0}),ue.push(qe.toGeoJSON()))},Se=0;Se<W.length;Se++)pe(Se);J.length>1&&this.map.fire(cr,{createdFeatures:J,deletedFeatures:ue}),this.fireActionable()}};var Ii=Wn(jt),Ra=Wn(St),Wi={fireUpdate:function(){this.map.fire(gt,{action:ot,features:this.getSelected().map(function(z){return z.toGeoJSON()})})},fireActionable:function(z){this.setActionableState({combineFeatures:!1,uncombineFeatures:!1,trash:z.selectedCoordPaths.length>0})},startDragging:function(z,W){this.map.dragPan.disable(),z.canDragMove=!0,z.dragMoveLocation=W.lngLat},stopDragging:function(z){this.map.dragPan.enable(),z.dragMoving=!1,z.canDragMove=!1,z.dragMoveLocation=null},onVertex:function(z,W){this.startDragging(z,W);var J=W.featureTarget.properties,ue=z.selectedCoordPaths.indexOf(J.coord_path);Ri(W)||ue!==-1?Ri(W)&&ue===-1&&z.selectedCoordPaths.push(J.coord_path):z.selectedCoordPaths=[J.coord_path];var pe=this.pathsToCoordinates(z.featureId,z.selectedCoordPaths);this.setSelectedCoordinates(pe)},onMidpoint:function(z,W){this.startDragging(z,W);var J=W.featureTarget.properties;z.feature.addCoordinate(J.coord_path,J.lng,J.lat),this.fireUpdate(),z.selectedCoordPaths=[J.coord_path]},pathsToCoordinates:function(z,W){return W.map(function(J){return{feature_id:z,coord_path:J}})},onFeature:function(z,W){z.selectedCoordPaths.length===0?this.startDragging(z,W):this.stopDragging(z)},dragFeature:function(z,W,J){Da(this.getSelected(),J,W.lngLat),z.dragMoveLocation=W.lngLat},dragVertex:function(z,W,J){for(var ue=z.selectedCoordPaths.map(function(qe){return z.feature.getCoordinate(qe)}),pe=uo(ue.map(function(qe){return{type:He,properties:{},geometry:{type:bt,coordinates:qe}}}),J),Se=0;Se<ue.length;Se++){var Pe=ue[Se];z.feature.updateCoordinate(z.selectedCoordPaths[Se],Pe[0]+pe.lng,Pe[1]+pe.lat)}},clickNoTarget:function(){this.changeMode(tt.SIMPLE_SELECT)},clickInactive:function(){this.changeMode(tt.SIMPLE_SELECT)},clickActiveFeature:function(z){z.selectedCoordPaths=[],this.clearSelectedCoordinates(),z.feature.changed()},onSetup:function(z){var W=z.featureId,J=this.getFeature(W);if(!J)throw new Error("You must provide a featureId to enter direct_select mode");if(J.type===bt)throw new TypeError("direct_select mode doesn't handle point features");var ue={featureId:W,feature:J,dragMoveLocation:z.startPos||null,dragMoving:!1,canDragMove:!1,selectedCoordPaths:z.coordPath?[z.coordPath]:[]};return this.setSelectedCoordinates(this.pathsToCoordinates(W,ue.selectedCoordPaths)),this.setSelected(W),wi(this),this.setActionableState({trash:!0}),ue},onStop:function(){xi(this),this.clearSelectedCoordinates()},toDisplayFeatures:function(z,W,J){z.featureId===W.properties.id?(W.properties.active=or,J(W),Ui(W,{map:this.map,midpoints:!0,selectedPaths:z.selectedCoordPaths}).forEach(J)):(W.properties.active=xr,J(W)),this.fireActionable(z)},onTrash:function(z){z.selectedCoordPaths.sort(function(W,J){return J.localeCompare(W,"en",{numeric:!0})}).forEach(function(W){return z.feature.removeCoordinate(W)}),this.fireUpdate(),z.selectedCoordPaths=[],this.clearSelectedCoordinates(),this.fireActionable(z),z.feature.isValid()===!1&&(this.deleteFeature([z.featureId]),this.changeMode(tt.SIMPLE_SELECT,{}))},onMouseMove:function(z,W){var J=jn(W),ue=Ii(W),pe=z.selectedCoordPaths.length===0;return J&&pe||ue&&!pe?this.updateUIClasses({mouse:Ce}):this.updateUIClasses({mouse:ke}),this.stopDragging(z),!0},onMouseOut:function(z){return z.dragMoving&&this.fireUpdate(),!0}};Wi.onTouchStart=Wi.onMouseDown=function(z,W){return Ii(W)?this.onVertex(z,W):jn(W)?this.onFeature(z,W):Ra(W)?this.onMidpoint(z,W):void 0},Wi.onDrag=function(z,W){if(z.canDragMove===!0){z.dragMoving=!0,W.originalEvent.stopPropagation();var J={lng:W.lngLat.lng-z.dragMoveLocation.lng,lat:W.lngLat.lat-z.dragMoveLocation.lat};z.selectedCoordPaths.length>0?this.dragVertex(z,W,J):this.dragFeature(z,W,J),z.dragMoveLocation=W.lngLat}},Wi.onClick=function(z,W){return zn(W)?this.clickNoTarget(z,W):jn(W)?this.clickActiveFeature(z,W):xn(W)?this.clickInactive(z,W):void this.stopDragging(z)},Wi.onTap=function(z,W){return zn(W)?this.clickNoTarget(z,W):jn(W)?this.clickActiveFeature(z,W):xn(W)?this.clickInactive(z,W):void 0},Wi.onTouchEnd=Wi.onMouseUp=function(z){z.dragMoving&&this.fireUpdate(),this.stopDragging(z)};var si={};function ua(z,W){return!!z.lngLat&&z.lngLat.lng===W[0]&&z.lngLat.lat===W[1]}si.onSetup=function(){var z=this.newFeature({type:He,properties:{},geometry:{type:bt,coordinates:[]}});return this.addFeature(z),this.clearSelectedFeatures(),this.updateUIClasses({mouse:ge}),this.activateUIButton(Ee.POINT),this.setActionableState({trash:!0}),this.map&&(this._mapIsInteractingStore=this.map.isInteracting(),this.map.setIsInteracting(!0)),{point:z,options:this._ctx.options}},si.stopDrawingAndRemove=function(z){this.deleteFeature([z.point.id],{silent:!0}),this.changeMode(tt.SIMPLE_SELECT)},si.onTap=si.onClick=function(z,W){this.updateUIClasses({mouse:Ce}),z.point.updateCoordinate("",W.lngLat.lng,W.lngLat.lat),this.map.fire(We,{features:[z.point.toGeoJSON()],styleId:z.options.styleId}),this.changeMode(tt.SIMPLE_SELECT,{featureIds:[z.point.id]})},si.onStop=function(z){this.activateUIButton(),z.point.getCoordinate().length||this.deleteFeature([z.point.id],{silent:!0}),this.map&&this.map.setIsInteracting(this._mapIsInteractingStore||!1)},si.toDisplayFeatures=function(z,W,J){var ue=W.properties.id===z.point.id;if(W.properties.active=ue?or:xr,!ue)return J(W)},si.onTrash=si.stopDrawingAndRemove,si.onKeyUp=function(z,W){if(ci(W)||tn(W))return this.stopDrawingAndRemove(z,W)};var Mi={onSetup:function(){var z=this.newFeature({type:He,properties:{},geometry:{type:rt,coordinates:[[]]}});return this.addFeature(z),this.clearSelectedFeatures(),wi(this),this.updateUIClasses({mouse:ge}),this.activateUIButton(Ee.POLYGON),this.setActionableState({trash:!0}),this.map&&(this._mapIsInteractingStore=this.map.isInteracting(),this.map.setIsInteracting(!0)),{polygon:z,currentVertexPosition:0,options:this._ctx.options}},clickAnywhere:function(z,W){if(z.currentVertexPosition>0&&ua(W,z.polygon.coordinates[0][z.currentVertexPosition-1]))return this.changeMode(tt.SIMPLE_SELECT,{featureIds:[z.polygon.id]});this.updateUIClasses({mouse:ge}),z.polygon.updateCoordinate("0."+z.currentVertexPosition,W.lngLat.lng,W.lngLat.lat),z.currentVertexPosition++,z.polygon.updateCoordinate("0."+z.currentVertexPosition,W.lngLat.lng,W.lngLat.lat)},clickOnVertex:function(z){return this.changeMode(tt.SIMPLE_SELECT,{featureIds:[z.polygon.id]})},onMouseMove:function(z,W){z.polygon.updateCoordinate("0."+z.currentVertexPosition,W.lngLat.lng,W.lngLat.lat),li(W)&&this.updateUIClasses({mouse:be}),this.map.fire(Vt,{lnglat:[W.lngLat.lng,W.lngLat.lat],feature:z.polygon,event:W,state:z,styleId:z.options.styleId})}};Mi.onTap=Mi.onClick=function(z,W){return li(W)?this.clickOnVertex(z,W):this.clickAnywhere(z,W)},Mi.onKeyUp=function(z,W){ci(W)?(this.deleteFeature([z.polygon.id],{silent:!0}),this.changeMode(tt.SIMPLE_SELECT)):tn(W)&&this.changeMode(tt.SIMPLE_SELECT,{featureIds:[z.polygon.id]})},Mi.onStop=function(z){this.updateUIClasses({mouse:ke}),xi(this),this.activateUIButton(),this.getFeature(z.polygon.id)!==void 0&&(z.polygon.removeCoordinate("0."+z.currentVertexPosition),z.polygon.isValid()?this.map.fire(We,{features:[z.polygon.toGeoJSON()],styleId:z.options.styleId}):(this.deleteFeature([z.polygon.id],{silent:!0}),this.changeMode(tt.SIMPLE_SELECT,{},{silent:!0})),this.map&&this.map.setIsInteracting(this._mapIsInteractingStore||!1))},Mi.toDisplayFeatures=function(z,W,J){var ue=W.properties.id===z.polygon.id;if(W.properties.active=ue?or:xr,!ue)return J(W);if(W.geometry.coordinates.length!==0){var pe=W.geometry.coordinates[0].length;if(!(pe<3)){if(W.properties.meta=Tt,J(vi(z.polygon.id,W.geometry.coordinates[0][0],"0.0",!1)),pe>3){var Se=W.geometry.coordinates[0].length-3;J(vi(z.polygon.id,W.geometry.coordinates[0][Se],"0."+Se,!1))}if(pe<=4){var Pe=[[W.geometry.coordinates[0][0][0],W.geometry.coordinates[0][0][1]],[W.geometry.coordinates[0][1][0],W.geometry.coordinates[0][1][1]]];if(J({type:He,properties:W.properties,geometry:{coordinates:Pe,type:ft}}),pe===3)return}return J(W)}}},Mi.onTrash=function(z){this.deleteFeature([z.polygon.id],{silent:!0}),this.changeMode(tt.SIMPLE_SELECT)};var ho={onSetup:function(z){var W,J,ue=(z=z||{}).featureId,pe="forward";if(ue){if(!(W=this.getFeature(ue)))throw new Error("Could not find a feature with the provided featureId");var Se=z.from;if(Se&&Se.type==="Feature"&&Se.geometry&&Se.geometry.type==="Point"&&(Se=Se.geometry),Se&&Se.type==="Point"&&Se.coordinates&&Se.coordinates.length===2&&(Se=Se.coordinates),!Se||!Array.isArray(Se))throw new Error("Please use the `from` property to indicate which point to continue the line from");var Pe=W.coordinates.length-1;if(W.coordinates[Pe][0]===Se[0]&&W.coordinates[Pe][1]===Se[1])J=Pe+1,W.addCoordinate.apply(W,[J].concat(W.coordinates[Pe]));else{if(W.coordinates[0][0]!==Se[0]||W.coordinates[0][1]!==Se[1])throw new Error("`from` should match the point at either the start or the end of the provided LineString");pe="backwards",J=0,W.addCoordinate.apply(W,[J].concat(W.coordinates[0]))}}else W=this.newFeature({type:He,properties:{},geometry:{type:ft,coordinates:[]}}),J=0,this.addFeature(W);return this.clearSelectedFeatures(),wi(this),this.updateUIClasses({mouse:ge}),this.activateUIButton(Ee.LINE),this.setActionableState({trash:!0}),this.map&&(this._mapIsInteractingStore=this.map.isInteracting(),this.map.setIsInteracting(!0)),{line:W,currentVertexPosition:J,direction:pe,options:this._ctx.options}},clickAnywhere:function(z,W){if(z.currentVertexPosition>0&&ua(W,z.line.coordinates[z.currentVertexPosition-1])||z.direction==="backwards"&&ua(W,z.line.coordinates[z.currentVertexPosition+1]))return this.changeMode(tt.SIMPLE_SELECT,{featureIds:[z.line.id]});this.updateUIClasses({mouse:ge}),z.line.updateCoordinate(z.currentVertexPosition,W.lngLat.lng,W.lngLat.lat),z.direction==="forward"?(z.currentVertexPosition++,z.line.updateCoordinate(z.currentVertexPosition,W.lngLat.lng,W.lngLat.lat)):z.line.addCoordinate(0,W.lngLat.lng,W.lngLat.lat)},clickOnVertex:function(z){return this.changeMode(tt.SIMPLE_SELECT,{featureIds:[z.line.id]})},onMouseMove:function(z,W){z.line.updateCoordinate(z.currentVertexPosition,W.lngLat.lng,W.lngLat.lat),li(W)&&this.updateUIClasses({mouse:be}),this.map.fire(Vt,{lnglat:[W.lngLat.lng,W.lngLat.lat],feature:z.line,event:W,state:z,styleId:z.options.styleId})}};ho.onTap=ho.onClick=function(z,W){if(li(W))return this.clickOnVertex(z,W);this.clickAnywhere(z,W)},ho.onKeyUp=function(z,W){tn(W)?this.changeMode(tt.SIMPLE_SELECT,{featureIds:[z.line.id]}):ci(W)&&(this.deleteFeature([z.line.id],{silent:!0}),this.changeMode(tt.SIMPLE_SELECT))},ho.onStop=function(z){xi(this),this.activateUIButton(),this.getFeature(z.line.id)!==void 0&&(z.line.removeCoordinate(""+z.currentVertexPosition),z.line.isValid()?this.map.fire(We,{features:[z.line.toGeoJSON()],styleId:z.options.styleId}):(this.deleteFeature([z.line.id],{silent:!0}),this.changeMode(tt.SIMPLE_SELECT,{},{silent:!0})),this.map&&this.map.setIsInteracting(this._mapIsInteractingStore||!1))},ho.onTrash=function(z){this.deleteFeature([z.line.id],{silent:!0}),this.changeMode(tt.SIMPLE_SELECT)},ho.toDisplayFeatures=function(z,W,J){var ue=W.properties.id===z.line.id;if(W.properties.active=ue?or:xr,!ue)return J(W);W.geometry.coordinates.length<2||(W.properties.meta=Tt,J(vi(z.line.id,W.geometry.coordinates[z.direction==="forward"?W.geometry.coordinates.length-2:1],""+(z.direction==="forward"?W.geometry.coordinates.length-2:1),!1)),J(W))};var bo={simple_select:ki,direct_select:Wi,draw_point:si,draw_polygon:Mi,draw_line_string:ho},La={defaultMode:tt.SIMPLE_SELECT,keybindings:!0,touchEnabled:!0,clickBuffer:2,touchBuffer:25,boxSelect:!0,displayControlsDefault:!0,styles:_r,modes:bo,controls:{},userProperties:!1},Yo={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0},Z={point:!1,line_string:!1,polygon:!1,trash:!1,combine_features:!1,uncombine_features:!1};function ie(z,W,J){return J===void 0&&(J={}),z.map(function(ue){return ue.source?ue:ct(ue,{id:ue.id+"."+W+J.styleId,source:W==="hot"?se+J.styleId:fe+J.styleId})})}var le=Ve(function(z,W){var J="[object Arguments]",ue="[object Map]",pe="[object Object]",Se="[object Set]",Pe=/^\[object .+?Constructor\]$/,qe=/^(?:0|[1-9]\d*)$/,Ue={};Ue["[object Float32Array]"]=Ue["[object Float64Array]"]=Ue["[object Int8Array]"]=Ue["[object Int16Array]"]=Ue["[object Int32Array]"]=Ue["[object Uint8Array]"]=Ue["[object Uint8ClampedArray]"]=Ue["[object Uint16Array]"]=Ue["[object Uint32Array]"]=!0,Ue[J]=Ue["[object Array]"]=Ue["[object ArrayBuffer]"]=Ue["[object Boolean]"]=Ue["[object DataView]"]=Ue["[object Date]"]=Ue["[object Error]"]=Ue["[object Function]"]=Ue[ue]=Ue["[object Number]"]=Ue[pe]=Ue["[object RegExp]"]=Ue[Se]=Ue["[object String]"]=Ue["[object WeakMap]"]=!1;var dt=typeof g=="object"&&g&&g.Object===Object&&g,et=typeof self=="object"&&self&&self.Object===Object&&self,At=dt||et||Function("return this")(),Lt=W&&!W.nodeType&&W,nr=Lt&&z&&!z.nodeType&&z,fr=nr&&nr.exports===Lt,dn=fr&&dt.process,hn=function(){try{return dn&&dn.binding&&dn.binding("util")}catch{}}(),nn=hn&&hn.isTypedArray;function vt(Dt,hr){for(var Jr=-1,yn=Dt==null?0:Dt.length;++Jr<yn;)if(hr(Dt[Jr],Jr,Dt))return!0;return!1}function Wt(Dt){var hr=-1,Jr=Array(Dt.size);return Dt.forEach(function(yn,Pn){Jr[++hr]=[Pn,yn]}),Jr}function Rr(Dt){var hr=-1,Jr=Array(Dt.size);return Dt.forEach(function(yn){Jr[++hr]=yn}),Jr}var Ir,gn,bn,fn=Array.prototype,Rn=Function.prototype,An=Object.prototype,ei=At["__core-js_shared__"],fi=Rn.toString,Gn=An.hasOwnProperty,Ni=(Ir=/[^.]+$/.exec(ei&&ei.keys&&ei.keys.IE_PROTO||""))?"Symbol(src)_1."+Ir:"",$o=An.toString,aa=RegExp("^"+fi.call(Gn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zo=fr?At.Buffer:void 0,to=At.Symbol,sa=At.Uint8Array,Vi=An.propertyIsEnumerable,$s=fn.splice,Yi=to?to.toStringTag:void 0,pr=Object.getOwnPropertySymbols,Re=zo?zo.isBuffer:void 0,Ke=(gn=Object.keys,bn=Object,function(Dt){return gn(bn(Dt))}),$t=ht(At,"DataView"),Yt=ht(At,"Map"),ur=ht(At,"Promise"),rn=ht(At,"Set"),jr=ht(At,"WeakMap"),Gr=ht(Object,"create"),_n=tr($t),En=tr(Yt),Tn=tr(ur),Ln=tr(rn),D=tr(jr),_=to?to.prototype:void 0,A=_?_.valueOf:void 0;function L(Dt){var hr=-1,Jr=Dt==null?0:Dt.length;for(this.clear();++hr<Jr;){var yn=Dt[hr];this.set(yn[0],yn[1])}}function G(Dt){var hr=-1,Jr=Dt==null?0:Dt.length;for(this.clear();++hr<Jr;){var yn=Dt[hr];this.set(yn[0],yn[1])}}function H(Dt){var hr=-1,Jr=Dt==null?0:Dt.length;for(this.clear();++hr<Jr;){var yn=Dt[hr];this.set(yn[0],yn[1])}}function ee(Dt){var hr=-1,Jr=Dt==null?0:Dt.length;for(this.__data__=new H;++hr<Jr;)this.add(Dt[hr])}function ae(Dt){var hr=this.__data__=new G(Dt);this.size=hr.size}function de(Dt,hr){var Jr=Vr(Dt),yn=!Jr&&Sr(Dt),Pn=!Jr&&!yn&&Pt(Dt),Mn=!Jr&&!yn&&!Pn&&Sn(Dt),qn=Jr||yn||Pn||Mn,Ci=qn?function(Ei,oo){for(var hi=-1,pi=Array(Ei);++hi<Ei;)pi[hi]=oo(hi);return pi}(Dt.length,String):[],Gi=Ci.length;for(var mi in Dt)!hr&&!Gn.call(Dt,mi)||qn&&(mi=="length"||Pn&&(mi=="offset"||mi=="parent")||Mn&&(mi=="buffer"||mi=="byteLength"||mi=="byteOffset")||rr(mi,Gi))||Ci.push(mi);return Ci}function me(Dt,hr){for(var Jr=Dt.length;Jr--;)if(wr(Dt[Jr][0],hr))return Jr;return-1}function we(Dt){return Dt==null?Dt===void 0?"[object Undefined]":"[object Null]":Yi&&Yi in Object(Dt)?function(hr){var Jr=Gn.call(hr,Yi),yn=hr[Yi];try{hr[Yi]=void 0;var Pn=!0}catch{}var Mn=$o.call(hr);return Pn&&(Jr?hr[Yi]=yn:delete hr[Yi]),Mn}(Dt):function(hr){return $o.call(hr)}(Dt)}function Ae(Dt){return wn(Dt)&&we(Dt)==J}function ze(Dt,hr,Jr,yn,Pn){return Dt===hr||(Dt==null||hr==null||!wn(Dt)&&!wn(hr)?Dt!=Dt&&hr!=hr:function(Mn,qn,Ci,Gi,mi,Ei){var oo=Vr(Mn),hi=Vr(qn),pi=oo?"[object Array]":Bt(Mn),Xn=hi?"[object Array]":Bt(qn),Fi=(pi=pi==J?pe:pi)==pe,ao=(Xn=Xn==J?pe:Xn)==pe,Si=pi==Xn;if(Si&&Pt(Mn)){if(!Pt(qn))return!1;oo=!0,Fi=!1}if(Si&&!Fi)return Ei||(Ei=new ae),oo||Sn(Mn)?Ge(Mn,qn,Ci,Gi,mi,Ei):function(Pi,bi,ja,Va,as,Fo,ss){switch(ja){case"[object DataView]":if(Pi.byteLength!=bi.byteLength||Pi.byteOffset!=bi.byteOffset)return!1;Pi=Pi.buffer,bi=bi.buffer;case"[object ArrayBuffer]":return!(Pi.byteLength!=bi.byteLength||!Fo(new sa(Pi),new sa(bi)));case"[object Boolean]":case"[object Date]":case"[object Number]":return wr(+Pi,+bi);case"[object Error]":return Pi.name==bi.name&&Pi.message==bi.message;case"[object RegExp]":case"[object String]":return Pi==bi+"";case ue:var ls=Wt;case Se:var pl=1&Va;if(ls||(ls=Rr),Pi.size!=bi.size&&!pl)return!1;var Ss=ss.get(Pi);if(Ss)return Ss==bi;Va|=2,ss.set(Pi,bi);var Ks=Ge(ls(Pi),ls(bi),Va,as,Fo,ss);return ss.delete(Pi),Ks;case"[object Symbol]":if(A)return A.call(Pi)==A.call(bi)}return!1}(Mn,qn,pi,Ci,Gi,mi,Ei);if(!(1&Ci)){var Eo=Fi&&Gn.call(Mn,"__wrapped__"),Cs=ao&&Gn.call(qn,"__wrapped__");if(Eo||Cs){var Zo=Eo?Mn.value():Mn,Ka=Cs?qn.value():qn;return Ei||(Ei=new ae),mi(Zo,Ka,Ci,Gi,Ei)}}return Si?(Ei||(Ei=new ae),function(Pi,bi,ja,Va,as,Fo){var ss=1&ja,ls=It(Pi),pl=ls.length,Ss=It(bi).length;if(pl!=Ss&&!ss)return!1;for(var Ks=pl;Ks--;){var Ua=ls[Ks];if(!(ss?Ua in bi:Gn.call(bi,Ua)))return!1}var Hl=Fo.get(Pi);if(Hl&&Fo.get(bi))return Hl==bi;var Ds=!0;Fo.set(Pi,bi),Fo.set(bi,Pi);for(var Ja=ss;++Ks<pl;){Ua=ls[Ks];var Rs=Pi[Ua],fl=bi[Ua];if(Va)var ql=ss?Va(fl,Rs,Ua,bi,Pi,Fo):Va(Rs,fl,Ua,Pi,bi,Fo);if(!(ql===void 0?Rs===fl||as(Rs,fl,ja,Va,Fo):ql)){Ds=!1;break}Ja||(Ja=Ua=="constructor")}if(Ds&&!Ja){var kl=Pi.constructor,Il=bi.constructor;kl==Il||!("constructor"in Pi)||!("constructor"in bi)||typeof kl=="function"&&kl instanceof kl&&typeof Il=="function"&&Il instanceof Il||(Ds=!1)}return Fo.delete(Pi),Fo.delete(bi),Ds}(Mn,qn,Ci,Gi,mi,Ei)):!1}(Dt,hr,Jr,yn,ze,Pn))}function Xe(Dt){return!(!kn(Dt)||function(hr){return!!Ni&&Ni in hr}(Dt))&&(on(Dt)?aa:Pe).test(tr(Dt))}function Fe(Dt){if(Jr=(hr=Dt)&&hr.constructor,yn=typeof Jr=="function"&&Jr.prototype||An,hr!==yn)return Ke(Dt);var hr,Jr,yn,Pn=[];for(var Mn in Object(Dt))Gn.call(Dt,Mn)&&Mn!="constructor"&&Pn.push(Mn);return Pn}function Ge(Dt,hr,Jr,yn,Pn,Mn){var qn=1&Jr,Ci=Dt.length,Gi=hr.length;if(Ci!=Gi&&!(qn&&Gi>Ci))return!1;var mi=Mn.get(Dt);if(mi&&Mn.get(hr))return mi==hr;var Ei=-1,oo=!0,hi=2&Jr?new ee:void 0;for(Mn.set(Dt,hr),Mn.set(hr,Dt);++Ei<Ci;){var pi=Dt[Ei],Xn=hr[Ei];if(yn)var Fi=qn?yn(Xn,pi,Ei,hr,Dt,Mn):yn(pi,Xn,Ei,Dt,hr,Mn);if(Fi!==void 0){if(Fi)continue;oo=!1;break}if(hi){if(!vt(hr,function(ao,Si){if(Eo=Si,!hi.has(Eo)&&(pi===ao||Pn(pi,ao,Jr,yn,Mn)))return hi.push(Si);var Eo})){oo=!1;break}}else if(pi!==Xn&&!Pn(pi,Xn,Jr,yn,Mn)){oo=!1;break}}return Mn.delete(Dt),Mn.delete(hr),oo}function It(Dt){return function(hr,Jr,yn){var Pn=Jr(hr);return Vr(hr)?Pn:function(Mn,qn){for(var Ci=-1,Gi=qn.length,mi=Mn.length;++Ci<Gi;)Mn[mi+Ci]=qn[Ci];return Mn}(Pn,yn(hr))}(Dt,Hn,wt)}function Je(Dt,hr){var Jr,yn,Pn=Dt.__data__;return((yn=typeof(Jr=hr))=="string"||yn=="number"||yn=="symbol"||yn=="boolean"?Jr!=="__proto__":Jr===null)?Pn[typeof hr=="string"?"string":"hash"]:Pn.map}function ht(Dt,hr){var Jr=function(yn,Pn){return yn==null?void 0:yn[Pn]}(Dt,hr);return Xe(Jr)?Jr:void 0}L.prototype.clear=function(){this.__data__=Gr?Gr(null):{},this.size=0},L.prototype.delete=function(Dt){var hr=this.has(Dt)&&delete this.__data__[Dt];return this.size-=hr?1:0,hr},L.prototype.get=function(Dt){var hr=this.__data__;if(Gr){var Jr=hr[Dt];return Jr==="__lodash_hash_undefined__"?void 0:Jr}return Gn.call(hr,Dt)?hr[Dt]:void 0},L.prototype.has=function(Dt){var hr=this.__data__;return Gr?hr[Dt]!==void 0:Gn.call(hr,Dt)},L.prototype.set=function(Dt,hr){var Jr=this.__data__;return this.size+=this.has(Dt)?0:1,Jr[Dt]=Gr&&hr===void 0?"__lodash_hash_undefined__":hr,this},G.prototype.clear=function(){this.__data__=[],this.size=0},G.prototype.delete=function(Dt){var hr=this.__data__,Jr=me(hr,Dt);return!(Jr<0)&&(Jr==hr.length-1?hr.pop():$s.call(hr,Jr,1),--this.size,!0)},G.prototype.get=function(Dt){var hr=this.__data__,Jr=me(hr,Dt);return Jr<0?void 0:hr[Jr][1]},G.prototype.has=function(Dt){return me(this.__data__,Dt)>-1},G.prototype.set=function(Dt,hr){var Jr=this.__data__,yn=me(Jr,Dt);return yn<0?(++this.size,Jr.push([Dt,hr])):Jr[yn][1]=hr,this},H.prototype.clear=function(){this.size=0,this.__data__={hash:new L,map:new(Yt||G),string:new L}},H.prototype.delete=function(Dt){var hr=Je(this,Dt).delete(Dt);return this.size-=hr?1:0,hr},H.prototype.get=function(Dt){return Je(this,Dt).get(Dt)},H.prototype.has=function(Dt){return Je(this,Dt).has(Dt)},H.prototype.set=function(Dt,hr){var Jr=Je(this,Dt),yn=Jr.size;return Jr.set(Dt,hr),this.size+=Jr.size==yn?0:1,this},ee.prototype.add=ee.prototype.push=function(Dt){return this.__data__.set(Dt,"__lodash_hash_undefined__"),this},ee.prototype.has=function(Dt){return this.__data__.has(Dt)},ae.prototype.clear=function(){this.__data__=new G,this.size=0},ae.prototype.delete=function(Dt){var hr=this.__data__,Jr=hr.delete(Dt);return this.size=hr.size,Jr},ae.prototype.get=function(Dt){return this.__data__.get(Dt)},ae.prototype.has=function(Dt){return this.__data__.has(Dt)},ae.prototype.set=function(Dt,hr){var Jr=this.__data__;if(Jr instanceof G){var yn=Jr.__data__;if(!Yt||yn.length<199)return yn.push([Dt,hr]),this.size=++Jr.size,this;Jr=this.__data__=new H(yn)}return Jr.set(Dt,hr),this.size=Jr.size,this};var wt=pr?function(Dt){return Dt==null?[]:(Dt=Object(Dt),function(hr,Jr){for(var yn=-1,Pn=hr==null?0:hr.length,Mn=0,qn=[];++yn<Pn;){var Ci=hr[yn];Jr(Ci,yn,hr)&&(qn[Mn++]=Ci)}return qn}(pr(Dt),function(hr){return Vi.call(Dt,hr)}))}:function(){return[]},Bt=we;function rr(Dt,hr){return!!(hr=hr==null?9007199254740991:hr)&&(typeof Dt=="number"||qe.test(Dt))&&Dt>-1&&Dt%1==0&&Dt<hr}function tr(Dt){if(Dt!=null){try{return fi.call(Dt)}catch{}try{return Dt+""}catch{}}return""}function wr(Dt,hr){return Dt===hr||Dt!=Dt&&hr!=hr}($t&&Bt(new $t(new ArrayBuffer(1)))!="[object DataView]"||Yt&&Bt(new Yt)!=ue||ur&&Bt(ur.resolve())!="[object Promise]"||rn&&Bt(new rn)!=Se||jr&&Bt(new jr)!="[object WeakMap]")&&(Bt=function(Dt){var hr=we(Dt),Jr=hr==pe?Dt.constructor:void 0,yn=Jr?tr(Jr):"";if(yn)switch(yn){case _n:return"[object DataView]";case En:return ue;case Tn:return"[object Promise]";case Ln:return Se;case D:return"[object WeakMap]"}return hr});var Sr=Ae(function(){return arguments}())?Ae:function(Dt){return wn(Dt)&&Gn.call(Dt,"callee")&&!Vi.call(Dt,"callee")},Vr=Array.isArray,Pt=Re||function(){return!1};function on(Dt){if(!kn(Dt))return!1;var hr=we(Dt);return hr=="[object Function]"||hr=="[object GeneratorFunction]"||hr=="[object AsyncFunction]"||hr=="[object Proxy]"}function Zr(Dt){return typeof Dt=="number"&&Dt>-1&&Dt%1==0&&Dt<=9007199254740991}function kn(Dt){var hr=typeof Dt;return Dt!=null&&(hr=="object"||hr=="function")}function wn(Dt){return Dt!=null&&typeof Dt=="object"}var Sn=nn?function(Dt){return function(hr){return Dt(hr)}}(nn):function(Dt){return wn(Dt)&&Zr(Dt.length)&&!!Ue[we(Dt)]};function Hn(Dt){return(hr=Dt)!=null&&Zr(hr.length)&&!on(hr)?de(Dt):Fe(Dt);var hr}z.exports=function(Dt,hr){return ze(Dt,hr)}}),xe={Polygon:mr,LineString:ir,Point:sr,MultiPolygon:Or,MultiLineString:Or,MultiPoint:Or};function Me(z,W){return W.modes=tt,W.getFeatureIdsAt=function(J){return gr.click({point:J},null,z).map(function(ue){return ue.properties.id})},W.getSelectedIds=function(){return z.store.getSelectedIds()},W.getSelected=function(){return{type:Ye,features:z.store.getSelectedIds().map(function(J){return z.store.get(J)}).map(function(J){return J.toGeoJSON()})}},W.getSelectedPoints=function(){return{type:Ye,features:z.store.getSelectedCoordinates().map(function(J){return{type:He,properties:{},geometry:{type:bt,coordinates:J.coordinates}}})}},W.set=function(J){if(J.type===void 0||J.type!==Ye||!Array.isArray(J.features))throw new Error("Invalid FeatureCollection");var ue=z.store.createRenderBatch(),pe=z.store.getAllIds().slice(),Se=W.add(J),Pe=new zt(Se);return(pe=pe.filter(function(qe){return!Pe.has(qe)})).length&&W.delete(pe),ue(),Se},W.add=function(J){var ue=JSON.parse(JSON.stringify(Jn(J))).features.map(function(pe){if(pe.id=pe.id||ve(),pe.geometry===null)throw new Error("Invalid geometry: null");if(z.store.get(pe.id)===void 0||z.store.get(pe.id).type!==pe.geometry.type){var Se=xe[pe.geometry.type];if(Se===void 0)throw new Error("Invalid geometry type: "+pe.geometry.type+".");var Pe=new Se(z,pe);z.store.add(Pe)}else{var qe=z.store.get(pe.id);qe.properties=pe.properties,le(qe.getCoordinates(),pe.geometry.coordinates)||qe.incomingCoords(pe.geometry.coordinates)}return pe.id});return z.store.render(),ue},W.get=function(J){var ue=z.store.get(J);if(ue)return ue.toGeoJSON()},W.getAll=function(){return{type:Ye,features:z.store.getAll().map(function(J){return J.toGeoJSON()})}},W.delete=function(J){return z.store.delete(J,{silent:!0}),W.getMode()!==tt.DIRECT_SELECT||z.store.getSelectedIds().length?z.store.render():z.events.changeMode(tt.SIMPLE_SELECT,void 0,{silent:!0}),W},W.deleteAll=function(){return z.store.delete(z.store.getAllIds(),{silent:!0}),W.getMode()===tt.DIRECT_SELECT?z.events.changeMode(tt.SIMPLE_SELECT,void 0,{silent:!0}):z.store.render(),W},W.changeMode=function(J,ue){return ue===void 0&&(ue={}),J===tt.SIMPLE_SELECT&&W.getMode()===tt.SIMPLE_SELECT?(pe=ue.featureIds||[],Se=z.store.getSelectedIds(),pe.length===Se.length&&JSON.stringify(pe.map(function(Pe){return Pe}).sort())===JSON.stringify(Se.map(function(Pe){return Pe}).sort())||(z.store.setSelected(ue.featureIds,{silent:!0}),z.store.render()),W):(J===tt.DIRECT_SELECT&&W.getMode()===tt.DIRECT_SELECT&&ue.featureId===z.store.getSelectedIds()[0]||z.events.changeMode(J,ue,{silent:!0}),W);var pe,Se},W.getMode=function(){return z.events.getMode()},W.trash=function(){return z.events.trash({silent:!0}),W},W.combineFeatures=function(){return z.events.combineFeatures({silent:!0}),W},W.uncombineFeatures=function(){return z.events.uncombineFeatures({silent:!0}),W},W.setFeatureProperty=function(J,ue,pe){return z.store.setFeatureProperty(J,ue,pe),W},W}var Oe=Ve(function(z,W){z.exports=function(){function J(vt,Wt,Rr,Ir,gn){(function bn(fn,Rn,An,ei,fi){for(;ei>An;){if(ei-An>600){var Gn=ei-An+1,Ni=Rn-An+1,$o=Math.log(Gn),aa=.5*Math.exp(2*$o/3),zo=.5*Math.sqrt($o*aa*(Gn-aa)/Gn)*(Ni-Gn/2<0?-1:1);bn(fn,Rn,Math.max(An,Math.floor(Rn-Ni*aa/Gn+zo)),Math.min(ei,Math.floor(Rn+(Gn-Ni)*aa/Gn+zo)),fi)}var to=fn[Rn],sa=An,Vi=ei;for(ue(fn,An,Rn),fi(fn[ei],to)>0&&ue(fn,An,ei);sa<Vi;){for(ue(fn,sa,Vi),sa++,Vi--;fi(fn[sa],to)<0;)sa++;for(;fi(fn[Vi],to)>0;)Vi--}fi(fn[An],to)===0?ue(fn,An,Vi):ue(fn,++Vi,ei),Vi<=Rn&&(An=Vi+1),Rn<=Vi&&(ei=Vi-1)}})(vt,Wt,Rr||0,Ir||vt.length-1,gn||pe)}function ue(vt,Wt,Rr){var Ir=vt[Wt];vt[Wt]=vt[Rr],vt[Rr]=Ir}function pe(vt,Wt){return vt<Wt?-1:vt>Wt?1:0}var Se=function(vt){vt===void 0&&(vt=9),this._maxEntries=Math.max(4,vt),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function Pe(vt,Wt,Rr){if(!Rr)return Wt.indexOf(vt);for(var Ir=0;Ir<Wt.length;Ir++)if(Rr(vt,Wt[Ir]))return Ir;return-1}function qe(vt,Wt){Ue(vt,0,vt.children.length,Wt,vt)}function Ue(vt,Wt,Rr,Ir,gn){gn||(gn=hn(null)),gn.minX=1/0,gn.minY=1/0,gn.maxX=-1/0,gn.maxY=-1/0;for(var bn=Wt;bn<Rr;bn++){var fn=vt.children[bn];dt(gn,vt.leaf?Ir(fn):fn)}return gn}function dt(vt,Wt){return vt.minX=Math.min(vt.minX,Wt.minX),vt.minY=Math.min(vt.minY,Wt.minY),vt.maxX=Math.max(vt.maxX,Wt.maxX),vt.maxY=Math.max(vt.maxY,Wt.maxY),vt}function et(vt,Wt){return vt.minX-Wt.minX}function At(vt,Wt){return vt.minY-Wt.minY}function Lt(vt){return(vt.maxX-vt.minX)*(vt.maxY-vt.minY)}function nr(vt){return vt.maxX-vt.minX+(vt.maxY-vt.minY)}function fr(vt,Wt){return vt.minX<=Wt.minX&&vt.minY<=Wt.minY&&Wt.maxX<=vt.maxX&&Wt.maxY<=vt.maxY}function dn(vt,Wt){return Wt.minX<=vt.maxX&&Wt.minY<=vt.maxY&&Wt.maxX>=vt.minX&&Wt.maxY>=vt.minY}function hn(vt){return{children:vt,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function nn(vt,Wt,Rr,Ir,gn){for(var bn=[Wt,Rr];bn.length;)if(!((Rr=bn.pop())-(Wt=bn.pop())<=Ir)){var fn=Wt+Math.ceil((Rr-Wt)/Ir/2)*Ir;J(vt,fn,Wt,Rr,gn),bn.push(Wt,fn,fn,Rr)}}return Se.prototype.all=function(){return this._all(this.data,[])},Se.prototype.search=function(vt){var Wt=this.data,Rr=[];if(!dn(vt,Wt))return Rr;for(var Ir=this.toBBox,gn=[];Wt;){for(var bn=0;bn<Wt.children.length;bn++){var fn=Wt.children[bn],Rn=Wt.leaf?Ir(fn):fn;dn(vt,Rn)&&(Wt.leaf?Rr.push(fn):fr(vt,Rn)?this._all(fn,Rr):gn.push(fn))}Wt=gn.pop()}return Rr},Se.prototype.collides=function(vt){var Wt=this.data;if(!dn(vt,Wt))return!1;for(var Rr=[];Wt;){for(var Ir=0;Ir<Wt.children.length;Ir++){var gn=Wt.children[Ir],bn=Wt.leaf?this.toBBox(gn):gn;if(dn(vt,bn)){if(Wt.leaf||fr(vt,bn))return!0;Rr.push(gn)}}Wt=Rr.pop()}return!1},Se.prototype.load=function(vt){if(!vt||!vt.length)return this;if(vt.length<this._minEntries){for(var Wt=0;Wt<vt.length;Wt++)this.insert(vt[Wt]);return this}var Rr=this._build(vt.slice(),0,vt.length-1,0);if(this.data.children.length)if(this.data.height===Rr.height)this._splitRoot(this.data,Rr);else{if(this.data.height<Rr.height){var Ir=this.data;this.data=Rr,Rr=Ir}this._insert(Rr,this.data.height-Rr.height-1,!0)}else this.data=Rr;return this},Se.prototype.insert=function(vt){return vt&&this._insert(vt,this.data.height-1),this},Se.prototype.clear=function(){return this.data=hn([]),this},Se.prototype.remove=function(vt,Wt){if(!vt)return this;for(var Rr,Ir,gn,bn=this.data,fn=this.toBBox(vt),Rn=[],An=[];bn||Rn.length;){if(bn||(bn=Rn.pop(),Ir=Rn[Rn.length-1],Rr=An.pop(),gn=!0),bn.leaf){var ei=Pe(vt,bn.children,Wt);if(ei!==-1)return bn.children.splice(ei,1),Rn.push(bn),this._condense(Rn),this}gn||bn.leaf||!fr(bn,fn)?Ir?(Rr++,bn=Ir.children[Rr],gn=!1):bn=null:(Rn.push(bn),An.push(Rr),Rr=0,Ir=bn,bn=bn.children[0])}return this},Se.prototype.toBBox=function(vt){return vt},Se.prototype.compareMinX=function(vt,Wt){return vt.minX-Wt.minX},Se.prototype.compareMinY=function(vt,Wt){return vt.minY-Wt.minY},Se.prototype.toJSON=function(){return this.data},Se.prototype.fromJSON=function(vt){return this.data=vt,this},Se.prototype._all=function(vt,Wt){for(var Rr=[];vt;)vt.leaf?Wt.push.apply(Wt,vt.children):Rr.push.apply(Rr,vt.children),vt=Rr.pop();return Wt},Se.prototype._build=function(vt,Wt,Rr,Ir){var gn,bn=Rr-Wt+1,fn=this._maxEntries;if(bn<=fn)return qe(gn=hn(vt.slice(Wt,Rr+1)),this.toBBox),gn;Ir||(Ir=Math.ceil(Math.log(bn)/Math.log(fn)),fn=Math.ceil(bn/Math.pow(fn,Ir-1))),(gn=hn([])).leaf=!1,gn.height=Ir;var Rn=Math.ceil(bn/fn),An=Rn*Math.ceil(Math.sqrt(fn));nn(vt,Wt,Rr,An,this.compareMinX);for(var ei=Wt;ei<=Rr;ei+=An){var fi=Math.min(ei+An-1,Rr);nn(vt,ei,fi,Rn,this.compareMinY);for(var Gn=ei;Gn<=fi;Gn+=Rn){var Ni=Math.min(Gn+Rn-1,fi);gn.children.push(this._build(vt,Gn,Ni,Ir-1))}}return qe(gn,this.toBBox),gn},Se.prototype._chooseSubtree=function(vt,Wt,Rr,Ir){for(;Ir.push(Wt),!Wt.leaf&&Ir.length-1!==Rr;){for(var gn=1/0,bn=1/0,fn=void 0,Rn=0;Rn<Wt.children.length;Rn++){var An=Wt.children[Rn],ei=Lt(An),fi=(Gn=vt,Ni=An,(Math.max(Ni.maxX,Gn.maxX)-Math.min(Ni.minX,Gn.minX))*(Math.max(Ni.maxY,Gn.maxY)-Math.min(Ni.minY,Gn.minY))-ei);fi<bn?(bn=fi,gn=ei<gn?ei:gn,fn=An):fi===bn&&ei<gn&&(gn=ei,fn=An)}Wt=fn||Wt.children[0]}var Gn,Ni;return Wt},Se.prototype._insert=function(vt,Wt,Rr){var Ir=Rr?vt:this.toBBox(vt),gn=[],bn=this._chooseSubtree(Ir,this.data,Wt,gn);for(bn.children.push(vt),dt(bn,Ir);Wt>=0&&gn[Wt].children.length>this._maxEntries;)this._split(gn,Wt),Wt--;this._adjustParentBBoxes(Ir,gn,Wt)},Se.prototype._split=function(vt,Wt){var Rr=vt[Wt],Ir=Rr.children.length,gn=this._minEntries;this._chooseSplitAxis(Rr,gn,Ir);var bn=this._chooseSplitIndex(Rr,gn,Ir),fn=hn(Rr.children.splice(bn,Rr.children.length-bn));fn.height=Rr.height,fn.leaf=Rr.leaf,qe(Rr,this.toBBox),qe(fn,this.toBBox),Wt?vt[Wt-1].children.push(fn):this._splitRoot(Rr,fn)},Se.prototype._splitRoot=function(vt,Wt){this.data=hn([vt,Wt]),this.data.height=vt.height+1,this.data.leaf=!1,qe(this.data,this.toBBox)},Se.prototype._chooseSplitIndex=function(vt,Wt,Rr){for(var Ir,gn,bn,fn,Rn,An,ei,fi=1/0,Gn=1/0,Ni=Wt;Ni<=Rr-Wt;Ni++){var $o=Ue(vt,0,Ni,this.toBBox),aa=Ue(vt,Ni,Rr,this.toBBox),zo=(gn=$o,bn=aa,fn=Math.max(gn.minX,bn.minX),Rn=Math.max(gn.minY,bn.minY),An=Math.min(gn.maxX,bn.maxX),ei=Math.min(gn.maxY,bn.maxY),Math.max(0,An-fn)*Math.max(0,ei-Rn)),to=Lt($o)+Lt(aa);zo<fi?(fi=zo,Ir=Ni,Gn=to<Gn?to:Gn):zo===fi&&to<Gn&&(Gn=to,Ir=Ni)}return Ir||Rr-Wt},Se.prototype._chooseSplitAxis=function(vt,Wt,Rr){var Ir=vt.leaf?this.compareMinX:et,gn=vt.leaf?this.compareMinY:At;this._allDistMargin(vt,Wt,Rr,Ir)<this._allDistMargin(vt,Wt,Rr,gn)&&vt.children.sort(Ir)},Se.prototype._allDistMargin=function(vt,Wt,Rr,Ir){vt.children.sort(Ir);for(var gn=this.toBBox,bn=Ue(vt,0,Wt,gn),fn=Ue(vt,Rr-Wt,Rr,gn),Rn=nr(bn)+nr(fn),An=Wt;An<Rr-Wt;An++){var ei=vt.children[An];dt(bn,vt.leaf?gn(ei):ei),Rn+=nr(bn)}for(var fi=Rr-Wt-1;fi>=Wt;fi--){var Gn=vt.children[fi];dt(fn,vt.leaf?gn(Gn):Gn),Rn+=nr(fn)}return Rn},Se.prototype._adjustParentBBoxes=function(vt,Wt,Rr){for(var Ir=Rr;Ir>=0;Ir--)dt(Wt[Ir],vt)},Se.prototype._condense=function(vt){for(var Wt=vt.length-1,Rr=void 0;Wt>=0;Wt--)vt[Wt].children.length===0?Wt>0?(Rr=vt[Wt-1].children).splice(Rr.indexOf(vt[Wt]),1):this.clear():qe(vt[Wt],this.toBBox)},Se}()}),Be={centimeters:637100880,centimetres:637100880,degrees:63710088e-1/111325,feet:20902260511392e-6,inches:63710088e-1*39.37,kilometers:6371.0088,kilometres:6371.0088,meters:63710088e-1,metres:63710088e-1,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:63710088e-1/1852,radians:1,yards:63710088e-1*1.0936},nt={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/63710088e-1,yards:1.0936133},mt={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function pt(z,W,J){J===void 0&&(J={});var ue={type:"Feature"};return(J.id===0||J.id)&&(ue.id=J.id),J.bbox&&(ue.bbox=J.bbox),ue.properties=W||{},ue.geometry=z,ue}function qt(z,W,J){if(J===void 0&&(J={}),!z)throw new Error("coordinates is required");if(!Array.isArray(z))throw new Error("coordinates must be an Array");if(z.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Dn(z[0])||!Dn(z[1]))throw new Error("coordinates must contain numbers");return pt({type:"Point",coordinates:z},W,J)}function Xt(z,W,J){J===void 0&&(J={});for(var ue=0,pe=z;ue<pe.length;ue++){var Se=pe[ue];if(Se.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Pe=0;Pe<Se[Se.length-1].length;Pe++)if(Se[Se.length-1][Pe]!==Se[0][Pe])throw new Error("First and last Position are not equivalent.")}return pt({type:"Polygon",coordinates:z},W,J)}function dr(z,W,J){if(J===void 0&&(J={}),z.length<2)throw new Error("coordinates must be an array of two or more positions");return pt({type:"LineString",coordinates:z},W,J)}function $r(z,W){W===void 0&&(W={});var J={type:"FeatureCollection"};return W.id&&(J.id=W.id),W.bbox&&(J.bbox=W.bbox),J.features=z,J}function lr(z,W,J){return J===void 0&&(J={}),pt({type:"MultiLineString",coordinates:z},W,J)}function en(z,W,J){return J===void 0&&(J={}),pt({type:"MultiPoint",coordinates:z},W,J)}function Kr(z,W,J){return J===void 0&&(J={}),pt({type:"MultiPolygon",coordinates:z},W,J)}function Wr(z,W){W===void 0&&(W="kilometers");var J=Be[W];if(!J)throw new Error(W+" units is invalid");return z*J}function Xr(z,W){W===void 0&&(W="kilometers");var J=Be[W];if(!J)throw new Error(W+" units is invalid");return z/J}function pn(z){return 180*(z%(2*Math.PI))/Math.PI}function Dn(z){return!isNaN(z)&&z!==null&&!Array.isArray(z)}var Zn=Object.freeze({__proto__:null,earthRadius:63710088e-1,factors:Be,unitsFactors:nt,areaFactors:mt,feature:pt,geometry:function(z,W,J){switch(z){case"Point":return qt(W).geometry;case"LineString":return dr(W).geometry;case"Polygon":return Xt(W).geometry;case"MultiPoint":return en(W).geometry;case"MultiLineString":return lr(W).geometry;case"MultiPolygon":return Kr(W).geometry;default:throw new Error(z+" is invalid")}},point:qt,points:function(z,W,J){return J===void 0&&(J={}),$r(z.map(function(ue){return qt(ue,W)}),J)},polygon:Xt,polygons:function(z,W,J){return J===void 0&&(J={}),$r(z.map(function(ue){return Xt(ue,W)}),J)},lineString:dr,lineStrings:function(z,W,J){return J===void 0&&(J={}),$r(z.map(function(ue){return dr(ue,W)}),J)},featureCollection:$r,multiLineString:lr,multiPoint:en,multiPolygon:Kr,geometryCollection:function(z,W,J){return J===void 0&&(J={}),pt({type:"GeometryCollection",geometries:z},W,J)},round:function(z,W){if(W===void 0&&(W=0),W&&!(W>=0))throw new Error("precision must be a positive number");var J=Math.pow(10,W||0);return Math.round(z*J)/J},radiansToLength:Wr,lengthToRadians:Xr,lengthToDegrees:function(z,W){return pn(Xr(z,W))},bearingToAzimuth:function(z){var W=z%360;return W<0&&(W+=360),W},radiansToDegrees:pn,degreesToRadians:function(z){return z%360*Math.PI/180},convertLength:function(z,W,J){if(W===void 0&&(W="kilometers"),J===void 0&&(J="kilometers"),!(z>=0))throw new Error("length must be a positive number");return Wr(Xr(z,W),J)},convertArea:function(z,W,J){if(W===void 0&&(W="meters"),J===void 0&&(J="kilometers"),!(z>=0))throw new Error("area must be a positive number");var ue=mt[W];if(!ue)throw new Error("invalid original units");var pe=mt[J];if(!pe)throw new Error("invalid final units");return z/ue*pe},isNumber:Dn,isObject:function(z){return!!z&&z.constructor===Object},validateBBox:function(z){if(!z)throw new Error("bbox is required");if(!Array.isArray(z))throw new Error("bbox must be an Array");if(z.length!==4&&z.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");z.forEach(function(W){if(!Dn(W))throw new Error("bbox must only contain numbers")})},validateId:function(z){if(!z)throw new Error("id is required");if(["string","number"].indexOf(typeof z)===-1)throw new Error("id must be a number or a string")}});function Cn(z,W,J){J===void 0&&(J={});var ue={type:"Feature"};return(J.id===0||J.id)&&(ue.id=J.id),J.bbox&&(ue.bbox=J.bbox),ue.properties=W||{},ue.geometry=z,ue}function ui(z,W,J){if(J===void 0&&(J={}),!z)throw new Error("coordinates is required");if(!Array.isArray(z))throw new Error("coordinates must be an Array");if(z.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!oi(z[0])||!oi(z[1]))throw new Error("coordinates must contain numbers");return Cn({type:"Point",coordinates:z},W,J)}function yi(z,W,J){if(J===void 0&&(J={}),z.length<2)throw new Error("coordinates must be an array of two or more positions");return Cn({type:"LineString",coordinates:z},W,J)}function oi(z){return!isNaN(z)&&z!==null&&!Array.isArray(z)}function Kn(z){return!!z&&z.constructor===Object}function Un(z,W,J){if(z!==null)for(var ue,pe,Se,Pe,qe,Ue,dt,et,At=0,Lt=0,nr=z.type,fr=nr==="FeatureCollection",dn=nr==="Feature",hn=fr?z.features.length:1,nn=0;nn<hn;nn++){qe=(et=!!(dt=fr?z.features[nn].geometry:dn?z.geometry:z)&&dt.type==="GeometryCollection")?dt.geometries.length:1;for(var vt=0;vt<qe;vt++){var Wt=0,Rr=0;if((Pe=et?dt.geometries[vt]:dt)!==null){Ue=Pe.coordinates;var Ir=Pe.type;switch(At=!J||Ir!=="Polygon"&&Ir!=="MultiPolygon"?0:1,Ir){case null:break;case"Point":if(W(Ue,Lt,nn,Wt,Rr)===!1)return!1;Lt++,Wt++;break;case"LineString":case"MultiPoint":for(ue=0;ue<Ue.length;ue++){if(W(Ue[ue],Lt,nn,Wt,Rr)===!1)return!1;Lt++,Ir==="MultiPoint"&&Wt++}Ir==="LineString"&&Wt++;break;case"Polygon":case"MultiLineString":for(ue=0;ue<Ue.length;ue++){for(pe=0;pe<Ue[ue].length-At;pe++){if(W(Ue[ue][pe],Lt,nn,Wt,Rr)===!1)return!1;Lt++}Ir==="MultiLineString"&&Wt++,Ir==="Polygon"&&Rr++}Ir==="Polygon"&&Wt++;break;case"MultiPolygon":for(ue=0;ue<Ue.length;ue++){for(Rr=0,pe=0;pe<Ue[ue].length;pe++){for(Se=0;Se<Ue[ue][pe].length-At;Se++){if(W(Ue[ue][pe][Se],Lt,nn,Wt,Rr)===!1)return!1;Lt++}Rr++}Wt++}break;case"GeometryCollection":for(ue=0;ue<Pe.geometries.length;ue++)if(Un(Pe.geometries[ue],W,J)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Bn(z,W){var J;switch(z.type){case"FeatureCollection":for(J=0;J<z.features.length&&W(z.features[J].properties,J)!==!1;J++);break;case"Feature":W(z.properties,0)}}function Ai(z,W){if(z.type==="Feature")W(z,0);else if(z.type==="FeatureCollection")for(var J=0;J<z.features.length&&W(z.features[J],J)!==!1;J++);}function da(z,W,J){var ue=J;return Ai(z,function(pe,Se){ue=Se===0&&J===void 0?pe:W(ue,pe,Se)}),ue}function Vo(z,W){var J,ue,pe,Se,Pe,qe,Ue,dt,et,At,Lt=0,nr=z.type==="FeatureCollection",fr=z.type==="Feature",dn=nr?z.features.length:1;for(J=0;J<dn;J++){for(qe=nr?z.features[J].geometry:fr?z.geometry:z,dt=nr?z.features[J].properties:fr?z.properties:{},et=nr?z.features[J].bbox:fr?z.bbox:void 0,At=nr?z.features[J].id:fr?z.id:void 0,Pe=(Ue=!!qe&&qe.type==="GeometryCollection")?qe.geometries.length:1,pe=0;pe<Pe;pe++)if((Se=Ue?qe.geometries[pe]:qe)!==null)switch(Se.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(W(Se,Lt,dt,et,At)===!1)return!1;break;case"GeometryCollection":for(ue=0;ue<Se.geometries.length;ue++)if(W(Se.geometries[ue],Lt,dt,et,At)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(W(null,Lt,dt,et,At)===!1)return!1;Lt++}}function _o(z,W){Vo(z,function(J,ue,pe,Se,Pe){var qe,Ue=J===null?null:J.type;switch(Ue){case null:case"Point":case"LineString":case"Polygon":return W(Cn(J,pe,{bbox:Se,id:Pe}),ue,0)!==!1&&void 0}switch(Ue){case"MultiPoint":qe="Point";break;case"MultiLineString":qe="LineString";break;case"MultiPolygon":qe="Polygon"}for(var dt=0;dt<J.coordinates.length;dt++){var et=J.coordinates[dt];if(W(Cn({type:qe,coordinates:et},pe),ue,dt)===!1)return!1}})}function Ko(z,W){_o(z,function(J,ue,pe){var Se=0;if(J.geometry){var Pe=J.geometry.type;if(Pe!=="Point"&&Pe!=="MultiPoint"){var qe,Ue=0,dt=0,et=0;return Un(J,function(At,Lt,nr,fr,dn){if(qe===void 0||ue>Ue||fr>dt||dn>et)return qe=At,Ue=ue,dt=fr,et=dn,void(Se=0);var hn=yi([qe,At],J.properties);if(W(hn,ue,pe,dn,Se)===!1)return!1;Se++,qe=At})!==!1&&void 0}}})}function io(z,W){if(!z)throw new Error("geojson is required");_o(z,function(J,ue,pe){if(J.geometry!==null){var Se=J.geometry.type,Pe=J.geometry.coordinates;switch(Se){case"LineString":if(W(J,ue,pe,0,0)===!1)return!1;break;case"Polygon":for(var qe=0;qe<Pe.length;qe++)if(W(yi(Pe[qe],J.properties),ue,pe,qe)===!1)return!1}}})}var Jo=Object.freeze({__proto__:null,coordAll:function(z){var W=[];return Un(z,function(J){W.push(J)}),W},coordEach:Un,coordReduce:function(z,W,J,ue){var pe=J;return Un(z,function(Se,Pe,qe,Ue,dt){pe=Pe===0&&J===void 0?Se:W(pe,Se,Pe,qe,Ue,dt)},ue),pe},featureEach:Ai,featureReduce:da,findPoint:function(z,W){if(!Kn(W=W||{}))throw new Error("options is invalid");var J,ue=W.featureIndex||0,pe=W.multiFeatureIndex||0,Se=W.geometryIndex||0,Pe=W.coordIndex||0,qe=W.properties;switch(z.type){case"FeatureCollection":ue<0&&(ue=z.features.length+ue),qe=qe||z.features[ue].properties,J=z.features[ue].geometry;break;case"Feature":qe=qe||z.properties,J=z.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":J=z;break;default:throw new Error("geojson is invalid")}if(J===null)return null;var Ue=J.coordinates;switch(J.type){case"Point":return ui(Ue,qe,W);case"MultiPoint":return pe<0&&(pe=Ue.length+pe),ui(Ue[pe],qe,W);case"LineString":return Pe<0&&(Pe=Ue.length+Pe),ui(Ue[Pe],qe,W);case"Polygon":return Se<0&&(Se=Ue.length+Se),Pe<0&&(Pe=Ue[Se].length+Pe),ui(Ue[Se][Pe],qe,W);case"MultiLineString":return pe<0&&(pe=Ue.length+pe),Pe<0&&(Pe=Ue[pe].length+Pe),ui(Ue[pe][Pe],qe,W);case"MultiPolygon":return pe<0&&(pe=Ue.length+pe),Se<0&&(Se=Ue[pe].length+Se),Pe<0&&(Pe=Ue[pe][Se].length-Pe),ui(Ue[pe][Se][Pe],qe,W)}throw new Error("geojson is invalid")},findSegment:function(z,W){if(!Kn(W=W||{}))throw new Error("options is invalid");var J,ue=W.featureIndex||0,pe=W.multiFeatureIndex||0,Se=W.geometryIndex||0,Pe=W.segmentIndex||0,qe=W.properties;switch(z.type){case"FeatureCollection":ue<0&&(ue=z.features.length+ue),qe=qe||z.features[ue].properties,J=z.features[ue].geometry;break;case"Feature":qe=qe||z.properties,J=z.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":J=z;break;default:throw new Error("geojson is invalid")}if(J===null)return null;var Ue=J.coordinates;switch(J.type){case"Point":case"MultiPoint":return null;case"LineString":return Pe<0&&(Pe=Ue.length+Pe-1),yi([Ue[Pe],Ue[Pe+1]],qe,W);case"Polygon":return Se<0&&(Se=Ue.length+Se),Pe<0&&(Pe=Ue[Se].length+Pe-1),yi([Ue[Se][Pe],Ue[Se][Pe+1]],qe,W);case"MultiLineString":return pe<0&&(pe=Ue.length+pe),Pe<0&&(Pe=Ue[pe].length+Pe-1),yi([Ue[pe][Pe],Ue[pe][Pe+1]],qe,W);case"MultiPolygon":return pe<0&&(pe=Ue.length+pe),Se<0&&(Se=Ue[pe].length+Se),Pe<0&&(Pe=Ue[pe][Se].length-Pe-1),yi([Ue[pe][Se][Pe],Ue[pe][Se][Pe+1]],qe,W)}throw new Error("geojson is invalid")},flattenEach:_o,flattenReduce:function(z,W,J){var ue=J;return _o(z,function(pe,Se,Pe){ue=Se===0&&Pe===0&&J===void 0?pe:W(ue,pe,Se,Pe)}),ue},geomEach:Vo,geomReduce:function(z,W,J){var ue=J;return Vo(z,function(pe,Se,Pe,qe,Ue){ue=Se===0&&J===void 0?pe:W(ue,pe,Se,Pe,qe,Ue)}),ue},lineEach:io,lineReduce:function(z,W,J){var ue=J;return io(z,function(pe,Se,Pe,qe){ue=Se===0&&J===void 0?pe:W(ue,pe,Se,Pe,qe)}),ue},propEach:Bn,propReduce:function(z,W,J){var ue=J;return Bn(z,function(pe,Se){ue=Se===0&&J===void 0?pe:W(ue,pe,Se)}),ue},segmentEach:Ko,segmentReduce:function(z,W,J){var ue=J,pe=!1;return Ko(z,function(Se,Pe,qe,Ue,dt){ue=pe===!1&&J===void 0?Se:W(ue,Se,Pe,qe,Ue,dt),pe=!0}),ue}});function Ji(z){var W=[1/0,1/0,-1/0,-1/0];return Un(z,function(J){W[0]>J[0]&&(W[0]=J[0]),W[1]>J[1]&&(W[1]=J[1]),W[2]<J[0]&&(W[2]=J[0]),W[3]<J[1]&&(W[3]=J[1])}),W}Ji.default=Ji;var Qo=Ji.default,Ao=Jo.featureEach,ea=(Jo.coordEach,Zn.polygon,Zn.featureCollection);function Uo(z){var W=new Oe(z);return W.insert=function(J){if(J.type!=="Feature")throw new Error("invalid feature");return J.bbox=J.bbox?J.bbox:Qo(J),Oe.prototype.insert.call(this,J)},W.load=function(J){var ue=[];return Array.isArray(J)?J.forEach(function(pe){if(pe.type!=="Feature")throw new Error("invalid features");pe.bbox=pe.bbox?pe.bbox:Qo(pe),ue.push(pe)}):Ao(J,function(pe){if(pe.type!=="Feature")throw new Error("invalid features");pe.bbox=pe.bbox?pe.bbox:Qo(pe),ue.push(pe)}),Oe.prototype.load.call(this,ue)},W.remove=function(J,ue){if(J.type!=="Feature")throw new Error("invalid feature");return J.bbox=J.bbox?J.bbox:Qo(J),Oe.prototype.remove.call(this,J,ue)},W.clear=function(){return Oe.prototype.clear.call(this)},W.search=function(J){var ue=Oe.prototype.search.call(this,this.toBBox(J));return ea(ue)},W.collides=function(J){return Oe.prototype.collides.call(this,this.toBBox(J))},W.all=function(){var J=Oe.prototype.all.call(this);return ea(J)},W.toJSON=function(){return Oe.prototype.toJSON.call(this)},W.fromJSON=function(J){return Oe.prototype.fromJSON.call(this,J)},W.toBBox=function(J){var ue;if(J.bbox)ue=J.bbox;else if(Array.isArray(J)&&J.length===4)ue=J;else if(Array.isArray(J)&&J.length===6)ue=[J[0],J[1],J[3],J[4]];else if(J.type==="Feature")ue=Qo(J);else{if(J.type!=="FeatureCollection")throw new Error("invalid geojson");ue=Qo(J)}return{minX:ue[0],minY:ue[1],maxX:ue[2],maxY:ue[3]}},W}var Qi=Uo,Go=Uo;function ri(z){if(!z)throw new Error("coord is required");if(!Array.isArray(z)){if(z.type==="Feature"&&z.geometry!==null&&z.geometry.type==="Point")return z.geometry.coordinates;if(z.type==="Point")return z.coordinates}if(Array.isArray(z)&&z.length>=2&&!Array.isArray(z[0])&&!Array.isArray(z[1]))return z;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Li(z){if(Array.isArray(z))return z;if(z.type==="Feature"){if(z.geometry!==null)return z.geometry.coordinates}else if(z.coordinates)return z.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Hi(z){return z.type==="Feature"?z.geometry:z}function zi(z,W){return z.type==="FeatureCollection"?"FeatureCollection":z.type==="GeometryCollection"?"GeometryCollection":z.type==="Feature"&&z.geometry!==null?z.geometry.type:z.type}Qi.default=Go;var Ea={centimeters:637100880,centimetres:637100880,degrees:63710088e-1/111325,feet:20902260511392e-6,inches:63710088e-1*39.37,kilometers:6371.0088,kilometres:6371.0088,meters:63710088e-1,metres:63710088e-1,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:63710088e-1/1852,radians:1,yards:63710088e-1*1.0936};function ha(z){return z%360*Math.PI/180}function Po(z,W,J){J===void 0&&(J={});var ue=ri(z),pe=ri(W),Se=ha(pe[1]-ue[1]),Pe=ha(pe[0]-ue[0]),qe=ha(ue[1]),Ue=ha(pe[1]),dt=Math.pow(Math.sin(Se/2),2)+Math.pow(Math.sin(Pe/2),2)*Math.cos(qe)*Math.cos(Ue);return function(et,At){At===void 0&&(At="kilometers");var Lt=Ea[At];if(!Lt)throw new Error(At+" units is invalid");return et*Lt}(2*Math.atan2(Math.sqrt(dt),Math.sqrt(1-dt)),J.units)}function ps(z,W){W===void 0&&(W={});var J=W.precision,ue=W.coordinates,pe=W.mutate;if(J=J==null||isNaN(J)?6:J,ue=ue==null||isNaN(ue)?3:ue,!z)throw new Error("<geojson> is required");if(typeof J!="number")throw new Error("<precision> must be a number");if(typeof ue!="number")throw new Error("<coordinates> must be a number");pe!==!1&&pe!==void 0||(z=JSON.parse(JSON.stringify(z)));var Se=Math.pow(10,J);return Un(z,function(Pe){(function(qe,Ue,dt){qe.length>dt&&qe.splice(dt,qe.length);for(var et=0;et<qe.length;et++)qe[et]=Math.round(qe[et]*Ue)/Ue})(Pe,Se,ue)}),z}function za(z){if(!z)throw new Error("geojson is required");var W=[];return _o(z,function(J){(function(ue,pe){var Se=[],Pe=ue.geometry;if(Pe!==null){switch(Pe.type){case"Polygon":Se=Li(Pe);break;case"LineString":Se=[Li(Pe)]}Se.forEach(function(qe){(function(Ue,dt){var et=[];return Ue.reduce(function(At,Lt){var nr,fr,dn,hn,nn,vt,Wt=function(Rr,Ir,gn){if(gn===void 0&&(gn={}),Rr.length<2)throw new Error("coordinates must be an array of two or more positions");return function(bn,fn,Rn){Rn===void 0&&(Rn={});var An={type:"Feature"};return(Rn.id===0||Rn.id)&&(An.id=Rn.id),Rn.bbox&&(An.bbox=Rn.bbox),An.properties=fn||{},An.geometry=bn,An}({type:"LineString",coordinates:Rr},Ir,gn)}([At,Lt],dt);return Wt.bbox=(fr=Lt,dn=(nr=At)[0],hn=nr[1],nn=fr[0],vt=fr[1],[dn<nn?dn:nn,hn<vt?hn:vt,dn>nn?dn:nn,hn>vt?hn:vt]),et.push(Wt),Lt}),et})(qe,ue.properties).forEach(function(Ue){Ue.id=pe.length,pe.push(Ue)})})}})(J,W)}),function(J,ue){ue===void 0&&(ue={});var pe={type:"FeatureCollection"};return ue.id&&(pe.id=ue.id),ue.bbox&&(pe.bbox=ue.bbox),pe.features=J,pe}(W)}function po(z,W,J){J===void 0&&(J={});var ue={type:"Feature"};return(J.id===0||J.id)&&(ue.id=J.id),J.bbox&&(ue.bbox=J.bbox),ue.properties=W||{},ue.geometry=z,ue}function eo(z,W){W===void 0&&(W={});var J={type:"FeatureCollection"};return W.id&&(J.id=W.id),W.bbox&&(J.bbox=W.bbox),J.features=z,J}function Zi(z){return!isNaN(z)&&z!==null&&!Array.isArray(z)}function xo(z,W){var J={},ue=[];if(z.type==="LineString"&&(z=po(z)),W.type==="LineString"&&(W=po(W)),z.type==="Feature"&&W.type==="Feature"&&z.geometry!==null&&W.geometry!==null&&z.geometry.type==="LineString"&&W.geometry.type==="LineString"&&z.geometry.coordinates.length===2&&W.geometry.coordinates.length===2){var pe=pa(z,W);return pe&&ue.push(pe),eo(ue)}var Se=Qi();return Se.load(za(W)),Ai(za(z),function(Pe){Ai(Se.search(Pe),function(qe){var Ue=pa(Pe,qe);if(Ue){var dt=Li(Ue).join(",");J[dt]||(J[dt]=!0,ue.push(Ue))}})}),eo(ue)}function pa(z,W){var J=Li(z),ue=Li(W);if(J.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(ue.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var pe=J[0][0],Se=J[0][1],Pe=J[1][0],qe=J[1][1],Ue=ue[0][0],dt=ue[0][1],et=ue[1][0],At=ue[1][1],Lt=(At-dt)*(Pe-pe)-(et-Ue)*(qe-Se),nr=(et-Ue)*(Se-dt)-(At-dt)*(pe-Ue),fr=(Pe-pe)*(Se-dt)-(qe-Se)*(pe-Ue);if(Lt===0)return null;var dn=nr/Lt,hn=fr/Lt;return dn>=0&&dn<=1&&hn>=0&&hn<=1?function(nn,vt,Wt){if(Wt===void 0&&(Wt={}),!nn)throw new Error("coordinates is required");if(!Array.isArray(nn))throw new Error("coordinates must be an Array");if(nn.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Zi(nn[0])||!Zi(nn[1]))throw new Error("coordinates must contain numbers");return po({type:"Point",coordinates:nn},vt,Wt)}([pe+dn*(Pe-pe),Se+dn*(qe-Se)]):null}function fa(z){return z%360*Math.PI/180}function Lo(z,W,J){if(J===void 0&&(J={}),J.final===!0)return function(At,Lt){var nr=Lo(Lt,At);return nr=(nr+180)%360}(z,W);var ue=ri(z),pe=ri(W),Se=fa(ue[0]),Pe=fa(pe[0]),qe=fa(ue[1]),Ue=fa(pe[1]),dt=Math.sin(Pe-Se)*Math.cos(Ue),et=Math.cos(qe)*Math.sin(Ue)-Math.sin(qe)*Math.cos(Ue)*Math.cos(Pe-Se);return Math.atan2(dt,et)%(2*Math.PI)*180/Math.PI}var ks={centimeters:637100880,centimetres:637100880,degrees:63710088e-1/111325,feet:20902260511392e-6,inches:63710088e-1*39.37,kilometers:6371.0088,kilometres:6371.0088,meters:63710088e-1,metres:63710088e-1,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:63710088e-1/1852,radians:1,yards:63710088e-1*1.0936};function ts(z){return 180*(z%(2*Math.PI))/Math.PI}function Fa(z){return z%360*Math.PI/180}function ta(z){return!isNaN(z)&&z!==null&&!Array.isArray(z)}function ma(z,W,J,ue){ue===void 0&&(ue={});var pe=ri(z),Se=Fa(pe[0]),Pe=Fa(pe[1]),qe=Fa(J),Ue=function(et,At){At===void 0&&(At="kilometers");var Lt=ks[At];if(!Lt)throw new Error(At+" units is invalid");return et/Lt}(W,ue.units),dt=Math.asin(Math.sin(Pe)*Math.cos(Ue)+Math.cos(Pe)*Math.sin(Ue)*Math.cos(qe));return function(et,At,Lt){if(Lt===void 0&&(Lt={}),!et)throw new Error("coordinates is required");if(!Array.isArray(et))throw new Error("coordinates must be an Array");if(et.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ta(et[0])||!ta(et[1]))throw new Error("coordinates must contain numbers");return function(nr,fr,dn){dn===void 0&&(dn={});var hn={type:"Feature"};return(dn.id===0||dn.id)&&(hn.id=dn.id),dn.bbox&&(hn.bbox=dn.bbox),hn.properties=fr||{},hn.geometry=nr,hn}({type:"Point",coordinates:et},At,Lt)}([ts(Se+Math.atan2(Math.sin(qe)*Math.sin(Ue)*Math.cos(Pe),Math.cos(Ue)-Math.sin(Pe)*Math.sin(dt))),ts(dt)],ue.properties)}function Ta(z,W,J){J===void 0&&(J={});var ue={type:"Feature"};return(J.id===0||J.id)&&(ue.id=J.id),J.bbox&&(ue.bbox=J.bbox),ue.properties=W||{},ue.geometry=z,ue}function qa(z,W,J){if(J===void 0&&(J={}),!z)throw new Error("coordinates is required");if(!Array.isArray(z))throw new Error("coordinates must be an Array");if(z.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ka(z[0])||!ka(z[1]))throw new Error("coordinates must contain numbers");return Ta({type:"Point",coordinates:z},W,J)}function fs(z,W,J){if(J===void 0&&(J={}),z.length<2)throw new Error("coordinates must be an array of two or more positions");return Ta({type:"LineString",coordinates:z},W,J)}function ka(z){return!isNaN(z)&&z!==null&&!Array.isArray(z)}function ga(z,W,J){J===void 0&&(J={});var ue=qa([1/0,1/0],{dist:1/0}),pe=0;return _o(z,function(Se){for(var Pe=Li(Se),qe=0;qe<Pe.length-1;qe++){var Ue=qa(Pe[qe]);Ue.properties.dist=Po(W,Ue,J);var dt=qa(Pe[qe+1]);dt.properties.dist=Po(W,dt,J);var et=Po(Ue,dt,J),At=Math.max(Ue.properties.dist,dt.properties.dist),Lt=Lo(Ue,dt),nr=ma(W,At,Lt+90,J),fr=ma(W,At,Lt-90,J),dn=xo(fs([nr.geometry.coordinates,fr.geometry.coordinates]),fs([Ue.geometry.coordinates,dt.geometry.coordinates])),hn=null;dn.features.length>0&&((hn=dn.features[0]).properties.dist=Po(W,hn,J),hn.properties.location=pe+Po(Ue,hn,J)),Ue.properties.dist<ue.properties.dist&&((ue=Ue).properties.index=qe,ue.properties.location=pe),dt.properties.dist<ue.properties.dist&&((ue=dt).properties.index=qe+1,ue.properties.location=pe+et),hn&&hn.properties.dist<ue.properties.dist&&((ue=hn).properties.index=qe),pe+=et}}),ue}function Wa(z,W,J){if(J===void 0&&(J={}),z.length<2)throw new Error("coordinates must be an array of two or more positions");return function(ue,pe,Se){Se===void 0&&(Se={});var Pe={type:"Feature"};return(Se.id===0||Se.id)&&(Pe.id=Se.id),Se.bbox&&(Pe.bbox=Se.bbox),Pe.properties=pe||{},Pe.geometry=ue,Pe}({type:"LineString",coordinates:z},W,J)}function Ho(z,W){W===void 0&&(W={});var J={type:"FeatureCollection"};return W.id&&(J.id=W.id),W.bbox&&(J.bbox=W.bbox),J.features=z,J}function rs(z,W){var J=[],ue=Qi();return _o(W,function(pe){if(J.forEach(function(qe,Ue){qe.id=Ue}),J.length){var Se=ue.search(pe);if(Se.features.length){var Pe=Is(pe,Se);J=J.filter(function(qe){return qe.id!==Pe.id}),ue.remove(Pe),Ai(Gs(Pe,pe),function(qe){J.push(qe),ue.insert(qe)})}}else(J=Gs(z,pe).features).forEach(function(qe){qe.bbox||(qe.bbox=function(Ue){var dt=Ue[0],et=Ue[1],At=Ue[2],Lt=Ue[3];if(Po(Ue.slice(0,2),[At,et])>=Po(Ue.slice(0,2),[dt,Lt])){var nr=(et+Lt)/2;return[dt,nr-(At-dt)/2,At,nr+(At-dt)/2]}var fr=(dt+At)/2;return[fr-(Lt-et)/2,et,fr+(Lt-et)/2,Lt]}(Ji(qe)))}),ue.load(Ho(J))}),Ho(J)}function Gs(z,W){var J=[],ue=Li(z)[0],pe=Li(z)[z.geometry.coordinates.length-1];if(di(ue,ri(W))||di(pe,ri(W)))return Ho([z]);var Se=Qi(),Pe=za(z);Se.load(Pe);var qe=Se.search(W);if(!qe.features.length)return Ho([z]);var Ue=Is(W,qe),dt=da(Pe,function(et,At,Lt){var nr=Li(At)[1],fr=ri(W);return Lt===Ue.id?(et.push(fr),J.push(Wa(et)),di(fr,nr)?[fr]:[fr,nr]):(et.push(nr),et)},[ue]);return dt.length>1&&J.push(Wa(dt)),Ho(J)}function Is(z,W){if(!W.features.length)throw new Error("lines must contain features");if(W.features.length===1)return W.features[0];var J,ue=1/0;return Ai(W,function(pe){var Se=ga(pe,z).properties.dist;Se<ue&&(J=pe,ue=Se)}),J}function di(z,W){return z[0]===W[0]&&z[1]===W[1]}function Za(z,W,J){var ue,pe,Se,Pe,qe,Ue,dt,et,At,Lt,nr=0,fr=0,dn=z.type==="FeatureCollection",hn=z.type==="Feature",nn=dn?z.features.length:1;for(ue=0;ue<nn;ue++)for(dt=(Lt=(At=dn?z.features[ue].geometry:hn?z.geometry:z).type==="GeometryCollection")?At.geometries.length:1,Pe=0;Pe<dt;Pe++)if(et=(Ue=Lt?At.geometries[Pe]:At).coordinates,nr=!J||Ue.type!=="Polygon"&&Ue.type!=="MultiPolygon"?0:1,Ue.type==="Point")W(et,fr),fr++;else if(Ue.type==="LineString"||Ue.type==="MultiPoint")for(pe=0;pe<et.length;pe++)W(et[pe],fr),fr++;else if(Ue.type==="Polygon"||Ue.type==="MultiLineString")for(pe=0;pe<et.length;pe++)for(Se=0;Se<et[pe].length-nr;Se++)W(et[pe][Se],fr),fr++;else if(Ue.type==="MultiPolygon")for(pe=0;pe<et.length;pe++)for(Se=0;Se<et[pe].length;Se++)for(qe=0;qe<et[pe][Se].length-nr;qe++)W(et[pe][Se][qe],fr),fr++;else{if(Ue.type!=="GeometryCollection")throw new Error("Unknown Geometry Type");for(pe=0;pe<Ue.geometries.length;pe++)Za(Ue.geometries[pe],W,J)}}function Hs(z,W){var J;switch(z.type){case"FeatureCollection":for(J=0;J<z.features.length;J++)W(z.features[J].properties,J);break;case"Feature":W(z.properties,0)}}function gs(z,W){if(z.type==="Feature")W(z,0);else if(z.type==="FeatureCollection")for(var J=0;J<z.features.length;J++)W(z.features[J],J)}function wl(z,W){var J,ue,pe,Se,Pe,qe,Ue,dt=0,et=z.type==="FeatureCollection",At=z.type==="Feature",Lt=et?z.features.length:1;for(J=0;J<Lt;J++)for(Pe=(Ue=(qe=et?z.features[J].geometry:At?z.geometry:z).type==="GeometryCollection")?qe.geometries.length:1,pe=0;pe<Pe;pe++)if((Se=Ue?qe.geometries[pe]:qe).type==="Point"||Se.type==="LineString"||Se.type==="MultiPoint"||Se.type==="Polygon"||Se.type==="MultiLineString"||Se.type==="MultiPolygon")W(Se,dt),dt++;else{if(Se.type!=="GeometryCollection")throw new Error("Unknown Geometry Type");for(ue=0;ue<Se.geometries.length;ue++)W(Se.geometries[ue],dt),dt++}}var Ul={coordEach:Za,coordReduce:function(z,W,J,ue){var pe=J;return Za(z,function(Se,Pe){pe=Pe===0&&J===void 0?Se:W(pe,Se,Pe)},ue),pe},propEach:Hs,propReduce:function(z,W,J){var ue=J;return Hs(z,function(pe,Se){ue=Se===0&&J===void 0?pe:W(ue,pe,Se)}),ue},featureEach:gs,featureReduce:function(z,W,J){var ue=J;return gs(z,function(pe,Se){ue=Se===0&&J===void 0?pe:W(ue,pe,Se)}),ue},coordAll:function(z){var W=[];return Za(z,function(J){W.push(J)}),W},geomEach:wl,geomReduce:function(z,W,J){var ue=J;return wl(z,function(pe,Se){ue=Se===0&&J===void 0?pe:W(ue,pe,Se)}),ue}};function Cl(z,W){if(!z)throw new Error("No geometry passed");return{type:"Feature",properties:W||{},geometry:z}}var Sl=function(z){if(!z)throw new Error("No features passed");return{type:"FeatureCollection",features:z}},al={onSetup:function(z){var W=z.spliter;W=W||"line_string";var J=this.getSelected().map(function(ue){return ue.toGeoJSON()});if(J.length<1)throw new Error("Please select a Linestring/MultiLinestring!");return{main:J,spliter:"passing_mode_"+W}},toDisplayFeatures:function(z,W,J){var ue=this;J(W),this.changeMode(z.spliter,function(pe){z.main.forEach(function(Se,Pe){var qe=[];(function(dt){if(!dt)throw new Error("geojson is required");var et=[];return _o(dt,function(At){et.push(At)}),function(At,Lt){Lt===void 0&&(Lt={});var nr={type:"FeatureCollection"};return Lt.id&&(nr.id=Lt.id),Lt.bbox&&(nr.bbox=Lt.bbox),nr.features=At,nr}(et)})(Se).features.forEach(function(dt){if(dt.geometry.type!==ft&&dt.geometry.type!==Ut)throw new Error("The feature is not Linestring/MultiLinestring!");var et=function(At,Lt){if(!At)throw new Error("line is required");if(!Lt)throw new Error("splitter is required");var nr=zi(At),fr=zi(Lt);if(nr!=="LineString")throw new Error("line must be LineString");if(fr==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(fr==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var dn=ps(Lt,{precision:7});switch(fr){case"Point":return Gs(At,dn);case"MultiPoint":return rs(At,dn);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return rs(At,xo(At,dn))}}(dt,pe);et.features.length<1?qe.push(Sl([dt])):qe.push(et)});var Ue=function(dt){var et={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},At=Object.keys(et).reduce(function(nr,fr){return nr[fr.replace("Multi","")]=fr,nr},{});function Lt(nr,fr,dn){dn?et[fr].coordinates=et[fr].coordinates.concat(nr.geometry.coordinates):et[fr].coordinates.push(nr.geometry.coordinates),et[fr].properties.push(nr.properties)}return Ul.featureEach(dt,function(nr){nr.geometry&&(et[nr.geometry.type]?Lt(nr,nr.geometry.type,!0):At[nr.geometry.type]&&Lt(nr,At[nr.geometry.type],!1))}),{type:"FeatureCollection",features:Object.keys(et).filter(function(nr){return et[nr].coordinates.length}).sort().map(function(nr){return{type:"Feature",properties:{collectedProperties:et[nr].properties},geometry:{type:nr,coordinates:et[nr].coordinates}}})}}(Sl(qe.flatMap(function(dt){return dt.features}))).features[0];Ue.id=Se.id,ue._ctx.api.add(Ue)})})}},Ms=[{id:"drawCircle",title:"\u7ED8\u5236\u5706",className:"vjmap-map-draw_circle",onActivate:function(z){z.api.changeMode("draw_circle")}},{id:"drawRectangle",title:"\u7ED8\u5236\u77E9\u5F62",className:"vjmap-map-draw_rectangle",onActivate:function(z){z.api.changeMode("draw_rectangle")}},{id:"splitLine",title:"\u5206\u5272\u7EBF",className:"vjmap-map-draw-cut-line",onActivate:function(z){z.api.changeMode("splitLineMode",{spliter:"line_string"})}},{id:"cutPolygon",title:"\u5206\u5272\u591A\u8FB9\u5F62",className:"vjmap-map-draw-cut-polygon",onActivate:function(z){z.api.changeMode("cutPolygonMode")}},{id:"undo",title:"\u64A4\u9500\u4E0A\u4E00\u6B65\u64CD\u4F5C",className:"vjmap-map-draw_undo",onActivate:function(z){z.api.undo()}},{id:"redo",title:"\u91CD\u590D\u4E0A\u4E00\u6B65\u64CD\u4F5C",className:"vjmap-map-draw_redo",onActivate:function(z){z.api.redo()}},{id:"snap_mode_snap",title:"\u6355\u6349\u70B9",className:"snap_mode_snap",isCheckbox:!0,checked:!0,onActivate:function(z,W){z.options.snap=W.target.checked}},{id:"snap_mode_grid",title:"\u6355\u6349\u7F51\u683C",isCheckbox:!0,checked:!0,className:"snap_mode_grid",onActivate:function(z,W){z.options.guides=W.target.checked}}],As={point:!0,line_string:!0,polygon:!0,trash:!0,combine_features:!0,uncombine_features:!0,drawCircle:!0,snap_mode_snap:!0,snap_mode_grid:!0,splitLine:!0,cutPolygon:!0,drawRectangle:!0,redo:!0,undo:!0},vs=function(z,W){if(!z)throw new Error("No coordinates passed");for(var J=0;J<z.length;J++){var ue=z[J];if(ue.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var pe=0;pe<ue[ue.length-1].length;pe++)if(ue[ue.length-1][pe]!==ue[0][pe])throw new Error("First and last Position are not equivalent.")}return Cl({type:"Polygon",coordinates:z},W)};function ns(z,W,J){if(J===void 0&&(J={}),!z)throw new Error("point is required");if(!W)throw new Error("polygon is required");var ue=ri(z),pe=Hi(W),Se=pe.type,Pe=W.bbox,qe=pe.coordinates;if(Pe&&function(Lt,nr){return nr[0]<=Lt[0]&&nr[1]<=Lt[1]&&nr[2]>=Lt[0]&&nr[3]>=Lt[1]}(ue,Pe)===!1)return!1;Se==="Polygon"&&(qe=[qe]);for(var Ue=!1,dt=0;dt<qe.length&&!Ue;dt++)if(sl(ue,qe[dt][0],J.ignoreBoundary)){for(var et=!1,At=1;At<qe[dt].length&&!et;)sl(ue,qe[dt][At],!J.ignoreBoundary)&&(et=!0),At++;et||(Ue=!0)}return Ue}function sl(z,W,J){var ue=!1;W[0][0]===W[W.length-1][0]&&W[0][1]===W[W.length-1][1]&&(W=W.slice(0,W.length-1));for(var pe=0,Se=W.length-1;pe<W.length;Se=pe++){var Pe=W[pe][0],qe=W[pe][1],Ue=W[Se][0],dt=W[Se][1];if(z[1]*(Pe-Ue)+qe*(Ue-z[0])+dt*(z[0]-Pe)==0&&(Pe-z[0])*(Ue-z[0])<=0&&(qe-z[1])*(dt-z[1])<=0)return!J;qe>z[1]!=dt>z[1]&&z[0]<(Ue-Pe)*(z[1]-qe)/(dt-qe)+Pe&&(ue=!ue)}return ue}function Ps(z,W,J){J===void 0&&(J={});var ue={type:"Feature"};return(J.id===0||J.id)&&(ue.id=J.id),J.bbox&&(ue.bbox=J.bbox),ue.properties=W||{},ue.geometry=z,ue}function Xi(z,W){W===void 0&&(W={});var J=Hi(z);switch(W.properties||z.type!=="Feature"||(W.properties=z.properties),J.type){case"Polygon":return function(ue,pe){pe===void 0&&(pe={});var Se=Hi(ue).coordinates,Pe=pe.properties?pe.properties:ue.type==="Feature"?ue.properties:{};return qs(Se,Pe)}(J,W);case"MultiPolygon":return function(ue,pe){pe===void 0&&(pe={});var Se=Hi(ue).coordinates,Pe=pe.properties?pe.properties:ue.type==="Feature"?ue.properties:{},qe=[];return Se.forEach(function(Ue){qe.push(qs(Ue,Pe))}),function(Ue,dt){dt===void 0&&(dt={});var et={type:"FeatureCollection"};return dt.id&&(et.id=dt.id),dt.bbox&&(et.bbox=dt.bbox),et.features=Ue,et}(qe)}(J,W);default:throw new Error("invalid poly")}}function qs(z,W){return z.length>1?function(J,ue,pe){return pe===void 0&&(pe={}),Ps({type:"MultiLineString",coordinates:J},ue,pe)}(z,W):function(J,ue,pe){if(pe===void 0&&(pe={}),J.length<2)throw new Error("coordinates must be an array of two or more positions");return Ps({type:"LineString",coordinates:J},ue,pe)}(z[0],W)}function is(z,W){var J=!0;return _o(z,function(ue){_o(W,function(pe){if(J===!1)return!1;J=function(Se,Pe){switch(Se.type){case"Point":switch(Pe.type){case"Point":return qe=Se.coordinates,Ue=Pe.coordinates,!(qe[0]===Ue[0]&&qe[1]===Ue[1]);case"LineString":return!Ws(Pe,Se);case"Polygon":return!ns(Se,Pe)}break;case"LineString":switch(Pe.type){case"Point":return!Ws(Se,Pe);case"LineString":return!function(dt,et){return xo(dt,et).features.length>0}(Se,Pe);case"Polygon":return!os(Pe,Se)}break;case"Polygon":switch(Pe.type){case"Point":return!ns(Pe,Se);case"LineString":return!os(Se,Pe);case"Polygon":return!function(dt,et){for(var At=0,Lt=dt.coordinates[0];At<Lt.length;At++)if(ns(Lt[At],et))return!0;for(var nr=0,fr=et.coordinates[0];nr<fr.length;nr++)if(ns(fr[nr],dt))return!0;return xo(Xi(dt),Xi(et)).features.length>0}(Pe,Se)}}var qe,Ue;return!1}(ue.geometry,pe.geometry)})}),J}function Ws(z,W){for(var J=0;J<z.coordinates.length-1;J++)if(ys(z.coordinates[J],z.coordinates[J+1],W.coordinates))return!0;return!1}function os(z,W){for(var J=0,ue=W.coordinates;J<ue.length;J++)if(ns(ue[J],z))return!0;return xo(W,Xi(z)).features.length>0}function ys(z,W,J){var ue=J[0]-z[0],pe=J[1]-z[1],Se=W[0]-z[0],Pe=W[1]-z[1];return ue*Pe-pe*Se==0&&(Math.abs(Se)>=Math.abs(Pe)?Se>0?z[0]<=J[0]&&J[0]<=W[0]:W[0]<=J[0]&&J[0]<=z[0]:Pe>0?z[1]<=J[1]&&J[1]<=W[1]:W[1]<=J[1]&&J[1]<=z[1])}function Ia(z){return z*(Math.PI/180)}function ll(z,W,J,ue){var pe=Ia(J-z),Se=Ia(ue-W),Pe=Math.sin(pe/2)*Math.sin(pe/2)+Math.cos(Ia(z))*Math.cos(Ia(J))*Math.sin(Se/2)*Math.sin(Se/2);return 6371*(2*Math.atan2(Math.sqrt(Pe),Math.sqrt(1-Pe)))}function Ba(z,W,J){var ue=z,pe=W;return Array.isArray(z)&&z.length>0&&Array.isArray(z[0])&&z[0].length==2&&(ue=z[0]),Array.isArray(W)&&W.length>0&&Array.isArray(W[0])&&W[0].length==2&&(pe=W[0]),Po(ue,pe,J)}var va="VERTICAL_GUIDE",qo="HORIZONTAL_GUIDE",So="SNAPNODE_GUIDE",bs=function(z,W,J,ue){var pe=z.getCanvas(),Se=pe.width,Pe=pe.height;if(J&&!isNaN(J.lng)&&!isNaN(J.lat)){var qe=z.project(J),Ue=qe.x,dt=qe.y;(Ue>0&&Ue<Se&&dt>0&&dt<Pe||ue)&&W.push(J)}},ya=function(z,W,J){var ue=W.getAll().features;if(typeof W.getSnapFeatures=="function"){var pe=W.getSnapFeatures();Array.isArray(pe)&&(ue=ue.concat(pe))}else Array.isArray(W.getSnapFeatures)?ue=ue.concat(W.getSnapFeatures):W.getSnapFeatures&&W.getSnapFeatures.features&&Array.isArray(W.getSnapFeatures.features)&&(ue=ue.concat(W.getSnapFeatures.features));var Se=[],Pe=function(){var dt=z.getCanvas(),et=dt.width,At=dt.height,Lt=(z.unproject([0,0]).toArray(),z.unproject([et,0]).toArray());return z.unproject([et,At]).toArray(),function(nr){var fr=[nr[0],nr[1]],dn=[nr[0],nr[3]],hn=[nr[2],nr[3]],nn=[nr[2],nr[1]];return vs([[fr,nn,hn,dn,fr]])}([z.unproject([0,At]).toArray(),Lt].flat())}(),qe=[],Ue=function(dt,et){if(et===void 0&&(et=!1),!Array.isArray(dt))throw Error("Your array is not an array");Array.isArray(dt[0])?dt.forEach(function(At){Ue(At)}):dt.length===2&&bs(z,qe,dt,et)};return ue.forEach(function(dt){dt.id!==J.id?dt.id!==qo&&dt.id!==va&&dt.id!==So&&(Ue(dt.geometry.coordinates),is(Pe,dt)||Se.push(dt)):J.type===rt&&Ue(dt.geometry.coordinates[0].slice(0,-2),!0)}),[Se,qe]},Zs=function(z,W){var J={};return W.forEach(function(ue,pe){var Se=function(Pe,qe){var Ue=[Pe.lng,Pe.lat],dt=qe.geometry.type==="Point",et=qe.geometry.type==="Polygon",At=void 0,Lt=Li(qe);if(dt)return{isMarker:dt,latlng:{lng:Lt[0],lat:Lt[1]},distance:Ba(Lt,Ue)};var nr=ga(At=et?Xi(qe):qe,Ue),fr=nr.geometry.coordinates,dn=fr[0],hn=fr[1],nn=nr.properties.index;return nn+1===At.geometry.coordinates.length&&nn--,{latlng:{lng:dn,lat:hn},segment:At.geometry.coordinates.slice(nn,nn+2),distance:nr.properties.dist,isMarker:dt}}(z,ue);(J.distance===void 0||Se.distance<J.distance)&&((J=Se).layer=ue)}),J},Xs=function(z,W,J){if(J===void 0&&(J=1.25),Array.isArray(z.segment)&&z.segment.length>=2){var ue=z.segment[0],pe=z.segment[1];if(ue&&pe){Array.isArray(ue)&&ue.length>0&&Array.isArray(ue[0])&&ue[0].length==2&&(ue=ue[0]),Array.isArray(pe)&&pe.length>0&&Array.isArray(pe[0])&&pe[0].length==2&&(pe=pe[0]);var Se,Pe,qe,Ue=[z.latlng.lng,z.latlng.lat],dt=Ba(ue,Ue),et=Ba(pe,Ue),At=dt<et?ue:pe,Lt=dt<et?dt:et;if(W&&W.snapToMidPoints){var nr=(Se=ue,Pe=pe,ma(Se,Po(Se,Pe)/2,Lo(Se,Pe))).geometry.coordinates,fr=Ba(nr,Ue);fr<dt&&fr<et&&(At=nr,Lt=fr)}return{lng:(qe=Lt<J?At:Ue)[0],lat:qe[1]}}}},Na=function(z,W){var J,ue,pe,Se,Pe,qe,Ue,dt,et,At,Lt,nr,fr=W.lngLat.lng,dn=W.lngLat.lat;if(z.showSnapNodePoint=!1,W.originalEvent.altKey)return z.showVerticalSnapLine=!1,z.showHorizontalSnapLine=!1,{lng:fr,lat:dn};if(z.snapList.length<=0)return z.showSnapNodePoint=!1,{lng:fr,lat:dn};if(z.options.snap){if(J=Zs({lng:fr,lat:dn},z.snapList),Object.keys(J).length===0)return!1;var hn=J.isMarker,nn=z.options.snapOptions?z.options.snapOptions.snapVertexPriorityDistance:void 0;if(hn)pe=J.latlng;else if(!(pe=Xs(J,z.options.snapOptions,nn)))return{lng:fr,lat:dn};ue=(z.options.snapOptions&&z.options.snapOptions.snapPx||15)*(Se=pe.lat,Pe=z.map.getZoom(),qe=Se*(Math.PI/180),40075017*Math.cos(qe)/Math.pow(2,Pe+8))}if(z.options.guides){var vt=(et=z.vertices,At=W.lngLat,Lt=[],nr=[],et.forEach(function(bn){Lt.push(bn[0]),nr.push(bn[1])}),{verticalPx:Lt.find(function(bn){return Math.abs(bn-At.lng)<.009}),horizontalPx:nr.find(function(bn){return Math.abs(bn-At.lat)<.009})});if(dt=vt.horizontalPx,Ue=vt.verticalPx){var Wt={lng:Ue,lat:W.lngLat.lat+10},Rr={lng:Ue,lat:W.lngLat.lat-10};z.verticalGuide.updateCoordinate(0,Wt.lng,Wt.lat),z.verticalGuide.updateCoordinate(1,Rr.lng,Rr.lat)}if(dt){var Ir={lng:W.lngLat.lng+10,lat:dt},gn={lng:W.lngLat.lng-10,lat:dt};z.horizontalGuide.updateCoordinate(0,Ir.lng,Ir.lat),z.horizontalGuide.updateCoordinate(1,gn.lng,gn.lat)}z.showVerticalSnapLine=!!Ue,z.showHorizontalSnapLine=!!dt}return J&&1e3*J.distance<ue?(z.snapNodeGuide.updateCoordinate(pe.lng,pe.lat),z.showSnapNodePoint=!0,pe):Ue||dt?(Ue&&(fr=Ue),dt&&(dn=dt),{lng:fr,lat:dn}):{lng:fr,lat:dn}},Wo=function(z){return{id:z,type:He,properties:{isSnapGuide:"true"},geometry:{type:z==So?bt:ft,coordinates:[]}}},Os=function(z,W){return!(W.properties.id!==va||z.options.guides&&z.showVerticalSnapLine)||!(W.properties.id!==qo||z.options.guides&&z.showHorizontalSnapLine)||!(W.properties.id!==So||z.options.snap&&z.showSnapNodePoint)},Xa=Object.assign({},si);Xa.onSetup=function(z){var W=this,J=this.newFeature({type:He,properties:{},geometry:{type:bt,coordinates:[[]]}}),ue=this.newFeature(Wo(va)),pe=this.newFeature(Wo(qo)),Se=this.newFeature(Wo(So));this.addFeature(J),this.addFeature(ue),this.addFeature(pe),this.addFeature(Se);var Pe=this.getSelected();this.clearSelectedFeatures(),wi(this);var qe=ya(this.map,this._ctx.api,J),Ue=qe[0],dt=qe[1],et={map:this.map,point:J,vertices:dt,snapList:Ue,selectedFeatures:Pe,verticalGuide:ue,horizontalGuide:pe,snapNodeGuide:Se};et.options=this._ctx.options;var At=function(){var nr=ya(W.map,W._ctx.api,J),fr=nr[0],dn=nr[1];et.vertices=dn,et.snapList=fr};et.moveendCallback=At;var Lt=function(nr){et.options=nr};return et.optionsChangedCallBAck=Lt,this.map.on("moveend",At),this.map.on("draw.snap.options_changed",Lt),this._mapIsInteractingStore=this.map.isInteracting(),this.map.setIsInteracting(!0),et},Xa.onClick=function(z){si.onClick.call(this,z,{lngLat:{lng:z.snappedLng,lat:z.snappedLat}})},Xa.onMouseMove=function(z,W){var J=Na(z,W),ue=J.lng,pe=J.lat;z.snappedLng=ue,z.snappedLat=pe,z.lastVertex&&z.lastVertex[0]===ue&&z.lastVertex[1]===pe?this.updateUIClasses({mouse:be}):this.updateUIClasses({mouse:ge}),this.map.fire(Vt,{lnglat:[ue,pe],event:W,state:z,styleId:z.options.styleId})},Xa.toDisplayFeatures=function(z,W,J){Os(z,W)||si.toDisplayFeatures(z,W,J)},Xa.onStop=function(z){this.deleteFeature(va,{silent:!0}),this.deleteFeature(qo,{silent:!0}),this.deleteFeature(So,{silent:!0}),this.map.off("moveend",z.moveendCallback),si.onStop.call(this,z),this.map.setIsInteracting(this._mapIsInteractingStore||!1)};var Ya=Object.assign({},ho);Ya.onSetup=function(z){var W=this,J=this.newFeature({type:He,properties:{},geometry:{type:ft,coordinates:[[]]}}),ue=this.newFeature(Wo(va)),pe=this.newFeature(Wo(qo)),Se=this.newFeature(Wo(So));this.addFeature(J),this.addFeature(ue),this.addFeature(pe),this.addFeature(Se);var Pe=this.getSelected();this.clearSelectedFeatures(),wi(this);var qe=ya(this.map,this._ctx.api,J),Ue=qe[0],dt=qe[1],et={map:this.map,line:J,currentVertexPosition:0,vertices:dt,snapList:Ue,selectedFeatures:Pe,verticalGuide:ue,horizontalGuide:pe,snapNodeGuide:Se,direction:"forward"};et.options=this._ctx.options;var At=function(){var nr=ya(W.map,W._ctx.api,J),fr=nr[0],dn=nr[1];et.vertices=dn,et.snapList=fr};et.moveendCallback=At;var Lt=function(nr){et.options=nr};return et.optionsChangedCallBAck=Lt,this.map.on("moveend",At),this.map.on("draw.snap.options_changed",Lt),this._mapIsInteractingStore=this.map.isInteracting(),this.map.setIsInteracting(!0),et},Ya.onClick=function(z){var W=z.snappedLng,J=z.snappedLat;if(z.currentVertexPosition>0){var ue=z.line.coordinates[z.currentVertexPosition-1];if(z.lastVertex=ue,ue[0]===W&&ue[1]===J)return this.changeMode(tt.SIMPLE_SELECT,{featureIds:[z.line.id]})}bs(z.map,z.vertices,{lng:W,lat:J}),z.line.updateCoordinate(z.currentVertexPosition,W,J),z.currentVertexPosition++,z.line.updateCoordinate(z.currentVertexPosition,W,J)},Ya.onMouseMove=function(z,W){var J=Na(z,W),ue=J.lng,pe=J.lat;z.line.updateCoordinate(z.currentVertexPosition,ue,pe),z.snappedLng=ue,z.snappedLat=pe,z.lastVertex&&z.lastVertex[0]===ue&&z.lastVertex[1]===pe?this.updateUIClasses({mouse:be}):this.updateUIClasses({mouse:ge}),this.map.fire(Vt,{lnglat:[ue,pe],feature:z.line,event:W,state:z,styleId:z.options.styleId})},Ya.toDisplayFeatures=function(z,W,J){Os(z,W)||ho.toDisplayFeatures(z,W,J)},Ya.onStop=function(z){this.deleteFeature(va,{silent:!0}),this.deleteFeature(qo,{silent:!0}),this.deleteFeature(So,{silent:!0}),this.map.off("moveend",z.moveendCallback),ho.onStop.call(this,z),this.map.setIsInteracting(this._mapIsInteractingStore||!1)};var ra=Object.assign({},Mi);ra.onSetup=function(z){var W=this,J=this.newFeature({type:He,properties:{},geometry:{type:rt,coordinates:[[]]}}),ue=this.newFeature(Wo(va)),pe=this.newFeature(Wo(qo)),Se=this.newFeature(Wo(So));this.addFeature(J),this.addFeature(ue),this.addFeature(pe),this.addFeature(Se);var Pe=this.getSelected();this.clearSelectedFeatures(),wi(this);var qe=ya(this.map,this._ctx.api,J),Ue=qe[0],dt=qe[1],et={map:this.map,polygon:J,currentVertexPosition:0,vertices:dt,snapList:Ue,selectedFeatures:Pe,verticalGuide:ue,horizontalGuide:pe,snapNodeGuide:Se};et.options=this._ctx.options;var At=function(){var nr=ya(W.map,W._ctx.api,J),fr=nr[0],dn=nr[1];et.vertices=dn,et.snapList=fr};et.moveendCallback=At;var Lt=function(nr){et.options=nr};return et.optionsChangedCallBAck=Lt,this.map.on("moveend",At),this.map.on("draw.snap.options_changed",Lt),this._mapIsInteractingStore=this.map.isInteracting(),this.map.setIsInteracting(!0),et},ra.onClick=function(z){var W=z.snappedLng,J=z.snappedLat;if(z.currentVertexPosition>0){var ue=z.polygon.coordinates[0][z.currentVertexPosition-1];if(z.lastVertex=ue,ue[0]===W&&ue[1]===J)return this.changeMode(tt.SIMPLE_SELECT,{featureIds:[z.polygon.id]})}bs(z.map,z.vertices,{lng:W,lat:J}),z.polygon.updateCoordinate("0."+z.currentVertexPosition,W,J),z.currentVertexPosition++,z.polygon.updateCoordinate("0."+z.currentVertexPosition,W,J)},ra.onMouseMove=function(z,W){var J=Na(z,W),ue=J.lng,pe=J.lat;z.polygon.updateCoordinate("0."+z.currentVertexPosition,ue,pe),z.snappedLng=ue,z.snappedLat=pe,z.lastVertex&&z.lastVertex[0]===ue&&z.lastVertex[1]===pe?this.updateUIClasses({mouse:be}):this.updateUIClasses({mouse:ge}),this.map.fire(Vt,{lnglat:[ue,pe],feature:z.polygon,event:W,state:z,styleId:z.options.styleId})},ra.toDisplayFeatures=function(z,W,J){Os(z,W)||Mi.toDisplayFeatures(z,W,J)},ra.onStop=function(z){this.deleteFeature(va,{silent:!0}),this.deleteFeature(qo,{silent:!0}),this.deleteFeature(So,{silent:!0}),this.map.off("moveend",z.moveendCallback),this.map.off("draw.snap.options_changed",z.optionsChangedCallBAck),Mi.onStop.call(this,z),this.map.setIsInteracting(this._mapIsInteractingStore||!1)};var na=Object.assign({},Mi);na.onSetup=function(z){var W=this,J=this.newFeature({type:He,properties:{},geometry:{type:rt,coordinates:[[]]}}),ue=this.newFeature(Wo(va)),pe=this.newFeature(Wo(qo)),Se=this.newFeature(Wo(So));this.addFeature(J),this.addFeature(ue),this.addFeature(pe),this.addFeature(Se);var Pe=this.getSelected();this.clearSelectedFeatures(),wi(this);var qe=ya(this.map,this._ctx.api,J),Ue=qe[0],dt=qe[1],et={map:this.map,polygon:J,currentVertexPosition:0,vertices:dt,snapList:Ue,selectedFeatures:Pe,verticalGuide:ue,horizontalGuide:pe,snapNodeGuide:Se};et.options=this._ctx.options;var At=function(){var nr=ya(W.map,W._ctx.api,J),fr=nr[0],dn=nr[1];et.vertices=dn,et.snapList=fr};et.moveendCallback=At;var Lt=function(nr){et.options=nr};return et.optionsChangedCallBAck=Lt,this.map.on("moveend",At),this.map.on("draw.snap.options_changed",Lt),this._mapIsInteractingStore=this.map.isInteracting(),this.map.setIsInteracting(!0),et},na.onTap=function(z,W){z.startPoint&&this.onMouseMove(z,W),this.onClick(z,W)},na.onClick=function(z){var W=z.snappedLng,J=z.snappedLat;z.startPoint&&z.startPoint[0]!==W&&z.startPoint[1]!==J&&(this.updateUIClasses({mouse:"pointer"}),z.endPoint=[W,J],this.changeMode("simple_select",{featuresId:z.polygon.id}));var ue=[W,J];z.startPoint=ue},na.onMouseMove=function(z,W){var J=Na(z,W),ue=J.lng,pe=J.lat;z.polygon.updateCoordinate("0."+z.currentVertexPosition,ue,pe),z.snappedLng=ue,z.snappedLat=pe,z.startPoint&&(z.polygon.updateCoordinate("0.0",z.startPoint[0],z.startPoint[1]),z.polygon.updateCoordinate("0.1",ue,z.startPoint[1]),z.polygon.updateCoordinate("0.2",ue,pe),z.polygon.updateCoordinate("0.3",z.startPoint[0],pe),z.polygon.updateCoordinate("0.4",z.startPoint[0],z.startPoint[1])),this.map.fire(Vt,{lnglat:[ue,pe],feature:z.polygon,event:W,state:z,styleId:z.options.styleId})},na.toDisplayFeatures=function(z,W,J){Os(z,W)||Mi.toDisplayFeatures(z,W,J)},na.onStop=function(z){this.deleteFeature(va,{silent:!0}),this.deleteFeature(qo,{silent:!0}),this.deleteFeature(So,{silent:!0}),this.map.off("moveend",z.moveendCallback),this.map.off("draw.snap.options_changed",z.optionsChangedCallBAck),Mi.onStop.call(this,z),this.map.setIsInteracting(this._mapIsInteractingStore||!1)};var _s=_r.map(function(z){return z.id==="gl-draw-line-inactive"?Object.assign({},z,{filter:z.filter.concat([["!=","user_isSnapGuide","true"]])}):z}).concat([{id:"guide",type:"line",filter:["all",["==","$type","LineString"],["==","user_isSnapGuide","true"]],layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":"#c00c00","line-width":1,"line-dasharray":[5,5]}}]);function Oo(z,W){for(var J=Fn(z),ue=Math.floor(60),pe=1e3*W,Se=[],Pe=0;Pe<ue;Pe++){var qe=6*Pe*Math.PI/180,Ue=J[0]+pe*Math.cos(qe),dt=J[1]+pe*Math.sin(qe);Se.push([Ue,dt])}return Se.push(Se[0]),Se.map(function(et){return jo(et)})}var xs=Object.assign({},bo.draw_polygon);xs.onSetup=function(z){var W=this.newFeature({type:He,properties:{isCircle:!0,center:[]},geometry:{type:rt,coordinates:[[]]}});return this.addFeature(W),this.clearSelectedFeatures(),wi(this),this.updateUIClasses({mouse:ge}),this.activateUIButton(Ee.POLYGON),this.setActionableState({trash:!0}),{initialRadiusInKm:z.initialRadiusInKm||2,polygon:W,currentVertexPosition:0}},xs.clickAnywhere=function(z,W){if(z.currentVertexPosition===0){z.currentVertexPosition++;var J=[W.lngLat.lng,W.lngLat.lat],ue=Oo(J,z.initialRadiusInKm);z.polygon.incomingCoords([ue]),z.polygon.properties.center=J,z.polygon.properties.radiusInKm=z.initialRadiusInKm}return this.changeMode(tt.SIMPLE_SELECT,{featureIds:[z.polygon.id]})};var ia=Object.assign({},bo.draw_polygon);function cl(z){var W=z.properties,J=z.geometry;if(!W.user_isCircle)return null;for(var ue=[],pe=J.coordinates[0].slice(0,-1),Se=0;Se<pe.length;Se+=Math.round(pe.length/4))ue.push(vi(W.id,pe[Se],"0."+Se,!1));return ue}ia.onSetup=function(z){var W,J=this.newFeature({type:He,properties:{isCircle:!0,center:[]},geometry:{type:rt,coordinates:[[]]}});this.addFeature(J),this.clearSelectedFeatures(),wi(this),W=this,setTimeout(function(){W.map&&W.map.doubleClickZoom&&W.map.dragPan.disable()},0),this.updateUIClasses({mouse:ge}),this.activateUIButton(Ee.POLYGON),this.setActionableState({trash:!0});var ue={map:this.map,polygon:J,currentVertexPosition:0};return ue.options=this._ctx.options,ue},ia.onMouseDown=ia.onTouchStart=function(z,W){var J;if(z.polygon.properties.center.length!==0)return J=this,setTimeout(function(){J.map&&J.map.dragPan&&J._ctx&&J._ctx.store&&J._ctx.store.getInitialConfigValue&&J._ctx.store.getInitialConfigValue("dragPan")&&J.map.dragPan.enable()},0),this.changeMode(tt.SIMPLE_SELECT,{featureIds:[z.polygon.id]});z.polygon.properties.center=[W.lngLat.lng,W.lngLat.lat]},ia.onDrag=ia.onMouseMove=function(z,W){var J=z.polygon.properties.center;if(J.length>0){var ue=ll(J[1],J[0],W.lngLat.lat,W.lngLat.lng),pe=Oo(J,ue);z.polygon.incomingCoords([pe]),z.polygon.properties.radiusInKm=ue}this.map.fire(Vt,{lnglat:[W.lngLat.lat,W.lngLat.lng],feature:z.polygon,event:W,state:z,styleId:z.options.styleId})},ia.onMouseUp=ia.onTouchEnd=function(z,W){},ia.onClick=ia.onTap=function(z,W){},ia.toDisplayFeatures=function(z,W,J){var ue=W.properties.id===z.polygon.id;return W.properties.active=ue?or:xr,J(W)};var fo=bo.direct_select;fo.dragFeature=function(z,W,J){Da(this.getSelected(),J,W.lngLat),this.getSelected().filter(function(ue){return ue.properties.isCircle}).map(function(ue){return ue.properties.center}).forEach(function(ue){ue[0]+=J.lng,ue[1]+=J.lat}),z.dragMoveLocation=W.lngLat},fo.dragVertex=function(z,W,J){if(z.feature.properties.isCircle){var ue=z.feature.properties.center,pe=ll(ue[1],ue[0],W.lngLat.lat,W.lngLat.lng),Se=Oo(ue,pe);z.feature.incomingCoords([Se]),z.feature.properties.radiusInKm=pe}else for(var Pe=z.selectedCoordPaths.map(function(et){return z.feature.getCoordinate(et)}),qe=uo(Pe.map(function(et){return{type:He,properties:{},geometry:{type:bt,coordinates:et}}}),J),Ue=0;Ue<Pe.length;Ue++){var dt=Pe[Ue];z.feature.updateCoordinate(z.selectedCoordPaths[Ue],dt[0]+qe.lng,dt[1]+qe.lat)}},fo.toDisplayFeatures=function(z,W,J){z.featureId===W.properties.id?(W.properties.active=or,J(W),(W.properties.user_isCircle?cl(W):Ui(W,{map:this.map,midpoints:!0,selectedPaths:z.selectedCoordPaths})).forEach(J)):(W.properties.active=xr,J(W)),this.fireActionable(z)};var ul=bo.simple_select;function oa(z){var W=z.onSetup,J=z.onClick,ue=z.onMouseMove,pe=function(Pe,qe){var Ue={};for(var dt in Pe)Object.prototype.hasOwnProperty.call(Pe,dt)&&qe.indexOf(dt)===-1&&(Ue[dt]=Pe[dt]);return Ue}(z,["onSetup","onClick","onMouseMove"]),Se=Object.assign({},{originOnSetup:W,originOnMouseMove:ue,originOnClick:J},pe);return Se.onSetup=function(Pe){var qe=this.originOnSetup();return qe.feature_type="point"in qe?"point":"line"in qe?"line":"polygon",qe.callBack=Pe,qe},Se.onTap=Se.onClick=function(Pe,qe){Pe.feature_type==="point"?(this.updateUIClasses({mouse:Ce}),Pe.point.updateCoordinate("",qe.lngLat.lng,qe.lngLat.lat),typeof Pe.callBack=="function"?Pe.callBack(Pe.point.toGeoJSON()):this.map.fire("draw.passing-create",{features:[Pe.point.toGeoJSON()]}),this.changeMode(tt.SIMPLE_SELECT,{},{silent:!0})):this.originOnClick(Pe,qe)},Se.onMouseMove=function(Pe,qe){this.updateUIClasses({mouse:ge}),Pe.feature_type==="point"?Pe.point.updateCoordinate(qe.lngLat.lng,qe.lngLat.lat):this.originOnMouseMove(Pe,qe)},Se.onStop=function(Pe){if("point"in Pe)this.activateUIButton(),this.deleteFeature([Pe.point.id],{silent:!0});else if("line"in Pe||"polygon"in Pe){var qe=Pe.line||Pe.polygon;if(this.updateUIClasses({mouse:ke}),xi(this),this.activateUIButton(),this.getFeature(qe.id)===void 0)return;qe.removeCoordinate(""+Pe.currentVertexPosition),qe.isValid()&&(typeof Pe.callBack=="function"?Pe.callBack(qe.toGeoJSON()):this.map.fire("draw.passing-create",{features:[qe.toGeoJSON()]})),this.deleteFeature([qe.id],{silent:!0}),this.changeMode(tt.SIMPLE_SELECT,{},{silent:!0})}},Se}ul.dragMove=function(z,W){z.dragMoving=!0,W.originalEvent.stopPropagation();var J={lng:W.lngLat.lng-z.dragMoveLocation.lng,lat:W.lngLat.lat-z.dragMoveLocation.lat};Da(this.getSelected(),J,W.lngLat),this.getSelected().filter(function(ue){return ue.properties.isCircle}).map(function(ue){return ue.properties.center}).forEach(function(ue){ue[0]+=J.lng,ue[1]+=J.lat}),z.dragMoveLocation=W.lngLat},ul.toDisplayFeatures=function(z,W,J){W.properties.active=this.isSelected(W.properties.id)?or:xr,J(W),this.fireActionable(),W.properties.active===or&&W.geometry.type!==bt&&(W.properties.user_isCircle?cl(W):Ui(W)).forEach(J)};var El=Ve(function(z,W){z.exports=function(){function J(pr,Re){if(!(pr instanceof Re))throw new TypeError("Cannot call a class as a function")}function ue(pr,Re){for(var Ke=0;Ke<Re.length;Ke++){var $t=Re[Ke];$t.enumerable=$t.enumerable||!1,$t.configurable=!0,"value"in $t&&($t.writable=!0),Object.defineProperty(pr,$t.key,$t)}}function pe(pr,Re,Ke){return Re&&ue(pr.prototype,Re),Ke&&ue(pr,Ke),pr}/**
* splaytree v3.1.0
* Fast Splay tree for Node and browser
*
* @author Alexander Milevski <info@w8r.name>
* @license MIT
* @preserve
*/var Se=function(pr,Re){this.next=null,this.key=pr,this.data=Re,this.left=null,this.right=null};function Pe(pr,Re){return pr>Re?1:pr<Re?-1:0}function qe(pr,Re,Ke){for(var $t=new Se(null,null),Yt=$t,ur=$t;;){var rn=Ke(pr,Re.key);if(rn<0){if(Re.left===null)break;if(Ke(pr,Re.left.key)<0){var jr=Re.left;if(Re.left=jr.right,jr.right=Re,(Re=jr).left===null)break}ur.left=Re,ur=Re,Re=Re.left}else{if(!(rn>0)||Re.right===null||Ke(pr,Re.right.key)>0&&(jr=Re.right,Re.right=jr.left,jr.left=Re,(Re=jr).right===null))break;Yt.right=Re,Yt=Re,Re=Re.right}}return Yt.right=Re.left,ur.left=Re.right,Re.left=$t.right,Re.right=$t.left,Re}function Ue(pr,Re,Ke,$t){var Yt=new Se(pr,Re);if(Ke===null)return Yt.left=Yt.right=null,Yt;var ur=$t(pr,(Ke=qe(pr,Ke,$t)).key);return ur<0?(Yt.left=Ke.left,Yt.right=Ke,Ke.left=null):ur>=0&&(Yt.right=Ke.right,Yt.left=Ke,Ke.right=null),Yt}function dt(pr,Re,Ke){var $t=null,Yt=null;if(Re){var ur=Ke((Re=qe(pr,Re,Ke)).key,pr);ur===0?($t=Re.left,Yt=Re.right):ur<0?(Yt=Re.right,Re.right=null,$t=Re):($t=Re.left,Re.left=null,Yt=Re)}return{left:$t,right:Yt}}var et=function(){function pr(Re){Re===void 0&&(Re=Pe),this._root=null,this._size=0,this._comparator=Re}return pr.prototype.insert=function(Re,Ke){return this._size++,this._root=Ue(Re,Ke,this._root,this._comparator)},pr.prototype.add=function(Re,Ke){var $t=new Se(Re,Ke);this._root===null&&($t.left=$t.right=null,this._size++,this._root=$t);var Yt=this._comparator,ur=qe(Re,this._root,Yt),rn=Yt(Re,ur.key);return rn===0?this._root=ur:(rn<0?($t.left=ur.left,$t.right=ur,ur.left=null):rn>0&&($t.right=ur.right,$t.left=ur,ur.right=null),this._size++,this._root=$t),this._root},pr.prototype.remove=function(Re){this._root=this._remove(Re,this._root,this._comparator)},pr.prototype._remove=function(Re,Ke,$t){var Yt;return Ke===null?null:$t(Re,(Ke=qe(Re,Ke,$t)).key)===0?(Ke.left===null?Yt=Ke.right:(Yt=qe(Re,Ke.left,$t)).right=Ke.right,this._size--,Yt):Ke},pr.prototype.pop=function(){var Re=this._root;if(Re){for(;Re.left;)Re=Re.left;return this._root=qe(Re.key,this._root,this._comparator),this._root=this._remove(Re.key,this._root,this._comparator),{key:Re.key,data:Re.data}}return null},pr.prototype.findStatic=function(Re){for(var Ke=this._root,$t=this._comparator;Ke;){var Yt=$t(Re,Ke.key);if(Yt===0)return Ke;Ke=Yt<0?Ke.left:Ke.right}return null},pr.prototype.find=function(Re){return this._root&&(this._root=qe(Re,this._root,this._comparator),this._comparator(Re,this._root.key)!==0)?null:this._root},pr.prototype.contains=function(Re){for(var Ke=this._root,$t=this._comparator;Ke;){var Yt=$t(Re,Ke.key);if(Yt===0)return!0;Ke=Yt<0?Ke.left:Ke.right}return!1},pr.prototype.forEach=function(Re,Ke){for(var $t=this._root,Yt=[],ur=!1;!ur;)$t!==null?(Yt.push($t),$t=$t.left):Yt.length!==0?($t=Yt.pop(),Re.call(Ke,$t),$t=$t.right):ur=!0;return this},pr.prototype.range=function(Re,Ke,$t,Yt){for(var ur=[],rn=this._comparator,jr=this._root;ur.length!==0||jr;)if(jr)ur.push(jr),jr=jr.left;else{if(rn((jr=ur.pop()).key,Ke)>0)break;if(rn(jr.key,Re)>=0&&$t.call(Yt,jr))return this;jr=jr.right}return this},pr.prototype.keys=function(){var Re=[];return this.forEach(function(Ke){var $t=Ke.key;return Re.push($t)}),Re},pr.prototype.values=function(){var Re=[];return this.forEach(function(Ke){var $t=Ke.data;return Re.push($t)}),Re},pr.prototype.min=function(){return this._root?this.minNode(this._root).key:null},pr.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},pr.prototype.minNode=function(Re){if(Re===void 0&&(Re=this._root),Re)for(;Re.left;)Re=Re.left;return Re},pr.prototype.maxNode=function(Re){if(Re===void 0&&(Re=this._root),Re)for(;Re.right;)Re=Re.right;return Re},pr.prototype.at=function(Re){for(var Ke=this._root,$t=!1,Yt=0,ur=[];!$t;)if(Ke)ur.push(Ke),Ke=Ke.left;else if(ur.length>0){if(Ke=ur.pop(),Yt===Re)return Ke;Yt++,Ke=Ke.right}else $t=!0;return null},pr.prototype.next=function(Re){var Ke=this._root,$t=null;if(Re.right){for($t=Re.right;$t.left;)$t=$t.left;return $t}for(var Yt=this._comparator;Ke;){var ur=Yt(Re.key,Ke.key);if(ur===0)break;ur<0?($t=Ke,Ke=Ke.left):Ke=Ke.right}return $t},pr.prototype.prev=function(Re){var Ke=this._root,$t=null;if(Re.left!==null){for($t=Re.left;$t.right;)$t=$t.right;return $t}for(var Yt=this._comparator;Ke;){var ur=Yt(Re.key,Ke.key);if(ur===0)break;ur<0?Ke=Ke.left:($t=Ke,Ke=Ke.right)}return $t},pr.prototype.clear=function(){return this._root=null,this._size=0,this},pr.prototype.toList=function(){return function(Re){for(var Ke=Re,$t=[],Yt=!1,ur=new Se(null,null),rn=ur;!Yt;)Ke?($t.push(Ke),Ke=Ke.left):$t.length>0?Ke=(Ke=rn=rn.next=$t.pop()).right:Yt=!0;return rn.next=null,ur.next}(this._root)},pr.prototype.load=function(Re,Ke,$t){Ke===void 0&&(Ke=[]),$t===void 0&&($t=!1);var Yt=Re.length,ur=this._comparator;if($t&&function jr(Gr,_n,En,Tn,Ln){if(!(En>=Tn)){for(var D=Gr[En+Tn>>1],_=En-1,A=Tn+1;;){do _++;while(Ln(Gr[_],D)<0);do A--;while(Ln(Gr[A],D)>0);if(_>=A)break;var L=Gr[_];Gr[_]=Gr[A],Gr[A]=L,L=_n[_],_n[_]=_n[A],_n[A]=L}jr(Gr,_n,En,A,Ln),jr(Gr,_n,A+1,Tn,Ln)}}(Re,Ke,0,Yt-1,ur),this._root===null)this._root=function jr(Gr,_n,En,Tn){var Ln=Tn-En;if(Ln>0){var D=En+Math.floor(Ln/2),_=Gr[D],A=_n[D],L=new Se(_,A);return L.left=jr(Gr,_n,En,D),L.right=jr(Gr,_n,D+1,Tn),L}return null}(Re,Ke,0,Yt),this._size=Yt;else{var rn=function(jr,Gr,_n){for(var En=new Se(null,null),Tn=En,Ln=jr,D=Gr;Ln!==null&&D!==null;)_n(Ln.key,D.key)<0?(Tn.next=Ln,Ln=Ln.next):(Tn.next=D,D=D.next),Tn=Tn.next;return Ln!==null?Tn.next=Ln:D!==null&&(Tn.next=D),En.next}(this.toList(),function(jr,Gr){for(var _n=new Se(null,null),En=_n,Tn=0;Tn<jr.length;Tn++)En=En.next=new Se(jr[Tn],Gr[Tn]);return En.next=null,_n.next}(Re,Ke),ur);Yt=this._size+Yt,this._root=function jr(Gr,_n,En){var Tn=En-_n;if(Tn>0){var Ln=_n+Math.floor(Tn/2),D=jr(Gr,_n,Ln),_=Gr.head;return _.left=D,Gr.head=Gr.head.next,_.right=jr(Gr,Ln+1,En),_}return null}({head:rn},0,Yt)}return this},pr.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(pr.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(pr.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),pr.prototype.toString=function(Re){Re===void 0&&(Re=function($t){return String($t.key)});var Ke=[];return function $t(Yt,ur,rn,jr,Gr){if(Yt){jr(ur+(rn?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+Gr(Yt)+`
`);var _n=ur+(rn?"    ":"\u2502   ");Yt.left&&$t(Yt.left,_n,!1,jr,Gr),Yt.right&&$t(Yt.right,_n,!0,jr,Gr)}}(this._root,"",!0,function($t){return Ke.push($t)},Re),Ke.join("")},pr.prototype.update=function(Re,Ke,$t){var Yt=this._comparator,ur=dt(Re,this._root,Yt),rn=ur.left,jr=ur.right;Yt(Re,Ke)<0?jr=Ue(Ke,$t,jr,Yt):rn=Ue(Ke,$t,rn,Yt),this._root=function(Gr,_n,En){return _n===null?Gr:(Gr===null||((_n=qe(Gr.key,_n,En)).left=Gr),_n)}(rn,jr,Yt)},pr.prototype.split=function(Re){return dt(Re,this._root,this._comparator)},pr}(),At=function(pr,Re){return pr.ll.x<=Re.x&&Re.x<=pr.ur.x&&pr.ll.y<=Re.y&&Re.y<=pr.ur.y},Lt=function(pr,Re){if(Re.ur.x<pr.ll.x||pr.ur.x<Re.ll.x||Re.ur.y<pr.ll.y||pr.ur.y<Re.ll.y)return null;var Ke=pr.ll.x<Re.ll.x?Re.ll.x:pr.ll.x,$t=pr.ur.x<Re.ur.x?pr.ur.x:Re.ur.x;return{ll:{x:Ke,y:pr.ll.y<Re.ll.y?Re.ll.y:pr.ll.y},ur:{x:$t,y:pr.ur.y<Re.ur.y?pr.ur.y:Re.ur.y}}},nr=Number.EPSILON;nr===void 0&&(nr=Math.pow(2,-52));var fr=nr*nr,dn=function(pr,Re){if(-nr<pr&&pr<nr&&-nr<Re&&Re<nr)return 0;var Ke=pr-Re;return Ke*Ke<fr*pr*Re?0:pr<Re?-1:1},hn=function(){function pr(){J(this,pr),this.reset()}return pe(pr,[{key:"reset",value:function(){this.xRounder=new nn,this.yRounder=new nn}},{key:"round",value:function(Re,Ke){return{x:this.xRounder.round(Re),y:this.yRounder.round(Ke)}}}]),pr}(),nn=function(){function pr(){J(this,pr),this.tree=new et,this.round(0)}return pe(pr,[{key:"round",value:function(Re){var Ke=this.tree.add(Re),$t=this.tree.prev(Ke);if($t!==null&&dn(Ke.key,$t.key)===0)return this.tree.remove(Re),$t.key;var Yt=this.tree.next(Ke);return Yt!==null&&dn(Ke.key,Yt.key)===0?(this.tree.remove(Re),Yt.key):Re}}]),pr}(),vt=new hn,Wt=function(pr,Re){return pr.x*Re.y-pr.y*Re.x},Rr=function(pr,Re){return pr.x*Re.x+pr.y*Re.y},Ir=function(pr,Re,Ke){var $t={x:Re.x-pr.x,y:Re.y-pr.y},Yt={x:Ke.x-pr.x,y:Ke.y-pr.y},ur=Wt($t,Yt);return dn(ur,0)},gn=function(pr){return Math.sqrt(Rr(pr,pr))},bn=function(pr,Re,Ke){var $t={x:Re.x-pr.x,y:Re.y-pr.y},Yt={x:Ke.x-pr.x,y:Ke.y-pr.y};return Rr(Yt,$t)/gn(Yt)/gn($t)},fn=function(pr,Re,Ke){return Re.y===0?null:{x:pr.x+Re.x/Re.y*(Ke-pr.y),y:Ke}},Rn=function(pr,Re,Ke){return Re.x===0?null:{x:Ke,y:pr.y+Re.y/Re.x*(Ke-pr.x)}},An=function(){function pr(Re,Ke){J(this,pr),Re.events===void 0?Re.events=[this]:Re.events.push(this),this.point=Re,this.isLeft=Ke}return pe(pr,null,[{key:"compare",value:function(Re,Ke){var $t=pr.comparePoints(Re.point,Ke.point);return $t!==0?$t:(Re.point!==Ke.point&&Re.link(Ke),Re.isLeft!==Ke.isLeft?Re.isLeft?1:-1:fi.compare(Re.segment,Ke.segment))}},{key:"comparePoints",value:function(Re,Ke){return Re.x<Ke.x?-1:Re.x>Ke.x?1:Re.y<Ke.y?-1:Re.y>Ke.y?1:0}}]),pe(pr,[{key:"link",value:function(Re){if(Re.point===this.point)throw new Error("Tried to link already linked events");for(var Ke=Re.point.events,$t=0,Yt=Ke.length;$t<Yt;$t++){var ur=Ke[$t];this.point.events.push(ur),ur.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var Re=this.point.events.length,Ke=0;Ke<Re;Ke++){var $t=this.point.events[Ke];if($t.segment.consumedBy===void 0)for(var Yt=Ke+1;Yt<Re;Yt++){var ur=this.point.events[Yt];ur.consumedBy===void 0&&$t.otherSE.point.events===ur.otherSE.point.events&&$t.segment.consume(ur.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var Re=[],Ke=0,$t=this.point.events.length;Ke<$t;Ke++){var Yt=this.point.events[Ke];Yt!==this&&!Yt.segment.ringOut&&Yt.segment.isInResult()&&Re.push(Yt)}return Re}},{key:"getLeftmostComparator",value:function(Re){var Ke=this,$t=new Map,Yt=function(ur){var rn,jr,Gr,_n,En,Tn=ur.otherSE;$t.set(ur,{sine:(rn=Ke.point,jr=Re.point,Gr=Tn.point,_n={x:jr.x-rn.x,y:jr.y-rn.y},En={x:Gr.x-rn.x,y:Gr.y-rn.y},Wt(En,_n)/gn(En)/gn(_n)),cosine:bn(Ke.point,Re.point,Tn.point)})};return function(ur,rn){$t.has(ur)||Yt(ur),$t.has(rn)||Yt(rn);var jr=$t.get(ur),Gr=jr.sine,_n=jr.cosine,En=$t.get(rn),Tn=En.sine,Ln=En.cosine;return Gr>=0&&Tn>=0?_n<Ln?1:_n>Ln?-1:0:Gr<0&&Tn<0?_n<Ln?-1:_n>Ln?1:0:Tn<Gr?-1:Tn>Gr?1:0}}}]),pr}(),ei=0,fi=function(){function pr(Re,Ke,$t,Yt){J(this,pr),this.id=++ei,this.leftSE=Re,Re.segment=this,Re.otherSE=Ke,this.rightSE=Ke,Ke.segment=this,Ke.otherSE=Re,this.rings=$t,this.windings=Yt}return pe(pr,null,[{key:"compare",value:function(Re,Ke){var $t=Re.leftSE.point.x,Yt=Ke.leftSE.point.x,ur=Re.rightSE.point.x,rn=Ke.rightSE.point.x;if(rn<$t)return 1;if(ur<Yt)return-1;var jr=Re.leftSE.point.y,Gr=Ke.leftSE.point.y,_n=Re.rightSE.point.y,En=Ke.rightSE.point.y;if($t<Yt){if(Gr<jr&&Gr<_n)return 1;if(Gr>jr&&Gr>_n)return-1;var Tn=Re.comparePoint(Ke.leftSE.point);if(Tn<0)return 1;if(Tn>0)return-1;var Ln=Ke.comparePoint(Re.rightSE.point);return Ln!==0?Ln:-1}if($t>Yt){if(jr<Gr&&jr<En)return-1;if(jr>Gr&&jr>En)return 1;var D=Ke.comparePoint(Re.leftSE.point);if(D!==0)return D;var _=Re.comparePoint(Ke.rightSE.point);return _<0?1:_>0?-1:1}if(jr<Gr)return-1;if(jr>Gr)return 1;if(ur<rn){var A=Ke.comparePoint(Re.rightSE.point);if(A!==0)return A}if(ur>rn){var L=Re.comparePoint(Ke.rightSE.point);if(L<0)return 1;if(L>0)return-1}if(ur!==rn){var G=_n-jr,H=ur-$t,ee=En-Gr,ae=rn-Yt;if(G>H&&ee<ae)return 1;if(G<H&&ee>ae)return-1}return ur>rn?1:ur<rn||_n<En?-1:_n>En?1:Re.id<Ke.id?-1:Re.id>Ke.id?1:0}}]),pe(pr,[{key:"replaceRightSE",value:function(Re){this.rightSE=Re,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var Re=this.leftSE.point.y,Ke=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:Re<Ke?Re:Ke},ur:{x:this.rightSE.point.x,y:Re>Ke?Re:Ke}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(Re){return Re.x===this.leftSE.point.x&&Re.y===this.leftSE.point.y||Re.x===this.rightSE.point.x&&Re.y===this.rightSE.point.y}},{key:"comparePoint",value:function(Re){if(this.isAnEndpoint(Re))return 0;var Ke=this.leftSE.point,$t=this.rightSE.point,Yt=this.vector();if(Ke.x===$t.x)return Re.x===Ke.x?0:Re.x<Ke.x?1:-1;var ur=(Re.y-Ke.y)/Yt.y,rn=Ke.x+ur*Yt.x;if(Re.x===rn)return 0;var jr=(Re.x-Ke.x)/Yt.x,Gr=Ke.y+jr*Yt.y;return Re.y===Gr?0:Re.y<Gr?-1:1}},{key:"getIntersection",value:function(Re){var Ke=this.bbox(),$t=Re.bbox(),Yt=Lt(Ke,$t);if(Yt===null)return null;var ur=this.leftSE.point,rn=this.rightSE.point,jr=Re.leftSE.point,Gr=Re.rightSE.point,_n=At(Ke,jr)&&this.comparePoint(jr)===0,En=At($t,ur)&&Re.comparePoint(ur)===0,Tn=At(Ke,Gr)&&this.comparePoint(Gr)===0,Ln=At($t,rn)&&Re.comparePoint(rn)===0;if(En&&_n)return Ln&&!Tn?rn:!Ln&&Tn?Gr:null;if(En)return Tn&&ur.x===Gr.x&&ur.y===Gr.y?null:ur;if(_n)return Ln&&rn.x===jr.x&&rn.y===jr.y?null:jr;if(Ln&&Tn)return null;if(Ln)return rn;if(Tn)return Gr;var D=function(_,A,L,G){if(A.x===0)return Rn(L,G,_.x);if(G.x===0)return Rn(_,A,L.x);if(A.y===0)return fn(L,G,_.y);if(G.y===0)return fn(_,A,L.y);var H=Wt(A,G);if(H==0)return null;var ee={x:L.x-_.x,y:L.y-_.y},ae=Wt(ee,A)/H,de=Wt(ee,G)/H;return{x:(_.x+de*A.x+(L.x+ae*G.x))/2,y:(_.y+de*A.y+(L.y+ae*G.y))/2}}(ur,this.vector(),jr,Re.vector());return D===null?null:At(Yt,D)?vt.round(D.x,D.y):null}},{key:"split",value:function(Re){var Ke=[],$t=Re.events!==void 0,Yt=new An(Re,!0),ur=new An(Re,!1),rn=this.rightSE;this.replaceRightSE(ur),Ke.push(ur),Ke.push(Yt);var jr=new pr(Yt,rn,this.rings.slice(),this.windings.slice());return An.comparePoints(jr.leftSE.point,jr.rightSE.point)>0&&jr.swapEvents(),An.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),$t&&(Yt.checkForConsuming(),ur.checkForConsuming()),Ke}},{key:"swapEvents",value:function(){var Re=this.rightSE;this.rightSE=this.leftSE,this.leftSE=Re,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var Ke=0,$t=this.windings.length;Ke<$t;Ke++)this.windings[Ke]*=-1}},{key:"consume",value:function(Re){for(var Ke=this,$t=Re;Ke.consumedBy;)Ke=Ke.consumedBy;for(;$t.consumedBy;)$t=$t.consumedBy;var Yt=pr.compare(Ke,$t);if(Yt!==0){if(Yt>0){var ur=Ke;Ke=$t,$t=ur}if(Ke.prev===$t){var rn=Ke;Ke=$t,$t=rn}for(var jr=0,Gr=$t.rings.length;jr<Gr;jr++){var _n=$t.rings[jr],En=$t.windings[jr],Tn=Ke.rings.indexOf(_n);Tn===-1?(Ke.rings.push(_n),Ke.windings.push(En)):Ke.windings[Tn]+=En}$t.rings=null,$t.windings=null,$t.consumedBy=Ke,$t.leftSE.consumedBy=Ke.leftSE,$t.rightSE.consumedBy=Ke.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var Re=this.prev.consumedBy||this.prev;this._beforeState=Re.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var Re=this.beforeState();this._afterState={rings:Re.rings.slice(0),windings:Re.windings.slice(0),multiPolys:[]};for(var Ke=this._afterState.rings,$t=this._afterState.windings,Yt=this._afterState.multiPolys,ur=0,rn=this.rings.length;ur<rn;ur++){var jr=this.rings[ur],Gr=this.windings[ur],_n=Ke.indexOf(jr);_n===-1?(Ke.push(jr),$t.push(Gr)):$t[_n]+=Gr}for(var En=[],Tn=[],Ln=0,D=Ke.length;Ln<D;Ln++)if($t[Ln]!==0){var _=Ke[Ln],A=_.poly;if(Tn.indexOf(A)===-1)if(_.isExterior)En.push(A);else{Tn.indexOf(A)===-1&&Tn.push(A);var L=En.indexOf(_.poly);L!==-1&&En.splice(L,1)}}for(var G=0,H=En.length;G<H;G++){var ee=En[G].multiPoly;Yt.indexOf(ee)===-1&&Yt.push(ee)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var Re=this.beforeState().multiPolys,Ke=this.afterState().multiPolys;switch(Yi.type){case"union":var $t=Re.length===0,Yt=Ke.length===0;this._isInResult=$t!==Yt;break;case"intersection":var ur,rn;Re.length<Ke.length?(ur=Re.length,rn=Ke.length):(ur=Ke.length,rn=Re.length),this._isInResult=rn===Yi.numMultiPolys&&ur<rn;break;case"xor":var jr=Math.abs(Re.length-Ke.length);this._isInResult=jr%2==1;break;case"difference":var Gr=function(_n){return _n.length===1&&_n[0].isSubject};this._isInResult=Gr(Re)!==Gr(Ke);break;default:throw new Error("Unrecognized operation type found ".concat(Yi.type))}return this._isInResult}}],[{key:"fromRing",value:function(Re,Ke,$t){var Yt,ur,rn,jr=An.comparePoints(Re,Ke);if(jr<0)Yt=Re,ur=Ke,rn=1;else{if(!(jr>0))throw new Error("Tried to create degenerate segment at [".concat(Re.x,", ").concat(Re.y,"]"));Yt=Ke,ur=Re,rn=-1}return new pr(new An(Yt,!0),new An(ur,!1),[$t],[rn])}}]),pr}(),Gn=function(){function pr(Re,Ke,$t){if(J(this,pr),!Array.isArray(Re)||Re.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=Ke,this.isExterior=$t,this.segments=[],typeof Re[0][0]!="number"||typeof Re[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Yt=vt.round(Re[0][0],Re[0][1]);this.bbox={ll:{x:Yt.x,y:Yt.y},ur:{x:Yt.x,y:Yt.y}};for(var ur=Yt,rn=1,jr=Re.length;rn<jr;rn++){if(typeof Re[rn][0]!="number"||typeof Re[rn][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Gr=vt.round(Re[rn][0],Re[rn][1]);Gr.x===ur.x&&Gr.y===ur.y||(this.segments.push(fi.fromRing(ur,Gr,this)),Gr.x<this.bbox.ll.x&&(this.bbox.ll.x=Gr.x),Gr.y<this.bbox.ll.y&&(this.bbox.ll.y=Gr.y),Gr.x>this.bbox.ur.x&&(this.bbox.ur.x=Gr.x),Gr.y>this.bbox.ur.y&&(this.bbox.ur.y=Gr.y),ur=Gr)}Yt.x===ur.x&&Yt.y===ur.y||this.segments.push(fi.fromRing(ur,Yt,this))}return pe(pr,[{key:"getSweepEvents",value:function(){for(var Re=[],Ke=0,$t=this.segments.length;Ke<$t;Ke++){var Yt=this.segments[Ke];Re.push(Yt.leftSE),Re.push(Yt.rightSE)}return Re}}]),pr}(),Ni=function(){function pr(Re,Ke){if(J(this,pr),!Array.isArray(Re))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Gn(Re[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var $t=1,Yt=Re.length;$t<Yt;$t++){var ur=new Gn(Re[$t],this,!1);ur.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=ur.bbox.ll.x),ur.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=ur.bbox.ll.y),ur.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=ur.bbox.ur.x),ur.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=ur.bbox.ur.y),this.interiorRings.push(ur)}this.multiPoly=Ke}return pe(pr,[{key:"getSweepEvents",value:function(){for(var Re=this.exteriorRing.getSweepEvents(),Ke=0,$t=this.interiorRings.length;Ke<$t;Ke++)for(var Yt=this.interiorRings[Ke].getSweepEvents(),ur=0,rn=Yt.length;ur<rn;ur++)Re.push(Yt[ur]);return Re}}]),pr}(),$o=function(){function pr(Re,Ke){if(J(this,pr),!Array.isArray(Re))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof Re[0][0][0]=="number"&&(Re=[Re])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var $t=0,Yt=Re.length;$t<Yt;$t++){var ur=new Ni(Re[$t],this);ur.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=ur.bbox.ll.x),ur.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=ur.bbox.ll.y),ur.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=ur.bbox.ur.x),ur.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=ur.bbox.ur.y),this.polys.push(ur)}this.isSubject=Ke}return pe(pr,[{key:"getSweepEvents",value:function(){for(var Re=[],Ke=0,$t=this.polys.length;Ke<$t;Ke++)for(var Yt=this.polys[Ke].getSweepEvents(),ur=0,rn=Yt.length;ur<rn;ur++)Re.push(Yt[ur]);return Re}}]),pr}(),aa=function(){function pr(Re){J(this,pr),this.events=Re;for(var Ke=0,$t=Re.length;Ke<$t;Ke++)Re[Ke].segment.ringOut=this;this.poly=null}return pe(pr,null,[{key:"factory",value:function(Re){for(var Ke=[],$t=0,Yt=Re.length;$t<Yt;$t++){var ur=Re[$t];if(ur.isInResult()&&!ur.ringOut){for(var rn=null,jr=ur.leftSE,Gr=ur.rightSE,_n=[jr],En=jr.point,Tn=[];rn=jr,jr=Gr,_n.push(jr),jr.point!==En;)for(;;){var Ln=jr.getAvailableLinkedEvents();if(Ln.length===0){var D=_n[0].point,_=_n[_n.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(D.x,",")+" ".concat(D.y,"]. Last matching segment found ends at")+" [".concat(_.x,", ").concat(_.y,"]."))}if(Ln.length===1){Gr=Ln[0].otherSE;break}for(var A=null,L=0,G=Tn.length;L<G;L++)if(Tn[L].point===jr.point){A=L;break}if(A===null){Tn.push({index:_n.length,point:jr.point});var H=jr.getLeftmostComparator(rn);Gr=Ln.sort(H)[0].otherSE;break}var ee=Tn.splice(A)[0],ae=_n.splice(ee.index);ae.unshift(ae[0].otherSE),Ke.push(new pr(ae.reverse()))}Ke.push(new pr(_n))}}return Ke}}]),pe(pr,[{key:"getGeom",value:function(){for(var Re=this.events[0].point,Ke=[Re],$t=1,Yt=this.events.length-1;$t<Yt;$t++){var ur=this.events[$t].point,rn=this.events[$t+1].point;Ir(ur,Re,rn)!==0&&(Ke.push(ur),Re=ur)}if(Ke.length===1)return null;var jr=Ke[0],Gr=Ke[1];Ir(jr,Re,Gr)===0&&Ke.shift(),Ke.push(Ke[0]);for(var _n=this.isExteriorRing()?1:-1,En=this.isExteriorRing()?0:Ke.length-1,Tn=this.isExteriorRing()?Ke.length:-1,Ln=[],D=En;D!=Tn;D+=_n)Ln.push([Ke[D].x,Ke[D].y]);return Ln}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var Re=this.enclosingRing();this._isExteriorRing=!Re||!Re.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var Re=this.events[0],Ke=1,$t=this.events.length;Ke<$t;Ke++){var Yt=this.events[Ke];An.compare(Re,Yt)>0&&(Re=Yt)}for(var ur=Re.segment.prevInResult(),rn=ur?ur.prevInResult():null;;){if(!ur)return null;if(!rn)return ur.ringOut;if(rn.ringOut!==ur.ringOut)return rn.ringOut.enclosingRing()!==ur.ringOut?ur.ringOut:ur.ringOut.enclosingRing();ur=rn.prevInResult(),rn=ur?ur.prevInResult():null}}}]),pr}(),zo=function(){function pr(Re){J(this,pr),this.exteriorRing=Re,Re.poly=this,this.interiorRings=[]}return pe(pr,[{key:"addInterior",value:function(Re){this.interiorRings.push(Re),Re.poly=this}},{key:"getGeom",value:function(){var Re=[this.exteriorRing.getGeom()];if(Re[0]===null)return null;for(var Ke=0,$t=this.interiorRings.length;Ke<$t;Ke++){var Yt=this.interiorRings[Ke].getGeom();Yt!==null&&Re.push(Yt)}return Re}}]),pr}(),to=function(){function pr(Re){J(this,pr),this.rings=Re,this.polys=this._composePolys(Re)}return pe(pr,[{key:"getGeom",value:function(){for(var Re=[],Ke=0,$t=this.polys.length;Ke<$t;Ke++){var Yt=this.polys[Ke].getGeom();Yt!==null&&Re.push(Yt)}return Re}},{key:"_composePolys",value:function(Re){for(var Ke=[],$t=0,Yt=Re.length;$t<Yt;$t++){var ur=Re[$t];if(!ur.poly)if(ur.isExteriorRing())Ke.push(new zo(ur));else{var rn=ur.enclosingRing();rn.poly||Ke.push(new zo(rn)),rn.poly.addInterior(ur)}}return Ke}}]),pr}(),sa=function(){function pr(Re){var Ke=arguments.length>1&&arguments[1]!==void 0?arguments[1]:fi.compare;J(this,pr),this.queue=Re,this.tree=new et(Ke),this.segments=[]}return pe(pr,[{key:"process",value:function(Re){var Ke=Re.segment,$t=[];if(Re.consumedBy)return Re.isLeft?this.queue.remove(Re.otherSE):this.tree.remove(Ke),$t;var Yt=Re.isLeft?this.tree.insert(Ke):this.tree.find(Ke);if(!Yt)throw new Error("Unable to find segment #".concat(Ke.id," ")+"[".concat(Ke.leftSE.point.x,", ").concat(Ke.leftSE.point.y,"] -> ")+"[".concat(Ke.rightSE.point.x,", ").concat(Ke.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var ur=Yt,rn=Yt,jr=void 0,Gr=void 0;jr===void 0;)(ur=this.tree.prev(ur))===null?jr=null:ur.key.consumedBy===void 0&&(jr=ur.key);for(;Gr===void 0;)(rn=this.tree.next(rn))===null?Gr=null:rn.key.consumedBy===void 0&&(Gr=rn.key);if(Re.isLeft){var _n=null;if(jr){var En=jr.getIntersection(Ke);if(En!==null&&(Ke.isAnEndpoint(En)||(_n=En),!jr.isAnEndpoint(En)))for(var Tn=this._splitSafely(jr,En),Ln=0,D=Tn.length;Ln<D;Ln++)$t.push(Tn[Ln])}var _=null;if(Gr){var A=Gr.getIntersection(Ke);if(A!==null&&(Ke.isAnEndpoint(A)||(_=A),!Gr.isAnEndpoint(A)))for(var L=this._splitSafely(Gr,A),G=0,H=L.length;G<H;G++)$t.push(L[G])}if(_n!==null||_!==null){var ee=null;ee=_n===null?_:_===null||An.comparePoints(_n,_)<=0?_n:_,this.queue.remove(Ke.rightSE),$t.push(Ke.rightSE);for(var ae=Ke.split(ee),de=0,me=ae.length;de<me;de++)$t.push(ae[de])}$t.length>0?(this.tree.remove(Ke),$t.push(Re)):(this.segments.push(Ke),Ke.prev=jr)}else{if(jr&&Gr){var we=jr.getIntersection(Gr);if(we!==null){if(!jr.isAnEndpoint(we))for(var Ae=this._splitSafely(jr,we),ze=0,Xe=Ae.length;ze<Xe;ze++)$t.push(Ae[ze]);if(!Gr.isAnEndpoint(we))for(var Fe=this._splitSafely(Gr,we),Ge=0,It=Fe.length;Ge<It;Ge++)$t.push(Fe[Ge])}}this.tree.remove(Ke)}return $t}},{key:"_splitSafely",value:function(Re,Ke){this.tree.remove(Re);var $t=Re.rightSE;this.queue.remove($t);var Yt=Re.split(Ke);return Yt.push($t),Re.consumedBy===void 0&&this.tree.insert(Re),Yt}}]),pr}(),Vi=x!==void 0&&x.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,$s=x!==void 0&&x.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Yi=new(function(){function pr(){J(this,pr)}return pe(pr,[{key:"run",value:function(Re,Ke,$t){Yi.type=Re,vt.reset();for(var Yt=[new $o(Ke,!0)],ur=0,rn=$t.length;ur<rn;ur++)Yt.push(new $o($t[ur],!1));if(Yi.numMultiPolys=Yt.length,Yi.type==="difference")for(var jr=Yt[0],Gr=1;Gr<Yt.length;)Lt(Yt[Gr].bbox,jr.bbox)!==null?Gr++:Yt.splice(Gr,1);if(Yi.type==="intersection"){for(var _n=0,En=Yt.length;_n<En;_n++)for(var Tn=Yt[_n],Ln=_n+1,D=Yt.length;Ln<D;Ln++)if(Lt(Tn.bbox,Yt[Ln].bbox)===null)return[]}for(var _=new et(An.compare),A=0,L=Yt.length;A<L;A++)for(var G=Yt[A].getSweepEvents(),H=0,ee=G.length;H<ee;H++)if(_.insert(G[H]),_.size>Vi)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var ae=new sa(_),de=_.size,me=_.pop();me;){var we=me.key;if(_.size===de){var Ae=we.segment;throw new Error("Unable to pop() ".concat(we.isLeft?"left":"right"," SweepEvent ")+"[".concat(we.point.x,", ").concat(we.point.y,"] from segment #").concat(Ae.id," ")+"[".concat(Ae.leftSE.point.x,", ").concat(Ae.leftSE.point.y,"] -> ")+"[".concat(Ae.rightSE.point.x,", ").concat(Ae.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(_.size>Vi)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(ae.segments.length>$s)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var ze=ae.process(we),Xe=0,Fe=ze.length;Xe<Fe;Xe++){var Ge=ze[Xe];Ge.consumedBy===void 0&&_.insert(Ge)}de=_.size,me=_.pop()}vt.reset();var It=aa.factory(ae.segments);return new to(It).getGeom()}}]),pr}());return{union:function(pr){for(var Re=arguments,Ke=arguments.length,$t=new Array(Ke>1?Ke-1:0),Yt=1;Yt<Ke;Yt++)$t[Yt-1]=Re[Yt];return Yi.run("union",pr,$t)},intersection:function(pr){for(var Re=arguments,Ke=arguments.length,$t=new Array(Ke>1?Ke-1:0),Yt=1;Yt<Ke;Yt++)$t[Yt-1]=Re[Yt];return Yi.run("intersection",pr,$t)},xor:function(pr){for(var Re=arguments,Ke=arguments.length,$t=new Array(Ke>1?Ke-1:0),Yt=1;Yt<Ke;Yt++)$t[Yt-1]=Re[Yt];return Yi.run("xor",pr,$t)},difference:function(pr){for(var Re=arguments,Ke=arguments.length,$t=new Array(Ke>1?Ke-1:0),Yt=1;Yt<Ke;Yt++)$t[Yt-1]=Re[Yt];return Yi.run("difference",pr,$t)}}}()});function ba(z,W,J){J===void 0&&(J={});var ue={type:"Feature"};return(J.id===0||J.id)&&(ue.id=J.id),J.bbox&&(ue.bbox=J.bbox),ue.properties=W||{},ue.geometry=z,ue}function ws(z,W){var J=Hi(z),ue=Hi(W),pe=z.properties||{},Se=El.difference(J.coordinates,ue.coordinates);return Se.length===0?null:Se.length===1?function(Pe,qe,Ue){Ue===void 0&&(Ue={});for(var dt=0,et=Pe;dt<et.length;dt++){var At=et[dt];if(At.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Lt=0;Lt<At[At.length-1].length;Lt++)if(At[At.length-1][Lt]!==At[0][Lt])throw new Error("First and last Position are not equivalent.")}return ba({type:"Polygon",coordinates:Pe},qe,Ue)}(Se[0],pe):function(Pe,qe,Ue){return Ue===void 0&&(Ue={}),ba({type:"MultiPolygon",coordinates:Pe},qe,Ue)}(Se,pe)}var Gl={onSetup:function(){var z=this.getSelected().filter(function(W){return W.type==="Polygon"||W.type==="MultiPolygon"}).map(function(W){return W.toGeoJSON()});if(z.length<1)throw new Error("Please select a feature/features (Polygon or MultiPolygon) to split!");return{main:z}},toDisplayFeatures:function(z,W,J){var ue=this;J(W),this.changeMode("passing_mode_polygon",function(pe){z.main.forEach(function(Se,Pe){if(Se.geometry.type===rt||Se.geometry.type===je){var qe=ws(Se,pe),Ue=ue.newFeature(qe);Ue.id=Se.id,ue.addFeature(Ue)}else console.info("The feature is not Polygon/MultiPolygon!")})})}},dl=function(z,W){var J={options:z=function(Se){Se===void 0&&(Se={});var Pe=ct(Se);return Se.controls||(Pe.controls={}),Se.displayControlsDefault===!1?Pe.controls=ct(Z,Se.controls):Pe.controls=ct(Yo,Se.controls),(Pe=ct(La,Pe)).styles=ie(Pe.styles,"cold",Se).concat(ie(Pe.styles,"hot",Se)),Pe}(z)};W=Me(J,W),J.api=W;var ue=Et(J);if(W.undo=ue.undoHistory,W.redo=ue.redoHistory,W.onAdd=ue.onAdd,W.onRemove=ue.onRemove,W.types=Ee,W.options=z,z.api)for(var pe in z.api)W[pe]=z.api[pe];return W},Tl=Object.assign({},bo,{draw_point:Xa,draw_polygon:ra,draw_line_string:Ya,draw_circle:ia,draw_rectangle:na,direct_select:fo,simple_select:ul,splitLineMode:al,cutPolygonMode:Gl,passing_mode_line_string:oa(bo.draw_line_string),passing_mode_polygon:oa(bo.draw_polygon)});function hl(){return{modes:Tl,styles:_s,userProperties:!0,snap:!0,snapOptions:{snapPx:15,snapToMidPoints:!1,snapVertexPriorityDistance:1.25},guides:!0,addControls:Ms,controls:As}}function Ys(z){z===void 0&&(z={});var W=hl(),J=Object.assign({},W,z);if(z.addControls){for(var ue=0,pe=z.addControls;ue<pe.length;ue+=1){var Se=pe[ue];z.controls&&z.controls[Se.id]===!1||(J.controls[Se.id]=!0)}J.addControls=[].concat(W.addControls);for(var Pe=0,qe=z.addControls;Pe<qe.length;Pe+=1){for(var Ue=qe[Pe],dt=!1,et=0;et<W.addControls.length;et++)if(W.addControls[et].id==Ue.id){dt=!0;break}dt||J.addControls.push(Ue)}}return z.api&&z.api.getSnapFeatures&&(J.api=J.api||{},J.api.getSnapFeatures=z.api.getSnapFeatures),J.styleId||(J.styleId="_"+Math.floor(65535*Math.random()).toString(32)),dl(J,this)}function Ma(z,W,J){return J===void 0&&(J={}),new Promise(function(ue,pe){var Se=z.isInteracting();z.setIsInteracting(!0),J.isActionDrawMode=!0;var Pe=new Ys(J);z.addControl(Pe,"top-left"),J.drawContext=Pe,z.getCanvas().focus(),Pe.changeMode(W);var qe=null,Ue=function(Lt){Lt.styleId==Pe.options.styleId&&(qe=Lt)},dt=function(Lt){Lt.styleId==Pe.options.styleId&&(At(),qe?(z.setIsInteracting(Se),ue(qe)):(setTimeout(function(){return z.setIsInteracting(Se)},500),ue(Object.assign({},qe,{cancel:!0}))))},et=function(Lt){Lt.styleId==Pe.options.styleId&&typeof J.updatecoordinate=="function"&&J.updatecoordinate(Lt)},At=function(){z.off("draw.create",Ue),z.off("draw.modechange",dt),z.off("draw.updatecoordinate",et),z.removeControl(Pe)};z.on("draw.create",Ue),z.on("draw.modechange",dt),z.on("draw.updatecoordinate",et)})}f.SnapLineMode=Ya,f.SnapModeDrawStyles=_s,f.SnapPointMode=Xa,f.SnapPolygonMode=ra,f.SnapRectangleMode=na,f.Tool=Ys,f.actionDraw=Ma,f.actionDrawCircle=function(z,W){return W===void 0&&(W={}),Ma(z,"draw_circle",W)},f.actionDrawLineSting=function(z,W){return W===void 0&&(W={}),Ma(z,"draw_line_string",W)},f.actionDrawPoint=function(z,W){return W===void 0&&(W={}),Ma(z,"draw_point",W)},f.actionDrawPolygon=function(z,W){return W===void 0&&(W={}),Ma(z,"draw_polygon",W)},f.actionDrawRectangle=function(z,W){return W===void 0&&(W={}),Ma(z,"draw_rectangle",W)},f.defaultOptions=hl,f.modes=Tl,Object.defineProperty(f,"__esModule",{value:!0})});const u=Object.assign({},C);r.Draw=u}).call(this,l(171),l(31))},function(e,r){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}e.exports=l}])})})(vjmap_min);var vjmap=getDefaultExportFromCjs(vjmap_min.exports);const defaultServiceUrl="https://vjmap.com/server/api/v1",defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJJRCI6MiwiVXNlcm5hbWUiOiJhZG1pbjEiLCJOaWNrTmFtZSI6ImFkbWluMSIsIkF1dGhvcml0eUlkIjoiYWRtaW4iLCJCdWZmZXJUaW1lIjo4NjQwMCwiZXhwIjoxOTQyMzg5NTc0LCJpc3MiOiJ2am1hcCIsIm5iZiI6MTYyNzAyODU3NH0.VQchVXxgjl5aCp3j3Uf5U2Mpk1NJNirH62Ys-8XOfnY",useAppStore=defineStore({id:"vjmap-app",state:()=>({lightTheme:!1,serviceUrl:defaultServiceUrl,accessToken:defaultAccessToken,curMapId:"",curVersion:"",mapInfos:{},myMapIds:[],myViewPorts:{},myAnnotataions:new Object,annoIdDivOverlay:{},dataDisplayIdName:{},snapQueryLimit:0,showNavigationControl:!0,showMousePositionControl:!0,showMapExportControl:!0}),actions:{setTheme(e){this.lightTheme=e},setCurMapIdVer(e,r){this.curMapId=e,this.curVersion=r!=null?r:""},getVerInfo(e){var l;let r="";return this.curVersion!="v1"&&(r=(l=this.curVersion)!=null?l:""),r?e+r:""},saveViewPort(e){const r=`${e.mapId}_${e.version}`,l=this.myViewPorts;l[r]=l[r]||[],e.id=e.id||vjmap.RandomID(),l[r].push(e)},removeViewPort(e,r,l){const g=`${e}_${r}`,x=this.myViewPorts;x[g]=x[g]||[],x[g].splice(x[g].findIndex(C=>C.id===l),1)},getAnnotatation(){return this.myAnnotataions},saveAnnotataion(e){const r=`${e.mapId}_${e.version}`,l=this.myAnnotataions;l[r]=l[r]||[],l.id=l.id||vjmap.RandomID();const g=l[r].findIndex(x=>x.id===l.id);g>=0?l[r][g]=l:l[r].push(e)},removeAnnotataion(e,r,l){const g=`${e}_${r}`,x=this.myAnnotataions;x[g]=x[g]||[],x[g].splice(x[g].findIndex(C=>C.id===l),1)},addMyMapId(e){const r=e;this.myMapIds.includes(r)||this.myMapIds.push(r)},addDataDisplayIdName(e,r,l){if(!e)return;const g=this.dataDisplayIdName;g[e]=g[e]||[],g[e].push({id:r,name:l})},getDataDisplayIdName(e){return this.dataDisplayIdName[e]||[]},async getMapInfos(){try{const e=new vjmap.Service(this.serviceUrl,this.accessToken);this.mapInfos=await e.listMaps("","*")}catch(e){console.error(e)}}}}),data$t=getToken();let token="",account="";var Sh;if(data$t){const e=JSON.parse(data$t);e&&(token=e==null?void 0:e.accessToken,account=(Sh=e==null?void 0:e.account)!=null?Sh:"admin")}const useUserStore=defineStore({id:"pure-user",state:()=>({token,account}),actions:{SET_TOKEN(e){this.token=e},SET_NAME(e){this.account=e},loginByUsername(e){return new Promise((r,l)=>{getLogin(e).then(g=>{g.success&&g.data!=null&&setToken(g.data),r(g)}).catch(g=>{l(g)})})},logOut(){this.token="",this.account="",removeToken(),storageLocal.clear(),storageSession.clear(),useFlowTaskStoreHook().$reset(),useOperationStoreHook().$reset(),usePermissionStoreHook().$reset(),useAppStore().$reset(),useMultiTagsStoreHook().handleTags("equal",[{path:"/welcome",parentPath:"/",meta:{title:"\u9996\u9875",icon:"home-filled"}}])},async refreshToken(e){return refreshToken(e).then(r=>{if(r)return setToken(r),r})}}});function useUserStoreHook(){return useUserStore(store)}const TokenKey="authorized-token";function getToken(){return api.get("authorized-token")}function setToken(e){const{accessToken:r,expires:l,account:g}=e,x={account:g,expires:Date.now()+parseInt(l),accessToken:r},C=JSON.stringify(x),u=864e5;useUserStoreHook().SET_TOKEN(r),useUserStoreHook().SET_NAME(g),l>0?api.set(TokenKey,C,{expires:l/u}):api.set(TokenKey,C),sessionStorage.setItem(TokenKey,C)}function removeToken(){api.remove(TokenKey),sessionStorage.removeItem(TokenKey)}const{VITE_PROXY_DOMAIN,VITE_PROXY_DOMAIN_REAL}=loadEnv(),defaultConfig$1={baseURL:VITE_PROXY_DOMAIN_REAL,timeout:1e4,headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},paramsSerializer:e=>lib.stringify(e,{indices:!1})},dc=class{constructor(){this.httpInterceptorsRequest(),this.httpInterceptorsResponse()}httpInterceptorsRequest(){dc.axiosInstance.interceptors.request.use(r=>{const l=r;if(NProgress.start(),typeof r.beforeRequestCallback=="function")return r.beforeRequestCallback(l),l;const g=getToken();if(g){const x=JSON.parse(g),C=new Date().getTime();if(parseInt(x.expires)-C<=0)useUserStoreHook().refreshToken(x).then(f=>(r.headers.Authorization="Bearer "+f.accessToken,l));else return r.headers.Authorization="Bearer "+x.accessToken,l}else return l},r=>Promise.reject(r))}httpInterceptorsResponse(){dc.axiosInstance.interceptors.response.use(l=>{const g=l.config;return NProgress.done(),typeof g.beforeResponseCallback=="function"&&g.beforeResponseCallback(l),l.data},l=>{const g=l;return g.isCancelRequest=axios.isCancel(g),NProgress.done(),Promise.reject(g)})}request(r,l,g,x){const C=gi(gi({method:r,url:l},g),x);return new Promise((u,f)=>{dc.axiosInstance.request(C).then(n=>{u(n)}).catch(n=>{f(n)})})}post(r,l,g){return this.request("post",r,l,g)}get(r,l,g){return this.request("get",r,l,g)}};let PureHttp=dc;zc(PureHttp,"initConfig",{}),zc(PureHttp,"axiosInstance",axios.create(defaultConfig$1));const http=new PureHttp,getAsyncRoutes=e=>http.request("get","/getAsyncRoutes",{params:e}),modulesRoutes={"/src/views/login.vue":()=>__vitePreload(()=>import("./login.becc63ff.js"),["assets/login.becc63ff.js","assets/login.746f1cf2.css","assets/el-message.8225f88b.css","assets/element-plus.ab042766.js","assets/illustration6.b6b28d8b.js","assets/vform3-plus.5c4eeb71.js"]),"/src/views/redirect.vue":()=>__vitePreload(()=>import("./redirect.16303937.js"),["assets/redirect.16303937.js","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js"]),"/src/views/register.vue":()=>__vitePreload(()=>import("./register.ec908340.js"),["assets/register.ec908340.js","assets/register.ee30a8cd.css","assets/el-message.8225f88b.css","assets/illustration6.b6b28d8b.js","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js"]),"/src/views/welcome.vue":()=>__vitePreload(()=>import("./welcome.6f39c7ff.js"),["assets/welcome.6f39c7ff.js","assets/welcome.d3e0676a.css","assets/echarts.0e9f7660.js","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js"]),"/src/views/editor/index.vue":()=>__vitePreload(()=>import("./index.85a49bbe.js"),["assets/index.85a49bbe.js","assets/index.3dd8b1e9.css","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js"]),"/src/views/error/401.vue":()=>__vitePreload(()=>import("./401.9fba2de3.js"),["assets/401.9fba2de3.js","assets/401.6d30f9ff.css","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js"]),"/src/views/error/404.vue":()=>__vitePreload(()=>import("./404.154d9594.js"),["assets/404.154d9594.js","assets/404.1868fe29.css","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js"]),"/src/views/flow-task/index.vue":()=>__vitePreload(()=>import("./index.3d90b684.js"),["assets/index.3d90b684.js","assets/index.ddb693c4.css","assets/el-message.8225f88b.css","assets/display.8569b2e4.js","assets/display.1dd3e9e2.css","assets/element-plus.ab042766.js","assets/ui.ef5d2b61.js","assets/plugin-vue_export-helper.98d5223b.js","assets/vform3-plus.5c4eeb71.js"]),"/src/views/flow-template/index.vue":()=>__vitePreload(()=>import("./index.2ab3721c.js"),["assets/index.2ab3721c.js","assets/index.927da812.css","assets/el-message.8225f88b.css","assets/index.02b6cd5b.js","assets/index.0c77c3af.css","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js","assets/search.f7aa7366.js","assets/plugin-vue_export-helper.98d5223b.js"]),"/src/views/new-task/index.vue":()=>__vitePreload(()=>import("./index.9571f220.js"),["assets/index.9571f220.js","assets/index.ca4a8509.css","assets/plugin-vue_export-helper.98d5223b.js","assets/element-plus.ab042766.js","assets/upload-filled.b3e74b54.js"]),"/src/views/task-info/index.vue":()=>__vitePreload(()=>import("./index.6c9180c3.js"),["assets/index.6c9180c3.js","assets/index.7fd2d7d4.css","assets/el-message.8225f88b.css","assets/display.8569b2e4.js","assets/display.1dd3e9e2.css","assets/element-plus.ab042766.js","assets/ui.ef5d2b61.js","assets/plugin-vue_export-helper.98d5223b.js","assets/vform3-plus.5c4eeb71.js"]),"/src/views/new-task/base-info/index.vue":()=>__vitePreload(()=>import("./index.7483f916.js"),["assets/index.7483f916.js","assets/index.0662df3e.css","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js"]),"/src/views/new-task/flow-chart/index.vue":()=>__vitePreload(()=>import("./index.f7cf621d.js"),["assets/index.f7cf621d.js","assets/index.c0c6abc1.css","assets/el-message.8225f88b.css","assets/index.02b6cd5b.js","assets/index.0c77c3af.css","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js","assets/search.f7aa7366.js","assets/plugin-vue_export-helper.98d5223b.js"]),"/src/views/new-task/form-design/index.vue":()=>__vitePreload(()=>import("./index.53735a65.js"),["assets/index.53735a65.js","assets/index.7062ee22.css","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js"]),"/src/views/new-task/permission/index.vue":()=>__vitePreload(()=>import("./index.4d43bb19.js"),["assets/index.4d43bb19.js","assets/index.8171d998.css","assets/el-message.8225f88b.css","assets/search.f7aa7366.js","assets/plugin-vue_export-helper.98d5223b.js","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js"]),"/src/views/new-task/upload/index.vue":()=>__vitePreload(()=>import("./index.43cd1060.js"),["assets/index.43cd1060.js","assets/index.9286c14a.css","assets/el-message.8225f88b.css","assets/ui.ef5d2b61.js","assets/element-plus.ab042766.js","assets/upload-filled.b3e74b54.js","assets/plugin-vue_export-helper.98d5223b.js","assets/vform3-plus.5c4eeb71.js"])};function ascending(e){return e.sort((r,l)=>{var g,x;return((g=r==null?void 0:r.meta)==null?void 0:g.rank)-((x=l==null?void 0:l.meta)==null?void 0:x.rank)})}function filterTree$2(e){const r=e.filter(l=>{var g;return((g=l.meta)==null?void 0:g.showLink)!==!1});return r.forEach(l=>l.children&&(l.children=filterTree$2(l.children))),r}function delAliveRoutes(e){e.forEach(r=>{usePermissionStoreHook().cacheOperate({mode:"delete",name:r==null?void 0:r.name})})}function getParentPaths(e,r){function l(g,x,C){for(let u=0;u<g.length;u++){const f=g[u];if(f.path===x)return C;if(!(!f.children||!f.children.length)){if(C.push(f.path),l(f.children,x,C).length)return C;C.pop()}}return[]}return l(r,e,[])}function findRouteByPath(e,r){let l=r.find(g=>g.path==e);if(l)return l;for(let g=0;g<r.length;g++)if(r[g].children instanceof Array&&r[g].children.length>0&&(l=findRouteByPath(e,r[g].children),l))return l;return null}function initRouter(e){return new Promise(r=>{getAsyncRoutes({name:e}).then(({data:l})=>{l.length===0||formatFlatteningRoutes(addAsyncRoutes(l)).map(g=>{router.options.routes[0].children.findIndex(x=>x.path===g.path)===-1&&(router.options.routes[0].children.push(g),ascending(router.options.routes[0].children),router.hasRoute(g==null?void 0:g.name)||router.addRoute(g),r(router))}),usePermissionStoreHook().changeSetting(l),router.addRoute({path:"/:pathMatch(.*)",redirect:"/error/404"})})})}function formatFlatteningRoutes(e){if(e.length===0)return e;for(let r=0;r<e.length;r++)e[r].children&&(e=e.slice(0,r+1).concat(e[r].children,e.slice(r+1)));return e}function formatTwoStageRoutes(e){if(e.length===0)return e;const r=[];return e.forEach(l=>{l.path==="/"?r.push({component:l.component,name:l.name,path:l.path,redirect:l.redirect,meta:l.meta,children:[]}):r[0].children.push(gi({},l))}),r}function handleAliveRoute(e,r){switch(r){case"add":e.forEach(l=>{usePermissionStoreHook().cacheOperate({mode:"add",name:l.name})});break;case"delete":usePermissionStoreHook().cacheOperate({mode:"delete",name:e[e.length-1].name});break;default:usePermissionStoreHook().cacheOperate({mode:"delete",name:e[e.length-1].name}),useTimeoutFn(()=>{e.forEach(l=>{usePermissionStoreHook().cacheOperate({mode:"add",name:l.name})})},100)}}function addAsyncRoutes(e){if(!e||!e.length)return;const r=Object.keys(modulesRoutes);return e.forEach(l=>{if(l.redirect)l.component=Layout;else{const g=r.findIndex(x=>x.includes(l.path));l.component=modulesRoutes[r[g]]}l.children&&addAsyncRoutes(l.children)}),e}function getHistoryMode(){const r=loadEnv().VITE_ROUTER_HISTORY.split(","),l=r[0],g=r[1];if(r.length===1){if(l==="hash")return createWebHashHistory("");if(l==="h5")return createWebHistory("")}else if(r.length===2){if(l==="hash")return createWebHashHistory(g);if(l==="h5")return createWebHistory(g)}}var breadCrumb_vue_vue_type_style_index_0_scoped_true_lang="";const _hoisted_1$i={key:0,class:"no-redirect"},_hoisted_2$f=["onClick"],_sfc_main$c=defineComponent({setup(e){const r=useRoute(),l=ref([]),g=useRouter(),x=g.options.routes,C=useMultiTagsStoreHook().multiTags,u=S=>{const k=S&&S.name;return k?k.trim().toLocaleLowerCase()==="welcome".toLocaleLowerCase():!1},f=()=>{var $;let S;Object.keys(r.query).length>0?C.forEach(R=>{isEqual$3(r.query,R==null?void 0:R.query)&&(S=R)}):S=findRouteByPath(g.currentRoute.value.path,C);const k=getParentPaths(g.currentRoute.value.path,x);let M=[];k.forEach(R=>{R!=="/"&&M.push(findRouteByPath(R,x))}),(($=g.currentRoute.value.meta)==null?void 0:$.refreshRedirect)?M.unshift(findRouteByPath(g.currentRoute.value.meta.refreshRedirect,x)):M=M.filter(R=>!R.redirect||R.redirect&&R.children.length!==1),(S==null?void 0:S.path)!=="/welcome"&&M.push(S);const P=M[0];u(P)||(M=[{path:"/welcome",parentPath:"/",meta:{title:"\u9996\u9875"}}].concat(M)),l.value=M.filter(R=>(R==null?void 0:R.meta)&&(R==null?void 0:R.meta.title)!==!1)};f(),watch(()=>r.path,()=>f()),watch(()=>r.query,()=>f());const n=S=>{const{redirect:k,path:M}=S;if(k){g.push(k.toString());return}g.push(M)};return(S,k)=>{const M=resolveComponent("el-breadcrumb-item"),P=resolveComponent("el-breadcrumb");return openBlock(),createBlock(P,{class:"app-breadcrumb",separator:"/"},{default:withCtx(()=>[createVNode(TransitionGroup,{appear:"",name:"breadcrumb"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,($,R)=>(openBlock(),createBlock(M,{key:$.path},{default:withCtx(()=>[$.redirect==="noRedirect"||R==l.value.length-1?(openBlock(),createElementBlock("span",_hoisted_1$i,toDisplayString($.meta.title),1)):(openBlock(),createElementBlock("a",{key:1,onClick:withModifiers(B=>n($),["prevent"])},toDisplayString($.meta.title),9,_hoisted_2$f))]),_:2},1024))),128))]),_:1})]),_:1})}}});var Breadcrumb=_export_sfc(_sfc_main$c,[["__scopeId","data-v-5caf87e4"]]),index_vue_vue_type_style_index_0_scoped_true_lang$2="";const _sfc_main$b=defineComponent({setup(e){const{isFullscreen:r,toggle:l}=useFullscreen();return(g,x)=>{const C=resolveComponent("FontIcon");return openBlock(),createElementBlock("div",{class:"screen-full",onClick:x[0]||(x[0]=(...u)=>unref(l)&&unref(l)(...u))},[createVNode(C,{title:unref(r)?"\u9000\u51FA\u5168\u5C4F":"\u5168\u5C4F",icon:unref(r)?"team-iconexit-fullscreen":"team-iconfullscreen"},null,8,["title","icon"])])}}});var screenfull=_export_sfc(_sfc_main$b,[["__scopeId","data-v-3f2a5be2"]]),navbar_vue_vue_type_style_index_0_scoped_true_lang="";const _hoisted_1$h={class:"navbar"},_hoisted_2$e={class:"vertical-header-right"},_hoisted_3$c={class:"el-dropdown-link"},_hoisted_4$6=["src"],_hoisted_5$3=createTextVNode("\u9000\u51FA\u7CFB\u7EDF"),_sfc_main$a=defineComponent({setup(e){var f;const r=useAppStoreHook(),l=useRouter();let g=(f=storageLocal.getItem("info"))==null?void 0:f.userInfo.account;const x=()=>{useUserStoreHook().logOut(),l.push("/login")};function C(){emitter.emit("openPanel")}function u(){r.toggleSideBar()}return(n,S)=>{const k=resolveComponent("IconifyIconOffline"),M=resolveComponent("el-dropdown-item"),P=resolveComponent("el-dropdown-menu"),$=resolveComponent("el-dropdown"),R=resolveComponent("el-icon");return openBlock(),createElementBlock("div",_hoisted_1$h,[createVNode(Hamburger,{"is-active":unref(r).sidebar.opened,class:"hamburger-container",onToggleClick:u},null,8,["is-active"]),createVNode(Breadcrumb,{class:"breadcrumb-container"}),createBaseVNode("div",_hoisted_2$e,[createVNode(Notice,{id:"header-notice"}),withDirectives(createVNode(screenfull,{id:"header-screenfull"},null,512),[[vShow,!unref(deviceDetection)()]]),createVNode($,{trigger:"click"},{dropdown:withCtx(()=>[createVNode(P,{class:"logout"},{default:withCtx(()=>[createVNode(M,{onClick:x},{default:withCtx(()=>[createVNode(k,{icon:"logout-circle-r-line",style:{margin:"5px"}}),_hoisted_5$3]),_:1})]),_:1})]),default:withCtx(()=>[createBaseVNode("span",_hoisted_3$c,[createBaseVNode("img",{src:unref(avatars)},null,8,_hoisted_4$6),createBaseVNode("p",null,toDisplayString(unref(g)),1)])]),_:1}),createVNode(R,{class:"el-icon-setting",title:"\u6253\u5F00\u9879\u76EE\u914D\u7F6E",onClick:C},{default:withCtx(()=>[createVNode(k,{icon:"setting"})]),_:1})])])}}});var navbar=_export_sfc(_sfc_main$a,[["__scopeId","data-v-3231ad25"]]);const _hoisted_1$g={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",width:"1em",height:"1em",viewBox:"0 0 36 36"},_hoisted_2$d=createBaseVNode("path",{d:"m19.41 18 8.29-8.29a1 1 0 0 0-1.41-1.41L18 16.59l-8.29-8.3a1 1 0 0 0-1.42 1.42l8.3 8.29-8.3 8.29A1 1 0 1 0 9.7 27.7l8.3-8.29 8.29 8.29a1 1 0 0 0 1.41-1.41z",fill:"currentColor"},null,-1),_hoisted_3$b=[_hoisted_2$d];function render$9(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$g,_hoisted_3$b)}const _hoisted_1$f={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",width:"1em",height:"1em",viewBox:"0 0 512 512"},_hoisted_2$c=createBaseVNode("path",{d:"m400 148-21.12-24.57A191.43 191.43 0 0 0 240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 0 0 181.07-128",fill:"none",stroke:"currentColor","stroke-linecap":"square","stroke-miterlimit":"10","stroke-width":"32"},null,-1),_hoisted_3$a=createBaseVNode("path",{d:"M464 68.45V220a4 4 0 0 1-4 4H308.45a4 4 0 0 1-2.83-6.83L457.17 65.62a4 4 0 0 1 6.83 2.83z",fill:"currentColor"},null,-1),_hoisted_4$5=[_hoisted_2$c,_hoisted_3$a];function render$8(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$f,_hoisted_4$5)}const _hoisted_1$e={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",width:"1em",height:"1em",viewBox:"0 0 36 36"},_hoisted_2$b=createBaseVNode("path",{d:"M26 17H10a1 1 0 0 0 0 2h16a1 1 0 0 0 0-2z",fill:"currentColor"},null,-1),_hoisted_3$9=[_hoisted_2$b];function render$7(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$e,_hoisted_3$9)}const _hoisted_1$d={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",width:"1em",height:"1em",viewBox:"0 0 24 24"},_hoisted_2$a=createBaseVNode("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},[createBaseVNode("path",{d:"m7 12 7 7M7 12l7-7","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M21 12H7.5"}),createBaseVNode("path",{d:"M3 3v18","stroke-linejoin":"round"})],-1),_hoisted_3$8=[_hoisted_2$a];function render$6(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$d,_hoisted_3$8)}const _hoisted_1$c={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",width:"1em",height:"1em",viewBox:"0 0 20 20"},_hoisted_2$9=createBaseVNode("path",{d:"M3 5h14V3H3v2zm12 8V7H5v6h10zM3 17h14v-2H3v2z",fill:"currentColor"},null,-1),_hoisted_3$7=[_hoisted_2$9];function render$5(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$c,_hoisted_3$7)}const _hoisted_1$b={xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",width:"1em",height:"1em",viewBox:"0 0 24 24"},_hoisted_2$8=createBaseVNode("g",{fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"},[createBaseVNode("path",{d:"m17 12-7 7M17 12l-7-7","stroke-linejoin":"round"}),createBaseVNode("path",{d:"M3 12h13.5"}),createBaseVNode("path",{d:"M21 3v18","stroke-linejoin":"round"})],-1),_hoisted_3$6=[_hoisted_2$8];function render$4(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$b,_hoisted_3$6)}const hasClass$1=(e,r)=>!!e.className.match(new RegExp("(\\s|^)"+r+"(\\s|$)")),addClass$1=(e,r,l)=>{hasClass$1(e,r)||(e.className+=" "+r),l&&(hasClass$1(e,l)||(e.className+=" "+l))},removeClass$1=(e,r,l)=>{if(hasClass$1(e,r)){const g=new RegExp("(\\s|^)"+r+"(\\s|$)");e.className=e.className.replace(g," ").trim()}if(l&&hasClass$1(e,l)){const g=new RegExp("(\\s|^)"+l+"(\\s|$)");e.className=e.className.replace(g," ").trim()}},toggleClass=(e,r,l)=>{const g=l||document.body;let{className:x}=g;x=x.replace(r,""),g.className=e?`${x} ${r} `:x};var index_vue_vue_type_style_index_0_scoped_true_lang$1="";const _hoisted_1$a=["onContextmenu","onMouseenter","onMouseleave","onClick"],_hoisted_2$7=["onClick"],_hoisted_3$5={class:"right-button"},_sfc_main$9=defineComponent({setup(e){var je,tt;const r=useRoute(),l=useRouter(),g=ref(0),x=ref(-1);let C="refresh-button";const u=getCurrentInstance(),f=useSettingStoreHook(),n=templateRef("tabDom",null),S=templateRef("containerDom",null),k=templateRef("scrollbarDom",null),M=(je=ref(storageLocal.getItem("responsive-configure").hideTabs))!=null?je:"false";let P=computed(()=>{var We;return(We=useMultiTagsStoreHook())==null?void 0:We.multiTags});const $=computed(()=>We=>Object.keys(r.query).length===0?r.path===We.path?"is-active":"":isEqual$3(r==null?void 0:r.query,We==null?void 0:We.query)?"is-active":""),R=computed(()=>We=>Object.keys(r.query).length===0?r.path===We.path?"schedule-active":"":isEqual$3(r==null?void 0:r.query,We==null?void 0:We.query)?"schedule-active":""),B=computed(()=>(We,Gt)=>{if(Gt!==0)return Object.keys(r.query).length===0?r.path===We.path:!!isEqual$3(r==null?void 0:r.query,We==null?void 0:We.query)}),V=()=>{const We=P.value.findIndex(Gt=>Gt.path===r.path);U(We)};watch([r],()=>{x.value=-1,V()}),useResizeObserver(k,useDebounceFn(()=>{V()},200));const j=10,U=We=>{var ut,Ht;if(!u.refs["dynamic"+We])return;const Gt=u.refs["dynamic"+We][0],gt=Gt==null?void 0:Gt.offsetLeft,Mt=Gt==null?void 0:Gt.offsetWidth,Rt=k.value?(ut=k.value)==null?void 0:ut.offsetWidth:0;(n.value?(Ht=n.value)==null?void 0:Ht.offsetWidth:0)<Rt||gt===0?g.value=0:gt<-g.value?g.value=-gt+j:gt>-g.value&&gt+Mt<-g.value+Rt?g.value=Math.min(0,Rt-Mt-gt-j):g.value=-(gt-(Rt-j-Mt))},q=reactive([{icon:render$8,text:"\u91CD\u65B0\u52A0\u8F7D",divided:!1,disabled:!1,show:!0},{icon:render$9,text:"\u5173\u95ED\u5F53\u524D\u6807\u7B7E\u9875",divided:!1,disabled:!(P.value.length>1),show:!0},{icon:render$6,text:"\u5173\u95ED\u5DE6\u4FA7\u6807\u7B7E\u9875",divided:!0,disabled:!(P.value.length>1),show:!0},{icon:render$4,text:"\u5173\u95ED\u53F3\u4FA7\u6807\u7B7E\u9875",divided:!1,disabled:!(P.value.length>1),show:!0},{icon:render$5,text:"\u5173\u95ED\u5176\u4ED6\u6807\u7B7E\u9875",divided:!0,disabled:!(P.value.length>2),show:!0},{icon:render$7,text:"\u5173\u95ED\u5168\u90E8\u6807\u7B7E\u9875",divided:!1,disabled:!(P.value.length>1),show:!0}]),Y=ref(((tt=storageLocal.getItem("responsive-configure"))==null?void 0:tt.showModel)||"smart");if(!Y.value){const We=storageLocal.getItem("responsive-configure");We.showModel="card",storageLocal.setItem("responsive-configure",We)}let Q=ref(!1),te=ref(0),re=ref(0),oe=ref({});function se(We,Gt){const gt=P.value.some(Rt=>Rt.path===We);function Mt(Rt,Jt,ut){gt||Rt.forEach(Ht=>{let cr=ut+Ht.path;Ht.path===Jt||cr===Jt?useMultiTagsStoreHook().handleTags("push",{path:Jt,parentPath:`/${ut.split("/")[1]}`,meta:Ht.meta,name:Ht.name}):Ht.children&&Ht.children.length>0&&Mt(Ht.children,Jt,ut)})}Mt(l.options.routes,We,Gt)}function fe(){toggleClass(!0,C,document.querySelector(".rotate"));const{fullPath:We,query:Gt}=unref(r);l.replace({path:"/redirect"+We,query:Gt}),setTimeout(()=>{removeClass$1(document.querySelector(".rotate"),C)},600)}function ge(We,Gt,gt){let Mt=[],Rt=P.value.findIndex(Ht=>{if(Ht.query){if(Ht.path===We.path)return Ht.query===We.query}else return Ht.path===We.path});const Jt=(Ht,cr,Vt)=>{Vt?useMultiTagsStoreHook().handleTags("equal",[{path:"/welcome",parentPath:"/",meta:{title:"\u9996\u9875",icon:"home-filled"}},We]):Mt=useMultiTagsStoreHook().handleTags("splice","",{startIndex:Ht,length:cr})};gt==="other"?Jt(1,1,!0):gt==="left"?Jt(1,Rt-1):gt==="right"?Jt(Rt+1,P.value.length):Jt(Rt,1);let ut=useMultiTagsStoreHook().handleTags("slice");if(Gt===r.path){if(gt?delAliveRoutes(Mt):handleAliveRoute(r.matched,"delete"),gt==="left")return;nextTick(()=>{l.push({path:ut[0].path,query:ut[0].query})})}else{if(delAliveRoutes(gt?Mt:[We]),!P.value.length)return;!P.value.some(cr=>cr.path===r.path)&&l.push({path:ut[0].path,query:ut[0].query})}}function Ce(We,Gt){ge(We,We.path,Gt)}function $e(We,Gt,gt){if(Gt&&Gt.disabled)return;let Mt;switch(gt?Mt={path:gt.path,meta:gt.meta,name:gt.name,query:gt.query}:Mt={path:r.path,meta:r.meta},We){case 0:fe();break;case 1:Ce(Mt);break;case 2:Ce(Mt,"left");break;case 3:Ce(Mt,"right");break;case 4:Ce(Mt,"other");break;case 5:useMultiTagsStoreHook().handleTags("splice","",{startIndex:1,length:P.value.length}),usePermissionStoreHook().clearAllCachePage(),l.push("/welcome");break}setTimeout(()=>{rt(r.fullPath,r.query)})}function be(We,Gt){$e(We,Gt,oe.value)}function ke(){Q.value=!1}function Ee(We){Array.of(1,2,3,4,5).forEach(Gt=>{q[Gt].show=We})}function He(We){Array.of(1,2,3,4,5).forEach(Gt=>{q[Gt].disabled=We})}function rt(We,Gt={},gt=!1){let Mt=P.value,Rt=P.value.length,Jt=-1;isEmpty$3(Gt)?Jt=Mt.findIndex(ut=>ut.path===We):Jt=Mt.findIndex(ut=>isEqual$3(ut.query,Gt)),Ee(!0),gt&&(q[0].show=!0),Jt===1&&Rt!==2?(q[2].show=!1,Array.of(1,3,4,5).forEach(ut=>{q[ut].disabled=!1}),q[2].disabled=!0):Jt===1&&Rt===2?(He(!1),Array.of(2,3,4).forEach(ut=>{q[ut].show=!1,q[ut].disabled=!0})):Rt-1===Jt&&Jt!==0?(q[3].show=!1,Array.of(1,2,4,5).forEach(ut=>{q[ut].disabled=!1}),q[3].disabled=!0):He(Jt===0||We==="/redirect/welcome")}function ft(We,Gt){ke(),We.path==="/welcome"?(Ee(!1),q[0].show=!0):r.path!==We.path?(q[0].show=!1,rt(We.path,We.query)):P.value.length===2&&r.path!==We.path?(Ee(!0),q[4].show=!1):r.path===We.path&&rt(We.path,We.query,!0),oe.value=We;const gt=105,Mt=unref(S).getBoundingClientRect().left,Jt=unref(S).offsetWidth-gt,ut=Gt.clientX-Mt+5;ut>Jt?te.value=Jt:te.value=ut,f.hiddenSideBar?re.value=Gt.clientY:re.value=Gt.clientY-40,setTimeout(()=>{Q.value=!0},10)}function bt(We){l.push({path:We==null?void 0:We.path,query:We==null?void 0:We.query}),rt(We==null?void 0:We.path,We==null?void 0:We.query)}function Ye(We){if(We&&(x.value=We),unref(Y)==="smart"){if(hasClass$1(u.refs["schedule"+We][0],"schedule-active"))return;toggleClass(!0,"schedule-in",u.refs["schedule"+We][0]),toggleClass(!1,"schedule-out",u.refs["schedule"+We][0])}else{if(hasClass$1(u.refs["dynamic"+We][0],"card-active"))return;toggleClass(!0,"card-in",u.refs["dynamic"+We][0]),toggleClass(!1,"card-out",u.refs["dynamic"+We][0])}}function De(We){if(x.value=-1,unref(Y)==="smart"){if(hasClass$1(u.refs["schedule"+We][0],"schedule-active"))return;toggleClass(!1,"schedule-in",u.refs["schedule"+We][0]),toggleClass(!0,"schedule-out",u.refs["schedule"+We][0])}else{if(hasClass$1(u.refs["dynamic"+We][0],"card-active"))return;toggleClass(!1,"card-in",u.refs["dynamic"+We][0]),toggleClass(!0,"card-out",u.refs["dynamic"+We][0])}}watch(()=>Q.value,We=>{We?document.body.addEventListener("click",ke):document.body.removeEventListener("click",ke)}),onBeforeMount(()=>{!u||(rt(r.fullPath),emitter.on("tagViewsChange",We=>{unref(M)!==We&&(M.value=We)}),emitter.on("tagViewsShowModel",We=>{Y.value=We}),emitter.on("changLayoutRoute",({indexPath:We,parentPath:Gt})=>{se(We,Gt),setTimeout(()=>{rt(We)})}))});const at=computed(()=>({transform:`translateX(${g.value}px)`})),Ut=computed(()=>({left:te.value+"px",top:re.value+"px"}));return(We,Gt)=>{const gt=resolveComponent("router-link"),Mt=resolveComponent("IconifyIconOffline"),Rt=resolveComponent("el-icon"),Jt=resolveComponent("el-dropdown-item"),ut=resolveComponent("el-dropdown-menu"),Ht=resolveComponent("el-dropdown");return unref(M)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",{key:0,ref_key:"containerDom",ref:S,class:"tags-view"},[createBaseVNode("div",{ref_key:"scrollbarDom",ref:k,class:"scroll-container"},[createBaseVNode("div",{class:"tab",ref_key:"tabDom",ref:n,style:normalizeStyle(unref(at))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(P),(cr,Vt)=>(openBlock(),createElementBlock("div",{ref_for:!0,ref:"dynamic"+Vt,key:Vt,class:normalizeClass(["scroll-item is-closable",unref($)(cr),We.$route.path===cr.path&&Y.value==="card"?"card-active":""]),onContextmenu:withModifiers(Ne=>ft(cr,Ne),["prevent"]),onMouseenter:withModifiers(Ne=>Ye(Vt),["prevent"]),onMouseleave:withModifiers(Ne=>De(Vt),["prevent"]),onClick:Ne=>bt(cr)},[createVNode(gt,{to:cr.path},{default:withCtx(()=>[createTextVNode(toDisplayString(cr.meta.title),1)]),_:2},1032,["to"]),unref(B)(cr,Vt)||Vt===x.value&&Vt!==0?(openBlock(),createBlock(Rt,{key:0,class:"el-icon-close",onClick:withModifiers(Ne=>Ce(cr),["stop"])},{default:withCtx(()=>[createVNode(Mt,{icon:"close-bold"})]),_:2},1032,["onClick"])):createCommentVNode("",!0),Y.value!=="card"?(openBlock(),createElementBlock("div",{key:1,ref_for:!0,ref:"schedule"+Vt,class:normalizeClass([unref(R)(cr)])},null,2)):createCommentVNode("",!0)],42,_hoisted_1$a))),128))],4)],512),createVNode(Transition,{name:"el-zoom-in-top"},{default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("ul",{key:Math.random(),style:normalizeStyle(unref(Ut)),class:"contextmenu"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(q),(cr,Vt)=>(openBlock(),createElementBlock("div",{key:Vt,style:{display:"flex","align-items":"center"}},[cr.show?(openBlock(),createElementBlock("li",{key:0,onClick:Ne=>be(Vt,cr)},[(openBlock(),createBlock(resolveDynamicComponent(cr.icon),{key:Vt})),createTextVNode(" "+toDisplayString(cr.text),1)],8,_hoisted_2$7)):createCommentVNode("",!0)]))),128))],4)),[[vShow,unref(Q)]])]),_:1}),createBaseVNode("ul",_hoisted_3$5,[createBaseVNode("li",null,[createVNode(Rt,{title:"\u5237\u65B0\u8DEF\u7531",class:"el-icon-refresh-right rotate",onClick:fe},{default:withCtx(()=>[createVNode(Mt,{icon:"refresh-right"})]),_:1})]),createBaseVNode("li",null,[createVNode(Ht,{trigger:"click",placement:"bottom-end"},{dropdown:withCtx(()=>[createVNode(ut,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(q),(cr,Vt)=>(openBlock(),createBlock(Jt,{key:Vt,divided:cr.divided,disabled:cr.disabled,onClick:Ne=>$e(Vt,cr)},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(cr.icon),{key:Vt,style:{"margin-right":"6px"}})),createTextVNode(" "+toDisplayString(cr.text),1)]),_:2},1032,["divided","disabled","onClick"]))),128))]),_:1})]),default:withCtx(()=>[createVNode(Rt,null,{default:withCtx(()=>[createVNode(Mt,{icon:"arrow-down"})]),_:1})]),_:1})]),createBaseVNode("li",null,[renderSlot(We.$slots,"default",{},void 0,!0)])])],512))}}});var tag=_export_sfc(_sfc_main$9,[["__scopeId","data-v-f8825874"]]),appMain_vue_vue_type_style_index_0_scoped_true_lang="";const _hoisted_1$9={key:1},_sfc_main$8=defineComponent({props:{fixedHeader:Boolean},setup(e){var S;const r=e,l=ref((S=getCurrentInstance().appContext.config.globalProperties.$config)==null?void 0:S.KeepAlive),g=getCurrentInstance().appContext.app.config.globalProperties.$storage,x=computed(()=>k=>k.meta.transition),C=computed(()=>g==null?void 0:g.configure.hideTabs),u=computed(()=>(g==null?void 0:g.layout.layout)==="vertical"),f=computed(()=>[C.value&&u?"padding-top: 48px;":"",!C.value&&u?"padding-top: 85px;":"",C.value&&!u.value?"padding-top: 48px":"",!C.value&&!u.value?"padding-top: 85px;":"",r.fixedHeader?"":"padding-top: 0;"]),n=defineComponent({render(){return h$1(Transition,{name:x.value(this.route)&&this.route.meta.transition.enterTransition?"pure-classes-transition":x.value(this.route)&&this.route.meta.transition.name||"fade-transform",enterActiveClass:x.value(this.route)&&`animate__animated ${this.route.meta.transition.enterTransition}`,leaveActiveClass:x.value(this.route)&&`animate__animated ${this.route.meta.transition.leaveTransition}`,mode:"out-in",appear:!0},{default:()=>[this.$slots.default()]})},props:{route:{type:void 0,required:!0}}});return(k,M)=>{const P=resolveComponent("el-backtop"),$=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("section",{class:normalizeClass([r.fixedHeader?"app-main":"app-main-nofixed-header"]),style:normalizeStyle(unref(f))},[createVNode(unref(RouterView),null,{default:withCtx(({Component:R,route:B})=>[r.fixedHeader?(openBlock(),createBlock($,{key:0},{default:withCtx(()=>[createVNode(P,{title:"\u56DE\u5230\u9876\u90E8",target:".app-main .el-scrollbar__wrap"},{default:withCtx(()=>[createVNode(unref(render$c))]),_:1}),createVNode(unref(n),{route:B},{default:withCtx(()=>[l.value?(openBlock(),createBlock(KeepAlive,{key:0,include:unref(usePermissionStoreHook)().cachePageList},[(openBlock(),createBlock(resolveDynamicComponent(R),{key:B.activeMenuName,class:"main-content"}))],1032,["include"])):(openBlock(),createBlock(resolveDynamicComponent(R),{key:B.activeMenuName,class:"main-content"}))]),_:2},1032,["route"])]),_:2},1024)):(openBlock(),createElementBlock("div",_hoisted_1$9,[createVNode(unref(n),{route:B},{default:withCtx(()=>[l.value?(openBlock(),createBlock(KeepAlive,{key:0,include:unref(usePermissionStoreHook)().cachePageList},[(openBlock(),createBlock(resolveDynamicComponent(R),{key:B.activeMenuName,class:"main-content"}))],1032,["include"])):(openBlock(),createBlock(resolveDynamicComponent(R),{key:B.activeMenuName,class:"main-content"}))]),_:2},1032,["route"])]))]),_:1})],6)}}});var appMain=_export_sfc(_sfc_main$8,[["__scopeId","data-v-430935c0"]]);function rgbHex(e,r,l,g){const x=(e+(g||"")).toString().includes("%");if(typeof e=="string"?[e,r,l,g]=e.match(/(0?\.?\d{1,3})%?\b/g).map(C=>Number(C)):g!==void 0&&(g=Number.parseFloat(g)),typeof e!="number"||typeof r!="number"||typeof l!="number"||e>255||r>255||l>255)throw new TypeError("Expected three numbers below 256");if(typeof g=="number"){if(!x&&g>=0&&g<=1)g=Math.round(255*g);else if(x&&g>=0&&g<=100)g=Math.round(255*g/100);else throw new TypeError(`Expected alpha value (${g}) as a fraction or percentage`);g=(g|1<<8).toString(16).slice(1)}else g="";return(l|r<<8|e<<16|1<<24).toString(16).slice(1)+g}var index_vue_vue_type_style_index_0_lang="",index_vue_vue_type_style_index_1_scoped_true_lang$1="";const _withScopeId$1=e=>(pushScopeId("data-v-5d672280"),e=e(),popScopeId(),e),_hoisted_1$8=_withScopeId$1(()=>createBaseVNode("div",{class:"right-panel-background"},null,-1)),_hoisted_2$6={class:"right-panel-items"},_hoisted_3$4={class:"project-configuration"},_hoisted_4$4=_withScopeId$1(()=>createBaseVNode("h3",null,"\u9879\u76EE\u914D\u7F6E",-1)),_hoisted_5$2=_withScopeId$1(()=>createBaseVNode("div",{style:{"border-bottom":"1px solid #dcdfe6"}},null,-1)),_sfc_main$7=defineComponent({setup(e){let r=ref(!1);const l=ref(null);return onClickOutside(l,g=>{g.clientX>l.value.offsetLeft||(r.value=!1)}),emitter.on("openPanel",()=>{r.value=!0}),(g,x)=>{const C=resolveComponent("IconifyIconOffline"),u=resolveComponent("el-icon");return openBlock(),createElementBlock("div",{class:normalizeClass([{show:unref(r)},"right-panel-container"])},[_hoisted_1$8,createBaseVNode("div",{ref_key:"target",ref:l,class:"right-panel"},[createBaseVNode("div",_hoisted_2$6,[createBaseVNode("div",_hoisted_3$4,[_hoisted_4$4,createVNode(u,{title:"\u5173\u95ED\u914D\u7F6E",class:"el-icon-close",onClick:x[0]||(x[0]=f=>isRef(r)?r.value=!unref(r):r=!unref(r))},{default:withCtx(()=>[createVNode(C,{icon:"close"})]),_:1})]),_hoisted_5$2,renderSlot(g.$slots,"default",{},void 0,!0)])],512)],2)}}});var panel=_export_sfc(_sfc_main$7,[["__scopeId","data-v-5d672280"]]);const debounce$2=(e,r)=>{let l;return()=>{l&&clearTimeout(l),l=setTimeout(e,r)}};var balancedMatch=function(e,r,l){for(var g=0,x={},C=0;C<l.length;C++)if(e==l.substr(C,e.length))"start"in x||(x.start=C),g++;else if(r==l.substr(C,r.length)&&"start"in x&&(g--,!g))return x.end=C,x.pre=l.substr(0,x.start),x.body=x.end-x.start>1?l.substring(x.start+e.length,x.end):"",x.post=l.slice(x.end+r.length),x},clone$5={exports:{}};(function(e){var r=function(){function l(n,S,k,M){typeof S=="object"&&(k=S.depth,M=S.prototype,S=S.circular);var P=[],$=[],R=typeof Buffer!="undefined";typeof S=="undefined"&&(S=!0),typeof k=="undefined"&&(k=1/0);function B(V,j){if(V===null)return null;if(j==0)return V;var U,q;if(typeof V!="object")return V;if(l.__isArray(V))U=[];else if(l.__isRegExp(V))U=new RegExp(V.source,f(V)),V.lastIndex&&(U.lastIndex=V.lastIndex);else if(l.__isDate(V))U=new Date(V.getTime());else{if(R&&Buffer.isBuffer(V))return Buffer.allocUnsafe?U=Buffer.allocUnsafe(V.length):U=new Buffer(V.length),V.copy(U),U;typeof M=="undefined"?(q=Object.getPrototypeOf(V),U=Object.create(q)):(U=Object.create(M),q=M)}if(S){var Y=P.indexOf(V);if(Y!=-1)return $[Y];P.push(V),$.push(U)}for(var Q in V){var te;q&&(te=Object.getOwnPropertyDescriptor(q,Q)),!(te&&te.set==null)&&(U[Q]=B(V[Q],j-1))}return U}return B(n,k)}l.clonePrototype=function(S){if(S===null)return null;var k=function(){};return k.prototype=S,new k};function g(n){return Object.prototype.toString.call(n)}l.__objToStr=g;function x(n){return typeof n=="object"&&g(n)==="[object Date]"}l.__isDate=x;function C(n){return typeof n=="object"&&g(n)==="[object Array]"}l.__isArray=C;function u(n){return typeof n=="object"&&g(n)==="[object RegExp]"}l.__isRegExp=u;function f(n){var S="";return n.global&&(S+="g"),n.ignoreCase&&(S+="i"),n.multiline&&(S+="m"),S}return l.__getRegExpFlags=f,l}();e.exports&&(e.exports=r)})(clone$5);var conversions$2={exports:{}},colorName$1={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},cssKeywords=colorName$1,reverseKeywords={};for(var key in cssKeywords)cssKeywords.hasOwnProperty(key)&&(reverseKeywords[cssKeywords[key]]=key);var convert$4=conversions$2.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var model in convert$4)if(convert$4.hasOwnProperty(model)){if(!("channels"in convert$4[model]))throw new Error("missing channels property: "+model);if(!("labels"in convert$4[model]))throw new Error("missing channel labels property: "+model);if(convert$4[model].labels.length!==convert$4[model].channels)throw new Error("channel and label counts mismatch: "+model);var channels=convert$4[model].channels,labels=convert$4[model].labels;delete convert$4[model].channels,delete convert$4[model].labels,Object.defineProperty(convert$4[model],"channels",{value:channels}),Object.defineProperty(convert$4[model],"labels",{value:labels})}convert$4.rgb.hsl=function(e){var r=e[0]/255,l=e[1]/255,g=e[2]/255,x=Math.min(r,l,g),C=Math.max(r,l,g),u=C-x,f,n,S;return C===x?f=0:r===C?f=(l-g)/u:l===C?f=2+(g-r)/u:g===C&&(f=4+(r-l)/u),f=Math.min(f*60,360),f<0&&(f+=360),S=(x+C)/2,C===x?n=0:S<=.5?n=u/(C+x):n=u/(2-C-x),[f,n*100,S*100]};convert$4.rgb.hsv=function(e){var r,l,g,x,C,u=e[0]/255,f=e[1]/255,n=e[2]/255,S=Math.max(u,f,n),k=S-Math.min(u,f,n),M=function(P){return(S-P)/6/k+1/2};return k===0?x=C=0:(C=k/S,r=M(u),l=M(f),g=M(n),u===S?x=g-l:f===S?x=1/3+r-g:n===S&&(x=2/3+l-r),x<0?x+=1:x>1&&(x-=1)),[x*360,C*100,S*100]};convert$4.rgb.hwb=function(e){var r=e[0],l=e[1],g=e[2],x=convert$4.rgb.hsl(e)[0],C=1/255*Math.min(r,Math.min(l,g));return g=1-1/255*Math.max(r,Math.max(l,g)),[x,C*100,g*100]};convert$4.rgb.cmyk=function(e){var r=e[0]/255,l=e[1]/255,g=e[2]/255,x,C,u,f;return f=Math.min(1-r,1-l,1-g),x=(1-r-f)/(1-f)||0,C=(1-l-f)/(1-f)||0,u=(1-g-f)/(1-f)||0,[x*100,C*100,u*100,f*100]};function comparativeDistance(e,r){return Math.pow(e[0]-r[0],2)+Math.pow(e[1]-r[1],2)+Math.pow(e[2]-r[2],2)}convert$4.rgb.keyword=function(e){var r=reverseKeywords[e];if(r)return r;var l=1/0,g;for(var x in cssKeywords)if(cssKeywords.hasOwnProperty(x)){var C=cssKeywords[x],u=comparativeDistance(e,C);u<l&&(l=u,g=x)}return g};convert$4.keyword.rgb=function(e){return cssKeywords[e]};convert$4.rgb.xyz=function(e){var r=e[0]/255,l=e[1]/255,g=e[2]/255;r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,l=l>.04045?Math.pow((l+.055)/1.055,2.4):l/12.92,g=g>.04045?Math.pow((g+.055)/1.055,2.4):g/12.92;var x=r*.4124+l*.3576+g*.1805,C=r*.2126+l*.7152+g*.0722,u=r*.0193+l*.1192+g*.9505;return[x*100,C*100,u*100]};convert$4.rgb.lab=function(e){var r=convert$4.rgb.xyz(e),l=r[0],g=r[1],x=r[2],C,u,f;return l/=95.047,g/=100,x/=108.883,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,x=x>.008856?Math.pow(x,1/3):7.787*x+16/116,C=116*g-16,u=500*(l-g),f=200*(g-x),[C,u,f]};convert$4.hsl.rgb=function(e){var r=e[0]/360,l=e[1]/100,g=e[2]/100,x,C,u,f,n;if(l===0)return n=g*255,[n,n,n];g<.5?C=g*(1+l):C=g+l-g*l,x=2*g-C,f=[0,0,0];for(var S=0;S<3;S++)u=r+1/3*-(S-1),u<0&&u++,u>1&&u--,6*u<1?n=x+(C-x)*6*u:2*u<1?n=C:3*u<2?n=x+(C-x)*(2/3-u)*6:n=x,f[S]=n*255;return f};convert$4.hsl.hsv=function(e){var r=e[0],l=e[1]/100,g=e[2]/100,x=l,C=Math.max(g,.01),u,f;return g*=2,l*=g<=1?g:2-g,x*=C<=1?C:2-C,f=(g+l)/2,u=g===0?2*x/(C+x):2*l/(g+l),[r,u*100,f*100]};convert$4.hsv.rgb=function(e){var r=e[0]/60,l=e[1]/100,g=e[2]/100,x=Math.floor(r)%6,C=r-Math.floor(r),u=255*g*(1-l),f=255*g*(1-l*C),n=255*g*(1-l*(1-C));switch(g*=255,x){case 0:return[g,n,u];case 1:return[f,g,u];case 2:return[u,g,n];case 3:return[u,f,g];case 4:return[n,u,g];case 5:return[g,u,f]}};convert$4.hsv.hsl=function(e){var r=e[0],l=e[1]/100,g=e[2]/100,x=Math.max(g,.01),C,u,f;return f=(2-l)*g,C=(2-l)*x,u=l*x,u/=C<=1?C:2-C,u=u||0,f/=2,[r,u*100,f*100]};convert$4.hwb.rgb=function(e){var r=e[0]/360,l=e[1]/100,g=e[2]/100,x=l+g,C,u,f,n;x>1&&(l/=x,g/=x),C=Math.floor(6*r),u=1-g,f=6*r-C,(C&1)!=0&&(f=1-f),n=l+f*(u-l);var S,k,M;switch(C){default:case 6:case 0:S=u,k=n,M=l;break;case 1:S=n,k=u,M=l;break;case 2:S=l,k=u,M=n;break;case 3:S=l,k=n,M=u;break;case 4:S=n,k=l,M=u;break;case 5:S=u,k=l,M=n;break}return[S*255,k*255,M*255]};convert$4.cmyk.rgb=function(e){var r=e[0]/100,l=e[1]/100,g=e[2]/100,x=e[3]/100,C,u,f;return C=1-Math.min(1,r*(1-x)+x),u=1-Math.min(1,l*(1-x)+x),f=1-Math.min(1,g*(1-x)+x),[C*255,u*255,f*255]};convert$4.xyz.rgb=function(e){var r=e[0]/100,l=e[1]/100,g=e[2]/100,x,C,u;return x=r*3.2406+l*-1.5372+g*-.4986,C=r*-.9689+l*1.8758+g*.0415,u=r*.0557+l*-.204+g*1.057,x=x>.0031308?1.055*Math.pow(x,1/2.4)-.055:x*12.92,C=C>.0031308?1.055*Math.pow(C,1/2.4)-.055:C*12.92,u=u>.0031308?1.055*Math.pow(u,1/2.4)-.055:u*12.92,x=Math.min(Math.max(0,x),1),C=Math.min(Math.max(0,C),1),u=Math.min(Math.max(0,u),1),[x*255,C*255,u*255]};convert$4.xyz.lab=function(e){var r=e[0],l=e[1],g=e[2],x,C,u;return r/=95.047,l/=100,g/=108.883,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,g=g>.008856?Math.pow(g,1/3):7.787*g+16/116,x=116*l-16,C=500*(r-l),u=200*(l-g),[x,C,u]};convert$4.lab.xyz=function(e){var r=e[0],l=e[1],g=e[2],x,C,u;C=(r+16)/116,x=l/500+C,u=C-g/200;var f=Math.pow(C,3),n=Math.pow(x,3),S=Math.pow(u,3);return C=f>.008856?f:(C-16/116)/7.787,x=n>.008856?n:(x-16/116)/7.787,u=S>.008856?S:(u-16/116)/7.787,x*=95.047,C*=100,u*=108.883,[x,C,u]};convert$4.lab.lch=function(e){var r=e[0],l=e[1],g=e[2],x,C,u;return x=Math.atan2(g,l),C=x*360/2/Math.PI,C<0&&(C+=360),u=Math.sqrt(l*l+g*g),[r,u,C]};convert$4.lch.lab=function(e){var r=e[0],l=e[1],g=e[2],x,C,u;return u=g/360*2*Math.PI,x=l*Math.cos(u),C=l*Math.sin(u),[r,x,C]};convert$4.rgb.ansi16=function(e){var r=e[0],l=e[1],g=e[2],x=1 in arguments?arguments[1]:convert$4.rgb.hsv(e)[2];if(x=Math.round(x/50),x===0)return 30;var C=30+(Math.round(g/255)<<2|Math.round(l/255)<<1|Math.round(r/255));return x===2&&(C+=60),C};convert$4.hsv.ansi16=function(e){return convert$4.rgb.ansi16(convert$4.hsv.rgb(e),e[2])};convert$4.rgb.ansi256=function(e){var r=e[0],l=e[1],g=e[2];if(r===l&&l===g)return r<8?16:r>248?231:Math.round((r-8)/247*24)+232;var x=16+36*Math.round(r/255*5)+6*Math.round(l/255*5)+Math.round(g/255*5);return x};convert$4.ansi16.rgb=function(e){var r=e%10;if(r===0||r===7)return e>50&&(r+=3.5),r=r/10.5*255,[r,r,r];var l=(~~(e>50)+1)*.5,g=(r&1)*l*255,x=(r>>1&1)*l*255,C=(r>>2&1)*l*255;return[g,x,C]};convert$4.ansi256.rgb=function(e){if(e>=232){var r=(e-232)*10+8;return[r,r,r]}e-=16;var l,g=Math.floor(e/36)/5*255,x=Math.floor((l=e%36)/6)/5*255,C=l%6/5*255;return[g,x,C]};convert$4.rgb.hex=function(e){var r=((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255),l=r.toString(16).toUpperCase();return"000000".substring(l.length)+l};convert$4.hex.rgb=function(e){var r=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!r)return[0,0,0];var l=r[0];r[0].length===3&&(l=l.split("").map(function(f){return f+f}).join(""));var g=parseInt(l,16),x=g>>16&255,C=g>>8&255,u=g&255;return[x,C,u]};convert$4.rgb.hcg=function(e){var r=e[0]/255,l=e[1]/255,g=e[2]/255,x=Math.max(Math.max(r,l),g),C=Math.min(Math.min(r,l),g),u=x-C,f,n;return u<1?f=C/(1-u):f=0,u<=0?n=0:x===r?n=(l-g)/u%6:x===l?n=2+(g-r)/u:n=4+(r-l)/u+4,n/=6,n%=1,[n*360,u*100,f*100]};convert$4.hsl.hcg=function(e){var r=e[1]/100,l=e[2]/100,g=1,x=0;return l<.5?g=2*r*l:g=2*r*(1-l),g<1&&(x=(l-.5*g)/(1-g)),[e[0],g*100,x*100]};convert$4.hsv.hcg=function(e){var r=e[1]/100,l=e[2]/100,g=r*l,x=0;return g<1&&(x=(l-g)/(1-g)),[e[0],g*100,x*100]};convert$4.hcg.rgb=function(e){var r=e[0]/360,l=e[1]/100,g=e[2]/100;if(l===0)return[g*255,g*255,g*255];var x=[0,0,0],C=r%1*6,u=C%1,f=1-u,n=0;switch(Math.floor(C)){case 0:x[0]=1,x[1]=u,x[2]=0;break;case 1:x[0]=f,x[1]=1,x[2]=0;break;case 2:x[0]=0,x[1]=1,x[2]=u;break;case 3:x[0]=0,x[1]=f,x[2]=1;break;case 4:x[0]=u,x[1]=0,x[2]=1;break;default:x[0]=1,x[1]=0,x[2]=f}return n=(1-l)*g,[(l*x[0]+n)*255,(l*x[1]+n)*255,(l*x[2]+n)*255]};convert$4.hcg.hsv=function(e){var r=e[1]/100,l=e[2]/100,g=r+l*(1-r),x=0;return g>0&&(x=r/g),[e[0],x*100,g*100]};convert$4.hcg.hsl=function(e){var r=e[1]/100,l=e[2]/100,g=l*(1-r)+.5*r,x=0;return g>0&&g<.5?x=r/(2*g):g>=.5&&g<1&&(x=r/(2*(1-g))),[e[0],x*100,g*100]};convert$4.hcg.hwb=function(e){var r=e[1]/100,l=e[2]/100,g=r+l*(1-r);return[e[0],(g-r)*100,(1-g)*100]};convert$4.hwb.hcg=function(e){var r=e[1]/100,l=e[2]/100,g=1-l,x=g-r,C=0;return x<1&&(C=(g-x)/(1-x)),[e[0],x*100,C*100]};convert$4.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};convert$4.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};convert$4.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};convert$4.gray.hsl=convert$4.gray.hsv=function(e){return[0,0,e[0]]};convert$4.gray.hwb=function(e){return[0,100,e[0]]};convert$4.gray.cmyk=function(e){return[0,0,0,e[0]]};convert$4.gray.lab=function(e){return[e[0],0,0]};convert$4.gray.hex=function(e){var r=Math.round(e[0]/100*255)&255,l=(r<<16)+(r<<8)+r,g=l.toString(16).toUpperCase();return"000000".substring(g.length)+g};convert$4.rgb.gray=function(e){var r=(e[0]+e[1]+e[2])/3;return[r/255*100]};var conversions$1=conversions$2.exports;function buildGraph(){for(var e={},r=Object.keys(conversions$1),l=r.length,g=0;g<l;g++)e[r[g]]={distance:-1,parent:null};return e}function deriveBFS(e){var r=buildGraph(),l=[e];for(r[e].distance=0;l.length;)for(var g=l.pop(),x=Object.keys(conversions$1[g]),C=x.length,u=0;u<C;u++){var f=x[u],n=r[f];n.distance===-1&&(n.distance=r[g].distance+1,n.parent=g,l.unshift(f))}return r}function link(e,r){return function(l){return r(e(l))}}function wrapConversion(e,r){for(var l=[r[e].parent,e],g=conversions$1[r[e].parent][e],x=r[e].parent;r[x].parent;)l.unshift(r[x].parent),g=link(conversions$1[r[x].parent][x],g),x=r[x].parent;return g.conversion=l,g}var route$1=function(e){for(var r=deriveBFS(e),l={},g=Object.keys(r),x=g.length,C=0;C<x;C++){var u=g[C],f=r[u];f.parent!==null&&(l[u]=wrapConversion(u,r))}return l},conversions=conversions$2.exports,route=route$1,convert$3={},models=Object.keys(conversions);function wrapRaw(e){var r=function(l){return l==null?l:(arguments.length>1&&(l=Array.prototype.slice.call(arguments)),e(l))};return"conversion"in e&&(r.conversion=e.conversion),r}function wrapRounded(e){var r=function(l){if(l==null)return l;arguments.length>1&&(l=Array.prototype.slice.call(arguments));var g=e(l);if(typeof g=="object")for(var x=g.length,C=0;C<x;C++)g[C]=Math.round(g[C]);return g};return"conversion"in e&&(r.conversion=e.conversion),r}models.forEach(function(e){convert$3[e]={},Object.defineProperty(convert$3[e],"channels",{value:conversions[e].channels}),Object.defineProperty(convert$3[e],"labels",{value:conversions[e].labels});var r=route(e),l=Object.keys(r);l.forEach(function(g){var x=r[g];convert$3[e][g]=wrapRounded(x),convert$3[e][g].raw=wrapRaw(x)})});var colorConvert=convert$3,colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},colorNames=colorName,colorString={getRgba,getHsla,getRgb,getHsl,getHwb,getAlpha,hexString,rgbString,rgbaString,percentString,percentaString,hslString,hslaString,hwbString,keyword};function getRgba(e){if(!!e){var r=/^#([a-fA-F0-9]{3})$/,l=/^#([a-fA-F0-9]{6})$/,g=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,x=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,C=/(\D+)/,u=[0,0,0],f=1,n=e.match(r);if(n){n=n[1];for(var S=0;S<u.length;S++)u[S]=parseInt(n[S]+n[S],16)}else if(n=e.match(l)){n=n[1];for(var S=0;S<u.length;S++)u[S]=parseInt(n.slice(S*2,S*2+2),16)}else if(n=e.match(g)){for(var S=0;S<u.length;S++)u[S]=parseInt(n[S+1]);f=parseFloat(n[4])}else if(n=e.match(x)){for(var S=0;S<u.length;S++)u[S]=Math.round(parseFloat(n[S+1])*2.55);f=parseFloat(n[4])}else if(n=e.match(C)){if(n[1]=="transparent")return[0,0,0,0];if(u=colorNames[n[1]],!u)return}for(var S=0;S<u.length;S++)u[S]=scale$1(u[S],0,255);return!f&&f!=0?f=1:f=scale$1(f,0,1),u[3]=f,u}}function getHsla(e){if(!!e){var r=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,l=e.match(r);if(l){var g=parseFloat(l[4]),x=scale$1(parseInt(l[1]),0,360),C=scale$1(parseFloat(l[2]),0,100),u=scale$1(parseFloat(l[3]),0,100),f=scale$1(isNaN(g)?1:g,0,1);return[x,C,u,f]}}}function getHwb(e){if(!!e){var r=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,l=e.match(r);if(l){var g=parseFloat(l[4]),x=scale$1(parseInt(l[1]),0,360),C=scale$1(parseFloat(l[2]),0,100),u=scale$1(parseFloat(l[3]),0,100),f=scale$1(isNaN(g)?1:g,0,1);return[x,C,u,f]}}}function getRgb(e){var r=getRgba(e);return r&&r.slice(0,3)}function getHsl(e){var r=getHsla(e);return r&&r.slice(0,3)}function getAlpha(e){var r=getRgba(e);if(r)return r[3];if(r=getHsla(e))return r[3];if(r=getHwb(e))return r[3]}function hexString(e){return"#"+hexDouble(e[0])+hexDouble(e[1])+hexDouble(e[2])}function rgbString(e,r){return r<1||e[3]&&e[3]<1?rgbaString(e,r):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"}function rgbaString(e,r){return r===void 0&&(r=e[3]!==void 0?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+r+")"}function percentString(e,r){if(r<1||e[3]&&e[3]<1)return percentaString(e,r);var l=Math.round(e[0]/255*100),g=Math.round(e[1]/255*100),x=Math.round(e[2]/255*100);return"rgb("+l+"%, "+g+"%, "+x+"%)"}function percentaString(e,r){var l=Math.round(e[0]/255*100),g=Math.round(e[1]/255*100),x=Math.round(e[2]/255*100);return"rgba("+l+"%, "+g+"%, "+x+"%, "+(r||e[3]||1)+")"}function hslString(e,r){return r<1||e[3]&&e[3]<1?hslaString(e,r):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"}function hslaString(e,r){return r===void 0&&(r=e[3]!==void 0?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+r+")"}function hwbString(e,r){return r===void 0&&(r=e[3]!==void 0?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(r!==void 0&&r!==1?", "+r:"")+")"}function keyword(e){return reverseNames[e.slice(0,3)]}function scale$1(e,r,l){return Math.min(Math.max(r,e),l)}function hexDouble(e){var r=e.toString(16).toUpperCase();return r.length<2?"0"+r:r}var reverseNames={};for(var name in colorNames)reverseNames[colorNames[name]]=name;var clone$4=clone$5.exports,convert$2=colorConvert,string=colorString,Color$1=function(e){if(e instanceof Color$1)return e;if(!(this instanceof Color$1))return new Color$1(e);this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var r;if(typeof e=="string")if(r=string.getRgba(e),r)this.setValues("rgb",r);else if(r=string.getHsla(e))this.setValues("hsl",r);else if(r=string.getHwb(e))this.setValues("hwb",r);else throw new Error('Unable to parse color from string "'+e+'"');else if(typeof e=="object")if(r=e,r.r!==void 0||r.red!==void 0)this.setValues("rgb",r);else if(r.l!==void 0||r.lightness!==void 0)this.setValues("hsl",r);else if(r.v!==void 0||r.value!==void 0)this.setValues("hsv",r);else if(r.w!==void 0||r.whiteness!==void 0)this.setValues("hwb",r);else if(r.c!==void 0||r.cyan!==void 0)this.setValues("cmyk",r);else throw new Error("Unable to parse color from object "+JSON.stringify(e))};Color$1.prototype={rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){return this.values.alpha!==1?this.values.hwb.concat([this.values.alpha]):this.values.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values.rgb;return e.concat([this.values.alpha])},rgbaArrayNormalized:function(){for(var e=this.values.rgb,r=[],l=0;l<3;l++)r[l]=e[l]/255;return r.push(this.values.alpha),r},hslaArray:function(){var e=this.values.hsl;return e.concat([this.values.alpha])},alpha:function(e){return e===void 0?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e%=360,e=e<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return string.hexString(this.values.rgb)},rgbString:function(){return string.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return string.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return string.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return string.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return string.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return string.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return string.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){return this.values.rgb[0]<<16|this.values.rgb[1]<<8|this.values.rgb[2]},luminosity:function(){for(var e=this.values.rgb,r=[],l=0;l<e.length;l++){var g=e[l]/255;r[l]=g<=.03928?g/12.92:Math.pow((g+.055)/1.055,2.4)}return .2126*r[0]+.7152*r[1]+.0722*r[2]},contrast:function(e){var r=this.luminosity(),l=e.luminosity();return r>l?(r+.05)/(l+.05):(l+.05)/(r+.05)},level:function(e){var r=this.contrast(e);return r>=7.1?"AAA":r>=4.5?"AA":""},dark:function(){var e=this.values.rgb,r=(e[0]*299+e[1]*587+e[2]*114)/1e3;return r<128},light:function(){return!this.dark()},negate:function(){for(var e=[],r=0;r<3;r++)e[r]=255-this.values.rgb[r];return this.setValues("rgb",e),this},lighten:function(e){return this.values.hsl[2]+=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},darken:function(e){return this.values.hsl[2]-=this.values.hsl[2]*e,this.setValues("hsl",this.values.hsl),this},saturate:function(e){return this.values.hsl[1]+=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},desaturate:function(e){return this.values.hsl[1]-=this.values.hsl[1]*e,this.setValues("hsl",this.values.hsl),this},whiten:function(e){return this.values.hwb[1]+=this.values.hwb[1]*e,this.setValues("hwb",this.values.hwb),this},blacken:function(e){return this.values.hwb[2]+=this.values.hwb[2]*e,this.setValues("hwb",this.values.hwb),this},greyscale:function(){var e=this.values.rgb,r=e[0]*.3+e[1]*.59+e[2]*.11;return this.setValues("rgb",[r,r,r]),this},clearer:function(e){return this.setValues("alpha",this.values.alpha-this.values.alpha*e),this},opaquer:function(e){return this.setValues("alpha",this.values.alpha+this.values.alpha*e),this},rotate:function(e){var r=this.values.hsl[0];return r=(r+e)%360,r=r<0?360+r:r,this.values.hsl[0]=r,this.setValues("hsl",this.values.hsl),this},mix:function(e,r){var l=this,g=e,x=r===void 0?.5:r,C=2*x-1,u=l.alpha()-g.alpha(),f=((C*u==-1?C:(C+u)/(1+C*u))+1)/2,n=1-f;return this.rgb(f*l.red()+n*g.red(),f*l.green()+n*g.green(),f*l.blue()+n*g.blue()).alpha(l.alpha()*x+g.alpha()*(1-x))},toJSON:function(){return this.rgb()},clone:function(){var e=new Color$1;return e.values=clone$4(this.values),e}};Color$1.prototype.getValues=function(e){for(var r={},l=0;l<e.length;l++)r[e.charAt(l)]=this.values[e][l];return this.values.alpha!==1&&(r.a=this.values.alpha),r};Color$1.prototype.setValues=function(e,r){var l={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},g={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},x,C=1;if(e==="alpha")C=r;else if(r.length)this.values[e]=r.slice(0,e.length),C=r[e.length];else if(r[e.charAt(0)]!==void 0){for(x=0;x<e.length;x++)this.values[e][x]=r[e.charAt(x)];C=r.a}else if(r[l[e][0]]!==void 0){var u=l[e];for(x=0;x<e.length;x++)this.values[e][x]=r[u[x]];C=r.alpha}if(this.values.alpha=Math.max(0,Math.min(1,C===void 0?this.values.alpha:C)),e==="alpha")return!1;var f;for(x=0;x<e.length;x++)f=Math.max(0,Math.min(g[e][x],this.values[e][x])),this.values[e][x]=Math.round(f);for(var n in l)for(n!==e&&(this.values[n]=convert$2[e][n](this.values[e])),x=0;x<n.length;x++)f=Math.max(0,Math.min(g[n][x],this.values[n][x])),this.values[n][x]=Math.round(f);return!0};Color$1.prototype.setSpace=function(e,r){var l=r[0];return l===void 0?this.getValues(e):(typeof l=="number"&&(l=Array.prototype.slice.call(r)),this.setValues(e,l),this)};Color$1.prototype.setChannel=function(e,r,l){return l===void 0?this.values[e][r]:l===this.values[e][r]?this:(this.values[e][r]=l,this.setValues(e,this.values[e]),this)};var color$1=Color$1,browser={exports:{}},s=1e3,m=s*60,h=m*60,d=h*24,w=d*7,y=d*365.25,ms=function(e,r){r=r||{};var l=typeof e;if(l==="string"&&e.length>0)return parse$3(e);if(l==="number"&&isFinite(e))return r.long?fmtLong(e):fmtShort(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse$3(e){if(e=String(e),!(e.length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!r){var l=parseFloat(r[1]),g=(r[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return l*y;case"weeks":case"week":case"w":return l*w;case"days":case"day":case"d":return l*d;case"hours":case"hour":case"hrs":case"hr":case"h":return l*h;case"minutes":case"minute":case"mins":case"min":case"m":return l*m;case"seconds":case"second":case"secs":case"sec":case"s":return l*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}}}function fmtShort(e){var r=Math.abs(e);return r>=d?Math.round(e/d)+"d":r>=h?Math.round(e/h)+"h":r>=m?Math.round(e/m)+"m":r>=s?Math.round(e/s)+"s":e+"ms"}function fmtLong(e){var r=Math.abs(e);return r>=d?plural(e,r,d,"day"):r>=h?plural(e,r,h,"hour"):r>=m?plural(e,r,m,"minute"):r>=s?plural(e,r,s,"second"):e+" ms"}function plural(e,r,l,g){var x=r>=l*1.5;return Math.round(e/l)+" "+g+(x?"s":"")}function setup$2(e){l.debug=l,l.default=l,l.coerce=n,l.disable=u,l.enable=C,l.enabled=f,l.humanize=ms,Object.keys(e).forEach(function(S){l[S]=e[S]}),l.instances=[],l.names=[],l.skips=[],l.formatters={};function r(S){for(var k=0,M=0;M<S.length;M++)k=(k<<5)-k+S.charCodeAt(M),k|=0;return l.colors[Math.abs(k)%l.colors.length]}l.selectColor=r;function l(S){var k;function M(){if(!!M.enabled){for(var P=arguments.length,$=new Array(P),R=0;R<P;R++)$[R]=arguments[R];var B=M,V=Number(new Date),j=V-(k||V);B.diff=j,B.prev=k,B.curr=V,k=V,$[0]=l.coerce($[0]),typeof $[0]!="string"&&$.unshift("%O");var U=0;$[0]=$[0].replace(/%([a-zA-Z%])/g,function(Y,Q){if(Y==="%%")return Y;U++;var te=l.formatters[Q];if(typeof te=="function"){var re=$[U];Y=te.call(B,re),$.splice(U,1),U--}return Y}),l.formatArgs.call(B,$);var q=B.log||l.log;q.apply(B,$)}}return M.namespace=S,M.enabled=l.enabled(S),M.useColors=l.useColors(),M.color=r(S),M.destroy=g,M.extend=x,typeof l.init=="function"&&l.init(M),l.instances.push(M),M}function g(){var S=l.instances.indexOf(this);return S!==-1?(l.instances.splice(S,1),!0):!1}function x(S,k){return l(this.namespace+(typeof k=="undefined"?":":k)+S)}function C(S){l.save(S),l.names=[],l.skips=[];var k,M=(typeof S=="string"?S:"").split(/[\s,]+/),P=M.length;for(k=0;k<P;k++)!M[k]||(S=M[k].replace(/\*/g,".*?"),S[0]==="-"?l.skips.push(new RegExp("^"+S.substr(1)+"$")):l.names.push(new RegExp("^"+S+"$")));for(k=0;k<l.instances.length;k++){var $=l.instances[k];$.enabled=l.enabled($.namespace)}}function u(){l.enable("")}function f(S){if(S[S.length-1]==="*")return!0;var k,M;for(k=0,M=l.skips.length;k<M;k++)if(l.skips[k].test(S))return!1;for(k=0,M=l.names.length;k<M;k++)if(l.names[k].test(S))return!0;return!1}function n(S){return S instanceof Error?S.stack||S.message:S}return l.enable(l.load()),l}var common=setup$2;(function(e,r){function l(k){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l=function(P){return typeof P}:l=function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},l(k)}r.log=C,r.formatArgs=x,r.save=u,r.load=f,r.useColors=g,r.storage=n(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function g(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function x(k){if(k[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+k[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var M="color: "+this.color;k.splice(1,0,M,"color: inherit");var P=0,$=0;k[0].replace(/%[a-zA-Z%]/g,function(R){R!=="%%"&&(P++,R==="%c"&&($=P))}),k.splice($,0,M)}}function C(){var k;return(typeof console=="undefined"?"undefined":l(console))==="object"&&console.log&&(k=console).log.apply(k,arguments)}function u(k){try{k?r.storage.setItem("debug",k):r.storage.removeItem("debug")}catch{}}function f(){var k;try{k=r.storage.getItem("debug")}catch{}return!k&&typeof process!="undefined"&&"env"in process&&(k={}.DEBUG),k}function n(){try{return localStorage}catch{}}e.exports=common(r);var S=e.exports.formatters;S.j=function(k){try{return JSON.stringify(k)}catch(M){return"[UnexpectedJSONParseError]: "+M.message}}})(browser,browser.exports);var balanced$1=balancedMatch,debug=browser.exports("css-color-function:parse"),parse_1=parse$2;function parse$2(e){typeof e!="string"&&(e=e.toString()),debug("string %s",e);function r(k){var M=k.exec(e);if(!!M)return e=e.slice(M[0].length),M.slice(1)}function l(){r(/^\s+/)}function g(){var k=r(/^\)/);if(!!k)return debug("rparen"),k}function x(){var k=r(/^([\+\-\*])/);if(!!k){var M={};return M.type="modifier",M.value=k[0],debug("modifier %o",M),M}}function C(){var k=r(/^([^\)\s]+)/);if(!!k){var M={};return M.type="number",M.value=k[0],debug("number %o",M),M}}function u(){for(var k=[],M;M=x()||S()||C();)k.push(M),l();return debug("args %o",k),k}function f(){var k=r(/^(\w+)\(/);if(!!k){l();var M={};return M.type="function",M.name=k[0],M.arguments=u(),g(),debug("adjuster %o",M),M}}function n(){var k={};k.type="color";var M=r(/([^\)\s]+)/)[0];if(M.indexOf("(")!=-1){var P=r(/([^\)]*?\))/)[0];M=M+P}return k.value=M,l(),k}function S(){if(!!e.match(/^color\(/)){var k=balanced$1("(",")",e);if(!k)throw new SyntaxError("Missing closing parenthese for '"+e+"'");if(k.body==="")throw new SyntaxError("color() function cannot be empty");e=k.body,l();var M={};M.type="function",M.name="color",M.arguments=[S()||n()],debug("function arguments %o",M.arguments);for(var P;P=f();)M.arguments.push(P),l();return e=k.post,l(),debug("function %o",M),M}}return S()}var adjusters$1={};(function(e){var r=color$1;e.red=l("red"),e.blue=l("blue"),e.green=l("green"),e.alpha=e.a=l("alpha"),e.rgb=function(){},e.hue=e.h=g("hue"),e.saturation=e.s=g("saturation"),e.lightness=e.l=g("lightness"),e.whiteness=e.w=g("whiteness"),e.blackness=e.b=g("blackness"),e.blend=function(u,f){var n=u.alpha();u.alpha(1);var S=new r(f[0].value),k=1-parseInt(f[1].value,10)/100;u.mix(S,k).alpha(n)},e.tint=function(u,f){f.unshift({type:"argument",value:"white"}),e.blend(u,f)},e.shade=function(u,f){f.unshift({type:"argument",value:"black"}),e.blend(u,f)},e.contrast=function(u,f){f.length==0&&f.push({type:"argument",value:"100%"});var n=1-parseInt(f[0].value,10)/100,S=u.luminosity()<.5?new r({h:u.hue(),w:100,b:0}):new r({h:u.hue(),w:0,b:100}),k=S,M=4.5;if(u.contrast(S)>M){var k=C(M,u,S),P=k.alpha();k.alpha(1),k.mix(S,n).alpha(P)}u.hwb(k.hwb())};function l(u){return function(f,n){var S;n[0].type=="modifier"&&(S=n.shift().value);var k=n[0].value;k.indexOf("%")!=-1?(k=parseInt(k,10)/100,S?S!="*"&&(k=f[u]()*k):k=k*(u=="alpha"?1:255)):k=Number(k),f[u](x(f[u](),k,S))}}function g(u){return function(f,n){var S;n[0].type=="modifier"&&(S=n.shift().value);var k=parseFloat(n[0].value,10);f[u](x(f[u](),k,S))}}function x(u,f,n){switch(n){case"+":return u+f;case"-":return u-f;case"*":return u*f;default:return f}}function C(u,f,n){f.hue();for(var S=f.clone(),k=f.whiteness(),M=f.blackness(),P=n.whiteness(),$=n.blackness();Math.abs(k-P)>1||Math.abs(M-$)>1;){var R=Math.round((P+k)/2),B=Math.round(($+M)/2);S.whiteness(R),S.blackness(B),S.contrast(f)>u?(P=R,$=B):(k=R,M=B)}return S}})(adjusters$1);var balanced=balancedMatch,Color=color$1,parse$1=parse_1,adjusters=adjusters$1,convert_1$1=convert$1;function convert$1(e){var r=e.indexOf("color(");if(r==-1)return e;if(e=e.slice(r),e=balanced("(",")",e),!e)throw new SyntaxError("Missing closing parenthese for '"+e+"'");var l=parse$1("color("+e.body+")");return toRGB(l)+convert$1(e.post)}function toRGB(e){var r=new Color(e.arguments[0].type=="function"?toRGB(e.arguments[0]):e.arguments[0].value),l=e.arguments.slice(1);return l.forEach(function(g){var x=g.name;if(!adjusters[x])throw new Error("Unknown <color-adjuster> '"+x+"'");g.arguments.forEach(function(C){C.type=="function"&&C.name=="color"&&(C.value=toRGB(C),C.type="color",delete C.name)}),adjusters[x](r,g.arguments)}),r.rgbString()}var convert=convert_1$1,convert_1=convert;function bound01(e,r){isOnePointZero(e)&&(e="100%");var l=isPercentage(e);return e=r===360?e:Math.min(r,Math.max(0,parseFloat(e))),l&&(e=parseInt(String(e*r),10)/100),Math.abs(e-r)<1e-6?1:(r===360?e=(e<0?e%r+r:e%r)/parseFloat(String(r)):e=e%r/parseFloat(String(r)),e)}function clamp01(e){return Math.min(1,Math.max(0,e))}function isOnePointZero(e){return typeof e=="string"&&e.indexOf(".")!==-1&&parseFloat(e)===1}function isPercentage(e){return typeof e=="string"&&e.indexOf("%")!==-1}function boundAlpha(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function convertToPercentage(e){return e<=1?Number(e)*100+"%":e}function pad2(e){return e.length===1?"0"+e:String(e)}function rgbToRgb(e,r,l){return{r:bound01(e,255)*255,g:bound01(r,255)*255,b:bound01(l,255)*255}}function rgbToHsl(e,r,l){e=bound01(e,255),r=bound01(r,255),l=bound01(l,255);var g=Math.max(e,r,l),x=Math.min(e,r,l),C=0,u=0,f=(g+x)/2;if(g===x)u=0,C=0;else{var n=g-x;switch(u=f>.5?n/(2-g-x):n/(g+x),g){case e:C=(r-l)/n+(r<l?6:0);break;case r:C=(l-e)/n+2;break;case l:C=(e-r)/n+4;break}C/=6}return{h:C,s:u,l:f}}function hue2rgb(e,r,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?e+(r-e)*(6*l):l<1/2?r:l<2/3?e+(r-e)*(2/3-l)*6:e}function hslToRgb(e,r,l){var g,x,C;if(e=bound01(e,360),r=bound01(r,100),l=bound01(l,100),r===0)x=l,C=l,g=l;else{var u=l<.5?l*(1+r):l+r-l*r,f=2*l-u;g=hue2rgb(f,u,e+1/3),x=hue2rgb(f,u,e),C=hue2rgb(f,u,e-1/3)}return{r:g*255,g:x*255,b:C*255}}function rgbToHsv(e,r,l){e=bound01(e,255),r=bound01(r,255),l=bound01(l,255);var g=Math.max(e,r,l),x=Math.min(e,r,l),C=0,u=g,f=g-x,n=g===0?0:f/g;if(g===x)C=0;else{switch(g){case e:C=(r-l)/f+(r<l?6:0);break;case r:C=(l-e)/f+2;break;case l:C=(e-r)/f+4;break}C/=6}return{h:C,s:n,v:u}}function hsvToRgb(e,r,l){e=bound01(e,360)*6,r=bound01(r,100),l=bound01(l,100);var g=Math.floor(e),x=e-g,C=l*(1-r),u=l*(1-x*r),f=l*(1-(1-x)*r),n=g%6,S=[l,u,C,C,f,l][n],k=[f,l,l,u,C,C][n],M=[C,C,f,l,l,u][n];return{r:S*255,g:k*255,b:M*255}}function rgbToHex(e,r,l,g){var x=[pad2(Math.round(e).toString(16)),pad2(Math.round(r).toString(16)),pad2(Math.round(l).toString(16))];return g&&x[0].startsWith(x[0].charAt(1))&&x[1].startsWith(x[1].charAt(1))&&x[2].startsWith(x[2].charAt(1))?x[0].charAt(0)+x[1].charAt(0)+x[2].charAt(0):x.join("")}function rgbaToHex(e,r,l,g,x){var C=[pad2(Math.round(e).toString(16)),pad2(Math.round(r).toString(16)),pad2(Math.round(l).toString(16)),pad2(convertDecimalToHex(g))];return x&&C[0].startsWith(C[0].charAt(1))&&C[1].startsWith(C[1].charAt(1))&&C[2].startsWith(C[2].charAt(1))&&C[3].startsWith(C[3].charAt(1))?C[0].charAt(0)+C[1].charAt(0)+C[2].charAt(0)+C[3].charAt(0):C.join("")}function convertDecimalToHex(e){return Math.round(parseFloat(e)*255).toString(16)}function convertHexToDecimal(e){return parseIntFromHex(e)/255}function parseIntFromHex(e){return parseInt(e,16)}function numberInputToObject(e){return{r:e>>16,g:(e&65280)>>8,b:e&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(e){var r={r:0,g:0,b:0},l=1,g=null,x=null,C=null,u=!1,f=!1;return typeof e=="string"&&(e=stringInputToObject(e)),typeof e=="object"&&(isValidCSSUnit(e.r)&&isValidCSSUnit(e.g)&&isValidCSSUnit(e.b)?(r=rgbToRgb(e.r,e.g,e.b),u=!0,f=String(e.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.v)?(g=convertToPercentage(e.s),x=convertToPercentage(e.v),r=hsvToRgb(e.h,g,x),u=!0,f="hsv"):isValidCSSUnit(e.h)&&isValidCSSUnit(e.s)&&isValidCSSUnit(e.l)&&(g=convertToPercentage(e.s),C=convertToPercentage(e.l),r=hslToRgb(e.h,g,C),u=!0,f="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(l=e.a)),l=boundAlpha(l),{ok:u,format:e.format||f,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:l}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:"+CSS_NUMBER+")|(?:"+CSS_INTEGER+")",PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?",matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(e){if(e=e.trim().toLowerCase(),e.length===0)return!1;var r=!1;if(names[e])e=names[e],r=!0;else if(e==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var l=matchers.rgb.exec(e);return l?{r:l[1],g:l[2],b:l[3]}:(l=matchers.rgba.exec(e),l?{r:l[1],g:l[2],b:l[3],a:l[4]}:(l=matchers.hsl.exec(e),l?{h:l[1],s:l[2],l:l[3]}:(l=matchers.hsla.exec(e),l?{h:l[1],s:l[2],l:l[3],a:l[4]}:(l=matchers.hsv.exec(e),l?{h:l[1],s:l[2],v:l[3]}:(l=matchers.hsva.exec(e),l?{h:l[1],s:l[2],v:l[3],a:l[4]}:(l=matchers.hex8.exec(e),l?{r:parseIntFromHex(l[1]),g:parseIntFromHex(l[2]),b:parseIntFromHex(l[3]),a:convertHexToDecimal(l[4]),format:r?"name":"hex8"}:(l=matchers.hex6.exec(e),l?{r:parseIntFromHex(l[1]),g:parseIntFromHex(l[2]),b:parseIntFromHex(l[3]),format:r?"name":"hex"}:(l=matchers.hex4.exec(e),l?{r:parseIntFromHex(l[1]+l[1]),g:parseIntFromHex(l[2]+l[2]),b:parseIntFromHex(l[3]+l[3]),a:convertHexToDecimal(l[4]+l[4]),format:r?"name":"hex8"}:(l=matchers.hex3.exec(e),l?{r:parseIntFromHex(l[1]+l[1]),g:parseIntFromHex(l[2]+l[2]),b:parseIntFromHex(l[3]+l[3]),format:r?"name":"hex"}:!1)))))))))}function isValidCSSUnit(e){return Boolean(matchers.CSS_UNIT.exec(String(e)))}var TinyColor=function(){function e(r,l){r===void 0&&(r=""),l===void 0&&(l={});var g;if(r instanceof e)return r;typeof r=="number"&&(r=numberInputToObject(r)),this.originalInput=r;var x=inputToRGB(r);this.originalInput=r,this.r=x.r,this.g=x.g,this.b=x.b,this.a=x.a,this.roundA=Math.round(100*this.a)/100,this.format=(g=l.format)!==null&&g!==void 0?g:x.format,this.gradientType=l.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=x.ok}return e.prototype.isDark=function(){return this.getBrightness()<128},e.prototype.isLight=function(){return!this.isDark()},e.prototype.getBrightness=function(){var r=this.toRgb();return(r.r*299+r.g*587+r.b*114)/1e3},e.prototype.getLuminance=function(){var r=this.toRgb(),l,g,x,C=r.r/255,u=r.g/255,f=r.b/255;return C<=.03928?l=C/12.92:l=Math.pow((C+.055)/1.055,2.4),u<=.03928?g=u/12.92:g=Math.pow((u+.055)/1.055,2.4),f<=.03928?x=f/12.92:x=Math.pow((f+.055)/1.055,2.4),.2126*l+.7152*g+.0722*x},e.prototype.getAlpha=function(){return this.a},e.prototype.setAlpha=function(r){return this.a=boundAlpha(r),this.roundA=Math.round(100*this.a)/100,this},e.prototype.toHsv=function(){var r=rgbToHsv(this.r,this.g,this.b);return{h:r.h*360,s:r.s,v:r.v,a:this.a}},e.prototype.toHsvString=function(){var r=rgbToHsv(this.r,this.g,this.b),l=Math.round(r.h*360),g=Math.round(r.s*100),x=Math.round(r.v*100);return this.a===1?"hsv("+l+", "+g+"%, "+x+"%)":"hsva("+l+", "+g+"%, "+x+"%, "+this.roundA+")"},e.prototype.toHsl=function(){var r=rgbToHsl(this.r,this.g,this.b);return{h:r.h*360,s:r.s,l:r.l,a:this.a}},e.prototype.toHslString=function(){var r=rgbToHsl(this.r,this.g,this.b),l=Math.round(r.h*360),g=Math.round(r.s*100),x=Math.round(r.l*100);return this.a===1?"hsl("+l+", "+g+"%, "+x+"%)":"hsla("+l+", "+g+"%, "+x+"%, "+this.roundA+")"},e.prototype.toHex=function(r){return r===void 0&&(r=!1),rgbToHex(this.r,this.g,this.b,r)},e.prototype.toHexString=function(r){return r===void 0&&(r=!1),"#"+this.toHex(r)},e.prototype.toHex8=function(r){return r===void 0&&(r=!1),rgbaToHex(this.r,this.g,this.b,this.a,r)},e.prototype.toHex8String=function(r){return r===void 0&&(r=!1),"#"+this.toHex8(r)},e.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},e.prototype.toRgbString=function(){var r=Math.round(this.r),l=Math.round(this.g),g=Math.round(this.b);return this.a===1?"rgb("+r+", "+l+", "+g+")":"rgba("+r+", "+l+", "+g+", "+this.roundA+")"},e.prototype.toPercentageRgb=function(){var r=function(l){return Math.round(bound01(l,255)*100)+"%"};return{r:r(this.r),g:r(this.g),b:r(this.b),a:this.a}},e.prototype.toPercentageRgbString=function(){var r=function(l){return Math.round(bound01(l,255)*100)};return this.a===1?"rgb("+r(this.r)+"%, "+r(this.g)+"%, "+r(this.b)+"%)":"rgba("+r(this.r)+"%, "+r(this.g)+"%, "+r(this.b)+"%, "+this.roundA+")"},e.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var r="#"+rgbToHex(this.r,this.g,this.b,!1),l=0,g=Object.entries(names);l<g.length;l++){var x=g[l],C=x[0],u=x[1];if(r===u)return C}return!1},e.prototype.toString=function(r){var l=Boolean(r);r=r!=null?r:this.format;var g=!1,x=this.a<1&&this.a>=0,C=!l&&x&&(r.startsWith("hex")||r==="name");return C?r==="name"&&this.a===0?this.toName():this.toRgbString():(r==="rgb"&&(g=this.toRgbString()),r==="prgb"&&(g=this.toPercentageRgbString()),(r==="hex"||r==="hex6")&&(g=this.toHexString()),r==="hex3"&&(g=this.toHexString(!0)),r==="hex4"&&(g=this.toHex8String(!0)),r==="hex8"&&(g=this.toHex8String()),r==="name"&&(g=this.toName()),r==="hsl"&&(g=this.toHslString()),r==="hsv"&&(g=this.toHsvString()),g||this.toHexString())},e.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},e.prototype.clone=function(){return new e(this.toString())},e.prototype.lighten=function(r){r===void 0&&(r=10);var l=this.toHsl();return l.l+=r/100,l.l=clamp01(l.l),new e(l)},e.prototype.brighten=function(r){r===void 0&&(r=10);var l=this.toRgb();return l.r=Math.max(0,Math.min(255,l.r-Math.round(255*-(r/100)))),l.g=Math.max(0,Math.min(255,l.g-Math.round(255*-(r/100)))),l.b=Math.max(0,Math.min(255,l.b-Math.round(255*-(r/100)))),new e(l)},e.prototype.darken=function(r){r===void 0&&(r=10);var l=this.toHsl();return l.l-=r/100,l.l=clamp01(l.l),new e(l)},e.prototype.tint=function(r){return r===void 0&&(r=10),this.mix("white",r)},e.prototype.shade=function(r){return r===void 0&&(r=10),this.mix("black",r)},e.prototype.desaturate=function(r){r===void 0&&(r=10);var l=this.toHsl();return l.s-=r/100,l.s=clamp01(l.s),new e(l)},e.prototype.saturate=function(r){r===void 0&&(r=10);var l=this.toHsl();return l.s+=r/100,l.s=clamp01(l.s),new e(l)},e.prototype.greyscale=function(){return this.desaturate(100)},e.prototype.spin=function(r){var l=this.toHsl(),g=(l.h+r)%360;return l.h=g<0?360+g:g,new e(l)},e.prototype.mix=function(r,l){l===void 0&&(l=50);var g=this.toRgb(),x=new e(r).toRgb(),C=l/100,u={r:(x.r-g.r)*C+g.r,g:(x.g-g.g)*C+g.g,b:(x.b-g.b)*C+g.b,a:(x.a-g.a)*C+g.a};return new e(u)},e.prototype.analogous=function(r,l){r===void 0&&(r=6),l===void 0&&(l=30);var g=this.toHsl(),x=360/l,C=[this];for(g.h=(g.h-(x*r>>1)+720)%360;--r;)g.h=(g.h+x)%360,C.push(new e(g));return C},e.prototype.complement=function(){var r=this.toHsl();return r.h=(r.h+180)%360,new e(r)},e.prototype.monochromatic=function(r){r===void 0&&(r=6);for(var l=this.toHsv(),g=l.h,x=l.s,C=l.v,u=[],f=1/r;r--;)u.push(new e({h:g,s:x,v:C})),C=(C+f)%1;return u},e.prototype.splitcomplement=function(){var r=this.toHsl(),l=r.h;return[this,new e({h:(l+72)%360,s:r.s,l:r.l}),new e({h:(l+216)%360,s:r.s,l:r.l})]},e.prototype.onBackground=function(r){var l=this.toRgb(),g=new e(r).toRgb();return new e({r:g.r+(l.r-g.r)*l.a,g:g.g+(l.g-g.g)*l.a,b:g.b+(l.b-g.b)*l.a})},e.prototype.triad=function(){return this.polyad(3)},e.prototype.tetrad=function(){return this.polyad(4)},e.prototype.polyad=function(r){for(var l=this.toHsl(),g=l.h,x=[this],C=360/r,u=1;u<r;u++)x.push(new e({h:(g+u*C)%360,s:l.s,l:l.l}));return x},e.prototype.equals=function(r){return this.toRgbString()===new e(r).toRgbString()},e}(),epCss=':root{--el-color-white:#ffffff;--el-color-black:#000000;--el-color-primary:#409eff;--el-color-primary-light-1:#53a8ff;--el-color-primary-light-2:#66b1ff;--el-color-primary-light-3:#79bbff;--el-color-primary-light-4:#8cc5ff;--el-color-primary-light-5:#a0cfff;--el-color-primary-light-6:#b3d8ff;--el-color-primary-light-7:#c6e2ff;--el-color-primary-light-8:#d9ecff;--el-color-primary-light-9:#ecf5ff;--el-color-success:#67c23a;--el-color-success-light:#e1f3d8;--el-color-success-lighter:#f0f9eb;--el-color-warning:#e6a23c;--el-color-warning-light:#faecd8;--el-color-warning-lighter:#fdf6ec;--el-color-danger:#f56c6c;--el-color-danger-light:#fde2e2;--el-color-danger-lighter:#fef0f0;--el-color-error:#f56c6c;--el-color-error-light:#fde2e2;--el-color-error-lighter:#fef0f0;--el-color-info:#909399;--el-color-info-light:#e9e9eb;--el-color-info-lighter:#f4f4f5;--el-bg-color:#f5f7fa;--el-border-width-base:1px;--el-border-style-base:solid;--el-border-color-hover:var(--el-text-color-placeholder);--el-border-base:var(--el-border-width-base) var(--el-border-style-base) var(--el-border-color-base);--el-svg-monochrome-grey:#dcdde0;--el-fill-base:var(--el-color-white);--el-font-size-extra-large:20px;--el-font-size-large:18px;--el-font-size-medium:16px;--el-font-size-base:14px;--el-font-size-small:13px;--el-font-size-extra-small:12px;--el-font-weight-primary:500;--el-font-line-height-primary:24px;--el-text-color-disabled-base:#bbb;--el-index-normal:1;--el-index-top:1000;--el-index-popper:2000;--el-text-color-primary:#303133;--el-text-color-regular:#606266;--el-text-color-secondary:#909399;--el-text-color-placeholder:#c0c4cc;--el-border-color-base:#dcdfe6;--el-border-color-light:#e4e7ed;--el-border-color-lighter:#ebeef5;--el-border-color-extra-light:#f2f6fc;--el-border-radius-base:4px;--el-border-radius-small:2px;--el-border-radius-round:20px;--el-border-radius-circle:100%;--el-box-shadow-base:0 2px 4px rgba(0, 0, 0, 0.12),0 0 6px rgba(0, 0, 0, 0.04);--el-box-shadow-light:0 2px 12px 0 rgba(0, 0, 0, 0.1);--el-disabled-bg-color:var(--el-bg-color);--el-disabled-text-color:var(--el-text-color-placeholder);--el-disabled-border-color:var(--el-border-color-light);--el-transition-duration:0.3s;--el-transition-duration-fast:0.2s;--el-transition-function-ease-in-out-bezier:cubic-bezier(0.645, 0.045, 0.355, 1);--el-transition-function-fast-bezier:cubic-bezier(0.23, 1, 0.32, 1);--el-transition-all:all var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier);--el-transition-fade:opacity var(--el-transition-duration) var(--el-transition-function-fast-bezier);--el-transition-md-fade:transform var(--el-transition-duration) var(--el-transition-function-fast-bezier),opacity var(--el-transition-duration) var(--el-transition-function-fast-bezier);--el-transition-fade-linear:opacity var(--el-transition-duration-fast) linear;--el-transition-border:border-color var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier);--el-transition-color:color var(--el-transition-duration-fast) var(--el-transition-function-ease-in-out-bezier)}.fade-in-linear-enter-active,.fade-in-linear-leave-active{transition:var(--el-transition-fade-linear)}.fade-in-linear-enter-from,.fade-in-linear-leave-to{opacity:0}.el-fade-in-linear-enter-active,.el-fade-in-linear-leave-active{transition:var(--el-transition-fade-linear)}.el-fade-in-linear-enter-from,.el-fade-in-linear-leave-to{opacity:0}.el-fade-in-enter-active,.el-fade-in-leave-active{transition:all var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-fade-in-enter-from,.el-fade-in-leave-active{opacity:0}.el-zoom-in-center-enter-active,.el-zoom-in-center-leave-active{transition:all var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-zoom-in-center-enter-from,.el-zoom-in-center-leave-active{opacity:0;transform:scaleX(0)}.el-zoom-in-top-enter-active,.el-zoom-in-top-leave-active{opacity:1;transform:scaleY(1);transition:var(--el-transition-md-fade);transform-origin:center top}.el-zoom-in-top-enter-active[data-popper-placement^=top],.el-zoom-in-top-leave-active[data-popper-placement^=top]{transform-origin:center bottom}.el-zoom-in-top-enter-from,.el-zoom-in-top-leave-active{opacity:0;transform:scaleY(0)}.el-zoom-in-bottom-enter-active,.el-zoom-in-bottom-leave-active{opacity:1;transform:scaleY(1);transition:var(--el-transition-md-fade);transform-origin:center bottom}.el-zoom-in-bottom-enter-from,.el-zoom-in-bottom-leave-active{opacity:0;transform:scaleY(0)}.el-zoom-in-left-enter-active,.el-zoom-in-left-leave-active{opacity:1;transform:scale(1,1);transition:var(--el-transition-md-fade);transform-origin:top left}.el-zoom-in-left-enter-from,.el-zoom-in-left-leave-active{opacity:0;transform:scale(.45,.45)}.collapse-transition{transition:var(--el-transition-duration) height ease-in-out,var(--el-transition-duration) padding-top ease-in-out,var(--el-transition-duration) padding-bottom ease-in-out}.el-collapse-transition-enter-active,.el-collapse-transition-leave-active{transition:var(--el-transition-duration) max-height ease-in-out,var(--el-transition-duration) padding-top ease-in-out,var(--el-transition-duration) padding-bottom ease-in-out}.horizontal-collapse-transition{transition:var(--el-transition-duration) width ease-in-out,var(--el-transition-duration) padding-left ease-in-out,var(--el-transition-duration) padding-right ease-in-out}.el-list-enter-active,.el-list-leave-active{transition:all 1s}.el-list-enter-from,.el-list-leave-active{opacity:0;transform:translateY(-30px)}.el-opacity-transition{transition:opacity var(--el-transition-duration) cubic-bezier(.55,0,.1,1)}.el-icon-loading{animation:rotating 2s linear infinite}.el-icon--right{margin-left:5px}.el-icon--left{margin-right:5px}@keyframes rotating{0%{transform:rotateZ(0)}100%{transform:rotateZ(360deg)}}.el-icon{--color:inherit;height:1em;width:1em;line-height:1em;display:inline-flex;justify-content:center;align-items:center;position:relative;fill:currentColor;color:var(--color);font-size:inherit}.el-icon.is-loading{animation:rotating 2s linear infinite}.el-icon svg{height:1em;width:1em}.el-affix--fixed{position:fixed}.el-alert{--el-alert-padding:8px 16px;--el-alert-border-radius-base:var(--el-border-radius-base);--el-alert-title-font-size:13px;--el-alert-description-font-size:12px;--el-alert-close-font-size:12px;--el-alert-close-customed-font-size:13px;--el-alert-icon-size:16px;--el-alert-icon-large-size:28px;width:100%;padding:var(--el-alert-padding);margin:0;box-sizing:border-box;border-radius:var(--el-alert-border-radius-base);position:relative;background-color:var(--el-color-white);overflow:hidden;opacity:1;display:flex;align-items:center;transition:opacity var(--el-transition-duration-fast)}.el-alert.is-light .el-alert__close-btn{color:var(--el-text-color-placeholder)}.el-alert.is-dark .el-alert__close-btn{color:var(--el-color-white)}.el-alert.is-dark .el-alert__description{color:var(--el-color-white)}.el-alert.is-center{justify-content:center}.el-alert--success{--el-alert-bg-color:#f0f9eb}.el-alert--success.is-light{background-color:var(--el-alert-bg-color);color:var(--el-color-success)}.el-alert--success.is-light .el-alert__description{color:var(--el-color-success)}.el-alert--success.is-dark{background-color:var(--el-color-success);color:var(--el-color-white)}.el-alert--info{--el-alert-bg-color:#f4f4f5}.el-alert--info.is-light{background-color:var(--el-alert-bg-color);color:var(--el-color-info)}.el-alert--info.is-light .el-alert__description{color:var(--el-color-info)}.el-alert--info.is-dark{background-color:var(--el-color-info);color:var(--el-color-white)}.el-alert--warning{--el-alert-bg-color:#fdf6ec}.el-alert--warning.is-light{background-color:var(--el-alert-bg-color);color:var(--el-color-warning)}.el-alert--warning.is-light .el-alert__description{color:var(--el-color-warning)}.el-alert--warning.is-dark{background-color:var(--el-color-warning);color:var(--el-color-white)}.el-alert--error{--el-alert-bg-color:#fef0f0}.el-alert--error.is-light{background-color:var(--el-alert-bg-color);color:var(--el-color-error)}.el-alert--error.is-light .el-alert__description{color:var(--el-color-error)}.el-alert--error.is-dark{background-color:var(--el-color-error);color:var(--el-color-white)}.el-alert__content{display:table-cell;padding:0 8px}.el-alert .el-alert__icon{font-size:var(--el-alert-icon-size);width:var(--el-alert-icon-size)}.el-alert .el-alert__icon.is-big{font-size:var(--el-alert-icon-large-size);width:var(--el-alert-icon-large-size)}.el-alert__title{font-size:var(--el-alert-title-font-size);line-height:18px;vertical-align:text-top}.el-alert__title.is-bold{font-weight:700}.el-alert .el-alert__description{font-size:var(--el-alert-description-font-size);margin:5px 0 0 0}.el-alert .el-alert__close-btn{font-size:var(--el-alert-close-font-size);opacity:1;position:absolute;top:12px;right:15px;cursor:pointer}.el-alert .el-alert__close-btn.is-customed{font-style:normal;font-size:var(--el-alert-close-customed-font-size);top:9px}.el-alert-fade-enter-from,.el-alert-fade-leave-active{opacity:0}.el-aside{--el-aside-width:300px;overflow:auto;box-sizing:border-box;flex-shrink:0;width:var(--el-aside-width)}.el-autocomplete{position:relative;display:inline-block}.el-autocomplete__popper.el-popper[role=tooltip]{background:#fff;border:1px solid var(--el-border-color-light);box-shadow:var(--el-box-shadow-light)}.el-autocomplete__popper.el-popper[role=tooltip] .el-popper__arrow::before{border:1px solid var(--el-border-color-light)}.el-autocomplete__popper.el-popper[role=tooltip][data-popper-placement^=top] .el-popper__arrow::before{border-top-color:transparent;border-left-color:transparent}.el-autocomplete__popper.el-popper[role=tooltip][data-popper-placement^=bottom] .el-popper__arrow::before{border-bottom-color:transparent;border-right-color:transparent}.el-autocomplete__popper.el-popper[role=tooltip][data-popper-placement^=left] .el-popper__arrow::before{border-left-color:transparent;border-bottom-color:transparent}.el-autocomplete__popper.el-popper[role=tooltip][data-popper-placement^=right] .el-popper__arrow::before{border-right-color:transparent;border-top-color:transparent}.el-autocomplete-suggestion{border-radius:var(--el-border-radius-base);box-sizing:border-box}.el-autocomplete-suggestion__wrap{max-height:280px;padding:10px 0;box-sizing:border-box}.el-autocomplete-suggestion__list{margin:0;padding:0}.el-autocomplete-suggestion li{padding:0 20px;margin:0;line-height:34px;cursor:pointer;color:var(--el-text-color-regular);font-size:var(--el-font-size-base);list-style:none;text-align:left;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.el-autocomplete-suggestion li:hover{background-color:var(--el-bg-color)}.el-autocomplete-suggestion li.highlighted{background-color:var(--el-bg-color)}.el-autocomplete-suggestion li.divider{margin-top:6px;border-top:1px solid var(--el-color-black)}.el-autocomplete-suggestion li.divider:last-child{margin-bottom:-6px}.el-autocomplete-suggestion.is-loading li{text-align:center;height:100px;line-height:100px;font-size:20px;color:var(--el-text-color-secondary)}.el-autocomplete-suggestion.is-loading li::after{display:inline-block;content:"";height:100%;vertical-align:middle}.el-autocomplete-suggestion.is-loading li:hover{background-color:var(--el-color-white)}.el-autocomplete-suggestion.is-loading .el-icon-loading{vertical-align:middle}.el-avatar{--el-avatar-text-color:#fff;--el-avatar-bg-color:#c0c4cc;--el-avatar-text-size:14px;--el-avatar-icon-size:18px;--el-avatar-border-radius:var(--el-border-radius-base);--el-avatar-size-large:56px;--el-avatar-size-default:40px;--el-avatar-size-small:24px;display:inline-flex;justify-content:center;align-items:center;box-sizing:border-box;text-align:center;overflow:hidden;color:var(--el-avatar-text-color);background:var(--el-avatar-bg-color);width:var(--el-avatar-size);height:var(--el-avatar-size);font-size:var(--el-avatar-text-size)}.el-avatar>img{display:block;height:100%}.el-avatar--circle{border-radius:50%}.el-avatar--square{border-radius:var(--el-avatar-border-radius)}.el-avatar--icon{font-size:var(--el-avatar-icon-size)}.el-avatar--small{--el-avatar-size:24px}.el-avatar--default{--el-avatar-size:40px}.el-avatar--large{--el-avatar-size:56px}.el-backtop{--el-backtop-bg-color:var(--el-color-white);--el-backtop-text-color:var(--el-color-primary);--el-backtop-hover-bg-color:var(--el-border-color-extra-light);position:fixed;background-color:var(--el-backtop-bg-color);width:40px;height:40px;border-radius:50%;color:var(--el-backtop-text-color);display:flex;align-items:center;justify-content:center;font-size:20px;box-shadow:0 0 6px rgba(0,0,0,.12);cursor:pointer;z-index:5}.el-backtop:hover{background-color:var(--el-backtop-hover-bg-color)}.el-backtop__icon{font-size:20px}.el-badge{--el-badge-bg-color:var(--el-color-danger);--el-badge-radius:10px;--el-badge-font-size:12px;--el-badge-padding:6px;--el-badge-size:18px;position:relative;vertical-align:middle;display:inline-block}.el-badge__content{background-color:var(--el-badge-bg-color);border-radius:var(--el-badge-radius);color:var(--el-color-white);display:inline-block;font-size:var(--el-badge-font-size);height:var(--el-badge-size);line-height:var(--el-badge-size);padding:0 var(--el-badge-padding);text-align:center;white-space:nowrap;border:1px solid var(--el-color-white)}.el-badge__content.is-fixed{position:absolute;top:0;right:calc(1px + var(--el-badge-size)/ 2);transform:translateY(-50%) translateX(100%)}.el-badge__content.is-fixed.is-dot{right:5px}.el-badge__content.is-dot{height:8px;width:8px;padding:0;right:0;border-radius:50%}.el-badge__content--primary{background-color:var(--el-color-primary)}.el-badge__content--success{background-color:var(--el-color-success)}.el-badge__content--warning{background-color:var(--el-color-warning)}.el-badge__content--info{background-color:var(--el-color-info)}.el-badge__content--danger{background-color:var(--el-color-danger)}.el-breadcrumb{font-size:14px;line-height:1}.el-breadcrumb::after,.el-breadcrumb::before{display:table;content:""}.el-breadcrumb::after{clear:both}.el-breadcrumb__separator{margin:0 9px;font-weight:700;color:var(--el-text-color-placeholder)}.el-breadcrumb__separator.el-icon{margin:0 6px;font-weight:400}.el-breadcrumb__separator.el-icon svg{vertical-align:middle}.el-breadcrumb__item{float:left;display:flex;align-items:center}.el-breadcrumb__inner{color:var(--el-text-color-regular)}.el-breadcrumb__inner a,.el-breadcrumb__inner.is-link{font-weight:700;text-decoration:none;transition:var(--el-transition-color);color:var(--el-text-color-primary)}.el-breadcrumb__inner a:hover,.el-breadcrumb__inner.is-link:hover{color:var(--el-color-primary);cursor:pointer}.el-breadcrumb__item:last-child .el-breadcrumb__inner,.el-breadcrumb__item:last-child .el-breadcrumb__inner a,.el-breadcrumb__item:last-child .el-breadcrumb__inner a:hover,.el-breadcrumb__item:last-child .el-breadcrumb__inner:hover{font-weight:400;color:var(--el-text-color-regular);cursor:text}.el-breadcrumb__item:last-child .el-breadcrumb__separator{display:none}.el-button-group{display:inline-block;vertical-align:middle}.el-button-group::after,.el-button-group::before{display:table;content:""}.el-button-group::after{clear:both}.el-button-group>.el-button{float:left;position:relative}.el-button-group>.el-button+.el-button{margin-left:0}.el-button-group>.el-button:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.el-button-group>.el-button:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.el-button-group>.el-button:first-child:last-child{border-top-right-radius:var(--el-border-radius-base);border-bottom-right-radius:var(--el-border-radius-base);border-top-left-radius:var(--el-border-radius-base);border-bottom-left-radius:var(--el-border-radius-base)}.el-button-group>.el-button:first-child:last-child.is-round{border-radius:var(--el-border-radius-round)}.el-button-group>.el-button:first-child:last-child.is-circle{border-radius:50%}.el-button-group>.el-button:not(:first-child):not(:last-child){border-radius:0}.el-button-group>.el-button:not(:last-child){margin-right:-1px}.el-button-group>.el-button:active,.el-button-group>.el-button:focus,.el-button-group>.el-button:hover{z-index:1}.el-button-group>.el-button.is-active{z-index:1}.el-button-group>.el-dropdown>.el-button{border-top-left-radius:0;border-bottom-left-radius:0;border-left-color:var(--el-button-divide-border-color)}.el-button-group .el-button--primary:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--primary:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group .el-button--primary:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--success:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--success:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group .el-button--success:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--warning:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--warning:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group .el-button--warning:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--danger:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--danger:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group .el-button--danger:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--info:first-child{border-right-color:var(--el-button-divide-border-color)}.el-button-group .el-button--info:last-child{border-left-color:var(--el-button-divide-border-color)}.el-button-group .el-button--info:not(:first-child):not(:last-child){border-left-color:var(--el-button-divide-border-color);border-right-color:var(--el-button-divide-border-color)}.el-button{--el-button-font-weight:var(--el-font-weight-primary);--el-button-border-color:var(--el-border-color-base);--el-button-bg-color:var(--el-color-white);--el-button-text-color:var(--el-text-color-regular);--el-button-disabled-text-color:var(--el-disabled-text-color);--el-button-disabled-bg-color:var(--el-color-white);--el-button-disabled-border-color:var(--el-border-color-light);--el-button-divide-border-color:rgba(255, 255, 255, 0.5);--el-button-hover-text-color:var(--el-color-primary);--el-button-hover-bg-color:var(--el-color-primary-light-9);--el-button-hover-border-color:var(--el-color-primary-light-7);--el-button-active-text-color:var(--el-button-hover-text-color);--el-button-active-border-color:var(--el-color-primary);--el-button-active-bg-color:var(--el-button-hover-bg-color)}.el-button{display:inline-flex;justify-content:center;align-items:center;line-height:1;height:32px;white-space:nowrap;cursor:pointer;background-color:var(--el-button-bg-color,var(--el-color-white));border:var(--el-border-base);border-color:var(--el-button-border-color,var(--el-border-color-base));color:var(--el-button-text-color,var(--el-text-color-regular));-webkit-appearance:none;text-align:center;box-sizing:border-box;outline:0;margin:0;transition:.1s;font-weight:var(--el-button-font-weight);-webkit-user-select:none;user-select:none;vertical-align:middle;padding:8px 15px;font-size:var(--el-font-size-base,14px);border-radius:var(--el-border-radius-base)}.el-button>span{display:inline-flex;align-items:center}.el-button+.el-button{margin-left:12px}.el-button.is-round{padding:8px 15px}.el-button:focus,.el-button:hover{color:var(--el-button-hover-text-color);border-color:var(--el-button-hover-border-color,var(--el-button-hover-bg-color));background-color:var(--el-button-hover-bg-color);outline:0}.el-button:active{color:var(--el-button-active-text-color);border-color:var(--el-button-active-border-color,var(--el-button-active-bg-color));background-color:var(--el-button-active-bg-color,var(--el-button-bg-color));outline:0}.el-button::-moz-focus-inner{border:0}.el-button [class*=el-icon]+span{margin-left:6px}.el-button [class*=el-icon] svg{vertical-align:bottom}.el-button.is-plain{--el-button-active-text-color:#3a8ee6;--el-button-active-border-color:#3a8ee6;--el-button-hover-text-color:var(--el-color-primary);--el-button-hover-bg-color:var(--el-color-white);--el-button-hover-border-color:var(--el-color-primary)}.el-button.is-active{color:var(--el-button-active-text-color);border-color:var(--el-button-active-border-color,--el-button-active-bg-color);background-color:var(--el-button-active-bg-color);outline:0}.el-button.is-disabled,.el-button.is-disabled:focus,.el-button.is-disabled:hover{color:var(--el-button-disabled-text-color);cursor:not-allowed;background-image:none;background-color:var(--el-button-disabled-bg-color);border-color:var(--el-button-disabled-border-color)}.el-button.is-disabled.el-button--text{background-color:transparent}.el-button.is-disabled.is-plain,.el-button.is-disabled.is-plain:focus,.el-button.is-disabled.is-plain:hover{background-color:var(--el-color-white);border-color:var(--el-button-disabled-border-color);color:var(--el-button-disabled-text-color)}.el-button.is-loading{position:relative;pointer-events:none}.el-button.is-loading:before{pointer-events:none;content:"";position:absolute;left:-1px;top:-1px;right:-1px;bottom:-1px;border-radius:inherit;background-color:rgba(255,255,255,.35)}.el-button.is-round{border-radius:var(--el-border-radius-round)}.el-button.is-circle{border-radius:50%;padding:8px}.el-button__text--expand{letter-spacing:.3em;margin-right:-.3em}.el-button--default{--el-button-text-color:var(--el-text-color-regular);--el-button-hover-text-color:var(--el-color-primary);--el-button-disabled-text-color:var(--el-text-color-placeholder)}.el-button--primary{--el-button-text-color:var(--el-color-white);--el-button-hover-text-color:var(--el-color-white);--el-button-disabled-text-color:var(--el-color-white)}.el-button--primary.is-plain{--el-button-text-color:var(--el-color-primary);--el-button-bg-color:#ecf5ff;--el-button-border-color:#b3d8ff;--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-primary);--el-button-hover-border-color:var(--el-color-primary);--el-button-active-text-color:var(--el-color-white);--el-button-active-border-color:var(--el-color-primary)}.el-button--primary.is-plain.is-disabled,.el-button--primary.is-plain.is-disabled:active,.el-button--primary.is-plain.is-disabled:focus,.el-button--primary.is-plain.is-disabled:hover{color:#8cc5ff;background-color:#ecf5ff;border-color:#d9ecff}.el-button--success{--el-button-text-color:var(--el-color-white);--el-button-hover-text-color:var(--el-color-white);--el-button-disabled-text-color:var(--el-color-white)}.el-button--success.is-plain{--el-button-text-color:var(--el-color-success);--el-button-bg-color:#f0f9eb;--el-button-border-color:#c2e7b0;--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-success);--el-button-hover-border-color:var(--el-color-success);--el-button-active-text-color:var(--el-color-white);--el-button-active-border-color:var(--el-color-success)}.el-button--success.is-plain.is-disabled,.el-button--success.is-plain.is-disabled:active,.el-button--success.is-plain.is-disabled:focus,.el-button--success.is-plain.is-disabled:hover{color:#a4da89;background-color:#f0f9eb;border-color:#e1f3d8}.el-button--warning{--el-button-text-color:var(--el-color-white);--el-button-hover-text-color:var(--el-color-white);--el-button-disabled-text-color:var(--el-color-white)}.el-button--warning.is-plain{--el-button-text-color:var(--el-color-warning);--el-button-bg-color:#fdf6ec;--el-button-border-color:#f5dab1;--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-warning);--el-button-hover-border-color:var(--el-color-warning);--el-button-active-text-color:var(--el-color-white);--el-button-active-border-color:var(--el-color-warning)}.el-button--warning.is-plain.is-disabled,.el-button--warning.is-plain.is-disabled:active,.el-button--warning.is-plain.is-disabled:focus,.el-button--warning.is-plain.is-disabled:hover{color:#f0c78a;background-color:#fdf6ec;border-color:#faecd8}.el-button--danger{--el-button-text-color:var(--el-color-white);--el-button-hover-text-color:var(--el-color-white);--el-button-disabled-text-color:var(--el-color-white)}.el-button--danger.is-plain{--el-button-text-color:var(--el-color-danger);--el-button-bg-color:#fef0f0;--el-button-border-color:#fbc4c4;--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-danger);--el-button-hover-border-color:var(--el-color-danger);--el-button-active-text-color:var(--el-color-white);--el-button-active-border-color:var(--el-color-danger)}.el-button--danger.is-plain.is-disabled,.el-button--danger.is-plain.is-disabled:active,.el-button--danger.is-plain.is-disabled:focus,.el-button--danger.is-plain.is-disabled:hover{color:#f9a7a7;background-color:#fef0f0;border-color:#fde2e2}.el-button--info{--el-button-text-color:var(--el-color-white);--el-button-hover-text-color:var(--el-color-white);--el-button-disabled-text-color:var(--el-color-white)}.el-button--info.is-plain{--el-button-text-color:var(--el-color-info);--el-button-bg-color:#f4f4f5;--el-button-border-color:#d3d4d6;--el-button-hover-text-color:var(--el-color-white);--el-button-hover-bg-color:var(--el-color-info);--el-button-hover-border-color:var(--el-color-info);--el-button-active-text-color:var(--el-color-white);--el-button-active-border-color:var(--el-color-info)}.el-button--info.is-plain.is-disabled,.el-button--info.is-plain.is-disabled:active,.el-button--info.is-plain.is-disabled:focus,.el-button--info.is-plain.is-disabled:hover{color:#bcbec2;background-color:#f4f4f5;border-color:#e9e9eb}.el-button--large{--el-button-size:40px;height:var(--el-button-size);padding:12px 19px;font-size:var(--el-font-size-base,14px);border-radius:var(--el-border-radius-base)}.el-button--large [class*=el-icon]+span{margin-left:8px}.el-button--large.is-round{padding:12px 19px}.el-button--large.is-circle{width:var(--el-button-size);padding:12px}.el-button--small{--el-button-size:24px;height:var(--el-button-size);padding:5px 11px;font-size:12px;border-radius:calc(var(--el-border-radius-base) - 1px)}.el-button--small [class*=el-icon]+span{margin-left:4px}.el-button--small.is-round{padding:5px 11px}.el-button--small.is-circle{width:var(--el-button-size);padding:5px}.el-button--text{border-color:transparent;color:var(--el-color-primary);background:0 0;padding-left:0;padding-right:0}.el-button--text:focus,.el-button--text:hover{color:var(--el-color-primary-light-2);border-color:transparent;background-color:transparent}.el-button--text:active{color:#3a8ee6;border-color:transparent;background-color:transparent}.el-button--text.is-disabled,.el-button--text.is-disabled:focus,.el-button--text.is-disabled:hover{border-color:transparent}.el-calendar{--el-calendar-border:var(--el-table-border, 1px solid var(--el-border-color-lighter));--el-calendar-header-border-bottom:var(--el-calendar-border);--el-calendar-selected-bg-color:#f2f8fe;--el-calendar-cell-width:85px;background-color:#fff}.el-calendar__header{display:flex;justify-content:space-between;padding:12px 20px;border-bottom:var(--el-calendar-header-border-bottom)}.el-calendar__title{color:#000;align-self:center}.el-calendar__body{padding:12px 20px 35px}.el-calendar-table{table-layout:fixed;width:100%}.el-calendar-table thead th{padding:12px 0;color:var(--el-text-color-regular);font-weight:400}.el-calendar-table:not(.is-range) td.next,.el-calendar-table:not(.is-range) td.prev{color:var(--el-text-color-placeholder)}.el-calendar-table td{border-bottom:var(--el-calendar-border);border-right:var(--el-calendar-border);vertical-align:top;transition:background-color var(--el-transition-duration-fast) ease}.el-calendar-table td.is-selected{background-color:var(--el-calendar-selected-bg-color)}.el-calendar-table td.is-today{color:var(--el-color-primary)}.el-calendar-table tr:first-child td{border-top:var(--el-calendar-border)}.el-calendar-table tr td:first-child{border-left:var(--el-calendar-border)}.el-calendar-table tr.el-calendar-table__row--hide-border td{border-top:none}.el-calendar-table .el-calendar-day{box-sizing:border-box;padding:8px;height:var(--el-calendar-cell-width)}.el-calendar-table .el-calendar-day:hover{cursor:pointer;background-color:var(--el-calendar-selected-bg-color)}.el-card{--el-card-border-color:var(--el-border-color-light, #ebeef5);--el-card-border-radius:4px;--el-card-padding:20px;--el-card-bg-color:var(--el-color-white)}.dark .el-card{--el-card-bg-color:var(--el-color-black)}.el-card{border-radius:var(--el-card-border-radius);border:1px solid var(--el-card-border-color);background-color:var(--el-card-bg-color);overflow:hidden;color:var(--el-text-color-primary);transition:var(--el-transition-duration)}.el-card.is-always-shadow{box-shadow:var(--el-box-shadow-light)}.el-card.is-hover-shadow:focus,.el-card.is-hover-shadow:hover{box-shadow:var(--el-box-shadow-light)}.el-card__header{padding:calc(var(--el-card-padding) - 2px) var(--el-card-padding);border-bottom:1px solid var(--el-card-border-color);box-sizing:border-box}.el-card__body{padding:var(--el-card-padding)}.el-carousel__item{position:absolute;top:0;left:0;width:100%;height:100%;display:inline-block;overflow:hidden;z-index:calc(var(--el-index-normal) - 1)}.el-carousel__item.is-active{z-index:calc(var(--el-index-normal) - 1)}.el-carousel__item.is-animating{transition:transform .4s ease-in-out}.el-carousel__item--card{width:50%;transition:transform .4s ease-in-out}.el-carousel__item--card.is-in-stage{cursor:pointer;z-index:var(--el-index-normal)}.el-carousel__item--card.is-in-stage.is-hover .el-carousel__mask,.el-carousel__item--card.is-in-stage:hover .el-carousel__mask{opacity:.12}.el-carousel__item--card.is-active{z-index:calc(var(--el-index-normal) + 1)}.el-carousel__mask{position:absolute;width:100%;height:100%;top:0;left:0;background-color:#fff;opacity:.24;transition:var(--el-transition-duration-fast)}.el-carousel{--el-carousel-arrow-font-size:12px;--el-carousel-arrow-size:36px;--el-carousel-arrow-background:rgba(31, 45, 61, 0.11);--el-carousel-arrow-hover-background:rgba(31, 45, 61, 0.23);--el-carousel-indicator-width:30px;--el-carousel-indicator-height:2px;--el-carousel-indicator-padding-horizontal:4px;--el-carousel-indicator-padding-vertical:12px;--el-carousel-indicator-out-color:var(--el-border-color-hover);position:relative}.el-carousel--horizontal{overflow-x:hidden}.el-carousel--vertical{overflow-y:hidden}.el-carousel__container{position:relative;height:300px}.el-carousel__arrow{border:none;outline:0;padding:0;margin:0;height:var(--el-carousel-arrow-size);width:var(--el-carousel-arrow-size);cursor:pointer;transition:var(--el-transition-duration);border-radius:50%;background-color:var(--el-carousel-arrow-background);color:#fff;position:absolute;top:50%;z-index:10;transform:translateY(-50%);text-align:center;font-size:var(--el-carousel-arrow-font-size)}.el-carousel__arrow--left{left:16px}.el-carousel__arrow--right{right:16px}.el-carousel__arrow:hover{background-color:var(--el-carousel-arrow-hover-background)}.el-carousel__arrow i{cursor:pointer}.el-carousel__indicators{position:absolute;list-style:none;margin:0;padding:0;z-index:calc(var(--el-index-normal) + 1)}.el-carousel__indicators--horizontal{bottom:0;left:50%;transform:translateX(-50%)}.el-carousel__indicators--vertical{right:0;top:50%;transform:translateY(-50%)}.el-carousel__indicators--outside{bottom:calc(var(--el-carousel-indicator-height) + var(--el-carousel-indicator-padding-vertical) * 2);text-align:center;position:static;transform:none}.el-carousel__indicators--outside .el-carousel__indicator:hover button{opacity:.64}.el-carousel__indicators--outside button{background-color:var(--el-carousel-indicator-out-color);opacity:.24}.el-carousel__indicators--labels{left:0;right:0;transform:none;text-align:center}.el-carousel__indicators--labels .el-carousel__button{height:auto;width:auto;padding:2px 18px;font-size:12px}.el-carousel__indicators--labels .el-carousel__indicator{padding:6px 4px}.el-carousel__indicator{background-color:transparent;cursor:pointer}.el-carousel__indicator:hover button{opacity:.72}.el-carousel__indicator--horizontal{display:inline-block;padding:var(--el-carousel-indicator-padding-vertical) var(--el-carousel-indicator-padding-horizontal)}.el-carousel__indicator--vertical{padding:var(--el-carousel-indicator-padding-horizontal) var(--el-carousel-indicator-padding-vertical)}.el-carousel__indicator--vertical .el-carousel__button{width:var(--el-carousel-indicator-height);height:calc(var(--el-carousel-indicator-width)/ 2)}.el-carousel__indicator.is-active button{opacity:1}.el-carousel__button{display:block;opacity:.48;width:var(--el-carousel-indicator-width);height:var(--el-carousel-indicator-height);background-color:#fff;border:none;outline:0;padding:0;margin:0;cursor:pointer;transition:var(--el-transition-duration)}.carousel-arrow-left-enter-from,.carousel-arrow-left-leave-active{transform:translateY(-50%) translateX(-10px);opacity:0}.carousel-arrow-right-enter-from,.carousel-arrow-right-leave-active{transform:translateY(-50%) translateX(10px);opacity:0}.el-cascader-panel{--el-cascader-menu-text-color:var(--el-text-color-regular);--el-cascader-menu-selected-text-color:var(--el-color-primary);--el-cascader-menu-fill:var(--el-fill-base);--el-cascader-menu-font-size:var(--el-font-size-base);--el-cascader-menu-radius:var(--el-border-radius-base);--el-cascader-menu-border:solid 1px var(--el-border-color-light);--el-cascader-menu-shadow:var(--el-box-shadow-light);--el-cascader-node-background-hover:var(--el-bg-color);--el-cascader-node-color-disabled:var(--el-text-color-placeholder);--el-cascader-color-empty:var(--el-text-color-placeholder);--el-cascader-tag-background:#f0f2f5}.el-cascader-panel{display:flex;border-radius:var(--el-cascader-menu-radius);font-size:var(--el-cascader-menu-font-size)}.el-cascader-panel.is-bordered{border:var(--el-cascader-menu-border);border-radius:var(--el-cascader-menu-radius)}.el-cascader-menu{min-width:180px;box-sizing:border-box;color:var(--el-cascader-menu-text-color);border-right:var(--el-cascader-menu-border)}.el-cascader-menu:last-child{border-right:none}.el-cascader-menu:last-child .el-cascader-node{padding-right:20px}.el-cascader-menu__wrap.el-scrollbar__wrap{height:204px}.el-cascader-menu__list{position:relative;min-height:100%;margin:0;padding:6px 0;list-style:none;box-sizing:border-box}.el-cascader-menu__hover-zone{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.el-cascader-menu__empty-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:var(--el-cascader-color-empty)}.el-cascader-node{position:relative;display:flex;align-items:center;padding:0 30px 0 20px;height:34px;line-height:34px;outline:0}.el-cascader-node.is-selectable.in-active-path{color:var(--el-cascader-menu-text-color)}.el-cascader-node.in-active-path,.el-cascader-node.is-active,.el-cascader-node.is-selectable.in-checked-path{color:var(--el-cascader-menu-selected-text-color);font-weight:700}.el-cascader-node:not(.is-disabled){cursor:pointer}.el-cascader-node:not(.is-disabled):focus,.el-cascader-node:not(.is-disabled):hover{background:var(--el-cascader-node-background-hover)}.el-cascader-node.is-disabled{color:var(--el-cascader-node-color-disabled);cursor:not-allowed}.el-cascader-node__prefix{position:absolute;left:10px}.el-cascader-node__postfix{position:absolute;right:10px}.el-cascader-node__label{flex:1;text-align:left;padding:0 8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.el-cascader-node>.el-radio{margin-right:0}.el-cascader-node>.el-radio .el-radio__label{padding-left:0}.el-cascader{--el-cascader-menu-text-color:var(--el-text-color-regular);--el-cascader-menu-selected-text-color:var(--el-color-primary);--el-cascader-menu-fill:var(--el-fill-base);--el-cascader-menu-font-size:var(--el-font-size-base);--el-cascader-menu-radius:var(--el-border-radius-base);--el-cascader-menu-border:solid 1px var(--el-border-color-light);--el-cascader-menu-shadow:var(--el-box-shadow-light);--el-cascader-node-background-hover:var(--el-bg-color);--el-cascader-node-color-disabled:var(--el-text-color-placeholder);--el-cascader-color-empty:var(--el-text-color-placeholder);--el-cascader-tag-background:#f0f2f5;display:inline-block;position:relative;font-size:var(--el-font-size-base);line-height:32px;outline:0}.el-cascader:not(.is-disabled):hover .el-input__inner{cursor:pointer;border-color:var(--el-input-hover-border,var(--el-border-color-hover))}.el-cascader .el-input{cursor:pointer}.el-cascader .el-input .el-input__inner{text-overflow:ellipsis}.el-cascader .el-input .el-input__inner:focus{border-color:var(--el-input-focus-border,var(--el-color-primary))}.el-cascader .el-input .el-input__suffix-inner .el-icon{height:calc(100% - 2px)}.el-cascader .el-input .el-input__suffix-inner .el-icon svg{vertical-align:middle}.el-cascader .el-input .icon-arrow-down{transition:transform var(--el-transition-duration);font-size:14px}.el-cascader .el-input .icon-arrow-down.is-reverse{transform:rotateZ(180deg)}.el-cascader .el-input .icon-circle-close:hover{color:var(--el-input-clear-hover-color,var(--el-text-color-secondary))}.el-cascader .el-input.is-focus .el-input__inner{border-color:var(--el-input-focus-border,var(--el-color-primary))}.el-cascader--large{font-size:14px;line-height:40px}.el-cascader--small{font-size:12px;line-height:24px}.el-cascader.is-disabled .el-cascader__label{z-index:calc(var(--el-index-normal) + 1);color:var(--el-disabled-text-color)}.el-cascader__dropdown{--el-cascader-menu-text-color:var(--el-text-color-regular);--el-cascader-menu-selected-text-color:var(--el-color-primary);--el-cascader-menu-fill:var(--el-fill-base);--el-cascader-menu-font-size:var(--el-font-size-base);--el-cascader-menu-radius:var(--el-border-radius-base);--el-cascader-menu-border:solid 1px var(--el-border-color-light);--el-cascader-menu-shadow:var(--el-box-shadow-light);--el-cascader-node-background-hover:var(--el-bg-color);--el-cascader-node-color-disabled:var(--el-text-color-placeholder);--el-cascader-color-empty:var(--el-text-color-placeholder);--el-cascader-tag-background:#f0f2f5}.el-cascader__dropdown{font-size:var(--el-cascader-menu-font-size);border-radius:var(--el-cascader-menu-radius)}.el-cascader__dropdown.el-popper[role=tooltip]{background:var(--el-cascader-menu-fill);border:var(--el-cascader-menu-border);box-shadow:var(--el-cascader-menu-shadow)}.el-cascader__dropdown.el-popper[role=tooltip] .el-popper__arrow::before{border:var(--el-cascader-menu-border)}.el-cascader__dropdown.el-popper[role=tooltip][data-popper-placement^=top] .el-popper__arrow::before{border-top-color:transparent;border-left-color:transparent}.el-cascader__dropdown.el-popper[role=tooltip][data-popper-placement^=bottom] .el-popper__arrow::before{border-bottom-color:transparent;border-right-color:transparent}.el-cascader__dropdown.el-popper[role=tooltip][data-popper-placement^=left] .el-popper__arrow::before{border-left-color:transparent;border-bottom-color:transparent}.el-cascader__dropdown.el-popper[role=tooltip][data-popper-placement^=right] .el-popper__arrow::before{border-right-color:transparent;border-top-color:transparent}.el-cascader__dropdown.el-popper{box-shadow:var(--el-cascader-menu-shadow)}.el-cascader__tags{position:absolute;left:0;right:30px;top:50%;transform:translateY(-50%);display:flex;flex-wrap:wrap;line-height:normal;text-align:left;box-sizing:border-box}.el-cascader__tags .el-tag{display:inline-flex;align-items:center;max-width:100%;margin:2px 0 2px 6px;text-overflow:ellipsis;background:var(--el-cascader-tag-background)}.el-cascader__tags .el-tag:not(.is-hit){border-color:transparent}.el-cascader__tags .el-tag>span{flex:1;overflow:hidden;text-overflow:ellipsis}.el-cascader__tags .el-tag .el-icon-close{flex:none;background-color:var(--el-text-color-placeholder);color:var(--el-color-white)}.el-cascader__tags .el-tag .el-icon-close:hover{background-color:var(--el-text-color-secondary)}.el-cascader__suggestion-panel{border-radius:var(--el-cascader-menu-radius)}.el-cascader__suggestion-list{max-height:204px;margin:0;padding:6px 0;font-size:var(--el-font-size-base);color:var(--el-cascader-menu-text-color);text-align:center}.el-cascader__suggestion-item{display:flex;justify-content:space-between;align-items:center;height:34px;padding:0 15px;text-align:left;outline:0;cursor:pointer}.el-cascader__suggestion-item:focus,.el-cascader__suggestion-item:hover{background:var(--el-cascader-node-background-hover)}.el-cascader__suggestion-item.is-checked{color:var(--el-cascader-menu-selected-text-color);font-weight:700}.el-cascader__suggestion-item>span{margin-right:10px}.el-cascader__empty-text{margin:10px 0;color:var(--el-cascader-color-empty)}.el-cascader__search-input{flex:1;height:24px;min-width:60px;margin:2px 0 2px 15px;padding:0;color:var(--el-cascader-menu-text-color);border:none;outline:0;box-sizing:border-box}.el-cascader__search-input::placeholder{color:var(--el-text-color-placeholder)}.el-check-tag{background-color:var(--el-bg-color);border-radius:var(--el-border-radius-base);color:var(--el-color-info);cursor:pointer;display:inline-block;font-size:var(--el-font-size-base);line-height:var(--el-font-size-base);padding:7px 15px;transition:var(--el-transition-all);font-weight:700}.el-check-tag:hover{background-color:#dcdfe6}.el-check-tag.is-checked{background-color:#deedfc;color:#53a8ff}.el-check-tag.is-checked:hover{background-color:#c6e2ff}.el-checkbox-button{--el-checkbox-button-checked-bg-color:var(--el-color-primary);--el-checkbox-button-checked-text-color:var(--el-color-white);--el-checkbox-button-checked-border-color:var(--el-color-primary)}.el-checkbox-button{position:relative;display:inline-block}.el-checkbox-button__inner{display:inline-block;line-height:1;font-weight:var(--el-checkbox-font-weight);white-space:nowrap;vertical-align:middle;cursor:pointer;background:var(--el-button-bg-color,var(--el-color-white));border:1px solid #dcdfe6;border-left:0;color:var(--el-button-text-color,var(--el-text-color-regular));-webkit-appearance:none;text-align:center;box-sizing:border-box;outline:0;margin:0;position:relative;transition:var(--el-transition-all);-webkit-user-select:none;user-select:none;padding:8px 15px;font-size:var(--el-font-size-base,14px);border-radius:0}.el-checkbox-button__inner.is-round{padding:8px 15px}.el-checkbox-button__inner:hover{color:var(--el-color-primary)}.el-checkbox-button__inner [class*=el-icon-]{line-height:.9}.el-checkbox-button__inner [class*=el-icon-]+span{margin-left:5px}.el-checkbox-button__original{opacity:0;outline:0;position:absolute;margin:0;z-index:-1}.el-checkbox-button.is-checked .el-checkbox-button__inner{color:var(--el-checkbox-button-checked-text-color);background-color:var(--el-checkbox-button-checked-bg-color);border-color:var(--el-checkbox-button-checked-border-color);box-shadow:-1px 0 0 0 var(--el-color-primary-light-4)}.el-checkbox-button.is-checked:first-child .el-checkbox-button__inner{border-left-color:var(--el-checkbox-button-checked-border-color)}.el-checkbox-button.is-disabled .el-checkbox-button__inner{color:var(--el-button-disabled-text-color,var(--el-disabled-text-color));cursor:not-allowed;background-image:none;background-color:var(--el-button-disabled-bg-color,var(--el-color-white));border-color:var(--el-button-disabled-border-color,var(--el-border-color-light));box-shadow:none}.el-checkbox-button.is-disabled:first-child .el-checkbox-button__inner{border-left-color:var(--el-button-disabled-border-color,var(--el-border-color-light))}.el-checkbox-button:first-child .el-checkbox-button__inner{border-left:1px solid #dcdfe6;border-radius:var(--el-border-radius-base) 0 0 var(--el-border-radius-base);box-shadow:none!important}.el-checkbox-button.is-focus .el-checkbox-button__inner{border-color:var(--el-checkbox-button-checked-border-color)}.el-checkbox-button:last-child .el-checkbox-button__inner{border-radius:0 var(--el-border-radius-base) var(--el-border-radius-base) 0}.el-checkbox-button--large .el-checkbox-button__inner{padding:12px 19px;font-size:var(--el-font-size-base,14px);border-radius:0}.el-checkbox-button--large .el-checkbox-button__inner.is-round{padding:12px 19px}.el-checkbox-button--small .el-checkbox-button__inner{padding:5px 11px;font-size:12px;border-radius:0}.el-checkbox-button--small .el-checkbox-button__inner.is-round{padding:5px 11px}.el-checkbox-group{font-size:0}.el-checkbox{--el-checkbox-font-size:14px;--el-checkbox-font-weight:var(--el-font-weight-primary);--el-checkbox-text-color:var(--el-text-color-regular);--el-checkbox-input-height:14px;--el-checkbox-input-width:14px;--el-checkbox-border-radius:var(--el-border-radius-small);--el-checkbox-bg-color:var(--el-color-white);--el-checkbox-input-border:var(--el-border-base);--el-checkbox-disabled-border-color:var(--el-border-color-base);--el-checkbox-disabled-input-fill:#edf2fc;--el-checkbox-disabled-icon-color:var(--el-text-color-placeholder);--el-checkbox-disabled-checked-input-fill:var(--el-border-color-extra-light);--el-checkbox-disabled-checked-input-border-color:var(--el-border-color-base);--el-checkbox-disabled-checked-icon-color:var(--el-text-color-placeholder);--el-checkbox-checked-text-color:var(--el-color-primary);--el-checkbox-checked-input-border-color:var(--el-color-primary);--el-checkbox-checked-bg-color:var(--el-color-primary);--el-checkbox-checked-icon-color:var(--el-fill-base);--el-checkbox-input-border-color-hover:var(--el-color-primary)}.el-checkbox{color:var(--el-checkbox-text-color);font-weight:var(--el-checkbox-font-weight);font-size:var(--el-font-size-base);position:relative;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;-webkit-user-select:none;user-select:none;margin-right:30px;height:32px}.el-checkbox.is-bordered{padding:0 15px 0 9px;border-radius:var(--el-border-radius-base);border:var(--el-border-base);box-sizing:border-box}.el-checkbox.is-bordered.is-checked{border-color:var(--el-color-primary)}.el-checkbox.is-bordered.is-disabled{border-color:var(--el-border-color-lighter);cursor:not-allowed}.el-checkbox.is-bordered.el-checkbox--large{padding:0 19px 0 11px;border-radius:var(--el-border-radius-base)}.el-checkbox.is-bordered.el-checkbox--large .el-checkbox__label{font-size:var(--el-font-size-base,14px)}.el-checkbox.is-bordered.el-checkbox--large .el-checkbox__inner{height:14px;width:14px}.el-checkbox.is-bordered.el-checkbox--small{padding:0 11px 0 7px;border-radius:calc(var(--el-border-radius-base) - 1px)}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__label{font-size:12px}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__inner{height:12px;width:12px}.el-checkbox.is-bordered.el-checkbox--small .el-checkbox__inner::after{height:6px;width:2px}.el-checkbox__input{white-space:nowrap;cursor:pointer;outline:0;display:inline-flex;position:relative}.el-checkbox__input.is-disabled .el-checkbox__inner{background-color:var(--el-checkbox-disabled-input-fill);border-color:var(--el-checkbox-disabled-border-color);cursor:not-allowed}.el-checkbox__input.is-disabled .el-checkbox__inner::after{cursor:not-allowed;border-color:var(--el-checkbox-disabled-icon-color)}.el-checkbox__input.is-disabled .el-checkbox__inner+.el-checkbox__label{cursor:not-allowed}.el-checkbox__input.is-disabled.is-checked .el-checkbox__inner{background-color:var(--el-checkbox-disabled-checked-input-fill);border-color:var(--el-checkbox-disabled-checked-input-border-color)}.el-checkbox__input.is-disabled.is-checked .el-checkbox__inner::after{border-color:var(--el-checkbox-disabled-checked-icon-color)}.el-checkbox__input.is-disabled.is-indeterminate .el-checkbox__inner{background-color:var(--el-checkbox-disabled-checked-input-fill);border-color:var(--el-checkbox-disabled-checked-input-border-color)}.el-checkbox__input.is-disabled.is-indeterminate .el-checkbox__inner::before{background-color:var(--el-checkbox-disabled-checked-icon-color);border-color:var(--el-checkbox-disabled-checked-icon-color)}.el-checkbox__input.is-disabled+span.el-checkbox__label{color:var(--el-disabled-text-color);cursor:not-allowed}.el-checkbox__input.is-checked .el-checkbox__inner{background-color:var(--el-checkbox-checked-bg-color);border-color:var(--el-checkbox-checked-input-border-color)}.el-checkbox__input.is-checked .el-checkbox__inner::after{transform:rotate(45deg) scaleY(1)}.el-checkbox__input.is-checked+.el-checkbox__label{color:var(--el-checkbox-checked-text-color)}.el-checkbox__input.is-focus .el-checkbox__inner{border-color:var(--el-checkbox-input-border-color-hover)}.el-checkbox__input.is-indeterminate .el-checkbox__inner{background-color:var(--el-checkbox-checked-bg-color);border-color:var(--el-checkbox-checked-input-border-color)}.el-checkbox__input.is-indeterminate .el-checkbox__inner::before{content:"";position:absolute;display:block;background-color:var(--el-checkbox-checked-icon-color);height:2px;transform:scale(.5);left:0;right:0;top:5px}.el-checkbox__input.is-indeterminate .el-checkbox__inner::after{display:none}.el-checkbox__inner{display:inline-block;position:relative;border:var(--el-checkbox-input-border);border-radius:var(--el-checkbox-border-radius);box-sizing:border-box;width:var(--el-checkbox-input-width);height:var(--el-checkbox-input-height);background-color:var(--el-checkbox-bg-color);z-index:var(--el-index-normal);transition:border-color .25s cubic-bezier(.71,-.46,.29,1.46),background-color .25s cubic-bezier(.71,-.46,.29,1.46)}.el-checkbox__inner:hover{border-color:var(--el-checkbox-input-border-color-hover)}.el-checkbox__inner::after{box-sizing:content-box;content:"";border:1px solid var(--el-checkbox-checked-icon-color);border-left:0;border-top:0;height:7px;left:4px;position:absolute;top:1px;transform:rotate(45deg) scaleY(0);width:3px;transition:transform .15s ease-in 50ms;transform-origin:center}.el-checkbox__original{opacity:0;outline:0;position:absolute;margin:0;width:0;height:0;z-index:-1}.el-checkbox__label{display:inline-block;padding-left:8px;line-height:1;font-size:var(--el-checkbox-font-size)}.el-checkbox.el-checkbox--large{height:40px}.el-checkbox.el-checkbox--large .el-checkbox__label{font-size:14px}.el-checkbox.el-checkbox--large .el-checkbox__inner{width:14px;height:14px}.el-checkbox.el-checkbox--small{height:24px}.el-checkbox.el-checkbox--small .el-checkbox__label{font-size:12px}.el-checkbox.el-checkbox--small .el-checkbox__inner{width:12px;height:12px}.el-checkbox.el-checkbox--small .el-checkbox__input.is-indeterminate .el-checkbox__inner::before{top:4px}.el-checkbox.el-checkbox--small .el-checkbox__inner::after{width:2px;height:6px}.el-checkbox:last-of-type{margin-right:0}[class*=el-col-]{float:left;box-sizing:border-box}[class*=el-col-].is-guttered{display:block;min-height:1px}.el-col-0{display:none}.el-col-0.is-guttered{display:none}.el-col-0{max-width:0%;flex:0 0 0%}.el-col-offset-0{margin-left:0}.el-col-pull-0{position:relative;right:0}.el-col-push-0{position:relative;left:0}.el-col-1{max-width:4.1666666667%;flex:0 0 4.1666666667%}.el-col-offset-1{margin-left:4.1666666667%}.el-col-pull-1{position:relative;right:4.1666666667%}.el-col-push-1{position:relative;left:4.1666666667%}.el-col-2{max-width:8.3333333333%;flex:0 0 8.3333333333%}.el-col-offset-2{margin-left:8.3333333333%}.el-col-pull-2{position:relative;right:8.3333333333%}.el-col-push-2{position:relative;left:8.3333333333%}.el-col-3{max-width:12.5%;flex:0 0 12.5%}.el-col-offset-3{margin-left:12.5%}.el-col-pull-3{position:relative;right:12.5%}.el-col-push-3{position:relative;left:12.5%}.el-col-4{max-width:16.6666666667%;flex:0 0 16.6666666667%}.el-col-offset-4{margin-left:16.6666666667%}.el-col-pull-4{position:relative;right:16.6666666667%}.el-col-push-4{position:relative;left:16.6666666667%}.el-col-5{max-width:20.8333333333%;flex:0 0 20.8333333333%}.el-col-offset-5{margin-left:20.8333333333%}.el-col-pull-5{position:relative;right:20.8333333333%}.el-col-push-5{position:relative;left:20.8333333333%}.el-col-6{max-width:25%;flex:0 0 25%}.el-col-offset-6{margin-left:25%}.el-col-pull-6{position:relative;right:25%}.el-col-push-6{position:relative;left:25%}.el-col-7{max-width:29.1666666667%;flex:0 0 29.1666666667%}.el-col-offset-7{margin-left:29.1666666667%}.el-col-pull-7{position:relative;right:29.1666666667%}.el-col-push-7{position:relative;left:29.1666666667%}.el-col-8{max-width:33.3333333333%;flex:0 0 33.3333333333%}.el-col-offset-8{margin-left:33.3333333333%}.el-col-pull-8{position:relative;right:33.3333333333%}.el-col-push-8{position:relative;left:33.3333333333%}.el-col-9{max-width:37.5%;flex:0 0 37.5%}.el-col-offset-9{margin-left:37.5%}.el-col-pull-9{position:relative;right:37.5%}.el-col-push-9{position:relative;left:37.5%}.el-col-10{max-width:41.6666666667%;flex:0 0 41.6666666667%}.el-col-offset-10{margin-left:41.6666666667%}.el-col-pull-10{position:relative;right:41.6666666667%}.el-col-push-10{position:relative;left:41.6666666667%}.el-col-11{max-width:45.8333333333%;flex:0 0 45.8333333333%}.el-col-offset-11{margin-left:45.8333333333%}.el-col-pull-11{position:relative;right:45.8333333333%}.el-col-push-11{position:relative;left:45.8333333333%}.el-col-12{max-width:50%;flex:0 0 50%}.el-col-offset-12{margin-left:50%}.el-col-pull-12{position:relative;right:50%}.el-col-push-12{position:relative;left:50%}.el-col-13{max-width:54.1666666667%;flex:0 0 54.1666666667%}.el-col-offset-13{margin-left:54.1666666667%}.el-col-pull-13{position:relative;right:54.1666666667%}.el-col-push-13{position:relative;left:54.1666666667%}.el-col-14{max-width:58.3333333333%;flex:0 0 58.3333333333%}.el-col-offset-14{margin-left:58.3333333333%}.el-col-pull-14{position:relative;right:58.3333333333%}.el-col-push-14{position:relative;left:58.3333333333%}.el-col-15{max-width:62.5%;flex:0 0 62.5%}.el-col-offset-15{margin-left:62.5%}.el-col-pull-15{position:relative;right:62.5%}.el-col-push-15{position:relative;left:62.5%}.el-col-16{max-width:66.6666666667%;flex:0 0 66.6666666667%}.el-col-offset-16{margin-left:66.6666666667%}.el-col-pull-16{position:relative;right:66.6666666667%}.el-col-push-16{position:relative;left:66.6666666667%}.el-col-17{max-width:70.8333333333%;flex:0 0 70.8333333333%}.el-col-offset-17{margin-left:70.8333333333%}.el-col-pull-17{position:relative;right:70.8333333333%}.el-col-push-17{position:relative;left:70.8333333333%}.el-col-18{max-width:75%;flex:0 0 75%}.el-col-offset-18{margin-left:75%}.el-col-pull-18{position:relative;right:75%}.el-col-push-18{position:relative;left:75%}.el-col-19{max-width:79.1666666667%;flex:0 0 79.1666666667%}.el-col-offset-19{margin-left:79.1666666667%}.el-col-pull-19{position:relative;right:79.1666666667%}.el-col-push-19{position:relative;left:79.1666666667%}.el-col-20{max-width:83.3333333333%;flex:0 0 83.3333333333%}.el-col-offset-20{margin-left:83.3333333333%}.el-col-pull-20{position:relative;right:83.3333333333%}.el-col-push-20{position:relative;left:83.3333333333%}.el-col-21{max-width:87.5%;flex:0 0 87.5%}.el-col-offset-21{margin-left:87.5%}.el-col-pull-21{position:relative;right:87.5%}.el-col-push-21{position:relative;left:87.5%}.el-col-22{max-width:91.6666666667%;flex:0 0 91.6666666667%}.el-col-offset-22{margin-left:91.6666666667%}.el-col-pull-22{position:relative;right:91.6666666667%}.el-col-push-22{position:relative;left:91.6666666667%}.el-col-23{max-width:95.8333333333%;flex:0 0 95.8333333333%}.el-col-offset-23{margin-left:95.8333333333%}.el-col-pull-23{position:relative;right:95.8333333333%}.el-col-push-23{position:relative;left:95.8333333333%}.el-col-24{max-width:100%;flex:0 0 100%}.el-col-offset-24{margin-left:100%}.el-col-pull-24{position:relative;right:100%}.el-col-push-24{position:relative;left:100%}@media only screen and (max-width:768px){.el-col-xs-0{display:none}.el-col-xs-0.is-guttered{display:none}.el-col-xs-0{max-width:0%;flex:0 0 0%}.el-col-xs-offset-0{margin-left:0}.el-col-xs-pull-0{position:relative;right:0}.el-col-xs-push-0{position:relative;left:0}.el-col-xs-1{display:block;max-width:4.1666666667%;flex:0 0 4.1666666667%}.el-col-xs-offset-1{margin-left:4.1666666667%}.el-col-xs-pull-1{position:relative;right:4.1666666667%}.el-col-xs-push-1{position:relative;left:4.1666666667%}.el-col-xs-2{display:block;max-width:8.3333333333%;flex:0 0 8.3333333333%}.el-col-xs-offset-2{margin-left:8.3333333333%}.el-col-xs-pull-2{position:relative;right:8.3333333333%}.el-col-xs-push-2{position:relative;left:8.3333333333%}.el-col-xs-3{display:block;max-width:12.5%;flex:0 0 12.5%}.el-col-xs-offset-3{margin-left:12.5%}.el-col-xs-pull-3{position:relative;right:12.5%}.el-col-xs-push-3{position:relative;left:12.5%}.el-col-xs-4{display:block;max-width:16.6666666667%;flex:0 0 16.6666666667%}.el-col-xs-offset-4{margin-left:16.6666666667%}.el-col-xs-pull-4{position:relative;right:16.6666666667%}.el-col-xs-push-4{position:relative;left:16.6666666667%}.el-col-xs-5{display:block;max-width:20.8333333333%;flex:0 0 20.8333333333%}.el-col-xs-offset-5{margin-left:20.8333333333%}.el-col-xs-pull-5{position:relative;right:20.8333333333%}.el-col-xs-push-5{position:relative;left:20.8333333333%}.el-col-xs-6{display:block;max-width:25%;flex:0 0 25%}.el-col-xs-offset-6{margin-left:25%}.el-col-xs-pull-6{position:relative;right:25%}.el-col-xs-push-6{position:relative;left:25%}.el-col-xs-7{display:block;max-width:29.1666666667%;flex:0 0 29.1666666667%}.el-col-xs-offset-7{margin-left:29.1666666667%}.el-col-xs-pull-7{position:relative;right:29.1666666667%}.el-col-xs-push-7{position:relative;left:29.1666666667%}.el-col-xs-8{display:block;max-width:33.3333333333%;flex:0 0 33.3333333333%}.el-col-xs-offset-8{margin-left:33.3333333333%}.el-col-xs-pull-8{position:relative;right:33.3333333333%}.el-col-xs-push-8{position:relative;left:33.3333333333%}.el-col-xs-9{display:block;max-width:37.5%;flex:0 0 37.5%}.el-col-xs-offset-9{margin-left:37.5%}.el-col-xs-pull-9{position:relative;right:37.5%}.el-col-xs-push-9{position:relative;left:37.5%}.el-col-xs-10{display:block;max-width:41.6666666667%;flex:0 0 41.6666666667%}.el-col-xs-offset-10{margin-left:41.6666666667%}.el-col-xs-pull-10{position:relative;right:41.6666666667%}.el-col-xs-push-10{position:relative;left:41.6666666667%}.el-col-xs-11{display:block;max-width:45.8333333333%;flex:0 0 45.8333333333%}.el-col-xs-offset-11{margin-left:45.8333333333%}.el-col-xs-pull-11{position:relative;right:45.8333333333%}.el-col-xs-push-11{position:relative;left:45.8333333333%}.el-col-xs-12{display:block;max-width:50%;flex:0 0 50%}.el-col-xs-offset-12{margin-left:50%}.el-col-xs-pull-12{position:relative;right:50%}.el-col-xs-push-12{position:relative;left:50%}.el-col-xs-13{display:block;max-width:54.1666666667%;flex:0 0 54.1666666667%}.el-col-xs-offset-13{margin-left:54.1666666667%}.el-col-xs-pull-13{position:relative;right:54.1666666667%}.el-col-xs-push-13{position:relative;left:54.1666666667%}.el-col-xs-14{display:block;max-width:58.3333333333%;flex:0 0 58.3333333333%}.el-col-xs-offset-14{margin-left:58.3333333333%}.el-col-xs-pull-14{position:relative;right:58.3333333333%}.el-col-xs-push-14{position:relative;left:58.3333333333%}.el-col-xs-15{display:block;max-width:62.5%;flex:0 0 62.5%}.el-col-xs-offset-15{margin-left:62.5%}.el-col-xs-pull-15{position:relative;right:62.5%}.el-col-xs-push-15{position:relative;left:62.5%}.el-col-xs-16{display:block;max-width:66.6666666667%;flex:0 0 66.6666666667%}.el-col-xs-offset-16{margin-left:66.6666666667%}.el-col-xs-pull-16{position:relative;right:66.6666666667%}.el-col-xs-push-16{position:relative;left:66.6666666667%}.el-col-xs-17{display:block;max-width:70.8333333333%;flex:0 0 70.8333333333%}.el-col-xs-offset-17{margin-left:70.8333333333%}.el-col-xs-pull-17{position:relative;right:70.8333333333%}.el-col-xs-push-17{position:relative;left:70.8333333333%}.el-col-xs-18{display:block;max-width:75%;flex:0 0 75%}.el-col-xs-offset-18{margin-left:75%}.el-col-xs-pull-18{position:relative;right:75%}.el-col-xs-push-18{position:relative;left:75%}.el-col-xs-19{display:block;max-width:79.1666666667%;flex:0 0 79.1666666667%}.el-col-xs-offset-19{margin-left:79.1666666667%}.el-col-xs-pull-19{position:relative;right:79.1666666667%}.el-col-xs-push-19{position:relative;left:79.1666666667%}.el-col-xs-20{display:block;max-width:83.3333333333%;flex:0 0 83.3333333333%}.el-col-xs-offset-20{margin-left:83.3333333333%}.el-col-xs-pull-20{position:relative;right:83.3333333333%}.el-col-xs-push-20{position:relative;left:83.3333333333%}.el-col-xs-21{display:block;max-width:87.5%;flex:0 0 87.5%}.el-col-xs-offset-21{margin-left:87.5%}.el-col-xs-pull-21{position:relative;right:87.5%}.el-col-xs-push-21{position:relative;left:87.5%}.el-col-xs-22{display:block;max-width:91.6666666667%;flex:0 0 91.6666666667%}.el-col-xs-offset-22{margin-left:91.6666666667%}.el-col-xs-pull-22{position:relative;right:91.6666666667%}.el-col-xs-push-22{position:relative;left:91.6666666667%}.el-col-xs-23{display:block;max-width:95.8333333333%;flex:0 0 95.8333333333%}.el-col-xs-offset-23{margin-left:95.8333333333%}.el-col-xs-pull-23{position:relative;right:95.8333333333%}.el-col-xs-push-23{position:relative;left:95.8333333333%}.el-col-xs-24{display:block;max-width:100%;flex:0 0 100%}.el-col-xs-offset-24{margin-left:100%}.el-col-xs-pull-24{position:relative;right:100%}.el-col-xs-push-24{position:relative;left:100%}}@media only screen and (min-width:768px){.el-col-sm-0{display:none}.el-col-sm-0.is-guttered{display:none}.el-col-sm-0{max-width:0%;flex:0 0 0%}.el-col-sm-offset-0{margin-left:0}.el-col-sm-pull-0{position:relative;right:0}.el-col-sm-push-0{position:relative;left:0}.el-col-sm-1{display:block;max-width:4.1666666667%;flex:0 0 4.1666666667%}.el-col-sm-offset-1{margin-left:4.1666666667%}.el-col-sm-pull-1{position:relative;right:4.1666666667%}.el-col-sm-push-1{position:relative;left:4.1666666667%}.el-col-sm-2{display:block;max-width:8.3333333333%;flex:0 0 8.3333333333%}.el-col-sm-offset-2{margin-left:8.3333333333%}.el-col-sm-pull-2{position:relative;right:8.3333333333%}.el-col-sm-push-2{position:relative;left:8.3333333333%}.el-col-sm-3{display:block;max-width:12.5%;flex:0 0 12.5%}.el-col-sm-offset-3{margin-left:12.5%}.el-col-sm-pull-3{position:relative;right:12.5%}.el-col-sm-push-3{position:relative;left:12.5%}.el-col-sm-4{display:block;max-width:16.6666666667%;flex:0 0 16.6666666667%}.el-col-sm-offset-4{margin-left:16.6666666667%}.el-col-sm-pull-4{position:relative;right:16.6666666667%}.el-col-sm-push-4{position:relative;left:16.6666666667%}.el-col-sm-5{display:block;max-width:20.8333333333%;flex:0 0 20.8333333333%}.el-col-sm-offset-5{margin-left:20.8333333333%}.el-col-sm-pull-5{position:relative;right:20.8333333333%}.el-col-sm-push-5{position:relative;left:20.8333333333%}.el-col-sm-6{display:block;max-width:25%;flex:0 0 25%}.el-col-sm-offset-6{margin-left:25%}.el-col-sm-pull-6{position:relative;right:25%}.el-col-sm-push-6{position:relative;left:25%}.el-col-sm-7{display:block;max-width:29.1666666667%;flex:0 0 29.1666666667%}.el-col-sm-offset-7{margin-left:29.1666666667%}.el-col-sm-pull-7{position:relative;right:29.1666666667%}.el-col-sm-push-7{position:relative;left:29.1666666667%}.el-col-sm-8{display:block;max-width:33.3333333333%;flex:0 0 33.3333333333%}.el-col-sm-offset-8{margin-left:33.3333333333%}.el-col-sm-pull-8{position:relative;right:33.3333333333%}.el-col-sm-push-8{position:relative;left:33.3333333333%}.el-col-sm-9{display:block;max-width:37.5%;flex:0 0 37.5%}.el-col-sm-offset-9{margin-left:37.5%}.el-col-sm-pull-9{position:relative;right:37.5%}.el-col-sm-push-9{position:relative;left:37.5%}.el-col-sm-10{display:block;max-width:41.6666666667%;flex:0 0 41.6666666667%}.el-col-sm-offset-10{margin-left:41.6666666667%}.el-col-sm-pull-10{position:relative;right:41.6666666667%}.el-col-sm-push-10{position:relative;left:41.6666666667%}.el-col-sm-11{display:block;max-width:45.8333333333%;flex:0 0 45.8333333333%}.el-col-sm-offset-11{margin-left:45.8333333333%}.el-col-sm-pull-11{position:relative;right:45.8333333333%}.el-col-sm-push-11{position:relative;left:45.8333333333%}.el-col-sm-12{display:block;max-width:50%;flex:0 0 50%}.el-col-sm-offset-12{margin-left:50%}.el-col-sm-pull-12{position:relative;right:50%}.el-col-sm-push-12{position:relative;left:50%}.el-col-sm-13{display:block;max-width:54.1666666667%;flex:0 0 54.1666666667%}.el-col-sm-offset-13{margin-left:54.1666666667%}.el-col-sm-pull-13{position:relative;right:54.1666666667%}.el-col-sm-push-13{position:relative;left:54.1666666667%}.el-col-sm-14{display:block;max-width:58.3333333333%;flex:0 0 58.3333333333%}.el-col-sm-offset-14{margin-left:58.3333333333%}.el-col-sm-pull-14{position:relative;right:58.3333333333%}.el-col-sm-push-14{position:relative;left:58.3333333333%}.el-col-sm-15{display:block;max-width:62.5%;flex:0 0 62.5%}.el-col-sm-offset-15{margin-left:62.5%}.el-col-sm-pull-15{position:relative;right:62.5%}.el-col-sm-push-15{position:relative;left:62.5%}.el-col-sm-16{display:block;max-width:66.6666666667%;flex:0 0 66.6666666667%}.el-col-sm-offset-16{margin-left:66.6666666667%}.el-col-sm-pull-16{position:relative;right:66.6666666667%}.el-col-sm-push-16{position:relative;left:66.6666666667%}.el-col-sm-17{display:block;max-width:70.8333333333%;flex:0 0 70.8333333333%}.el-col-sm-offset-17{margin-left:70.8333333333%}.el-col-sm-pull-17{position:relative;right:70.8333333333%}.el-col-sm-push-17{position:relative;left:70.8333333333%}.el-col-sm-18{display:block;max-width:75%;flex:0 0 75%}.el-col-sm-offset-18{margin-left:75%}.el-col-sm-pull-18{position:relative;right:75%}.el-col-sm-push-18{position:relative;left:75%}.el-col-sm-19{display:block;max-width:79.1666666667%;flex:0 0 79.1666666667%}.el-col-sm-offset-19{margin-left:79.1666666667%}.el-col-sm-pull-19{position:relative;right:79.1666666667%}.el-col-sm-push-19{position:relative;left:79.1666666667%}.el-col-sm-20{display:block;max-width:83.3333333333%;flex:0 0 83.3333333333%}.el-col-sm-offset-20{margin-left:83.3333333333%}.el-col-sm-pull-20{position:relative;right:83.3333333333%}.el-col-sm-push-20{position:relative;left:83.3333333333%}.el-col-sm-21{display:block;max-width:87.5%;flex:0 0 87.5%}.el-col-sm-offset-21{margin-left:87.5%}.el-col-sm-pull-21{position:relative;right:87.5%}.el-col-sm-push-21{position:relative;left:87.5%}.el-col-sm-22{display:block;max-width:91.6666666667%;flex:0 0 91.6666666667%}.el-col-sm-offset-22{margin-left:91.6666666667%}.el-col-sm-pull-22{position:relative;right:91.6666666667%}.el-col-sm-push-22{position:relative;left:91.6666666667%}.el-col-sm-23{display:block;max-width:95.8333333333%;flex:0 0 95.8333333333%}.el-col-sm-offset-23{margin-left:95.8333333333%}.el-col-sm-pull-23{position:relative;right:95.8333333333%}.el-col-sm-push-23{position:relative;left:95.8333333333%}.el-col-sm-24{display:block;max-width:100%;flex:0 0 100%}.el-col-sm-offset-24{margin-left:100%}.el-col-sm-pull-24{position:relative;right:100%}.el-col-sm-push-24{position:relative;left:100%}}@media only screen and (min-width:992px){.el-col-md-0{display:none}.el-col-md-0.is-guttered{display:none}.el-col-md-0{max-width:0%;flex:0 0 0%}.el-col-md-offset-0{margin-left:0}.el-col-md-pull-0{position:relative;right:0}.el-col-md-push-0{position:relative;left:0}.el-col-md-1{display:block;max-width:4.1666666667%;flex:0 0 4.1666666667%}.el-col-md-offset-1{margin-left:4.1666666667%}.el-col-md-pull-1{position:relative;right:4.1666666667%}.el-col-md-push-1{position:relative;left:4.1666666667%}.el-col-md-2{display:block;max-width:8.3333333333%;flex:0 0 8.3333333333%}.el-col-md-offset-2{margin-left:8.3333333333%}.el-col-md-pull-2{position:relative;right:8.3333333333%}.el-col-md-push-2{position:relative;left:8.3333333333%}.el-col-md-3{display:block;max-width:12.5%;flex:0 0 12.5%}.el-col-md-offset-3{margin-left:12.5%}.el-col-md-pull-3{position:relative;right:12.5%}.el-col-md-push-3{position:relative;left:12.5%}.el-col-md-4{display:block;max-width:16.6666666667%;flex:0 0 16.6666666667%}.el-col-md-offset-4{margin-left:16.6666666667%}.el-col-md-pull-4{position:relative;right:16.6666666667%}.el-col-md-push-4{position:relative;left:16.6666666667%}.el-col-md-5{display:block;max-width:20.8333333333%;flex:0 0 20.8333333333%}.el-col-md-offset-5{margin-left:20.8333333333%}.el-col-md-pull-5{position:relative;right:20.8333333333%}.el-col-md-push-5{position:relative;left:20.8333333333%}.el-col-md-6{display:block;max-width:25%;flex:0 0 25%}.el-col-md-offset-6{margin-left:25%}.el-col-md-pull-6{position:relative;right:25%}.el-col-md-push-6{position:relative;left:25%}.el-col-md-7{display:block;max-width:29.1666666667%;flex:0 0 29.1666666667%}.el-col-md-offset-7{margin-left:29.1666666667%}.el-col-md-pull-7{position:relative;right:29.1666666667%}.el-col-md-push-7{position:relative;left:29.1666666667%}.el-col-md-8{display:block;max-width:33.3333333333%;flex:0 0 33.3333333333%}.el-col-md-offset-8{margin-left:33.3333333333%}.el-col-md-pull-8{position:relative;right:33.3333333333%}.el-col-md-push-8{position:relative;left:33.3333333333%}.el-col-md-9{display:block;max-width:37.5%;flex:0 0 37.5%}.el-col-md-offset-9{margin-left:37.5%}.el-col-md-pull-9{position:relative;right:37.5%}.el-col-md-push-9{position:relative;left:37.5%}.el-col-md-10{display:block;max-width:41.6666666667%;flex:0 0 41.6666666667%}.el-col-md-offset-10{margin-left:41.6666666667%}.el-col-md-pull-10{position:relative;right:41.6666666667%}.el-col-md-push-10{position:relative;left:41.6666666667%}.el-col-md-11{display:block;max-width:45.8333333333%;flex:0 0 45.8333333333%}.el-col-md-offset-11{margin-left:45.8333333333%}.el-col-md-pull-11{position:relative;right:45.8333333333%}.el-col-md-push-11{position:relative;left:45.8333333333%}.el-col-md-12{display:block;max-width:50%;flex:0 0 50%}.el-col-md-offset-12{margin-left:50%}.el-col-md-pull-12{position:relative;right:50%}.el-col-md-push-12{position:relative;left:50%}.el-col-md-13{display:block;max-width:54.1666666667%;flex:0 0 54.1666666667%}.el-col-md-offset-13{margin-left:54.1666666667%}.el-col-md-pull-13{position:relative;right:54.1666666667%}.el-col-md-push-13{position:relative;left:54.1666666667%}.el-col-md-14{display:block;max-width:58.3333333333%;flex:0 0 58.3333333333%}.el-col-md-offset-14{margin-left:58.3333333333%}.el-col-md-pull-14{position:relative;right:58.3333333333%}.el-col-md-push-14{position:relative;left:58.3333333333%}.el-col-md-15{display:block;max-width:62.5%;flex:0 0 62.5%}.el-col-md-offset-15{margin-left:62.5%}.el-col-md-pull-15{position:relative;right:62.5%}.el-col-md-push-15{position:relative;left:62.5%}.el-col-md-16{display:block;max-width:66.6666666667%;flex:0 0 66.6666666667%}.el-col-md-offset-16{margin-left:66.6666666667%}.el-col-md-pull-16{position:relative;right:66.6666666667%}.el-col-md-push-16{position:relative;left:66.6666666667%}.el-col-md-17{display:block;max-width:70.8333333333%;flex:0 0 70.8333333333%}.el-col-md-offset-17{margin-left:70.8333333333%}.el-col-md-pull-17{position:relative;right:70.8333333333%}.el-col-md-push-17{position:relative;left:70.8333333333%}.el-col-md-18{display:block;max-width:75%;flex:0 0 75%}.el-col-md-offset-18{margin-left:75%}.el-col-md-pull-18{position:relative;right:75%}.el-col-md-push-18{position:relative;left:75%}.el-col-md-19{display:block;max-width:79.1666666667%;flex:0 0 79.1666666667%}.el-col-md-offset-19{margin-left:79.1666666667%}.el-col-md-pull-19{position:relative;right:79.1666666667%}.el-col-md-push-19{position:relative;left:79.1666666667%}.el-col-md-20{display:block;max-width:83.3333333333%;flex:0 0 83.3333333333%}.el-col-md-offset-20{margin-left:83.3333333333%}.el-col-md-pull-20{position:relative;right:83.3333333333%}.el-col-md-push-20{position:relative;left:83.3333333333%}.el-col-md-21{display:block;max-width:87.5%;flex:0 0 87.5%}.el-col-md-offset-21{margin-left:87.5%}.el-col-md-pull-21{position:relative;right:87.5%}.el-col-md-push-21{position:relative;left:87.5%}.el-col-md-22{display:block;max-width:91.6666666667%;flex:0 0 91.6666666667%}.el-col-md-offset-22{margin-left:91.6666666667%}.el-col-md-pull-22{position:relative;right:91.6666666667%}.el-col-md-push-22{position:relative;left:91.6666666667%}.el-col-md-23{display:block;max-width:95.8333333333%;flex:0 0 95.8333333333%}.el-col-md-offset-23{margin-left:95.8333333333%}.el-col-md-pull-23{position:relative;right:95.8333333333%}.el-col-md-push-23{position:relative;left:95.8333333333%}.el-col-md-24{display:block;max-width:100%;flex:0 0 100%}.el-col-md-offset-24{margin-left:100%}.el-col-md-pull-24{position:relative;right:100%}.el-col-md-push-24{position:relative;left:100%}}@media only screen and (min-width:1200px){.el-col-lg-0{display:none}.el-col-lg-0.is-guttered{display:none}.el-col-lg-0{max-width:0%;flex:0 0 0%}.el-col-lg-offset-0{margin-left:0}.el-col-lg-pull-0{position:relative;right:0}.el-col-lg-push-0{position:relative;left:0}.el-col-lg-1{display:block;max-width:4.1666666667%;flex:0 0 4.1666666667%}.el-col-lg-offset-1{margin-left:4.1666666667%}.el-col-lg-pull-1{position:relative;right:4.1666666667%}.el-col-lg-push-1{position:relative;left:4.1666666667%}.el-col-lg-2{display:block;max-width:8.3333333333%;flex:0 0 8.3333333333%}.el-col-lg-offset-2{margin-left:8.3333333333%}.el-col-lg-pull-2{position:relative;right:8.3333333333%}.el-col-lg-push-2{position:relative;left:8.3333333333%}.el-col-lg-3{display:block;max-width:12.5%;flex:0 0 12.5%}.el-col-lg-offset-3{margin-left:12.5%}.el-col-lg-pull-3{position:relative;right:12.5%}.el-col-lg-push-3{position:relative;left:12.5%}.el-col-lg-4{display:block;max-width:16.6666666667%;flex:0 0 16.6666666667%}.el-col-lg-offset-4{margin-left:16.6666666667%}.el-col-lg-pull-4{position:relative;right:16.6666666667%}.el-col-lg-push-4{position:relative;left:16.6666666667%}.el-col-lg-5{display:block;max-width:20.8333333333%;flex:0 0 20.8333333333%}.el-col-lg-offset-5{margin-left:20.8333333333%}.el-col-lg-pull-5{position:relative;right:20.8333333333%}.el-col-lg-push-5{position:relative;left:20.8333333333%}.el-col-lg-6{display:block;max-width:25%;flex:0 0 25%}.el-col-lg-offset-6{margin-left:25%}.el-col-lg-pull-6{position:relative;right:25%}.el-col-lg-push-6{position:relative;left:25%}.el-col-lg-7{display:block;max-width:29.1666666667%;flex:0 0 29.1666666667%}.el-col-lg-offset-7{margin-left:29.1666666667%}.el-col-lg-pull-7{position:relative;right:29.1666666667%}.el-col-lg-push-7{position:relative;left:29.1666666667%}.el-col-lg-8{display:block;max-width:33.3333333333%;flex:0 0 33.3333333333%}.el-col-lg-offset-8{margin-left:33.3333333333%}.el-col-lg-pull-8{position:relative;right:33.3333333333%}.el-col-lg-push-8{position:relative;left:33.3333333333%}.el-col-lg-9{display:block;max-width:37.5%;flex:0 0 37.5%}.el-col-lg-offset-9{margin-left:37.5%}.el-col-lg-pull-9{position:relative;right:37.5%}.el-col-lg-push-9{position:relative;left:37.5%}.el-col-lg-10{display:block;max-width:41.6666666667%;flex:0 0 41.6666666667%}.el-col-lg-offset-10{margin-left:41.6666666667%}.el-col-lg-pull-10{position:relative;right:41.6666666667%}.el-col-lg-push-10{position:relative;left:41.6666666667%}.el-col-lg-11{display:block;max-width:45.8333333333%;flex:0 0 45.8333333333%}.el-col-lg-offset-11{margin-left:45.8333333333%}.el-col-lg-pull-11{position:relative;right:45.8333333333%}.el-col-lg-push-11{position:relative;left:45.8333333333%}.el-col-lg-12{display:block;max-width:50%;flex:0 0 50%}.el-col-lg-offset-12{margin-left:50%}.el-col-lg-pull-12{position:relative;right:50%}.el-col-lg-push-12{position:relative;left:50%}.el-col-lg-13{display:block;max-width:54.1666666667%;flex:0 0 54.1666666667%}.el-col-lg-offset-13{margin-left:54.1666666667%}.el-col-lg-pull-13{position:relative;right:54.1666666667%}.el-col-lg-push-13{position:relative;left:54.1666666667%}.el-col-lg-14{display:block;max-width:58.3333333333%;flex:0 0 58.3333333333%}.el-col-lg-offset-14{margin-left:58.3333333333%}.el-col-lg-pull-14{position:relative;right:58.3333333333%}.el-col-lg-push-14{position:relative;left:58.3333333333%}.el-col-lg-15{display:block;max-width:62.5%;flex:0 0 62.5%}.el-col-lg-offset-15{margin-left:62.5%}.el-col-lg-pull-15{position:relative;right:62.5%}.el-col-lg-push-15{position:relative;left:62.5%}.el-col-lg-16{display:block;max-width:66.6666666667%;flex:0 0 66.6666666667%}.el-col-lg-offset-16{margin-left:66.6666666667%}.el-col-lg-pull-16{position:relative;right:66.6666666667%}.el-col-lg-push-16{position:relative;left:66.6666666667%}.el-col-lg-17{display:block;max-width:70.8333333333%;flex:0 0 70.8333333333%}.el-col-lg-offset-17{margin-left:70.8333333333%}.el-col-lg-pull-17{position:relative;right:70.8333333333%}.el-col-lg-push-17{position:relative;left:70.8333333333%}.el-col-lg-18{display:block;max-width:75%;flex:0 0 75%}.el-col-lg-offset-18{margin-left:75%}.el-col-lg-pull-18{position:relative;right:75%}.el-col-lg-push-18{position:relative;left:75%}.el-col-lg-19{display:block;max-width:79.1666666667%;flex:0 0 79.1666666667%}.el-col-lg-offset-19{margin-left:79.1666666667%}.el-col-lg-pull-19{position:relative;right:79.1666666667%}.el-col-lg-push-19{position:relative;left:79.1666666667%}.el-col-lg-20{display:block;max-width:83.3333333333%;flex:0 0 83.3333333333%}.el-col-lg-offset-20{margin-left:83.3333333333%}.el-col-lg-pull-20{position:relative;right:83.3333333333%}.el-col-lg-push-20{position:relative;left:83.3333333333%}.el-col-lg-21{display:block;max-width:87.5%;flex:0 0 87.5%}.el-col-lg-offset-21{margin-left:87.5%}.el-col-lg-pull-21{position:relative;right:87.5%}.el-col-lg-push-21{position:relative;left:87.5%}.el-col-lg-22{display:block;max-width:91.6666666667%;flex:0 0 91.6666666667%}.el-col-lg-offset-22{margin-left:91.6666666667%}.el-col-lg-pull-22{position:relative;right:91.6666666667%}.el-col-lg-push-22{position:relative;left:91.6666666667%}.el-col-lg-23{display:block;max-width:95.8333333333%;flex:0 0 95.8333333333%}.el-col-lg-offset-23{margin-left:95.8333333333%}.el-col-lg-pull-23{position:relative;right:95.8333333333%}.el-col-lg-push-23{position:relative;left:95.8333333333%}.el-col-lg-24{display:block;max-width:100%;flex:0 0 100%}.el-col-lg-offset-24{margin-left:100%}.el-col-lg-pull-24{position:relative;right:100%}.el-col-lg-push-24{position:relative;left:100%}}@media only screen and (min-width:1920px){.el-col-xl-0{display:none}.el-col-xl-0.is-guttered{display:none}.el-col-xl-0{max-width:0%;flex:0 0 0%}.el-col-xl-offset-0{margin-left:0}.el-col-xl-pull-0{position:relative;right:0}.el-col-xl-push-0{position:relative;left:0}.el-col-xl-1{display:block;max-width:4.1666666667%;flex:0 0 4.1666666667%}.el-col-xl-offset-1{margin-left:4.1666666667%}.el-col-xl-pull-1{position:relative;right:4.1666666667%}.el-col-xl-push-1{position:relative;left:4.1666666667%}.el-col-xl-2{display:block;max-width:8.3333333333%;flex:0 0 8.3333333333%}.el-col-xl-offset-2{margin-left:8.3333333333%}.el-col-xl-pull-2{position:relative;right:8.3333333333%}.el-col-xl-push-2{position:relative;left:8.3333333333%}.el-col-xl-3{display:block;max-width:12.5%;flex:0 0 12.5%}.el-col-xl-offset-3{margin-left:12.5%}.el-col-xl-pull-3{position:relative;right:12.5%}.el-col-xl-push-3{position:relative;left:12.5%}.el-col-xl-4{display:block;max-width:16.6666666667%;flex:0 0 16.6666666667%}.el-col-xl-offset-4{margin-left:16.6666666667%}.el-col-xl-pull-4{position:relative;right:16.6666666667%}.el-col-xl-push-4{position:relative;left:16.6666666667%}.el-col-xl-5{display:block;max-width:20.8333333333%;flex:0 0 20.8333333333%}.el-col-xl-offset-5{margin-left:20.8333333333%}.el-col-xl-pull-5{position:relative;right:20.8333333333%}.el-col-xl-push-5{position:relative;left:20.8333333333%}.el-col-xl-6{display:block;max-width:25%;flex:0 0 25%}.el-col-xl-offset-6{margin-left:25%}.el-col-xl-pull-6{position:relative;right:25%}.el-col-xl-push-6{position:relative;left:25%}.el-col-xl-7{display:block;max-width:29.1666666667%;flex:0 0 29.1666666667%}.el-col-xl-offset-7{margin-left:29.1666666667%}.el-col-xl-pull-7{position:relative;right:29.1666666667%}.el-col-xl-push-7{position:relative;left:29.1666666667%}.el-col-xl-8{display:block;max-width:33.3333333333%;flex:0 0 33.3333333333%}.el-col-xl-offset-8{margin-left:33.3333333333%}.el-col-xl-pull-8{position:relative;right:33.3333333333%}.el-col-xl-push-8{position:relative;left:33.3333333333%}.el-col-xl-9{display:block;max-width:37.5%;flex:0 0 37.5%}.el-col-xl-offset-9{margin-left:37.5%}.el-col-xl-pull-9{position:relative;right:37.5%}.el-col-xl-push-9{position:relative;left:37.5%}.el-col-xl-10{display:block;max-width:41.6666666667%;flex:0 0 41.6666666667%}.el-col-xl-offset-10{margin-left:41.6666666667%}.el-col-xl-pull-10{position:relative;right:41.6666666667%}.el-col-xl-push-10{position:relative;left:41.6666666667%}.el-col-xl-11{display:block;max-width:45.8333333333%;flex:0 0 45.8333333333%}.el-col-xl-offset-11{margin-left:45.8333333333%}.el-col-xl-pull-11{position:relative;right:45.8333333333%}.el-col-xl-push-11{position:relative;left:45.8333333333%}.el-col-xl-12{display:block;max-width:50%;flex:0 0 50%}.el-col-xl-offset-12{margin-left:50%}.el-col-xl-pull-12{position:relative;right:50%}.el-col-xl-push-12{position:relative;left:50%}.el-col-xl-13{display:block;max-width:54.1666666667%;flex:0 0 54.1666666667%}.el-col-xl-offset-13{margin-left:54.1666666667%}.el-col-xl-pull-13{position:relative;right:54.1666666667%}.el-col-xl-push-13{position:relative;left:54.1666666667%}.el-col-xl-14{display:block;max-width:58.3333333333%;flex:0 0 58.3333333333%}.el-col-xl-offset-14{margin-left:58.3333333333%}.el-col-xl-pull-14{position:relative;right:58.3333333333%}.el-col-xl-push-14{position:relative;left:58.3333333333%}.el-col-xl-15{display:block;max-width:62.5%;flex:0 0 62.5%}.el-col-xl-offset-15{margin-left:62.5%}.el-col-xl-pull-15{position:relative;right:62.5%}.el-col-xl-push-15{position:relative;left:62.5%}.el-col-xl-16{display:block;max-width:66.6666666667%;flex:0 0 66.6666666667%}.el-col-xl-offset-16{margin-left:66.6666666667%}.el-col-xl-pull-16{position:relative;right:66.6666666667%}.el-col-xl-push-16{position:relative;left:66.6666666667%}.el-col-xl-17{display:block;max-width:70.8333333333%;flex:0 0 70.8333333333%}.el-col-xl-offset-17{margin-left:70.8333333333%}.el-col-xl-pull-17{position:relative;right:70.8333333333%}.el-col-xl-push-17{position:relative;left:70.8333333333%}.el-col-xl-18{display:block;max-width:75%;flex:0 0 75%}.el-col-xl-offset-18{margin-left:75%}.el-col-xl-pull-18{position:relative;right:75%}.el-col-xl-push-18{position:relative;left:75%}.el-col-xl-19{display:block;max-width:79.1666666667%;flex:0 0 79.1666666667%}.el-col-xl-offset-19{margin-left:79.1666666667%}.el-col-xl-pull-19{position:relative;right:79.1666666667%}.el-col-xl-push-19{position:relative;left:79.1666666667%}.el-col-xl-20{display:block;max-width:83.3333333333%;flex:0 0 83.3333333333%}.el-col-xl-offset-20{margin-left:83.3333333333%}.el-col-xl-pull-20{position:relative;right:83.3333333333%}.el-col-xl-push-20{position:relative;left:83.3333333333%}.el-col-xl-21{display:block;max-width:87.5%;flex:0 0 87.5%}.el-col-xl-offset-21{margin-left:87.5%}.el-col-xl-pull-21{position:relative;right:87.5%}.el-col-xl-push-21{position:relative;left:87.5%}.el-col-xl-22{display:block;max-width:91.6666666667%;flex:0 0 91.6666666667%}.el-col-xl-offset-22{margin-left:91.6666666667%}.el-col-xl-pull-22{position:relative;right:91.6666666667%}.el-col-xl-push-22{position:relative;left:91.6666666667%}.el-col-xl-23{display:block;max-width:95.8333333333%;flex:0 0 95.8333333333%}.el-col-xl-offset-23{margin-left:95.8333333333%}.el-col-xl-pull-23{position:relative;right:95.8333333333%}.el-col-xl-push-23{position:relative;left:95.8333333333%}.el-col-xl-24{display:block;max-width:100%;flex:0 0 100%}.el-col-xl-offset-24{margin-left:100%}.el-col-xl-pull-24{position:relative;right:100%}.el-col-xl-push-24{position:relative;left:100%}}.el-collapse{--el-collapse-border-color:var(--el-border-color-lighter);--el-collapse-header-height:48px;--el-collapse-header-bg-color:var(--el-color-white);--el-collapse-header-text-color:var(--el-text-color-primary);--el-collapse-header-font-size:13px;--el-collapse-content-bg-color:var(--el-color-white);--el-collapse-content-font-size:13px;--el-collapse-content-text-color:var(--el-text-color-primary);border-top:1px solid var(--el-collapse-border-color);border-bottom:1px solid var(--el-collapse-border-color)}.el-collapse-item.is-disabled .el-collapse-item__header{color:var(--el-text-color-disabled-base);cursor:not-allowed}.el-collapse-item__header{display:flex;align-items:center;height:var(--el-collapse-header-height);line-height:var(--el-collapse-header-height);background-color:var(--el-collapse-header-bg-color);color:var(--el-collapse-header-text-color);cursor:pointer;border-bottom:1px solid var(--el-collapse-border-color);font-size:var(--el-collapse-header-font-size);font-weight:500;transition:border-bottom-color var(--el-transition-duration);outline:0}.el-collapse-item__arrow{margin:0 8px 0 auto;transition:transform var(--el-transition-duration);font-weight:300}.el-collapse-item__arrow.is-active{transform:rotate(90deg)}.el-collapse-item__header.focusing:focus:not(:hover){color:var(--el-color-primary)}.el-collapse-item__header.is-active{border-bottom-color:transparent}.el-collapse-item__wrap{will-change:height;background-color:var(--el-collapse-content-bg-color);overflow:hidden;box-sizing:border-box;border-bottom:1px solid var(--el-collapse-border-color)}.el-collapse-item__content{padding-bottom:25px;font-size:var(--el-collapse-content-font-size);color:var(--el-collapse-content-text-color);line-height:1.7692307692}.el-collapse-item:last-child{margin-bottom:-1px}.el-color-predefine{display:flex;font-size:12px;margin-top:8px;width:280px}.el-color-predefine__colors{display:flex;flex:1;flex-wrap:wrap}.el-color-predefine__color-selector{margin:0 0 8px 8px;width:20px;height:20px;border-radius:4px;cursor:pointer}.el-color-predefine__color-selector:nth-child(10n+1){margin-left:0}.el-color-predefine__color-selector.selected{box-shadow:0 0 3px 2px var(--el-color-primary)}.el-color-predefine__color-selector>div{display:flex;height:100%;border-radius:3px}.el-color-predefine__color-selector.is-alpha{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.el-color-hue-slider{position:relative;box-sizing:border-box;width:280px;height:12px;background-color:red;padding:0 2px;float:right}.el-color-hue-slider__bar{position:relative;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%);height:100%}.el-color-hue-slider__thumb{position:absolute;cursor:pointer;box-sizing:border-box;left:0;top:0;width:4px;height:100%;border-radius:1px;background:#fff;border:1px solid #f0f0f0;box-shadow:0 0 2px rgba(0,0,0,.6);z-index:1}.el-color-hue-slider.is-vertical{width:12px;height:180px;padding:2px 0}.el-color-hue-slider.is-vertical .el-color-hue-slider__bar{background:linear-gradient(to bottom,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}.el-color-hue-slider.is-vertical .el-color-hue-slider__thumb{left:0;top:0;width:100%;height:4px}.el-color-svpanel{position:relative;width:280px;height:180px}.el-color-svpanel__black,.el-color-svpanel__white{position:absolute;top:0;left:0;right:0;bottom:0}.el-color-svpanel__white{background:linear-gradient(to right,#fff,rgba(255,255,255,0))}.el-color-svpanel__black{background:linear-gradient(to top,#000,rgba(0,0,0,0))}.el-color-svpanel__cursor{position:absolute}.el-color-svpanel__cursor>div{cursor:head;width:4px;height:4px;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);border-radius:50%;transform:translate(-2px,-2px)}.el-color-alpha-slider{position:relative;box-sizing:border-box;width:280px;height:12px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.el-color-alpha-slider__bar{position:relative;background:linear-gradient(to right,rgba(255,255,255,0) 0,#fff 100%);height:100%}.el-color-alpha-slider__thumb{position:absolute;cursor:pointer;box-sizing:border-box;left:0;top:0;width:4px;height:100%;border-radius:1px;background:#fff;border:1px solid #f0f0f0;box-shadow:0 0 2px rgba(0,0,0,.6);z-index:1}.el-color-alpha-slider.is-vertical{width:20px;height:180px}.el-color-alpha-slider.is-vertical .el-color-alpha-slider__bar{background:linear-gradient(to bottom,rgba(255,255,255,0) 0,#fff 100%)}.el-color-alpha-slider.is-vertical .el-color-alpha-slider__thumb{left:0;top:0;width:100%;height:4px}.el-color-dropdown{width:300px}.el-color-dropdown__main-wrapper{margin-bottom:6px}.el-color-dropdown__main-wrapper::after{content:"";display:table;clear:both}.el-color-dropdown__btns{margin-top:12px;text-align:right}.el-color-dropdown__value{float:left;line-height:26px;font-size:12px;color:#000;width:160px}.el-color-picker{display:inline-block;position:relative;line-height:normal}.el-color-picker.is-disabled .el-color-picker__trigger{cursor:not-allowed}.el-color-picker--large{height:40px}.el-color-picker--large .el-color-picker__trigger{height:40px;width:40px}.el-color-picker--large .el-color-picker__mask{height:38px;width:38px}.el-color-picker--small{height:24px}.el-color-picker--small .el-color-picker__trigger{height:24px;width:24px}.el-color-picker--small .el-color-picker__mask{height:22px;width:22px}.el-color-picker--small .el-color-picker__empty,.el-color-picker--small .el-color-picker__icon{transform:scale(.8)}.el-color-picker__mask{height:38px;width:38px;border-radius:4px;position:absolute;top:1px;left:1px;z-index:1;cursor:not-allowed;background-color:rgba(255,255,255,.7)}.el-color-picker__trigger{display:inline-flex;justify-content:center;align-items:center;box-sizing:border-box;height:32px;width:32px;padding:4px;border:1px solid #e6e6e6;border-radius:4px;font-size:0;position:relative;cursor:pointer}.el-color-picker__color{position:relative;display:block;box-sizing:border-box;border:1px solid var(--el-text-color-secondary);border-radius:var(--el-border-radius-small);width:100%;height:100%;text-align:center}.el-color-picker__color.is-alpha{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAIAAADZF8uwAAAAGUlEQVQYV2M4gwH+YwCGIasIUwhT25BVBADtzYNYrHvv4gAAAABJRU5ErkJggg==)}.el-color-picker__color-inner{display:inline-flex;justify-content:center;align-items:center;width:100%;height:100%}.el-color-picker .el-color-picker__empty{font-size:12px;color:var(--el-text-color-secondary)}.el-color-picker .el-color-picker__icon{display:inline-flex;justify-content:center;align-items:center;color:#fff;font-size:12px}.el-color-picker__panel{position:absolute;z-index:10;padding:6px;box-sizing:content-box;background-color:#fff;border-radius:var(--el-border-radius-base);box-shadow:var(--el-box-shadow-light)}.el-color-picker__panel.el-popper{border:1px solid var(--el-border-color-lighter)}.el-container{display:flex;flex-direction:row;flex:1;flex-basis:auto;box-sizing:border-box;min-width:0}.el-container.is-vertical{flex-direction:column}.el-date-table{font-size:12px;-webkit-user-select:none;user-select:none}.el-date-table.is-week-mode .el-date-table__row:hover .el-date-table-cell{background-color:var(--el-datepicker-inrange-bg-color)}.el-date-table.is-week-mode .el-date-table__row:hover td.available:hover{color:var(--el-datepicker-text-color)}.el-date-table.is-week-mode .el-date-table__row:hover td:first-child .el-date-table-cell{margin-left:5px;border-top-left-radius:15px;border-bottom-left-radius:15px}.el-date-table.is-week-mode .el-date-table__row:hover td:last-child .el-date-table-cell{margin-right:5px;border-top-right-radius:15px;border-bottom-right-radius:15px}.el-date-table.is-week-mode .el-date-table__row.current .el-date-table-cell{background-color:var(--el-datepicker-inrange-bg-color)}.el-date-table td{width:32px;height:30px;padding:4px 0;box-sizing:border-box;text-align:center;cursor:pointer;position:relative}.el-date-table td .el-date-table-cell{height:30px;padding:3px 0;box-sizing:border-box}.el-date-table td .el-date-table-cell .el-date-table-cell__text{width:24px;height:24px;display:block;margin:0 auto;line-height:24px;position:absolute;left:50%;transform:translateX(-50%);border-radius:50%}.el-date-table td.next-month,.el-date-table td.prev-month{color:var(--el-datepicker-off-text-color)}.el-date-table td.today{position:relative}.el-date-table td.today .el-date-table-cell__text{color:var(--el-color-primary);font-weight:700}.el-date-table td.today.end-date .el-date-table-cell__text,.el-date-table td.today.start-date .el-date-table-cell__text{color:#fff}.el-date-table td.available:hover{color:var(--el-datepicker-hover-text-color)}.el-date-table td.in-range .el-date-table-cell{background-color:var(--el-datepicker-inrange-bg-color)}.el-date-table td.in-range .el-date-table-cell:hover{background-color:var(--el-datepicker-inrange-hover-bg-color)}.el-date-table td.current:not(.disabled) .el-date-table-cell__text{color:#fff;background-color:var(--el-datepicker-active-color)}.el-date-table td.end-date .el-date-table-cell,.el-date-table td.start-date .el-date-table-cell{color:#fff}.el-date-table td.end-date .el-date-table-cell__text,.el-date-table td.start-date .el-date-table-cell__text{background-color:var(--el-datepicker-active-color)}.el-date-table td.start-date .el-date-table-cell{margin-left:5px;border-top-left-radius:15px;border-bottom-left-radius:15px}.el-date-table td.end-date .el-date-table-cell{margin-right:5px;border-top-right-radius:15px;border-bottom-right-radius:15px}.el-date-table td.disabled .el-date-table-cell{background-color:var(--el-bg-color);opacity:1;cursor:not-allowed;color:var(--el-text-color-placeholder)}.el-date-table td.selected .el-date-table-cell{margin-left:5px;margin-right:5px;background-color:var(--el-datepicker-inrange-bg-color);border-radius:15px}.el-date-table td.selected .el-date-table-cell:hover{background-color:var(--el-datepicker-inrange-hover-bg-color)}.el-date-table td.selected .el-date-table-cell__text{background-color:var(--el-datepicker-active-color);color:#fff;border-radius:15px}.el-date-table td.week{font-size:80%;color:var(--el-datepicker-header-text-color)}.el-date-table th{padding:5px;color:var(--el-datepicker-header-text-color);font-weight:400;border-bottom:solid 1px var(--el-border-color-lighter)}.el-month-table{font-size:12px;margin:-1px;border-collapse:collapse}.el-month-table td{text-align:center;padding:8px 0;cursor:pointer}.el-month-table td div{height:48px;padding:6px 0;box-sizing:border-box}.el-month-table td.today .cell{color:var(--el-color-primary);font-weight:700}.el-month-table td.today.end-date .cell,.el-month-table td.today.start-date .cell{color:#fff}.el-month-table td.disabled .cell{background-color:var(--el-bg-color);cursor:not-allowed;color:var(--el-text-color-placeholder)}.el-month-table td.disabled .cell:hover{color:var(--el-text-color-placeholder)}.el-month-table td .cell{width:60px;height:36px;display:block;line-height:36px;color:var(--el-datepicker-text-color);margin:0 auto;border-radius:18px}.el-month-table td .cell:hover{color:var(--el-datepicker-hover-text-color)}.el-month-table td.in-range div{background-color:var(--el-datepicker-inrange-bg-color)}.el-month-table td.in-range div:hover{background-color:var(--el-datepicker-inrange-hover-bg-color)}.el-month-table td.end-date div,.el-month-table td.start-date div{color:#fff}.el-month-table td.end-date .cell,.el-month-table td.start-date .cell{color:#fff;background-color:var(--el-datepicker-active-color)}.el-month-table td.start-date div{border-top-left-radius:24px;border-bottom-left-radius:24px}.el-month-table td.end-date div{border-top-right-radius:24px;border-bottom-right-radius:24px}.el-month-table td.current:not(.disabled) .cell{color:var(--el-datepicker-active-color)}.el-year-table{font-size:12px;margin:-1px;border-collapse:collapse}.el-year-table .el-icon{color:var(--el-datepicker-icon-color)}.el-year-table td{text-align:center;padding:20px 3px;cursor:pointer}.el-year-table td.today .cell{color:var(--el-color-primary);font-weight:700}.el-year-table td.disabled .cell{background-color:var(--el-bg-color);cursor:not-allowed;color:var(--el-text-color-placeholder)}.el-year-table td.disabled .cell:hover{color:var(--el-text-color-placeholder)}.el-year-table td .cell{width:48px;height:32px;display:block;line-height:32px;color:var(--el-datepicker-text-color);margin:0 auto}.el-year-table td .cell:hover{color:var(--el-datepicker-hover-text-color)}.el-year-table td.current:not(.disabled) .cell{color:var(--el-datepicker-active-color)}.el-time-spinner.has-seconds .el-time-spinner__wrapper{width:33.3%}.el-time-spinner__wrapper{max-height:192px;overflow:auto;display:inline-block;width:50%;vertical-align:top;position:relative}.el-time-spinner__wrapper .el-scrollbar__wrap:not(.el-scrollbar__wrap--hidden-default){padding-bottom:15px}.el-time-spinner__wrapper.is-arrow{box-sizing:border-box;text-align:center;overflow:hidden}.el-time-spinner__wrapper.is-arrow .el-time-spinner__list{transform:translateY(-32px)}.el-time-spinner__wrapper.is-arrow .el-time-spinner__item:hover:not(.disabled):not(.active){background:#fff;cursor:default}.el-time-spinner__arrow{font-size:12px;color:var(--el-text-color-secondary);position:absolute;left:0;width:100%;z-index:var(--el-index-normal);text-align:center;height:30px;line-height:30px;cursor:pointer}.el-time-spinner__arrow:hover{color:var(--el-color-primary)}.el-time-spinner__arrow.arrow-up{top:10px}.el-time-spinner__arrow.arrow-down{bottom:10px}.el-time-spinner__input.el-input{width:70%}.el-time-spinner__input.el-input .el-input__inner{padding:0;text-align:center}.el-time-spinner__list{padding:0;margin:0;list-style:none;text-align:center}.el-time-spinner__list::after,.el-time-spinner__list::before{content:"";display:block;width:100%;height:80px}.el-time-spinner__item{height:32px;line-height:32px;font-size:12px;color:var(--el-text-color-regular)}.el-time-spinner__item:hover:not(.disabled):not(.active){background:var(--el-bg-color);cursor:pointer}.el-time-spinner__item.active:not(.disabled){color:var(--el-text-color-primary);font-weight:700}.el-time-spinner__item.disabled{color:var(--el-text-color-placeholder);cursor:not-allowed}.el-picker__popper{--el-datepicker-border-color:var(--el-disabled-border-color)}.el-picker__popper.el-popper[role=tooltip]{background:var(--el-color-white);border:1px solid var(--el-datepicker-border-color);box-shadow:var(--el-box-shadow-light)}.el-picker__popper.el-popper[role=tooltip] .el-popper__arrow::before{border:1px solid var(--el-datepicker-border-color)}.el-picker__popper.el-popper[role=tooltip][data-popper-placement^=top] .el-popper__arrow::before{border-top-color:transparent;border-left-color:transparent}.el-picker__popper.el-popper[role=tooltip][data-popper-placement^=bottom] .el-popper__arrow::before{border-bottom-color:transparent;border-right-color:transparent}.el-picker__popper.el-popper[role=tooltip][data-popper-placement^=left] .el-popper__arrow::before{border-left-color:transparent;border-bottom-color:transparent}.el-picker__popper.el-popper[role=tooltip][data-popper-placement^=right] .el-popper__arrow::before{border-right-color:transparent;border-top-color:transparent}.el-date-editor{--el-date-editor-width:220px;--el-date-editor-monthrange-width:300px;--el-date-editor-daterange-width:350px;--el-date-editor-datetimerange-width:400px;position:relative;display:inline-block;text-align:left}.el-date-editor.el-input,.el-date-editor.el-input__inner{width:var(--el-date-editor-width)}.el-date-editor--monthrange.el-input,.el-date-editor--monthrange.el-input__inner{width:var(--el-date-editor-monthrange-width)}.el-date-editor--daterange.el-input,.el-date-editor--daterange.el-input__inner,.el-date-editor--timerange.el-input,.el-date-editor--timerange.el-input__inner{width:var(--el-date-editor-daterange-width)}.el-date-editor--datetimerange.el-input,.el-date-editor--datetimerange.el-input__inner{width:var(--el-date-editor-datetimerange-width)}.el-date-editor--dates .el-input__inner{text-overflow:ellipsis;white-space:nowrap}.el-date-editor .close-icon{cursor:pointer}.el-date-editor .clear-icon{cursor:pointer}.el-date-editor .clear-icon:hover{color:var(--el-text-color-secondary)}.el-date-editor .el-range__icon{height:inherit;font-size:14px;color:var(--el-text-color-placeholder);float:left}.el-date-editor .el-range__icon svg{vertical-align:middle}.el-date-editor .el-range-input{-webkit-appearance:none;appearance:none;border:none;outline:0;display:inline-block;height:100%;margin:0;padding:0;width:39%;text-align:center;font-size:var(--el-font-size-base);color:var(--el-text-color-regular)}.el-date-editor .el-range-input::placeholder{color:var(--el-text-color-placeholder)}.el-date-editor .el-range-separator{flex:1;display:inline-flex;justify-content:center;align-items:center;height:100%;padding:0 5px;margin:0;font-size:14px;word-break:keep-all;color:var(--el-text-color-primary)}.el-date-editor .el-range__close-icon{font-size:14px;color:var(--el-text-color-placeholder);height:inherit;width:unset;cursor:pointer}.el-date-editor .el-range__close-icon:hover{color:var(--el-text-color-secondary)}.el-date-editor .el-range__close-icon svg{vertical-align:middle}.el-date-editor .el-range__close-icon--hidden{opacity:0;visibility:hidden}.el-range-editor.el-input__inner{display:inline-flex;align-items:center;padding:3px 10px}.el-range-editor .el-range-input{line-height:1}.el-range-editor.is-active{border-color:var(--el-color-primary)}.el-range-editor.is-active:hover{border-color:var(--el-color-primary)}.el-range-editor--large{line-height:40px}.el-range-editor--large.el-input__inner{height:40px}.el-range-editor--large .el-range-separator{line-height:40px;font-size:14px}.el-range-editor--large .el-range-input{font-size:14px}.el-range-editor--small{line-height:24px}.el-range-editor--small.el-input__inner{height:24px}.el-range-editor--small .el-range-separator{line-height:24px;font-size:12px}.el-range-editor--small .el-range-input{font-size:12px}.el-range-editor.is-disabled{background-color:var(--el-disabled-bg-color);border-color:var(--el-disabled-border-color);color:var(--el-disabled-text-color);cursor:not-allowed}.el-range-editor.is-disabled:focus,.el-range-editor.is-disabled:hover{border-color:var(--el-disabled-border-color)}.el-range-editor.is-disabled input{background-color:var(--el-disabled-bg-color);color:var(--el-disabled-text-color);cursor:not-allowed}.el-range-editor.is-disabled input::placeholder{color:var(--el-text-color-placeholder)}.el-range-editor.is-disabled .el-range-separator{color:var(--el-disabled-text-color)}.el-picker-panel{color:var(--el-text-color-regular);background:#fff;border-radius:var(--el-border-radius-base);line-height:30px}.el-picker-panel .el-time-panel{margin:5px 0;border:solid 1px var(--el-datepicker-border-color);background-color:#fff;box-shadow:var(--el-box-shadow-light)}.el-picker-panel__body-wrapper::after,.el-picker-panel__body::after{content:"";display:table;clear:both}.el-picker-panel__content{position:relative;margin:15px}.el-picker-panel__footer{border-top:1px solid var(--el-datepicker-inner-border-color);padding:4px 12px;text-align:right;background-color:#fff;position:relative;font-size:0}.el-picker-panel__shortcut{display:block;width:100%;border:0;background-color:transparent;line-height:28px;font-size:14px;color:var(--el-datepicker-text-color);padding-left:12px;text-align:left;outline:0;cursor:pointer}.el-picker-panel__shortcut:hover{color:var(--el-datepicker-hover-text-color)}.el-picker-panel__shortcut.active{background-color:#e6f1fe;color:var(--el-datepicker-active-color)}.el-picker-panel__btn{border:1px solid #dcdcdc;color:var(--el-text-color-primary);line-height:24px;border-radius:2px;padding:0 20px;cursor:pointer;background-color:transparent;outline:0;font-size:12px}.el-picker-panel__btn[disabled]{color:#ccc;cursor:not-allowed}.el-picker-panel__icon-btn{font-size:12px;color:var(--el-datepicker-icon-color);border:0;background:0 0;cursor:pointer;outline:0;margin-top:8px}.el-picker-panel__icon-btn:hover{color:var(--el-datepicker-hover-text-color)}.el-picker-panel__icon-btn.is-disabled{color:var(--el-text-color-disabled-base)}.el-picker-panel__icon-btn.is-disabled:hover{cursor:not-allowed}.el-picker-panel__icon-btn .el-icon{cursor:pointer;font-size:inherit}.el-picker-panel__link-btn{vertical-align:middle}.el-picker-panel [slot=sidebar],.el-picker-panel__sidebar{position:absolute;top:0;bottom:0;width:110px;border-right:1px solid var(--el-datepicker-inner-border-color);box-sizing:border-box;padding-top:6px;background-color:#fff;overflow:auto}.el-picker-panel [slot=sidebar]+.el-picker-panel__body,.el-picker-panel__sidebar+.el-picker-panel__body{margin-left:110px}.el-date-picker{--el-datepicker-text-color:var(--el-text-color-regular);--el-datepicker-off-text-color:var(--el-text-color-placeholder);--el-datepicker-header-text-color:var(--el-text-color-regular);--el-datepicker-icon-color:var(--el-text-color-primary);--el-datepicker-border-color:var(--el-disabled-border-color);--el-datepicker-inner-border-color:var(--el-border-color-light);--el-datepicker-inrange-bg-color:var(--el-border-color-extra-light);--el-datepicker-inrange-hover-bg-color:var(--el-border-color-extra-light);--el-datepicker-active-color:var(--el-color-primary);--el-datepicker-hover-text-color:var(--el-color-primary)}.el-date-picker{width:322px}.el-date-picker.has-sidebar.has-time{width:434px}.el-date-picker.has-sidebar{width:438px}.el-date-picker.has-time .el-picker-panel__body-wrapper{position:relative}.el-date-picker .el-picker-panel__content{width:292px}.el-date-picker table{table-layout:fixed;width:100%}.el-date-picker__editor-wrap{position:relative;display:table-cell;padding:0 5px}.el-date-picker__time-header{position:relative;border-bottom:1px solid var(--el-datepicker-inner-border-color);font-size:12px;padding:8px 5px 5px 5px;display:table;width:100%;box-sizing:border-box}.el-date-picker__header{margin:12px;text-align:center}.el-date-picker__header--bordered{margin-bottom:0;padding-bottom:12px;border-bottom:solid 1px var(--el-border-color-lighter)}.el-date-picker__header--bordered+.el-picker-panel__content{margin-top:0}.el-date-picker__header-label{font-size:16px;font-weight:500;padding:0 5px;line-height:22px;text-align:center;cursor:pointer;color:var(--el-text-color-regular)}.el-date-picker__header-label:hover{color:var(--el-datepicker-hover-text-color)}.el-date-picker__header-label.active{color:var(--el-datepicker-active-color)}.el-date-picker__prev-btn{float:left}.el-date-picker__next-btn{float:right}.el-date-picker__time-wrap{padding:10px;text-align:center}.el-date-picker__time-label{float:left;cursor:pointer;line-height:30px;margin-left:10px}.el-date-picker .el-time-panel{position:absolute}.el-date-range-picker{--el-datepicker-text-color:var(--el-text-color-regular);--el-datepicker-off-text-color:var(--el-text-color-placeholder);--el-datepicker-header-text-color:var(--el-text-color-regular);--el-datepicker-icon-color:var(--el-text-color-primary);--el-datepicker-border-color:var(--el-disabled-border-color);--el-datepicker-inner-border-color:var(--el-border-color-light);--el-datepicker-inrange-bg-color:var(--el-border-color-extra-light);--el-datepicker-inrange-hover-bg-color:var(--el-border-color-extra-light);--el-datepicker-active-color:var(--el-color-primary);--el-datepicker-hover-text-color:var(--el-color-primary)}.el-date-range-picker{width:646px}.el-date-range-picker.has-sidebar{width:756px}.el-date-range-picker table{table-layout:fixed;width:100%}.el-date-range-picker .el-picker-panel__body{min-width:513px}.el-date-range-picker .el-picker-panel__content{margin:0}.el-date-range-picker__header{position:relative;text-align:center;height:28px}.el-date-range-picker__header [class*=arrow-left]{float:left}.el-date-range-picker__header [class*=arrow-right]{float:right}.el-date-range-picker__header div{font-size:16px;font-weight:500;margin-right:50px}.el-date-range-picker__content{float:left;width:50%;box-sizing:border-box;margin:0;padding:16px}.el-date-range-picker__content.is-left{border-right:1px solid var(--el-datepicker-inner-border-color)}.el-date-range-picker__content .el-date-range-picker__header div{margin-left:50px;margin-right:50px}.el-date-range-picker__editors-wrap{box-sizing:border-box;display:table-cell}.el-date-range-picker__editors-wrap.is-right{text-align:right}.el-date-range-picker__time-header{position:relative;border-bottom:1px solid var(--el-datepicker-inner-border-color);font-size:12px;padding:8px 5px 5px 5px;display:table;width:100%;box-sizing:border-box}.el-date-range-picker__time-header>.el-icon-arrow-right{font-size:20px;vertical-align:middle;display:table-cell;color:var(--el-datepicker-icon-color)}.el-date-range-picker__time-picker-wrap{position:relative;display:table-cell;padding:0 5px}.el-date-range-picker__time-picker-wrap .el-picker-panel{position:absolute;top:13px;right:0;z-index:1;background:#fff}.el-date-range-picker__time-picker-wrap .el-time-panel{position:absolute}.el-time-range-picker{width:354px;overflow:visible}.el-time-range-picker__content{position:relative;text-align:center;padding:10px;z-index:1}.el-time-range-picker__cell{box-sizing:border-box;margin:0;padding:4px 7px 7px;width:50%;display:inline-block}.el-time-range-picker__header{margin-bottom:5px;text-align:center;font-size:14px}.el-time-range-picker__body{border-radius:2px;border:1px solid var(--el-datepicker-border-color)}.el-time-panel{border-radius:2px;position:relative;width:180px;left:0;z-index:var(--el-index-top);-webkit-user-select:none;user-select:none;box-sizing:content-box}.el-time-panel__content{font-size:0;position:relative;overflow:hidden}.el-time-panel__content::after,.el-time-panel__content::before{content:"";top:50%;position:absolute;margin-top:-16px;height:32px;z-index:-1;left:0;right:0;box-sizing:border-box;padding-top:6px;text-align:left;border-top:1px solid var(--el-border-color-light);border-bottom:1px solid var(--el-border-color-light)}.el-time-panel__content::after{left:50%;margin-left:12%;margin-right:12%}.el-time-panel__content::before{padding-left:50%;margin-right:12%;margin-left:12%}.el-time-panel__content.has-seconds::after{left:66.6666666667%}.el-time-panel__content.has-seconds::before{padding-left:33.3333333333%}.el-time-panel__footer{border-top:1px solid var(--el-timepicker-inner-border-color,var(--el-border-color-light));padding:4px;height:36px;line-height:25px;text-align:right;box-sizing:border-box}.el-time-panel__btn{border:none;line-height:28px;padding:0 5px;margin:0 5px;cursor:pointer;background-color:transparent;outline:0;font-size:12px;color:var(--el-text-color-primary)}.el-time-panel__btn.confirm{font-weight:800;color:var(--el-timepicker-active-color,var(--el-color-primary))}.el-descriptions{--el-descriptions-table-border:1px solid var(--el-border-color-lighter);--el-descriptions-item-bordered-label-background:#f5f7fa;box-sizing:border-box;font-size:var(--el-font-size-base);color:var(--el-text-color-primary)}.el-descriptions__header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.el-descriptions__title{color:var(--el-text-color-primary);font-size:16px;font-weight:700}.el-descriptions__body{background-color:#fff}.el-descriptions__body .el-descriptions__table{border-collapse:collapse;width:100%}.el-descriptions__body .el-descriptions__table .el-descriptions__cell{box-sizing:border-box;text-align:left;font-weight:400;line-height:23px;font-size:14px}.el-descriptions__body .el-descriptions__table .el-descriptions__cell.is-left{text-align:left}.el-descriptions__body .el-descriptions__table .el-descriptions__cell.is-center{text-align:center}.el-descriptions__body .el-descriptions__table .el-descriptions__cell.is-right{text-align:right}.el-descriptions__body .el-descriptions__table.is-bordered .el-descriptions__cell{border:var(--el-descriptions-table-border);padding:8px 11px}.el-descriptions__body .el-descriptions__table:not(.is-bordered) .el-descriptions__cell{padding-bottom:12px}.el-descriptions--large{font-size:14px}.el-descriptions--large .el-descriptions__header{margin-bottom:20px}.el-descriptions--large .el-descriptions__header .el-descriptions__title{font-size:16px}.el-descriptions--large .el-descriptions__body .el-descriptions__table .el-descriptions__cell{font-size:14px}.el-descriptions--large .el-descriptions__body .el-descriptions__table.is-bordered .el-descriptions__cell{padding:12px 15px}.el-descriptions--large .el-descriptions__body .el-descriptions__table:not(.is-bordered) .el-descriptions__cell{padding-bottom:16px}.el-descriptions--small{font-size:12px}.el-descriptions--small .el-descriptions__header{margin-bottom:12px}.el-descriptions--small .el-descriptions__header .el-descriptions__title{font-size:14px}.el-descriptions--small .el-descriptions__body .el-descriptions__table .el-descriptions__cell{font-size:12px}.el-descriptions--small .el-descriptions__body .el-descriptions__table.is-bordered .el-descriptions__cell{padding:4px 7px}.el-descriptions--small .el-descriptions__body .el-descriptions__table:not(.is-bordered) .el-descriptions__cell{padding-bottom:8px}.el-descriptions__label.el-descriptions__cell.is-bordered-label{font-weight:700;color:var(--el-text-color-regular);background:var(--el-descriptions-item-bordered-label-background)}.el-descriptions__label:not(.is-bordered-label){color:var(--el-text-color-primary);margin-right:16px}.el-descriptions__label.el-descriptions__cell:not(.is-bordered-label).is-vertical-label{padding-bottom:6px}.el-descriptions__content.el-descriptions__cell.is-bordered-content{color:var(--el-text-color-primary)}.el-descriptions__content:not(.is-bordered-label){color:var(--el-text-color-regular)}.el-descriptions--large .el-descriptions__label:not(.is-bordered-label){margin-right:16px}.el-descriptions--large .el-descriptions__label.el-descriptions__cell:not(.is-bordered-label).is-vertical-label{padding-bottom:8px}.el-descriptions--small .el-descriptions__label:not(.is-bordered-label){margin-right:12px}.el-descriptions--small .el-descriptions__label.el-descriptions__cell:not(.is-bordered-label).is-vertical-label{padding-bottom:4px}:root{--el-popup-modal-bg-color:var(--el-color-black);--el-popup-modal-opacity:0.5}.v-modal-enter{animation:v-modal-in var(--el-transition-duration-fast) ease}.v-modal-leave{animation:v-modal-out var(--el-transition-duration-fast) ease forwards}@keyframes v-modal-in{0%{opacity:0}}@keyframes v-modal-out{100%{opacity:0}}.v-modal{position:fixed;left:0;top:0;width:100%;height:100%;opacity:var(--el-popup-modal-opacity);background:var(--el-popup-modal-bg-color)}.el-popup-parent--hidden{overflow:hidden}.el-dialog{--el-dialog-width:50%;--el-dialog-margin-top:15vh;--el-dialog-bg-color:var(--el-color-white);--el-dialog-box-shadow:0 1px 3px rgba(0, 0, 0, 0.3);--el-dialog-title-font-size:var(--el-font-size-large);--el-dialog-content-font-size:14px;--el-dialog-font-line-height:var(--el-font-line-height-primary);--el-dialog-padding-primary:20px;position:relative;margin:var(--el-dialog-margin-top,15vh) auto 50px;background:var(--el-dialog-bg-color);border-radius:var(--el-border-radius-small);box-shadow:var(--el-dialog-box-shadow);box-sizing:border-box;width:var(--el-dialog-width,50%)}.el-dialog.is-fullscreen{--el-dialog-width:100%;--el-dialog-margin-top:0;margin-bottom:0;height:100%;overflow:auto}.el-dialog__wrapper{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto;margin:0}.el-dialog.is-draggable .el-dialog__header{cursor:move;-webkit-user-select:none;user-select:none}.el-dialog__header{padding:var(--el-dialog-padding-primary);padding-bottom:10px}.el-dialog__headerbtn{position:absolute;top:var(--el-dialog-padding-primary);right:var(--el-dialog-padding-primary);padding:0;background:0 0;border:none;outline:0;cursor:pointer;font-size:var(--el-message-close-size,16px)}.el-dialog__headerbtn .el-dialog__close{color:var(--el-color-info);font-size:inherit}.el-dialog__headerbtn:focus .el-dialog__close,.el-dialog__headerbtn:hover .el-dialog__close{color:var(--el-color-primary)}.el-dialog__title{line-height:var(--el-dialog-font-line-height);font-size:var(--el-dialog-title-font-size);color:var(--el-text-color-primary)}.el-dialog__body{padding:calc(var(--el-dialog-padding-primary) + 10px) var(--el-dialog-padding-primary);color:var(--el-text-color-regular);font-size:var(--el-dialog-content-font-size);word-break:break-all}.el-dialog__footer{padding:var(--el-dialog-padding-primary);padding-top:10px;text-align:right;box-sizing:border-box}.el-dialog--center{text-align:center}.el-dialog--center .el-dialog__body{text-align:initial;padding:25px calc(var(--el-dialog-padding-primary) + 5px) 30px}.el-dialog--center .el-dialog__footer{text-align:inherit}.el-overlay-dialog{position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto}.dialog-fade-enter-active{animation:modal-fade-in var(--el-transition-duration)}.dialog-fade-enter-active .el-overlay-dialog{animation:dialog-fade-in var(--el-transition-duration)}.dialog-fade-leave-active{animation:modal-fade-out var(--el-transition-duration)}.dialog-fade-leave-active .el-overlay-dialog{animation:dialog-fade-out var(--el-transition-duration)}@keyframes dialog-fade-in{0%{transform:translate3d(0,-20px,0);opacity:0}100%{transform:translate3d(0,0,0);opacity:1}}@keyframes dialog-fade-out{0%{transform:translate3d(0,0,0);opacity:1}100%{transform:translate3d(0,-20px,0);opacity:0}}@keyframes modal-fade-in{0%{opacity:0}100%{opacity:1}}@keyframes modal-fade-out{0%{opacity:1}100%{opacity:0}}.el-divider{position:relative}.el-divider--horizontal{display:block;height:1px;width:100%;margin:24px 0;border-top:1px var(--el-border-color-base) var(--el-border-style)}.el-divider--vertical{display:inline-block;width:1px;height:1em;margin:0 8px;vertical-align:middle;position:relative;border-left:1px var(--el-border-color-base) var(--el-border-style)}.el-divider__text{position:absolute;background-color:#fff;padding:0 20px;font-weight:500;color:var(--el-text-color-primary);font-size:14px}.el-divider__text.is-left{left:20px;transform:translateY(-50%)}.el-divider__text.is-center{left:50%;transform:translateX(-50%) translateY(-50%)}.el-divider__text.is-right{right:20px;transform:translateY(-50%)}.el-drawer{--el-drawer-bg-color:var(--el-dialog-bg-color, var(--el-color-white));--el-drawer-padding-primary:var(--el-dialog-padding-primary, 20px)}.el-drawer{position:absolute;box-sizing:border-box;background-color:var(--el-drawer-bg-color);display:flex;flex-direction:column;box-shadow:0 8px 10px -5px rgba(0,0,0,.2),0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12);overflow:hidden;transition:all var(--el-transition-duration)}.el-drawer .rtl{transform:translate(0,0)}.el-drawer .ltr{transform:translate(0,0)}.el-drawer .ttb{transform:translate(0,0)}.el-drawer .btt{transform:translate(0,0)}.el-drawer__header{align-items:center;color:#72767b;display:flex;margin-bottom:32px;padding:var(--el-drawer-padding-primary);padding-bottom:0}.el-drawer__header>:first-child{flex:1}.el-drawer__title{margin:0;flex:1;line-height:inherit;font-size:1rem}.el-drawer__footer{padding:var(--el-drawer-padding-primary);padding-top:10px;text-align:right}.el-drawer__close-btn{border:none;cursor:pointer;font-size:var(--el-font-size-extra-large);color:inherit;background-color:transparent;outline:0}.el-drawer__close-btn:hover i{color:var(--el-color-primary)}.el-drawer__close-btn .el-icon{font-size:inherit;vertical-align:text-bottom}.el-drawer__body{flex:1;padding:var(--el-drawer-padding-primary);overflow:auto}.el-drawer__body>*{box-sizing:border-box}.el-drawer.ltr,.el-drawer.rtl{height:100%;top:0;bottom:0}.el-drawer.btt,.el-drawer.ttb{width:100%;left:0;right:0}.el-drawer.ltr{left:0}.el-drawer.rtl{right:0}.el-drawer.ttb{top:0}.el-drawer.btt{bottom:0}.el-drawer-fade-enter-active,.el-drawer-fade-leave-active{transition:all var(--el-transition-duration)}.el-drawer-fade-enter-active,.el-drawer-fade-enter-from,.el-drawer-fade-enter-to,.el-drawer-fade-leave-active,.el-drawer-fade-leave-from,.el-drawer-fade-leave-to{overflow:hidden!important}.el-drawer-fade-enter-from,.el-drawer-fade-leave-to{opacity:0}.el-drawer-fade-enter-to,.el-drawer-fade-leave-from{opacity:1}.el-drawer-fade-enter-from .rtl,.el-drawer-fade-leave-to .rtl{transform:translateX(100%)}.el-drawer-fade-enter-from .ltr,.el-drawer-fade-leave-to .ltr{transform:translateX(-100%)}.el-drawer-fade-enter-from .ttb,.el-drawer-fade-leave-to .ttb{transform:translateY(-100%)}.el-drawer-fade-enter-from .btt,.el-drawer-fade-leave-to .btt{transform:translateY(100%)}.el-dropdown{--el-dropdown-menu-box-shadow:var(--el-box-shadow-light);--el-dropdown-menuItem-hover-fill:var(--el-color-primary-light-9);--el-dropdown-menuItem-hover-color:var(--el-color-primary-light-2);--el-dropdown-menu-index:10;display:inline-flex;position:relative;color:var(--el-text-color-regular);font-size:var(--el-font-size-base);line-height:1;vertical-align:top}.el-dropdown__popper{--el-dropdown-menu-box-shadow:var(--el-box-shadow-light);--el-dropdown-menuItem-hover-fill:var(--el-color-primary-light-9);--el-dropdown-menuItem-hover-color:var(--el-color-primary-light-2);--el-dropdown-menu-index:10}.el-dropdown__popper.el-popper[role=tooltip]{background:#fff;border:1px solid var(--el-border-color-light);box-shadow:var(--el-dropdown-menu-box-shadow)}.el-dropdown__popper.el-popper[role=tooltip] .el-popper__arrow::before{border:1px solid var(--el-border-color-light)}.el-dropdown__popper.el-popper[role=tooltip][data-popper-placement^=top] .el-popper__arrow::before{border-top-color:transparent;border-left-color:transparent}.el-dropdown__popper.el-popper[role=tooltip][data-popper-placement^=bottom] .el-popper__arrow::before{border-bottom-color:transparent;border-right-color:transparent}.el-dropdown__popper.el-popper[role=tooltip][data-popper-placement^=left] .el-popper__arrow::before{border-left-color:transparent;border-bottom-color:transparent}.el-dropdown__popper.el-popper[role=tooltip][data-popper-placement^=right] .el-popper__arrow::before{border-right-color:transparent;border-top-color:transparent}.el-dropdown__popper .el-dropdown-menu{border:none}.el-dropdown__popper .el-dropdown__popper-selfdefine{outline:0}.el-dropdown__popper .el-scrollbar__bar{z-index:calc(var(--el-dropdown-menu-index) + 1)}.el-dropdown__popper .el-dropdown__list{list-style:none;padding:0;margin:0;box-sizing:border-box}.el-dropdown .el-dropdown__caret-button{padding-left:0;padding-right:0;display:inline-flex;justify-content:center;align-items:center;width:32px;border-left:none}.el-dropdown .el-dropdown__caret-button>span{display:inline-flex}.el-dropdown .el-dropdown__caret-button::before{content:"";position:absolute;display:block;width:1px;top:5px;bottom:5px;left:0;background:rgba(0,0,0,.5)}.el-dropdown .el-dropdown__caret-button.el-button::before{background:var(--el-border-color-base);opacity:.5}.el-dropdown .el-dropdown__caret-button:hover::before{top:0;bottom:0}.el-dropdown .el-dropdown__caret-button .el-dropdown__icon{font-size:inherit;padding-left:0}.el-dropdown .el-dropdown-selfdefine{outline:0}.el-dropdown--large .el-dropdown__caret-button{width:40px}.el-dropdown--small .el-dropdown__caret-button{width:24px}.el-dropdown-menu{position:relative;top:0;left:0;z-index:var(--el-dropdown-menu-index);padding:5px 0;margin:0;background-color:#fff;border:none;border-radius:var(--el-border-radius-base);box-shadow:none}.el-dropdown-menu__item{display:flex;align-items:center;white-space:nowrap;list-style:none;line-height:22px;padding:5px 16px;margin:0;font-size:var(--el-font-size-base);color:var(--el-text-color-regular);cursor:pointer;outline:0}.el-dropdown-menu__item:not(.is-disabled):focus{background-color:var(--el-dropdown-menuItem-hover-fill);color:var(--el-dropdown-menuItem-hover-color)}.el-dropdown-menu__item i{margin-right:5px}.el-dropdown-menu__item--divided{margin:6px 0;border-top:1px solid var(--el-border-color-lighter)}.el-dropdown-menu__item.is-disabled{cursor:not-allowed;color:var(--el-text-color-disabled-base)}.el-dropdown-menu--large{padding:7px 0}.el-dropdown-menu--large .el-dropdown-menu__item{padding:7px 20px;line-height:22px;font-size:14px}.el-dropdown-menu--large .el-dropdown-menu__item--divided{margin:8px 0}.el-dropdown-menu--small{padding:3px 0}.el-dropdown-menu--small .el-dropdown-menu__item{padding:2px 12px;line-height:20px;font-size:12px}.el-dropdown-menu--small .el-dropdown-menu__item--divided{margin:4px 0}.el-empty{--el-empty-padding:40px 0;--el-empty-image-width:160px;--el-empty-description-margin-top:20px;--el-empty-bottom-margin-top:20px;--el-empty-fill-color-0:var(--el-color-white);--el-empty-fill-color-1:#fcfcfd;--el-empty-fill-color-2:#f8f9fb;--el-empty-fill-color-3:#f7f8fc;--el-empty-fill-color-4:#eeeff3;--el-empty-fill-color-5:#edeef2;--el-empty-fill-color-6:#e9ebef;--el-empty-fill-color-7:#e5e7e9;--el-empty-fill-color-8:#e0e3e9;--el-empty-fill-color-9:#d5d7de;display:flex;justify-content:center;align-items:center;flex-direction:column;text-align:center;box-sizing:border-box;padding:var(--el-empty-padding)}.el-empty__image{width:var(--el-empty-image-width)}.el-empty__image img{-webkit-user-select:none;user-select:none;width:100%;height:100%;vertical-align:top;object-fit:contain}.el-empty__image svg{fill:var(--el-svg-monochrome-grey);width:100%;height:100%;vertical-align:top}.el-empty__description{margin-top:var(--el-empty-description-margin-top)}.el-empty__description p{margin:0;font-size:var(--el-font-size-base);color:var(--el-text-color-secondary)}.el-empty__bottom{margin-top:var(--el-empty-bottom-margin-top)}.el-footer{--el-footer-padding:0 20px;--el-footer-height:60px;padding:var(--el-footer-padding);box-sizing:border-box;flex-shrink:0;height:var(--el-footer-height)}.el-form{--el-form-label-font-size:var(--el-font-size-base)}.el-form--label-left .el-form-item__label{text-align:left}.el-form--label-top .el-form-item{display:block}.el-form--label-top .el-form-item .el-form-item__label{display:block;text-align:left;margin-bottom:8px;line-height:22px}.el-form--inline .el-form-item{display:inline-flex;vertical-align:middle;margin-right:32px}.el-form--inline.el-form--label-top{display:flex;flex-wrap:wrap}.el-form--inline.el-form--label-top .el-form-item{display:block}.el-form--large.el-form--label-top .el-form-item .el-form-item__label{margin-bottom:12px;line-height:22px}.el-form--default.el-form--label-top .el-form-item .el-form-item__label{margin-bottom:8px;line-height:22px}.el-form--small.el-form--label-top .el-form-item .el-form-item__label{margin-bottom:4px;line-height:20px}.el-form-item{display:flex;--font-size:14px;margin-bottom:18px}.el-form-item .el-form-item{margin-bottom:0}.el-form-item .el-input__validateIcon{display:none}.el-form-item--large{--font-size:14px;--el-form-label-font-size:var(--font-size);margin-bottom:22px}.el-form-item--large .el-form-item__label{line-height:40px}.el-form-item--large .el-form-item__content{line-height:40px}.el-form-item--large .el-form-item__error{padding-top:4px}.el-form-item--default{--font-size:14px;--el-form-label-font-size:var(--font-size);margin-bottom:18px}.el-form-item--default .el-form-item__label{line-height:32px}.el-form-item--default .el-form-item__content{line-height:32px}.el-form-item--default .el-form-item__error{padding-top:2px}.el-form-item--small{--font-size:12px;--el-form-label-font-size:var(--font-size);margin-bottom:18px}.el-form-item--small .el-form-item__label{line-height:24px}.el-form-item--small .el-form-item__content{line-height:24px}.el-form-item--small .el-form-item__error{padding-top:2px}.el-form-item__label-wrap{display:flex}.el-form-item__label-wrap .el-form-item__label{display:inline-block}.el-form-item__label{flex:0 0 auto;text-align:right;font-size:var(--el-form-label-font-size);color:var(--el-text-color-regular);line-height:32px;padding:0 12px 0 0;box-sizing:border-box}.el-form-item__content{display:flex;flex-wrap:wrap;align-items:center;flex:1;line-height:32px;position:relative;font-size:var(--font-size);min-width:0}.el-form-item__content .el-input-group{vertical-align:top}.el-form-item__error{color:var(--el-color-danger);font-size:12px;line-height:1;padding-top:2px;position:absolute;top:100%;left:0}.el-form-item__error--inline{position:relative;top:auto;left:auto;display:inline-block;margin-left:10px}.el-form-item.is-required:not(.is-no-asterisk)>.el-form-item__label-wrap>.el-form-item__label:before,.el-form-item.is-required:not(.is-no-asterisk)>.el-form-item__label:before{content:"*";color:var(--el-color-danger);margin-right:4px}.el-form-item.is-error .el-input__inner,.el-form-item.is-error .el-input__inner:focus,.el-form-item.is-error .el-select-v2__wrapper,.el-form-item.is-error .el-select-v2__wrapper:focus,.el-form-item.is-error .el-textarea__inner,.el-form-item.is-error .el-textarea__inner:focus{border-color:var(--el-color-danger)}.el-form-item.is-error .el-input-group__append .el-input__inner,.el-form-item.is-error .el-input-group__prepend .el-input__inner{border-color:transparent}.el-form-item.is-error .el-input__validateIcon{color:var(--el-color-danger)}.el-form-item--feedback .el-input__validateIcon{display:inline-flex}.el-header{--el-header-padding:0 20px;--el-header-height:60px;padding:var(--el-header-padding);box-sizing:border-box;flex-shrink:0;height:var(--el-header-height)}.el-image-viewer__wrapper{position:fixed;top:0;right:0;bottom:0;left:0}.el-image-viewer__btn{position:absolute;z-index:1;display:flex;align-items:center;justify-content:center;border-radius:50%;opacity:.8;cursor:pointer;box-sizing:border-box;-webkit-user-select:none;user-select:none}.el-image-viewer__btn .el-icon{font-size:inherit;cursor:pointer}.el-image-viewer__close{top:40px;right:40px;width:40px;height:40px;font-size:40px}.el-image-viewer__canvas{width:100%;height:100%;display:flex;justify-content:center;align-items:center;-webkit-user-select:none;user-select:none}.el-image-viewer__actions{left:50%;bottom:30px;transform:translateX(-50%);width:282px;height:44px;padding:0 23px;background-color:var(--el-text-color-regular);border-color:#fff;border-radius:22px}.el-image-viewer__actions__inner{width:100%;height:100%;text-align:justify;cursor:default;font-size:23px;color:#fff;display:flex;align-items:center;justify-content:space-around}.el-image-viewer__prev{top:50%;transform:translateY(-50%);left:40px;width:44px;height:44px;font-size:24px;color:#fff;background-color:var(--el-text-color-regular);border-color:#fff}.el-image-viewer__next{top:50%;transform:translateY(-50%);right:40px;text-indent:2px;width:44px;height:44px;font-size:24px;color:#fff;background-color:var(--el-text-color-regular);border-color:#fff}.el-image-viewer__close{width:44px;height:44px;font-size:24px;color:#fff;background-color:var(--el-text-color-regular);border-color:#fff}.el-image-viewer__mask{position:absolute;width:100%;height:100%;top:0;left:0;opacity:.5;background:#000}.viewer-fade-enter-active{animation:viewer-fade-in var(--el-transition-duration)}.viewer-fade-leave-active{animation:viewer-fade-out var(--el-transition-duration)}@keyframes viewer-fade-in{0%{transform:translate3d(0,-20px,0);opacity:0}100%{transform:translate3d(0,0,0);opacity:1}}@keyframes viewer-fade-out{0%{transform:translate3d(0,0,0);opacity:1}100%{transform:translate3d(0,-20px,0);opacity:0}}.el-image__error,.el-image__inner,.el-image__placeholder{width:100%;height:100%}.el-image{position:relative;display:inline-block;overflow:hidden}.el-image__inner{vertical-align:top}.el-image__placeholder{background:var(--el-bg-color)}.el-image__error{display:flex;justify-content:center;align-items:center;font-size:14px;background:var(--el-bg-color);color:var(--el-text-color-placeholder);vertical-align:middle}.el-image__preview{cursor:pointer}.el-input-number{position:relative;display:inline-block;width:150px;line-height:30px}.el-input-number .el-input{display:block}.el-input-number .el-input__inner{-webkit-appearance:none;-moz-appearance:textfield;padding-left:42px;padding-right:42px;text-align:center}.el-input-number .el-input__inner::-webkit-inner-spin-button,.el-input-number .el-input__inner::-webkit-outer-spin-button{margin:0;-webkit-appearance:none}.el-input-number__decrease,.el-input-number__increase{display:flex;justify-content:center;align-items:center;height:auto;position:absolute;z-index:1;top:1px;bottom:1px;width:32px;background:var(--el-bg-color);color:var(--el-text-color-regular);cursor:pointer;font-size:13px;-webkit-user-select:none;user-select:none}.el-input-number__decrease:hover,.el-input-number__increase:hover{color:var(--el-color-primary)}.el-input-number__decrease:hover~.el-input:not(.is-disabled) .el-input__inner,.el-input-number__increase:hover~.el-input:not(.is-disabled) .el-input__inner{border-color:var(--el-input-focus-border,var(--el-color-primary))}.el-input-number__decrease.is-disabled,.el-input-number__increase.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-input-number__increase{right:1px;border-radius:0 var(--el-border-radius-base) var(--el-border-radius-base) 0;border-left:var(--el-border-base)}.el-input-number__decrease{left:1px;border-radius:var(--el-border-radius-base) 0 0 var(--el-border-radius-base);border-right:var(--el-border-base)}.el-input-number.is-disabled .el-input-number__decrease,.el-input-number.is-disabled .el-input-number__increase{border-color:var(--el-disabled-border-color);color:var(--el-disabled-border-color)}.el-input-number.is-disabled .el-input-number__decrease:hover,.el-input-number.is-disabled .el-input-number__increase:hover{color:var(--el-disabled-border-color);cursor:not-allowed}.el-input-number--large{width:180px;line-height:38px}.el-input-number--large .el-input-number__decrease,.el-input-number--large .el-input-number__increase{width:40px;font-size:14px}.el-input-number--large .el-input__inner{padding-left:47px;padding-right:47px}.el-input-number--small{width:120px;line-height:22px}.el-input-number--small .el-input-number__decrease,.el-input-number--small .el-input-number__increase{width:24px;font-size:12px}.el-input-number--small .el-input__inner{padding-left:31px;padding-right:31px}.el-input-number--small .el-input-number__decrease [class*=el-icon],.el-input-number--small .el-input-number__increase [class*=el-icon]{transform:scale(.9)}.el-input-number.is-without-controls .el-input__inner{padding-left:15px;padding-right:15px}.el-input-number.is-controls-right .el-input__inner{padding-left:15px;padding-right:42px}.el-input-number.is-controls-right .el-input-number__decrease,.el-input-number.is-controls-right .el-input-number__increase{--el-input-number-controls-height:15px;height:var(--el-input-number-controls-height);line-height:var(--el-input-number-controls-height)}.el-input-number.is-controls-right .el-input-number__decrease [class*=el-icon],.el-input-number.is-controls-right .el-input-number__increase [class*=el-icon]{transform:scale(.8)}.el-input-number.is-controls-right .el-input-number__increase{bottom:auto;left:auto;border-radius:0 var(--el-border-radius-base) 0 0;border-bottom:var(--el-border-base)}.el-input-number.is-controls-right .el-input-number__decrease{right:1px;top:auto;left:auto;border-right:none;border-left:var(--el-border-base);border-radius:0 0 var(--el-border-radius-base) 0}.el-input-number.is-controls-right[class*=large] [class*=decrease],.el-input-number.is-controls-right[class*=large] [class*=increase]{--el-input-number-controls-height:19px}.el-input-number.is-controls-right[class*=small] [class*=decrease],.el-input-number.is-controls-right[class*=small] [class*=increase]{--el-input-number-controls-height:11px}.el-textarea{--el-input-text-color:var(--el-text-color-regular);--el-input-border:var(--el-border-base);--el-input-border-color:var(--el-border-color-base);--el-input-border-radius:var(--el-border-radius-base);--el-input-bg-color:var(--el-color-white);--el-input-icon-color:var(--el-text-color-placeholder);--el-input-placeholder-color:var(--el-text-color-placeholder);--el-input-hover-border:var(--el-border-color-hover);--el-input-clear-hover-color:var(--el-text-color-secondary);--el-input-focus-border:var(--el-color-primary)}.el-textarea{position:relative;display:inline-block;width:100%;vertical-align:bottom;font-size:var(--el-font-size-base)}.el-textarea__inner{display:block;resize:vertical;padding:5px 15px;line-height:1.5;box-sizing:border-box;width:100%;font-size:inherit;font-family:inherit;color:var(--el-input-text-color,var(--el-text-color-regular));background-color:var(--el-input-bg-color,var(--el-color-white));background-image:none;border:var(--el-input-border,var(--el-border-base));border-radius:var(--el-input-border-radius,var(--el-border-radius-base));transition:var(--el-transition-border)}.el-textarea__inner::placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-textarea__inner:hover{border-color:var(--el-input-hover-border,var(--el-border-color-hover))}.el-textarea__inner:focus{outline:0;border-color:var(--el-input-focus-border,var(--el-color-primary))}.el-textarea .el-input__count{color:var(--el-color-info);background:var(--el-color-white);position:absolute;font-size:12px;line-height:14px;bottom:5px;right:10px}.el-textarea.is-disabled .el-textarea__inner{background-color:var(--el-disabled-bg-color);border-color:var(--el-disabled-border-color);color:var(--el-disabled-text-color);cursor:not-allowed}.el-textarea.is-disabled .el-textarea__inner::placeholder{color:var(--el-text-color-placeholder)}.el-textarea.is-exceed .el-textarea__inner{border-color:var(--el-color-danger)}.el-textarea.is-exceed .el-input__count{color:var(--el-color-danger)}.el-input{--el-input-text-color:var(--el-text-color-regular);--el-input-border:var(--el-border-base);--el-input-border-color:var(--el-border-color-base);--el-input-border-radius:var(--el-border-radius-base);--el-input-bg-color:var(--el-color-white);--el-input-icon-color:var(--el-text-color-placeholder);--el-input-placeholder-color:var(--el-text-color-placeholder);--el-input-hover-border:var(--el-border-color-hover);--el-input-clear-hover-color:var(--el-text-color-secondary);--el-input-focus-border:var(--el-color-primary);position:relative;font-size:var(--el-font-size-base);display:inline-flex;width:100%;line-height:32px}.el-input::-webkit-scrollbar{z-index:11;width:6px}.el-input::-webkit-scrollbar:horizontal{height:6px}.el-input::-webkit-scrollbar-thumb{border-radius:5px;width:6px;background:#b4bccc}.el-input::-webkit-scrollbar-corner{background:#fff}.el-input::-webkit-scrollbar-track{background:#fff}.el-input::-webkit-scrollbar-track-piece{background:#fff;width:6px}.el-input .el-input__clear{color:var(--el-input-icon-color);font-size:14px;cursor:pointer;transition:var(--el-transition-color)}.el-input .el-input__clear:hover{color:var(--el-input-clear-hover-color)}.el-input .el-input__count{height:100%;display:inline-flex;align-items:center;color:var(--el-color-info);font-size:12px}.el-input .el-input__count .el-input__count-inner{background:#fff;line-height:initial;display:inline-block;padding:0 5px}.el-input__inner{-webkit-appearance:none;background-color:var(--el-input-bg-color,var(--el-color-white));background-image:none;border-radius:var(--el-input-border-radius,var(--el-border-radius-base));border:var(--el-input-border,var(--el-border-base));box-sizing:border-box;color:var(--el-input-text-color,var(--el-text-color-regular));display:inline-block;font-size:inherit;height:32px;line-height:32px;outline:0;padding:0 11px;transition:var(--el-transition-border);width:100%}.el-input__inner::placeholder{color:var(--el-input-placeholder-color,var(--el-text-color-placeholder))}.el-input__inner:hover{border-color:var(--el-input-hover-border,var(--el-border-color-hover))}.el-input__inner:focus{outline:0;border-color:var(--el-input-focus-border,var(--el-color-primary))}.el-input__suffix{display:inline-flex;position:absolute;height:100%;right:12px;top:0;text-align:center;color:var(--el-input-icon-color,var(--el-text-color-placeholder));transition:all var(--el-transition-duration);pointer-events:none}.el-input__suffix-inner{pointer-events:all;display:inline-flex}.el-input__prefix{display:inline-flex;position:absolute;height:100%;left:12px;top:0;text-align:center;color:var(--el-input-icon-color,var(--el-text-color-placeholder));transition:all var(--el-transition-duration)}.el-input__prefix-inner{pointer-events:all;display:inline-flex}.el-input .el-input__icon{height:inherit;display:flex;justify-content:center;align-items:center;transition:all var(--el-transition-duration)}.el-input__validateIcon{pointer-events:none}.el-input.is-active .el-input__inner{outline:0;border-color:var(--el-input-focus-border,)}.el-input.is-disabled .el-input__inner{background-color:var(--el-disabled-bg-color);border-color:var(--el-disabled-border-color);color:var(--el-disabled-text-color);cursor:not-allowed}.el-input.is-disabled .el-input__inner::placeholder{color:var(--el-text-color-placeholder)}.el-input.is-disabled .el-input__icon{cursor:not-allowed}.el-input.is-exceed .el-input__inner{border-color:var(--el-color-danger)}.el-input.is-exceed .el-input__suffix .el-input__count{color:var(--el-color-danger)}.el-input--suffix--password-clear .el-input__inner{padding-right:55px}.el-input--suffix .el-input__inner{padding-right:31px}.el-input--prefix .el-input__inner{padding-left:31px}.el-input--large{font-size:14px;line-height:38px}.el-input--large .el-input__inner{height:40px;line-height:40px;padding:0 15px}.el-input--large .el-input__icon{line-height:40px}.el-input--large.el-input--prefix .el-input__inner{padding-left:35px}.el-input--large.el-input--suffix .el-input__inner{padding-right:35px}.el-input--large .el-input__prefix{left:16px}.el-input--large .el-input__suffix{right:16px}.el-input--small{font-size:12px;line-height:22px}.el-input--small .el-input__inner{height:24px;line-height:24px;padding:0 7px}.el-input--small .el-input__icon{line-height:24px}.el-input--small.el-input--prefix .el-input__inner{padding-left:25px}.el-input--small.el-input--suffix .el-input__inner{padding-right:25px}.el-input--small .el-input__prefix{left:8px}.el-input--small .el-input__suffix{right:8px}.el-input-group{line-height:normal;display:inline-table;width:100%;border-collapse:separate;border-spacing:0}.el-input-group>.el-input__inner{vertical-align:middle;display:table-cell}.el-input-group__append,.el-input-group__prepend{background-color:var(--el-bg-color);color:var(--el-color-info);vertical-align:middle;display:table-cell;position:relative;border:1px solid #dcdfe6;border-radius:var(--el-input-border-radius);padding:0 20px;width:1px;white-space:nowrap}.el-input-group__append:focus,.el-input-group__prepend:focus{outline:0}.el-input-group__append .el-button,.el-input-group__append .el-select,.el-input-group__prepend .el-button,.el-input-group__prepend .el-select{display:inline-block;margin:-10px -20px}.el-input-group__append button.el-button,.el-input-group__append button.el-button:hover,.el-input-group__append div.el-select .el-input__inner,.el-input-group__append div.el-select:hover .el-input__inner,.el-input-group__prepend button.el-button,.el-input-group__prepend button.el-button:hover,.el-input-group__prepend div.el-select .el-input__inner,.el-input-group__prepend div.el-select:hover .el-input__inner{border-color:transparent;background-color:transparent;color:inherit;border-top:0;border-bottom:0}.el-input-group__append .el-button,.el-input-group__append .el-input,.el-input-group__prepend .el-button,.el-input-group__prepend .el-input{font-size:inherit}.el-input-group__prepend{border-right:0;border-top-right-radius:0;border-bottom-right-radius:0}.el-input-group__append{border-left:0;border-top-left-radius:0;border-bottom-left-radius:0}.el-input-group--prepend .el-input__inner{border-top-left-radius:0;border-bottom-left-radius:0}.el-input-group--prepend .el-select .el-input.is-focus .el-input__inner{border-color:transparent}.el-input-group--append .el-input__inner{border-top-right-radius:0;border-bottom-right-radius:0}.el-input-group--append .el-select .el-input.is-focus .el-input__inner{border-color:transparent}.el-link{--el-link-font-size:var(--el-font-size-base);--el-link-font-weight:var(--el-font-weight-primary);--el-link-default-text-color:var(--el-text-color-regular);--el-link-default-active-color:var(--el-color-primary);--el-link-disabled-text-color:var(--el-text-color-placeholder)}.el-link{display:inline-flex;flex-direction:row;align-items:center;justify-content:center;vertical-align:middle;position:relative;text-decoration:none;outline:0;cursor:pointer;padding:0;font-size:var(--el-link-font-size);font-weight:var(--el-link-font-weight)}.el-link.is-underline:hover:after{content:"";position:absolute;left:0;right:0;height:0;bottom:0;border-bottom:1px solid var(--el-link-default-active-color)}.el-link.is-disabled{cursor:not-allowed}.el-link [class*=el-icon-]+span{margin-left:5px}.el-link.el-link--default{color:var(--el-link-default-text-color)}.el-link.el-link--default:hover{color:var(--el-link-default-active-color)}.el-link.el-link--default:after{border-color:var(--el-link-default-active-color)}.el-link.el-link--default.is-disabled{color:var(--el-link-disabled-text-color)}.el-link.el-link--primary{--el-link-text-color:var(--el-color-primary);color:var(--el-link-text-color)}.el-link.el-link--primary:hover{color:#66b1ff}.el-link.el-link--primary:after{border-color:var(--el-link-text-color)}.el-link.el-link--primary.is-disabled{color:#a0cfff}.el-link.el-link--primary.is-underline:hover:after{border-color:var(--el-link-text-color)}.el-link.el-link--success{--el-link-text-color:var(--el-color-success);color:var(--el-link-text-color)}.el-link.el-link--success:hover{color:#85ce61}.el-link.el-link--success:after{border-color:var(--el-link-text-color)}.el-link.el-link--success.is-disabled{color:#b3e19d}.el-link.el-link--success.is-underline:hover:after{border-color:var(--el-link-text-color)}.el-link.el-link--warning{--el-link-text-color:var(--el-color-warning);color:var(--el-link-text-color)}.el-link.el-link--warning:hover{color:#ebb563}.el-link.el-link--warning:after{border-color:var(--el-link-text-color)}.el-link.el-link--warning.is-disabled{color:#f3d19e}.el-link.el-link--warning.is-underline:hover:after{border-color:var(--el-link-text-color)}.el-link.el-link--danger{--el-link-text-color:var(--el-color-danger);color:var(--el-link-text-color)}.el-link.el-link--danger:hover{color:#f78989}.el-link.el-link--danger:after{border-color:var(--el-link-text-color)}.el-link.el-link--danger.is-disabled{color:#fab6b6}.el-link.el-link--danger.is-underline:hover:after{border-color:var(--el-link-text-color)}.el-link.el-link--error{--el-link-text-color:var(--el-color-error);color:var(--el-link-text-color)}.el-link.el-link--error:hover{color:#f78989}.el-link.el-link--error:after{border-color:var(--el-link-text-color)}.el-link.el-link--error.is-disabled{color:#fab6b6}.el-link.el-link--error.is-underline:hover:after{border-color:var(--el-link-text-color)}.el-link.el-link--info{--el-link-text-color:var(--el-color-info);color:var(--el-link-text-color)}.el-link.el-link--info:hover{color:#a6a9ad}.el-link.el-link--info:after{border-color:var(--el-link-text-color)}.el-link.el-link--info.is-disabled{color:#c8c9cc}.el-link.el-link--info.is-underline:hover:after{border-color:var(--el-link-text-color)}:root{--el-loading-spinner-size:42px;--el-loading-fullscreen-spinner-size:50px}.el-loading-parent--relative{position:relative!important}.el-loading-parent--hidden{overflow:hidden!important}.el-loading-mask{position:absolute;z-index:2000;background-color:rgba(255,255,255,.9);margin:0;top:0;right:0;bottom:0;left:0;transition:opacity var(--el-transition-duration)}.el-loading-mask.is-fullscreen{position:fixed}.el-loading-mask.is-fullscreen .el-loading-spinner{margin-top:calc((0px - var(--el-loading-fullscreen-spinner-size))/ 2)}.el-loading-mask.is-fullscreen .el-loading-spinner .circular{height:var(--el-loading-fullscreen-spinner-size);width:var(--el-loading-fullscreen-spinner-size)}.el-loading-spinner{top:50%;margin-top:calc((0px - var(--el-loading-spinner-size))/ 2);width:100%;text-align:center;position:absolute}.el-loading-spinner .el-loading-text{color:var(--el-color-primary);margin:3px 0;font-size:14px}.el-loading-spinner .circular{display:inline;height:var(--el-loading-spinner-size);width:var(--el-loading-spinner-size);animation:loading-rotate 2s linear infinite}.el-loading-spinner .path{animation:loading-dash 1.5s ease-in-out infinite;stroke-dasharray:90,150;stroke-dashoffset:0;stroke-width:2;stroke:var(--el-color-primary);stroke-linecap:round}.el-loading-spinner i{color:var(--el-color-primary)}.el-loading-fade-enter-from,.el-loading-fade-leave-to{opacity:0}@keyframes loading-rotate{100%{transform:rotate(360deg)}}@keyframes loading-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-40px}100%{stroke-dasharray:90,150;stroke-dashoffset:-120px}}.el-main{--el-main-padding:20px;display:block;flex:1;flex-basis:auto;overflow:auto;box-sizing:border-box;padding:var(--el-main-padding)}.el-menu{--el-menu-active-color:var(--el-color-primary);--el-menu-text-color:var(--el-text-color-primary);--el-menu-hover-text-color:var(--el-text-color-primary);--el-menu-bg-color:var(--el-color-white);--el-menu-hover-bg-color:var(--el-color-primary-light-9);--el-menu-item-height:56px;--el-menu-item-font-size:var(--el-font-size-base);--el-menu-item-hover-fill:var(--el-color-primary-light-9);--el-menu-border-color:#e6e6e6;border-right:solid 1px var(--el-menu-border-color);list-style:none;position:relative;margin:0;padding-left:0;background-color:var(--el-menu-bg-color);box-sizing:border-box}.el-menu--horizontal{display:flex;flex-wrap:nowrap;border-bottom:solid 1px var(--el-menu-border-color);border-right:none}.el-menu--horizontal>.el-menu-item{display:inline-flex;justify-content:center;align-items:center;height:100%;margin:0;border-bottom:2px solid transparent;color:var(--el-menu-text-color)}.el-menu--horizontal>.el-menu-item a,.el-menu--horizontal>.el-menu-item a:hover{color:inherit}.el-menu--horizontal>.el-menu-item:not(.is-disabled):focus,.el-menu--horizontal>.el-menu-item:not(.is-disabled):hover{background-color:#fff}.el-menu--horizontal>.el-sub-menu:focus,.el-menu--horizontal>.el-sub-menu:hover{outline:0}.el-menu--horizontal>.el-sub-menu:hover .el-sub-menu__title{color:var(--el-menu-hover-text-color)}.el-menu--horizontal>.el-sub-menu.is-active .el-sub-menu__title{border-bottom:2px solid var(--el-menu-active-color);color:var(--el-menu-active-color)}.el-menu--horizontal>.el-sub-menu .el-sub-menu__title{height:100%;border-bottom:2px solid transparent;color:var(--el-menu-text-color)}.el-menu--horizontal>.el-sub-menu .el-sub-menu__title:hover{background-color:#fff}.el-menu--horizontal>.el-sub-menu .el-sub-menu__icon-arrow{position:static;vertical-align:middle;margin-left:8px;margin-top:-3px}.el-menu--horizontal .el-menu .el-menu-item,.el-menu--horizontal .el-menu .el-sub-menu__title{background-color:var(--el-menu-bg-color);display:flex;align-items:center;height:36px;padding:0 10px;color:var(--el-menu-text-color)}.el-menu--horizontal .el-menu .el-menu-item.is-active,.el-menu--horizontal .el-menu .el-sub-menu.is-active>.el-sub-menu__title{color:var(--el-menu-active-color)}.el-menu--horizontal .el-menu-item:not(.is-disabled):focus,.el-menu--horizontal .el-menu-item:not(.is-disabled):hover{outline:0;color:var(--el-menu-hover-text-color);background-color:var(--el-menu-hover-bg-color)}.el-menu--horizontal>.el-menu-item.is-active{border-bottom:2px solid var(--el-menu-active-color);color:var(--el-menu-active-color)!important}.el-menu--collapse{width:64px}.el-menu--collapse>.el-menu-item [class^=el-icon],.el-menu--collapse>.el-sub-menu>.el-sub-menu__title [class^=el-icon]{margin:0;vertical-align:middle;width:24px;text-align:center}.el-menu--collapse>.el-menu-item .el-sub-menu__icon-arrow,.el-menu--collapse>.el-sub-menu>.el-sub-menu__title .el-sub-menu__icon-arrow{display:none}.el-menu--collapse>.el-menu-item>span,.el-menu--collapse>.el-sub-menu>.el-sub-menu__title>span{height:0;width:0;overflow:hidden;visibility:hidden;display:inline-block}.el-menu--collapse>.el-menu-item.is-active i{color:inherit}.el-menu--collapse .el-menu .el-sub-menu{min-width:200px}.el-menu--collapse .el-sub-menu{position:relative}.el-menu--collapse .el-sub-menu .el-menu{position:absolute;margin-left:5px;top:0;left:100%;z-index:10;border:1px solid var(--el-border-color-light);border-radius:var(--el-border-radius-small);box-shadow:var(--el-box-shadow-light)}.el-menu--collapse .el-sub-menu.is-opened>.el-sub-menu__title .el-sub-menu__icon-arrow{transform:none}.el-menu--collapse .el-sub-menu.is-active .el-sub-menu__title{color:var(--el-menu-active-color)}.el-menu--popup{z-index:100;min-width:200px;border:none;padding:5px 0;border-radius:var(--el-border-radius-small);box-shadow:var(--el-box-shadow-light)}.el-menu-item{display:flex;align-items:center;height:var(--el-menu-item-height);line-height:var(--el-menu-item-height);font-size:var(--el-menu-item-font-size);color:var(--el-menu-text-color);padding:0 20px;list-style:none;cursor:pointer;position:relative;transition:border-color var(--el-transition-duration),background-color var(--el-transition-duration),color var(--el-transition-duration);box-sizing:border-box;white-space:nowrap}.el-menu-item *{vertical-align:bottom}.el-menu-item i{color:inherit}.el-menu-item:focus,.el-menu-item:hover{outline:0}.el-menu-item:hover{background-color:var(--el-menu-hover-bg-color)}.el-menu-item.is-disabled{opacity:.25;cursor:not-allowed;background:0 0!important}.el-menu-item [class^=el-icon]{margin-right:5px;width:24px;text-align:center;font-size:18px;vertical-align:middle}.el-menu-item.is-active{color:var(--el-menu-active-color)}.el-menu-item.is-active i{color:inherit}.el-sub-menu{list-style:none;margin:0;padding-left:0}.el-sub-menu__title{display:flex;align-items:center;height:var(--el-menu-item-height);line-height:var(--el-menu-item-height);font-size:var(--el-menu-item-font-size);color:var(--el-menu-text-color);padding:0 20px;list-style:none;cursor:pointer;position:relative;transition:border-color var(--el-transition-duration),background-color var(--el-transition-duration),color var(--el-transition-duration);box-sizing:border-box;white-space:nowrap}.el-sub-menu__title *{vertical-align:bottom}.el-sub-menu__title i{color:inherit}.el-sub-menu__title:focus,.el-sub-menu__title:hover{outline:0}.el-sub-menu__title:hover{background-color:var(--el-menu-hover-bg-color)}.el-sub-menu__title.is-disabled{opacity:.25;cursor:not-allowed;background:0 0!important}.el-sub-menu__title:hover{background-color:var(--el-menu-hover-bg-color)}.el-sub-menu .el-menu{border:none}.el-sub-menu .el-menu-item{height:50px;line-height:50px;padding:0 45px;min-width:200px}.el-sub-menu__hide-arrow .el-sub-menu__icon-arrow{display:none!important}.el-sub-menu.is-active .el-sub-menu__title{border-bottom-color:var(--el-menu-active-color)}.el-sub-menu.is-opened>.el-sub-menu__title .el-sub-menu__icon-arrow{transform:rotateZ(180deg)}.el-sub-menu.is-disabled .el-menu-item,.el-sub-menu.is-disabled .el-sub-menu__title{opacity:.25;cursor:not-allowed;background:0 0!important}.el-sub-menu .el-icon{vertical-align:middle;margin-right:5px;width:24px;text-align:center;font-size:18px}.el-sub-menu .el-icon.el-sub-menu__icon-more{margin-right:0!important}.el-sub-menu .el-sub-menu__icon-arrow{position:absolute;top:50%;right:20px;margin-top:-7px;transition:transform var(--el-transition-duration);font-size:12px;margin-right:0;width:inherit}.el-menu-item-group>ul{padding:0}.el-menu-item-group__title{padding:7px 0 7px 20px;line-height:normal;font-size:12px;color:var(--el-text-color-secondary)}.horizontal-collapse-transition .el-sub-menu__title .el-sub-menu__icon-arrow{transition:var(--el-transition-duration-fast);opacity:0}.el-message-box{--el-messagebox-title-color:var(--el-text-color-primary);--el-messagebox-width:420px;--el-messagebox-border-radius:4px;--el-messagebox-font-size:var(--el-font-size-large);--el-messagebox-content-font-size:var(--el-font-size-base);--el-messagebox-content-color:var(--el-text-color-regular);--el-messagebox-error-font-size:12px;--el-messagebox-padding-primary:15px}.el-message-box{display:inline-block;width:var(--el-messagebox-width);padding-bottom:10px;vertical-align:middle;background-color:var(--el-color-white);border-radius:var(--el-messagebox-border-radius);border:1px solid var(--el-border-color-lighter);font-size:var(--el-messagebox-font-size);box-shadow:var(--el-box-shadow-light);text-align:left;overflow:hidden;-webkit-backface-visibility:hidden;backface-visibility:hidden}.el-overlay.is-message-box .el-overlay-message-box{text-align:center;position:fixed;top:0;right:0;bottom:0;left:0;overflow:auto}.el-overlay.is-message-box .el-overlay-message-box::after{content:"";display:inline-block;height:100%;width:0;vertical-align:middle}.el-message-box.is-draggable .el-message-box__header{cursor:move;-webkit-user-select:none;user-select:none}.el-message-box__header{position:relative;padding:var(--el-messagebox-padding-primary);padding-bottom:10px}.el-message-box__title{padding-left:0;margin-bottom:0;font-size:var(--el-messagebox-font-size);line-height:1;color:var(--el-messagebox-title-color)}.el-message-box__headerbtn{position:absolute;top:var(--el-messagebox-padding-primary);right:var(--el-messagebox-padding-primary);padding:0;border:none;outline:0;background:0 0;font-size:var(--el-message-close-size,16px);cursor:pointer}.el-message-box__headerbtn .el-message-box__close{color:var(--el-color-info);font-size:inherit}.el-message-box__headerbtn:focus .el-message-box__close,.el-message-box__headerbtn:hover .el-message-box__close{color:var(--el-color-primary)}.el-message-box__content{padding:10px var(--el-messagebox-padding-primary);color:var(--el-messagebox-content-color);font-size:var(--el-messagebox-content-font-size)}.el-message-box__container{position:relative}.el-message-box__input{padding-top:15px}.el-message-box__input div.invalid>input{border-color:var(--el-color-error)}.el-message-box__input div.invalid>input:focus{border-color:var(--el-color-error)}.el-message-box__status{position:absolute;top:50%;transform:translateY(-50%);font-size:24px!important}.el-message-box__status::before{padding-left:1px}.el-message-box__status+.el-message-box__message{padding-left:36px;padding-right:12px;word-break:break-word}.el-message-box__status.el-message-box-icon--success{--el-messagebox-color:var(--el-color-success);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--info{--el-messagebox-color:var(--el-color-info);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--warning{--el-messagebox-color:var(--el-color-warning);color:var(--el-messagebox-color)}.el-message-box__status.el-message-box-icon--error{--el-messagebox-color:var(--el-color-error);color:var(--el-messagebox-color)}.el-message-box__message{margin:0}.el-message-box__message p{margin:0;line-height:24px}.el-message-box__errormsg{color:var(--el-color-error);font-size:var(--el-messagebox-error-font-size);min-height:18px;margin-top:2px}.el-message-box__btns{padding:5px 15px 0;display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center}.el-message-box__btns button:nth-child(2){margin-left:10px}.el-message-box__btns-reverse{flex-direction:row-reverse}.el-message-box--center .el-message-box__title{position:relative;display:flex;align-items:center;justify-content:center}.el-message-box--center .el-message-box__status{position:relative;top:auto;padding-right:5px;text-align:center;transform:translateY(-1px)}.el-message-box--center .el-message-box__message{margin-left:0}.el-message-box--center .el-message-box__btns,.el-message-box--center .el-message-box__content{text-align:center}.el-message-box--center .el-message-box__content{padding-left:calc(var(--el-messagebox-padding-primary) + 12px);padding-right:calc(var(--el-messagebox-padding-primary) + 12px)}.fade-in-linear-enter-active .el-overlay-message-box{animation:msgbox-fade-in var(--el-transition-duration)}.fade-in-linear-leave-active .el-overlay-message-box{animation:msgbox-fade-in var(--el-transition-duration) reverse}@keyframes msgbox-fade-in{0%{transform:translate3d(0,-20px,0);opacity:0}100%{transform:translate3d(0,0,0);opacity:1}}@keyframes msgbox-fade-out{0%{transform:translate3d(0,0,0);opacity:1}100%{transform:translate3d(0,-20px,0);opacity:0}}.el-message{--el-message-min-width:380px;--el-message-bg-color:#edf2fc;--el-message-padding:15px 15px 15px 20px;--el-message-close-size:16px;--el-message-close-icon-color:var(--el-text-color-placeholder);--el-message-close-hover-color:var(--el-text-color-secondary)}.el-message{min-width:var(--el-message-min-width);box-sizing:border-box;border-radius:var(--el-border-radius-base);border-width:var(--el-border-width-base);border-style:var(--el-border-style-base);border-color:var(--el-border-color-lighter);position:fixed;left:50%;top:20px;transform:translateX(-50%);background-color:var(--el-message-bg-color);transition:opacity .3s,transform .4s,top .4s;background-color:var(--el-message-bg-color);transition:opacity var(--el-transition-duration),transform .4s,top .4s;padding:var(--el-message-padding);display:flex;align-items:center}.el-message.is-center{justify-content:center}.el-message.is-closable .el-message__content{padding-right:16px}.el-message p{margin:0}.el-message--info .el-message__content{color:var(--el-message-info-text-color)}.el-message--success{background-color:#f0f9eb;border-color:#e1f3d8;--el-message-text-color:var(--el-color-success)}.el-message--success .el-message__content{color:var(--el-message-text-color)}.el-message--info{background-color:#f4f4f5;border-color:#e9e9eb;--el-message-text-color:var(--el-color-info)}.el-message--info .el-message__content{color:var(--el-message-text-color)}.el-message--warning{background-color:#fdf6ec;border-color:#faecd8;--el-message-text-color:var(--el-color-warning)}.el-message--warning .el-message__content{color:var(--el-message-text-color)}.el-message--error{background-color:#fef0f0;border-color:#fde2e2;--el-message-text-color:var(--el-color-error)}.el-message--error .el-message__content{color:var(--el-message-text-color)}.el-message__icon{margin-right:10px}.el-message .el-message__badge{position:absolute;top:-8px;right:-8px}.el-message__content{padding:0;font-size:14px;line-height:1}.el-message__content:focus{outline-width:0}.el-message .el-message__closeBtn{position:absolute;top:50%;right:15px;transform:translateY(-50%);cursor:pointer;color:var(--el-message-close-icon-color);font-size:var(--el-message-close-size,16px)}.el-message .el-message__closeBtn:focus{outline-width:0}.el-message .el-message__closeBtn:hover{color:var(--el-message-close-hover-color)}.el-message .el-message-icon--success{--el-message-text-color:var(--el-color-success);color:var(--el-message-text-color)}.el-message .el-message-icon--info{--el-message-text-color:var(--el-color-info);color:var(--el-message-text-color)}.el-message .el-message-icon--warning{--el-message-text-color:var(--el-color-warning);color:var(--el-message-text-color)}.el-message .el-message-icon--error{--el-message-text-color:var(--el-color-error);color:var(--el-message-text-color)}.el-message-fade-enter-from,.el-message-fade-leave-to{opacity:0;transform:translate(-50%,-100%)}.el-notification{--el-notification-width:330px;--el-notification-padding:14px 26px 14px 13px;--el-notification-radius:8px;--el-notification-shadow:var(--el-box-shadow-light);--el-notification-border-color:var(--el-border-color-lighter);--el-notification-icon-size:24px;--el-notification-close-font-size:var(--el-message-close-size, 16px);--el-notification-group-margin-left:13px;--el-notification-group-margin-right:8px;--el-notification-content-font-size:var(--el-font-size-base);--el-notification-content-color:var(--el-text-color-regular);--el-notification-title-font-size:16px;--el-notification-title-color:var(--el-text-color-primary);--el-notification-close-color:var(--el-text-color-secondary);--el-notification-close-hover-color:var(--el-text-color-regular)}.el-notification{display:flex;width:var(--el-notification-width);padding:var(--el-notification-padding);border-radius:var(--el-notification-radius);box-sizing:border-box;border:1px solid var(--el-notification-border-color);position:fixed;background-color:var(--el-color-white);box-shadow:var(--el-notification-shadow);transition:opacity var(--el-transition-duration),transform var(--el-transition-duration),left var(--el-transition-duration),right var(--el-transition-duration),top .4s,bottom var(--el-transition-duration);overflow-wrap:anywhere;overflow:hidden;z-index:9999}.el-notification.right{right:16px}.el-notification.left{left:16px}.el-notification__group{margin-left:var(--el-notification-group-margin-left);margin-right:var(--el-notification-group-margin-right)}.el-notification__title{font-weight:700;font-size:var(--el-notification-title-font-size);line-height:var(--el-notification-icon-size);color:var(--el-notification-title-color);margin:0}.el-notification__content{font-size:var(--el-notification-content-font-size);line-height:24px;margin:6px 0 0 0;color:var(--el-notification-content-color);text-align:justify}.el-notification__content p{margin:0}.el-notification .el-notification__icon{height:var(--el-notification-icon-size);width:var(--el-notification-icon-size);font-size:var(--el-notification-icon-size)}.el-notification .el-notification__closeBtn{position:absolute;top:18px;right:15px;cursor:pointer;color:var(--el-notification-close-color);font-size:var(--el-notification-close-font-size)}.el-notification .el-notification__closeBtn:hover{color:var(--el-notification-close-hover-color)}.el-notification .el-notification--success{--el-notification-icon-color:var(--el-color-success);color:var(--el-notification-icon-color)}.el-notification .el-notification--info{--el-notification-icon-color:var(--el-color-info);color:var(--el-notification-icon-color)}.el-notification .el-notification--warning{--el-notification-icon-color:var(--el-color-warning);color:var(--el-notification-icon-color)}.el-notification .el-notification--error{--el-notification-icon-color:var(--el-color-error);color:var(--el-notification-icon-color)}.el-notification-fade-enter-from.right{right:0;transform:translateX(100%)}.el-notification-fade-enter-from.left{left:0;transform:translateX(-100%)}.el-notification-fade-leave-to{opacity:0}.el-overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:2000;height:100%;background-color:rgba(0,0,0,.5);overflow:auto}.el-overlay .el-overlay-root{height:0}.el-page-header{display:flex;line-height:24px}.el-page-header__left{display:flex;cursor:pointer;margin-right:40px;position:relative}.el-page-header__left::after{content:"";position:absolute;width:1px;height:16px;right:-20px;top:50%;transform:translateY(-50%);background-color:var(--el-border-color-base)}.el-page-header__icon{font-size:18px;margin-right:6px;display:flex;align-items:center}.el-page-header__icon .el-icon{font-size:inherit}.el-page-header__title{font-size:14px;font-weight:500}.el-page-header__content{font-size:18px;color:var(--el-text-color-primary)}.el-pagination{--el-pagination-font-size:14px;--el-pagination-bg-color:var(--el-color-white);--el-pagination-text-color:var(--el-text-color-primary);--el-pagination-border-radius:3px;--el-pagination-button-color:var(--el-text-color-primary);--el-pagination-button-width:32px;--el-pagination-button-height:32px;--el-pagination-button-disabled-color:var(--el-text-color-placeholder);--el-pagination-button-disabled-bg-color:var(--el-color-white);--el-pagination-button-bg-color:#f4f4f5;--el-pagination-hover-color:var(--el-color-primary);--el-pagination-height-extra-small:24px;--el-pagination-line-height-extra-small:var(--el-pagination-height-extra-small);white-space:nowrap;padding:2px 5px;color:var(--el-pagination-text-color);font-weight:400;display:flex;align-items:center}.el-pagination::after,.el-pagination::before{display:table;content:""}.el-pagination::after{clear:both}.el-pagination button,.el-pagination span:not([class*=suffix]){display:flex;justify-content:center;align-items:center;font-size:var(--el-pagination-font-size);min-width:var(--el-pagination-button-width);height:var(--el-pagination-button-height);line-height:var(--el-pagination-button-height);box-sizing:border-box}.el-pagination .el-input__inner{text-align:center;-moz-appearance:textfield;line-height:normal}.el-pagination .el-select .el-input{width:128px}.el-pagination button{border:none;padding:0 6px;background:0 0}.el-pagination button:focus{outline:0}.el-pagination button:hover{color:var(--el-pagination-hover-color)}.el-pagination button:disabled{color:var(--el-pagination-button-disabled-color);background-color:var(--el-pagination-button-disabled-bg-color);cursor:not-allowed}.el-pagination .btn-next,.el-pagination .btn-prev{background:center center no-repeat;background-size:16px;background-color:var(--el-pagination-bg-color);cursor:pointer;margin:0;color:var(--el-pagination-button-color)}.el-pagination .btn-next .el-icon,.el-pagination .btn-prev .el-icon{display:block;font-size:12px;font-weight:700;width:inherit}.el-pagination .el-pager li.disabled{color:var(--el-text-color-placeholder);cursor:not-allowed}.el-pagination--small .btn-next,.el-pagination--small .btn-prev,.el-pagination--small .el-pager li,.el-pagination--small .el-pager li.btn-quicknext,.el-pagination--small .el-pager li.btn-quickprev,.el-pagination--small .el-pager li:last-child{border-color:transparent;font-size:var(--el-font-size-extra-small);line-height:var(--el-pagination-line-height-extra-small);height:var(--el-pagination-height-extra-small);min-width:24px}.el-pagination--small .arrow.disabled{visibility:hidden}.el-pagination--small .more::before,.el-pagination--small li.more::before{line-height:var(--el-pagination-line-height-extra-small)}.el-pagination--small button,.el-pagination--small span:not([class*=suffix]){height:var(--el-pagination-height-extra-small);line-height:var(--el-pagination-line-height-extra-small);font-size:var(--el-font-size-extra-small)}.el-pagination--small .el-pagination__editor{height:var(--el-pagination-line-height-extra-small)}.el-pagination--small .el-pagination__editor.el-input .el-input__inner{height:var(--el-pagination-height-extra-small)}.el-pagination--small .el-input--small,.el-pagination--small .el-input__inner{height:var(--el-pagination-height-extra-small)!important;line-height:var(--el-pagination-line-height-extra-small)}.el-pagination--small .el-input__suffix{line-height:var(--el-pagination-line-height-extra-small)}.el-pagination--small .el-input__suffix .el-input__suffix-inner{line-height:var(--el-pagination-line-height-extra-small)}.el-pagination--small .el-input__suffix .el-input__suffix-inner i.el-select__caret{line-height:var(--el-pagination-line-height-extra-small)}.el-pagination--small .el-select .el-input{width:100px}.el-pagination__sizes{margin:0 16px 0 0;font-weight:400;color:var(--el-text-color-regular)}.el-pagination__sizes+button.btn-prev[type=button]{margin-left:0}.el-pagination__sizes+.el-pager .number:first-child{margin-left:0}.el-pagination__sizes+.el-pager .number:last-child{margin-right:0}.el-pagination__total{margin-right:16px;font-weight:400;color:var(--el-text-color-regular)}.el-pagination__total+button.btn-prev[type=button]{margin-left:0}.el-pagination__total+.el-pager .number:first-child{margin-left:0}.el-pagination__total+.el-pager .number:last-child{margin-right:0}.el-pagination__total[disabled=true]{color:var(--el-text-color-placeholder)}.el-pagination__jump{margin-left:16px;font-weight:400;color:var(--el-text-color-regular)}.el-pagination__jump .el-input__inner{padding:0 3px}.el-pagination__jump[disabled=true]{color:var(--el-text-color-placeholder)}.el-pagination__rightwrapper{flex:1;display:flex;align-items:center;justify-content:flex-end}.el-pagination__editor{line-height:18px;margin:0 8px;height:var(--el-pagination-button-height);min-width:56px;text-align:center;box-sizing:border-box;border-radius:var(--el-pagination-border-radius)}.el-pagination__editor.el-input{width:50px}.el-pagination__editor.el-input .el-input__inner{height:var(--el-pagination-button-height)}.el-pagination__editor .el-input__inner::-webkit-inner-spin-button,.el-pagination__editor .el-input__inner::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.el-pagination.is-background .btn-next,.el-pagination.is-background .btn-prev,.el-pagination.is-background .el-pager li{margin:0 4px;background-color:var(--el-pagination-button-bg-color);color:var(--el-text-color-regular);min-width:32px;border-radius:2px}.el-pagination.is-background .btn-next.disabled,.el-pagination.is-background .btn-prev.disabled,.el-pagination.is-background .el-pager li.disabled{color:var(--el-text-color-placeholder);background-color:var(--el-disabled-bg-color)}.el-pagination.is-background .btn-next.is-first,.el-pagination.is-background .btn-prev.is-first,.el-pagination.is-background .el-pager li.is-first{margin-left:0}.el-pagination.is-background .btn-next.is-last,.el-pagination.is-background .btn-prev.is-last,.el-pagination.is-background .el-pager li.is-last{margin-right:0}.el-pagination.is-background .btn-next,.el-pagination.is-background .btn-prev{padding:0}.el-pagination.is-background .btn-next:disabled,.el-pagination.is-background .btn-prev:disabled{color:var(--el-text-color-placeholder);background-color:var(--el-disabled-bg-color)}.el-pagination.is-background .btn-next:hover:not([disabled]),.el-pagination.is-background .btn-prev:hover:not([disabled]){color:var(--el-pagination-hover-color)}.el-pagination.is-background .el-pager li:not(.disabled):hover{color:var(--el-pagination-hover-color)}.el-pagination.is-background .el-pager li:not(.disabled).active{background-color:var(--el-color-primary);color:var(--el-color-white);font-weight:700}.el-pagination.is-background.el-pagination--small .btn-next,.el-pagination.is-background.el-pagination--small .btn-prev,.el-pagination.is-background.el-pagination--small .el-pager li{min-width:24px}.el-pager{-webkit-user-select:none;user-select:none;list-style:none;font-size:0;padding:0;margin:0;display:flex;align-items:center}.el-pager li{padding:0 4px;background:var(--el-pagination-bg-color);display:flex;justify-content:center;align-items:center;font-size:var(--el-pagination-font-size);min-width:var(--el-pagination-button-width);height:var(--el-pagination-button-height);line-height:var(--el-pagination-button-height);cursor:pointer;box-sizing:border-box;text-align:center}.el-pager li.btn-quickprev:hover{cursor:pointer}.el-pager li.btn-quicknext:hover{cursor:pointer}.el-pager li.btn-quicknext,.el-pager li.btn-quickprev{line-height:32px;color:var(--el-pagination-button-color)}.el-pager li.btn-quicknext.disabled,.el-pager li.btn-quickprev.disabled{color:var(--el-text-color-placeholder);cursor:not-allowed}.el-pager li.btn-quicknext svg,.el-pager li.btn-quickprev svg{pointer-events:none}.el-pager li.active+li{border-left:0}.el-pager li:focus-visible{outline:1px solid var(--el-pagination-hover-color)}.el-pager li:hover{color:var(--el-pagination-hover-color)}.el-pager li.active{color:var(--el-pagination-hover-color);cursor:default}.el-pager+button.btn-next[type=button]{margin-right:0}.el-popconfirm__main{display:flex;align-items:center}.el-popconfirm__icon{margin-right:5px}.el-popconfirm__action{text-align:right;margin-top:8px}.el-popover{--el-popover-bg-color:var(--el-color-white);--el-popover-font-size:var(--el-font-size-base);--el-popover-border-color:var(--el-border-color-lighter);--el-popover-padding:12px;--el-popover-padding-large:18px 20px;--el-popover-title-font-size:16px;--el-popover-title-text-color:var(--el-text-color-primary);--el-popover-border-radius:4px}.el-popover.el-popper{background:var(--el-popover-bg-color);min-width:150px;border-radius:var(--el-popover-border-radius);border:1px solid var(--el-popover-border-color);padding:var(--el-popover-padding);z-index:var(--el-index-popper);color:var(--el-text-color-regular);line-height:1.4;text-align:justify;font-size:var(--el-popover-font-size);box-shadow:var(--el-box-shadow-light);word-break:break-all}.el-popover.el-popper--plain{padding:var(--el-popover-padding-large)}.el-popover__title{color:var(--el-popover-title-text-color);font-size:var(--el-popover-title-font-size);line-height:1;margin-bottom:12px}.el-popover__reference:focus:hover,.el-popover__reference:focus:not(.focusing){outline-width:0}.el-popover.el-popper:focus,.el-popover.el-popper:focus:active{outline-width:0}.el-progress{position:relative;line-height:1;display:flex;align-items:center}.el-progress__text{font-size:14px;color:var(--el-text-color-regular);margin-left:5px;min-width:50px;line-height:1}.el-progress__text i{vertical-align:middle;display:block}.el-progress--circle,.el-progress--dashboard{display:inline-block}.el-progress--circle .el-progress__text,.el-progress--dashboard .el-progress__text{position:absolute;top:50%;left:0;width:100%;text-align:center;margin:0;transform:translate(0,-50%)}.el-progress--circle .el-progress__text i,.el-progress--dashboard .el-progress__text i{vertical-align:middle;display:inline-block}.el-progress--without-text .el-progress__text{display:none}.el-progress--without-text .el-progress-bar{padding-right:0;margin-right:0;display:block}.el-progress--text-inside .el-progress-bar{padding-right:0;margin-right:0}.el-progress.is-success .el-progress-bar__inner{background-color:var(--el-color-success)}.el-progress.is-success .el-progress__text{color:var(--el-color-success)}.el-progress.is-warning .el-progress-bar__inner{background-color:var(--el-color-warning)}.el-progress.is-warning .el-progress__text{color:var(--el-color-warning)}.el-progress.is-exception .el-progress-bar__inner{background-color:var(--el-color-danger)}.el-progress.is-exception .el-progress__text{color:var(--el-color-danger)}.el-progress-bar{flex-grow:1;box-sizing:border-box}.el-progress-bar__outer{height:6px;border-radius:100px;background-color:var(--el-border-color-lighter);overflow:hidden;position:relative;vertical-align:middle}.el-progress-bar__inner{position:absolute;left:0;top:0;height:100%;background-color:var(--el-color-primary);text-align:right;border-radius:100px;line-height:1;white-space:nowrap;transition:width .6s ease}.el-progress-bar__inner::after{display:inline-block;content:"";height:100%;vertical-align:middle}.el-progress-bar__inner--indeterminate{transform:translateZ(0);animation:indeterminate 3s infinite}.el-progress-bar__innerText{display:inline-block;vertical-align:middle;color:#fff;font-size:12px;margin:0 5px}@keyframes progress{0%{background-position:0 0}100%{background-position:32px 0}}@keyframes indeterminate{0%{left:-100%}100%{left:100%}}.el-radio-button{--el-radio-button-checked-bg-color:var(--el-color-primary);--el-radio-button-checked-text-color:var(--el-color-white);--el-radio-button-checked-border-color:var(--el-color-primary);--el-radio-button-disabled-checked-fill:var(--el-border-color-extra-light)}.el-radio-button{position:relative;display:inline-block;outline:0}.el-radio-button__inner{display:inline-block;line-height:1;white-space:nowrap;vertical-align:middle;background:var(--el-button-bg-color,var(--el-color-white));border:1px solid #dcdfe6;font-weight:var(--el-button-font-weight,var(--el-font-weight-primary));border-left:0;color:var(--el-button-text-color,var(--el-text-color-regular));-webkit-appearance:none;text-align:center;box-sizing:border-box;outline:0;margin:0;position:relative;cursor:pointer;transition:var(--el-transition-all);-webkit-user-select:none;user-select:none;padding:8px 15px;font-size:var(--el-font-size-base,14px);border-radius:0}.el-radio-button__inner.is-round{padding:8px 15px}.el-radio-button__inner:hover{color:var(--el-color-primary)}.el-radio-button__inner [class*=el-icon-]{line-height:.9}.el-radio-button__inner [class*=el-icon-]+span{margin-left:5px}.el-radio-button:first-child .el-radio-button__inner{border-left:1px solid #dcdfe6;border-radius:var(--el-border-radius-base) 0 0 var(--el-border-radius-base);box-shadow:none!important}.el-radio-button__original-radio{opacity:0;outline:0;position:absolute;z-index:-1}.el-radio-button__original-radio:checked+.el-radio-button__inner{color:var(--el-radio-button-checked-text-color,var(--el-color-white));background-color:var(--el-radio-button-checked-bg-color,var(--el-color-primary));border-color:var(--el-radio-button-checked-border-color,var(--el-color-primary));box-shadow:-1px 0 0 0 var(--el-radio-button-checked-border-color,var(--el-color-primary))}.el-radio-button__original-radio:disabled+.el-radio-button__inner{color:var(--el-button-disabled-text-color,var(--el-disabled-text-color));cursor:not-allowed;background-image:none;background-color:var(--el-button-disabled-bg-color,var(--el-color-white));border-color:var(--el-button-disabled-border-color,var(--el-border-color-light));box-shadow:none}.el-radio-button__original-radio:disabled:checked+.el-radio-button__inner{background-color:var(--el-radio-button-disabled-checked-fill)}.el-radio-button:last-child .el-radio-button__inner{border-radius:0 var(--el-border-radius-base) var(--el-border-radius-base) 0}.el-radio-button:first-child:last-child .el-radio-button__inner{border-radius:var(--el-border-radius-base)}.el-radio-button--large .el-radio-button__inner{padding:12px 19px;font-size:var(--el-font-size-base,14px);border-radius:0}.el-radio-button--large .el-radio-button__inner.is-round{padding:12px 19px}.el-radio-button--small .el-radio-button__inner{padding:5px 11px;font-size:12px;border-radius:0}.el-radio-button--small .el-radio-button__inner.is-round{padding:5px 11px}.el-radio-button:focus:not(.is-focus):not(:active):not(.is-disabled){box-shadow:0 0 2px 2px var(--el-radio-button-checked-border-color)}.el-radio-group{display:inline-flex;align-items:center;flex-wrap:wrap;font-size:0}.el-radio{--el-radio-font-size:var(--el-font-size-base);--el-radio-text-color:var(--el-text-color-regular);--el-radio-font-weight:var(--el-font-weight-primary);--el-radio-input-height:14px;--el-radio-input-width:14px;--el-radio-input-border-radius:var(--el-border-radius-circle);--el-radio-input-bg-color:var(--el-color-white);--el-radio-input-border:var(--el-border-base);--el-radio-input-border-color:var(--el-border-color-base);--el-radio-input-border-color-hover:var(--el-color-primary)}.el-radio{color:var(--el-radio-text-color);font-weight:var(--el-radio-font-weight);position:relative;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;outline:0;font-size:var(--el-font-size-base);-webkit-user-select:none;user-select:none;margin-right:32px;height:32px;user-select:none}.el-radio.el-radio--large{height:40px}.el-radio.el-radio--small{height:24px}.el-radio.is-bordered{padding:0 15px 0 9px;border-radius:var(--el-border-radius-base);border:var(--el-border-base);box-sizing:border-box}.el-radio.is-bordered.is-checked{border-color:var(--el-color-primary)}.el-radio.is-bordered.is-disabled{cursor:not-allowed;border-color:var(--el-border-color-lighter)}.el-radio.is-bordered.el-radio--large{padding:0 19px 0 11px;border-radius:var(--el-border-radius-base)}.el-radio.is-bordered.el-radio--large .el-radio__label{font-size:var(--el-font-size-base,14px)}.el-radio.is-bordered.el-radio--large .el-radio__inner{height:14px;width:14px}.el-radio.is-bordered.el-radio--small{padding:0 11px 0 7px;border-radius:var(--el-border-radius-base)}.el-radio.is-bordered.el-radio--small .el-radio__label{font-size:12px}.el-radio.is-bordered.el-radio--small .el-radio__inner{height:12px;width:12px}.el-radio:last-child{margin-right:0}.el-radio__input{white-space:nowrap;cursor:pointer;outline:0;display:inline-flex;position:relative;vertical-align:middle}.el-radio__input.is-disabled .el-radio__inner{background-color:var(--el-disabled-bg-color);border-color:var(--el-disabled-border-color);cursor:not-allowed}.el-radio__input.is-disabled .el-radio__inner::after{cursor:not-allowed;background-color:var(--el-disabled-bg-color)}.el-radio__input.is-disabled .el-radio__inner+.el-radio__label{cursor:not-allowed}.el-radio__input.is-disabled.is-checked .el-radio__inner{background-color:var(--el-disabled-bg-color);border-color:var(--el-disabled-border-color)}.el-radio__input.is-disabled.is-checked .el-radio__inner::after{background-color:var(--el-text-color-placeholder)}.el-radio__input.is-disabled+span.el-radio__label{color:var(--el-text-color-placeholder);cursor:not-allowed}.el-radio__input.is-checked .el-radio__inner{border-color:var(--el-color-primary);background:var(--el-color-primary)}.el-radio__input.is-checked .el-radio__inner::after{transform:translate(-50%,-50%) scale(1)}.el-radio__input.is-checked+.el-radio__label{color:var(--el-color-primary)}.el-radio__input.is-focus .el-radio__inner{border-color:var(--el-radio-input-border-color-hover)}.el-radio__inner{border:var(--el-radio-input-border);border-radius:var(--el-radio-input-border-radius);width:var(--el-radio-input-width);height:var(--el-radio-input-height);background-color:var(--el-radio-input-bg-color);position:relative;cursor:pointer;display:inline-block;box-sizing:border-box}.el-radio__inner:hover{border-color:var(--el-radio-input-border-color-hover)}.el-radio__inner::after{width:4px;height:4px;border-radius:var(--el-radio-input-border-radius);background-color:var(--el-color-white);content:"";position:absolute;left:50%;top:50%;transform:translate(-50%,-50%) scale(0);transition:transform .15s ease-in}.el-radio__original{opacity:0;outline:0;position:absolute;z-index:-1;top:0;left:0;right:0;bottom:0;margin:0}.el-radio:focus:not(.is-focus):not(:active):not(.is-disabled) .el-radio__inner{box-shadow:0 0 2px 2px var(--el-radio-input-border-color-hover)}.el-radio__label{font-size:var(--el-radio-font-size);padding-left:8px}.el-radio.el-radio--large .el-radio__label{font-size:14px}.el-radio.el-radio--large .el-radio__inner{width:14px;height:14px}.el-radio.el-radio--small .el-radio__label{font-size:12px}.el-radio.el-radio--small .el-radio__inner{width:12px;height:12px}.el-rate{--el-rate-height:20px;--el-rate-font-size:var(--el-font-size-base);--el-rate-icon-size:18px;--el-rate-icon-margin:6px;--el-rate-icon-color:var(--el-text-color-placeholder);--el-rate-void-color:#c6d1de;--el-rate-star-color:#f7ba2a;--el-rate-disable-void-color:#eff2f7;--el-rate-text-color:#1f2d3d}.el-rate{display:inline-flex;align-items:center;height:32px}.el-rate:active,.el-rate:focus{outline-width:0}.el-rate__item{display:inline-block;position:relative;font-size:0;vertical-align:middle}.el-rate .el-rate__icon{position:relative;display:inline-block;font-size:var(--el-rate-icon-size);margin-right:var(--el-rate-icon-margin);color:var(--el-rate-icon-color);transition:var(--el-transition-duration)}.el-rate .el-rate__icon.hover{transform:scale(1.15)}.el-rate .el-rate__icon .path2{position:absolute;left:0;top:0}.el-rate__decimal{position:absolute;top:0;left:0;display:inline-block;overflow:hidden}.el-rate__text{font-size:var(--el-rate-font-size);vertical-align:middle}.el-rate--large{height:40px}.el-rate--small{height:24px}.el-result{--el-result-padding:40px 30px;--el-result-icon-font-size:64px;--el-result-title-font-size:20px;--el-result-title-margin-top:20px;--el-result-subtitle-margin-top:10px;--el-result-extra-margin-top:30px}.el-result{display:flex;justify-content:center;align-items:center;flex-direction:column;text-align:center;box-sizing:border-box;padding:var(--el-result-padding)}.el-result__icon svg{width:var(--el-result-icon-font-size);height:var(--el-result-icon-font-size)}.el-result__title{margin-top:var(--el-result-title-margin-top)}.el-result__title p{margin:0;font-size:var(--el-result-title-font-size);color:var(--el-text-color-primary);line-height:1.3}.el-result__subtitle{margin-top:var(--el-result-subtitle-margin-top)}.el-result__subtitle p{margin:0;font-size:var(--el-font-size-base);color:var(--el-text-color-regular);line-height:1.3}.el-result__extra{margin-top:var(--el-result-extra-margin-top)}.el-result .icon-success{--el-result-color:var(--el-color-success);color:var(--el-result-color)}.el-result .icon-warning{--el-result-color:var(--el-color-warning);color:var(--el-result-color)}.el-result .icon-danger{--el-result-color:var(--el-color-danger);color:var(--el-result-color)}.el-result .icon-info{--el-result-color:var(--el-color-info);color:var(--el-result-color)}.el-result .icon-error{--el-result-color:var(--el-color-error);color:var(--el-result-color)}.el-row{display:flex;flex-wrap:wrap;position:relative;box-sizing:border-box}.el-row.is-justify-center{justify-content:center}.el-row.is-justify-end{justify-content:flex-end}.el-row.is-justify-space-between{justify-content:space-between}.el-row.is-justify-space-around{justify-content:space-around}.el-row.is-align-middle{align-items:center}.el-row.is-align-bottom{align-items:flex-end}.el-scrollbar{--el-scrollbar-opacity:0.3;--el-scrollbar-bg-color:var(--el-text-color-secondary);--el-scrollbar-hover-opacity:0.5;--el-scrollbar-hover-bg-color:var(--el-text-color-secondary)}.el-scrollbar{overflow:hidden;position:relative;height:100%}.el-scrollbar__wrap{overflow:auto;height:100%}.el-scrollbar__wrap--hidden-default{scrollbar-width:none}.el-scrollbar__wrap--hidden-default::-webkit-scrollbar{display:none}.el-scrollbar__thumb{position:relative;display:block;width:0;height:0;cursor:pointer;border-radius:inherit;background-color:var(--el-scrollbar-bg-color,var(--el-text-color-secondary));transition:var(--el-transition-duration) background-color;opacity:var(--el-scrollbar-opacity,.3)}.el-scrollbar__thumb:hover{background-color:var(--el-scrollbar-hover-bg-color,var(--el-text-color-secondary));opacity:var(--el-scrollbar-hover-opacity,.5)}.el-scrollbar__bar{position:absolute;right:2px;bottom:2px;z-index:1;border-radius:4px}.el-scrollbar__bar.is-vertical{width:6px;top:2px}.el-scrollbar__bar.is-vertical>div{width:100%}.el-scrollbar__bar.is-horizontal{height:6px;left:2px}.el-scrollbar__bar.is-horizontal>div{height:100%}.el-scrollbar-fade-enter-active{transition:opacity 340ms ease-out}.el-scrollbar-fade-leave-active{transition:opacity 120ms ease-out}.el-scrollbar-fade-enter-from,.el-scrollbar-fade-leave-active{opacity:0}.el-select-dropdown{z-index:calc(var(--el-index-top) + 1);border-radius:var(--el-border-radius-base);box-sizing:border-box}.el-select-dropdown .el-scrollbar.is-empty .el-select-dropdown__list{padding:0}.el-select-dropdown__option-item:hover:not(.hover){background-color:transparent}.el-select-dropdown__empty{padding:10px 0;margin:0;text-align:center;color:var(--el-text-color-secondary);font-size:var(--el-select-font-size)}.el-select-dropdown__wrap{max-height:274px}.el-select-dropdown__list{list-style:none;margin:6px 0!important;padding:0!important;box-sizing:border-box}.el-select-dropdown__option-item{font-size:var(--el-select-font-size);padding:0 32px 0 20px;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--el-text-color-regular);height:34px;line-height:34px;box-sizing:border-box;cursor:pointer}.el-select-dropdown__option-item.is-disabled{color:var(--el-text-color-placeholder);cursor:not-allowed}.el-select-dropdown__option-item.is-disabled:hover{background-color:var(--el-color-white)}.el-select-dropdown__option-item.is-selected{background-color:var(--el-bg-color);font-weight:700}.el-select-dropdown__option-item.is-selected:not(.is-multiple){color:var(--el-color-primary)}.el-select-dropdown__option-item.hover{background-color:var(--el-bg-color)!important}.el-select-dropdown__option-item:hover{background-color:var(--el-bg-color)}.el-select-dropdown.is-multiple .el-select-dropdown__option-item.is-selected{color:var(--el-color-primary);background-color:var(--el-color-white)}.el-select-dropdown.is-multiple .el-select-dropdown__option-item.is-selected .el-icon{position:absolute;right:20px;top:0;height:inherit;font-size:12px}.el-select-dropdown.is-multiple .el-select-dropdown__option-item.is-selected .el-icon svg{height:inherit;vertical-align:middle}.el-select-group{margin:0;padding:0}.el-select-group__wrap{position:relative;list-style:none;margin:0;padding:0}.el-select-group__wrap:not(:last-of-type){padding-bottom:24px}.el-select-group__wrap:not(:last-of-type)::after{content:"";position:absolute;display:block;left:20px;right:20px;bottom:12px;height:1px;background:var(--el-border-color-light)}.el-select-group__split-dash{position:absolute;left:20px;right:20px;height:1px;background:var(--el-border-color-light)}.el-select-group__title{padding-left:20px;font-size:12px;color:var(--el-color-info);line-height:30px}.el-select-group .el-select-dropdown__item{padding-left:20px}.el-select-v2{--el-select-border-color-hover:var(--el-border-color-hover);--el-select-disabled-border:var(--el-disabled-border-color);--el-select-font-size:var(--el-font-size-base);--el-select-close-hover-color:var(--el-text-color-secondary);--el-select-input-color:var(--el-text-color-placeholder);--el-select-multiple-input-color:var(--el-text-color-regular);--el-select-input-focus-border-color:var(--el-color-primary);--el-select-input-font-size:14px}.el-select-v2{display:inline-block;position:relative;vertical-align:middle;font-size:14px}.el-select-v2__wrapper{display:flex;align-items:center;flex-wrap:wrap;box-sizing:border-box;cursor:pointer;padding:1px 30px 1px 0;border:1px solid var(--el-border-color-base);border-radius:var(--el-border-radius-base);transition:border-color var(--el-transition-duration-fast) var(--el-ease-in-out-bezier-function)}.el-select-v2__wrapper:hover{border-color:var(--el-text-color-placeholder)}.el-select-v2__wrapper.is-filterable{cursor:text}.el-select-v2__wrapper.is-focused{border-color:var(--el-color-primary)}.el-select-v2__wrapper.is-hovering:not(.is-focused){border-color:var(--el-text-color-placeholder)}.el-select-v2__wrapper.is-disabled{cursor:not-allowed;background-color:var(--el-bg-color);color:var(--el-text-color-placeholder);border-color:var(--el-select-disabled-border)}.el-select-v2__wrapper.is-disabled:hover{border-color:var(--el-select-disabled-border)}.el-select-v2__wrapper.is-disabled.is-focus{border-color:var(--el-input-focus-border-color)}.el-select-v2__wrapper.is-disabled .is-transparent{opacity:1;-webkit-user-select:none;user-select:none}.el-select-v2__wrapper .el-select-v2__input-wrapper{box-sizing:border-box;position:relative;-webkit-margin-start:12px;margin-inline-start:12px;max-width:100%;overflow:hidden}.el-select-v2__wrapper,.el-select-v2__wrapper .el-select-v2__input-wrapper{line-height:32px}.el-select-v2__wrapper .el-select-v2__input-wrapper input{line-height:24px;height:24px;min-width:4px;width:100%;background-color:transparent;-webkit-appearance:none;appearance:none;background:0 0;border:none;margin:2px 0;outline:0;padding:0}.el-select-v2 .el-select-v2__tags-text{text-overflow:ellipsis;display:inline-flex;justify-content:center;align-items:center;overflow:hidden}.el-select-v2__empty{padding:10px 0;margin:0;text-align:center;color:var(--el-text-color-secondary);font-size:14px}.el-select-v2__popper.el-popper[role=tooltip]{background:var(--el-color-white);border:1px solid var(--el-border-color-light);box-shadow:var(--el-box-shadow-light)}.el-select-v2__popper.el-popper[role=tooltip] .el-popper__arrow::before{border:1px solid var(--el-border-color-light)}.el-select-v2__popper.el-popper[role=tooltip][data-popper-placement^=top] .el-popper__arrow::before{border-top-color:transparent;border-left-color:transparent}.el-select-v2__popper.el-popper[role=tooltip][data-popper-placement^=bottom] .el-popper__arrow::before{border-bottom-color:transparent;border-right-color:transparent}.el-select-v2__popper.el-popper[role=tooltip][data-popper-placement^=left] .el-popper__arrow::before{border-left-color:transparent;border-bottom-color:transparent}.el-select-v2__popper.el-popper[role=tooltip][data-popper-placement^=right] .el-popper__arrow::before{border-right-color:transparent;border-top-color:transparent}.el-select-v2--large .el-select-v2__wrapper .el-select-v2__combobox-input{height:32px}.el-select-v2--large .el-select-v2__caret{height:40px}.el-select-v2--large .el-select-v2__suffix{height:40px}.el-select-v2--large .el-select-v2__placeholder{font-size:14px}.el-select-v2--small .el-select-v2__wrapper .el-select-v2__combobox-input{height:16px}.el-select-v2--small .el-select-v2__caret{height:24px}.el-select-v2--small .el-select-v2__suffix{height:24px}.el-select-v2--small .el-select-v2__placeholder{font-size:12px}.el-select-v2 .el-select-v2__selection>span{display:inline-block}.el-select-v2:hover .el-select-v2__combobox-input{border-color:var(--el-select-border-color-hover)}.el-select-v2 .el-select__selection-text{text-overflow:ellipsis;display:inline-block;overflow-x:hidden;vertical-align:bottom}.el-select-v2 .el-select-v2__combobox-input{padding-right:35px;display:block}.el-select-v2 .el-select-v2__combobox-input:focus{border-color:var(--el-select-input-focus-border-color)}.el-select-v2__input{border:none;outline:0;padding:0;margin-left:15px;color:var(--el-select-multiple-input-color);font-size:var(--el-select-font-size);-webkit-appearance:none;appearance:none;height:28px}.el-select-v2__input.is-small{height:14px}.el-select-v2__close{cursor:pointer;position:absolute;top:8px;z-index:var(--el-index-top);right:25px;color:var(--el-select-input-color);line-height:18px;font-size:var(--el-select-input-font-size)}.el-select-v2__close:hover{color:var(--el-select-close-hover-color)}.el-select-v2__suffix{display:inline-flex;position:absolute;right:12px;height:40px;top:50%;transform:translateY(-50%);color:var(--el-input-icon-color,var(--el-text-color-placeholder))}.el-select-v2__caret{color:var(--el-select-input-color);font-size:var(--el-select-input-font-size);transition:transform var(--el-transition-duration);transform:rotateZ(180deg);cursor:pointer}.el-select-v2__caret.is-reverse{transform:rotateZ(0)}.el-select-v2__caret.is-show-close{font-size:var(--el-select-font-size);text-align:center;transform:rotateZ(180deg);border-radius:var(--el-border-radius-circle);color:var(--el-select-input-color);transition:var(--el-transition-color)}.el-select-v2__caret.is-show-close:hover{color:--el-select-close-hover-color}.el-select-v2__caret.el-icon{height:inherit}.el-select-v2__caret.el-icon svg{vertical-align:middle}.el-select-v2__selection{white-space:normal;z-index:var(--el-index-normal);display:flex;align-items:center;flex-wrap:wrap}.el-select-v2__wrapper{background-color:#fff;border:1px solid #d9d9d9;border-radius:var(--el-border-radius-base);position:relative;transition:all var(--el-transition-duration) var(--el-ease-in-out-bezier-function)}.el-select-v2__input-calculator{left:0;position:absolute;top:0;visibility:hidden;white-space:pre;z-index:999}.el-select-v2__selected-item{line-height:inherit;height:inherit;-webkit-user-select:none;user-select:none;display:flex}.el-select-v2__placeholder{position:absolute;top:50%;transform:translateY(-50%);-webkit-margin-start:12px;margin-inline-start:12px;width:calc(100% - 52px);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;color:var(--el-input-text-color,var(--el-text-color-regular))}.el-select-v2__placeholder.is-transparent{color:var(--el-text-color-placeholder)}.el-select-v2 .el-select-v2__selection .el-tag{box-sizing:border-box;border-color:transparent;margin:2px 0 2px 6px;background-color:#f0f2f5}.el-select-v2 .el-select-v2__selection .el-tag .el-icon-close{background-color:var(--el-text-color-placeholder);right:-7px;color:var(--el-color-white)}.el-select-v2 .el-select-v2__selection .el-tag .el-icon-close:hover{background-color:var(--el-text-color-secondary)}.el-select-v2 .el-select-v2__selection .el-tag .el-icon-close::before{display:block;transform:translate(0,.5px)}.el-select-v2.el-select-v2--small .el-select-v2__selection .el-tag{margin:1px 0 1px 6px;height:18px}.el-select-dropdown{z-index:calc(var(--el-index-top) + 1);border-radius:var(--el-border-radius-base);box-sizing:border-box}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected{color:var(--el-color-primary);background-color:var(--el-color-white)}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected.hover{background-color:var(--el-bg-color)}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected .el-icon{position:absolute;right:20px;top:0;height:inherit;font-size:12px}.el-select-dropdown.is-multiple .el-select-dropdown__item.selected .el-icon svg{height:inherit;vertical-align:middle}.el-select-dropdown .el-scrollbar.is-empty .el-select-dropdown__list{padding:0}.el-select-dropdown__empty{padding:10px 0;margin:0;text-align:center;color:var(--el-text-color-secondary);font-size:var(--el-select-font-size)}.el-select-dropdown__wrap{max-height:274px}.el-select-dropdown__list{list-style:none;padding:6px 0;margin:0;box-sizing:border-box}.el-select{--el-select-border-color-hover:var(--el-border-color-hover);--el-select-disabled-border:var(--el-disabled-border-color);--el-select-font-size:var(--el-font-size-base);--el-select-close-hover-color:var(--el-text-color-secondary);--el-select-input-color:var(--el-text-color-placeholder);--el-select-multiple-input-color:var(--el-text-color-regular);--el-select-input-focus-border-color:var(--el-color-primary);--el-select-input-font-size:14px}.el-select{display:inline-block;position:relative;line-height:32px}.el-select__popper.el-popper[role=tooltip]{background:var(--el-color-white);border:1px solid var(--el-border-color-light);box-shadow:var(--el-box-shadow-light)}.el-select__popper.el-popper[role=tooltip] .el-popper__arrow::before{border:1px solid var(--el-border-color-light)}.el-select__popper.el-popper[role=tooltip][data-popper-placement^=top] .el-popper__arrow::before{border-top-color:transparent;border-left-color:transparent}.el-select__popper.el-popper[role=tooltip][data-popper-placement^=bottom] .el-popper__arrow::before{border-bottom-color:transparent;border-right-color:transparent}.el-select__popper.el-popper[role=tooltip][data-popper-placement^=left] .el-popper__arrow::before{border-left-color:transparent;border-bottom-color:transparent}.el-select__popper.el-popper[role=tooltip][data-popper-placement^=right] .el-popper__arrow::before{border-right-color:transparent;border-top-color:transparent}.el-select--large{line-height:40px}.el-select--small{line-height:24px}.el-select .el-select__tags>span{display:inline-block}.el-select:hover:not(.el-select--disabled) .el-input__inner{border-color:var(--el-select-border-color-hover)}.el-select .el-select__tags-text{text-overflow:ellipsis;display:inline-flex;justify-content:center;align-items:center;overflow:hidden}.el-select .el-input__inner{cursor:pointer;display:inline-flex}.el-select .el-input__inner:focus{border-color:var(--el-select-input-focus-border-color)!important}.el-select .el-input{display:flex}.el-select .el-input .el-select__caret{color:var(--el-select-input-color);font-size:var(--el-select-input-font-size);transition:transform var(--el-transition-duration);transform:rotateZ(180deg);cursor:pointer}.el-select .el-input .el-select__caret.is-reverse{transform:rotateZ(0)}.el-select .el-input .el-select__caret.is-show-close{font-size:var(--el-select-font-size);text-align:center;transform:rotateZ(180deg);border-radius:var(--el-border-radius-circle);color:var(--el-select-input-color);transition:var(--el-transition-color)}.el-select .el-input .el-select__caret.is-show-close:hover{color:var(--el-select-close-hover-color)}.el-select .el-input .el-select__caret.el-icon{height:inherit}.el-select .el-input.is-disabled .el-input__inner{cursor:not-allowed}.el-select .el-input.is-disabled .el-input__inner:hover{border-color:var(--el-select-disabled-border)}.el-select .el-input.is-disabled .el-select__caret{cursor:not-allowed}.el-select .el-input.is-focus .el-input__inner{border-color:var(--el-select-input-focus-border-color)!important}.el-select__input{border:none;outline:0;padding:0;margin-left:15px;color:var(--el-select-multiple-input-color);font-size:var(--el-select-font-size);-webkit-appearance:none;appearance:none;height:28px;background-color:transparent}.el-select__close{cursor:pointer;position:absolute;top:8px;z-index:var(--el-index-top);right:25px;color:var(--el-select-input-color);line-height:18px;font-size:var(--el-select-input-font-size)}.el-select__close:hover{color:var(--el-select-close-hover-color)}.el-select__tags{position:absolute;line-height:normal;white-space:normal;z-index:var(--el-index-normal);top:50%;transform:translateY(-50%);display:flex;align-items:center;flex-wrap:wrap}.el-select .el-tag__close{margin-top:-2px}.el-select .el-select__tags .el-tag{box-sizing:border-box;border-color:transparent;margin:2px 6px 2px 0}.el-select .el-select__tags .el-tag .el-icon-close{background-color:var(--el-text-color-placeholder);right:-7px;top:0;color:#fff}.el-select .el-select__tags .el-tag .el-icon-close:hover{background-color:var(--el-text-color-secondary)}.el-select .el-select__tags .el-tag .el-icon-close::before{display:block;transform:translate(0,.5px)}.el-select .el-select__tags .el-tag--info{background-color:#f0f2f5}.el-skeleton{--el-skeleton-circle-size:var(--el-avatar-size)}.el-skeleton__item{background:var(--el-skeleton-color);display:inline-block;height:16px;border-radius:var(--el-border-radius-base);width:100%}.el-skeleton__circle{border-radius:50%;width:var(--el-skeleton-circle-size);height:var(--el-skeleton-circle-size);line-height:var(--el-skeleton-circle-size)}.el-skeleton__button{height:40px;width:64px;border-radius:4px}.el-skeleton__p{width:100%}.el-skeleton__p.is-last{width:61%}.el-skeleton__p.is-first{width:33%}.el-skeleton__text{width:100%;height:var(--el-font-size-small)}.el-skeleton__caption{height:var(--el-font-size-extra-small)}.el-skeleton__h1{height:var(--el-font-size-extra-large)}.el-skeleton__h3{height:var(--el-font-size-large)}.el-skeleton__h5{height:var(--el-font-size-medium)}.el-skeleton__image{width:unset;display:flex;align-items:center;justify-content:center;border-radius:0}.el-skeleton__image svg{fill:var(--el-svg-monochrome-grey);width:22%;height:22%}.el-skeleton{--el-skeleton-color:#f2f2f2;--el-skeleton-to-color:#e6e6e6}@keyframes el-skeleton-loading{0%{background-position:100% 50%}100%{background-position:0 50%}}.el-skeleton{width:100%}.el-skeleton__first-line{height:16px;margin-top:16px;background:var(--el-skeleton-color)}.el-skeleton__paragraph{height:16px;margin-top:16px;background:var(--el-skeleton-color)}.el-skeleton.is-animated .el-skeleton__item{background:linear-gradient(90deg,var(--el-skeleton-color) 25%,var(--el-skeleton-to-color) 37%,var(--el-skeleton-color) 63%);background-size:400% 100%;animation:el-skeleton-loading 1.4s ease infinite}.el-slider{--el-slider-main-bg-color:var(--el-color-primary);--el-slider-runway-bg-color:var(--el-border-color-light);--el-slider-stop-bg-color:var(--el-color-white);--el-slider-disable-color:var(--el-text-color-placeholder);--el-slider-border-radius:3px;--el-slider-height:6px;--el-slider-button-size:20px;--el-slider-button-wrapper-size:36px;--el-slider-button-wrapper-offset:-15px}.el-slider{width:100%;height:32px;display:flex;align-items:center}.el-slider__runway{flex:1;height:var(--el-slider-height);background-color:var(--el-slider-runway-bg-color);border-radius:var(--el-slider-border-radius);position:relative;cursor:pointer}.el-slider__runway.show-input{margin-right:30px;width:auto}.el-slider__runway.disabled{cursor:default}.el-slider__runway.disabled .el-slider__bar{background-color:var(--el-slider-disable-color)}.el-slider__runway.disabled .el-slider__button{border-color:var(--el-slider-disable-color)}.el-slider__runway.disabled .el-slider__button-wrapper.hover,.el-slider__runway.disabled .el-slider__button-wrapper:hover{cursor:not-allowed}.el-slider__runway.disabled .el-slider__button-wrapper.dragging{cursor:not-allowed}.el-slider__runway.disabled .el-slider__button.dragging,.el-slider__runway.disabled .el-slider__button.hover,.el-slider__runway.disabled .el-slider__button:hover{transform:scale(1)}.el-slider__runway.disabled .el-slider__button.hover,.el-slider__runway.disabled .el-slider__button:hover{cursor:not-allowed}.el-slider__runway.disabled .el-slider__button.dragging{cursor:not-allowed}.el-slider__input{flex-shrink:0;width:130px}.el-slider__bar{height:var(--el-slider-height);background-color:var(--el-slider-main-bg-color);border-top-left-radius:var(--el-slider-border-radius);border-bottom-left-radius:var(--el-slider-border-radius);position:absolute}.el-slider__button-wrapper{height:var(--el-slider-button-wrapper-size);width:var(--el-slider-button-wrapper-size);position:absolute;z-index:1;top:var(--el-slider-button-wrapper-offset);transform:translateX(-50%);background-color:transparent;text-align:center;-webkit-user-select:none;user-select:none;line-height:normal;outline:0}.el-slider__button-wrapper::after{display:inline-block;content:"";height:100%;vertical-align:middle}.el-slider__button-wrapper.hover,.el-slider__button-wrapper:hover{cursor:grab}.el-slider__button-wrapper.dragging{cursor:grabbing}.el-slider__button{display:inline-block;width:var(--el-slider-button-size);height:var(--el-slider-button-size);vertical-align:middle;border:solid 2px var(--el-slider-main-bg-color);background-color:var(--el-color-white);border-radius:50%;box-sizing:border-box;transition:var(--el-transition-duration-fast);-webkit-user-select:none;user-select:none}.el-slider__button.dragging,.el-slider__button.hover,.el-slider__button:hover{transform:scale(1.2)}.el-slider__button.hover,.el-slider__button:hover{cursor:grab}.el-slider__button.dragging{cursor:grabbing}.el-slider__stop{position:absolute;height:var(--el-slider-height);width:var(--el-slider-height);border-radius:var(--el-border-radius-circle);background-color:var(--el-slider-stop-bg-color);transform:translateX(-50%)}.el-slider__marks{top:0;left:12px;width:18px;height:100%}.el-slider__marks-text{position:absolute;transform:translateX(-50%);font-size:14px;color:var(--el-color-info);margin-top:15px}.el-slider.is-vertical{position:relative;height:100%;flex:0}.el-slider.is-vertical .el-slider__runway{width:var(--el-slider-height);height:100%;margin:0 16px}.el-slider.is-vertical .el-slider__bar{width:var(--el-slider-height);height:auto;border-radius:0 0 3px 3px}.el-slider.is-vertical .el-slider__button-wrapper{top:auto;left:var(--el-slider-button-wrapper-offset);transform:translateY(50%)}.el-slider.is-vertical .el-slider__stop{transform:translateY(50%)}.el-slider.is-vertical .el-slider__marks-text{margin-top:0;left:15px;transform:translateY(50%)}.el-slider--large{height:40px}.el-slider--small{height:24px}.el-space{display:inline-flex;vertical-align:top}.el-space__item{display:flex;flex-wrap:wrap}.el-space__item>*{flex:1}.el-space--vertical{flex-direction:column}.el-time-spinner{width:100%;white-space:nowrap}.el-spinner{display:inline-block;vertical-align:middle}.el-spinner-inner{animation:rotate 2s linear infinite;width:50px;height:50px}.el-spinner-inner .path{stroke:#ececec;stroke-linecap:round;animation:dash 1.5s ease-in-out infinite}@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}.el-step{position:relative;flex-shrink:1}.el-step:last-of-type .el-step__line{display:none}.el-step:last-of-type.is-flex{flex-basis:auto!important;flex-shrink:0;flex-grow:0}.el-step:last-of-type .el-step__description,.el-step:last-of-type .el-step__main{padding-right:0}.el-step__head{position:relative;width:100%}.el-step__head.is-process{color:var(--el-text-color-primary);border-color:var(--el-text-color-primary)}.el-step__head.is-wait{color:var(--el-text-color-placeholder);border-color:var(--el-text-color-placeholder)}.el-step__head.is-success{color:var(--el-color-success);border-color:var(--el-color-success)}.el-step__head.is-error{color:var(--el-color-danger);border-color:var(--el-color-danger)}.el-step__head.is-finish{color:var(--el-color-primary);border-color:var(--el-color-primary)}.el-step__icon{position:relative;z-index:1;display:inline-flex;justify-content:center;align-items:center;width:24px;height:24px;font-size:14px;box-sizing:border-box;background:#fff;transition:.15s ease-out}.el-step__icon.is-text{border-radius:50%;border:2px solid;border-color:inherit}.el-step__icon.is-icon{width:40px}.el-step__icon-inner{display:inline-block;-webkit-user-select:none;user-select:none;text-align:center;font-weight:700;line-height:1;color:inherit}.el-step__icon-inner[class*=el-icon]:not(.is-status){font-size:25px;font-weight:400}.el-step__icon-inner.is-status{transform:translateY(1px)}.el-step__line{position:absolute;border-color:inherit;background-color:var(--el-text-color-placeholder)}.el-step__line-inner{display:block;border-width:1px;border-style:solid;border-color:inherit;transition:.15s ease-out;box-sizing:border-box;width:0;height:0}.el-step__main{white-space:normal;text-align:left}.el-step__title{font-size:16px;line-height:38px}.el-step__title.is-process{font-weight:700;color:var(--el-text-color-primary)}.el-step__title.is-wait{color:var(--el-text-color-placeholder)}.el-step__title.is-success{color:var(--el-color-success)}.el-step__title.is-error{color:var(--el-color-danger)}.el-step__title.is-finish{color:var(--el-color-primary)}.el-step__description{padding-right:10%;margin-top:-5px;font-size:12px;line-height:20px;font-weight:400}.el-step__description.is-process{color:var(--el-text-color-primary)}.el-step__description.is-wait{color:var(--el-text-color-placeholder)}.el-step__description.is-success{color:var(--el-color-success)}.el-step__description.is-error{color:var(--el-color-danger)}.el-step__description.is-finish{color:var(--el-color-primary)}.el-step.is-horizontal{display:inline-block}.el-step.is-horizontal .el-step__line{height:2px;top:11px;left:0;right:0}.el-step.is-vertical{display:flex}.el-step.is-vertical .el-step__head{flex-grow:0;width:24px}.el-step.is-vertical .el-step__main{padding-left:10px;flex-grow:1}.el-step.is-vertical .el-step__title{line-height:24px;padding-bottom:8px}.el-step.is-vertical .el-step__line{width:2px;top:0;bottom:0;left:11px}.el-step.is-vertical .el-step__icon.is-icon{width:24px}.el-step.is-center .el-step__head{text-align:center}.el-step.is-center .el-step__main{text-align:center}.el-step.is-center .el-step__description{padding-left:20%;padding-right:20%}.el-step.is-center .el-step__line{left:50%;right:-50%}.el-step.is-simple{display:flex;align-items:center}.el-step.is-simple .el-step__head{width:auto;font-size:0;padding-right:10px}.el-step.is-simple .el-step__icon{background:0 0;width:16px;height:16px;font-size:12px}.el-step.is-simple .el-step__icon-inner[class*=el-icon]:not(.is-status){font-size:18px}.el-step.is-simple .el-step__icon-inner.is-status{transform:scale(.8) translateY(1px)}.el-step.is-simple .el-step__main{position:relative;display:flex;align-items:stretch;flex-grow:1}.el-step.is-simple .el-step__title{font-size:16px;line-height:20px}.el-step.is-simple:not(:last-of-type) .el-step__title{max-width:50%;word-break:break-all}.el-step.is-simple .el-step__arrow{flex-grow:1;display:flex;align-items:center;justify-content:center}.el-step.is-simple .el-step__arrow::after,.el-step.is-simple .el-step__arrow::before{content:"";display:inline-block;position:absolute;height:15px;width:1px;background:var(--el-text-color-placeholder)}.el-step.is-simple .el-step__arrow::before{transform:rotate(-45deg) translateY(-4px);transform-origin:0 0}.el-step.is-simple .el-step__arrow::after{transform:rotate(45deg) translateY(4px);transform-origin:100% 100%}.el-step.is-simple:last-of-type .el-step__arrow{display:none}.el-steps{display:flex}.el-steps--simple{padding:13px 8%;border-radius:4px;background:var(--el-bg-color)}.el-steps--horizontal{white-space:nowrap}.el-steps--vertical{height:100%;flex-flow:column}.el-switch{--el-switch-on-color:var(--el-color-primary);--el-switch-off-color:var(--el-border-color-base);--el-switch-core-border-radius:10px;--el-switch-width:40px;--el-switch-height:20px;--el-switch-button-size:16px}.el-switch{display:inline-flex;align-items:center;position:relative;font-size:14px;line-height:var(--el-switch-height);height:32px;vertical-align:middle}.el-switch.is-disabled .el-switch__core,.el-switch.is-disabled .el-switch__label{cursor:not-allowed}.el-switch__label{transition:var(--el-transition-duration-fast);height:var(--el-switch-height);display:inline-block;font-size:14px;font-weight:500;cursor:pointer;vertical-align:middle;color:var(--el-text-color-primary)}.el-switch__label.is-active{color:var(--el-color-primary)}.el-switch__label--left{margin-right:10px}.el-switch__label--right{margin-left:10px}.el-switch__label *{line-height:1;font-size:14px;display:inline-block}.el-switch__label .el-icon{height:inherit}.el-switch__label .el-icon svg{vertical-align:middle}.el-switch__input{position:absolute;width:0;height:0;opacity:0;margin:0}.el-switch__core{margin:0;display:inline-block;position:relative;width:var(--el-switch-width);height:var(--el-switch-height);border:1px solid var(--el-switch-off-color);outline:0;border-radius:var(--el-switch-core-border-radius);box-sizing:border-box;background:var(--el-switch-off-color);cursor:pointer;transition:border-color var(--el-transition-duration),background-color var(--el-transition-duration);vertical-align:middle}.el-switch__core .el-switch__inner{position:absolute;top:1px;left:1px;transition:all var(--el-transition-duration);width:var(--el-switch-button-size);height:var(--el-switch-button-size);display:flex;justify-content:center;align-items:center;left:50%}.el-switch__core .el-switch__inner .is-icon,.el-switch__core .el-switch__inner .is-text{color:var(--el-color-white);transition:opacity var(--el-transition-duration);position:absolute;-webkit-user-select:none;user-select:none}.el-switch__core .el-switch__action{position:absolute;top:1px;left:1px;border-radius:var(--el-border-radius-circle);transition:all var(--el-transition-duration);width:var(--el-switch-button-size);height:var(--el-switch-button-size);background-color:var(--el-color-white);display:flex;justify-content:center;align-items:center;color:var(--el-switch-off-color)}.el-switch__core .el-switch__action .is-icon,.el-switch__core .el-switch__action .is-text{transition:opacity var(--el-transition-duration);position:absolute;-webkit-user-select:none;user-select:none}.el-switch__core .is-text{font-size:12px}.el-switch__core .is-show{opacity:1}.el-switch__core .is-hide{opacity:0}.el-switch.is-checked .el-switch__core{border-color:var(--el-switch-on-color);background-color:var(--el-switch-on-color)}.el-switch.is-checked .el-switch__core .el-switch__action{left:100%;margin-left:calc(-1px - var(--el-switch-button-size));color:var(--el-switch-on-color)}.el-switch.is-checked .el-switch__core .el-switch__inner{left:50%;margin-left:calc(-1px - var(--el-switch-button-size))}.el-switch.is-disabled{opacity:.6}.el-switch--wide .el-switch__label.el-switch__label--left span{left:10px}.el-switch--wide .el-switch__label.el-switch__label--right span{right:10px}.el-switch .label-fade-enter-from,.el-switch .label-fade-leave-active{opacity:0}.el-switch--large{font-size:14px;height:40px}.el-switch--large .el-switch__label{font-size:14px}.el-switch--large .el-switch__label *{font-size:14px}.el-switch--small{font-size:12px;height:24px}.el-switch--small .el-switch__label{font-size:12px}.el-switch--small .el-switch__label *{font-size:12px}.el-table-column--selection .cell{padding-left:14px;padding-right:14px}.el-table-filter{border:solid 1px var(--el-border-color-lighter);border-radius:2px;background-color:#fff;box-shadow:var(--el-box-shadow-light);box-sizing:border-box}.el-table-filter__list{padding:5px 0;margin:0;list-style:none;min-width:100px}.el-table-filter__list-item{line-height:36px;padding:0 10px;cursor:pointer;font-size:var(--el-font-size-base)}.el-table-filter__list-item:hover{background-color:var(--el-color-primary-light-9);color:var(--el-color-primary-light-2)}.el-table-filter__list-item.is-active{background-color:var(--el-color-primary);color:#fff}.el-table-filter__content{min-width:100px}.el-table-filter__bottom{border-top:1px solid var(--el-border-color-lighter);padding:8px}.el-table-filter__bottom button{background:0 0;border:none;color:var(--el-text-color-regular);cursor:pointer;font-size:var(--el-font-size-small);padding:0 3px}.el-table-filter__bottom button:hover{color:var(--el-color-primary)}.el-table-filter__bottom button:focus{outline:0}.el-table-filter__bottom button.is-disabled{color:var(--el-disabled-text-color);cursor:not-allowed}.el-table-filter__wrap{max-height:280px}.el-table-filter__checkbox-group{padding:10px}.el-table-filter__checkbox-group label.el-checkbox{display:flex;align-items:center;margin-right:5px;margin-bottom:12px;margin-left:5px;height:unset}.el-table-filter__checkbox-group .el-checkbox:last-child{margin-bottom:0}.el-table{--el-table-border-color:var(--el-border-color-lighter);--el-table-border:1px solid var(--el-table-border-color);--el-table-text-color:var(--el-text-color-regular);--el-table-header-text-color:var(--el-text-color-secondary);--el-table-row-hover-bg-color:var(--el-bg-color);--el-table-current-row-bg-color:var(--el-color-primary-light-9);--el-table-header-bg-color:var(--el-color-white);--el-table-fixed-box-shadow:0 0 10px rgba(0, 0, 0, 0.12);--el-table-bg-color:var(--el-color-white);--el-table-tr-bg-color:var(--el-color-white);--el-table-expanded-cell-bg-color:var(--el-color-white)}.el-table{position:relative;overflow:hidden;box-sizing:border-box;height:-moz-fit-content;height:fit-content;width:100%;max-width:100%;background-color:var(--el-table-bg-color);font-size:14px;color:var(--el-table-text-color)}.el-table__inner-wrapper{position:relative}.el-table__inner-wrapper::before{left:0;bottom:0;width:100%;height:1px;z-index:3}.el-table.has-footer .el-table__inner-wrapper::before{bottom:1px}.el-table__empty-block{min-height:60px;text-align:center;width:100%;display:flex;justify-content:center;align-items:center}.el-table__empty-text{line-height:60px;width:50%;color:var(--el-text-color-secondary)}.el-table__expand-column .cell{padding:0;text-align:center}.el-table__expand-icon{position:relative;cursor:pointer;color:var(--el-text-color-regular);font-size:12px;transition:transform var(--el-transition-duration-fast) ease-in-out;height:20px}.el-table__expand-icon--expanded{transform:rotate(90deg)}.el-table__expand-icon>.el-icon{font-size:12px}.el-table__expanded-cell{background-color:var(--el-table-expanded-cell-bg-color)}.el-table__expanded-cell[class*=cell]{padding:20px 50px}.el-table__expanded-cell:hover{background-color:transparent!important}.el-table__placeholder{display:inline-block;width:20px}.el-table__append-wrapper{overflow:hidden}.el-table--fit{border-right:0;border-bottom:0}.el-table--fit .el-table__cell.gutter{border-right-width:1px}.el-table thead{color:var(--el-table-header-text-color);font-weight:500}.el-table thead.is-group th.el-table__cell{background:var(--el-bg-color)}.el-table .el-table__cell{padding:8px 0;min-width:0;box-sizing:border-box;text-overflow:ellipsis;vertical-align:middle;position:relative;text-align:left;z-index:1}.el-table .el-table__cell.is-center{text-align:center}.el-table .el-table__cell.is-right{text-align:right}.el-table .el-table__cell.gutter{width:15px;border-right-width:0;border-bottom-width:0;padding:0}.el-table .el-table__cell.is-hidden>*{visibility:hidden}.el-table .cell{box-sizing:border-box;overflow:hidden;text-overflow:ellipsis;white-space:normal;word-break:break-all;line-height:23px;padding:0 12px}.el-table .cell.el-tooltip{white-space:nowrap;min-width:50px}.el-table--large{font-size:var(--el-font-size-base,14px)}.el-table--large .el-table__cell{padding:12px 0}.el-table--large .cell{padding:0 16px}.el-table--small{font-size:12px}.el-table--small .el-table__cell{padding:4px 0}.el-table--small .cell{padding:0 8px}.el-table tr{background-color:var(--el-table-tr-bg-color)}.el-table tr input[type=checkbox]{margin:0}.el-table td.el-table__cell,.el-table th.el-table__cell.is-leaf{border-bottom:var(--el-table-border)}.el-table th.el-table__cell.is-sortable{cursor:pointer}.el-table th.el-table__cell{-webkit-user-select:none;user-select:none;background-color:var(--el-table-header-bg-color)}.el-table th.el-table__cell>.cell{display:inline-block;box-sizing:border-box;position:relative;vertical-align:middle;width:100%}.el-table th.el-table__cell>.cell.highlight{color:var(--el-color-primary)}.el-table th.el-table__cell.required>div::before{display:inline-block;content:"";width:8px;height:8px;border-radius:50%;background:#ff4d51;margin-right:5px;vertical-align:middle}.el-table td.el-table__cell div{box-sizing:border-box}.el-table td.el-table__cell.gutter{width:0}.el-table--border .el-table__footer-wrapper tr:first-child td:first-child,.el-table--border .el-table__footer-wrapper tr:first-child th:first-child,.el-table--border .el-table__inner-wrapper tr:first-child td:first-child,.el-table--border .el-table__inner-wrapper tr:first-child th:first-child,.el-table--group .el-table__footer-wrapper tr:first-child td:first-child,.el-table--group .el-table__footer-wrapper tr:first-child th:first-child,.el-table--group .el-table__inner-wrapper tr:first-child td:first-child,.el-table--group .el-table__inner-wrapper tr:first-child th:first-child{border-left:var(--el-table-border)}.el-table--border .el-table__footer-wrapper,.el-table--group .el-table__footer-wrapper{border-top:var(--el-table-border)}.el-table--border .el-table__inner-wrapper::after,.el-table--border::after,.el-table--border::before,.el-table__inner-wrapper::before{content:"";position:absolute;background-color:var(--el-table-border-color);z-index:3}.el-table--border .el-table__inner-wrapper::after{left:0;top:0;width:100%;height:1px;z-index:3}.el-table--border::before{top:-1px;left:0;width:1px;height:100%;z-index:3}.el-table--border::after{top:-1px;right:0;width:1px;height:100%;z-index:3}.el-table--border .el-table__inner-wrapper{border-right:none;border-bottom:none}.el-table--border .el-table__footer-wrapper{position:relative}.el-table--border .el-table__footer-wrapper{margin-top:-2px}.el-table--border .el-table__cell{border-right:var(--el-table-border)}.el-table--border .el-table__cell:first-child .cell{padding-left:10px}.el-table--border th.el-table__cell.gutter:last-of-type{border-bottom:var(--el-table-border);border-bottom-width:1px}.el-table--border th.el-table__cell{border-bottom:var(--el-table-border)}.el-table--hidden{visibility:hidden}.el-table__body-wrapper,.el-table__footer-wrapper,.el-table__header-wrapper{width:100%}.el-table__body-wrapper tr td.el-table-fixed-column--left,.el-table__body-wrapper tr td.el-table-fixed-column--right,.el-table__body-wrapper tr th.el-table-fixed-column--left,.el-table__body-wrapper tr th.el-table-fixed-column--right,.el-table__footer-wrapper tr td.el-table-fixed-column--left,.el-table__footer-wrapper tr td.el-table-fixed-column--right,.el-table__footer-wrapper tr th.el-table-fixed-column--left,.el-table__footer-wrapper tr th.el-table-fixed-column--right,.el-table__header-wrapper tr td.el-table-fixed-column--left,.el-table__header-wrapper tr td.el-table-fixed-column--right,.el-table__header-wrapper tr th.el-table-fixed-column--left,.el-table__header-wrapper tr th.el-table-fixed-column--right{position:sticky!important;z-index:2;background:#fff}.el-table__body-wrapper tr td.el-table-fixed-column--left.is-first-column::before,.el-table__body-wrapper tr td.el-table-fixed-column--left.is-last-column::before,.el-table__body-wrapper tr td.el-table-fixed-column--right.is-first-column::before,.el-table__body-wrapper tr td.el-table-fixed-column--right.is-last-column::before,.el-table__body-wrapper tr th.el-table-fixed-column--left.is-first-column::before,.el-table__body-wrapper tr th.el-table-fixed-column--left.is-last-column::before,.el-table__body-wrapper tr th.el-table-fixed-column--right.is-first-column::before,.el-table__body-wrapper tr th.el-table-fixed-column--right.is-last-column::before,.el-table__footer-wrapper tr td.el-table-fixed-column--left.is-first-column::before,.el-table__footer-wrapper tr td.el-table-fixed-column--left.is-last-column::before,.el-table__footer-wrapper tr td.el-table-fixed-column--right.is-first-column::before,.el-table__footer-wrapper tr td.el-table-fixed-column--right.is-last-column::before,.el-table__footer-wrapper tr th.el-table-fixed-column--left.is-first-column::before,.el-table__footer-wrapper tr th.el-table-fixed-column--left.is-last-column::before,.el-table__footer-wrapper tr th.el-table-fixed-column--right.is-first-column::before,.el-table__footer-wrapper tr th.el-table-fixed-column--right.is-last-column::before,.el-table__header-wrapper tr td.el-table-fixed-column--left.is-first-column::before,.el-table__header-wrapper tr td.el-table-fixed-column--left.is-last-column::before,.el-table__header-wrapper tr td.el-table-fixed-column--right.is-first-column::before,.el-table__header-wrapper tr td.el-table-fixed-column--right.is-last-column::before,.el-table__header-wrapper tr th.el-table-fixed-column--left.is-first-column::before,.el-table__header-wrapper tr th.el-table-fixed-column--left.is-last-column::before,.el-table__header-wrapper tr th.el-table-fixed-column--right.is-first-column::before,.el-table__header-wrapper tr th.el-table-fixed-column--right.is-last-column::before{content:"";position:absolute;top:0;width:10px;bottom:-1px;overflow-x:hidden;overflow-y:hidden;box-shadow:inset -10px 0 10px -10px rgba(0,0,0,.15);touch-action:none;pointer-events:none}.el-table__body-wrapper tr td.el-table-fixed-column--left.is-first-column::before,.el-table__body-wrapper tr td.el-table-fixed-column--right.is-first-column::before,.el-table__body-wrapper tr th.el-table-fixed-column--left.is-first-column::before,.el-table__body-wrapper tr th.el-table-fixed-column--right.is-first-column::before,.el-table__footer-wrapper tr td.el-table-fixed-column--left.is-first-column::before,.el-table__footer-wrapper tr td.el-table-fixed-column--right.is-first-column::before,.el-table__footer-wrapper tr th.el-table-fixed-column--left.is-first-column::before,.el-table__footer-wrapper tr th.el-table-fixed-column--right.is-first-column::before,.el-table__header-wrapper tr td.el-table-fixed-column--left.is-first-column::before,.el-table__header-wrapper tr td.el-table-fixed-column--right.is-first-column::before,.el-table__header-wrapper tr th.el-table-fixed-column--left.is-first-column::before,.el-table__header-wrapper tr th.el-table-fixed-column--right.is-first-column::before{left:-10px}.el-table__body-wrapper tr td.el-table-fixed-column--left.is-last-column::before,.el-table__body-wrapper tr td.el-table-fixed-column--right.is-last-column::before,.el-table__body-wrapper tr th.el-table-fixed-column--left.is-last-column::before,.el-table__body-wrapper tr th.el-table-fixed-column--right.is-last-column::before,.el-table__footer-wrapper tr td.el-table-fixed-column--left.is-last-column::before,.el-table__footer-wrapper tr td.el-table-fixed-column--right.is-last-column::before,.el-table__footer-wrapper tr th.el-table-fixed-column--left.is-last-column::before,.el-table__footer-wrapper tr th.el-table-fixed-column--right.is-last-column::before,.el-table__header-wrapper tr td.el-table-fixed-column--left.is-last-column::before,.el-table__header-wrapper tr td.el-table-fixed-column--right.is-last-column::before,.el-table__header-wrapper tr th.el-table-fixed-column--left.is-last-column::before,.el-table__header-wrapper tr th.el-table-fixed-column--right.is-last-column::before{right:-10px;box-shadow:inset 10px 0 10px -10px rgba(0,0,0,.15)}.el-table__body-wrapper tr td.el-table__fixed-right-patch,.el-table__body-wrapper tr th.el-table__fixed-right-patch,.el-table__footer-wrapper tr td.el-table__fixed-right-patch,.el-table__footer-wrapper tr th.el-table__fixed-right-patch,.el-table__header-wrapper tr td.el-table__fixed-right-patch,.el-table__header-wrapper tr th.el-table__fixed-right-patch{position:sticky!important;z-index:2;background:#fff;right:0}.el-table__body,.el-table__footer,.el-table__header{table-layout:fixed;border-collapse:separate}.el-table__footer-wrapper,.el-table__header-wrapper{overflow:hidden}.el-table__footer-wrapper tbody td.el-table__cell,.el-table__header-wrapper tbody td.el-table__cell{background-color:var(--el-table-row-hover-bg-color);color:var(--el-table-text-color)}.el-table__body-wrapper .el-table-column--selection .el-checkbox,.el-table__header-wrapper .el-table-column--selection .el-checkbox{height:unset}.el-table.is-scrolling-left .el-table-fixed-column--left.is-last-column::before{box-shadow:none}.el-table.is-scrolling-left.el-table--border .el-table-fixed-column--left.is-last-column.el-table__cell{border-right:var(--el-table-border)}.el-table.is-scrolling-right .el-table-fixed-column--right.is-first-column::before{box-shadow:none}.el-table.is-scrolling-right .el-table-fixed-column--left.is-last-column.el-table__cell{border-right:none}.el-table.is-scrolling-middle .el-table-fixed-column--left.is-last-column.el-table__cell{border-right:none}.el-table.is-scrolling-none .el-table-fixed-column--left.is-first-column::before,.el-table.is-scrolling-none .el-table-fixed-column--left.is-last-column::before,.el-table.is-scrolling-none .el-table-fixed-column--right.is-first-column::before,.el-table.is-scrolling-none .el-table-fixed-column--right.is-last-column::before{box-shadow:none}.el-table__body-wrapper{overflow:hidden;position:relative}.el-table__body-wrapper .el-scrollbar__bar{z-index:2}.el-table .caret-wrapper{display:inline-flex;flex-direction:column;align-items:center;height:14px;width:24px;vertical-align:middle;cursor:pointer;overflow:initial;position:relative}.el-table .sort-caret{width:0;height:0;border:solid 5px transparent;position:absolute;left:7px}.el-table .sort-caret.ascending{border-bottom-color:var(--el-text-color-placeholder);top:-5px}.el-table .sort-caret.descending{border-top-color:var(--el-text-color-placeholder);bottom:-3px}.el-table .ascending .sort-caret.ascending{border-bottom-color:var(--el-color-primary)}.el-table .descending .sort-caret.descending{border-top-color:var(--el-color-primary)}.el-table .hidden-columns{visibility:hidden;position:absolute;z-index:-1}.el-table--striped .el-table__body tr.el-table__row--striped td.el-table__cell{background:#fafafa}.el-table--striped .el-table__body tr.el-table__row--striped.current-row td.el-table__cell{background-color:var(--el-table-current-row-bg-color)}.el-table__body tr.hover-row.current-row>td.el-table__cell,.el-table__body tr.hover-row.el-table__row--striped.current-row>td.el-table__cell,.el-table__body tr.hover-row.el-table__row--striped>td.el-table__cell,.el-table__body tr.hover-row>td.el-table__cell{background-color:var(--el-table-row-hover-bg-color)}.el-table__body tr.current-row>td.el-table__cell{background-color:var(--el-table-current-row-bg-color)}.el-table__column-resize-proxy{position:absolute;left:200px;top:0;bottom:0;width:0;border-left:var(--el-table-border);z-index:10}.el-table__column-filter-trigger{display:inline-block;cursor:pointer}.el-table__column-filter-trigger i{color:var(--el-color-info);font-size:14px;vertical-align:middle}.el-table__border-left-patch{top:0;left:0;width:1px;height:100%;z-index:3;position:absolute;background-color:var(--el-table-border-color)}.el-table__border-bottom-patch{left:0;height:1px;z-index:3;position:absolute;background-color:var(--el-table-border-color)}.el-table__border-right-patch{top:0;height:100%;width:1px;z-index:3;position:absolute;background-color:var(--el-table-border-color)}.el-table--enable-row-transition .el-table__body td.el-table__cell{transition:background-color .25s ease}.el-table--enable-row-hover .el-table__body tr:hover>td.el-table__cell{background-color:var(--el-table-row-hover-bg-color)}.el-table [class*=el-table__row--level] .el-table__expand-icon{display:inline-block;width:12px;line-height:12px;height:12px;text-align:center;margin-right:8px}.el-tabs__header{padding:0;position:relative;margin:0 0 15px}.el-tabs__active-bar{position:absolute;bottom:0;left:0;height:2px;background-color:var(--el-color-primary);z-index:1;transition:width var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier),transform var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier);list-style:none}.el-tabs__new-tab{float:right;border:1px solid #d3dce6;height:18px;width:18px;line-height:18px;margin:10px;border-radius:3px;text-align:center;font-size:12px;color:#d3dce6;cursor:pointer;transition:all .15s}.el-tabs__new-tab .is-icon-plus{height:inherit;width:inherit;transform:scale(.8,.8)}.el-tabs__new-tab .is-icon-plus svg{vertical-align:middle}.el-tabs__new-tab:hover{color:var(--el-color-primary)}.el-tabs__nav-wrap{overflow:hidden;margin-bottom:-1px;position:relative}.el-tabs__nav-wrap::after{content:"";position:absolute;left:0;bottom:0;width:100%;height:2px;background-color:var(--el-border-color-light);z-index:var(--el-index-normal)}.el-tabs__nav-wrap.is-scrollable{padding:0 20px;box-sizing:border-box}.el-tabs__nav-scroll{overflow:hidden}.el-tabs__nav-next,.el-tabs__nav-prev{position:absolute;cursor:pointer;line-height:44px;font-size:12px;color:var(--el-text-color-secondary)}.el-tabs__nav-next{right:0}.el-tabs__nav-prev{left:0}.el-tabs__nav{white-space:nowrap;position:relative;transition:transform var(--el-transition-duration);float:left;z-index:calc(var(--el-index-normal) + 1)}.el-tabs__nav.is-stretch{min-width:100%;display:flex}.el-tabs__nav.is-stretch>*{flex:1;text-align:center}.el-tabs__item{padding:0 20px;height:40px;box-sizing:border-box;line-height:40px;display:inline-block;list-style:none;font-size:14px;font-weight:500;color:var(--el-text-color-primary);position:relative}.el-tabs__item:focus,.el-tabs__item:focus:active{outline:0}.el-tabs__item .is-icon-close{border-radius:50%;text-align:center;transition:all var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier);margin-left:5px}.el-tabs__item .is-icon-close:before{transform:scale(.9);display:inline-block}.el-tabs__item .is-icon-close:hover{background-color:var(--el-text-color-placeholder);color:#fff}.el-tabs__item .is-icon-close svg{margin-top:1px}.el-tabs__item.is-active{color:var(--el-color-primary)}.el-tabs__item:hover{color:var(--el-color-primary);cursor:pointer}.el-tabs__item.is-disabled{color:var(--el-disabled-text-color);cursor:default}.el-tabs__content{overflow:hidden;position:relative}.el-tabs--card>.el-tabs__header{border-bottom:1px solid var(--el-border-color-light)}.el-tabs--card>.el-tabs__header .el-tabs__nav-wrap::after{content:none}.el-tabs--card>.el-tabs__header .el-tabs__nav{border:1px solid var(--el-border-color-light);border-bottom:none;border-radius:4px 4px 0 0;box-sizing:border-box}.el-tabs--card>.el-tabs__header .el-tabs__active-bar{display:none}.el-tabs--card>.el-tabs__header .el-tabs__item .is-icon-close{position:relative;font-size:12px;width:0;height:14px;vertical-align:middle;line-height:15px;overflow:hidden;top:-1px;right:-2px;transform-origin:100% 50%}.el-tabs--card>.el-tabs__header .el-tabs__item{border-bottom:1px solid transparent;border-left:1px solid var(--el-border-color-light);transition:color var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier),padding var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier)}.el-tabs--card>.el-tabs__header .el-tabs__item:first-child{border-left:none}.el-tabs--card>.el-tabs__header .el-tabs__item.is-closable:hover{padding-left:13px;padding-right:13px}.el-tabs--card>.el-tabs__header .el-tabs__item.is-closable:hover .is-icon-close{width:14px}.el-tabs--card>.el-tabs__header .el-tabs__item.is-active{border-bottom-color:#fff}.el-tabs--card>.el-tabs__header .el-tabs__item.is-active.is-closable{padding-left:20px;padding-right:20px}.el-tabs--card>.el-tabs__header .el-tabs__item.is-active.is-closable .is-icon-close{width:14px}.el-tabs--border-card{background:#fff;border:1px solid var(--el-border-color-base);box-shadow:0 2px 4px 0 rgba(0,0,0,.12),0 0 6px 0 rgba(0,0,0,.04)}.el-tabs--border-card>.el-tabs__content{padding:15px}.el-tabs--border-card>.el-tabs__header{background-color:var(--el-bg-color);border-bottom:1px solid var(--el-border-color-light);margin:0}.el-tabs--border-card>.el-tabs__header .el-tabs__nav-wrap::after{content:none}.el-tabs--border-card>.el-tabs__header .el-tabs__item{transition:all var(--el-transition-duration) var(--el-transition-function-ease-in-out-bezier);border:1px solid transparent;margin-top:-1px;color:var(--el-text-color-secondary)}.el-tabs--border-card>.el-tabs__header .el-tabs__item:first-child{margin-left:-1px}.el-tabs--border-card>.el-tabs__header .el-tabs__item+.el-tabs__item{margin-left:-1px}.el-tabs--border-card>.el-tabs__header .el-tabs__item.is-active{color:var(--el-color-primary);background-color:#fff;border-right-color:var(--el-border-color-base);border-left-color:var(--el-border-color-base)}.el-tabs--border-card>.el-tabs__header .el-tabs__item:not(.is-disabled):hover{color:var(--el-color-primary)}.el-tabs--border-card>.el-tabs__header .el-tabs__item.is-disabled{color:var(--el-disabled-text-color)}.el-tabs--border-card>.el-tabs__header .is-scrollable .el-tabs__item:first-child{margin-left:0}.el-tabs--bottom .el-tabs__item.is-bottom:nth-child(2),.el-tabs--bottom .el-tabs__item.is-top:nth-child(2),.el-tabs--top .el-tabs__item.is-bottom:nth-child(2),.el-tabs--top .el-tabs__item.is-top:nth-child(2){padding-left:0}.el-tabs--bottom .el-tabs__item.is-bottom:last-child,.el-tabs--bottom .el-tabs__item.is-top:last-child,.el-tabs--top .el-tabs__item.is-bottom:last-child,.el-tabs--top .el-tabs__item.is-top:last-child{padding-right:0}.el-tabs--bottom .el-tabs--left>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--bottom .el-tabs--right>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--bottom.el-tabs--border-card>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--bottom.el-tabs--card>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top .el-tabs--left>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top .el-tabs--right>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top.el-tabs--border-card>.el-tabs__header .el-tabs__item:nth-child(2),.el-tabs--top.el-tabs--card>.el-tabs__header .el-tabs__item:nth-child(2){padding-left:20px}.el-tabs--bottom .el-tabs--left>.el-tabs__header .el-tabs__item:last-child,.el-tabs--bottom .el-tabs--right>.el-tabs__header .el-tabs__item:last-child,.el-tabs--bottom.el-tabs--border-card>.el-tabs__header .el-tabs__item:last-child,.el-tabs--bottom.el-tabs--card>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top .el-tabs--left>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top .el-tabs--right>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top.el-tabs--border-card>.el-tabs__header .el-tabs__item:last-child,.el-tabs--top.el-tabs--card>.el-tabs__header .el-tabs__item:last-child{padding-right:20px}.el-tabs--bottom .el-tabs__header.is-bottom{margin-bottom:0;margin-top:10px}.el-tabs--bottom.el-tabs--border-card .el-tabs__header.is-bottom{border-bottom:0;border-top:1px solid var(--el-border-color-base)}.el-tabs--bottom.el-tabs--border-card .el-tabs__nav-wrap.is-bottom{margin-top:-1px;margin-bottom:0}.el-tabs--bottom.el-tabs--border-card .el-tabs__item.is-bottom:not(.is-active){border:1px solid transparent}.el-tabs--bottom.el-tabs--border-card .el-tabs__item.is-bottom{margin:0 -1px -1px -1px}.el-tabs--left,.el-tabs--right{overflow:hidden}.el-tabs--left .el-tabs__header.is-left,.el-tabs--left .el-tabs__header.is-right,.el-tabs--left .el-tabs__nav-scroll,.el-tabs--left .el-tabs__nav-wrap.is-left,.el-tabs--left .el-tabs__nav-wrap.is-right,.el-tabs--right .el-tabs__header.is-left,.el-tabs--right .el-tabs__header.is-right,.el-tabs--right .el-tabs__nav-scroll,.el-tabs--right .el-tabs__nav-wrap.is-left,.el-tabs--right .el-tabs__nav-wrap.is-right{height:100%}.el-tabs--left .el-tabs__active-bar.is-left,.el-tabs--left .el-tabs__active-bar.is-right,.el-tabs--right .el-tabs__active-bar.is-left,.el-tabs--right .el-tabs__active-bar.is-right{top:0;bottom:auto;width:2px;height:auto}.el-tabs--left .el-tabs__nav-wrap.is-left,.el-tabs--left .el-tabs__nav-wrap.is-right,.el-tabs--right .el-tabs__nav-wrap.is-left,.el-tabs--right .el-tabs__nav-wrap.is-right{margin-bottom:0}.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-next,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev{height:30px;line-height:30px;width:100%;text-align:center;cursor:pointer}.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-next i,.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev i,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-next i,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev i,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-next i,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev i,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-next i,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev i{transform:rotateZ(90deg)}.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-prev,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-prev{left:auto;top:0}.el-tabs--left .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--left .el-tabs__nav-wrap.is-right>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-left>.el-tabs__nav-next,.el-tabs--right .el-tabs__nav-wrap.is-right>.el-tabs__nav-next{right:auto;bottom:0}.el-tabs--left .el-tabs__nav-wrap.is-left.is-scrollable,.el-tabs--left .el-tabs__nav-wrap.is-right.is-scrollable,.el-tabs--right .el-tabs__nav-wrap.is-left.is-scrollable,.el-tabs--right .el-tabs__nav-wrap.is-right.is-scrollable{padding:30px 0}.el-tabs--left .el-tabs__nav-wrap.is-left::after,.el-tabs--left .el-tabs__nav-wrap.is-right::after,.el-tabs--right .el-tabs__nav-wrap.is-left::after,.el-tabs--right .el-tabs__nav-wrap.is-right::after{height:100%;width:2px;bottom:auto;top:0}.el-tabs--left .el-tabs__nav.is-left,.el-tabs--left .el-tabs__nav.is-right,.el-tabs--right .el-tabs__nav.is-left,.el-tabs--right .el-tabs__nav.is-right{float:none}.el-tabs--left .el-tabs__item.is-left,.el-tabs--left .el-tabs__item.is-right,.el-tabs--right .el-tabs__item.is-left,.el-tabs--right .el-tabs__item.is-right{display:block}.el-tabs--left .el-tabs__header.is-left{float:left;margin-bottom:0;margin-right:10px}.el-tabs--left .el-tabs__nav-wrap.is-left{margin-right:-1px}.el-tabs--left .el-tabs__nav-wrap.is-left::after{left:auto;right:0}.el-tabs--left .el-tabs__active-bar.is-left{right:0;left:auto}.el-tabs--left .el-tabs__item.is-left{text-align:right}.el-tabs--left.el-tabs--card .el-tabs__active-bar.is-left{display:none}.el-tabs--left.el-tabs--card .el-tabs__item.is-left{border-left:none;border-right:1px solid var(--el-border-color-light);border-bottom:none;border-top:1px solid var(--el-border-color-light);text-align:left}.el-tabs--left.el-tabs--card .el-tabs__item.is-left:first-child{border-right:1px solid var(--el-border-color-light);border-top:none}.el-tabs--left.el-tabs--card .el-tabs__item.is-left.is-active{border:1px solid var(--el-border-color-light);border-right-color:#fff;border-left:none;border-bottom:none}.el-tabs--left.el-tabs--card .el-tabs__item.is-left.is-active:first-child{border-top:none}.el-tabs--left.el-tabs--card .el-tabs__item.is-left.is-active:last-child{border-bottom:none}.el-tabs--left.el-tabs--card .el-tabs__nav{border-radius:4px 0 0 4px;border-bottom:1px solid var(--el-border-color-light);border-right:none}.el-tabs--left.el-tabs--card .el-tabs__new-tab{float:none}.el-tabs--left.el-tabs--border-card .el-tabs__header.is-left{border-right:1px solid #dfe4ed}.el-tabs--left.el-tabs--border-card .el-tabs__item.is-left{border:1px solid transparent;margin:-1px 0 -1px -1px}.el-tabs--left.el-tabs--border-card .el-tabs__item.is-left.is-active{border-color:transparent;border-top-color:#d1dbe5;border-bottom-color:#d1dbe5}.el-tabs--right .el-tabs__header.is-right{float:right;margin-bottom:0;margin-left:10px}.el-tabs--right .el-tabs__nav-wrap.is-right{margin-left:-1px}.el-tabs--right .el-tabs__nav-wrap.is-right::after{left:0;right:auto}.el-tabs--right .el-tabs__active-bar.is-right{left:0}.el-tabs--right.el-tabs--card .el-tabs__active-bar.is-right{display:none}.el-tabs--right.el-tabs--card .el-tabs__item.is-right{border-bottom:none;border-top:1px solid var(--el-border-color-light)}.el-tabs--right.el-tabs--card .el-tabs__item.is-right:first-child{border-left:1px solid var(--el-border-color-light);border-top:none}.el-tabs--right.el-tabs--card .el-tabs__item.is-right.is-active{border:1px solid var(--el-border-color-light);border-left-color:#fff;border-right:none;border-bottom:none}.el-tabs--right.el-tabs--card .el-tabs__item.is-right.is-active:first-child{border-top:none}.el-tabs--right.el-tabs--card .el-tabs__item.is-right.is-active:last-child{border-bottom:none}.el-tabs--right.el-tabs--card .el-tabs__nav{border-radius:0 4px 4px 0;border-bottom:1px solid var(--el-border-color-light);border-left:none}.el-tabs--right.el-tabs--border-card .el-tabs__header.is-right{border-left:1px solid #dfe4ed}.el-tabs--right.el-tabs--border-card .el-tabs__item.is-right{border:1px solid transparent;margin:-1px -1px -1px 0}.el-tabs--right.el-tabs--border-card .el-tabs__item.is-right.is-active{border-color:transparent;border-top-color:#d1dbe5;border-bottom-color:#d1dbe5}.slideInLeft-transition,.slideInRight-transition{display:inline-block}.slideInRight-enter{animation:slideInRight-enter var(--el-transition-duration)}.slideInRight-leave{position:absolute;left:0;right:0;animation:slideInRight-leave var(--el-transition-duration)}.slideInLeft-enter{animation:slideInLeft-enter var(--el-transition-duration)}.slideInLeft-leave{position:absolute;left:0;right:0;animation:slideInLeft-leave var(--el-transition-duration)}@keyframes slideInRight-enter{0%{opacity:0;transform-origin:0 0;transform:translateX(100%)}to{opacity:1;transform-origin:0 0;transform:translateX(0)}}@keyframes slideInRight-leave{0%{transform-origin:0 0;transform:translateX(0);opacity:1}100%{transform-origin:0 0;transform:translateX(100%);opacity:0}}@keyframes slideInLeft-enter{0%{opacity:0;transform-origin:0 0;transform:translateX(-100%)}to{opacity:1;transform-origin:0 0;transform:translateX(0)}}@keyframes slideInLeft-leave{0%{transform-origin:0 0;transform:translateX(0);opacity:1}100%{transform-origin:0 0;transform:translateX(-100%);opacity:0}}.el-tag{--el-tag-font-size:12px;--el-tag-border-radius:4px}.el-tag{--el-tag-bg-color:#ecf5ff;--el-tag-border-color:#d9ecff;--el-tag-text-color:#409eff;--el-tag-hover-color:#409eff;background-color:var(--el-tag-bg-color);border-color:var(--el-tag-border-color);color:var(--el-tag-text-color);display:inline-flex;justify-content:center;align-items:center;height:24px;padding:0 9px;font-size:var(--el-tag-font-size);line-height:1;border-width:1px;border-style:solid;border-radius:var(--el-tag-border-radius);box-sizing:border-box;white-space:nowrap;--el-icon-size:14px}.el-tag.is-hit{border-color:#409eff}.el-tag .el-tag__close{color:var(--el-tag-text-color)}.el-tag .el-tag__close:hover{color:var(--el-color-white);background-color:var(--el-tag-hover-color)}.el-tag.el-tag--success{--el-tag-bg-color:#f0f9eb;--el-tag-border-color:#e1f3d8;--el-tag-text-color:#67c23a;--el-tag-hover-color:#67c23a}.el-tag.el-tag--success.is-hit{border-color:#67c23a}.el-tag.el-tag--warning{--el-tag-bg-color:#fdf6ec;--el-tag-border-color:#faecd8;--el-tag-text-color:#e6a23c;--el-tag-hover-color:#e6a23c}.el-tag.el-tag--warning.is-hit{border-color:#e6a23c}.el-tag.el-tag--danger{--el-tag-bg-color:#fef0f0;--el-tag-border-color:#fde2e2;--el-tag-text-color:#f56c6c;--el-tag-hover-color:#f56c6c}.el-tag.el-tag--danger.is-hit{border-color:#f56c6c}.el-tag.el-tag--info{--el-tag-bg-color:#f4f4f5;--el-tag-border-color:#e9e9eb;--el-tag-text-color:#909399;--el-tag-hover-color:#909399}.el-tag.el-tag--info.is-hit{border-color:#909399}.el-tag.el-tag--error{--el-tag-bg-color:#fef0f0;--el-tag-border-color:#fde2e2;--el-tag-text-color:#f56c6c;--el-tag-hover-color:#f56c6c}.el-tag.el-tag--error.is-hit{border-color:#f56c6c}.el-tag .el-icon{border-radius:50%;text-align:center;position:relative;cursor:pointer;font-size:calc(var(--el-icon-size) - 1px);height:var(--el-icon-size);width:var(--el-icon-size);line-height:var(--el-icon-size)}.el-tag .el-icon svg{margin:1px}.el-tag .el-tag__close{margin-left:6px}.el-tag--dark{--el-tag-bg-color:#409eff;--el-tag-border-color:#409eff;--el-tag-text-color:white;--el-tag-hover-color:#66b1ff;background-color:var(--el-tag-bg-color);border-color:var(--el-tag-border-color);color:var(--el-tag-text-color)}.el-tag--dark.is-hit{border-color:#409eff}.el-tag--dark .el-tag__close{color:var(--el-tag-text-color)}.el-tag--dark .el-tag__close:hover{color:var(--el-color-white);background-color:var(--el-tag-hover-color)}.el-tag--dark.el-tag--success{--el-tag-bg-color:#67c23a;--el-tag-border-color:#67c23a;--el-tag-text-color:white;--el-tag-hover-color:#85ce61}.el-tag--dark.el-tag--success.is-hit{border-color:#67c23a}.el-tag--dark.el-tag--warning{--el-tag-bg-color:#e6a23c;--el-tag-border-color:#e6a23c;--el-tag-text-color:white;--el-tag-hover-color:#ebb563}.el-tag--dark.el-tag--warning.is-hit{border-color:#e6a23c}.el-tag--dark.el-tag--danger{--el-tag-bg-color:#f56c6c;--el-tag-border-color:#f56c6c;--el-tag-text-color:white;--el-tag-hover-color:#f78989}.el-tag--dark.el-tag--danger.is-hit{border-color:#f56c6c}.el-tag--dark.el-tag--info{--el-tag-bg-color:#909399;--el-tag-border-color:#909399;--el-tag-text-color:white;--el-tag-hover-color:#a6a9ad}.el-tag--dark.el-tag--info.is-hit{border-color:#909399}.el-tag--dark.el-tag--error{--el-tag-bg-color:#f56c6c;--el-tag-border-color:#f56c6c;--el-tag-text-color:white;--el-tag-hover-color:#f78989}.el-tag--dark.el-tag--error.is-hit{border-color:#f56c6c}.el-tag--plain{--el-tag-bg-color:white;--el-tag-border-color:#b3d8ff;--el-tag-text-color:#409eff;--el-tag-hover-color:#409eff;background-color:var(--el-tag-bg-color);border-color:var(--el-tag-border-color);color:var(--el-tag-text-color)}.el-tag--plain.is-hit{border-color:#409eff}.el-tag--plain .el-tag__close{color:var(--el-tag-text-color)}.el-tag--plain .el-tag__close:hover{color:var(--el-color-white);background-color:var(--el-tag-hover-color)}.el-tag--plain.el-tag--success{--el-tag-bg-color:white;--el-tag-border-color:#c2e7b0;--el-tag-text-color:#67c23a;--el-tag-hover-color:#67c23a}.el-tag--plain.el-tag--success.is-hit{border-color:#67c23a}.el-tag--plain.el-tag--warning{--el-tag-bg-color:white;--el-tag-border-color:#f5dab1;--el-tag-text-color:#e6a23c;--el-tag-hover-color:#e6a23c}.el-tag--plain.el-tag--warning.is-hit{border-color:#e6a23c}.el-tag--plain.el-tag--danger{--el-tag-bg-color:white;--el-tag-border-color:#fbc4c4;--el-tag-text-color:#f56c6c;--el-tag-hover-color:#f56c6c}.el-tag--plain.el-tag--danger.is-hit{border-color:#f56c6c}.el-tag--plain.el-tag--info{--el-tag-bg-color:white;--el-tag-border-color:#d3d4d6;--el-tag-text-color:#909399;--el-tag-hover-color:#909399}.el-tag--plain.el-tag--info.is-hit{border-color:#909399}.el-tag--plain.el-tag--error{--el-tag-bg-color:white;--el-tag-border-color:#fbc4c4;--el-tag-text-color:#f56c6c;--el-tag-hover-color:#f56c6c}.el-tag--plain.el-tag--error.is-hit{border-color:#f56c6c}.el-tag.is-closable{padding-right:5px}.el-tag--large{padding:0 11px;height:32px;--el-icon-size:16px}.el-tag--large .el-tag__close{margin-left:8px}.el-tag--large.is-closable{padding-right:7px}.el-tag--default{padding:0 9px;height:24px;--el-icon-size:14px}.el-tag--default .el-tag__close{margin-left:6px}.el-tag--default.is-closable{padding-right:5px}.el-tag--small{padding:0 7px;height:20px;--el-icon-size:12px}.el-tag--small .el-tag__close{margin-left:4px}.el-tag--small.is-closable{padding-right:3px}.el-tag--small .el-icon-close{transform:scale(.8)}.time-select{margin:5px 0;min-width:0}.time-select .el-picker-panel__content{max-height:200px;margin:0}.time-select-item{padding:8px 10px;font-size:14px;line-height:20px}.time-select-item.disabled{color:var(--el-datepicker-border-color);cursor:not-allowed}.time-select-item:hover{background-color:var(--el-bg-color);font-weight:700;cursor:pointer}.time-select .time-select-item.selected:not(.disabled){color:var(--el-color-primary);font-weight:700}.el-timeline-item{position:relative;padding-bottom:20px}.el-timeline-item__wrapper{position:relative;padding-left:28px;top:-3px}.el-timeline-item__tail{position:absolute;left:4px;height:100%;border-left:2px solid var(--el-timeline-node-color)}.el-timeline-item .el-timeline-item__icon{color:var(--el-color-white);font-size:var(--el-font-size-small)}.el-timeline-item__node{position:absolute;background-color:var(--el-timeline-node-color);border-color:var(--el-timeline-node-color);border-radius:50%;box-sizing:border-box;display:flex;justify-content:center;align-items:center}.el-timeline-item__node--normal{left:-1px;width:var(--el-timeline-node-size-normal);height:var(--el-timeline-node-size-normal)}.el-timeline-item__node--large{left:-2px;width:var(--el-timeline-node-size-large);height:var(--el-timeline-node-size-large)}.el-timeline-item__node.is-hollow{background:var(--el-color-white);border-style:solid;border-width:2px}.el-timeline-item__node--primary{background-color:var(--el-color-primary);border-color:var(--el-color-primary)}.el-timeline-item__node--success{background-color:var(--el-color-success);border-color:var(--el-color-success)}.el-timeline-item__node--warning{background-color:var(--el-color-warning);border-color:var(--el-color-warning)}.el-timeline-item__node--danger{background-color:var(--el-color-danger);border-color:var(--el-color-danger)}.el-timeline-item__node--info{background-color:var(--el-color-info);border-color:var(--el-color-info)}.el-timeline-item__dot{position:absolute;display:flex;justify-content:center;align-items:center}.el-timeline-item__content{color:var(--el-text-color-primary)}.el-timeline-item__timestamp{color:var(--el-text-color-secondary);line-height:1;font-size:var(--el-font-size-small)}.el-timeline-item__timestamp.is-top{margin-bottom:8px;padding-top:4px}.el-timeline-item__timestamp.is-bottom{margin-top:8px}.el-timeline{--el-timeline-node-size-normal:12px;--el-timeline-node-size-large:14px;--el-timeline-node-color:var(--el-border-color-light)}.el-timeline{margin:0;font-size:var(--el-font-size-base);list-style:none}.el-timeline .el-timeline-item:last-child .el-timeline-item__tail{display:none}.el-timeline .el-timeline-item__center{display:flex;align-items:center}.el-timeline .el-timeline-item__center .el-timeline-item__wrapper{width:100%}.el-timeline .el-timeline-item__center .el-timeline-item__tail{top:0}.el-timeline .el-timeline-item__center:first-child .el-timeline-item__tail{height:calc(50% + 10px);top:calc(50% - 10px)}.el-timeline .el-timeline-item__center:last-child .el-timeline-item__tail{display:block;height:calc(50% - 10px)}.el-transfer{--el-transfer-border-color:var(--el-border-color-lighter);--el-transfer-border-radius:var(--el-border-radius-base);--el-transfer-panel-width:200px;--el-transfer-panel-header-height:40px;--el-transfer-panel-header-bg-color:var(--el-bg-color);--el-transfer-panel-footer-height:40px;--el-transfer-panel-body-height:278px;--el-transfer-item-height:30px;--el-transfer-filter-height:32px}.el-transfer{font-size:var(--el-font-size-base)}.el-transfer__buttons{display:inline-block;vertical-align:middle;padding:0 30px}.el-transfer__button{vertical-align:top}.el-transfer__button:nth-child(2){margin:0 0 0 10px}.el-transfer__button i,.el-transfer__button span{font-size:14px}.el-transfer__button .el-icon+span{margin-left:0}.el-transfer-panel{overflow:hidden;background:var(--el-color-white);display:inline-block;text-align:left;vertical-align:middle;width:var(--el-transfer-panel-width);max-height:100%;box-sizing:border-box;position:relative}.el-transfer-panel__body{height:var(--el-transfer-panel-body-height);border-left:1px solid var(--el-transfer-border-color);border-right:1px solid var(--el-transfer-border-color);border-bottom:1px solid var(--el-transfer-border-color);border-bottom-left-radius:var(--el-transfer-border-radius);border-bottom-right-radius:var(--el-transfer-border-radius);overflow:hidden}.el-transfer-panel__body.is-with-footer{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.el-transfer-panel__list{margin:0;padding:6px 0;list-style:none;height:var(--el-transfer-panel-body-height);overflow:auto;box-sizing:border-box}.el-transfer-panel__list.is-filterable{height:calc(100% - var(--el-transfer-filter-height) - 30px);padding-top:0}.el-transfer-panel__item{height:var(--el-transfer-item-height);line-height:var(--el-transfer-item-height);padding-left:15px;display:block!important}.el-transfer-panel__item+.el-transfer-panel__item{margin-left:0}.el-transfer-panel__item.el-checkbox{color:var(--el-text-color-regular)}.el-transfer-panel__item:hover{color:var(--el-color-primary)}.el-transfer-panel__item.el-checkbox .el-checkbox__label{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:block;box-sizing:border-box;padding-left:22px;line-height:var(--el-transfer-item-height)}.el-transfer-panel__item .el-checkbox__input{position:absolute;top:8px}.el-transfer-panel__filter{text-align:center;margin:15px;box-sizing:border-box;width:auto}.el-transfer-panel__filter .el-input__inner{height:var(--el-transfer-filter-height);width:100%;font-size:12px;display:inline-block;box-sizing:border-box;border-radius:calc(var(--el-transfer-filter-height)/ 2)}.el-transfer-panel__filter .el-icon-circle-close{cursor:pointer}.el-transfer-panel .el-transfer-panel__header{display:flex;align-items:center;height:var(--el-transfer-panel-header-height);background:var(--el-transfer-panel-header-bg-color);margin:0;padding-left:15px;border:1px solid var(--el-transfer-border-color);border-top-left-radius:var(--el-transfer-border-radius);border-top-right-radius:var(--el-transfer-border-radius);box-sizing:border-box;color:var(--el-color-black)}.el-transfer-panel .el-transfer-panel__header .el-checkbox{position:relative;display:flex;width:100%;align-items:center}.el-transfer-panel .el-transfer-panel__header .el-checkbox .el-checkbox__label{font-size:16px;color:var(--el-text-color-primary);font-weight:400}.el-transfer-panel .el-transfer-panel__header .el-checkbox .el-checkbox__label span{position:absolute;right:15px;top:50%;transform:translate3d(0,-50%,0);color:var(--el-text-color-secondary);font-size:12px;font-weight:400}.el-transfer-panel .el-transfer-panel__footer{height:var(--el-transfer-panel-footer-height);background:var(--el-color-white);margin:0;padding:0;border:1px solid var(--el-transfer-border-color);border-bottom-left-radius:var(--el-transfer-border-radius);border-bottom-right-radius:var(--el-transfer-border-radius)}.el-transfer-panel .el-transfer-panel__footer::after{display:inline-block;content:"";height:100%;vertical-align:middle}.el-transfer-panel .el-transfer-panel__footer .el-checkbox{padding-left:20px;color:var(--el-text-color-regular)}.el-transfer-panel .el-transfer-panel__empty{margin:0;height:var(--el-transfer-item-height);line-height:var(--el-transfer-item-height);padding:6px 15px 0;color:var(--el-text-color-secondary);text-align:center}.el-transfer-panel .el-checkbox__label{padding-left:8px}.el-transfer-panel .el-checkbox__inner{height:14px;width:14px;border-radius:3px}.el-transfer-panel .el-checkbox__inner::after{height:6px;width:3px;left:4px}.el-tree{--el-tree-node-hover-bg-color:var(--el-bg-color);--el-tree-text-color:var(--el-text-color-regular);--el-tree-expand-icon-color:var(--el-text-color-placeholder)}.el-tree{position:relative;cursor:default;background:var(--el-color-white);color:var(--el-tree-text-color)}.el-tree__empty-block{position:relative;min-height:60px;text-align:center;width:100%;height:100%}.el-tree__empty-text{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);color:var(--el-text-color-secondary);font-size:var(--el-font-size-base)}.el-tree__drop-indicator{position:absolute;left:0;right:0;height:1px;background-color:var(--el-color-primary)}.el-tree-node{white-space:nowrap;outline:0}.el-tree-node:focus>.el-tree-node__content{background-color:var(--el-tree-node-hover-bg-color)}.el-tree-node.is-drop-inner>.el-tree-node__content .el-tree-node__label{background-color:var(--el-color-primary);color:#fff}.el-tree-node__content{display:flex;align-items:center;height:26px;cursor:pointer}.el-tree-node__content>.el-tree-node__expand-icon{padding:6px;box-sizing:content-box}.el-tree-node__content>label.el-checkbox{margin-right:8px}.el-tree-node__content:hover{background-color:var(--el-tree-node-hover-bg-color)}.el-tree.is-dragging .el-tree-node__content{cursor:move}.el-tree.is-dragging .el-tree-node__content *{pointer-events:none}.el-tree.is-dragging.is-drop-not-allow .el-tree-node__content{cursor:not-allowed}.el-tree-node__expand-icon{cursor:pointer;color:var(--el-tree-expand-icon-color);font-size:12px;transform:rotate(0);transition:transform var(--el-transition-duration) ease-in-out}.el-tree-node__expand-icon.expanded{transform:rotate(90deg)}.el-tree-node__expand-icon.is-leaf{color:transparent;cursor:default}.el-tree-node__expand-icon.is-hidden{visibility:hidden}.el-tree-node__label{font-size:var(--el-font-size-base)}.el-tree-node__loading-icon{margin-right:8px;font-size:var(--el-font-size-base);color:var(--el-tree-expand-icon-color)}.el-tree-node>.el-tree-node__children{overflow:hidden;background-color:transparent}.el-tree-node.is-expanded>.el-tree-node__children{display:block}.el-tree--highlight-current .el-tree-node.is-current>.el-tree-node__content{background-color:var(--el-color-primary-light-9)}.el-upload{display:inline-block;text-align:center;cursor:pointer;outline:0}.el-upload__input{display:none}.el-upload__tip{font-size:12px;color:var(--el-text-color-regular);margin-top:7px}.el-upload iframe{position:absolute;z-index:-1;top:0;left:0;opacity:0}.el-upload--picture-card{background-color:#fbfdff;border:1px dashed #c0ccda;border-radius:6px;box-sizing:border-box;width:148px;height:148px;cursor:pointer;vertical-align:top}.el-upload--picture-card i{margin-top:59px;font-size:28px;color:#8c939d}.el-upload--picture-card:hover{border-color:var(--el-color-primary);color:var(--el-color-primary)}.el-upload:focus{border-color:var(--el-color-primary);color:var(--el-color-primary)}.el-upload:focus .el-upload-dragger{border-color:var(--el-color-primary)}.el-upload-dragger{background-color:#fff;border:1px dashed #d9d9d9;border-radius:6px;box-sizing:border-box;width:360px;height:180px;text-align:center;cursor:pointer;position:relative;overflow:hidden}.el-upload-dragger .el-icon--upload{font-size:67px;color:var(--el-text-color-placeholder);margin:40px 0 16px;line-height:50px}.el-upload-dragger+.el-upload__tip{text-align:center}.el-upload-dragger~.el-upload__files{border-top:1px solid #dcdfe6;margin-top:7px;padding-top:5px}.el-upload-dragger .el-upload__text{color:var(--el-text-color-regular);font-size:14px;text-align:center}.el-upload-dragger .el-upload__text em{color:var(--el-color-primary);font-style:normal}.el-upload-dragger:hover{border-color:var(--el-color-primary)}.el-upload-dragger.is-dragover{background-color:rgba(32,159,255,.06);border:2px dashed var(--el-color-primary)}.el-upload-list{margin:0;padding:0;list-style:none}.el-upload-list__item{transition:all .5s cubic-bezier(.55,0,.1,1);font-size:14px;color:var(--el-text-color-regular);line-height:1.8;margin-top:5px;position:relative;box-sizing:border-box;border-radius:4px;width:100%}.el-upload-list__item .el-progress{position:absolute;top:20px;width:100%}.el-upload-list__item .el-progress__text{position:absolute;right:0;top:-13px}.el-upload-list__item .el-progress-bar{margin-right:0;padding-right:0}.el-upload-list__item:first-child{margin-top:10px}.el-upload-list__item .el-icon--upload-success{color:var(--el-color-success)}.el-upload-list__item .el-icon--close{display:none;position:absolute;top:5px;right:5px;cursor:pointer;opacity:.75;color:var(--el-text-color-regular)}.el-upload-list__item .el-icon--close:hover{opacity:1}.el-upload-list__item .el-icon--close-tip{display:none;position:absolute;top:5px;right:5px;font-size:12px;cursor:pointer;opacity:1;color:var(--el-color-primary)}.el-upload-list__item:hover{background-color:var(--el-bg-color)}.el-upload-list__item:hover .el-icon--close{display:inline-block}.el-upload-list__item:hover .el-progress__text{display:none}.el-upload-list__item.is-success .el-upload-list__item-status-label{display:block}.el-upload-list__item.is-success .el-upload-list__item-name:focus,.el-upload-list__item.is-success .el-upload-list__item-name:hover{color:var(--el-color-primary);cursor:pointer}.el-upload-list__item.is-success:focus:not(:hover) .el-icon-close-tip{display:inline-block}.el-upload-list__item.is-success:active,.el-upload-list__item.is-success:not(.focusing):focus{outline-width:0}.el-upload-list__item.is-success:active .el-icon--close-tip,.el-upload-list__item.is-success:not(.focusing):focus .el-icon--close-tip{display:none}.el-upload-list__item.is-success:focus .el-upload-list__item-status-label,.el-upload-list__item.is-success:hover .el-upload-list__item-status-label{display:none}.el-upload-list.is-disabled .el-upload-list__item:hover .el-upload-list__item-status-label{display:block}.el-upload-list__item-name{color:var(--el-text-color-regular);display:block;margin-right:40px;overflow:hidden;padding-left:4px;text-overflow:ellipsis;transition:color var(--el-transition-duration);white-space:nowrap}.el-upload-list__item-name .el-icon{margin-right:7px;color:var(--el-text-color-secondary)}.el-upload-list__item-name .el-icon svg{vertical-align:text-bottom}.el-upload-list__item-status-label{position:absolute;right:5px;top:0;line-height:inherit;display:none}.el-upload-list__item-delete{position:absolute;right:10px;top:0;font-size:12px;color:var(--el-text-color-regular);display:none}.el-upload-list__item-delete:hover{color:var(--el-color-primary)}.el-upload-list--picture-card{margin:0;display:inline;vertical-align:top}.el-upload-list--picture-card .el-upload-list__item{overflow:hidden;background-color:#fff;border:1px solid #c0ccda;border-radius:6px;box-sizing:border-box;width:148px;height:148px;margin:0 8px 8px 0;display:inline-block}.el-upload-list--picture-card .el-upload-list__item .el-icon--check,.el-upload-list--picture-card .el-upload-list__item .el-icon--circle-check{color:#fff}.el-upload-list--picture-card .el-upload-list__item .el-icon--close{display:none}.el-upload-list--picture-card .el-upload-list__item:hover .el-upload-list__item-status-label{display:none}.el-upload-list--picture-card .el-upload-list__item:hover .el-progress__text{display:block}.el-upload-list--picture-card .el-upload-list__item-name{display:none}.el-upload-list--picture-card .el-upload-list__item-thumbnail{width:100%;height:100%;object-fit:contain}.el-upload-list--picture-card .el-upload-list__item-status-label{position:absolute;right:-15px;top:-6px;width:40px;height:24px;background:#13ce66;text-align:center;transform:rotate(45deg);box-shadow:0 0 1pc 1px rgba(0,0,0,.2)}.el-upload-list--picture-card .el-upload-list__item-status-label i{font-size:12px;margin-top:11px;transform:rotate(-45deg)}.el-upload-list--picture-card .el-upload-list__item-actions{position:absolute;width:100%;height:100%;left:0;top:0;cursor:default;text-align:center;color:#fff;opacity:0;font-size:20px;background-color:rgba(0,0,0,.5);transition:opacity var(--el-transition-duration)}.el-upload-list--picture-card .el-upload-list__item-actions::after{display:inline-block;content:"";height:100%;vertical-align:middle}.el-upload-list--picture-card .el-upload-list__item-actions span{display:none;cursor:pointer}.el-upload-list--picture-card .el-upload-list__item-actions span+span{margin-left:15px}.el-upload-list--picture-card .el-upload-list__item-actions .el-upload-list__item-delete{position:static;font-size:inherit;color:inherit}.el-upload-list--picture-card .el-upload-list__item-actions:hover{opacity:1}.el-upload-list--picture-card .el-upload-list__item-actions:hover span{display:inline-block}.el-upload-list--picture-card .el-progress{top:50%;left:50%;transform:translate(-50%,-50%);bottom:auto;width:126px}.el-upload-list--picture-card .el-progress .el-progress__text{top:50%}.el-upload-list--picture .el-upload-list__item{overflow:hidden;z-index:0;background-color:#fff;border:1px solid #c0ccda;border-radius:6px;box-sizing:border-box;margin-top:10px;padding:10px 10px 10px 90px;height:92px}.el-upload-list--picture .el-upload-list__item .el-icon--check,.el-upload-list--picture .el-upload-list__item .el-icon--circle-check{color:#fff}.el-upload-list--picture .el-upload-list__item:hover .el-upload-list__item-status-label{background:0 0;box-shadow:none;top:-2px;right:-12px}.el-upload-list--picture .el-upload-list__item:hover .el-progress__text{display:block}.el-upload-list--picture .el-upload-list__item.is-success .el-upload-list__item-name{line-height:70px;margin-top:0}.el-upload-list--picture .el-upload-list__item.is-success .el-upload-list__item-name i{display:none}.el-upload-list--picture .el-upload-list__item-thumbnail{vertical-align:middle;display:inline-block;width:70px;height:70px;float:left;position:relative;z-index:1;margin-left:-80px;background-color:#fff}.el-upload-list--picture .el-upload-list__item-name{display:block;margin-top:20px}.el-upload-list--picture .el-upload-list__item-name i{font-size:70px;line-height:1;position:absolute;left:9px;top:10px}.el-upload-list--picture .el-upload-list__item-status-label{position:absolute;right:-17px;top:-7px;width:46px;height:26px;background:#13ce66;text-align:center;transform:rotate(45deg);box-shadow:0 1px 1px #ccc}.el-upload-list--picture .el-upload-list__item-status-label i{font-size:12px;margin-top:12px;transform:rotate(-45deg)}.el-upload-list--picture .el-progress{position:relative;top:-7px}.el-upload-cover{position:absolute;left:0;top:0;width:100%;height:100%;overflow:hidden;z-index:10;cursor:default}.el-upload-cover::after{display:inline-block;content:"";height:100%;vertical-align:middle}.el-upload-cover img{display:block;width:100%;height:100%}.el-upload-cover__label{position:absolute;right:-15px;top:-6px;width:40px;height:24px;background:#13ce66;text-align:center;transform:rotate(45deg);box-shadow:0 0 1pc 1px rgba(0,0,0,.2)}.el-upload-cover__label i{font-size:12px;margin-top:11px;transform:rotate(-45deg);color:#fff}.el-upload-cover__progress{display:inline-block;vertical-align:middle;position:static;width:243px}.el-upload-cover__progress+.el-upload__inner{opacity:0}.el-upload-cover__content{position:absolute;top:0;left:0;width:100%;height:100%}.el-upload-cover__interact{position:absolute;bottom:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,.72);text-align:center}.el-upload-cover__interact .btn{display:inline-block;color:#fff;font-size:14px;cursor:pointer;vertical-align:middle;transition:var(--el-transition-md-fade);margin-top:60px}.el-upload-cover__interact .btn i{margin-top:0}.el-upload-cover__interact .btn span{opacity:0;transition:opacity .15s linear}.el-upload-cover__interact .btn:not(:first-child){margin-left:35px}.el-upload-cover__interact .btn:hover{transform:translateY(-13px)}.el-upload-cover__interact .btn:hover span{opacity:1}.el-upload-cover__interact .btn i{color:#fff;display:block;font-size:24px;line-height:inherit;margin:0 auto 5px}.el-upload-cover__title{position:absolute;bottom:0;left:0;background-color:#fff;height:36px;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;font-weight:400;text-align:left;padding:0 10px;margin:0;line-height:36px;font-size:14px;color:var(--el-text-color-primary)}.el-upload-cover+.el-upload__inner{opacity:0;position:relative;z-index:1}.el-vl__wrapper{position:relative}.el-vl__wrapper:hover .el-virtual-scrollbar{opacity:1}.el-vl__wrapper.always-on .el-virtual-scrollbar{opacity:1}.el-virtual-scrollbar{opacity:0;transition:opacity 340ms ease-out}.el-vg__wrapper{position:relative}.el-popper{--el-popper-border-radius:var(--el-popover-border-radius, 4px)}.el-popper{position:absolute;border-radius:var(--el-popper-border-radius);padding:5px 11px;z-index:2000;font-size:12px;line-height:20px;min-width:10px;word-wrap:break-word;visibility:visible}.el-popper.is-dark{color:var(--el-color-white);background:var(--el-text-color-primary);border:1px solid var(--el-text-color-primary)}.el-popper.is-dark .el-popper__arrow::before{border:1px solid var(--el-text-color-primary);background:var(--el-text-color-primary);right:0}.el-popper.is-light{background:var(--el-color-white);border:1px solid var(--el-border-color-light)}.el-popper.is-light .el-popper__arrow::before{border:1px solid var(--el-border-color-light);background:var(--el-color-white);right:0}.el-popper.is-pure{padding:0}.el-popper__arrow{position:absolute;width:10px;height:10px;z-index:-1}.el-popper__arrow::before{position:absolute;width:10px;height:10px;z-index:-1;content:" ";transform:rotate(45deg);background:var(--el-text-color-primary);box-sizing:border-box}.el-popper[data-popper-placement^=top]>.el-popper__arrow{bottom:-5px}.el-popper[data-popper-placement^=top]>.el-popper__arrow::before{border-bottom-right-radius:2px}.el-popper[data-popper-placement^=bottom]>.el-popper__arrow{top:-5px}.el-popper[data-popper-placement^=bottom]>.el-popper__arrow::before{border-top-left-radius:2px}.el-popper[data-popper-placement^=left]>.el-popper__arrow{right:-5px}.el-popper[data-popper-placement^=left]>.el-popper__arrow::before{border-top-right-radius:2px}.el-popper[data-popper-placement^=right]>.el-popper__arrow{left:-5px}.el-popper[data-popper-placement^=right]>.el-popper__arrow::before{border-bottom-left-radius:2px}.el-popper[data-popper-placement^=top] .el-popper__arrow::before{border-top-color:transparent!important;border-left-color:transparent!important}.el-popper[data-popper-placement^=bottom] .el-popper__arrow::before{border-bottom-color:transparent!important;border-right-color:transparent!important}.el-popper[data-popper-placement^=left] .el-popper__arrow::before{border-left-color:transparent!important;border-bottom-color:transparent!important}.el-popper[data-popper-placement^=right] .el-popper__arrow::before{border-right-color:transparent!important;border-top-color:transparent!important}.el-select-dropdown__item{font-size:var(--el-font-size-base);padding:0 32px 0 20px;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--el-text-color-regular);height:34px;line-height:34px;box-sizing:border-box;cursor:pointer}.el-select-dropdown__item.is-disabled{color:var(--el-text-color-placeholder);cursor:not-allowed}.el-select-dropdown__item.is-disabled:hover{background-color:var(--el-color-white)}.el-select-dropdown__item.hover,.el-select-dropdown__item:hover{background-color:var(--el-bg-color)}.el-select-dropdown__item.selected{color:var(--el-color-primary);font-weight:700}';const formula={"shade-1":"color(primary shade(10%))","light-1":"color(primary tint(10%))","light-2":"color(primary tint(20%))","light-3":"color(primary tint(30%))","light-4":"color(primary tint(40%))","light-5":"color(primary tint(50%))","light-6":"color(primary tint(60%))","light-7":"color(primary tint(70%))","light-8":"color(primary tint(80%))","light-9":"color(primary tint(90%))"},writeNewStyle=e=>{const r=window.document.createElement("style");r.innerText=e,window.document.head.appendChild(r)},createNewStyle=e=>{const r=createColors(e);let l=getStyleTemplate(epCss);return Object.keys(r).forEach(g=>{l=l.replace(new RegExp("(:|\\s+)"+g,"g"),"$1"+r[g])}),l},createColors=e=>{if(!e)return;const r={primary:e};return Object.keys(formula).forEach(l=>{const g=formula[l].replace(/primary/,e);r[l]="#"+rgbHex(convert_1(g))}),r},getStyleTemplate=e=>{const r={"#3a8ee6":"shade-1","#409eff":"primary","#53a8ff":"light-1","#66b1ff":"light-2","#79bbff":"light-3","#8cc5ff":"light-4","#a0cfff":"light-5","#b3d8ff":"light-6","#c6e2ff":"light-7","#d9ecff":"light-8","#ecf5ff":"light-9"};return Object.keys(r).forEach(l=>{const g=r[l];e=e.replace(new RegExp(l,"ig"),g)}),e},shadeBgColor=e=>new TinyColor(e).shade(10).toString(),browerPreprocessorOptions={outputDir:"",defaultScopeName:"",includeStyleWithColors:[],extract:!0,themeLinkTagId:"head",themeLinkTagInjectTo:"head",removeCssScopeName:!1,arbitraryMode:!1,defaultPrimaryColor:"",customThemeOutputPath:"C:/Users/zhouqichun/Desktop/vue-pure/vue-pure-admin/node_modules/.pnpm/@zougt+vite-plugin-theme-preprocessor@1.4.4/node_modules/@zougt/vite-plugin-theme-preprocessor/setCustomTheme.js",styleTagId:"custom-theme-tagid",InjectDefaultStyleTagToHtml:!0,hueDiffControls:{low:0,high:0},multipleScopeVars:[{scopeName:"layout-theme-default",path:"src/layout/theme/default-vars.scss"},{scopeName:"layout-theme-light",path:"src/layout/theme/light-vars.scss"},{scopeName:"layout-theme-dusk",path:"src/layout/theme/dusk-vars.scss"},{scopeName:"layout-theme-volcano",path:"src/layout/theme/volcano-vars.scss"},{scopeName:"layout-theme-yellow",path:"src/layout/theme/yellow-vars.scss"},{scopeName:"layout-theme-mingQing",path:"src/layout/theme/mingQing-vars.scss"},{scopeName:"layout-theme-auroraGreen",path:"src/layout/theme/auroraGreen-vars.scss"},{scopeName:"layout-theme-pink",path:"src/layout/theme/pink-vars.scss"},{scopeName:"layout-theme-saucePurple",path:"src/layout/theme/saucePurple-vars.scss"}]},basePath="/vue-pure/",assetsDir="assets";function getRegstr(e){return`(^${e}\\s+|\\s+${e}\\s+|\\s+${e}$|^${e}$)`}function addClassNameToHtmlTag({scopeName:e,multipleScopeVars:r}){const l=Array.isArray(r)&&r.length?r:browerPreprocessorOptions.multipleScopeVars;let g=document.documentElement.className;new RegExp(getRegstr(e)).test(g)||(l.forEach(x=>{g=g.replace(new RegExp(getRegstr(x.scopeName),"g"),` ${e} `)}),document.documentElement.className=g.replace(/(^\s+|\s+$)/g,""))}function createThemeLinkTag({id:e,href:r}){const l=document.createElement("link");return l.rel="stylesheet",l.href=r,l.id=e,l}function toggleTheme(e){const r=gi({scopeName:"theme-default",customLinkHref:C=>C},e),l=r.themeLinkTagId||browerPreprocessorOptions.themeLinkTagId;let g=document.getElementById(l);const x=r.customLinkHref(`/${basePath}/${assetsDir}/${r.scopeName}.css`.replace(/\/+(?=\/)/g,""));if(g){g.id=`${l}_old`;const C=createThemeLinkTag({id:l,href:x});g.nextSibling?g.parentNode.insertBefore(C,g.nextSibling):g.parentNode.appendChild(C),C.onload=()=>{setTimeout(()=>{g.parentNode.removeChild(g),g=null},60),addClassNameToHtmlTag(r)};return}g=createThemeLinkTag({id:l,href:x}),addClassNameToHtmlTag(r),document[(r.themeLinkTagInjectTo||browerPreprocessorOptions.themeLinkTagInjectTo||"").replace("-prepend","")].appendChild(g)}const _hoisted_1$7={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16"},_hoisted_2$5=createBaseVNode("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),_hoisted_3$3=createBaseVNode("path",{d:"M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85 1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"},null,-1),_hoisted_4$3=[_hoisted_2$5,_hoisted_3$3];function render$3(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$7,_hoisted_4$3)}const _hoisted_1$6={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"16",height:"16"},_hoisted_2$4=createBaseVNode("path",{fill:"none",d:"M0 0h24v24H0z"},null,-1),_hoisted_3$2=createBaseVNode("path",{d:"M11.38 2.019a7.5 7.5 0 1 0 10.6 10.6C21.662 17.854 17.316 22 12.001 22 6.477 22 2 17.523 2 12c0-5.315 4.146-9.661 9.38-9.981z"},null,-1),_hoisted_4$2=[_hoisted_2$4,_hoisted_3$2];function render$2(e,r){return openBlock(),createElementBlock("svg",_hoisted_1$6,_hoisted_4$2)}const isSelect="_isSelect_bhpkq_2";var style0={isSelect},index_vue_vue_type_style_index_1_scoped_true_lang="";const _withScopeId=e=>(pushScopeId("data-v-45812323"),e=e(),popScopeId(),e),_hoisted_1$5=createTextVNode("\u4E3B\u9898"),_hoisted_2$3=createTextVNode("\u5BFC\u822A\u680F\u6A21\u5F0F"),_hoisted_3$1={class:"pure-theme"},_hoisted_4$1=_withScopeId(()=>createBaseVNode("div",null,null,-1)),_hoisted_5$1=_withScopeId(()=>createBaseVNode("div",null,null,-1)),_hoisted_6=[_hoisted_4$1,_hoisted_5$1],_hoisted_7=_withScopeId(()=>createBaseVNode("div",null,null,-1)),_hoisted_8=_withScopeId(()=>createBaseVNode("div",null,null,-1)),_hoisted_9=[_hoisted_7,_hoisted_8],_hoisted_10=createTextVNode("\u4E3B\u9898\u8272"),_hoisted_11={class:"theme-color"},_hoisted_12=["onClick"],_hoisted_13=createTextVNode("\u754C\u9762\u663E\u793A"),_hoisted_14={class:"setting"},_hoisted_15=_withScopeId(()=>createBaseVNode("span",null,"\u7070\u8272\u6A21\u5F0F",-1)),_hoisted_16=_withScopeId(()=>createBaseVNode("span",null,"\u8272\u5F31\u6A21\u5F0F",-1)),_hoisted_17=_withScopeId(()=>createBaseVNode("span",null,"\u9690\u85CF\u6807\u7B7E\u9875",-1)),_hoisted_18=_withScopeId(()=>createBaseVNode("span",null,"\u4FA7\u8FB9\u680FLogo",-1)),_hoisted_19=_withScopeId(()=>createBaseVNode("span",null,"\u6807\u7B7E\u9875\u6301\u4E45\u5316",-1)),_hoisted_20=_withScopeId(()=>createBaseVNode("span",null,"\u6807\u7B7E\u98CE\u683C",-1)),_hoisted_21=createTextVNode("\u5361\u7247"),_hoisted_22=createTextVNode("\u7075\u52A8"),_hoisted_23=createTextVNode(" \u6E05\u7A7A\u7F13\u5B58\u5E76\u8FD4\u56DE\u767B\u5F55\u9875"),_sfc_main$6=defineComponent({setup(e){var Ee,He,rt,ft,bt,Ye;const r=useRouter(),{isSelect:l}=useCssModule(),g=document.documentElement,x=getCurrentInstance().appContext.app.config.globalProperties.$storage,C=getCurrentInstance().appContext.app.config.globalProperties.$config;let u=ref([{rgb:"27, 42, 71",themeColor:"default"},{rgb:"255, 255, 255",themeColor:"light"},{rgb:"245, 34, 45",themeColor:"dusk"},{rgb:"250, 84, 28",themeColor:"volcano"},{rgb:"250, 219, 20",themeColor:"yellow"},{rgb:"19, 194, 194",themeColor:"mingQing"},{rgb:"82, 196, 26",themeColor:"auroraGreen"},{rgb:"235, 47, 150",themeColor:"pink"},{rgb:"114, 46, 209",themeColor:"saucePurple"}]);const f=templateRef("verticalRef",null),n=templateRef("horizontalRef",null);let S=ref(storageLocal.getItem("responsive-layout"))||ref({layout:(Ee=C==null?void 0:C.Layout)!=null?Ee:"vertical",theme:(He=C==null?void 0:C.Theme)!=null?He:"default"});if(unref(S)){let De=unref(S).layout,at=unref(S).theme;toggleTheme({scopeName:`layout-theme-${at}`}),fe(De)}const k=ref((ft=(rt=x.configure)==null?void 0:rt.showModel)!=null?ft:"smart"),M=ref((Ye=(bt=x.configure)==null?void 0:bt.showLogo)!=null?Ye:!0),P=ref(useEpThemeStoreHook().getEpThemeColor),$=reactive({greyVal:x.configure.grey,weakVal:x.configure.weak,tabsVal:x.configure.hideTabs,showLogo:x.configure.showLogo,showModel:x.configure.showModel,multiTagsCache:x.configure.multiTagsCache}),R=computed(()=>De=>({background:`rgb(${De})`}));function B(De,at){const Ut=x.configure;Ut[De]=at,x.configure=Ut}function V(De,at,Ut){const je=Ut||document.body;let{className:tt}=je;tt=tt.replace(at,""),je.className=De?`${tt} ${at} `:tt}const j=De=>{V($.greyVal,"html-grey",document.querySelector("html")),B("grey",De)},U=De=>{V($.weakVal,"html-weakness",document.querySelector("html")),B("weak",De)},q=()=>{let De=$.tabsVal;B("hideTabs",De),emitter.emit("tagViewsChange",De)},Y=()=>{let De=$.multiTagsCache;B("multiTagsCache",De),useMultiTagsStoreHook().multiTagsCacheChange(De)};function Q(){V(getConfig().Grey,"html-grey",document.querySelector("html")),V(getConfig().Weak,"html-weakness",document.querySelector("html")),useMultiTagsStoreHook().handleTags("equal",[{path:"/welcome",parentPath:"/",meta:{title:"\u9996\u9875",icon:"home-filled"}}]),useMultiTagsStoreHook().multiTagsCacheChange(getConfig().MultiTagsCache),useEpThemeStoreHook().setEpThemeColor(getConfig().EpThemeColor),storageLocal.clear(),storageSession.clear(),r.push("/login")}function te(De){B("showModel",De),emitter.emit("tagViewsShowModel",De)}function re(){unref(M)?B("showLogo",!0):B("showLogo",!1),emitter.emit("logoChange",unref(M))}function oe(De){De.forEach(at=>{V(!1,l,unref(at))})}watch(x,({layout:De})=>{switch(De.layout){case"vertical":V(!0,l,unref(f)),debounce$2(oe([n]),50);break;case"horizontal":V(!0,l,unref(n)),debounce$2(oe([f]),50);break}});const se=computed(()=>De=>De===S.value.theme&&S.value.theme!=="light"?"#fff":De===S.value.theme&&S.value.theme==="light"?"#1d2b45":"transparent");function fe(De){S.value.layout=De,window.document.body.setAttribute("layout",De),x.layout={layout:De,theme:S.value.theme,darkMode:x.layout.darkMode,sidebarStatus:x.layout.sidebarStatus,epThemeColor:x.layout.epThemeColor},useAppStoreHook().setLayout(De)}let ge;function Ce(De){if(ge=x.layout.theme,S.value.theme=De,toggleTheme({scopeName:`layout-theme-${De}`}),x.layout={layout:useAppStoreHook().layout,theme:De,darkMode:be.value,sidebarStatus:x.layout.sidebarStatus,epThemeColor:x.layout.epThemeColor},De==="default"||De==="light")$e(getConfig().EpThemeColor);else{const at=find$3(u.value,{themeColor:De}),Ut="#"+rgbHex(at.rgb);$e(Ut)}}const $e=De=>{writeNewStyle(createNewStyle(De)),useEpThemeStoreHook().setEpThemeColor(De),g.style.setProperty("--el-color-primary-active",shadeBgColor(De))};let be=ref(x.layout.darkMode);function ke(){be.value?(g.setAttribute("data-theme","dark"),Ce("light")):(g.setAttribute("data-theme",""),ge&&Ce(ge),x.layout={layout:useAppStoreHook().layout,theme:x.layout.theme,darkMode:be.value,sidebarStatus:x.layout.sidebarStatus,epThemeColor:x.layout.epThemeColor})}return nextTick(()=>{var De,at;$.greyVal&&((De=document.querySelector("html"))==null||De.setAttribute("class","html-grey")),$.weakVal&&((at=document.querySelector("html"))==null||at.setAttribute("class","html-weakness")),$.tabsVal&&q(),writeNewStyle(createNewStyle(P.value)),ke()}),(De,at)=>{const Ut=resolveComponent("el-divider"),je=resolveComponent("el-switch"),tt=resolveComponent("el-tooltip"),We=resolveComponent("IconifyIconOffline"),Gt=resolveComponent("el-icon"),gt=resolveComponent("el-radio"),Mt=resolveComponent("el-radio-group"),Rt=resolveComponent("el-button");return openBlock(),createBlock(panel,null,{default:withCtx(()=>[createVNode(Ut,null,{default:withCtx(()=>[_hoisted_1$5]),_:1}),createVNode(je,{modelValue:unref(be),"onUpdate:modelValue":at[0]||(at[0]=Jt=>isRef(be)?be.value=Jt:be=Jt),"inline-prompt":"",class:"pure-datatheme","active-icon":unref(render$3),"inactive-icon":unref(render$2),onChange:ke},null,8,["modelValue","active-icon","inactive-icon"]),createVNode(Ut,null,{default:withCtx(()=>[_hoisted_2$3]),_:1}),createBaseVNode("ul",_hoisted_3$1,[createVNode(tt,{class:"item",content:"\u5DE6\u4FA7\u83DC\u5355\u6A21\u5F0F",placement:"bottom"},{default:withCtx(()=>[createBaseVNode("li",{class:normalizeClass(unref(S).layout==="vertical"?De.$style.isSelect:""),ref_key:"verticalRef",ref:f,onClick:at[1]||(at[1]=Jt=>fe("vertical"))},_hoisted_6,2)]),_:1}),createVNode(tt,{class:"item",content:"\u9876\u90E8\u83DC\u5355\u6A21\u5F0F",placement:"bottom"},{default:withCtx(()=>[createBaseVNode("li",{class:normalizeClass(unref(S).layout==="horizontal"?De.$style.isSelect:""),ref_key:"horizontalRef",ref:n,onClick:at[2]||(at[2]=Jt=>fe("horizontal"))},_hoisted_9,2)]),_:1})]),withDirectives(createVNode(Ut,null,{default:withCtx(()=>[_hoisted_10]),_:1},512),[[vShow,!unref(be)]]),withDirectives(createBaseVNode("ul",_hoisted_11,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(u),(Jt,ut)=>(openBlock(),createElementBlock("li",{key:ut,style:normalizeStyle(unref(R)(Jt.rgb)),onClick:Ht=>Ce(Jt.themeColor)},[createVNode(Gt,{style:{margin:"0.1em 0.1em 0 0"},size:17,color:unref(se)(Jt.themeColor)},{default:withCtx(()=>[createVNode(We,{icon:"check"})]),_:2},1032,["color"])],12,_hoisted_12))),128))],512),[[vShow,!unref(be)]]),createVNode(Ut,null,{default:withCtx(()=>[_hoisted_13]),_:1}),createBaseVNode("ul",_hoisted_14,[withDirectives(createBaseVNode("li",null,[_hoisted_15,createVNode(je,{modelValue:unref($).greyVal,"onUpdate:modelValue":at[3]||(at[3]=Jt=>unref($).greyVal=Jt),"inline-prompt":"","inactive-color":"#a6a6a6","active-text":"\u5F00","inactive-text":"\u5173",onChange:j},null,8,["modelValue"])],512),[[vShow,!unref(be)]]),withDirectives(createBaseVNode("li",null,[_hoisted_16,createVNode(je,{modelValue:unref($).weakVal,"onUpdate:modelValue":at[4]||(at[4]=Jt=>unref($).weakVal=Jt),"inline-prompt":"","inactive-color":"#a6a6a6","active-text":"\u5F00","inactive-text":"\u5173",onChange:U},null,8,["modelValue"])],512),[[vShow,!unref(be)]]),createBaseVNode("li",null,[_hoisted_17,createVNode(je,{modelValue:unref($).tabsVal,"onUpdate:modelValue":at[5]||(at[5]=Jt=>unref($).tabsVal=Jt),"inline-prompt":"","inactive-color":"#a6a6a6","active-text":"\u5F00","inactive-text":"\u5173",onChange:q},null,8,["modelValue"])]),createBaseVNode("li",null,[_hoisted_18,createVNode(je,{modelValue:M.value,"onUpdate:modelValue":at[6]||(at[6]=Jt=>M.value=Jt),"inline-prompt":"","active-value":!0,"inactive-value":!1,"inactive-color":"#a6a6a6","active-text":"\u5F00","inactive-text":"\u5173",onChange:re},null,8,["modelValue"])]),createBaseVNode("li",null,[_hoisted_19,createVNode(je,{modelValue:unref($).multiTagsCache,"onUpdate:modelValue":at[7]||(at[7]=Jt=>unref($).multiTagsCache=Jt),"inline-prompt":"","inactive-color":"#a6a6a6","active-text":"\u5F00","inactive-text":"\u5173",onChange:Y},null,8,["modelValue"])]),createBaseVNode("li",null,[_hoisted_20,createVNode(Mt,{modelValue:k.value,"onUpdate:modelValue":at[8]||(at[8]=Jt=>k.value=Jt),size:"small",onChange:te},{default:withCtx(()=>[createVNode(gt,{label:"card"},{default:withCtx(()=>[_hoisted_21]),_:1}),createVNode(gt,{label:"smart"},{default:withCtx(()=>[_hoisted_22]),_:1})]),_:1},8,["modelValue"])])]),createVNode(Ut),createVNode(Rt,{type:"danger",style:{width:"90%",margin:"24px 15px"},onClick:Q},{default:withCtx(()=>[createVNode(We,{icon:"fa-sign-out",width:"15",height:"15",style:{"margin-right":"4px"}}),_hoisted_23]),_:1})]),_:1})}}}),cssModules={$style:style0};var setting=_export_sfc(_sfc_main$6,[["__cssModules",cssModules],["__scopeId","data-v-45812323"]]),logo_vue_vue_type_style_index_0_scoped_true_lang="";const _hoisted_1$4={class:"sidebar-title"},_hoisted_2$2={class:"sidebar-title"},_sfc_main$5=defineComponent({props:{collapse:Boolean},setup(e){var g;const r=e,l=(g=getCurrentInstance().appContext.config.globalProperties.$config)==null?void 0:g.Title;return(x,C)=>{const u=resolveComponent("FontIcon"),f=resolveComponent("router-link");return openBlock(),createElementBlock("div",{class:normalizeClass(["sidebar-logo-container",{collapse:r.collapse}])},[createVNode(Transition,{name:"sidebarLogoFade"},{default:withCtx(()=>[r.collapse?(openBlock(),createBlock(f,{key:"props.collapse",title:unref(l),class:"sidebar-logo-link",to:"/"},{default:withCtx(()=>[createVNode(u,{icon:"team-iconlogo",svg:"",style:{width:"35px",height:"35px"}}),createBaseVNode("span",_hoisted_1$4,toDisplayString(unref(l)),1)]),_:1},8,["title"])):(openBlock(),createBlock(f,{key:"expand",title:unref(l),class:"sidebar-logo-link",to:"/"},{default:withCtx(()=>[createVNode(u,{icon:"team-iconlogo",svg:"",style:{width:"35px",height:"35px"}}),createBaseVNode("span",_hoisted_2$2,toDisplayString(unref(l)),1)]),_:1},8,["title"]))]),_:1})],2)}}});var Logo=_export_sfc(_sfc_main$5,[["__scopeId","data-v-9ce46682"]]),path$1={exports:{}},util$1={},isBufferBrowser=function e(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"},inherits_browser={exports:{}};typeof Object.create=="function"?inherits_browser.exports=function(r,l){r.super_=l,r.prototype=Object.create(l.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:inherits_browser.exports=function(r,l){r.super_=l;var g=function(){};g.prototype=l.prototype,r.prototype=new g,r.prototype.constructor=r};(function(e){var r=/%[sdj%]/g;e.format=function(be){if(!q(be)){for(var ke=[],Ee=0;Ee<arguments.length;Ee++)ke.push(x(arguments[Ee]));return ke.join(" ")}for(var Ee=1,He=arguments,rt=He.length,ft=String(be).replace(r,function(Ye){if(Ye==="%%")return"%";if(Ee>=rt)return Ye;switch(Ye){case"%s":return String(He[Ee++]);case"%d":return Number(He[Ee++]);case"%j":try{return JSON.stringify(He[Ee++])}catch{return"[Circular]"}default:return Ye}}),bt=He[Ee];Ee<rt;bt=He[++Ee])V(bt)||!re(bt)?ft+=" "+bt:ft+=" "+x(bt);return ft},e.deprecate=function(be,ke){if(Q(commonjsGlobal.process))return function(){return e.deprecate(be,ke).apply(this,arguments)};if(process.noDeprecation===!0)return be;var Ee=!1;function He(){if(!Ee){if(process.throwDeprecation)throw new Error(ke);process.traceDeprecation?console.trace(ke):console.error(ke),Ee=!0}return be.apply(this,arguments)}return He};var l={},g;e.debuglog=function(be){if(Q(g)&&(g=""),be=be.toUpperCase(),!l[be])if(new RegExp("\\b"+be+"\\b","i").test(g)){var ke=process.pid;l[be]=function(){var Ee=e.format.apply(e,arguments);console.error("%s %d: %s",be,ke,Ee)}}else l[be]=function(){};return l[be]};function x(be,ke){var Ee={seen:[],stylize:u};return arguments.length>=3&&(Ee.depth=arguments[2]),arguments.length>=4&&(Ee.colors=arguments[3]),B(ke)?Ee.showHidden=ke:ke&&e._extend(Ee,ke),Q(Ee.showHidden)&&(Ee.showHidden=!1),Q(Ee.depth)&&(Ee.depth=2),Q(Ee.colors)&&(Ee.colors=!1),Q(Ee.customInspect)&&(Ee.customInspect=!0),Ee.colors&&(Ee.stylize=C),n(Ee,be,Ee.depth)}e.inspect=x,x.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},x.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function C(be,ke){var Ee=x.styles[ke];return Ee?"["+x.colors[Ee][0]+"m"+be+"["+x.colors[Ee][1]+"m":be}function u(be,ke){return be}function f(be){var ke={};return be.forEach(function(Ee,He){ke[Ee]=!0}),ke}function n(be,ke,Ee){if(be.customInspect&&ke&&fe(ke.inspect)&&ke.inspect!==e.inspect&&!(ke.constructor&&ke.constructor.prototype===ke)){var He=ke.inspect(Ee,be);return q(He)||(He=n(be,He,Ee)),He}var rt=S(be,ke);if(rt)return rt;var ft=Object.keys(ke),bt=f(ft);if(be.showHidden&&(ft=Object.getOwnPropertyNames(ke)),se(ke)&&(ft.indexOf("message")>=0||ft.indexOf("description")>=0))return k(ke);if(ft.length===0){if(fe(ke)){var Ye=ke.name?": "+ke.name:"";return be.stylize("[Function"+Ye+"]","special")}if(te(ke))return be.stylize(RegExp.prototype.toString.call(ke),"regexp");if(oe(ke))return be.stylize(Date.prototype.toString.call(ke),"date");if(se(ke))return k(ke)}var De="",at=!1,Ut=["{","}"];if(R(ke)&&(at=!0,Ut=["[","]"]),fe(ke)){var je=ke.name?": "+ke.name:"";De=" [Function"+je+"]"}if(te(ke)&&(De=" "+RegExp.prototype.toString.call(ke)),oe(ke)&&(De=" "+Date.prototype.toUTCString.call(ke)),se(ke)&&(De=" "+k(ke)),ft.length===0&&(!at||ke.length==0))return Ut[0]+De+Ut[1];if(Ee<0)return te(ke)?be.stylize(RegExp.prototype.toString.call(ke),"regexp"):be.stylize("[Object]","special");be.seen.push(ke);var tt;return at?tt=M(be,ke,Ee,bt,ft):tt=ft.map(function(We){return P(be,ke,Ee,bt,We,at)}),be.seen.pop(),$(tt,De,Ut)}function S(be,ke){if(Q(ke))return be.stylize("undefined","undefined");if(q(ke)){var Ee="'"+JSON.stringify(ke).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return be.stylize(Ee,"string")}if(U(ke))return be.stylize(""+ke,"number");if(B(ke))return be.stylize(""+ke,"boolean");if(V(ke))return be.stylize("null","null")}function k(be){return"["+Error.prototype.toString.call(be)+"]"}function M(be,ke,Ee,He,rt){for(var ft=[],bt=0,Ye=ke.length;bt<Ye;++bt)$e(ke,String(bt))?ft.push(P(be,ke,Ee,He,String(bt),!0)):ft.push("");return rt.forEach(function(De){De.match(/^\d+$/)||ft.push(P(be,ke,Ee,He,De,!0))}),ft}function P(be,ke,Ee,He,rt,ft){var bt,Ye,De;if(De=Object.getOwnPropertyDescriptor(ke,rt)||{value:ke[rt]},De.get?De.set?Ye=be.stylize("[Getter/Setter]","special"):Ye=be.stylize("[Getter]","special"):De.set&&(Ye=be.stylize("[Setter]","special")),$e(He,rt)||(bt="["+rt+"]"),Ye||(be.seen.indexOf(De.value)<0?(V(Ee)?Ye=n(be,De.value,null):Ye=n(be,De.value,Ee-1),Ye.indexOf(`
`)>-1&&(ft?Ye=Ye.split(`
`).map(function(at){return"  "+at}).join(`
`).substr(2):Ye=`
`+Ye.split(`
`).map(function(at){return"   "+at}).join(`
`))):Ye=be.stylize("[Circular]","special")),Q(bt)){if(ft&&rt.match(/^\d+$/))return Ye;bt=JSON.stringify(""+rt),bt.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(bt=bt.substr(1,bt.length-2),bt=be.stylize(bt,"name")):(bt=bt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),bt=be.stylize(bt,"string"))}return bt+": "+Ye}function $(be,ke,Ee){var He=be.reduce(function(rt,ft){return ft.indexOf(`
`)>=0,rt+ft.replace(/\u001b\[\d\d?m/g,"").length+1},0);return He>60?Ee[0]+(ke===""?"":ke+`
 `)+" "+be.join(`,
  `)+" "+Ee[1]:Ee[0]+ke+" "+be.join(", ")+" "+Ee[1]}function R(be){return Array.isArray(be)}e.isArray=R;function B(be){return typeof be=="boolean"}e.isBoolean=B;function V(be){return be===null}e.isNull=V;function j(be){return be==null}e.isNullOrUndefined=j;function U(be){return typeof be=="number"}e.isNumber=U;function q(be){return typeof be=="string"}e.isString=q;function Y(be){return typeof be=="symbol"}e.isSymbol=Y;function Q(be){return be===void 0}e.isUndefined=Q;function te(be){return re(be)&&Ce(be)==="[object RegExp]"}e.isRegExp=te;function re(be){return typeof be=="object"&&be!==null}e.isObject=re;function oe(be){return re(be)&&Ce(be)==="[object Date]"}e.isDate=oe;function se(be){return re(be)&&(Ce(be)==="[object Error]"||be instanceof Error)}e.isError=se;function fe(be){return typeof be=="function"}e.isFunction=fe;function ge(be){return be===null||typeof be=="boolean"||typeof be=="number"||typeof be=="string"||typeof be=="symbol"||typeof be=="undefined"}e.isPrimitive=ge,e.isBuffer=isBufferBrowser;function Ce(be){return Object.prototype.toString.call(be)}e.log=function(){},e.inherits=inherits_browser.exports,e._extend=function(be,ke){if(!ke||!re(ke))return be;for(var Ee=Object.keys(ke),He=Ee.length;He--;)be[Ee[He]]=ke[Ee[He]];return be};function $e(be,ke){return Object.prototype.hasOwnProperty.call(be,ke)}})(util$1);var isWindows=process.platform==="win32",util=util$1;function normalizeArray(e,r){for(var l=[],g=0;g<e.length;g++){var x=e[g];!x||x==="."||(x===".."?l.length&&l[l.length-1]!==".."?l.pop():r&&l.push(".."):l.push(x))}return l}function trimArray(e){for(var r=e.length-1,l=0;l<=r&&!e[l];l++);for(var g=r;g>=0&&!e[g];g--);return l===0&&g===r?e:l>g?[]:e.slice(l,g+1)}var splitDeviceRe=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,splitTailRe=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,win32={};function win32SplitPath(e){var r=splitDeviceRe.exec(e),l=(r[1]||"")+(r[2]||""),g=r[3]||"",x=splitTailRe.exec(g),C=x[1],u=x[2],f=x[3];return[l,C,u,f]}function win32StatPath(e){var r=splitDeviceRe.exec(e),l=r[1]||"",g=!!l&&l[1]!==":";return{device:l,isUnc:g,isAbsolute:g||!!r[2],tail:r[3]}}function normalizeUNCRoot(e){return"\\\\"+e.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}win32.resolve=function(){for(var e="",r="",l=!1,g=arguments.length-1;g>=-1;g--){var x;if(g>=0?x=arguments[g]:e?(x=process.env["="+e],(!x||x.substr(0,3).toLowerCase()!==e.toLowerCase()+"\\")&&(x=e+"\\")):x=process.cwd(),util.isString(x)){if(!x)continue}else throw new TypeError("Arguments to path.resolve must be strings");var C=win32StatPath(x),u=C.device,f=C.isUnc,n=C.isAbsolute,S=C.tail;if(!(u&&e&&u.toLowerCase()!==e.toLowerCase())&&(e||(e=u),l||(r=S+"\\"+r,l=n),e&&l))break}return f&&(e=normalizeUNCRoot(e)),r=normalizeArray(r.split(/[\\\/]+/),!l).join("\\"),e+(l?"\\":"")+r||"."};win32.normalize=function(e){var r=win32StatPath(e),l=r.device,g=r.isUnc,x=r.isAbsolute,C=r.tail,u=/[\\\/]$/.test(C);return C=normalizeArray(C.split(/[\\\/]+/),!x).join("\\"),!C&&!x&&(C="."),C&&u&&(C+="\\"),g&&(l=normalizeUNCRoot(l)),l+(x?"\\":"")+C};win32.isAbsolute=function(e){return win32StatPath(e).isAbsolute};win32.join=function(){for(var e=[],r=0;r<arguments.length;r++){var l=arguments[r];if(!util.isString(l))throw new TypeError("Arguments to path.join must be strings");l&&e.push(l)}var g=e.join("\\");return/^[\\\/]{2}[^\\\/]/.test(e[0])||(g=g.replace(/^[\\\/]{2,}/,"\\")),win32.normalize(g)};win32.relative=function(e,r){e=win32.resolve(e),r=win32.resolve(r);for(var l=e.toLowerCase(),g=r.toLowerCase(),x=trimArray(r.split("\\")),C=trimArray(l.split("\\")),u=trimArray(g.split("\\")),f=Math.min(C.length,u.length),n=f,S=0;S<f;S++)if(C[S]!==u[S]){n=S;break}if(n==0)return r;for(var k=[],S=n;S<C.length;S++)k.push("..");return k=k.concat(x.slice(n)),k.join("\\")};win32._makeLong=function(e){if(!util.isString(e))return e;if(!e)return"";var r=win32.resolve(e);return/^[a-zA-Z]\:\\/.test(r)?"\\\\?\\"+r:/^\\\\[^?.]/.test(r)?"\\\\?\\UNC\\"+r.substring(2):e};win32.dirname=function(e){var r=win32SplitPath(e),l=r[0],g=r[1];return!l&&!g?".":(g&&(g=g.substr(0,g.length-1)),l+g)};win32.basename=function(e,r){var l=win32SplitPath(e)[2];return r&&l.substr(-1*r.length)===r&&(l=l.substr(0,l.length-r.length)),l};win32.extname=function(e){return win32SplitPath(e)[3]};win32.format=function(e){if(!util.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var r=e.root||"";if(!util.isString(r))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);var l=e.dir,g=e.base||"";return l?l[l.length-1]===win32.sep?l+g:l+win32.sep+g:g};win32.parse=function(e){if(!util.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var r=win32SplitPath(e);if(!r||r.length!==4)throw new TypeError("Invalid path '"+e+"'");return{root:r[0],dir:r[0]+r[1].slice(0,-1),base:r[2],ext:r[3],name:r[2].slice(0,r[2].length-r[3].length)}};win32.sep="\\";win32.delimiter=";";var splitPathRe=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,posix={};function posixSplitPath(e){return splitPathRe.exec(e).slice(1)}posix.resolve=function(){for(var e="",r=!1,l=arguments.length-1;l>=-1&&!r;l--){var g=l>=0?arguments[l]:process.cwd();if(util.isString(g)){if(!g)continue}else throw new TypeError("Arguments to path.resolve must be strings");e=g+"/"+e,r=g[0]==="/"}return e=normalizeArray(e.split("/"),!r).join("/"),(r?"/":"")+e||"."};posix.normalize=function(e){var r=posix.isAbsolute(e),l=e&&e[e.length-1]==="/";return e=normalizeArray(e.split("/"),!r).join("/"),!e&&!r&&(e="."),e&&l&&(e+="/"),(r?"/":"")+e};posix.isAbsolute=function(e){return e.charAt(0)==="/"};posix.join=function(){for(var e="",r=0;r<arguments.length;r++){var l=arguments[r];if(!util.isString(l))throw new TypeError("Arguments to path.join must be strings");l&&(e?e+="/"+l:e+=l)}return posix.normalize(e)};posix.relative=function(e,r){e=posix.resolve(e).substr(1),r=posix.resolve(r).substr(1);for(var l=trimArray(e.split("/")),g=trimArray(r.split("/")),x=Math.min(l.length,g.length),C=x,u=0;u<x;u++)if(l[u]!==g[u]){C=u;break}for(var f=[],u=C;u<l.length;u++)f.push("..");return f=f.concat(g.slice(C)),f.join("/")};posix._makeLong=function(e){return e};posix.dirname=function(e){var r=posixSplitPath(e),l=r[0],g=r[1];return!l&&!g?".":(g&&(g=g.substr(0,g.length-1)),l+g)};posix.basename=function(e,r){var l=posixSplitPath(e)[2];return r&&l.substr(-1*r.length)===r&&(l=l.substr(0,l.length-r.length)),l};posix.extname=function(e){return posixSplitPath(e)[3]};posix.format=function(e){if(!util.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var r=e.root||"";if(!util.isString(r))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);var l=e.dir?e.dir+posix.sep:"",g=e.base||"";return l+g};posix.parse=function(e){if(!util.isString(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var r=posixSplitPath(e);if(!r||r.length!==4)throw new TypeError("Invalid path '"+e+"'");return r[1]=r[1]||"",r[2]=r[2]||"",r[3]=r[3]||"",{root:r[0],dir:r[0]+r[1].slice(0,-1),base:r[2],ext:r[3],name:r[2].slice(0,r[2].length-r[3].length)}};posix.sep="/";posix.delimiter=":";isWindows?path$1.exports=win32:path$1.exports=posix;path$1.exports.posix=posix;path$1.exports.win32=win32;var path=path$1.exports,iconDefaults$1=Object.freeze({left:0,top:0,width:16,height:16,rotate:0,vFlip:!1,hFlip:!1});function fullIcon$1(e){return gi(gi({},iconDefaults$1),e)}var defaults$1=Object.freeze({inline:!1,width:null,height:null,hAlign:"center",vAlign:"middle",slice:!1,hFlip:!1,vFlip:!1,rotate:0});function mergeCustomisations$1(e,r){const l={};for(const g in e){const x=g;if(l[x]=e[x],r[x]===void 0)continue;const C=r[x];switch(x){case"inline":case"slice":typeof C=="boolean"&&(l[x]=C);break;case"hFlip":case"vFlip":C===!0&&(l[x]=!l[x]);break;case"hAlign":case"vAlign":typeof C=="string"&&C!==""&&(l[x]=C);break;case"width":case"height":(typeof C=="string"&&C!==""||typeof C=="number"&&C||C===null)&&(l[x]=C);break;case"rotate":typeof C=="number"&&(l[x]+=C);break}}return l}var separator$1=/[\s,]+/;function flipFromString$1(e,r){r.split(separator$1).forEach(l=>{switch(l.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function alignmentFromString$1(e,r){r.split(separator$1).forEach(l=>{const g=l.trim();switch(g){case"left":case"center":case"right":e.hAlign=g;break;case"top":case"middle":case"bottom":e.vAlign=g;break;case"slice":case"crop":e.slice=!0;break;case"meet":e.slice=!1}})}function rotateFromString$1(e,r=0){const l=e.replace(/^-?[0-9.]*/,"");function g(x){for(;x<0;)x+=4;return x%4}if(l===""){const x=parseInt(e);return isNaN(x)?0:g(x)}else if(l!==e){let x=0;switch(l){case"%":x=25;break;case"deg":x=90}if(x){let C=parseFloat(e.slice(0,e.length-l.length));return isNaN(C)?0:(C=C/x,C%1==0?g(C):0)}}return r}var unitsSplit$1=/(-?[0-9.]*[0-9]+[0-9.]*)/g,unitsTest$1=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize$1(e,r,l){if(r===1)return e;if(l=l===void 0?100:l,typeof e=="number")return Math.ceil(e*r*l)/l;if(typeof e!="string")return e;const g=e.split(unitsSplit$1);if(g===null||!g.length)return e;const x=[];let C=g.shift(),u=unitsTest$1.test(C);for(;;){if(u){const f=parseFloat(C);isNaN(f)?x.push(C):x.push(Math.ceil(f*r*l)/l)}else x.push(C);if(C=g.shift(),C===void 0)return x.join("");u=!u}}function preserveAspectRatio$1(e){let r="";switch(e.hAlign){case"left":r+="xMin";break;case"right":r+="xMax";break;default:r+="xMid"}switch(e.vAlign){case"top":r+="YMin";break;case"bottom":r+="YMax";break;default:r+="YMid"}return r+=e.slice?" slice":" meet",r}function iconToSVG$1(e,r){const l={left:e.left,top:e.top,width:e.width,height:e.height};let g=e.body;[e,r].forEach(f=>{const n=[],S=f.hFlip,k=f.vFlip;let M=f.rotate;S?k?M+=2:(n.push("translate("+(l.width+l.left)+" "+(0-l.top)+")"),n.push("scale(-1 1)"),l.top=l.left=0):k&&(n.push("translate("+(0-l.left)+" "+(l.height+l.top)+")"),n.push("scale(1 -1)"),l.top=l.left=0);let P;switch(M<0&&(M-=Math.floor(M/4)*4),M=M%4,M){case 1:P=l.height/2+l.top,n.unshift("rotate(90 "+P+" "+P+")");break;case 2:n.unshift("rotate(180 "+(l.width/2+l.left)+" "+(l.height/2+l.top)+")");break;case 3:P=l.width/2+l.left,n.unshift("rotate(-90 "+P+" "+P+")");break}M%2==1&&((l.left!==0||l.top!==0)&&(P=l.left,l.left=l.top,l.top=P),l.width!==l.height&&(P=l.width,l.width=l.height,l.height=P)),n.length&&(g='<g transform="'+n.join(" ")+'">'+g+"</g>")});let x,C;r.width===null&&r.height===null?(C="1em",x=calculateSize$1(C,l.width/l.height)):r.width!==null&&r.height!==null?(x=r.width,C=r.height):r.height!==null?(C=r.height,x=calculateSize$1(C,l.width/l.height)):(x=r.width,C=calculateSize$1(x,l.height/l.width)),x==="auto"&&(x=l.width),C==="auto"&&(C=l.height),x=typeof x=="string"?x:x+"",C=typeof C=="string"?C:C+"";const u={attributes:{width:x,height:C,preserveAspectRatio:preserveAspectRatio$1(r),viewBox:l.left+" "+l.top+" "+l.width+" "+l.height},body:g};return r.inline&&(u.inline=!0),u}var regex$1=/\sid="(\S+)"/g,randomPrefix$1="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16),counter$1=0;function replaceIDs$1(e,r=randomPrefix$1){const l=[];let g;for(;g=regex$1.exec(e);)l.push(g[1]);return l.length&&l.forEach(x=>{const C=typeof r=="function"?r(x):r+counter$1++,u=x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+u+')([")]|\\.[a-z])',"g"),"$1"+C+"$3")}),e}const svgDefaults$1={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"};let customisationAliases$1={};["horizontal","vertical"].forEach(e=>{["Align","Flip"].forEach(r=>{const g={attr:e.slice(0,1)+r,boolean:r==="Flip"};customisationAliases$1[e+"-"+r.toLowerCase()]=g,customisationAliases$1[e.slice(0,1)+"-"+r.toLowerCase()]=g,customisationAliases$1[e+r]=g})});const render$1=(e,r)=>{const l=mergeCustomisations$1(defaults$1,r),g=gi({},svgDefaults$1);let x=typeof r.style=="object"&&!(r.style instanceof Array)?gi({},r.style):{};for(let n in r){const S=r[n];if(S!==void 0)switch(n){case"icon":case"style":case"onLoad":break;case"inline":case"hFlip":case"vFlip":l[n]=S===!0||S==="true"||S===1;break;case"flip":typeof S=="string"&&flipFromString$1(l,S);break;case"align":typeof S=="string"&&alignmentFromString$1(l,S);break;case"color":x.color=S;break;case"rotate":typeof S=="string"?l[n]=rotateFromString$1(S):typeof S=="number"&&(l[n]=S);break;case"ariaHidden":case"aria-hidden":S!==!0&&S!=="true"&&delete g["aria-hidden"];break;default:customisationAliases$1[n]!==void 0?customisationAliases$1[n].boolean&&(S===!0||S==="true"||S===1)?l[customisationAliases$1[n].attr]=!0:!customisationAliases$1[n].boolean&&typeof S=="string"&&S!==""&&(l[customisationAliases$1[n].attr]=S):defaults$1[n]===void 0&&(g[n]=S)}}const C=iconToSVG$1(e,l);for(let n in C.attributes)g[n]=C.attributes[n];C.inline&&x.verticalAlign===void 0&&x["vertical-align"]===void 0&&(x.verticalAlign="-0.125em");let u=0,f=r.id;return typeof f=="string"&&(f=f.replace(/-/g,"_")),g.innerHTML=replaceIDs$1(C.body,f?()=>f+"ID"+u++:"iconifyVue"),Object.keys(x).length>0&&(g.style=x),h$1("svg",g)},storage$2=Object.create(null);function addIcon$1(e,r){storage$2[e]=fullIcon$1(r)}const Icon$2=defineComponent({inheritAttrs:!1,render(){const e=this.$attrs,r=typeof e.icon=="string"?storage$2[e.icon]:typeof e.icon=="object"?fullIcon$1(e.icon):null;return r===null||typeof r!="object"||typeof r.body!="string"?this.$slots.default?this.$slots.default():null:render$1(r,e)}});var data$s={body:'<path fill="currentColor" d="M406.656 706.944L195.84 496.256a32 32 0 1 0-45.248 45.248l256 256l512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"/>',width:1024,height:1024},data$r={body:'<path fill="currentColor" d="M160 448a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V160.064a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32V416a32 32 0 0 1-32 32H608zM160 896a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H160zm448 0a32 32 0 0 1-32-32V608a32 32 0 0 1 32-32h255.936a32 32 0 0 1 32 32v256a32 32 0 0 1-32 32H608z"/>',width:1024,height:1024},data$q={body:'<path fill="currentColor" d="M512 128L128 447.936V896h255.936V640H640v256h255.936V447.936z"/>',width:1024,height:1024},data$p={body:'<path fill="currentColor" d="M224 160a64 64 0 0 0-64 64v576a64 64 0 0 0 64 64h576a64 64 0 0 0 64-64V224a64 64 0 0 0-64-64H224zm0-64h576a128 128 0 0 1 128 128v576a128 128 0 0 1-128 128H224A128 128 0 0 1 96 800V224A128 128 0 0 1 224 96z"/><path fill="currentColor" d="M384 416a64 64 0 1 0 0-128a64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256a128 128 0 0 1 0 256z"/><path fill="currentColor" d="M480 320h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32zm160 416a64 64 0 1 0 0-128a64 64 0 0 0 0 128zm0 64a128 128 0 1 1 0-256a128 128 0 0 1 0 256z"/><path fill="currentColor" d="M288 640h256q32 0 32 32t-32 32H288q-32 0-32-32t32-32z"/>',width:1024,height:1024},data$o={body:'<path fill="currentColor" d="M832 512a32 32 0 1 1 64 0v352a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h352a32 32 0 0 1 0 64H192v640h640V512z"/><path fill="currentColor" d="M469.952 554.24l52.8-7.552L847.104 222.4a32 32 0 1 0-45.248-45.248L477.44 501.44l-7.552 52.8zm422.4-422.4a96 96 0 0 1 0 135.808l-331.84 331.84a32 32 0 0 1-18.112 9.088L436.8 623.68a32 32 0 0 1-36.224-36.224l15.104-105.6a32 32 0 0 1 9.024-18.112l331.904-331.84a96 96 0 0 1 135.744 0z"/>',width:1024,height:1024},data$n={body:'<path fill="currentColor" d="M600.704 64a32 32 0 0 1 30.464 22.208l35.2 109.376c14.784 7.232 28.928 15.36 42.432 24.512l112.384-24.192a32 32 0 0 1 34.432 15.36L944.32 364.8a32 32 0 0 1-4.032 37.504l-77.12 85.12a357.12 357.12 0 0 1 0 49.024l77.12 85.248a32 32 0 0 1 4.032 37.504l-88.704 153.6a32 32 0 0 1-34.432 15.296L708.8 803.904c-13.44 9.088-27.648 17.28-42.368 24.512l-35.264 109.376A32 32 0 0 1 600.704 960H423.296a32 32 0 0 1-30.464-22.208L357.696 828.48a351.616 351.616 0 0 1-42.56-24.64l-112.32 24.256a32 32 0 0 1-34.432-15.36L79.68 659.2a32 32 0 0 1 4.032-37.504l77.12-85.248a357.12 357.12 0 0 1 0-48.896l-77.12-85.248A32 32 0 0 1 79.68 364.8l88.704-153.6a32 32 0 0 1 34.432-15.296l112.32 24.256c13.568-9.152 27.776-17.408 42.56-24.64l35.2-109.312A32 32 0 0 1 423.232 64H600.64zm-23.424 64H446.72l-36.352 113.088l-24.512 11.968a294.113 294.113 0 0 0-34.816 20.096l-22.656 15.36l-116.224-25.088l-65.28 113.152l79.68 88.192l-1.92 27.136a293.12 293.12 0 0 0 0 40.192l1.92 27.136l-79.808 88.192l65.344 113.152l116.224-25.024l22.656 15.296a294.113 294.113 0 0 0 34.816 20.096l24.512 11.968L446.72 896h130.688l36.48-113.152l24.448-11.904a288.282 288.282 0 0 0 34.752-20.096l22.592-15.296l116.288 25.024l65.28-113.152l-79.744-88.192l1.92-27.136a293.12 293.12 0 0 0 0-40.256l-1.92-27.136l79.808-88.128l-65.344-113.152l-116.288 24.96l-22.592-15.232a287.616 287.616 0 0 0-34.752-20.096l-24.448-11.904L577.344 128zM512 320a192 192 0 1 1 0 384a192 192 0 0 1 0-384zm0 64a128 128 0 1 0 0 256a128 128 0 0 0 0-256z"/>',width:1024,height:1024},data$m={body:'<path fill="currentColor" d="M513.28 448a64 64 0 1 1 76.544 49.728A96 96 0 0 0 768 448h64a160 160 0 0 1-320 0h1.28zm-126.976-29.696a256 256 0 1 0 43.52-180.48A256 256 0 0 1 832 448h-64a192 192 0 0 0-381.696-29.696zm105.664 249.472L285.696 874.048a96 96 0 0 1-135.68-135.744l206.208-206.272a320 320 0 1 1 135.744 135.744zm-54.464-36.032a321.92 321.92 0 0 1-45.248-45.248L195.2 783.552a32 32 0 1 0 45.248 45.248l197.056-197.12z"/>',width:1024,height:1024},data$l={body:'<path fill="currentColor" d="M715.648 625.152L670.4 579.904l90.496-90.56c75.008-74.944 85.12-186.368 22.656-248.896c-62.528-62.464-173.952-52.352-248.96 22.656L444.16 353.6l-45.248-45.248l90.496-90.496c100.032-99.968 251.968-110.08 339.456-22.656c87.488 87.488 77.312 239.424-22.656 339.456l-90.496 90.496zm-90.496 90.496l-90.496 90.496C434.624 906.112 282.688 916.224 195.2 828.8c-87.488-87.488-77.312-239.424 22.656-339.456l90.496-90.496l45.248 45.248l-90.496 90.56c-75.008 74.944-85.12 186.368-22.656 248.896c62.528 62.464 173.952 52.352 248.96-22.656l90.496-90.496l45.248 45.248zm0-362.048l45.248 45.248L398.848 670.4L353.6 625.152L625.152 353.6z"/>',width:1024,height:1024},data$k={body:'<path fill="currentColor" d="M249.6 417.088l319.744 43.072l39.168 310.272L845.12 178.88L249.6 417.088zm-129.024 47.168a32 32 0 0 1-7.68-61.44l777.792-311.04a32 32 0 0 1 41.6 41.6l-310.336 775.68a32 32 0 0 1-61.44-7.808L512 516.992l-391.424-52.736z"/>',width:1024,height:1024},data$j={body:'<path fill="currentColor" d="M416 896V128h192v768H416zm-288 0V448h192v448H128zm576 0V320h192v576H704z"/>',width:1024,height:1024},data$i={body:'<path fill="currentColor" d="M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384a384 384 0 0 1-384-384a384 384 0 0 1 643.712-282.88z"/>',width:1024,height:1024},data$h={body:'<path fill="currentColor" d="M831.872 340.864L512 652.672L192.128 340.864a30.592 30.592 0 0 0-42.752 0a29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728a30.592 30.592 0 0 0-42.752 0z"/>',width:1024,height:1024},data$g={body:'<path fill="currentColor" d="M764.288 214.592L512 466.88L259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512L214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"/>',width:1024,height:1024},data$f={body:'<path fill="currentColor" d="M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504L738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512L828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496L285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512L195.2 285.696a64 64 0 0 1 0-90.496z"/>',width:1024,height:1024},data$e={body:'<path fill="currentColor" d="M512 64a64 64 0 0 1 64 64v64H448v-64a64 64 0 0 1 64-64z"/><path fill="currentColor" d="M256 768h512V448a256 256 0 1 0-512 0v320zm256-640a320 320 0 0 1 320 320v384H192V448a320 320 0 0 1 320-320z"/><path fill="currentColor" d="M96 768h832q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm352 128h128a64 64 0 0 1-128 0z"/>',width:1024,height:1024},data$d={body:'<path fill="currentColor" d="M640 608h-64V416h64v192zm0 160v160a32 32 0 0 1-32 32H416a32 32 0 0 1-32-32V768h64v128h128V768h64zM384 608V416h64v192h-64zm256-352h-64V128H448v128h-64V96a32 32 0 0 1 32-32h192a32 32 0 0 1 32 32v160z"/><path fill="currentColor" d="M220.8 256l-71.232 80l71.168 80H768V256H220.8zm-14.4-64H800a32 32 0 0 1 32 32v224a32 32 0 0 1-32 32H206.4a32 32 0 0 1-23.936-10.752l-99.584-112a32 32 0 0 1 0-42.496l99.584-112A32 32 0 0 1 206.4 192zm678.784 496l-71.104 80H266.816V608h547.2l71.168 80zm-56.768-144H234.88a32 32 0 0 0-32 32v224a32 32 0 0 0 32 32h593.6a32 32 0 0 0 23.936-10.752l99.584-112a32 32 0 0 0 0-42.496l-99.584-112A32 32 0 0 0 828.48 544z"/>',width:1024,height:1024},data$c={body:'<path fill="currentColor" d="M512 512a192 192 0 1 0 0-384a192 192 0 0 0 0 384zm0 64a256 256 0 1 1 0-512a256 256 0 0 1 0 512zm320 320v-96a96 96 0 0 0-96-96H288a96 96 0 0 0-96 96v96a32 32 0 1 1-64 0v-96a160 160 0 0 1 160-160h448a160 160 0 0 1 160 160v96a32 32 0 1 1-64 0z"/>',width:1024,height:1024},data$b={body:'<path fill="currentColor" d="M224 768v96.064a64 64 0 0 0 64 64h448a64 64 0 0 0 64-64V768H224zm0-64h576V160a64 64 0 0 0-64-64H288a64 64 0 0 0-64 64v544zm32 288a96 96 0 0 1-96-96V128a96 96 0 0 1 96-96h512a96 96 0 0 1 96 96v768a96 96 0 0 1-96 96H256zm304-144a48 48 0 1 1-96 0a48 48 0 0 1 96 0z"/>',width:1024,height:1024},data$a={body:'<path fill="currentColor" d="M800 416a288 288 0 1 0-576 0c0 118.144 94.528 272.128 288 456.576C705.472 688.128 800 534.144 800 416zM512 960C277.312 746.688 160 565.312 160 416a352 352 0 0 1 704 0c0 149.312-117.312 330.688-352 544z"/><path fill="currentColor" d="M512 512a96 96 0 1 0 0-192a96 96 0 0 0 0 192zm0 64a160 160 0 1 1 0-320a160 160 0 0 1 0 320z"/>',width:1024,height:1024},data$9={body:'<path fill="currentColor" d="M192 128v768h640V128H192zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32zm160 448h384v64H320v-64zm0-192h192v64H320v-64zm0 384h384v64H320v-64z"/>',width:1024,height:1024},data$8={body:'<path fill="currentColor" d="M192 128v704h384V128H192zm-32-64h448a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"/><path fill="currentColor" d="M256 256h256v64H256v-64zm0 192h256v64H256v-64zm0 192h256v64H256v-64zm384-128h128v64H640v-64zm0 128h128v64H640v-64zM64 832h896v64H64v-64z"/><path fill="currentColor" d="M640 384v448h192V384H640zm-32-64h256a32 32 0 0 1 32 32v512a32 32 0 0 1-32 32H608a32 32 0 0 1-32-32V352a32 32 0 0 1 32-32z"/>',width:1024,height:1024},data$7={body:'<path fill="currentColor" d="M192 128v768h640V128H192zm-32-64h704a32 32 0 0 1 32 32v832a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32z"/><path fill="currentColor" d="M672 128h64v768h-64zM96 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32zm0 192h128q32 0 32 32t-32 32H96q-32 0-32-32t32-32z"/>',width:1024,height:1024},data$6={body:'<path d="M13.172 12l-4.95-4.95l1.414-1.414L16 12l-6.364 6.364l-1.414-1.414z" fill="currentColor"/>',width:24,height:24},data$5={body:'<path d="M10.828 12l4.95 4.95l-1.414 1.414L8 12l6.364-6.364l1.414 1.414z" fill="currentColor"/>',width:24,height:24},data$4={body:'<path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2a9.985 9.985 0 0 1 8 4h-2.71a8 8 0 1 0 .001 12h2.71A9.985 9.985 0 0 1 12 22zm7-6v-3h-8v-2h8V8l5 4l-5 4z" fill="currentColor"/>',width:24,height:24},data$3={body:'<path d="M10 2a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H8v2h5V9a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-1H8v6h5v-1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-1H7a1 1 0 0 1-1-1V8H4a1 1 0 0 1-1-1V3a1 1 0 0 1 1-1h6zm9 16h-4v2h4v-2zm0-8h-4v2h4v-2zM9 4H5v2h4V4z" fill="currentColor"/>',width:24,height:24},data$2={body:'<path d="M1280 1271q0 109-62.5 187t-150.5 78H213q-88 0-150.5-78T0 1271q0-85 8.5-160.5t31.5-152t58.5-131t94-89T327 704q131 128 313 128t313-128q76 0 134.5 34.5t94 89t58.5 131t31.5 152t8.5 160.5zm-256-887q0 159-112.5 271.5T640 768T368.5 655.5T256 384t112.5-271.5T640 0t271.5 112.5T1024 384z" fill="currentColor"/>',width:1280,height:1536},data$1={body:'<path d="M320 640h512V448q0-106-75-181t-181-75t-181 75t-75 181v192zm832 96v576q0 40-28 68t-68 28H96q-40 0-68-28t-28-68V736q0-40 28-68t68-28h32V448q0-184 132-316T576 0t316 132t132 316v192h32q40 0 68 28t28 68z" fill="currentColor"/>',width:1152,height:1408},data={body:'<path d="M640 1184q0 4 1 20t.5 26.5t-3 23.5t-10 19.5t-20.5 6.5H288q-119 0-203.5-84.5T0 992V288Q0 169 84.5 84.5T288 0h320q13 0 22.5 9.5T640 32q0 4 1 20t.5 26.5t-3 23.5t-10 19.5T608 128H288q-66 0-113 47t-47 113v704q0 66 47 113t113 47h312l11.5 1l11.5 3l8 5.5l7 9l2 13.5zm928-544q0 26-19 45l-544 544q-19 19-45 19t-45-19t-19-45V896H448q-26 0-45-19t-19-45V448q0-26 19-45t45-19h448V96q0-26 19-45t45-19t45 19l544 544q19 19 19 45z" fill="currentColor"/>',width:1568,height:1280};addIcon$1("check",data$s);addIcon$1("menu",data$r);addIcon$1("home-filled",data$q);addIcon$1("set-up",data$p);addIcon$1("edit",data$o);addIcon$1("setting",data$n);addIcon$1("lollipop",data$m);addIcon$1("link",data$l);addIcon$1("position",data$k);addIcon$1("histogram",data$j);addIcon$1("refresh-right",data$i);addIcon$1("arrow-down",data$h);addIcon$1("close",data$g);addIcon$1("close-bold",data$f);addIcon$1("bell",data$e);addIcon$1("guide",data$d);addIcon$1("user",data$c);addIcon$1("iphone",data$b);addIcon$1("location",data$a);addIcon$1("tickets",data$9);addIcon$1("office-building",data$8);addIcon$1("notebook",data$7);addIcon$1("arrow-right-s-line",data$6);addIcon$1("arrow-left-s-line",data$5);addIcon$1("logout-circle-r-line",data$4);addIcon$1("node-tree",data$3);addIcon$1("fa-user",data$2);addIcon$1("fa-lock",data$1);addIcon$1("fa-sign-out",data);var iconifyIconOffline=defineComponent({name:"IconifyIcon",components:{IconifyIcon:Icon$2},props:{icon:{type:String,default:""}},render(){const e=this.$attrs;return h$1(Icon$2,gi({icon:`${this.icon}`},e),{default:()=>[]})}}),matchName=/^[a-z0-9]+(-[a-z0-9]+)*$/,iconDefaults=Object.freeze({left:0,top:0,width:16,height:16,rotate:0,vFlip:!1,hFlip:!1});function fullIcon(e){return gi(gi({},iconDefaults),e)}var stringToIcon=(e,r,l,g="")=>{const x=e.split(":");if(e.slice(0,1)==="@"){if(x.length<2||x.length>3)return null;g=x.shift().slice(1)}if(x.length>3||!x.length)return null;if(x.length>1){const f=x.pop(),n=x.pop(),S={provider:x.length>0?x[0]:g,prefix:n,name:f};return r&&!validateIcon(S)?null:S}const C=x[0],u=C.split("-");if(u.length>1){const f={provider:g,prefix:u.shift(),name:u.join("-")};return r&&!validateIcon(f)?null:f}if(l&&g===""){const f={provider:g,prefix:"",name:C};return r&&!validateIcon(f,l)?null:f}return null},validateIcon=(e,r)=>e?!!((e.provider===""||e.provider.match(matchName))&&(r&&e.prefix===""||e.prefix.match(matchName))&&e.name.match(matchName)):!1;function mergeIconData(e,r){const l=gi({},e);for(const g in iconDefaults){const x=g;if(r[x]!==void 0){const C=r[x];if(l[x]===void 0){l[x]=C;continue}switch(x){case"rotate":l[x]=(l[x]+C)%4;break;case"hFlip":case"vFlip":l[x]=C!==l[x];break;default:l[x]=C}}}return l}function getIconData$1(e,r,l=!1){function g(C,u){var f,n,S,k;if(e.icons[C]!==void 0)return Object.assign({},e.icons[C]);if(u>5)return null;if(((f=e.aliases)==null?void 0:f[C])!==void 0){const M=(n=e.aliases)==null?void 0:n[C],P=g(M.parent,u+1);return P&&mergeIconData(P,M)}return u===0&&((S=e.chars)==null?void 0:S[C])!==void 0?g((k=e.chars)==null?void 0:k[C],u+1):null}const x=g(r,0);if(x)for(const C in iconDefaults)x[C]===void 0&&e[C]!==void 0&&(x[C]=e[C]);return x&&l?fullIcon(x):x}var matchChar=/^[a-f0-9]+(-[a-f0-9]+)*$/;function validateIconProps(e,r){for(const l in e){const g=l,C=typeof e[g];if(C==="undefined"){delete e[g];continue}switch(l){case"body":case"parent":if(C!=="string")return l;break;case"hFlip":case"vFlip":case"hidden":if(C!=="boolean")if(r)delete e[g];else return l;break;case"width":case"height":case"left":case"top":case"rotate":case"inlineHeight":case"inlineTop":case"verticalAlign":if(C!=="number")if(r)delete e[g];else return l;break;default:if(C==="object")if(r)delete e[g];else return l}}return null}function validateIconSet(e,r){const l=!!(r==null?void 0:r.fix);if(typeof e!="object"||e===null||typeof e.icons!="object"||!e.icons)throw new Error("Bad icon set");const g=e;if(typeof(r==null?void 0:r.prefix)=="string")g.prefix=r.prefix;else if(typeof g.prefix!="string"||!g.prefix.match(matchName))throw new Error("Invalid prefix");if(typeof(r==null?void 0:r.provider)=="string")g.provider=r.provider;else if(g.provider!==void 0){const C=g.provider;if(typeof C!="string"||C!==""&&!C.match(matchName))if(l)delete g.provider;else throw new Error("Invalid provider")}const x=g.icons;if(Object.keys(x).forEach(C=>{if(!C.match(matchName)){if(l){delete x[C];return}throw new Error(`Invalid icon name: "${C}"`)}const u=x[C];if(typeof u!="object"||u===null||typeof u.body!="string"){if(l){delete x[C];return}throw new Error(`Invalid icon: "${C}"`)}const f=typeof u.parent=="string"?"parent":validateIconProps(u,l);if(f!==null){if(l){delete x[C];return}throw new Error(`Invalid property "${f}" in icon "${C}"`)}}),!Object.keys(g.icons).length)throw new Error("Icon set is empty");if(g.aliases!==void 0&&(typeof g.aliases!="object"||g.aliases===null))if(l)delete g.aliases;else throw new Error("Invalid aliases list");if(typeof g.aliases=="object"){let C=function(S,k){if(f.has(S))return!n.has(S);const M=u[S];if(k>5||typeof M!="object"||M===null||typeof M.parent!="string"||!S.match(matchName)){if(l)return delete u[S],n.add(S),!1;throw new Error(`Invalid icon alias: "${S}"`)}const P=M.parent;if(g.icons[P]===void 0&&(u[P]===void 0||!C(P,k+1))){if(l)return delete u[S],n.add(S),!1;throw new Error(`Missing parent icon for alias "${S}`)}l&&M.body!==void 0&&delete M.body;const $=M.body!==void 0?"body":validateIconProps(M,l);if($!==null){if(l)return delete u[S],n.add(S),!1;throw new Error(`Invalid property "${$}" in alias "${S}"`)}return f.add(S),!0};const u=g.aliases,f=new Set,n=new Set;Object.keys(u).forEach(S=>{C(S,0)}),l&&!Object.keys(g.aliases).length&&delete g.aliases}if(Object.keys(iconDefaults).forEach(C=>{const u=typeof iconDefaults[C],f=typeof g[C];if(f!=="undefined"&&f!==u)throw new Error(`Invalid value type for "${C}"`)}),g.chars!==void 0&&(typeof g.chars!="object"||g.chars===null))if(l)delete g.chars;else throw new Error("Invalid characters map");if(typeof g.chars=="object"){const C=g.chars;Object.keys(C).forEach(u=>{var f;if(!u.match(matchChar)||typeof C[u]!="string"){if(l){delete C[u];return}throw new Error(`Invalid character "${u}"`)}const n=C[u];if(g.icons[n]===void 0&&((f=g.aliases)==null?void 0:f[n])===void 0){if(l){delete C[u];return}throw new Error(`Character "${u}" points to missing icon "${n}"`)}}),l&&!Object.keys(g.chars).length&&delete g.chars}return g}function isVariation(e){for(const r in iconDefaults)if(e[r]!==void 0)return!0;return!1}function parseIconSet(e,r,l){l=l||{};const g=[];if(typeof e!="object"||typeof e.icons!="object")return g;const x=l.validate;if(x!==!1)try{validateIconSet(e,typeof x=="object"?x:{fix:!0})}catch{return g}e.not_found instanceof Array&&e.not_found.forEach(f=>{r(f,null),g.push(f)});const C=e.icons;Object.keys(C).forEach(f=>{const n=getIconData$1(e,f,!0);n&&(r(f,n),g.push(f))});const u=l.aliases||"all";if(u!=="none"&&typeof e.aliases=="object"){const f=e.aliases;Object.keys(f).forEach(n=>{if(u==="variations"&&isVariation(f[n]))return;const S=getIconData$1(e,n,!0);S&&(r(n,S),g.push(n))})}return g}var storageVersion=1,storage$1=Object.create(null);try{const e=window||self;(e==null?void 0:e._iconifyStorage.version)===storageVersion&&(storage$1=e._iconifyStorage.storage)}catch(e){}function newStorage(e,r){return{provider:e,prefix:r,icons:Object.create(null),missing:Object.create(null)}}function getStorage(e,r){storage$1[e]===void 0&&(storage$1[e]=Object.create(null));const l=storage$1[e];return l[r]===void 0&&(l[r]=newStorage(e,r)),l[r]}function addIconSet(e,r){const l=Date.now();return parseIconSet(r,(g,x)=>{x?e.icons[g]=x:e.missing[g]=l})}function addIconToStorage(e,r,l){try{if(typeof l.body=="string")return e.icons[r]=Object.freeze(fullIcon(l)),!0}catch{}return!1}function getIconFromStorage(e,r){const l=e.icons[r];return l===void 0?null:l}var simpleNames=!1;function allowSimpleNames(e){return typeof e=="boolean"&&(simpleNames=e),simpleNames}function getIconData(e){const r=typeof e=="string"?stringToIcon(e,!0,simpleNames):e;return r?getIconFromStorage(getStorage(r.provider,r.prefix),r.name):null}function addIcon(e,r){const l=stringToIcon(e,!0,simpleNames);if(!l)return!1;const g=getStorage(l.provider,l.prefix);return addIconToStorage(g,l.name,r)}function addCollection(e,r){if(typeof e!="object")return!1;if(typeof r!="string"&&(r=typeof e.provider=="string"?e.provider:""),simpleNames&&r===""&&(typeof e.prefix!="string"||e.prefix==="")){let g=!1;return parseIconSet(e,(x,C)=>{C&&addIcon(x,C)&&(g=!0)},{validate:{fix:!0,prefix:""}}),g}if(typeof e.prefix!="string"||!validateIcon({provider:r,prefix:e.prefix,name:"a"}))return!1;const l=getStorage(r,e.prefix);return!!addIconSet(l,e)}var defaults=Object.freeze({inline:!1,width:null,height:null,hAlign:"center",vAlign:"middle",slice:!1,hFlip:!1,vFlip:!1,rotate:0});function mergeCustomisations(e,r){const l={};for(const g in e){const x=g;if(l[x]=e[x],r[x]===void 0)continue;const C=r[x];switch(x){case"inline":case"slice":typeof C=="boolean"&&(l[x]=C);break;case"hFlip":case"vFlip":C===!0&&(l[x]=!l[x]);break;case"hAlign":case"vAlign":typeof C=="string"&&C!==""&&(l[x]=C);break;case"width":case"height":(typeof C=="string"&&C!==""||typeof C=="number"&&C||C===null)&&(l[x]=C);break;case"rotate":typeof C=="number"&&(l[x]+=C);break}}return l}var unitsSplit=/(-?[0-9.]*[0-9]+[0-9.]*)/g,unitsTest=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(e,r,l){if(r===1)return e;if(l=l===void 0?100:l,typeof e=="number")return Math.ceil(e*r*l)/l;if(typeof e!="string")return e;const g=e.split(unitsSplit);if(g===null||!g.length)return e;const x=[];let C=g.shift(),u=unitsTest.test(C);for(;;){if(u){const f=parseFloat(C);isNaN(f)?x.push(C):x.push(Math.ceil(f*r*l)/l)}else x.push(C);if(C=g.shift(),C===void 0)return x.join("");u=!u}}function preserveAspectRatio(e){let r="";switch(e.hAlign){case"left":r+="xMin";break;case"right":r+="xMax";break;default:r+="xMid"}switch(e.vAlign){case"top":r+="YMin";break;case"bottom":r+="YMax";break;default:r+="YMid"}return r+=e.slice?" slice":" meet",r}function iconToSVG(e,r){const l={left:e.left,top:e.top,width:e.width,height:e.height};let g=e.body;[e,r].forEach(f=>{const n=[],S=f.hFlip,k=f.vFlip;let M=f.rotate;S?k?M+=2:(n.push("translate("+(l.width+l.left)+" "+(0-l.top)+")"),n.push("scale(-1 1)"),l.top=l.left=0):k&&(n.push("translate("+(0-l.left)+" "+(l.height+l.top)+")"),n.push("scale(1 -1)"),l.top=l.left=0);let P;switch(M<0&&(M-=Math.floor(M/4)*4),M=M%4,M){case 1:P=l.height/2+l.top,n.unshift("rotate(90 "+P+" "+P+")");break;case 2:n.unshift("rotate(180 "+(l.width/2+l.left)+" "+(l.height/2+l.top)+")");break;case 3:P=l.width/2+l.left,n.unshift("rotate(-90 "+P+" "+P+")");break}M%2==1&&((l.left!==0||l.top!==0)&&(P=l.left,l.left=l.top,l.top=P),l.width!==l.height&&(P=l.width,l.width=l.height,l.height=P)),n.length&&(g='<g transform="'+n.join(" ")+'">'+g+"</g>")});let x,C;r.width===null&&r.height===null?(C="1em",x=calculateSize(C,l.width/l.height)):r.width!==null&&r.height!==null?(x=r.width,C=r.height):r.height!==null?(C=r.height,x=calculateSize(C,l.width/l.height)):(x=r.width,C=calculateSize(x,l.height/l.width)),x==="auto"&&(x=l.width),C==="auto"&&(C=l.height),x=typeof x=="string"?x:x+"",C=typeof C=="string"?C:C+"";const u={attributes:{width:x,height:C,preserveAspectRatio:preserveAspectRatio(r),viewBox:l.left+" "+l.top+" "+l.width+" "+l.height},body:g};return r.inline&&(u.inline=!0),u}var regex=/\sid="(\S+)"/g,randomPrefix="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16),counter=0;function replaceIDs(e,r=randomPrefix){const l=[];let g;for(;g=regex.exec(e);)l.push(g[1]);return l.length&&l.forEach(x=>{const C=typeof r=="function"?r(x):r+counter++,u=x.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+u+')([")]|\\.[a-z])',"g"),"$1"+C+"$3")}),e}var storage=Object.create(null);function setAPIModule(e,r){storage[e]=r}function getAPIModule(e){return storage[e]||storage[""]}function createAPIConfig(e){let r;if(typeof e.resources=="string")r=[e.resources];else if(r=e.resources,!(r instanceof Array)||!r.length)return null;return{resources:r,path:e.path===void 0?"/":e.path,maxURL:e.maxURL?e.maxURL:500,rotate:e.rotate?e.rotate:750,timeout:e.timeout?e.timeout:5e3,random:e.random===!0,index:e.index?e.index:0,dataAfterTimeout:e.dataAfterTimeout!==!1}}var configStorage=Object.create(null),fallBackAPISources=["https://api.simplesvg.com","https://api.unisvg.com"],fallBackAPI=[];for(;fallBackAPISources.length>0;)fallBackAPISources.length===1||Math.random()>.5?fallBackAPI.push(fallBackAPISources.shift()):fallBackAPI.push(fallBackAPISources.pop());configStorage[""]=createAPIConfig({resources:["https://api.iconify.design"].concat(fallBackAPI)});function addAPIProvider(e,r){const l=createAPIConfig(r);return l===null?!1:(configStorage[e]=l,!0)}function getAPIConfig(e){return configStorage[e]}var mergeParams=(e,r)=>{let l=e,g=l.indexOf("?")!==-1;function x(C){switch(typeof C){case"boolean":return C?"true":"false";case"number":return encodeURIComponent(C);case"string":return encodeURIComponent(C);default:throw new Error("Invalid parameter")}}return Object.keys(r).forEach(C=>{let u;try{u=x(r[C])}catch{return}l+=(g?"&":"?")+encodeURIComponent(C)+"="+u,g=!0}),l},maxLengthCache=Object.create(null),pathCache=Object.create(null),detectFetch=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}try{const r=String.fromCharCode(114)+String.fromCharCode(101);if(e=global[r+"qui"+r]("cross-fetch"),typeof e=="function")return e}catch{}return null},fetchModule=detectFetch();function calculateMaxLength(e,r){const l=getAPIConfig(e);if(!l)return 0;let g;if(!l.maxURL)g=0;else{let C=0;l.resources.forEach(f=>{C=Math.max(C,f.length)});const u=mergeParams(r+".json",{icons:""});g=l.maxURL-C-l.path.length-u.length}const x=e+":"+r;return pathCache[e]=l.path,maxLengthCache[x]=g,g}var prepare=(e,r,l)=>{const g=[];let x=maxLengthCache[r];x===void 0&&(x=calculateMaxLength(e,r));const C="icons";let u={type:C,provider:e,prefix:r,icons:[]},f=0;return l.forEach((n,S)=>{f+=n.length+1,f>=x&&S>0&&(g.push(u),u={type:C,provider:e,prefix:r,icons:[]},f=n.length),u.icons.push(n)}),g.push(u),g};function getPath(e){if(typeof e=="string"){if(pathCache[e]===void 0){const r=getAPIConfig(e);if(!r)return"/";pathCache[e]=r.path}return pathCache[e]}return"/"}var send=(e,r,l)=>{if(!fetchModule){l.done(void 0,424);return}let g=getPath(r.provider);switch(r.type){case"icons":{const C=r.prefix,f=r.icons.join(",");g+=mergeParams(C+".json",{icons:f});break}case"custom":{const C=r.uri;g+=C.slice(0,1)==="/"?C.slice(1):C;break}default:l.done(void 0,400);return}let x=503;fetchModule(e+g).then(C=>{if(C.status!==200){setTimeout(()=>{l.done(void 0,C.status)});return}return x=501,C.json()}).then(C=>{if(typeof C!="object"||C===null){setTimeout(()=>{l.done(void 0,x)});return}setTimeout(()=>{l.done(C)})}).catch(()=>{l.done(void 0,x)})},fetchAPIModule={prepare,send};function sortIcons(e){const r={loaded:[],missing:[],pending:[]},l=Object.create(null);e.sort((x,C)=>x.provider!==C.provider?x.provider.localeCompare(C.provider):x.prefix!==C.prefix?x.prefix.localeCompare(C.prefix):x.name.localeCompare(C.name));let g={provider:"",prefix:"",name:""};return e.forEach(x=>{if(g.name===x.name&&g.prefix===x.prefix&&g.provider===x.provider)return;g=x;const C=x.provider,u=x.prefix,f=x.name;l[C]===void 0&&(l[C]=Object.create(null));const n=l[C];n[u]===void 0&&(n[u]=getStorage(C,u));const S=n[u];let k;S.icons[f]!==void 0?k=r.loaded:u===""||S.missing[f]!==void 0?k=r.missing:k=r.pending;const M={provider:C,prefix:u,name:f};k.push(M)}),r}var callbacks=Object.create(null),pendingUpdates=Object.create(null);function removeCallback(e,r){e.forEach(l=>{const g=l.provider;if(callbacks[g]===void 0)return;const x=callbacks[g],C=l.prefix,u=x[C];u&&(x[C]=u.filter(f=>f.id!==r))})}function updateCallbacks(e,r){pendingUpdates[e]===void 0&&(pendingUpdates[e]=Object.create(null));const l=pendingUpdates[e];l[r]||(l[r]=!0,setTimeout(()=>{if(l[r]=!1,callbacks[e]===void 0||callbacks[e][r]===void 0)return;const g=callbacks[e][r].slice(0);if(!g.length)return;const x=getStorage(e,r);let C=!1;g.forEach(u=>{const f=u.icons,n=f.pending.length;f.pending=f.pending.filter(S=>{if(S.prefix!==r)return!0;const k=S.name;if(x.icons[k]!==void 0)f.loaded.push({provider:e,prefix:r,name:k});else if(x.missing[k]!==void 0)f.missing.push({provider:e,prefix:r,name:k});else return C=!0,!0;return!1}),f.pending.length!==n&&(C||removeCallback([{provider:e,prefix:r}],u.id),u.callback(f.loaded.slice(0),f.missing.slice(0),f.pending.slice(0),u.abort))})}))}var idCounter=0;function storeCallback(e,r,l){const g=idCounter++,x=removeCallback.bind(null,l,g);if(!r.pending.length)return x;const C={id:g,icons:r,callback:e,abort:x};return l.forEach(u=>{const f=u.provider,n=u.prefix;callbacks[f]===void 0&&(callbacks[f]=Object.create(null));const S=callbacks[f];S[n]===void 0&&(S[n]=[]),S[n].push(C)}),x}function listToIcons(e,r=!0,l=!1){const g=[];return e.forEach(x=>{const C=typeof x=="string"?stringToIcon(x,!1,l):x;(!r||validateIcon(C,l))&&g.push({provider:C.provider,prefix:C.prefix,name:C.name})}),g}var defaultConfig={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function sendQuery(e,r,l,g,x){const C=e.resources.length,u=e.random?Math.floor(Math.random()*C):e.index;let f;if(e.random){let re=e.resources.slice(0);for(f=[];re.length>1;){const oe=Math.floor(Math.random()*re.length);f.push(re[oe]),re=re.slice(0,oe).concat(re.slice(oe+1))}f=f.concat(re)}else f=e.resources.slice(u).concat(e.resources.slice(0,u));const n=Date.now();let S="pending",k=0,M,P=null,$=[],R=[];typeof g=="function"&&R.push(g);function B(){P&&(clearTimeout(P),P=null)}function V(){S==="pending"&&(S="aborted"),B(),$.forEach(re=>{re.abort&&re.abort(),re.status==="pending"&&(re.status="aborted")}),$=[]}function j(re,oe){oe&&(R=[]),typeof re=="function"&&R.push(re)}function U(){return{startTime:n,payload:r,status:S,queriesSent:k,queriesPending:$.length,subscribe:j,abort:V}}function q(){S="failed",R.forEach(re=>{re(void 0,M)})}function Y(){$=$.filter(re=>(re.status==="pending"&&(re.status="aborted"),re.abort&&re.abort(),!1))}function Q(re,oe,se){const fe=oe===void 0;switch($=$.filter(ge=>ge!==re),S){case"pending":break;case"failed":if(fe||!e.dataAfterTimeout)return;break;default:return}if(fe){se!==void 0&&(M=se),$.length||(f.length?te():q());return}if(B(),Y(),x&&!e.random){const ge=e.resources.indexOf(re.resource);ge!==-1&&ge!==e.index&&x(ge)}S="completed",R.forEach(ge=>{ge(oe)})}function te(){if(S!=="pending")return;B();const re=f.shift();if(re===void 0){if($.length){const fe=typeof e.timeout=="function"?e.timeout(n):e.timeout;if(fe){P=setTimeout(()=>{B(),S==="pending"&&(Y(),q())},fe);return}}q();return}const oe={getQueryStatus:U,status:"pending",resource:re,done:(fe,ge)=>{Q(oe,fe,ge)}};$.push(oe),k++;const se=typeof e.rotate=="function"?e.rotate(k,n):e.rotate;P=setTimeout(te,se),l(re,r,oe)}return setTimeout(te),U}function setConfig(e){if(typeof e!="object"||typeof e.resources!="object"||!(e.resources instanceof Array)||!e.resources.length)throw new Error("Invalid Reduncancy configuration");const r=Object.create(null);let l;for(l in defaultConfig)e[l]!==void 0?r[l]=e[l]:r[l]=defaultConfig[l];return r}function initRedundancy(e){const r=setConfig(e);let l=[];function g(){l=l.filter(f=>f().status==="pending")}function x(f,n,S){const k=sendQuery(r,f,n,(M,P)=>{g(),S&&S(M,P)},M=>{r.index=M});return l.push(k),k}function C(f){const n=l.find(S=>f(S));return n!==void 0?n:null}return{query:x,find:C,setIndex:f=>{r.index=f},getIndex:()=>r.index,cleanup:g}}function emptyCallback$1(){}var redundancyCache=Object.create(null);function getRedundancyCache(e){if(redundancyCache[e]===void 0){const r=getAPIConfig(e);if(!r)return;const l=initRedundancy(r),g={config:r,redundancy:l};redundancyCache[e]=g}return redundancyCache[e]}function sendAPIQuery(e,r,l){let g,x;if(typeof e=="string"){const C=getAPIModule(e);if(!C)return l(void 0,424),emptyCallback$1;x=C.send;const u=getRedundancyCache(e);u&&(g=u.redundancy)}else{const C=createAPIConfig(e);if(C){g=initRedundancy(C);const u=e.resources?e.resources[0]:"",f=getAPIModule(u);f&&(x=f.send)}}return!g||!x?(l(void 0,424),emptyCallback$1):g.query(r,x,l)().abort}var cache={};function emptyCallback(){}var pendingIcons=Object.create(null),iconsToLoad=Object.create(null),loaderFlags=Object.create(null),queueFlags=Object.create(null);function loadedNewIcons(e,r){loaderFlags[e]===void 0&&(loaderFlags[e]=Object.create(null));const l=loaderFlags[e];l[r]||(l[r]=!0,setTimeout(()=>{l[r]=!1,updateCallbacks(e,r)}))}var errorsCache=Object.create(null);function loadNewIcons(e,r,l){function g(){const f=(e===""?"":"@"+e+":")+r,n=Math.floor(Date.now()/6e4);errorsCache[f]<n&&(errorsCache[f]=n,console.error('Unable to retrieve icons for "'+f+'" because API is not configured properly.'))}iconsToLoad[e]===void 0&&(iconsToLoad[e]=Object.create(null));const x=iconsToLoad[e];queueFlags[e]===void 0&&(queueFlags[e]=Object.create(null));const C=queueFlags[e];pendingIcons[e]===void 0&&(pendingIcons[e]=Object.create(null));const u=pendingIcons[e];x[r]===void 0?x[r]=l:x[r]=x[r].concat(l).sort(),C[r]||(C[r]=!0,setTimeout(()=>{C[r]=!1;const f=x[r];delete x[r];const n=getAPIModule(e);if(!n){g();return}n.prepare(e,r,f).forEach(k=>{sendAPIQuery(e,k,(M,P)=>{const $=getStorage(e,r);if(typeof M!="object"){if(P!==404)return;const R=Date.now();k.icons.forEach(B=>{$.missing[B]=R})}else try{const R=addIconSet($,M);if(!R.length)return;const B=u[r];R.forEach(V=>{delete B[V]}),cache.store&&cache.store(e,M)}catch(R){console.error(R)}loadedNewIcons(e,r)})})}))}var loadIcons=(e,r)=>{const l=listToIcons(e,!0,allowSimpleNames()),g=sortIcons(l);if(!g.pending.length){let S=!0;return r&&setTimeout(()=>{S&&r(g.loaded,g.missing,g.pending,emptyCallback)}),()=>{S=!1}}const x=Object.create(null),C=[];let u,f;g.pending.forEach(S=>{const k=S.provider,M=S.prefix;if(M===f&&k===u)return;u=k,f=M,C.push({provider:k,prefix:M}),pendingIcons[k]===void 0&&(pendingIcons[k]=Object.create(null));const P=pendingIcons[k];P[M]===void 0&&(P[M]=Object.create(null)),x[k]===void 0&&(x[k]=Object.create(null));const $=x[k];$[M]===void 0&&($[M]=[])});const n=Date.now();return g.pending.forEach(S=>{const k=S.provider,M=S.prefix,P=S.name,$=pendingIcons[k][M];$[P]===void 0&&($[P]=n,x[k][M].push(P))}),C.forEach(S=>{const k=S.provider,M=S.prefix;x[k][M].length&&loadNewIcons(k,M,x[k][M])}),r?storeCallback(r,g,C):emptyCallback},cacheVersion="iconify2",cachePrefix="iconify",countKey=cachePrefix+"-count",versionKey=cachePrefix+"-version",hour=36e5,cacheExpiration=168,config$1={local:!0,session:!0},loaded=!1,count={local:0,session:0},emptyList={local:[],session:[]},_window=typeof window=="undefined"?{}:window;function getGlobal(e){const r=e+"Storage";try{if(_window&&_window[r]&&typeof _window[r].length=="number")return _window[r]}catch{}return config$1[e]=!1,null}function setCount(e,r,l){try{return e.setItem(countKey,l+""),count[r]=l,!0}catch{return!1}}function getCount(e){const r=e.getItem(countKey);if(r){const l=parseInt(r);return l||0}return 0}function initCache(e,r){try{e.setItem(versionKey,cacheVersion)}catch{}setCount(e,r,0)}function destroyCache(e){try{const r=getCount(e);for(let l=0;l<r;l++)e.removeItem(cachePrefix+l)}catch{}}var loadCache=()=>{if(loaded)return;loaded=!0;const e=Math.floor(Date.now()/hour)-cacheExpiration;function r(l){const g=getGlobal(l);if(!g)return;const x=C=>{const u=cachePrefix+C,f=g.getItem(u);if(typeof f!="string")return!1;let n=!0;try{const S=JSON.parse(f);if(typeof S!="object"||typeof S.cached!="number"||S.cached<e||typeof S.provider!="string"||typeof S.data!="object"||typeof S.data.prefix!="string")n=!1;else{const k=S.provider,M=S.data.prefix,P=getStorage(k,M);n=addIconSet(P,S.data).length>0}}catch{n=!1}return n||g.removeItem(u),n};try{const C=g.getItem(versionKey);if(C!==cacheVersion){C&&destroyCache(g),initCache(g,l);return}let u=getCount(g);for(let f=u-1;f>=0;f--)x(f)||(f===u-1?u--:emptyList[l].push(f));setCount(g,l,u)}catch{}}for(const l in config$1)r(l)},storeCache=(e,r)=>{loaded||loadCache();function l(g){if(!config$1[g])return!1;const x=getGlobal(g);if(!x)return!1;let C=emptyList[g].shift();if(C===void 0&&(C=count[g],!setCount(x,g,C+1)))return!1;try{const u={cached:Math.floor(Date.now()/hour),provider:e,data:r};x.setItem(cachePrefix+C,JSON.stringify(u))}catch{return!1}return!0}l("local")||l("session")},separator=/[\s,]+/;function flipFromString(e,r){r.split(separator).forEach(l=>{switch(l.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function alignmentFromString(e,r){r.split(separator).forEach(l=>{const g=l.trim();switch(g){case"left":case"center":case"right":e.hAlign=g;break;case"top":case"middle":case"bottom":e.vAlign=g;break;case"slice":case"crop":e.slice=!0;break;case"meet":e.slice=!1}})}function rotateFromString(e,r=0){const l=e.replace(/^-?[0-9.]*/,"");function g(x){for(;x<0;)x+=4;return x%4}if(l===""){const x=parseInt(e);return isNaN(x)?0:g(x)}else if(l!==e){let x=0;switch(l){case"%":x=25;break;case"deg":x=90}if(x){let C=parseFloat(e.slice(0,e.length-l.length));return isNaN(C)?0:(C=C/x,C%1==0?g(C):0)}}return r}const svgDefaults={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"};let customisationAliases={};["horizontal","vertical"].forEach(e=>{["Align","Flip"].forEach(r=>{const g={attr:e.slice(0,1)+r,boolean:r==="Flip"};customisationAliases[e+"-"+r.toLowerCase()]=g,customisationAliases[e.slice(0,1)+"-"+r.toLowerCase()]=g,customisationAliases[e+r]=g})});const render=(e,r)=>{const l=mergeCustomisations(defaults,r),g=gi({},svgDefaults);let x=typeof r.style=="object"&&!(r.style instanceof Array)?gi({},r.style):{};for(let n in r){const S=r[n];if(S!==void 0)switch(n){case"icon":case"style":case"onLoad":break;case"inline":case"hFlip":case"vFlip":l[n]=S===!0||S==="true"||S===1;break;case"flip":typeof S=="string"&&flipFromString(l,S);break;case"align":typeof S=="string"&&alignmentFromString(l,S);break;case"color":x.color=S;break;case"rotate":typeof S=="string"?l[n]=rotateFromString(S):typeof S=="number"&&(l[n]=S);break;case"ariaHidden":case"aria-hidden":S!==!0&&S!=="true"&&delete g["aria-hidden"];break;default:customisationAliases[n]!==void 0?customisationAliases[n].boolean&&(S===!0||S==="true"||S===1)?l[customisationAliases[n].attr]=!0:!customisationAliases[n].boolean&&typeof S=="string"&&S!==""&&(l[customisationAliases[n].attr]=S):defaults[n]===void 0&&(g[n]=S)}}const C=iconToSVG(e,l);for(let n in C.attributes)g[n]=C.attributes[n];C.inline&&x.verticalAlign===void 0&&x["vertical-align"]===void 0&&(x.verticalAlign="-0.125em");let u=0,f=r.id;return typeof f=="string"&&(f=f.replace(/-/g,"_")),g.innerHTML=replaceIDs(C.body,f?()=>f+"ID"+u++:"iconifyVue"),Object.keys(x).length>0&&(g.style=x),h$1("svg",g)};allowSimpleNames(!0);setAPIModule("",fetchAPIModule);if(typeof document!="undefined"&&typeof window!="undefined"){cache.store=storeCache,loadCache();const e=window;if(e.IconifyPreload!==void 0){const r=e.IconifyPreload,l="Invalid IconifyPreload syntax.";typeof r=="object"&&r!==null&&(r instanceof Array?r:[r]).forEach(g=>{try{(typeof g!="object"||g===null||g instanceof Array||typeof g.icons!="object"||typeof g.prefix!="string"||!addCollection(g))&&console.error(l)}catch{console.error(l)}})}if(e.IconifyProviders!==void 0){const r=e.IconifyProviders;if(typeof r=="object"&&r!==null)for(let l in r){const g="IconifyProviders["+l+"] is invalid.";try{const x=r[l];if(typeof x!="object"||!x||x.resources===void 0)continue;addAPIProvider(l,x)||console.error(g)}catch{console.error(g)}}}}const Icon$1=defineComponent({inheritAttrs:!1,data(){return{mounted:!1,counter:0}},beforeMount(){this._name="",this._loadingIcon=null,this.mounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(e,r){if(typeof e=="object"&&e!==null&&typeof e.body=="string")return this._name="",this.abortLoading(),{data:fullIcon(e)};let l;if(typeof e!="string"||(l=stringToIcon(e,!1,!0))===null)return this.abortLoading(),null;const g=getIconData(l);if(g===null)return(!this._loadingIcon||this._loadingIcon.name!==e)&&(this.abortLoading(),this._name="",this._loadingIcon={name:e,abort:loadIcons([l],()=>{this.counter++})}),null;this.abortLoading(),this._name!==e&&(this._name=e,r&&r(e));const x=["iconify"];return l.prefix!==""&&x.push("iconify--"+l.prefix),l.provider!==""&&x.push("iconify--"+l.provider),{data:g,classes:x}}},render(){if(!this.mounted)return this.$slots.default?this.$slots.default():null;this.counter;const e=this.$attrs,r=this.getIcon(e.icon,e.onLoad);if(!r)return this.$slots.default?this.$slots.default():null;let l=e;return r.classes&&(l=Us(gi({},e),{class:(typeof e.class=="string"?e.class+" ":"")+r.classes.join(" ")})),render(r.data,l)}});var iconifyIconOnline=defineComponent({name:"IconifyIcon",components:{IconifyIcon:Icon$1},props:{icon:{type:String,default:""},type:{type:String,default:"ep:"}},render(){const e=this.$attrs;return h$1(Icon$1,gi({icon:`${this.type}${this.icon}`},e),{default:()=>[]})}}),fontIcon=defineComponent({name:"fontIcon",props:{icon:{type:String,default:""}},render(){const e=this.$attrs;return Object.keys(e).includes("uni")||(e==null?void 0:e.iconType)==="uni"?h$1("i",gi({class:"iconfont"},e),this.icon):Object.keys(e).includes("svg")||(e==null?void 0:e.iconType)==="svg"?h$1("svg",{class:"icon-svg","aria-hidden":!0},{default:()=>[h$1("use",{"xlink:href":`#${this.icon}`})]}):h$1("i",gi({class:`iconfont ${this.icon}`},e))}});const IconifyIconOffline=iconifyIconOffline,IconifyIconOnline=iconifyIconOnline,FontIcon=fontIcon;function useRenderIcon(e){const r=/^IF-/;if(r.test(e)){const l=e.split(r)[1],g=l.slice(0,l.indexOf(" ")==-1?l.length:l.indexOf(" ")),x=l.slice(l.indexOf(" ")+1,l.length);return defineComponent({name:"FontIcon",render(){return h$1(FontIcon,{icon:g,iconType:x})}})}else return typeof e=="function"?e:defineComponent({name:"Icon",render(){return h$1(IconifyIconOffline,{icon:e})}})}const _hoisted_1$3={key:0},_hoisted_2$1={key:0},_sfc_main$4=defineComponent({props:{item:{type:Object},isNest:{type:Boolean,default:!1},basePath:{type:String,default:""}},setup(e){var j;const r=e,g=((j=getCurrentInstance().appContext.app.config.globalProperties.$storage.layout)==null?void 0:j.layout)==="vertical",x=useAppStoreHook(),C=computed(()=>useAppStoreHook().getSidebarStatus?{position:"absolute",right:"10px"}:{position:"static"}),u=computed(()=>({display:"flex",alignItems:"center"})),f=computed(()=>({width:x.sidebar.opened?"":"100%",display:"flex",alignItems:"center",justifyContent:"space-between",overflow:"hidden"})),n=computed(()=>({width:x.sidebar.opened?"125px":"",overflow:"hidden",textOverflow:"ellipsis",outline:"none"})),S=computed(()=>({width:x.sidebar.opened?"125px":"",display:"inline-block",overflow:"hidden",textOverflow:"ellipsis"})),k=computed(()=>({overflow:"hidden",textOverflow:"ellipsis"})),M=ref(null),P=new WeakMap,$=ref(null);function R(U){P.get(U)||nextTick(()=>{var q,Y;((q=$.value)==null?void 0:q.scrollWidth)>((Y=$.value)==null?void 0:Y.clientWidth)?Object.assign(U,{showTooltip:!0}):Object.assign(U,{showTooltip:!1}),P.set(U,!0)})}function B(U=[],q){const Y=U.filter(Q=>(M.value=Q,!0));return Y.length===1?!0:Y.length===0?(M.value=Us(gi({},q),{path:"",noShowingChildren:!0}),!0):!1}function V(U){return/^http(s?):\/\//.test(U)?r.basePath+"/"+U:path.resolve(r.basePath,U)}return(U,q)=>{const Y=resolveComponent("el-icon"),Q=resolveComponent("el-tooltip"),te=resolveComponent("FontIcon"),re=resolveComponent("el-menu-item"),oe=resolveComponent("sidebar-item",!0),se=resolveComponent("el-sub-menu");return B(r.item.children,r.item)&&(!M.value.children||M.value.noShowingChildren)?(openBlock(),createBlock(re,{key:0,index:V(M.value.path),class:normalizeClass({"submenu-title-noDropdown":!e.isNest}),style:normalizeStyle(unref(u))},{title:withCtx(()=>[createBaseVNode("div",{style:normalizeStyle(unref(f))},[g?(openBlock(),createBlock(Q,{key:1,placement:"top",offset:-10,disabled:!M.value.showTooltip},{content:withCtx(()=>[createTextVNode(toDisplayString(M.value.meta.title),1)]),default:withCtx(()=>[createBaseVNode("span",{ref_key:"menuTextRef",ref:$,style:normalizeStyle(unref(n)),onMouseover:q[0]||(q[0]=fe=>R(M.value))},toDisplayString(M.value.meta.title),37)]),_:1},8,["disabled"])):(openBlock(),createElementBlock("span",_hoisted_1$3,toDisplayString(M.value.meta.title),1)),M.value.meta.extraIcon?(openBlock(),createBlock(te,{key:2,width:"30px",height:"30px",style:normalizeStyle(unref(C)),icon:M.value.meta.extraIcon.name,svg:!!M.value.meta.extraIcon.svg},null,8,["style","icon","svg"])):createCommentVNode("",!0)],4)]),default:withCtx(()=>[withDirectives(createVNode(Y,null,{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(useRenderIcon)(M.value.meta.icon||r.item.meta&&r.item.meta.icon))))]),_:1},512),[[vShow,r.item.meta.icon]])]),_:1},8,["index","class","style"])):(openBlock(),createBlock(se,{key:1,ref:"subMenu",index:V(r.item.path),"popper-append-to-body":""},{title:withCtx(()=>[withDirectives(createVNode(Y,{class:normalizeClass(r.item.meta.icon)},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(useRenderIcon)(r.item.meta&&r.item.meta.icon))))]),_:1},8,["class"]),[[vShow,r.item.meta.icon]]),g?(openBlock(),createBlock(Q,{key:1,placement:"top",offset:-10,disabled:!unref(x).sidebar.opened||!r.item.showTooltip},{content:withCtx(()=>[createTextVNode(toDisplayString(r.item.meta.title),1)]),default:withCtx(()=>[createBaseVNode("div",{ref_key:"menuTextRef",ref:$,style:normalizeStyle(unref(S)),onMouseover:q[1]||(q[1]=fe=>R(r.item))},[createBaseVNode("span",{style:normalizeStyle(unref(k))},toDisplayString(r.item.meta.title),5)],36)]),_:1},8,["disabled"])):(openBlock(),createElementBlock("span",_hoisted_2$1,toDisplayString(r.item.meta.title),1)),r.item.meta.extraIcon?(openBlock(),createBlock(te,{key:2,width:"30px",height:"30px",style:{position:"absolute",right:"10px"},icon:r.item.meta.extraIcon.name,svg:!!r.item.meta.extraIcon.svg},null,8,["icon","svg"])):createCommentVNode("",!0)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.item.children,fe=>(openBlock(),createBlock(oe,{key:fe.path,"is-nest":!0,item:fe,"base-path":V(fe.path),class:"nest-menu"},null,8,["item","base-path"]))),128))]),_:1},8,["index"]))}}}),_sfc_main$3=defineComponent({setup(e){var n,S;const r=useRoute(),l=useAppStoreHook(),g=useRouter().options.routes,x=ref((S=(n=storageLocal.getItem("responsive-configure"))==null?void 0:n.showLogo)!=null?S:!0),C=computed(()=>!l.getSidebarStatus),u=computed(()=>{const{meta:k,path:M}=r;return k.activeMenu?k.activeMenu:M}),f=k=>{let M="",P=k.lastIndexOf("/");P>0&&(M=k.slice(0,P));function $(R){return R.map(B=>{B.path===k?emitter.emit("changLayoutRoute",{indexPath:k,parentPath:M}):B.children&&$(B.children)})}$(g)};return onBeforeMount(()=>{emitter.on("logoChange",k=>{x.value=k})}),(k,M)=>{const P=resolveComponent("el-menu"),$=resolveComponent("el-scrollbar");return openBlock(),createElementBlock("div",{class:normalizeClass(["sidebar-container",x.value?"has-logo":""])},[x.value?(openBlock(),createBlock(Logo,{key:0,collapse:unref(C)},null,8,["collapse"])):createCommentVNode("",!0),createVNode($,{"wrap-class":"scrollbar-wrapper"},{default:withCtx(()=>[createVNode(P,{"default-active":unref(u),collapse:unref(C),"unique-opened":"",router:"","collapse-transition":!1,mode:"vertical",class:"outer-most",onSelect:f},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(usePermissionStoreHook)().wholeMenus,R=>(openBlock(),createBlock(_sfc_main$4,{key:R.path,item:R,class:"outer-most","base-path":R.path},null,8,["item","base-path"]))),128))]),_:1},8,["default-active","collapse"])]),_:1})],2)}}});var horizontal_vue_vue_type_style_index_0_scoped_true_lang="";const _hoisted_1$2={class:"horizontal-header"},_hoisted_2={class:"horizontal-header-right"},_hoisted_3={class:"el-dropdown-link"},_hoisted_4=["src"],_hoisted_5=createTextVNode(" \u9000\u51FA\u7CFB\u7EDF"),_sfc_main$2=defineComponent({setup(e){var $,R;const r=($=getCurrentInstance().appContext.config.globalProperties.$config)==null?void 0:$.Title,l=templateRef("menu",null),g=useRoute(),x=useRouter(),C=useRouter().options.routes;let u=(R=storageLocal.getItem("info"))==null?void 0:R.userInfo.account;const f=()=>{useUserStoreHook().logOut(),x.push("/login")};function n(){emitter.emit("openPanel")}const S=computed(()=>{const{meta:B,path:V}=g;return B.activeMenu?B.activeMenu:V}),k=B=>{let V="",j=B.lastIndexOf("/");j>0&&(V=B.slice(0,j));function U(q){return q.map(Y=>{Y.path===B?emitter.emit("changLayoutRoute",{indexPath:B,parentPath:V}):Y.children&&U(Y.children)})}U(C)};function M(){x.push("/welcome")}function P(){l.value.handleResize()}return onMounted(()=>{nextTick(()=>{P()})}),(B,V)=>{const j=resolveComponent("FontIcon"),U=resolveComponent("el-menu"),q=resolveComponent("IconifyIconOffline"),Y=resolveComponent("el-dropdown-item"),Q=resolveComponent("el-dropdown-menu"),te=resolveComponent("el-dropdown"),re=resolveComponent("el-icon");return openBlock(),createElementBlock("div",_hoisted_1$2,[createBaseVNode("div",{class:"horizontal-header-left",onClick:M},[createVNode(j,{icon:"team-iconlogo",svg:"",style:{width:"35px",height:"35px"}}),createBaseVNode("h4",null,toDisplayString(unref(r)),1)]),createVNode(U,{ref:"menu","default-active":unref(S),"unique-opened":"",router:"",class:"horizontal-header-menu",mode:"horizontal",onSelect:k},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(usePermissionStoreHook)().wholeMenus,oe=>(openBlock(),createBlock(_sfc_main$4,{key:oe.path,item:oe,"base-path":oe.path},null,8,["item","base-path"]))),128))]),_:1},8,["default-active"]),createBaseVNode("div",_hoisted_2,[createVNode(Notice,{id:"header-notice"}),withDirectives(createVNode(screenfull,{id:"header-screenfull"},null,512),[[vShow,!unref(deviceDetection)()]]),createVNode(te,{trigger:"click"},{dropdown:withCtx(()=>[createVNode(Q,{class:"logout"},{default:withCtx(()=>[createVNode(Y,{onClick:f},{default:withCtx(()=>[createVNode(q,{icon:"logout-circle-r-line",style:{margin:"5px"}}),_hoisted_5]),_:1})]),_:1})]),default:withCtx(()=>[createBaseVNode("span",_hoisted_3,[createBaseVNode("img",{src:unref(avatars)},null,8,_hoisted_4),createBaseVNode("p",null,toDisplayString(unref(u)),1)])]),_:1}),createVNode(re,{class:"el-icon-setting",title:"\u6253\u5F00\u9879\u76EE\u914D\u7F6E",onClick:n},{default:withCtx(()=>[createVNode(q,{icon:"setting"})]),_:1})])])}}});var Horizontal=_export_sfc(_sfc_main$2,[["__scopeId","data-v-42064a6c"]]),index_vue_vue_type_style_index_0_scoped_true_lang="";const _hoisted_1$1={key:0},_sfc_main$1=defineComponent({setup(e){const r=deviceDetection(),l=useSettingStoreHook(),g=getCurrentInstance().appContext.app.config.globalProperties,x=computed(()=>{var M,P,$,R,B,V,j,U,q,Y,Q,te,re,oe,se,fe,ge,Ce,$e,be,ke,Ee,He;return useMultiTagsStore().multiTagsCache&&(!g.$storage.tags||g.$storage.tags.length===0)&&(g.$storage.tags=routerArrays),g.$storage.layout||(g.$storage.layout={layout:(P=(M=g.$config)==null?void 0:M.Layout)!=null?P:"vertical",theme:(R=($=g.$config)==null?void 0:$.Theme)!=null?R:"default",darkMode:(V=(B=g.$config)==null?void 0:B.DarkMode)!=null?V:!1,sidebarStatus:(U=(j=g.$config)==null?void 0:j.SidebarStatus)!=null?U:!0,epThemeColor:(Y=(q=g.$config)==null?void 0:q.EpThemeColor)!=null?Y:"#409EFF"}),g.$storage.configure||(g.$storage.configure={grey:(te=(Q=g.$config)==null?void 0:Q.Grey)!=null?te:!1,weak:(oe=(re=g.$config)==null?void 0:re.Weak)!=null?oe:!1,hideTabs:(fe=(se=g.$config)==null?void 0:se.HideTabs)!=null?fe:!1,showLogo:(Ce=(ge=g.$config)==null?void 0:ge.ShowLogo)!=null?Ce:!0,showModel:(be=($e=g.$config)==null?void 0:$e.ShowModel)!=null?be:"smart",multiTagsCache:(Ee=(ke=g.$config)==null?void 0:ke.MultiTagsCache)!=null?Ee:!1}),(He=g.$storage)==null?void 0:He.layout.layout}),C=reactive({sidebar:computed(()=>useAppStoreHook().sidebar),device:computed(()=>useAppStoreHook().device),fixedHeader:computed(()=>l.fixedHeader),classes:computed(()=>({hideSidebar:!C.sidebar.opened,openSidebar:C.sidebar.opened,withoutAnimation:C.sidebar.withoutAnimation,mobile:C.device==="mobile"})),hideTabs:computed(()=>{var M;return(M=g.$storage)==null?void 0:M.configure.hideTabs})});function u(M){var P,$,R,B;window.document.body.setAttribute("layout",M),g.$storage.layout={layout:`${M}`,theme:(P=g.$storage.layout)==null?void 0:P.theme,darkMode:($=g.$storage.layout)==null?void 0:$.darkMode,sidebarStatus:(R=g.$storage.layout)==null?void 0:R.sidebarStatus,epThemeColor:(B=g.$storage.layout)==null?void 0:B.epThemeColor}}function f(M,P){useAppStoreHook().toggleDevice(M),useAppStoreHook().toggleSideBar(P,"resize")}let n=!0;emitter.on("resize",({detail:M})=>{if(r)return;let{width:P}=M;P<=670?u("vertical"):u(useAppStoreHook().layout),P>0&&P<=760?(f("mobile",!1),n=!0):P>760&&P<=990?n&&(f("desktop",!1),n=!1):P>990&&(C.sidebar.isClickHamburger||(f("desktop",!0),n=!0))}),onMounted(()=>{r&&f("mobile",!1)});function S(){l.hiddenSideBar?l.changeSetting({key:"hiddenSideBar",value:!1}):l.changeSetting({key:"hiddenSideBar",value:!0})}const k=defineComponent({render(){return h$1("div",{class:{"fixed-header":C.fixedHeader},style:[C.hideTabs&&x.value.includes("horizontal")?"box-shadow: 0 1px 4px rgb(0 21 41 / 8%);":""]},{default:()=>[!l.hiddenSideBar&&x.value.includes("vertical")?h$1(navbar):h$1("div"),!l.hiddenSideBar&&x.value.includes("horizontal")?h$1(Horizontal):h$1("div"),h$1(tag,{},{default:()=>[h$1("span",{onClick:S},{default:()=>[l.hiddenSideBar?h$1(render$a):h$1(render$b)]})]})]})}});return(M,P)=>{const $=resolveComponent("el-backtop"),R=resolveComponent("el-scrollbar"),B=resolveDirective("resize");return withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(["app-wrapper",unref(C).classes])},[withDirectives(createBaseVNode("div",{class:"app-mask",onClick:P[0]||(P[0]=V=>unref(useAppStoreHook)().toggleSideBar())},null,512),[[vShow,unref(C).device==="mobile"&&unref(C).sidebar.opened&&unref(x).includes("vertical")]]),withDirectives(createVNode(_sfc_main$3,null,null,512),[[vShow,!unref(l).hiddenSideBar&&unref(x).includes("vertical")]]),createBaseVNode("div",{class:normalizeClass(["main-container",unref(l).hiddenSideBar?"main-hidden":""])},[unref(C).fixedHeader?(openBlock(),createElementBlock("div",_hoisted_1$1,[createVNode(unref(k)),createVNode(appMain,{"fixed-header":unref(C).fixedHeader},null,8,["fixed-header"])])):(openBlock(),createBlock(R,{key:1},{default:withCtx(()=>[createVNode($,{title:"\u56DE\u5230\u9876\u90E8",target:".main-container .el-scrollbar__wrap"},{default:withCtx(()=>[createVNode(unref(render$c))]),_:1}),createVNode(unref(k)),createVNode(appMain,{"fixed-header":unref(C).fixedHeader},null,8,["fixed-header"])]),_:1}))],2),createVNode(setting)],2)),[[B]])}}});var Layout=_export_sfc(_sfc_main$1,[["__scopeId","data-v-bdcbce64"]]);const homeRouter={path:"/",name:"home",component:Layout,redirect:"/welcome",meta:{icon:"home-filled",title:"\u9996\u9875",rank:0},children:[{path:"/welcome",name:"welcome",component:()=>__vitePreload(()=>import("./welcome.6f39c7ff.js"),["assets/welcome.6f39c7ff.js","assets/welcome.d3e0676a.css","assets/echarts.0e9f7660.js","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js"]),meta:{title:"\u9996\u9875"}}]},editorRouter={path:"/editor",name:"reEditor",component:Layout,redirect:"/editor/index",meta:{icon:"edit",title:"\u7F16\u8F91\u5668",rank:2},children:[{path:"/editor/index",name:"reEditor",component:()=>__vitePreload(()=>import("./index.85a49bbe.js"),["assets/index.85a49bbe.js","assets/index.3dd8b1e9.css","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js"]),meta:{title:"\u7F16\u8F91\u5668",keepAlive:!0}}]},remainingRouter=[{path:"/login",name:"login",component:()=>__vitePreload(()=>import("./login.becc63ff.js"),["assets/login.becc63ff.js","assets/login.746f1cf2.css","assets/el-message.8225f88b.css","assets/element-plus.ab042766.js","assets/illustration6.b6b28d8b.js","assets/vform3-plus.5c4eeb71.js"]),meta:{title:"\u767B\u5F55",showLink:!1,rank:101}},{path:"/register",name:"register",component:()=>__vitePreload(()=>import("./register.ec908340.js"),["assets/register.ec908340.js","assets/register.ee30a8cd.css","assets/el-message.8225f88b.css","assets/illustration6.b6b28d8b.js","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js"]),meta:{title:"\u6CE8\u518C",showLink:!1,rank:102}},{path:"/redirect",name:"redirect",component:Layout,meta:{icon:"home-filled",title:"\u9996\u9875",showLink:!1,rank:104},children:[{path:"/redirect/:path(.*)",name:"redirect",component:()=>__vitePreload(()=>import("./redirect.16303937.js"),["assets/redirect.16303937.js","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js"])}]}],flowTaskRouter={path:"/flowTask",name:"flowTask",component:Layout,redirect:"/flowTask/index",meta:{icon:"set-up",title:"\u5BA1\u6279\u6D41\u7A0B",rank:1},children:[{path:"/flowTask/index",name:"flowTask",component:()=>__vitePreload(()=>import("./index.3d90b684.js"),["assets/index.3d90b684.js","assets/index.ddb693c4.css","assets/el-message.8225f88b.css","assets/display.8569b2e4.js","assets/display.1dd3e9e2.css","assets/element-plus.ab042766.js","assets/ui.ef5d2b61.js","assets/plugin-vue_export-helper.98d5223b.js","assets/vform3-plus.5c4eeb71.js"]),meta:{title:"\u5BA1\u6279\u6D41\u7A0B"}}]},newFlowRouter={path:"/newTask",name:"newTask",component:Layout,meta:{icon:"set-up",title:"\u65B0\u5EFA\u5BA1\u6279",rank:7}},flowTemplateRouter={path:"/flowTemplate",name:"flowTemplate",component:Layout,redirect:"/flowTemplate/index",meta:{icon:"set-up",title:"\u6D41\u7A0B\u6A21\u677F",rank:7},children:[{path:"/flowTemplate/index",name:"flowTemplate",component:()=>__vitePreload(()=>import("./index.2ab3721c.js"),["assets/index.2ab3721c.js","assets/index.927da812.css","assets/el-message.8225f88b.css","assets/index.02b6cd5b.js","assets/index.0c77c3af.css","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js","assets/search.f7aa7366.js","assets/plugin-vue_export-helper.98d5223b.js"]),meta:{title:"\u6D41\u7A0B\u6A21\u677F"}}]},routes=[homeRouter,editorRouter,flowTaskRouter,newFlowRouter,flowTemplateRouter],constantRoutes=formatTwoStageRoutes(formatFlatteningRoutes(ascending(routes))),constantMenus=ascending(routes).concat(...remainingRouter),otherRouter=[{path:"/taskInfo",name:"taskInfo",component:Layout,children:[{path:"",name:"taskInfo",component:()=>__vitePreload(()=>import("./index.6c9180c3.js"),["assets/index.6c9180c3.js","assets/index.7fd2d7d4.css","assets/el-message.8225f88b.css","assets/display.8569b2e4.js","assets/display.1dd3e9e2.css","assets/element-plus.ab042766.js","assets/ui.ef5d2b61.js","assets/plugin-vue_export-helper.98d5223b.js","assets/vform3-plus.5c4eeb71.js"])}]},{path:"/newTask",name:"newTask",component:Layout,children:[{path:"",name:"newTask",component:()=>__vitePreload(()=>import("./index.9571f220.js"),["assets/index.9571f220.js","assets/index.ca4a8509.css","assets/plugin-vue_export-helper.98d5223b.js","assets/element-plus.ab042766.js","assets/upload-filled.b3e74b54.js"]),redirect:"/newTask/baseInfo",children:[{path:"baseInfo",name:"baseInfo",component:()=>__vitePreload(()=>import("./index.7483f916.js"),["assets/index.7483f916.js","assets/index.0662df3e.css","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js"])},{name:"upload",path:"upload",component:()=>__vitePreload(()=>import("./index.43cd1060.js"),["assets/index.43cd1060.js","assets/index.9286c14a.css","assets/el-message.8225f88b.css","assets/ui.ef5d2b61.js","assets/element-plus.ab042766.js","assets/upload-filled.b3e74b54.js","assets/plugin-vue_export-helper.98d5223b.js","assets/vform3-plus.5c4eeb71.js"])},{path:"formDesign",name:"formDesign",component:()=>__vitePreload(()=>import("./index.53735a65.js"),["assets/index.53735a65.js","assets/index.7062ee22.css","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js"])},{path:"flowChart",name:"flowChart",component:()=>__vitePreload(()=>import("./index.f7cf621d.js"),["assets/index.f7cf621d.js","assets/index.c0c6abc1.css","assets/el-message.8225f88b.css","assets/index.02b6cd5b.js","assets/index.0c77c3af.css","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js","assets/search.f7aa7366.js","assets/plugin-vue_export-helper.98d5223b.js"]),meta:{title:"\u6D41\u7A0B\u56FE",rank:1}},{path:"permission",name:"permission",component:()=>__vitePreload(()=>import("./index.4d43bb19.js"),["assets/index.4d43bb19.js","assets/index.8171d998.css","assets/el-message.8225f88b.css","assets/search.f7aa7366.js","assets/plugin-vue_export-helper.98d5223b.js","assets/element-plus.ab042766.js","assets/vform3-plus.5c4eeb71.js"]),meta:{title:"\u6743\u9650\u8BBE\u7F6E",rank:1}}]}]}],router=createRouter({history:getHistoryMode(),routes:constantRoutes.concat(...remainingRouter,...otherRouter),strict:!0,scrollBehavior(e,r,l){return new Promise(g=>{if(l)return l;if(r.meta.saveSrollTop){const x=document.documentElement.scrollTop||document.body.scrollTop;g({left:0,top:x})}})}}),whiteList=["/login","/register"];router.beforeEach((e,r,l)=>{var f,n;if((f=e.meta)==null?void 0:f.keepAlive){const S=e.matched;handleAliveRoute(S,"add"),(r.name===void 0||r.name==="redirect")&&handleAliveRoute(S)}const g=getToken();let x,C=!0;if(g){x=JSON.parse(g);const S=new Date().getTime();C=parseInt(x.expires)-S<=0}NProgress.start();const u=(n=e==null?void 0:e.redirectedFrom)==null?void 0:n.fullPath;u||e.matched.some(S=>{document.title=S.meta.title?S.meta.title:""}),C?e.path!=="/login"?whiteList.indexOf(e.path)!==-1?l():l({path:"/login"}):l():(r==null?void 0:r.name)?u&&u.includes("http")?(openLink(`http${split$1(u,"http")[1]}`),NProgress.done()):l():(usePermissionStoreHook().wholeMenus.length===0&&initRouter(x.account).then(S=>{var k,M,P,$,R,B;if(!useMultiTagsStoreHook().getMultiTagsCache){const V=(j,U,q,Y)=>{useMultiTagsStoreHook().handleTags("push",{path:j,parentPath:U,name:q,meta:Y})};if((k=e.meta)==null?void 0:k.refreshRedirect){const j=S.options.routes,{refreshRedirect:U}=e.meta,{name:q,meta:Y}=findRouteByPath(U,j);return V(U,getParentPaths(U,j)[1],q,Y),S.push(U)}else{const{path:j}=e,q=findIndex(remainingRouter,te=>te.path==j)===-1?S.options.routes[0].children:S.options.routes,Y=findRouteByPath(j,q),Q=getParentPaths(j,q);if(j!==q[0].path&&((M=Y==null?void 0:Y.meta)==null?void 0:M.rank)!==0&&Q.length===0){if(!((P=Y==null?void 0:Y.meta)==null?void 0:P.refreshRedirect))return;const{name:te,meta:re}=findRouteByPath(Y.meta.refreshRedirect,q);return V(($=Y.meta)==null?void 0:$.refreshRedirect,getParentPaths((R=Y.meta)==null?void 0:R.refreshRedirect,q)[0],te,re),S.push((B=Y.meta)==null?void 0:B.refreshRedirect)}else return V(Y.path,Q[Q.length-1],Y.name,Y.meta),S.push(j)}}S.push(e.fullPath)}),l())});router.afterEach(()=>{NProgress.done()});const defaultTimestep=1/60*1e3,getCurrentTime=typeof performance!="undefined"?()=>performance.now():()=>Date.now(),onNextFrame=typeof window!="undefined"?e=>window.requestAnimationFrame(e):e=>setTimeout(()=>e(getCurrentTime()),defaultTimestep);function createRenderStep(e){let r=[],l=[],g=0,x=!1,C=!1;const u=new WeakSet,f={schedule:(n,S=!1,k=!1)=>{const M=k&&x,P=M?r:l;return S&&u.add(n),P.indexOf(n)===-1&&(P.push(n),M&&x&&(g=r.length)),n},cancel:n=>{const S=l.indexOf(n);S!==-1&&l.splice(S,1),u.delete(n)},process:n=>{if(x){C=!0;return}if(x=!0,[r,l]=[l,r],l.length=0,g=r.length,g)for(let S=0;S<g;S++){const k=r[S];k(n),u.has(k)&&(f.schedule(k),e())}x=!1,C&&(C=!1,f.process(n))}};return f}const maxElapsed=40;let useDefaultElapsed=!0,runNextFrame=!1,isProcessing=!1;const frame={delta:0,timestamp:0},stepsOrder=["read","update","preRender","render","postRender"],steps=stepsOrder.reduce((e,r)=>(e[r]=createRenderStep(()=>runNextFrame=!0),e),{}),sync=stepsOrder.reduce((e,r)=>{const l=steps[r];return e[r]=(g,x=!1,C=!1)=>(runNextFrame||startLoop(),l.schedule(g,x,C)),e},{}),cancelSync=stepsOrder.reduce((e,r)=>(e[r]=steps[r].cancel,e),{});stepsOrder.reduce((e,r)=>(e[r]=()=>steps[r].process(frame),e),{});const processStep=e=>steps[e].process(frame),processFrame=e=>{runNextFrame=!1,frame.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(e-frame.timestamp,maxElapsed),1),frame.timestamp=e,isProcessing=!0,stepsOrder.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{runNextFrame=!0,useDefaultElapsed=!0,isProcessing||onNextFrame(processFrame)},getFrameData=()=>frame;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __rest(e,r){var l={};for(var g in e)Object.prototype.hasOwnProperty.call(e,g)&&r.indexOf(g)<0&&(l[g]=e[g]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,g=Object.getOwnPropertySymbols(e);x<g.length;x++)r.indexOf(g[x])<0&&Object.prototype.propertyIsEnumerable.call(e,g[x])&&(l[g[x]]=e[g[x]]);return l}var warning=function(){},invariant=function(){};const clamp$1=(e,r,l)=>Math.min(Math.max(l,e),r),safeMin=.001,minDuration=.01,maxDuration=10,minDamping=.05,maxDamping=1;function findSpring({duration:e=800,bounce:r=.25,velocity:l=0,mass:g=1}){let x,C;warning(e<=maxDuration*1e3);let u=1-r;u=clamp$1(minDamping,maxDamping,u),e=clamp$1(minDuration,maxDuration,e/1e3),u<1?(x=S=>{const k=S*u,M=k*e,P=k-l,$=calcAngularFreq(S,u),R=Math.exp(-M);return safeMin-P/$*R},C=S=>{const M=S*u*e,P=M*l+l,$=Math.pow(u,2)*Math.pow(S,2)*e,R=Math.exp(-M),B=calcAngularFreq(Math.pow(S,2),u);return(-x(S)+safeMin>0?-1:1)*((P-$)*R)/B}):(x=S=>{const k=Math.exp(-S*e),M=(S-l)*e+1;return-safeMin+k*M},C=S=>{const k=Math.exp(-S*e),M=(l-S)*(e*e);return k*M});const f=5/e,n=approximateRoot(x,C,f);if(e=e*1e3,isNaN(n))return{stiffness:100,damping:10,duration:e};{const S=Math.pow(n,2)*g;return{stiffness:S,damping:u*2*Math.sqrt(g*S),duration:e}}}const rootIterations=12;function approximateRoot(e,r,l){let g=l;for(let x=1;x<rootIterations;x++)g=g-e(g)/r(g);return g}function calcAngularFreq(e,r){return e*Math.sqrt(1-r*r)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(e,r){return r.some(l=>e[l]!==void 0)}function getSpringOptions(e){let r=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!isSpringType(e,physicsKeys)&&isSpringType(e,durationKeys)){const l=findSpring(e);r=Object.assign(Object.assign(Object.assign({},r),l),{velocity:0,mass:1}),r.isResolvedFromDuration=!0}return r}function spring(e){var{from:r=0,to:l=1,restSpeed:g=2,restDelta:x}=e,C=__rest(e,["from","to","restSpeed","restDelta"]);const u={done:!1,value:r};let{stiffness:f,damping:n,mass:S,velocity:k,duration:M,isResolvedFromDuration:P}=getSpringOptions(C),$=zero,R=zero;function B(){const V=k?-(k/1e3):0,j=l-r,U=n/(2*Math.sqrt(f*S)),q=Math.sqrt(f/S)/1e3;if(x===void 0&&(x=Math.min(Math.abs(l-r)/100,.4)),U<1){const Y=calcAngularFreq(q,U);$=Q=>{const te=Math.exp(-U*q*Q);return l-te*((V+U*q*j)/Y*Math.sin(Y*Q)+j*Math.cos(Y*Q))},R=Q=>{const te=Math.exp(-U*q*Q);return U*q*te*(Math.sin(Y*Q)*(V+U*q*j)/Y+j*Math.cos(Y*Q))-te*(Math.cos(Y*Q)*(V+U*q*j)-Y*j*Math.sin(Y*Q))}}else if(U===1)$=Y=>l-Math.exp(-q*Y)*(j+(V+q*j)*Y);else{const Y=q*Math.sqrt(U*U-1);$=Q=>{const te=Math.exp(-U*q*Q),re=Math.min(Y*Q,300);return l-te*((V+U*q*j)*Math.sinh(re)+Y*j*Math.cosh(re))/Y}}}return B(),{next:V=>{const j=$(V);if(P)u.done=V>=M;else{const U=R(V)*1e3,q=Math.abs(U)<=g,Y=Math.abs(l-j)<=x;u.done=q&&Y}return u.value=u.done?l:j,u},flipTarget:()=>{k=-k,[r,l]=[l,r],B()}}}spring.needsInterpolation=(e,r)=>typeof e=="string"||typeof r=="string";const zero=e=>0,progress=(e,r,l)=>{const g=r-e;return g===0?1:(l-e)/g},mix=(e,r,l)=>-l*e+l*r+e,clamp=(e,r)=>l=>Math.max(Math.min(l,r),e),sanitize=e=>e%1?Number(e.toFixed(5)):e,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function isString$a(e){return typeof e=="string"}const number={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},alpha=Object.assign(Object.assign({},number),{transform:clamp(0,1)}),scale=Object.assign(Object.assign({},number),{default:1}),createUnitType=e=>({test:r=>isString$a(r)&&r.endsWith(e)&&r.split(" ").length===1,parse:parseFloat,transform:r=>`${r}${e}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),progressPercentage=Object.assign(Object.assign({},percent),{parse:e=>percent.parse(e)/100,transform:e=>percent.transform(e*100)}),isColorString=(e,r)=>l=>Boolean(isString$a(l)&&singleColorRegex.test(l)&&l.startsWith(e)||r&&Object.prototype.hasOwnProperty.call(l,r)),splitColor=(e,r,l)=>g=>{if(!isString$a(g))return g;const[x,C,u,f]=g.match(floatRegex);return{[e]:parseFloat(x),[r]:parseFloat(C),[l]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:e,saturation:r,lightness:l,alpha:g=1})=>"hsla("+Math.round(e)+", "+percent.transform(sanitize(r))+", "+percent.transform(sanitize(l))+", "+sanitize(alpha.transform(g))+")"},clampRgbUnit=clamp(0,255),rgbUnit=Object.assign(Object.assign({},number),{transform:e=>Math.round(clampRgbUnit(e))}),rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:e,green:r,blue:l,alpha:g=1})=>"rgba("+rgbUnit.transform(e)+", "+rgbUnit.transform(r)+", "+rgbUnit.transform(l)+", "+sanitize(alpha.transform(g))+")"};function parseHex(e){let r="",l="",g="",x="";return e.length>5?(r=e.substr(1,2),l=e.substr(3,2),g=e.substr(5,2),x=e.substr(7,2)):(r=e.substr(1,1),l=e.substr(2,1),g=e.substr(3,1),x=e.substr(4,1),r+=r,l+=l,g+=g,x+=x),{red:parseInt(r,16),green:parseInt(l,16),blue:parseInt(g,16),alpha:x?parseInt(x,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},color={test:e=>rgba.test(e)||hex.test(e)||hsla.test(e),parse:e=>rgba.test(e)?rgba.parse(e):hsla.test(e)?hsla.parse(e):hex.parse(e),transform:e=>isString$a(e)?e:e.hasOwnProperty("red")?rgba.transform(e):hsla.transform(e)},colorToken="${c}",numberToken="${n}";function test(e){var r,l,g,x;return isNaN(e)&&isString$a(e)&&((l=(r=e.match(floatRegex))===null||r===void 0?void 0:r.length)!==null&&l!==void 0?l:0)+((x=(g=e.match(colorRegex))===null||g===void 0?void 0:g.length)!==null&&x!==void 0?x:0)>0}function analyse$1(e){typeof e=="number"&&(e=`${e}`);const r=[];let l=0;const g=e.match(colorRegex);g&&(l=g.length,e=e.replace(colorRegex,colorToken),r.push(...g.map(color.parse)));const x=e.match(floatRegex);return x&&(e=e.replace(floatRegex,numberToken),r.push(...x.map(number.parse))),{values:r,numColors:l,tokenised:e}}function parse(e){return analyse$1(e).values}function createTransformer(e){const{values:r,numColors:l,tokenised:g}=analyse$1(e),x=r.length;return C=>{let u=g;for(let f=0;f<x;f++)u=u.replace(f<l?colorToken:numberToken,f<l?color.transform(C[f]):sanitize(C[f]));return u}}const convertNumbersToZero=e=>typeof e=="number"?0:e;function getAnimatableNone$1(e){const r=parse(e);return createTransformer(e)(r.map(convertNumbersToZero))}const complex={test,parse,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(e){let[r,l]=e.slice(0,-1).split("(");if(r==="drop-shadow")return e;const[g]=l.match(floatRegex)||[];if(!g)return e;const x=l.replace(g,"");let C=maxDefaults.has(r)?1:0;return g!==l&&(C*=100),r+"("+C+x+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter$2=Object.assign(Object.assign({},complex),{getAnimatableNone:e=>{const r=e.match(functionRegex);return r?r.map(applyDefaultFilter).join(" "):e}});function hueToRgb(e,r,l){return l<0&&(l+=1),l>1&&(l-=1),l<1/6?e+(r-e)*6*l:l<1/2?r:l<2/3?e+(r-e)*(2/3-l)*6:e}function hslaToRgba({hue:e,saturation:r,lightness:l,alpha:g}){e/=360,r/=100,l/=100;let x=0,C=0,u=0;if(!r)x=C=u=l;else{const f=l<.5?l*(1+r):l+r-l*r,n=2*l-f;x=hueToRgb(n,f,e+1/3),C=hueToRgb(n,f,e),u=hueToRgb(n,f,e-1/3)}return{red:Math.round(x*255),green:Math.round(C*255),blue:Math.round(u*255),alpha:g}}const mixLinearColor=(e,r,l)=>{const g=e*e,x=r*r;return Math.sqrt(Math.max(0,l*(x-g)+g))},colorTypes=[hex,rgba,hsla],getColorType=e=>colorTypes.find(r=>r.test(e)),mixColor=(e,r)=>{let l=getColorType(e),g=getColorType(r),x=l.parse(e),C=g.parse(r);l===hsla&&(x=hslaToRgba(x),l=rgba),g===hsla&&(C=hslaToRgba(C),g=rgba);const u=Object.assign({},x);return f=>{for(const n in u)n!=="alpha"&&(u[n]=mixLinearColor(x[n],C[n],f));return u.alpha=mix(x.alpha,C.alpha,f),l.transform(u)}},isNum=e=>typeof e=="number",combineFunctions=(e,r)=>l=>r(e(l)),pipe=(...e)=>e.reduce(combineFunctions);function getMixer(e,r){return isNum(e)?l=>mix(e,r,l):color.test(e)?mixColor(e,r):mixComplex(e,r)}const mixArray=(e,r)=>{const l=[...e],g=l.length,x=e.map((C,u)=>getMixer(C,r[u]));return C=>{for(let u=0;u<g;u++)l[u]=x[u](C);return l}},mixObject=(e,r)=>{const l=Object.assign(Object.assign({},e),r),g={};for(const x in l)e[x]!==void 0&&r[x]!==void 0&&(g[x]=getMixer(e[x],r[x]));return x=>{for(const C in g)l[C]=g[C](x);return l}};function analyse(e){const r=complex.parse(e),l=r.length;let g=0,x=0,C=0;for(let u=0;u<l;u++)g||typeof r[u]=="number"?g++:r[u].hue!==void 0?C++:x++;return{parsed:r,numNumbers:g,numRGB:x,numHSL:C}}const mixComplex=(e,r)=>{const l=complex.createTransformer(r),g=analyse(e),x=analyse(r);return g.numHSL===x.numHSL&&g.numRGB===x.numRGB&&g.numNumbers>=x.numNumbers?pipe(mixArray(g.parsed,x.parsed),l):u=>`${u>0?r:e}`},mixNumber=(e,r)=>l=>mix(e,r,l);function detectMixerFactory(e){if(typeof e=="number")return mixNumber;if(typeof e=="string")return color.test(e)?mixColor:mixComplex;if(Array.isArray(e))return mixArray;if(typeof e=="object")return mixObject}function createMixers(e,r,l){const g=[],x=l||detectMixerFactory(e[0]),C=e.length-1;for(let u=0;u<C;u++){let f=x(e[u],e[u+1]);if(r){const n=Array.isArray(r)?r[u]:r;f=pipe(n,f)}g.push(f)}return g}function fastInterpolate([e,r],[l]){return g=>l(progress(e,r,g))}function slowInterpolate(e,r){const l=e.length,g=l-1;return x=>{let C=0,u=!1;if(x<=e[0]?u=!0:x>=e[g]&&(C=g-1,u=!0),!u){let n=1;for(;n<l&&!(e[n]>x||n===g);n++);C=n-1}const f=progress(e[C],e[C+1],x);return r[C](f)}}function interpolate(e,r,{clamp:l=!0,ease:g,mixer:x}={}){const C=e.length;invariant(C===r.length),invariant(!g||!Array.isArray(g)||g.length===C-1),e[0]>e[C-1]&&(e=[].concat(e),r=[].concat(r),e.reverse(),r.reverse());const u=createMixers(r,g,x),f=C===2?fastInterpolate(e,u):slowInterpolate(e,u);return l?n=>f(clamp$1(e[0],e[C-1],n)):f}const reverseEasing=e=>r=>1-e(1-r),mirrorEasing=e=>r=>r<=.5?e(2*r)/2:(2-e(2*(1-r)))/2,createExpoIn=e=>r=>Math.pow(r,e),createBackIn=e=>r=>r*r*((e+1)*r-e),createAnticipate=e=>{const r=createBackIn(e);return l=>(l*=2)<1?.5*r(l):.5*(2-Math.pow(2,-10*(l-1)))},DEFAULT_OVERSHOOT_STRENGTH=1.525,BOUNCE_FIRST_THRESHOLD=4/11,BOUNCE_SECOND_THRESHOLD=8/11,BOUNCE_THIRD_THRESHOLD=9/10,linear=e=>e,easeIn=createExpoIn(2),easeOut=reverseEasing(easeIn),easeInOut=mirrorEasing(easeIn),circIn=e=>1-Math.sin(Math.acos(e)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circOut),backIn=createBackIn(DEFAULT_OVERSHOOT_STRENGTH),backOut=reverseEasing(backIn),backInOut=mirrorEasing(backIn),anticipate=createAnticipate(DEFAULT_OVERSHOOT_STRENGTH),ca=4356/361,cb=35442/1805,cc=16061/1805,bounceOut=e=>{if(e===1||e===0)return e;const r=e*e;return e<BOUNCE_FIRST_THRESHOLD?7.5625*r:e<BOUNCE_SECOND_THRESHOLD?9.075*r-9.9*e+3.4:e<BOUNCE_THIRD_THRESHOLD?ca*r-cb*e+cc:10.8*e*e-20.52*e+10.72},bounceIn=reverseEasing(bounceOut),bounceInOut=e=>e<.5?.5*(1-bounceOut(1-e*2)):.5*bounceOut(e*2-1)+.5;function defaultEasing(e,r){return e.map(()=>r||easeInOut).splice(0,e.length-1)}function defaultOffset(e){const r=e.length;return e.map((l,g)=>g!==0?g/(r-1):0)}function convertOffsetToTimes(e,r){return e.map(l=>l*r)}function keyframes$1({from:e=0,to:r=1,ease:l,offset:g,duration:x=300}){const C={done:!1,value:e},u=Array.isArray(r)?r:[e,r],f=convertOffsetToTimes(g&&g.length===u.length?g:defaultOffset(u),x);function n(){return interpolate(f,u,{ease:Array.isArray(l)?l:defaultEasing(u,l)})}let S=n();return{next:k=>(C.value=S(k),C.done=k>=x,C),flipTarget:()=>{u.reverse(),S=n()}}}function decay({velocity:e=0,from:r=0,power:l=.8,timeConstant:g=350,restDelta:x=.5,modifyTarget:C}){const u={done:!1,value:r};let f=l*e;const n=r+f,S=C===void 0?n:C(n);return S!==n&&(f=S-r),{next:k=>{const M=-f*Math.exp(-k/g);return u.done=!(M>x||M<-x),u.value=u.done?S:S+M,u},flipTarget:()=>{}}}const types={keyframes:keyframes$1,spring,decay};function detectAnimationFromOptions(e){if(Array.isArray(e.to))return keyframes$1;if(types[e.type])return types[e.type];const r=new Set(Object.keys(e));return r.has("ease")||r.has("duration")&&!r.has("dampingRatio")?keyframes$1:r.has("dampingRatio")||r.has("stiffness")||r.has("mass")||r.has("damping")||r.has("restSpeed")||r.has("restDelta")?spring:keyframes$1}function loopElapsed(e,r,l=0){return e-r-l}function reverseElapsed(e,r,l=0,g=!0){return g?loopElapsed(r+-e,r,l):r-(e-r)+l}function hasRepeatDelayElapsed(e,r,l,g){return g?e>=r+l:e<=-l}const framesync=e=>{const r=({delta:l})=>e(l);return{start:()=>sync.update(r,!0),stop:()=>cancelSync.update(r)}};function animate$1(e){var r,l,{from:g,autoplay:x=!0,driver:C=framesync,elapsed:u=0,repeat:f=0,repeatType:n="loop",repeatDelay:S=0,onPlay:k,onStop:M,onComplete:P,onRepeat:$,onUpdate:R}=e,B=__rest(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:V}=B,j,U=0,q=B.duration,Y,Q=!1,te=!0,re;const oe=detectAnimationFromOptions(B);((l=(r=oe).needsInterpolation)===null||l===void 0?void 0:l.call(r,g,V))&&(re=interpolate([0,100],[g,V],{clamp:!1}),g=0,V=100);const se=oe(Object.assign(Object.assign({},B),{from:g,to:V}));function fe(){U++,n==="reverse"?(te=U%2==0,u=reverseElapsed(u,q,S,te)):(u=loopElapsed(u,q,S),n==="mirror"&&se.flipTarget()),Q=!1,$&&$()}function ge(){j.stop(),P&&P()}function Ce(be){if(te||(be=-be),u+=be,!Q){const ke=se.next(Math.max(0,u));Y=ke.value,re&&(Y=re(Y)),Q=te?ke.done:u<=0}R==null||R(Y),Q&&(U===0&&(q!=null||(q=u)),U<f?hasRepeatDelayElapsed(u,q,S,te)&&fe():ge())}function $e(){k==null||k(),j=C(Ce),j.start()}return x&&$e(),{stop:()=>{M==null||M(),j.stop()}}}function velocityPerSecond(e,r){return r?e*(1e3/r):0}function inertia({from:e=0,velocity:r=0,min:l,max:g,power:x=.8,timeConstant:C=750,bounceStiffness:u=500,bounceDamping:f=10,restDelta:n=1,modifyTarget:S,driver:k,onUpdate:M,onComplete:P,onStop:$}){let R;function B(q){return l!==void 0&&q<l||g!==void 0&&q>g}function V(q){return l===void 0?g:g===void 0||Math.abs(l-q)<Math.abs(g-q)?l:g}function j(q){R==null||R.stop(),R=animate$1(Object.assign(Object.assign({},q),{driver:k,onUpdate:Y=>{var Q;M==null||M(Y),(Q=q.onUpdate)===null||Q===void 0||Q.call(q,Y)},onComplete:P,onStop:$}))}function U(q){j(Object.assign({type:"spring",stiffness:u,damping:f,restDelta:n},q))}if(B(e))U({from:e,velocity:r,to:V(e)});else{let q=x*r+e;typeof S!="undefined"&&(q=S(q));const Y=V(q),Q=Y===l?-1:1;let te,re;const oe=se=>{te=re,re=se,r=velocityPerSecond(se-te,getFrameData().delta),(Q===1&&se>Y||Q===-1&&se<Y)&&U({from:se,to:Y,velocity:r})};j({type:"decay",from:e,velocity:r,timeConstant:C,power:x,restDelta:n,modifyTarget:S,onUpdate:B(q)?oe:void 0})}return{stop:()=>R==null?void 0:R.stop()}}const a=(e,r)=>1-3*r+3*e,b=(e,r)=>3*r-6*e,c=e=>3*e,calcBezier=(e,r,l)=>((a(r,l)*e+b(r,l))*e+c(r))*e,getSlope=(e,r,l)=>3*a(r,l)*e*e+2*b(r,l)*e+c(r),subdivisionPrecision=1e-7,subdivisionMaxIterations=10;function binarySubdivide(e,r,l,g,x){let C,u,f=0;do u=r+(l-r)/2,C=calcBezier(u,g,x)-e,C>0?l=u:r=u;while(Math.abs(C)>subdivisionPrecision&&++f<subdivisionMaxIterations);return u}const newtonIterations=8,newtonMinSlope=.001;function newtonRaphsonIterate(e,r,l,g){for(let x=0;x<newtonIterations;++x){const C=getSlope(r,l,g);if(C===0)return r;r-=(calcBezier(r,l,g)-e)/C}return r}const kSplineTableSize=11,kSampleStepSize=1/(kSplineTableSize-1);function cubicBezier(e,r,l,g){if(e===r&&l===g)return linear;const x=new Float32Array(kSplineTableSize);for(let u=0;u<kSplineTableSize;++u)x[u]=calcBezier(u*kSampleStepSize,e,l);function C(u){let f=0,n=1;const S=kSplineTableSize-1;for(;n!==S&&x[n]<=u;++n)f+=kSampleStepSize;--n;const k=(u-x[n])/(x[n+1]-x[n]),M=f+k*kSampleStepSize,P=getSlope(M,e,l);return P>=newtonMinSlope?newtonRaphsonIterate(u,M,e,l):P===0?M:binarySubdivide(u,f,f+kSampleStepSize,e,l)}return u=>u===0||u===1?u:calcBezier(C(u),r,g)}const motionState={};class SubscriptionManager{constructor(){this.subscriptions=new Set}add(r){return this.subscriptions.add(r),()=>void this.subscriptions.delete(r)}notify(r,l,g){if(!!this.subscriptions.size)for(const x of this.subscriptions)x(r,l,g)}clear(){this.subscriptions.clear()}}const isFloat$2=e=>!isNaN(parseFloat(e));class MotionValue{constructor(r){this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new SubscriptionManager,this.canTrackVelocity=!1,this.updateAndNotify=l=>{this.prev=this.current,this.current=l;const{delta:g,timestamp:x}=getFrameData();this.lastUpdated!==x&&(this.timeDelta=g,this.lastUpdated=x),sync.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>sync.postRender(this.velocityCheck),this.velocityCheck=({timestamp:l})=>{this.canTrackVelocity||(this.canTrackVelocity=isFloat$2(this.current)),l!==this.lastUpdated&&(this.prev=this.current)},this.prev=this.current=r,this.canTrackVelocity=isFloat$2(this.current)}onChange(r){return this.updateSubscribers.add(r)}clearListeners(){this.updateSubscribers.clear()}set(r){this.updateAndNotify(r)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(r){return this.stop(),new Promise(l=>{const{stop:g}=r(l);this.stopAnimation=g}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function getMotionValue(e){return new MotionValue(e)}const{isArray:isArray$s}=Array;function useMotionValues(){const e=ref({}),r=g=>{const x=C=>{!e.value[C]||(e.value[C].stop(),e.value[C].destroy(),del(e.value,C))};g?isArray$s(g)?g.forEach(x):x(g):Object.keys(e.value).forEach(x)},l=(g,x,C)=>{if(e.value[g])return e.value[g];const u=getMotionValue(x);return u.onChange(f=>{set$2(C,g,f)}),set$2(e.value,g,u),u};return tryOnUnmounted(r),{motionValues:e,get:l,stop:r}}const isKeyframesTarget=e=>Array.isArray(e),underDampedSpring=()=>({type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}),criticallyDampedSpring=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}),overDampedSpring=e=>({type:"spring",stiffness:550,damping:e===0?100:30,restDelta:.01,restSpeed:10}),linearTween=()=>({type:"keyframes",ease:"linear",duration:300}),keyframes=e=>({type:"keyframes",duration:800,values:e}),defaultTransitions={default:overDampedSpring,x:underDampedSpring,y:underDampedSpring,z:underDampedSpring,rotate:underDampedSpring,rotateX:underDampedSpring,rotateY:underDampedSpring,rotateZ:underDampedSpring,scaleX:criticallyDampedSpring,scaleY:criticallyDampedSpring,scale:criticallyDampedSpring,backgroundColor:linearTween,color:linearTween,opacity:linearTween},getDefaultTransition=(e,r)=>{let l;return isKeyframesTarget(r)?l=keyframes:l=defaultTransitions[e]||defaultTransitions.default,gi({to:r},l(r))},int=Us(gi({},number),{transform:Math.round}),valueTypes={color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,filter:filter$2,WebkitFilter:filter$2,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int},getValueType=e=>valueTypes[e],getValueAsType=(e,r)=>r&&typeof e=="number"&&r.transform?r.transform(e):e;function getAnimatableNone(e,r){let l=getValueType(e);return l!==filter$2&&(l=complex),l.getAnimatableNone?l.getAnimatableNone(r):void 0}const easingLookup={linear,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate,bounceIn,bounceInOut,bounceOut},easingDefinitionToFunction=e=>{if(Array.isArray(e)){const[r,l,g,x]=e;return cubicBezier(r,l,g,x)}else if(typeof e=="string")return easingLookup[e];return e},isEasingArray=e=>Array.isArray(e)&&typeof e[0]!="number",isAnimatable=(e,r)=>e==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&complex.test(r)&&!r.startsWith("url("));function hydrateKeyframes(e){return Array.isArray(e.to)&&e.to[0]===null&&(e.to=[...e.to],e.to[0]=e.from),e}function convertTransitionToAnimationOptions(x){var C=x,{ease:e,times:r,delay:l}=C,g=Ou(C,["ease","times","delay"]);const u=gi({},g);return r&&(u.offset=r),e&&(u.ease=isEasingArray(e)?e.map(easingDefinitionToFunction):easingDefinitionToFunction(e)),l&&(u.elapsed=-l),u}function getPopmotionAnimationOptions(e,r,l){return Array.isArray(r.to)&&(e.duration||(e.duration=800)),hydrateKeyframes(r),isTransitionDefined(e)||(e=gi(gi({},e),getDefaultTransition(l,r.to))),gi(gi({},r),convertTransitionToAnimationOptions(e))}function isTransitionDefined(u){var f=u,{delay:e,repeat:r,repeatType:l,repeatDelay:g,from:x}=f,C=Ou(f,["delay","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(C).length}function getValueTransition(e,r){return e[r]||e.default||e}function getAnimation(e,r,l,g,x){const C=getValueTransition(g,e);let u=C.from===null||C.from===void 0?r.get():C.from;const f=isAnimatable(e,l);u==="none"&&f&&typeof l=="string"&&(u=getAnimatableNone(e,l));const n=isAnimatable(e,u);function S(M){const P={from:u,to:l,velocity:g.velocity?g.velocity:r.getVelocity(),onUpdate:$=>r.set($)};return C.type==="inertia"||C.type==="decay"?inertia(gi(gi({},P),C)):animate$1(Us(gi({},getPopmotionAnimationOptions(C,P,e)),{onUpdate:$=>{P.onUpdate($),C.onUpdate&&C.onUpdate($)},onComplete:()=>{g.onComplete&&g.onComplete(),x&&x(),M&&M()}}))}function k(M){return r.set(l),g.onComplete&&g.onComplete(),x&&x(),M&&M(),{stop:()=>{}}}return!n||!f||C.type===!1?k:S}function useMotionTransitions(){const{motionValues:e,stop:r,get:l}=useMotionValues();return{motionValues:e,stop:r,push:(x,C,u,f={},n)=>{const S=u[x],k=l(x,S,u);if(f&&f.immediate){k.set(C);return}const M=getAnimation(x,k,C,f,n);k.start(M)}}}function useMotionControls(e,r={},{motionValues:l,push:g,stop:x}=useMotionTransitions()){const C=unref(r),u=ref(!1),f=watch(l,P=>{u.value=Object.values(P).filter($=>$.isAnimating()).length>0},{immediate:!0,deep:!0}),n=P=>{if(!C||!C[P])throw new Error(`The variant ${P} does not exist.`);return C[P]},S=P=>(typeof P=="string"&&(P=n(P)),Promise.all(Object.entries(P).map(([$,R])=>{if($!=="transition")return new Promise(B=>{g($,R,e,P.transition||getDefaultTransition($,P[$]),B)})})));return{isAnimating:u,apply:S,set:P=>{let $=isObject$5(P)?P:n(P);Object.entries($).forEach(([R,B])=>{R!=="transition"&&g(R,B,e,{immediate:!0})})},stopTransitions:()=>{f(),x()},leave:async P=>{let $;if(C&&(C.leave&&($=C.leave),!C.leave&&C.initial&&($=C.initial)),!$){P();return}await S($),P()}}}const isBrowser=typeof window!="undefined",supportsPointerEvents=()=>isBrowser&&window.onpointerdown===null,supportsTouchEvents=()=>isBrowser&&window.ontouchstart===null,supportsMouseEvents=()=>isBrowser&&window.onmousedown===null;function registerEventListeners({target:e,state:r,variants:l,apply:g}){const x=unref(l),C=[],u=(...R)=>{const B=useEventListener.apply(null,R);return C.push(B),B},f=ref(!1),n=ref(!1),S=ref(!1),k=computed(()=>{let R=[];return x&&(x.hovered&&(R=[...R,...Object.keys(x.hovered)]),x.tapped&&(R=[...R,...Object.keys(x.tapped)]),x.focused&&(R=[...R,...Object.keys(x.focused)])),R}),M=computed(()=>{const R={};Object.assign(R,r.value),f.value&&x.hovered&&Object.assign(R,x.hovered),n.value&&x.tapped&&Object.assign(R,x.tapped),S.value&&x.focused&&Object.assign(R,x.focused);for(const B in R)k.value.includes(B)||delete R[B];return R});x.hovered&&(u(e,"mouseenter",()=>{f.value=!0}),u(e,"mouseleave",()=>{f.value=!1,n.value=!1}),u(e,"mouseout",()=>{f.value=!1,n.value=!1})),x.tapped&&(supportsMouseEvents()&&(u(e,"mousedown",()=>{n.value=!0}),u(e,"mouseup",()=>{n.value=!1})),supportsPointerEvents()&&(u(e,"pointerdown",()=>{n.value=!0}),u(e,"pointerup",()=>{n.value=!1})),supportsTouchEvents()&&(u(e,"touchstart",()=>{n.value=!0}),u(e,"touchend",()=>{n.value=!1}))),x.focused&&(u(e,"focus",()=>{S.value=!0}),u(e,"blur",()=>{S.value=!1}));const P=watch(M,g);return{stop:()=>{C.forEach(R=>R()),P()}}}function registerLifeCycleHooks({set:e,target:r,variants:l,variant:g}){const x=unref(l);return{stop:watch(()=>r,()=>{!x||(x.initial&&e("initial"),x.enter&&(g.value="enter"))},{immediate:!0,flush:"pre"})}}function registerVariantsSync({state:e,apply:r}){return{stop:watch(e,g=>{g&&r(g)},{immediate:!0})}}function registerVisibilityHooks({target:e,variants:r,variant:l}){const g=unref(r);let x=noop$2;if(g&&g.visible){const{stop:C}=useIntersectionObserver(e,([{isIntersecting:u}])=>{u?l.value="visible":l.value="initial"});x=C}return{stop:x}}function useMotionFeatures(e,r={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){const l=ref([]);if(r.lifeCycleHooks){const{stop:x}=registerLifeCycleHooks(e);l.value.push(x)}if(r.syncVariants){const{stop:x}=registerVariantsSync(e);l.value.push(x)}if(r.visibilityHooks){const{stop:x}=registerVisibilityHooks(e);l.value.push(x)}if(r.eventListeners){const{stop:x}=registerEventListeners(e);l.value.push(x)}const g=()=>l.value.forEach(x=>x());return tryOnUnmounted(g),{stop:g}}function reactiveStyle(e={}){const r=reactive(gi({},e)),l=ref({});return watch(r,()=>{const g={};for(const[x,C]of Object.entries(r)){const u=getValueType(x),f=getValueAsType(C,u);g[x]=f}l.value=g},{immediate:!0,deep:!0}),{state:r,style:l}}const transformAxes=["","X","Y","Z"],order=["perspective","translate","scale","rotate","skew"],transformProps=["transformPerspective","x","y","z"];order.forEach(e=>{transformAxes.forEach(r=>{const l=e+r;transformProps.push(l)})});const transformPropSet=new Set(transformProps);function isTransformProp(e){return transformPropSet.has(e)}const transformOriginProps=new Set(["originX","originY","originZ"]);function isTransformOriginProp(e){return transformOriginProps.has(e)}function useElementStyle(e,r){let l,g;const{state:x,style:C}=reactiveStyle(),u=watch(()=>unrefElement(e),S=>{if(!!S){g=S;for(const k of Object.keys(valueTypes))S.style[k]===null||S.style[k]===""||isTransformProp(k)||isTransformOriginProp(k)||set$2(x,k,S.style[k]);l&&Object.entries(l).forEach(([k,M])=>set$2(S.style,k,M)),r&&r(x)}},{immediate:!0}),f=watch(C,S=>{if(!g){l=S;return}for(const k in S)set$2(g.style,k,S[k])},{immediate:!0});return{style:x,stop:()=>{g=void 0,l=void 0,u(),f()}}}const translateAlias={x:"translateX",y:"translateY",z:"translateZ"};function reactiveTransform(e={},r=!0){const l=reactive(gi({},e)),g=ref("");return watch(l,x=>{let C="",u=!1;r&&(x.x||x.y||x.z)&&(C+=`translate3d(${[x.x||0,x.y||0,x.z||0].map(px.transform).join(",")}) `,u=!0);for(const[f,n]of Object.entries(x)){if(r&&(f==="x"||f==="y"||f==="z"))continue;const S=getValueType(f),k=getValueAsType(n,S);C+=`${translateAlias[f]||f}(${k}) `}r&&!u&&(C+="translateZ(0px) "),g.value=C.trim()},{immediate:!0,deep:!0}),{state:l,transform:g}}function parseTransform(e){const r=e.trim().split(/\) |\)/);if(r.length===1)return{};const l=g=>g.endsWith("px")||g.endsWith("deg")?parseFloat(g):isNaN(Number(g))?Number(g):g;return r.reduce((g,x)=>{if(!x)return g;const[C,u]=x.split("("),n=u.split(",").map(k=>l(k.endsWith(")")?k.replace(")",""):k.trim())),S=n.length===1?n[0]:n;return Us(gi({},g),{[C]:S})},{})}function stateFromTransform(e,r){Object.entries(parseTransform(r)).forEach(([l,g])=>{g=parseFloat(g);const x=["x","y","z"];if(l==="translate3d"){g.forEach((C,u)=>{set$2(e,x[u],C)});return}if(l==="translateX"){set$2(e,"x",g);return}if(l==="translateY"){set$2(e,"y",g);return}if(l==="translateZ"){set$2(e,"z",g);return}set$2(e,l,g)})}function useElementTransform(e,r){let l,g;const{state:x,transform:C}=reactiveTransform(),u=watch(()=>unrefElement(e),S=>{!S||(g=S,S.style.transform&&stateFromTransform(x,S.style.transform),l&&(S.style.transform=l),r&&r(x))},{immediate:!0}),f=watch(C,S=>{if(!g){l=S;return}g.style.transform=S},{immediate:!0});return{transform:x,stop:()=>{l=void 0,g=void 0,u(),f()}}}function useMotionProperties(e,r){const l=reactive({}),g=M=>{Object.entries(M).forEach(([P,$])=>{set$2(l,P,$)})},{style:x,stop:C}=useElementStyle(e,g),{transform:u,stop:f}=useElementTransform(e,g),n=watch(l,M=>{Object.entries(M).forEach(([P,$])=>{const R=isTransformProp(P)?u:x;R[P]&&R[P]===$||set$2(R,P,$)})},{immediate:!0,deep:!0}),S=watch(()=>unrefElement(e),M=>{!M||r&&g(r)},{immediate:!0});return{motionProperties:l,style:x,transform:u,stop:()=>{C(),f(),n(),S()}}}function useMotionVariants(e={}){const r=unref(e),l=ref();return{state:computed(()=>{if(!!l.value)return r[l.value]}),variant:l}}function useMotion(e,r={},l){const{motionProperties:g,stop:x}=useMotionProperties(e),{variant:C,state:u}=useMotionVariants(r),f=useMotionControls(g,r),n=Us(gi({target:e,variant:C,variants:r,state:u,motionProperties:g},f),{stop:(k=!1)=>{}}),{stop:S}=useMotionFeatures(n,l);return n.stop=(k=!1)=>{const M=()=>{n.stopTransitions(),x(),S()};if(!k&&r.value&&r.value.leave){const P=watch(n.isAnimating,$=>{$||(P(),M())})}else M()},tryOnUnmounted(()=>n.stop()),n}const directivePropsKeys=["initial","enter","leave","visible","hovered","tapped","focused","delay"],resolveVariants=(e,r)=>{const l=e.props?e.props:e.data&&e.data.attrs?e.data.attrs:{};l&&(l.variants&&isObject$5(l.variants)&&(r.value=gi(gi({},r.value),l.variants)),directivePropsKeys.forEach(g=>{if(g==="delay"){if(l&&l[g]&&isNumber$c(l[g])){const x=l[g];r&&r.value&&(r.value.enter&&(r.value.enter.transition||(r.value.enter.transition={}),r.value.enter.transition=Us(gi({},r.value.enter.transition),{delay:x})),r.value.visible&&(r.value.visible.transition||(r.value.visible.transition={}),r.value.visible.transition=Us(gi({},r.value.visible.transition),{delay:x})))}return}l&&l[g]&&isObject$5(l[g])&&(r.value[g]=l[g])}))},directive=e=>{const r=(g,x,C)=>{const u=x.value||C.key;u&&motionState[u]&&motionState[u].stop();const f=ref(e||{});resolveVariants(C,f);const n=useMotion(g,f);g.motionInstance=n,u&&set$2(motionState,u,n)},l=(g,x,C)=>{g.motionInstance&&g.motionInstance.stop()};return{created:r,unmounted:l,bind:r,unbind:l}},fade={initial:{opacity:0},enter:{opacity:1}},fadeVisible={initial:{opacity:0},visible:{opacity:1}},pop={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},popVisible={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},rollLeft={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},rollVisibleLeft={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},rollRight={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},rollVisibleRight={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},rollTop={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},rollVisibleTop={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},rollBottom={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},rollVisibleBottom={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},slideLeft={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},slideVisibleLeft={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},slideRight={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},slideVisibleRight={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},slideTop={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},slideVisibleTop={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},slideBottom={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},slideVisibleBottom={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},presets={__proto__:null,fade,fadeVisible,pop,popVisible,rollBottom,rollLeft,rollRight,rollTop,rollVisibleBottom,rollVisibleLeft,rollVisibleRight,rollVisibleTop,slideBottom,slideLeft,slideRight,slideTop,slideVisibleBottom,slideVisibleLeft,slideVisibleRight,slideVisibleTop};function slugify(e){const r="\xE0\xE1\xE2\xE4\xE6\xE3\xE5\u0101\u0103\u0105\xE7\u0107\u010D\u0111\u010F\xE8\xE9\xEA\xEB\u0113\u0117\u0119\u011B\u011F\u01F5\u1E27\xEE\xEF\xED\u012B\u012F\xEC\u0142\u1E3F\xF1\u0144\u01F9\u0148\xF4\xF6\xF2\xF3\u0153\xF8\u014D\xF5\u0151\u1E55\u0155\u0159\xDF\u015B\u0161\u015F\u0219\u0165\u021B\xFB\xFC\xF9\xFA\u016B\u01D8\u016F\u0171\u0173\u1E83\u1E8D\xFF\xFD\u017E\u017A\u017C\xB7/_,:;",l="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",g=new RegExp(r.split("").join("|"),"g");return e.toString().replace(/[A-Z]/g,x=>"-"+x).toLowerCase().replace(/\s+/g,"-").replace(g,x=>l.charAt(r.indexOf(x))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const MotionPlugin={install(e,r){if(e.directive("motion",directive()),!r||r&&!r.excludePresets)for(const l in presets){const g=presets[l];e.directive(`motion-${slugify(l)}`,directive(g))}if(r&&r.directives)for(const l in r.directives){const g=r.directives[l];!g.initial&&__DEV__&&console.warn(`Your directive v-motion-${l} is missing initial variant!`),e.directive(`motion-${l}`,directive(g))}}};var setupDefaults$a={cookies:{path:"/"},treeOptions:{parentKey:"parentId",key:"id",children:"children"},parseDateFormat:"yyyy-MM-dd HH:mm:ss",firstDayOfWeek:1,dateDiffRules:[["yyyy",31536e6],["MM",2592e6],["dd",864e5],["HH",36e5],["mm",6e4],["ss",1e3],["S",0]]},setupDefaults_1=setupDefaults$a;function arrayEach$e(e,r,l){if(e)if(e.forEach)e.forEach(r,l);else for(var g=0,x=e.length;g<x;g++)r.call(l,e[g],g,e)}var arrayEach_1=arrayEach$e,objectToString$2=Object.prototype.toString,staticObjectToString=objectToString$2,objectToString$1=staticObjectToString;function helperCreateInInObjectString$5(e){return function(r){return"[object "+e+"]"===objectToString$1.call(r)}}var helperCreateInInObjectString_1=helperCreateInInObjectString$5,helperCreateInInObjectString$4=helperCreateInInObjectString_1,isArray$r=Array.isArray||helperCreateInInObjectString$4("Array"),isArray_1=isArray$r;function hasOwnProp$a(e,r){return e&&e.hasOwnProperty?e.hasOwnProperty(r):!1}var hasOwnProp_1=hasOwnProp$a,hasOwnProp$9=hasOwnProp_1;function objectEach$5(e,r,l){if(e)for(var g in e)hasOwnProp$9(e,g)&&r.call(l,e[g],g,e)}var objectEach_1=objectEach$5,isArray$q=isArray_1,arrayEach$d=arrayEach_1,objectEach$4=objectEach_1;function each$j(e,r,l){return e&&(isArray$q(e)?arrayEach$d:objectEach$4)(e,r,l)}var each_1=each$j;function helperCreateInTypeof$6(e){return function(r){return typeof r===e}}var helperCreateInTypeof_1=helperCreateInTypeof$6,helperCreateInTypeof$5=helperCreateInTypeof_1,isFunction$c=helperCreateInTypeof$5("function"),isFunction_1=isFunction$c,each$i=each_1;function helperCreateGetObjects$3(e,r){var l=Object[e];return function(g){var x=[];if(g){if(l)return l(g);each$i(g,r>1?function(C){x.push([""+C,g[C]])}:function(){x.push(arguments[r])})}return x}}var helperCreateGetObjects_1=helperCreateGetObjects$3,helperCreateGetObjects$2=helperCreateGetObjects_1,keys$a=helperCreateGetObjects$2("keys",1),keys_1=keys$a,objectToString=staticObjectToString,objectEach$3=objectEach_1,arrayEach$c=arrayEach_1;function getCativeCtor(e,r){var l=e.__proto__.constructor;return r?new l(r):new l}function handleValueClone(e,r){return r?copyValue(e,r):e}function copyValue(e,r){if(e)switch(objectToString.call(e)){case"[object Object]":{var l=Object.create(e.__proto__);return objectEach$3(e,function(u,f){l[f]=handleValueClone(u,r)}),l}case"[object Date]":case"[object RegExp]":return getCativeCtor(e,e.valueOf());case"[object Array]":case"[object Arguments]":{var g=[];return arrayEach$c(e,function(u){g.push(handleValueClone(u,r))}),g}case"[object Set]":{var x=getCativeCtor(e);return x.forEach(function(u){x.add(handleValueClone(u,r))}),x}case"[object Map]":{var C=getCativeCtor(e);return C.forEach(function(u,f){C.set(handleValueClone(u,r))}),C}}return e}function clone$3(e,r){return e&&copyValue(e,r)}var clone_1=clone$3,arrayEach$b=arrayEach_1,keys$9=keys_1,isArray$p=isArray_1,clone$2=clone_1,objectAssignFns=Object.assign;function handleAssign(e,r,l){for(var g=r.length,x,C=1;C<g;C++)x=r[C],arrayEach$b(keys$9(r[C]),l?function(u){e[u]=clone$2(x[u],l)}:function(u){e[u]=x[u]});return e}var assign$b=function(e){if(e){var r=arguments;if(e===!0){if(r.length>1)return e=isArray$p(e[1])?[]:{},handleAssign(e,r,!0)}else return objectAssignFns?objectAssignFns.apply(Object,r):handleAssign(e,r)}return e},assign_1=assign$b,setupDefaults$9=setupDefaults_1,arrayEach$a=arrayEach_1,each$h=each_1,isFunction$b=isFunction_1,assign$a=assign_1,XEUtils$1=function(){};function mixin(){arrayEach$a(arguments,function(e){each$h(e,function(r,l){XEUtils$1[l]=isFunction$b(r)?function(){var g=r.apply(XEUtils$1.$context,arguments);return XEUtils$1.$context=null,g}:r})})}function setup$1(e){return assign$a(setupDefaults$9,e)}XEUtils$1.VERSION="3.5.3";XEUtils$1.mixin=mixin;XEUtils$1.setup=setup$1;var ctor=XEUtils$1;function lastArrayEach$3(e,r,l){for(var g=e.length-1;g>=0;g--)r.call(l,e[g],g,e)}var lastArrayEach_1=lastArrayEach$3,lastArrayEach$2=lastArrayEach_1,keys$8=keys_1;function lastObjectEach$2(e,r,l){lastArrayEach$2(keys$8(e),function(g){r.call(l,e[g],g,e)})}var lastObjectEach_1=lastObjectEach$2;function isNull$9(e){return e===null}var isNull_1=isNull$9,isNull$8=isNull_1;function property$5(e,r){return function(l){return isNull$8(l)?r:l[e]}}var property_1=property$5,each$g=each_1,isFunction$a=isFunction_1,property$4=property_1;function objectMap$1(e,r,l){var g={};if(e)if(r)isFunction$a(r)||(r=property$4(r)),each$g(e,function(x,C){g[C]=r.call(l,x,C,e)});else return e;return g}var objectMap_1=objectMap$1;function isPlainObject$6(e){return e?e.constructor===Object:!1}var isPlainObject_1=isPlainObject$6,isArray$o=isArray_1,isPlainObject$5=isPlainObject_1,each$f=each_1;function handleMerge(e,r){return isPlainObject$5(e)&&isPlainObject$5(r)||isArray$o(e)&&isArray$o(r)?(each$f(r,function(l,g){e[g]=handleMerge(e[g],l)}),e):r}var merge$1=function(e){e||(e={});for(var r=arguments,l=r.length,g,x=1;x<l;x++)g=r[x],g&&handleMerge(e,g);return e},merge_1=merge$1,each$e=each_1;function map$7(e,r,l){var g=[];if(e&&arguments.length>1){if(e.map)return e.map(r,l);each$e(e,function(){g.push(r.apply(l,arguments))})}return g}var map_1=map$7,hasOwnProp$8=hasOwnProp_1,isArray$n=isArray_1;function helperCreateIterateHandle$4(e,r,l,g,x){return function(C,u,f){if(C&&u){if(e&&C[e])return C[e](u,f);if(r&&isArray$n(C)){for(var n=0,S=C.length;n<S;n++)if(!!u.call(f,C[n],n,C)===g)return[!0,!1,n,C[n]][l]}else for(var k in C)if(hasOwnProp$8(C,k)&&!!u.call(f,C[k],k,C)===g)return[!0,!1,k,C[k]][l]}return x}}var helperCreateIterateHandle_1=helperCreateIterateHandle$4,helperCreateIterateHandle$3=helperCreateIterateHandle_1,some$2=helperCreateIterateHandle$3("some",1,0,!0,!1),some_1=some$2,helperCreateIterateHandle$2=helperCreateIterateHandle_1,every$2=helperCreateIterateHandle$2("every",1,1,!1,!0),every_1=every$2,hasOwnProp$7=hasOwnProp_1;function includes$6(e,r){if(e){if(e.includes)return e.includes(r);for(var l in e)if(hasOwnProp$7(e,l)&&r===e[l])return!0}return!1}var includes_1=includes$6,isArray$m=isArray_1,includes$5=includes_1;function includeArrays$2(e,r){var l,g=0;if(isArray$m(e)&&isArray$m(r)){for(l=r.length;g<l;g++)if(!includes$5(e,r[g]))return!1;return!0}return includes$5(e,r)}var includeArrays_1=includeArrays$2,each$d=each_1,includes$4=includes_1;function uniq$2(e){var r=[];return each$d(e,function(l){includes$4(r,l)||r.push(l)}),r}var uniq_1=uniq$2,map$6=map_1;function toArray$4(e){return map$6(e,function(r){return r})}var toArray_1=toArray$4,uniq$1=uniq_1,toArray$3=toArray_1;function union$1(){for(var e=arguments,r=[],l=0,g=e.length;l<g;l++)r=r.concat(toArray$3(e[l]));return uniq$1(r)}var union_1=union$1,staticStrUndefined$b="undefined",staticStrUndefined_1=staticStrUndefined$b,staticStrUndefined$a=staticStrUndefined_1,helperCreateInTypeof$4=helperCreateInTypeof_1,isUndefined$a=helperCreateInTypeof$4(staticStrUndefined$a),isUndefined_1=isUndefined$a,isNull$7=isNull_1,isUndefined$9=isUndefined_1;function eqNull$7(e){return isNull$7(e)||isUndefined$9(e)}var eqNull_1=eqNull$7,staticHGKeyRE$2=/(.+)?\[(\d+)\]$/,staticHGKeyRE_1=staticHGKeyRE$2;function helperGetHGSKeys$3(e){return e?e.splice&&e.join?e:(""+e).replace(/(\[\d+\])\.?/g,"$1.").replace(/\.$/,"").split("."):[]}var helperGetHGSKeys_1=helperGetHGSKeys$3,staticHGKeyRE$1=staticHGKeyRE_1,helperGetHGSKeys$2=helperGetHGSKeys_1,hasOwnProp$6=hasOwnProp_1,isUndefined$8=isUndefined_1,eqNull$6=eqNull_1;function get$5(e,r,l){if(eqNull$6(e))return l;var g=getValueByPath(e,r);return isUndefined$8(g)?l:g}function getDeepProps(e,r){var l=r?r.match(staticHGKeyRE$1):"";return l?l[1]?e[l[1]]?e[l[1]][l[2]]:void 0:e[l[2]]:e[r]}function getValueByPath(e,r){if(e){var l,g,x,C=0;if(e[r]||hasOwnProp$6(e,r))return e[r];if(g=helperGetHGSKeys$2(r),x=g.length,x){for(l=e;C<x;C++)if(l=getDeepProps(l,g[C]),eqNull$6(l))return C===x-1?l:void 0}return l}}var get_1=get$5,arrayEach$9=arrayEach_1,toArray$2=toArray_1,map$5=map_1,isArray$l=isArray_1,isFunction$9=isFunction_1,isPlainObject$4=isPlainObject_1,isUndefined$7=isUndefined_1,isNull$6=isNull_1,eqNull$5=eqNull_1,get$4=get_1,property$3=property_1,ORDER_PROP_ASC="asc",ORDER_PROP_DESC="desc";function handleSort(e,r){return isUndefined$7(e)?1:isNull$6(e)?isUndefined$7(r)?-1:1:e&&e.localeCompare?e.localeCompare(r):e>r?1:-1}function buildMultiOrders(e,r,l){return function(g,x){var C=g[e],u=x[e];return C===u?l?l(g,x):0:r.order===ORDER_PROP_DESC?handleSort(u,C):handleSort(C,u)}}function getSortConfs(e,r,l,g){var x=[];return l=isArray$l(l)?l:[l],arrayEach$9(l,function(C,u){if(C){var f=C,n;isArray$l(C)?(f=C[0],n=C[1]):isPlainObject$4(C)&&(f=C.field,n=C.order),x.push({field:f,order:n||ORDER_PROP_ASC}),arrayEach$9(r,isFunction$9(f)?function(S,k){S[u]=f.call(g,S.data,k,e)}:function(S){S[u]=f?get$4(S.data,f):S.data})}}),x}function orderBy$3(e,r,l){if(e){if(eqNull$5(r))return toArray$2(e).sort(handleSort);for(var g,x=map$5(e,function(f){return{data:f}}),C=getSortConfs(e,x,r,l),u=C.length-1;u>=0;)g=buildMultiOrders(u,C[u],g),u--;return g&&(x=x.sort(g)),map$5(x,property$3("data"))}return[]}var orderBy_1=orderBy$3,orderBy$2=orderBy_1,sortBy$1=orderBy$2,sortBy_1=sortBy$1;function random$2(e,r){return e>=r?e:(e=e>>0)+Math.round(Math.random()*((r||9)-e))}var random_1=random$2,helperCreateGetObjects$1=helperCreateGetObjects_1,values$6=helperCreateGetObjects$1("values",0),values_1=values$6,random$1=random_1,values$5=values_1;function shuffle$2(e){for(var r,l=[],g=values$5(e),x=g.length-1;x>=0;x--)r=x>0?random$1(0,x):0,l.push(g[r]),g.splice(r,1);return l}var shuffle_1=shuffle$2,shuffle$1=shuffle_1;function sample$1(e,r){var l=shuffle$1(e);return arguments.length<=1?l[0]:(r<l.length&&(l.length=r||0),l)}var sample_1=sample$1;function helperCreateToNumber$2(e){return function(r){if(r){var l=e(r);if(!isNaN(l))return l}return 0}}var helperCreateToNumber_1=helperCreateToNumber$2,helperCreateToNumber$1=helperCreateToNumber_1,toNumber$7=helperCreateToNumber$1(parseFloat),toNumber_1=toNumber$7,toNumber$6=toNumber_1;function slice$7(e,r,l){var g=[],x=arguments.length;if(e){if(r=x>=2?toNumber$6(r):0,l=x>=3?toNumber$6(l):e.length,e.slice)return e.slice(r,l);for(;r<l;r++)g.push(e[r])}return g}var slice_1=slice$7,each$c=each_1;function filter$1(e,r,l){var g=[];if(e&&r){if(e.filter)return e.filter(r,l);each$c(e,function(x,C){r.call(l,x,C,e)&&g.push(x)})}return g}var filter_1=filter$1,helperCreateIterateHandle$1=helperCreateIterateHandle_1,findKey$1=helperCreateIterateHandle$1("",0,2,!0),findKey_1=findKey$1,helperCreateIterateHandle=helperCreateIterateHandle_1,find$1=helperCreateIterateHandle("find",1,3,!0),find_1=find$1,isArray$k=isArray_1,values$4=values_1;function findLast$1(e,r,l){if(e){isArray$k(e)||(e=values$4(e));for(var g=e.length-1;g>=0;g--)if(r.call(l,e[g],g,e))return e[g]}}var findLast_1=findLast$1,keys$7=keys_1;function reduce$1(e,r,l){if(e){var g,x,C=0,u=null,f=l,n=arguments.length>2,S=keys$7(e);if(e.length&&e.reduce)return x=function(){return r.apply(u,arguments)},n?e.reduce(x,f):e.reduce(x);for(n&&(C=1,f=e[S[0]]),g=S.length;C<g;C++)f=r.call(u,f,e[S[C]],C,e);return f}}var reduce_1=reduce$1,isArray$j=isArray_1;function copyWithin$1(e,r,l,g){if(isArray$j(e)&&e.copyWithin)return e.copyWithin(r,l,g);var x,C,u=r>>0,f=l>>0,n=e.length,S=arguments.length>3?g>>0:n;if(u<n&&(u=u>=0?u:n+u,u>=0&&(f=f>=0?f:n+f,S=S>=0?S:n+S,f<S)))for(x=0,C=e.slice(f,S);u<n&&!(C.length<=x);u++)e[u]=C[x++];return e}var copyWithin_1=copyWithin$1,isArray$i=isArray_1;function chunk$1(e,r){var l,g=[],x=r>>0||1;if(isArray$i(e))if(x>=0&&e.length>x)for(l=0;l<e.length;)g.push(e.slice(l,l+x)),l+=x;else g=e.length?[e]:e;return g}var chunk_1=chunk$1,map$4=map_1,property$2=property_1;function pluck$2(e,r){return map$4(e,property$2(r))}var pluck_1=pluck$2,isFunction$8=isFunction_1,eqNull$4=eqNull_1,get$3=get_1,arrayEach$8=arrayEach_1;function helperCreateMinMax$2(e){return function(r,l){if(r&&r.length){var g,x;return arrayEach$8(r,function(C,u){l&&(C=isFunction$8(l)?l(C,u,r):get$3(C,l)),!eqNull$4(C)&&(eqNull$4(g)||e(g,C))&&(x=u,g=C)}),r[x]}return g}}var helperCreateMinMax_1=helperCreateMinMax$2,helperCreateMinMax$1=helperCreateMinMax_1,max$2=helperCreateMinMax$1(function(e,r){return e<r}),max_1=max$2,pluck$1=pluck_1,max$1=max_1;function unzip$2(e){var r,l,g,x=[];if(e&&e.length)for(r=0,l=max$1(e,function(C){return C?C.length:0}),g=l?l.length:0;r<g;r++)x.push(pluck$1(e,r));return x}var unzip_1=unzip$2,unzip$1=unzip_1;function zip$1(){return unzip$1(arguments)}var zip_1=zip$1,values$3=values_1,each$b=each_1;function zipObject$1(e,r){var l={};return r=r||[],each$b(values$3(e),function(g,x){l[g]=r[x]}),l}var zipObject_1=zipObject$1,isArray$h=isArray_1,arrayEach$7=arrayEach_1;function flattenDeep(e,r){var l=[];return arrayEach$7(e,function(g){l=l.concat(isArray$h(g)?r?flattenDeep(g,r):g:[g])}),l}function flatten$1(e,r){return isArray$h(e)?flattenDeep(e,r):[]}var flatten_1=flatten$1,map$3=map_1,isArray$g=isArray_1;function deepGetObj(e,r){for(var l=0,g=r.length;e&&l<g;)e=e[r[l++]];return g&&e?e:0}function invoke$1(e,r){for(var l,g=arguments,x=[],C=[],u=2,f=g.length;u<f;u++)x.push(g[u]);if(isArray$g(r)){for(f=r.length-1,u=0;u<f;u++)C.push(r[u]);r=r[f]}return map$3(e,function(n){if(C.length&&(n=deepGetObj(n,C)),l=n[r]||r,l&&l.apply)return l.apply(n,x)})}var invoke_1=invoke$1;function helperDeleteProperty$2(e,r){try{delete e[r]}catch{e[r]=void 0}}var helperDeleteProperty_1=helperDeleteProperty$2,isArray$f=isArray_1,lastArrayEach$1=lastArrayEach_1,lastObjectEach$1=lastObjectEach_1;function lastEach$2(e,r,l){return e&&(isArray$f(e)?lastArrayEach$1:lastObjectEach$1)(e,r,l)}var lastEach_1=lastEach$2,helperCreateInTypeof$3=helperCreateInTypeof_1,isObject$4=helperCreateInTypeof$3("object"),isObject_1=isObject$4,helperDeleteProperty$1=helperDeleteProperty_1,isPlainObject$3=isPlainObject_1,isObject$3=isObject_1,isArray$e=isArray_1,isNull$5=isNull_1,assign$9=assign_1,objectEach$2=objectEach_1;function clear$2(e,r,l){if(e){var g,x=arguments.length>1&&(isNull$5(r)||!isObject$3(r)),C=x?l:r;if(isPlainObject$3(e))objectEach$2(e,x?function(u,f){e[f]=r}:function(u,f){helperDeleteProperty$1(e,f)}),C&&assign$9(e,C);else if(isArray$e(e)){if(x)for(g=e.length;g>0;)g--,e[g]=r;else e.length=0;C&&e.push.apply(e,C)}}return e}var clear_1=clear$2,helperDeleteProperty=helperDeleteProperty_1,isFunction$7=isFunction_1,isArray$d=isArray_1,each$a=each_1,arrayEach$6=arrayEach_1,lastEach$1=lastEach_1,clear$1=clear_1,eqNull$3=eqNull_1;function pluckProperty(e){return function(r,l){return l===e}}function remove$2(e,r,l){if(e){if(!eqNull$3(r)){var g=[],x=[];return isFunction$7(r)||(r=pluckProperty(r)),each$a(e,function(C,u,f){r.call(l,C,u,f)&&g.push(u)}),isArray$d(e)?lastEach$1(g,function(C,u){x.push(e[C]),e.splice(C,1)}):(x={},arrayEach$6(g,function(C){x[C]=e[C],helperDeleteProperty(e,C)})),x}return clear$1(e)}return e}var remove_1=remove$2,setupDefaults$8=setupDefaults_1,map$2=map_1,orderBy$1=orderBy_1,clone$1=clone_1,includes$3=includes_1,each$9=each_1,remove$1=remove_1,assign$8=assign_1;function strictTree(e,r){each$9(e,function(l){l.children&&!l.children.length&&remove$1(l,r)})}function toArrayTree$1(e,r){var l=assign$8({},setupDefaults$8.treeOptions,r),g=l.strict,x=l.key,C=l.parentKey,u=l.children,f=l.mapChildren,n=l.sortKey,S=l.reverse,k=l.data,M=[],P={},$,R,B,V;return n&&(e=orderBy$1(clone$1(e),n),S&&(e=e.reverse())),$=map$2(e,function(j){return j[x]}),each$9(e,function(j){R=j[x],k?(B={},B[k]=j):B=j,V=j[C],P[R]=P[R]||[],P[V]=P[V]||[],P[V].push(B),B[x]=R,B[C]=V,B[u]=P[R],f&&(B[f]=P[R]),(!g||g&&!V)&&(includes$3($,V)||M.push(B))}),g&&strictTree(e,u),M}var toArrayTree_1=toArrayTree$1,setupDefaults$7=setupDefaults_1,each$8=each_1,assign$7=assign_1;function unTreeList(e,r,l){var g=l.children,x=l.data,C=l.clear;return each$8(r,function(u){var f=u[g];x&&(u=u[x]),e.push(u),f&&f.length&&unTreeList(e,f,l),C&&delete u[g]}),e}function toTreeArray$1(e,r){return unTreeList([],e,assign$7({},setupDefaults$7.treeOptions,r))}var toTreeArray_1=toTreeArray$1;function helperCreateTreeFunc$4(e){return function(r,l,g,x){var C=g||{},u=C.children||"children";return e(null,r,l,x,[],[],u,C)}}var helperCreateTreeFunc_1=helperCreateTreeFunc$4,helperCreateTreeFunc$3=helperCreateTreeFunc_1;function findTreeItem(e,r,l,g,x,C,u,f){if(r){var n,S,k,M,P,$;for(S=0,k=r.length;S<k;S++){if(n=r[S],M=x.concat([""+S]),P=C.concat([n]),l.call(g,n,S,r,M,e,P))return{index:S,item:n,path:M,items:r,parent:e,nodes:P};if(u&&n&&($=findTreeItem(n,n[u],l,g,M.concat([u]),P,u),$))return $}}}var findTree$1=helperCreateTreeFunc$3(findTreeItem),findTree_1=findTree$1,helperCreateTreeFunc$2=helperCreateTreeFunc_1,each$7=each_1;function eachTreeItem(e,r,l,g,x,C,u,f){var n,S;each$7(r,function(k,M){n=x.concat([""+M]),S=C.concat([k]),l.call(g,k,M,r,n,e,S),k&&u&&(n.push(u),eachTreeItem(k,k[u],l,g,n,S,u))})}var eachTree$2=helperCreateTreeFunc$2(eachTreeItem),eachTree_1=eachTree$2,helperCreateTreeFunc$1=helperCreateTreeFunc_1,map$1=map_1;function mapTreeItem(e,r,l,g,x,C,u,f){var n,S,k,M=f.mapChildren||u;return map$1(r,function(P,$){return n=x.concat([""+$]),S=C.concat([P]),k=l.call(g,P,$,r,n,e,S),k&&P&&u&&P[u]&&(k[M]=mapTreeItem(P,P[u],l,g,n,S,u,f)),k})}var mapTree$1=helperCreateTreeFunc$1(mapTreeItem),mapTree_1=mapTree$1,eachTree$1=eachTree_1;function filterTree$1(e,r,l,g){var x=[];return e&&r&&eachTree$1(e,function(C,u,f,n,S,k){r.call(g,C,u,f,n,S,k)&&x.push(C)},l),x}var filterTree_1=filterTree$1,helperCreateTreeFunc=helperCreateTreeFunc_1,arrayEach$5=arrayEach_1,assign$6=assign_1;function searchTreeItem(e,r,l,g,x,C,u,f,n){var S,k,M,P,$,R=[],B=n.original,V=n.data,j=n.mapChildren||f;return arrayEach$5(l,function(U,q){S=C.concat([""+q]),k=u.concat([U]),P=e||g.call(x,U,q,l,S,r,k),$=f&&U[f],P||$?(B?M=U:(M=assign$6({},U),V&&(M[V]=U)),M[j]=searchTreeItem(P,U,U[f],g,x,S,k,f,n),(P||M[j].length)&&R.push(M)):P&&R.push(M)}),R}var searchTree$1=helperCreateTreeFunc(function(e,r,l,g,x,C,u,f){return searchTreeItem(0,e,r,l,g,x,C,u,f)}),searchTree_1=searchTree$1;function arrayIndexOf$2(e,r){if(e.indexOf)return e.indexOf(r);for(var l=0,g=e.length;l<g;l++)if(r===e[l])return l}var arrayIndexOf_1=arrayIndexOf$2;function arrayLastIndexOf$2(e,r){if(e.lastIndexOf)return e.lastIndexOf(r);for(var l=e.length-1;l>=0;l--)if(r===e[l])return l;return-1}var arrayLastIndexOf_1=arrayLastIndexOf$2,helperCreateInTypeof$2=helperCreateInTypeof_1,isNumber$a=helperCreateInTypeof$2("number"),isNumber_1=isNumber$a,isNumber$9=isNumber_1;function isNumberNaN$1(e){return isNumber$9(e)&&isNaN(e)}var _isNaN=isNumberNaN$1,helperCreateInTypeof$1=helperCreateInTypeof_1,isString$9=helperCreateInTypeof$1("string"),isString_1=isString$9,helperCreateInInObjectString$3=helperCreateInInObjectString_1,isDate$8=helperCreateInInObjectString$3("Date"),isDate_1=isDate$8,staticParseInt$5=parseInt,staticParseInt_1=staticParseInt$5;function helperGetUTCDateTime$1(e){return Date.UTC(e.y,e.M||0,e.d||1,e.H||0,e.m||0,e.s||0,e.S||0)}var helperGetUTCDateTime_1=helperGetUTCDateTime$1;function helperGetDateTime$c(e){return e.getTime()}var helperGetDateTime_1=helperGetDateTime$c,staticParseInt$4=staticParseInt_1,helperGetUTCDateTime=helperGetUTCDateTime_1,helperGetDateTime$b=helperGetDateTime_1,isString$8=isString_1,isDate$7=isDate_1;function getParseRule(e){return"(\\d{"+e+"})"}function toParseMs(e){return e<10?e*100:e<100?e*10:e}function toParseNum(e){return isNaN(e)?e:staticParseInt$4(e)}var d2=getParseRule(2),d1or2=getParseRule("1,2"),d1or7=getParseRule("1,7"),d3or4=getParseRule("3,4"),place=".{1}",d1Or2RE=place+d1or2,dzZ="(([zZ])|([-+]\\d{2}:?\\d{2}))",defaulParseStrs=[d3or4,d1Or2RE,d1Or2RE,d1Or2RE,d1Or2RE,d1Or2RE,place+d1or7,dzZ],defaulParseREs=[];for(var len=defaulParseStrs.length-1;len>=0;len--){for(var rule="",i=0;i<len+1;i++)rule+=defaulParseStrs[i];defaulParseREs.push(new RegExp("^"+rule+"$"))}function parseDefaultRules(e){for(var r,l={},g=0,x=defaulParseREs.length;g<x;g++)if(r=e.match(defaulParseREs[g]),r){l.y=r[1],l.M=r[2],l.d=r[3],l.H=r[4],l.m=r[5],l.s=r[6],l.S=r[7],l.Z=r[8];break}return l}var customParseStrs=[["yyyy",d3or4],["yy",d2],["MM",d2],["M",d1or2],["dd",d2],["d",d1or2],["HH",d2],["H",d1or2],["mm",d2],["m",d1or2],["ss",d2],["s",d1or2],["SSS",getParseRule(3)],["S",d1or7],["Z",dzZ]],parseRuleMaps={},parseRuleKeys=["\\[([^\\]]+)\\]"];for(var i=0;i<customParseStrs.length;i++){var itemRule=customParseStrs[i];parseRuleMaps[itemRule[0]]=itemRule[1]+"?",parseRuleKeys.push(itemRule[0])}var customParseRes=new RegExp(parseRuleKeys.join("|"),"g"),cacheFormatMaps={};function parseCustomRules(e,r){var l=cacheFormatMaps[r];if(!l){var g=[],x=r.replace(/([$(){}*+.?\\^|])/g,"\\$1").replace(customParseRes,function(k,M){var P=k.charAt(0);return P==="["?M:(g.push(P),parseRuleMaps[k])});l=cacheFormatMaps[r]={_i:g,_r:new RegExp(x)}}var C={},u=e.match(l._r);if(u){for(var f=l._i,n=1,S=u.length;n<S;n++)C[f[n-1]]=u[n];return C}return C}function parseTimeZone(e){if(/^[zZ]/.test(e.Z))return new Date(helperGetUTCDateTime(e));var r=e.Z.match(/([-+])(\d{2}):?(\d{2})/);return r?new Date(helperGetUTCDateTime(e)-(r[1]==="-"?-1:1)*staticParseInt$4(r[2])*36e5+staticParseInt$4(r[3])*6e4):new Date("")}function toStringDate$d(e,r){if(e){var l=isDate$7(e);if(l||!r&&/^[0-9]{11,15}$/.test(e))return new Date(l?helperGetDateTime$b(e):staticParseInt$4(e));if(isString$8(e)){var g=r?parseCustomRules(e,r):parseDefaultRules(e);if(g.y)return g.M&&(g.M=toParseNum(g.M)-1),g.S&&(g.S=toParseMs(toParseNum(g.S.substring(0,3)))),g.Z?parseTimeZone(g):new Date(g.y,g.M||0,g.d||1,g.H||0,g.m||0,g.s||0,g.S||0)}}return new Date("")}var toStringDate_1=toStringDate$d;function helperNewDate$4(){return new Date}var helperNewDate_1=helperNewDate$4,isDate$6=isDate_1,toStringDate$c=toStringDate_1,helperNewDate$3=helperNewDate_1;function isLeapYear$2(e){var r,l=e?toStringDate$c(e):helperNewDate$3();return isDate$6(l)?(r=l.getFullYear(),r%4==0&&(r%100!=0||r%400==0)):!1}var isLeapYear_1=isLeapYear$2,isArray$c=isArray_1,hasOwnProp$5=hasOwnProp_1;function forOf$1(e,r,l){if(e){if(isArray$c(e))for(var g=0,x=e.length;g<x&&r.call(l,e[g],g,e)!==!1;g++);else for(var C in e)if(hasOwnProp$5(e,C)&&r.call(l,e[C],C,e)===!1)break}}var forOf_1=forOf$1,isArray$b=isArray_1,keys$6=hasOwnProp_1;function lastForOf$1(e,r,l){if(e){var g,x;if(isArray$b(e))for(g=e.length-1;g>=0&&r.call(l,e[g],g,e)!==!1;g--);else for(x=keys$6(e),g=x.length-1;g>=0&&r.call(l,e[x[g]],x[g],e)!==!1;g--);}}var lastForOf_1=lastForOf$1,isArray$a=isArray_1,isString$7=isString_1,hasOwnProp$4=hasOwnProp_1;function helperCreateIndexOf$2(e,r){return function(l,g){if(l){if(l[e])return l[e](g);if(isString$7(l)||isArray$a(l))return r(l,g);for(var x in l)if(hasOwnProp$4(l,x)&&g===l[x])return x}return-1}}var helperCreateIndexOf_1=helperCreateIndexOf$2,helperCreateIndexOf$1=helperCreateIndexOf_1,arrayIndexOf$1=arrayIndexOf_1,indexOf$1=helperCreateIndexOf$1("indexOf",arrayIndexOf$1),indexOf_1=indexOf$1,helperCreateIndexOf=helperCreateIndexOf_1,arrayLastIndexOf$1=arrayLastIndexOf_1,lastIndexOf$2=helperCreateIndexOf("lastIndexOf",arrayLastIndexOf$1),lastIndexOf_1=lastIndexOf$2,isArray$9=isArray_1,isString$6=isString_1,each$6=each_1;function getSize$2(e){var r=0;return isString$6(e)||isArray$9(e)?e.length:(each$6(e,function(){r++}),r)}var getSize_1=getSize$2,isNumber$8=isNumber_1;function isNumberFinite$1(e){return isNumber$8(e)&&isFinite(e)}var _isFinite=isNumberFinite$1,isArray$8=isArray_1,isNull$4=isNull_1,isInteger$2=function(e){return!isNull$4(e)&&!isNaN(e)&&!isArray$8(e)&&e%1==0},isInteger_1=isInteger$2,isArray$7=isArray_1,isInteger$1=isInteger_1,isNull$3=isNull_1;function isFloat$1(e){return!isNull$3(e)&&!isNaN(e)&&!isArray$7(e)&&!isInteger$1(e)}var isFloat_1=isFloat$1,helperCreateInTypeof=helperCreateInTypeof_1,isBoolean$2=helperCreateInTypeof("boolean"),isBoolean_1=isBoolean$2,helperCreateInInObjectString$2=helperCreateInInObjectString_1,isRegExp$3=helperCreateInInObjectString$2("RegExp"),isRegExp_1=isRegExp$3,helperCreateInInObjectString$1=helperCreateInInObjectString_1,isError$2=helperCreateInInObjectString$1("Error"),isError_1=isError$2;function isTypeError$1(e){return e?e.constructor===TypeError:!1}var isTypeError_1=isTypeError$1;function isEmpty$2(e){for(var r in e)return!1;return!0}var isEmpty_1=isEmpty$2,staticStrUndefined$9=staticStrUndefined_1,supportSymbol=typeof Symbol!==staticStrUndefined$9;function isSymbol$2(e){return supportSymbol&&Symbol.isSymbol?Symbol.isSymbol(e):typeof e=="symbol"}var isSymbol_1=isSymbol$2,helperCreateInInObjectString=helperCreateInInObjectString_1,isArguments$1=helperCreateInInObjectString("Arguments"),isArguments_1=isArguments$1,isString$5=isString_1,isNumber$7=isNumber_1;function isElement$2(e){return!!(e&&isString$5(e.nodeName)&&isNumber$7(e.nodeType))}var isElement_1=isElement$2,staticStrUndefined$8=staticStrUndefined_1,staticDocument$3=typeof document===staticStrUndefined$8?0:document,staticDocument_1=staticDocument$3,staticDocument$2=staticDocument_1;function isDocument$1(e){return!!(e&&staticDocument$2&&e.nodeType===9)}var isDocument_1=isDocument$1,staticStrUndefined$7=staticStrUndefined_1,staticWindow$2=typeof window===staticStrUndefined$7?0:window,staticWindow_1=staticWindow$2,staticWindow$1=staticWindow_1;function isWindow$1(e){return staticWindow$1&&!!(e&&e===e.window)}var isWindow_1=isWindow$1,staticStrUndefined$6=staticStrUndefined_1,supportFormData=typeof FormData!==staticStrUndefined$6;function isFormData$1(e){return supportFormData&&e instanceof FormData}var isFormData_1=isFormData$1,staticStrUndefined$5=staticStrUndefined_1,supportMap=typeof Map!==staticStrUndefined$5;function isMap$1(e){return supportMap&&e instanceof Map}var isMap_1=isMap$1,staticStrUndefined$4=staticStrUndefined_1,supportWeakMap=typeof WeakMap!==staticStrUndefined$4;function isWeakMap$1(e){return supportWeakMap&&e instanceof WeakMap}var isWeakMap_1=isWeakMap$1,staticStrUndefined$3=staticStrUndefined_1,supportSet=typeof Set!==staticStrUndefined$3;function isSet$1(e){return supportSet&&e instanceof Set}var isSet_1=isSet$1,staticStrUndefined$2=staticStrUndefined_1,supportWeakSet=typeof WeakSet!==staticStrUndefined$2;function isWeakSet$1(e){return supportWeakSet&&e instanceof WeakSet}var isWeakSet_1=isWeakSet$1,isFunction$6=isFunction_1,isString$4=isString_1,isArray$6=isArray_1,hasOwnProp$3=hasOwnProp_1;function helperCreateiterateIndexOf$2(e){return function(r,l,g){if(r&&isFunction$6(l)){if(isArray$6(r)||isString$4(r))return e(r,l,g);for(var x in r)if(hasOwnProp$3(r,x)&&l.call(g,r[x],x,r))return x}return-1}}var helperCreateiterateIndexOf_1=helperCreateiterateIndexOf$2,helperCreateiterateIndexOf$1=helperCreateiterateIndexOf_1,findIndexOf$3=helperCreateiterateIndexOf$1(function(e,r,l){for(var g=0,x=e.length;g<x;g++)if(r.call(l,e[g],g,e))return g;return-1}),findIndexOf_1=findIndexOf$3,isNumber$6=isNumber_1,isArray$5=isArray_1,isString$3=isString_1,isRegExp$2=isRegExp_1,isDate$5=isDate_1,isBoolean$1=isBoolean_1,isUndefined$6=isUndefined_1,keys$5=keys_1,every$1=every_1;function helperEqualCompare$2(e,r,l,g,x,C,u){if(e===r)return!0;if(e&&r&&!isNumber$6(e)&&!isNumber$6(r)&&!isString$3(e)&&!isString$3(r)){if(isRegExp$2(e))return l(""+e,""+r,x,C,u);if(isDate$5(e)||isBoolean$1(e))return l(+e,+r,x,C,u);var f,n,S,k=isArray$5(e),M=isArray$5(r);if(k||M?k&&M:e.constructor===r.constructor)return n=keys$5(e),S=keys$5(r),g&&(f=g(e,r,x)),n.length===S.length?isUndefined$6(f)?every$1(n,function(P,$){return P===S[$]&&helperEqualCompare$2(e[P],r[S[$]],l,g,k||M?$:P,e,r)}):!!f:!1}return l(e,r,x,C,u)}var helperEqualCompare_1=helperEqualCompare$2;function helperDefaultCompare$2(e,r){return e===r}var helperDefaultCompare_1=helperDefaultCompare$2,helperEqualCompare$1=helperEqualCompare_1,helperDefaultCompare$1=helperDefaultCompare_1;function isEqual$2(e,r){return helperEqualCompare$1(e,r,helperDefaultCompare$1)}var isEqual_1=isEqual$2,keys$4=keys_1,findIndexOf$2=findIndexOf_1,isEqual$1=isEqual_1,some$1=some_1,includeArrays$1=includeArrays_1;function isMatch$1(e,r){var l=keys$4(e),g=keys$4(r);if(g.length){if(includeArrays$1(l,g))return some$1(g,function(x){return findIndexOf$2(l,function(C){return C===x&&isEqual$1(e[C],r[x])})>-1})}else return!0;return isEqual$1(e,r)}var isMatch_1=isMatch$1,helperEqualCompare=helperEqualCompare_1,helperDefaultCompare=helperDefaultCompare_1,isFunction$5=isFunction_1,isUndefined$5=isUndefined_1;function isEqualWith$1(e,r,l){return isFunction$5(l)?helperEqualCompare(e,r,function(g,x,C,u,f){var n=l(g,x,C,u,f);return isUndefined$5(n)?helperDefaultCompare(g,x):!!n},l):helperEqualCompare(e,r,helperDefaultCompare)}var isEqualWith_1=isEqualWith$1,isSymbol$1=isSymbol_1,isDate$4=isDate_1,isArray$4=isArray_1,isRegExp$1=isRegExp_1,isError$1=isError_1,isNull$2=isNull_1;function getType$1(e){return isNull$2(e)?"null":isSymbol$1(e)?"symbol":isDate$4(e)?"date":isArray$4(e)?"array":isRegExp$1(e)?"regexp":isError$1(e)?"error":typeof e}var getType_1=getType$1,__uniqueId=0;function uniqueId$1(e){return[e,++__uniqueId].join("")}var uniqueId_1=uniqueId$1,helperCreateiterateIndexOf=helperCreateiterateIndexOf_1,findLastIndexOf$1=helperCreateiterateIndexOf(function(e,r,l){for(var g=e.length-1;g>=0;g--)if(r.call(l,e[g],g,e))return g;return-1}),findLastIndexOf_1=findLastIndexOf$1,isPlainObject$2=isPlainObject_1,isString$2=isString_1;function toStringJSON$1(e){if(isPlainObject$2(e))return e;if(isString$2(e))try{return JSON.parse(e)}catch{}return{}}var toStringJSON_1=toStringJSON$1,eqNull$2=eqNull_1;function toJSONString$1(e){return eqNull$2(e)?"":JSON.stringify(e)}var toJSONString_1=toJSONString$1,helperCreateGetObjects=helperCreateGetObjects_1,entries$1=helperCreateGetObjects("entries",2),entries_1=entries$1,isFunction$4=isFunction_1,isArray$3=isArray_1,each$5=each_1,findIndexOf$1=findIndexOf_1;function helperCreatePickOmit$2(e,r){return function(l,g){var x,C,u={},f=[],n=this,S=arguments,k=S.length;if(!isFunction$4(g)){for(C=1;C<k;C++)x=S[C],f.push.apply(f,isArray$3(x)?x:[x]);g=0}return each$5(l,function(M,P){((g?g.call(n,M,P,l):findIndexOf$1(f,function($){return $===P})>-1)?e:r)&&(u[P]=M)}),u}}var helperCreatePickOmit_1=helperCreatePickOmit$2,helperCreatePickOmit$1=helperCreatePickOmit_1,pick$1=helperCreatePickOmit$1(1,0),pick_1=pick$1,helperCreatePickOmit=helperCreatePickOmit_1,omit$1=helperCreatePickOmit(0,1),omit_1=omit$1,values$2=values_1;function first$1(e){return values$2(e)[0]}var first_1=first$1,values$1=values_1;function last$1(e){var r=values$1(e);return r[r.length-1]}var last_1=last$1,staticHGKeyRE=staticHGKeyRE_1,helperGetHGSKeys$1=helperGetHGSKeys_1,hasOwnProp$2=hasOwnProp_1;function has$1(e,r){if(e){if(hasOwnProp$2(e,r))return!0;var l,g,x,C,u,f,n=helperGetHGSKeys$1(r),S=0,k=n.length;for(u=e;S<k&&(f=!1,l=n[S],C=l?l.match(staticHGKeyRE):"",C?(g=C[1],x=C[2],g?u[g]&&hasOwnProp$2(u[g],x)&&(f=!0,u=u[g][x]):hasOwnProp$2(u,x)&&(f=!0,u=u[x])):hasOwnProp$2(u,l)&&(f=!0,u=u[l]),f);S++)if(S===k-1)return!0}return!1}var has_1=has$1,staticParseInt$3=staticParseInt_1,helperGetHGSKeys=helperGetHGSKeys_1,hasOwnProp$1=hasOwnProp_1,sKeyRE=/(.+)?\[(\d+)\]$/;function setDeepProps(e,r,l,g,x){if(e[r])l&&(e[r]=x);else{var C,u,f=r?r.match(sKeyRE):null;if(l)u=x;else{var n=g?g.match(sKeyRE):null;n&&!n[1]?u=new Array(staticParseInt$3(n[2])+1):u={}}return f?f[1]?(C=staticParseInt$3(f[2]),e[f[1]]?l?e[f[1]][C]=u:e[f[1]][C]?u=e[f[1]][C]:e[f[1]][C]=u:(e[f[1]]=new Array(C+1),e[f[1]][C]=u)):e[f[2]]=u:e[r]=u,u}return e[r]}function set$1(e,r,l){if(e){if((e[r]||hasOwnProp$1(e,r))&&!isPrototypePolluted(r))e[r]=l;else for(var g=e,x=helperGetHGSKeys(r),C=x.length,u=0;u<C;u++)if(!isPrototypePolluted(x[u])){var f=u===C-1;g=setDeepProps(g,x[u],f,f?null:x[u+1],l)}}return e}function isPrototypePolluted(e){return e==="__proto__"||e==="constructor"||e==="prototype"}var set_1=set$1,isEmpty$1=isEmpty_1,isObject$2=isObject_1,isFunction$3=isFunction_1,property$1=property_1,each$4=each_1;function createiterateEmpty(e){return function(){return isEmpty$1(e)}}function groupBy$2(e,r,l){var g,x={};return e&&(r&&isObject$2(r)?r=createiterateEmpty(r):isFunction$3(r)||(r=property$1(r)),each$4(e,function(C,u){g=r?r.call(l,C,u,e):C,x[g]?x[g].push(C):x[g]=[C]})),x}var groupBy_1=groupBy$2,groupBy$1=groupBy_1,objectEach$1=objectEach_1;function countBy$1(e,r,l){var g=groupBy$1(e,r,l||this);return objectEach$1(g,function(x,C){g[C]=x.length}),g}var countBy_1=countBy$1;function range$1(e,r,l){var g,x,C=[],u=arguments;if(u.length<2&&(r=u[0],e=0),g=e>>0,x=r>>0,g<r)for(l=l>>0||1;g<x;g+=l)C.push(g);return C}var range_1=range$1,keys$3=keys_1,slice$6=slice_1,includes$2=includes_1,arrayEach$4=arrayEach_1,assign$5=assign_1;function destructuring$1(e,r){if(e&&r){var l=assign$5.apply(this,[{}].concat(slice$6(arguments,1))),g=keys$3(l);arrayEach$4(keys$3(e),function(x){includes$2(g,x)&&(e[x]=l[x])})}return e}var destructuring_1=destructuring$1,helperCreateMinMax=helperCreateMinMax_1,min$1=helperCreateMinMax(function(e,r){return e>r}),min_1=min$1;function helperNumberDecimal$4(e){return(e.split(".")[1]||"").length}var helperNumberDecimal_1=helperNumberDecimal$4,staticParseInt$2=staticParseInt_1;function helperStringRepeat$5(e,r){if(e.repeat)return e.repeat(r);var l=isNaN(r)?[]:new Array(staticParseInt$2(r));return l.join(e)+(l.length>0?e:"")}var helperStringRepeat_1=helperStringRepeat$5;function helperNumberOffsetPoint$2(e,r){return e.substring(0,r)+"."+e.substring(r,e.length)}var helperNumberOffsetPoint_1=helperNumberOffsetPoint$2,helperStringRepeat$4=helperStringRepeat_1,helperNumberOffsetPoint$1=helperNumberOffsetPoint_1;function toNumberString$8(e){var r=""+e,l=r.match(/^([-+]?)((\d+)|((\d+)?[.](\d+)?))e([-+]{1})([0-9]+)$/);if(l){var g=e<0,x=g?"-":"",C=l[3]||"",u=l[5]||"",f=l[6]||"",n=l[7],S=l[8],k=S-f.length,M=S-C.length,P=S-u.length;return n==="+"?C?x+C+helperStringRepeat$4("0",S):k>0?x+u+f+helperStringRepeat$4("0",k):x+u+helperNumberOffsetPoint$1(f,S):C?M>0?x+"0."+helperStringRepeat$4("0",Math.abs(M))+C:x+helperNumberOffsetPoint$1(C,M):P>0?x+"0."+helperStringRepeat$4("0",Math.abs(P))+u+f:x+helperNumberOffsetPoint$1(u,P)+f}return r}var toNumberString_1=toNumberString$8,helperNumberDecimal$3=helperNumberDecimal_1,toNumberString$7=toNumberString_1;function helperMultiply$2(e,r){var l=toNumberString$7(e),g=toNumberString$7(r);return parseInt(l.replace(".",""))*parseInt(g.replace(".",""))/Math.pow(10,helperNumberDecimal$3(l)+helperNumberDecimal$3(g))}var helperMultiply_1=helperMultiply$2,helperMultiply$1=helperMultiply_1,toNumber$5=toNumber_1,toNumberString$6=toNumberString_1;function helperCreateMathNumber$3(e){return function(r,l){var g=toNumber$5(r),x=g;if(g){l=l>>0;var C=toNumberString$6(g),u=C.split("."),f=u[0],n=u[1]||"",S=n.substring(0,l+1),k=f+(S?"."+S:"");if(l>=n.length)return toNumber$5(k);if(k=g,l>0){var M=Math.pow(10,l);x=Math[e](helperMultiply$1(k,M))/M}else x=Math[e](k)}return x}}var helperCreateMathNumber_1=helperCreateMathNumber$3,helperCreateMathNumber$2=helperCreateMathNumber_1,round$3=helperCreateMathNumber$2("round"),round_1=round$3,helperCreateMathNumber$1=helperCreateMathNumber_1,ceil$2=helperCreateMathNumber$1("ceil"),ceil_1=ceil$2,helperCreateMathNumber=helperCreateMathNumber_1,floor$2=helperCreateMathNumber("floor"),floor_1=floor$2,eqNull$1=eqNull_1,isNumber$5=isNumber_1,toNumberString$5=toNumberString_1;function toValueString$e(e){return isNumber$5(e)?toNumberString$5(e):""+(eqNull$1(e)?"":e)}var toValueString_1=toValueString$e,round$2=round_1,toValueString$d=toValueString_1,helperStringRepeat$3=helperStringRepeat_1,helperNumberOffsetPoint=helperNumberOffsetPoint_1;function toFixed$3(e,r){r=r>>0;var l=toValueString$d(round$2(e,r)),g=l.split("."),x=g[0],C=g[1]||"",u=r-C.length;return r?u>0?x+"."+C+helperStringRepeat$3("0",u):x+helperNumberOffsetPoint(C,Math.abs(u)):x}var toFixed_1=toFixed$3,setupDefaults$6=setupDefaults_1,round$1=round_1,ceil$1=ceil_1,floor$1=floor_1,isNumber$4=isNumber_1,toValueString$c=toValueString_1,toFixed$2=toFixed_1,toNumberString$4=toNumberString_1,assign$4=assign_1;function commafy$1(e,r){var l=assign$4({},setupDefaults$6.commafyOptions,r),g=l.digits,x=isNumber$4(e),C,u,f,n,S;return x?(C=(l.ceil?ceil$1:l.floor?floor$1:round$1)(e,g),u=toNumberString$4(g?toFixed$2(C,g):C).split("."),n=u[0],S=u[1],f=n&&C<0,f&&(n=n.substring(1,n.length))):(C=toValueString$c(e).replace(/,/g,""),u=C?[C]:[],n=u[0]),u.length?(f?"-":"")+n.replace(new RegExp("(?=(?!(\\b))(.{"+(l.spaceNumber||3)+"})+$)","g"),l.separator||",")+(S?"."+S:""):C}var commafy_1=commafy$1,staticParseInt$1=staticParseInt_1,helperCreateToNumber=helperCreateToNumber_1,toInteger$1=helperCreateToNumber(staticParseInt$1),toInteger_1=toInteger$1,helperMultiply=helperMultiply_1,toNumber$4=toNumber_1;function multiply$3(e,r){var l=toNumber$4(e),g=toNumber$4(r);return helperMultiply(l,g)}var multiply_1=multiply$3,helperNumberDecimal$2=helperNumberDecimal_1,toNumberString$3=toNumberString_1,multiply$2=multiply_1;function helperNumberAdd$2(e,r){var l=toNumberString$3(e),g=toNumberString$3(r),x=Math.pow(10,Math.max(helperNumberDecimal$2(l),helperNumberDecimal$2(g)));return(multiply$2(e,x)+multiply$2(r,x))/x}var helperNumberAdd_1=helperNumberAdd$2,helperNumberAdd$1=helperNumberAdd_1,toNumber$3=toNumber_1;function add$1(e,r){return helperNumberAdd$1(toNumber$3(e),toNumber$3(r))}var add_1=add$1,helperNumberDecimal$1=helperNumberDecimal_1,toNumberString$2=toNumberString_1,toNumber$2=toNumber_1,toFixed$1=toFixed_1;function subtract$1(e,r){var l=toNumber$2(e),g=toNumber$2(r),x=toNumberString$2(l),C=toNumberString$2(g),u=helperNumberDecimal$1(x),f=helperNumberDecimal$1(C),n=Math.pow(10,Math.max(u,f)),S=u>=f?u:f;return parseFloat(toFixed$1((l*n-g*n)/n,S))}var subtract_1=subtract$1,helperNumberDecimal=helperNumberDecimal_1,toNumberString$1=toNumberString_1,multiply$1=multiply_1;function helperNumberDivide$2(e,r){var l=toNumberString$1(e),g=toNumberString$1(r),x=helperNumberDecimal(l),C=helperNumberDecimal(g),u=C-x,f=u<0,n=Math.pow(10,f?Math.abs(u):u);return multiply$1(l.replace(".","")/g.replace(".",""),f?1/n:n)}var helperNumberDivide_1=helperNumberDivide$2,helperNumberDivide$1=helperNumberDivide_1,toNumber$1=toNumber_1;function divide$1(e,r){return helperNumberDivide$1(toNumber$1(e),toNumber$1(r))}var divide_1=divide$1,helperNumberAdd=helperNumberAdd_1,isFunction$2=isFunction_1,each$3=each_1,get$2=get_1;function sum$2(e,r,l){var g=0;return each$3(e,r?isFunction$2(r)?function(){g=helperNumberAdd(g,r.apply(l,arguments))}:function(x){g=helperNumberAdd(g,get$2(x,r))}:function(x){g=helperNumberAdd(g,x)}),g}var sum_1=sum$2,helperNumberDivide=helperNumberDivide_1,getSize$1=getSize_1,sum$1=sum_1;function mean$1(e,r,l){return helperNumberDivide(sum$1(e,r,l),getSize$1(e))}var mean_1=mean$1,staticStrFirst$5="first",staticStrFirst_1=staticStrFirst$5,staticStrLast$4="last",staticStrLast_1=staticStrLast$4;function helperGetDateFullYear$5(e){return e.getFullYear()}var helperGetDateFullYear_1=helperGetDateFullYear$5,staticDayTime$5=864e5,staticDayTime_1=staticDayTime$5;function helperGetDateMonth$4(e){return e.getMonth()}var helperGetDateMonth_1=helperGetDateMonth$4,isDate$3=isDate_1,helperGetDateTime$a=helperGetDateTime_1;function isValidDate$c(e){return isDate$3(e)&&!isNaN(helperGetDateTime$a(e))}var isValidDate_1=isValidDate$c,staticStrFirst$4=staticStrFirst_1,staticStrLast$3=staticStrLast_1,staticDayTime$4=staticDayTime_1,helperGetDateFullYear$4=helperGetDateFullYear_1,helperGetDateTime$9=helperGetDateTime_1,helperGetDateMonth$3=helperGetDateMonth_1,toStringDate$b=toStringDate_1,isValidDate$b=isValidDate_1,isNumber$3=isNumber_1;function getWhatMonth$5(e,r,l){var g=r&&!isNaN(r)?r:0;if(e=toStringDate$b(e),isValidDate$b(e)){if(l===staticStrFirst$4)return new Date(helperGetDateFullYear$4(e),helperGetDateMonth$3(e)+g,1);if(l===staticStrLast$3)return new Date(helperGetDateTime$9(getWhatMonth$5(e,g+1,staticStrFirst$4))-1);if(isNumber$3(l)&&e.setDate(l),g){var x=e.getDate();if(e.setMonth(helperGetDateMonth$3(e)+g),x!==e.getDate())return e.setDate(1),new Date(helperGetDateTime$9(e)-staticDayTime$4)}}return e}var getWhatMonth_1=getWhatMonth$5,staticStrFirst$3=staticStrFirst_1,staticStrLast$2=staticStrLast_1,helperGetDateFullYear$3=helperGetDateFullYear_1,getWhatMonth$4=getWhatMonth_1,toStringDate$a=toStringDate_1,isValidDate$a=isValidDate_1;function getWhatYear$4(e,r,l){var g;if(e=toStringDate$a(e),isValidDate$a(e)&&(r&&(g=r&&!isNaN(r)?r:0,e.setFullYear(helperGetDateFullYear$3(e)+g)),l||!isNaN(l))){if(l===staticStrFirst$3)return new Date(helperGetDateFullYear$3(e),0,1);if(l===staticStrLast$2)return e.setMonth(11),getWhatMonth$4(e,0,staticStrLast$2);e.setMonth(l)}return e}var getWhatYear_1=getWhatYear$4,getWhatMonth$3=getWhatMonth_1,toStringDate$9=toStringDate_1,isValidDate$9=isValidDate_1;function getQuarterNumber(e){var r=e.getMonth();return r<3?1:r<6?2:r<9?3:4}function getWhatQuarter$1(e,r,l){var g,x=r&&!isNaN(r)?r*3:0;return e=toStringDate$9(e),isValidDate$9(e)?(g=(getQuarterNumber(e)-1)*3,e.setMonth(g),getWhatMonth$3(e,x,l)):e}var getWhatQuarter_1=getWhatQuarter$1,staticStrFirst$2=staticStrFirst_1,staticStrLast$1=staticStrLast_1,staticParseInt=staticParseInt_1,helperGetDateFullYear$2=helperGetDateFullYear_1,helperGetDateMonth$2=helperGetDateMonth_1,helperGetDateTime$8=helperGetDateTime_1,toStringDate$8=toStringDate_1,isValidDate$8=isValidDate_1;function getWhatDay$2(e,r,l){if(e=toStringDate$8(e),isValidDate$8(e)&&!isNaN(r)){if(e.setDate(e.getDate()+staticParseInt(r)),l===staticStrFirst$2)return new Date(helperGetDateFullYear$2(e),helperGetDateMonth$2(e),e.getDate());if(l===staticStrLast$1)return new Date(helperGetDateTime$8(getWhatDay$2(e,1,staticStrFirst$2))-1)}return e}var getWhatDay_1=getWhatDay$2;function helperStringUpperCase$2(e){return e.toUpperCase()}var helperStringUpperCase_1=helperStringUpperCase$2,staticDayTime$3=staticDayTime_1,staticWeekTime$2=staticDayTime$3*7,staticWeekTime_1=staticWeekTime$2,setupDefaults$5=setupDefaults_1,staticDayTime$2=staticDayTime_1,staticWeekTime$1=staticWeekTime_1,helperGetDateTime$7=helperGetDateTime_1,toStringDate$7=toStringDate_1,isValidDate$7=isValidDate_1,isNumber$2=isNumber_1;function getWhatWeek$2(e,r,l,g){if(e=toStringDate$7(e),isValidDate$7(e)){var x=isNumber$2(l),C=isNumber$2(g),u=helperGetDateTime$7(e);if(x||C){var f=C?g:setupDefaults$5.firstDayOfWeek,n=e.getDay(),S=x?l:n;if(n!==S){var k=0;f>n?k=-(7-f+n):f<n&&(k=f-n),S>f?u+=((S===0?7:S)-f+k)*staticDayTime$2:S<f?u+=(7-f+S+k)*staticDayTime$2:u+=k*staticDayTime$2}}return r&&!isNaN(r)&&(u+=r*staticWeekTime$1),new Date(u)}return e}var getWhatWeek_1=getWhatWeek$2,setupDefaults$4=setupDefaults_1,staticWeekTime=staticWeekTime_1,isNumber$1=isNumber_1,isValidDate$6=isValidDate_1,getWhatWeek$1=getWhatWeek_1,helperGetDateTime$6=helperGetDateTime_1;function helperCreateGetDateWeek$2(e){return function(r,l){var g=isNumber$1(l)?l:setupDefaults$4.firstDayOfWeek,x=getWhatWeek$1(r,0,g,g);if(isValidDate$6(x)){var C=new Date(x.getFullYear(),x.getMonth(),x.getDate()),u=e(x),f=u.getDay();return f>g&&u.setDate(7-f+g+1),f<g&&u.setDate(g-f+1),Math.floor((helperGetDateTime$6(C)-helperGetDateTime$6(u))/staticWeekTime+1)}return NaN}}var helperCreateGetDateWeek_1=helperCreateGetDateWeek$2,helperCreateGetDateWeek$1=helperCreateGetDateWeek_1,getYearWeek$2=helperCreateGetDateWeek$1(function(e){return new Date(e.getFullYear(),0,1)}),getYearWeek_1=getYearWeek$2,helperGetDateFullYear$1=helperGetDateFullYear_1,helperGetDateMonth$1=helperGetDateMonth_1;function helperGetYMD$1(e){return new Date(helperGetDateFullYear$1(e),helperGetDateMonth$1(e),e.getDate())}var helperGetYMD_1=helperGetYMD$1,helperGetDateTime$5=helperGetDateTime_1,helperGetYMD=helperGetYMD_1;function helperGetYMDTime$1(e){return helperGetDateTime$5(helperGetYMD(e))}var helperGetYMDTime_1=helperGetYMDTime$1,staticDayTime$1=staticDayTime_1,staticStrFirst$1=staticStrFirst_1,helperGetYMDTime=helperGetYMDTime_1,getWhatYear$3=getWhatYear_1,toStringDate$6=toStringDate_1,isValidDate$5=isValidDate_1;function getYearDay$2(e){return e=toStringDate$6(e),isValidDate$5(e)?Math.floor((helperGetYMDTime(e)-helperGetYMDTime(getWhatYear$3(e,0,staticStrFirst$1)))/staticDayTime$1)+1:NaN}var getYearDay_1=getYearDay$2,toValueString$b=toValueString_1,isUndefined$4=isUndefined_1,helperStringRepeat$2=helperStringRepeat_1;function padStart$2(e,r,l){var g=toValueString$b(e);return r=r>>0,l=isUndefined$4(l)?" ":""+l,g.padStart?g.padStart(r,l):r>g.length?(r-=g.length,r>l.length&&(l+=helperStringRepeat$2(l,r/l.length)),l.slice(0,r)+g):g}var padStart_1=padStart$2,setupDefaults$3=setupDefaults_1,helperStringUpperCase$1=helperStringUpperCase_1,helperGetDateFullYear=helperGetDateFullYear_1,helperGetDateMonth=helperGetDateMonth_1,toStringDate$5=toStringDate_1,getYearWeek$1=getYearWeek_1,getYearDay$1=getYearDay_1,assign$3=assign_1,isValidDate$4=isValidDate_1,isFunction$1=isFunction_1,padStart$1=padStart_1;function handleCustomTemplate(e,r,l,g){var x=r[l];return x?isFunction$1(x)?x(g,l,e):x[g]:g}var dateFormatRE=/\[([^\]]+)]|y{2,4}|M{1,2}|d{1,2}|H{1,2}|h{1,2}|m{1,2}|s{1,2}|S{1,3}|Z{1,2}|W{1,2}|D{1,3}|[aAeEq]/g;function toDateString$2(e,r,l){if(e){if(e=toStringDate$5(e),isValidDate$4(e)){var g=r||setupDefaults$3.parseDateFormat||setupDefaults$3.formatString,x=e.getHours(),C=x<12?"am":"pm",u=assign$3({},setupDefaults$3.parseDateRules||setupDefaults$3.formatStringMatchs,l?l.formats:null),f=function(q,Y){return(""+helperGetDateFullYear(e)).substr(4-Y)},n=function(q,Y){return padStart$1(helperGetDateMonth(e)+1,Y,"0")},S=function(q,Y){return padStart$1(e.getDate(),Y,"0")},k=function(q,Y){return padStart$1(x,Y,"0")},M=function(q,Y){return padStart$1(x<=12?x:x-12,Y,"0")},P=function(q,Y){return padStart$1(e.getMinutes(),Y,"0")},$=function(q,Y){return padStart$1(e.getSeconds(),Y,"0")},R=function(q,Y){return padStart$1(e.getMilliseconds(),Y,"0")},B=function(q,Y){var Q=e.getTimezoneOffset()/60*-1;return handleCustomTemplate(e,u,q,(Q>=0?"+":"-")+padStart$1(Q,2,"0")+(Y===1?":":"")+"00")},V=function(q,Y){return padStart$1(handleCustomTemplate(e,u,q,getYearWeek$1(e,(l?l.firstDay:null)||setupDefaults$3.firstDayOfWeek)),Y,"0")},j=function(q,Y){return padStart$1(handleCustomTemplate(e,u,q,getYearDay$1(e)),Y,"0")},U={yyyy:f,yy:f,MM:n,M:n,dd:S,d:S,HH:k,H:k,hh:M,h:M,mm:P,m:P,ss:$,s:$,SSS:R,S:R,ZZ:B,Z:B,WW:V,W:V,DDD:j,D:j,a:function(q){return handleCustomTemplate(e,u,q,C)},A:function(q){return handleCustomTemplate(e,u,q,helperStringUpperCase$1(C))},e:function(q){return handleCustomTemplate(e,u,q,e.getDay())},E:function(q){return handleCustomTemplate(e,u,q,e.getDay())},q:function(q){return handleCustomTemplate(e,u,q,Math.floor((helperGetDateMonth(e)+3)/3))}};return g.replace(dateFormatRE,function(q,Y){return Y||(U[q]?U[q](q,q.length):q)})}return"Invalid Date"}return""}var toDateString_1=toDateString$2,helperGetDateTime$4=helperGetDateTime_1,helperNewDate$2=helperNewDate_1,now$2=Date.now||function(){return helperGetDateTime$4(helperNewDate$2())},now_1=now$2,helperGetDateTime$3=helperGetDateTime_1,now$1=now_1,toStringDate$4=toStringDate_1,isDate$2=isDate_1,timestamp$1=function(e,r){if(e){var l=toStringDate$4(e,r);return isDate$2(l)?helperGetDateTime$3(l):l}return now$1()},timestamp_1=timestamp$1,toDateString$1=toDateString_1;function isDateSame$1(e,r,l){return e&&r?(e=toDateString$1(e,l),e!=="Invalid Date"&&e===toDateString$1(r,l)):!1}var isDateSame_1=isDateSame$1,helperCreateGetDateWeek=helperCreateGetDateWeek_1,getMonthWeek$1=helperCreateGetDateWeek(function(e){return new Date(e.getFullYear(),e.getMonth(),1)}),getMonthWeek_1=getMonthWeek$1,getWhatYear$2=getWhatYear_1,toStringDate$3=toStringDate_1,isValidDate$3=isValidDate_1,isLeapYear$1=isLeapYear_1;function getDayOfYear$1(e,r){return e=toStringDate$3(e),isValidDate$3(e)?isLeapYear$1(getWhatYear$2(e,r))?366:365:NaN}var getDayOfYear_1=getDayOfYear$1,staticDayTime=staticDayTime_1,staticStrFirst=staticStrFirst_1,staticStrLast=staticStrLast_1,helperGetDateTime$2=helperGetDateTime_1,getWhatMonth$2=getWhatMonth_1,toStringDate$2=toStringDate_1,isValidDate$2=isValidDate_1;function getDayOfMonth$1(e,r){return e=toStringDate$2(e),isValidDate$2(e)?Math.floor((helperGetDateTime$2(getWhatMonth$2(e,r,staticStrLast))-helperGetDateTime$2(getWhatMonth$2(e,r,staticStrFirst)))/staticDayTime)+1:NaN}var getDayOfMonth_1=getDayOfMonth$1,setupDefaults$2=setupDefaults_1,helperGetDateTime$1=helperGetDateTime_1,helperNewDate$1=helperNewDate_1,toStringDate$1=toStringDate_1,isValidDate$1=isValidDate_1;function getDateDiff$1(e,r,l){var g,x,C,u,f,n,S,k={done:!1,time:0};if(e=toStringDate$1(e),r=r?toStringDate$1(r):helperNewDate$1(),isValidDate$1(e)&&isValidDate$1(r)&&(g=helperGetDateTime$1(e),x=helperGetDateTime$1(r),g<x))for(u=k.time=x-g,f=l&&l.length>0?l:setupDefaults$2.dateDiffRules,k.done=!0,S=0,n=f.length;S<n;S++)C=f[S],u>=C[1]?S===n-1?k[C[0]]=u||0:(k[C[0]]=Math.floor(u/C[1]),u-=k[C[0]]*C[1]):k[C[0]]=0;return k}var getDateDiff_1=getDateDiff$1,toValueString$a=toValueString_1,isUndefined$3=isUndefined_1,helperStringRepeat$1=helperStringRepeat_1;function padEnd$1(e,r,l){var g=toValueString$a(e);return r=r>>0,l=isUndefined$3(l)?" ":""+l,g.padEnd?g.padEnd(r,l):r>g.length?(r-=g.length,r>l.length&&(l+=helperStringRepeat$1(l,r/l.length)),g+l.slice(0,r)):g}var padEnd_1=padEnd$1,toValueString$9=toValueString_1,helperStringRepeat=helperStringRepeat_1;function repeat$1(e,r){return helperStringRepeat(toValueString$9(e),r)}var repeat_1=repeat$1,toValueString$8=toValueString_1;function trimRight$2(e){return e&&e.trimRight?e.trimRight():toValueString$8(e).replace(/[\s\uFEFF\xA0]+$/g,"")}var trimRight_1=trimRight$2,toValueString$7=toValueString_1;function trimLeft$2(e){return e&&e.trimLeft?e.trimLeft():toValueString$7(e).replace(/^[\s\uFEFF\xA0]+/g,"")}var trimLeft_1=trimLeft$2,trimRight$1=trimRight_1,trimLeft$1=trimLeft_1;function trim$2(e){return e&&e.trim?e.trim():trimRight$1(trimLeft$1(e))}var trim_1=trim$2,staticEscapeMap$2={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},staticEscapeMap_1=staticEscapeMap$2,toValueString$6=toValueString_1,keys$2=keys_1;function helperFormatEscaper$2(e){var r=new RegExp("(?:"+keys$2(e).join("|")+")","g");return function(l){return toValueString$6(l).replace(r,function(g){return e[g]})}}var helperFormatEscaper_1=helperFormatEscaper$2,staticEscapeMap$1=staticEscapeMap_1,helperFormatEscaper$1=helperFormatEscaper_1,escape$2=helperFormatEscaper$1(staticEscapeMap$1),_escape=escape$2,staticEscapeMap=staticEscapeMap_1,helperFormatEscaper=helperFormatEscaper_1,each$2=each_1,unescapeMap={};each$2(staticEscapeMap,function(e,r){unescapeMap[staticEscapeMap[r]]=r});var unescape$2=helperFormatEscaper(unescapeMap),_unescape=unescape$2;function helperStringSubstring$2(e,r,l){return e.substring(r,l)}var helperStringSubstring_1=helperStringSubstring$2;function helperStringLowerCase$2(e){return e.toLowerCase()}var helperStringLowerCase_1=helperStringLowerCase$2,toValueString$5=toValueString_1,helperStringSubstring$1=helperStringSubstring_1,helperStringUpperCase=helperStringUpperCase_1,helperStringLowerCase$1=helperStringLowerCase_1,camelCacheMaps={};function camelCase$1(e){if(e=toValueString$5(e),camelCacheMaps[e])return camelCacheMaps[e];var r=e.length,l=e.replace(/([-]+)/g,function(g,x,C){return C&&C+x.length<r?"-":""});return r=l.length,l=l.replace(/([A-Z]+)/g,function(g,x,C){var u=x.length;return x=helperStringLowerCase$1(x),C?u>2&&C+u<r?helperStringUpperCase(helperStringSubstring$1(x,0,1))+helperStringSubstring$1(x,1,u-1)+helperStringUpperCase(helperStringSubstring$1(x,u-1,u)):helperStringUpperCase(helperStringSubstring$1(x,0,1))+helperStringSubstring$1(x,1,u):u>1&&C+u<r?helperStringSubstring$1(x,0,u-1)+helperStringUpperCase(helperStringSubstring$1(x,u-1,u)):x}).replace(/(-[a-zA-Z])/g,function(g,x){return helperStringUpperCase(helperStringSubstring$1(x,1,x.length))}),camelCacheMaps[e]=l,l}var camelCase_1=camelCase$1,toValueString$4=toValueString_1,helperStringSubstring=helperStringSubstring_1,helperStringLowerCase=helperStringLowerCase_1,kebabCacheMaps={};function kebabCase$1(e){if(e=toValueString$4(e),kebabCacheMaps[e])return kebabCacheMaps[e];if(/^[A-Z]+$/.test(e))return helperStringLowerCase(e);var r=e.replace(/^([a-z])([A-Z]+)([a-z]+)$/,function(l,g,x,C){var u=x.length;return u>1?g+"-"+helperStringLowerCase(helperStringSubstring(x,0,u-1))+"-"+helperStringLowerCase(helperStringSubstring(x,u-1,u))+C:helperStringLowerCase(g+"-"+x+C)}).replace(/^([A-Z]+)([a-z]+)?$/,function(l,g,x){var C=g.length;return helperStringLowerCase(helperStringSubstring(g,0,C-1)+"-"+helperStringSubstring(g,C-1,C)+(x||""))}).replace(/([a-z]?)([A-Z]+)([a-z]?)/g,function(l,g,x,C,u){var f=x.length;return f>1&&(g&&(g+="-"),C)?(g||"")+helperStringLowerCase(helperStringSubstring(x,0,f-1))+"-"+helperStringLowerCase(helperStringSubstring(x,f-1,f))+C:(g||"")+(u?"-":"")+helperStringLowerCase(x)+(C||"")});return r=r.replace(/([-]+)/g,function(l,g,x){return x&&x+g.length<r.length?"-":""}),kebabCacheMaps[e]=r,r}var kebabCase_1=kebabCase$1,toValueString$3=toValueString_1;function startsWith$1(e,r,l){var g=toValueString$3(e);return(arguments.length===1?g:g.substring(l)).indexOf(r)===0}var startsWith_1=startsWith$1,toValueString$2=toValueString_1;function endsWith$1(e,r,l){var g=toValueString$2(e),x=arguments.length;return x>1&&(x>2?g.substring(0,l).indexOf(r)===l-1:g.indexOf(r)===g.length-1)}var endsWith_1=endsWith$1,setupDefaults$1=setupDefaults_1,toValueString$1=toValueString_1,trim$1=trim_1,get$1=get_1;function template$2(e,r,l){return toValueString$1(e).replace((l||setupDefaults$1).tmplRE||/\{{2}([.\w[\]\s]+)\}{2}/g,function(g,x){return get$1(r,trim$1(x))})}var template_1=template$2,template$1=template_1;function toFormatString$1(e,r){return template$1(e,r,{tmplRE:/\{([.\w[\]\s]+)\}/g})}var toFormatString_1=toFormatString$1;function noop$1(){}var noop_1=noop$1,slice$5=slice_1;function bind$1(e,r){var l=slice$5(arguments,2);return function(){return e.apply(r,slice$5(arguments).concat(l))}}var bind_1=bind$1,slice$4=slice_1;function once$1(e,r){var l=!1,g=null,x=slice$4(arguments,2);return function(){return l||(g=e.apply(r,slice$4(arguments).concat(x)),l=!0),g}}var once_1=once$1,slice$3=slice_1;function after$1(e,r,l){var g=0,x=[];return function(){var C=arguments;g++,g<=e&&x.push(C[0]),g>=e&&r.apply(l,[x].concat(slice$3(C)))}}var after_1=after$1,slice$2=slice_1;function before$1(e,r,l){var g=0,x=[];return l=l||this,function(){var C=arguments;g++,g<e&&(x.push(C[0]),r.apply(l,[x].concat(slice$2(C))))}}var before_1=before$1;function throttle$1(e,r,l){var g,x,C=l||{},u=!1,f=0,n="leading"in C?C.leading:!0,S="trailing"in C?C.trailing:!1,k=function(){u=!0,e.apply(x,g),f=setTimeout(M,r)},M=function(){f=0,!u&&S===!0&&k()},P=function(){var R=f!==0;return clearTimeout(f),u=!1,f=0,R},$=function(){g=arguments,x=this,u=!1,f===0&&(n===!0?k():S===!0&&(f=setTimeout(M,r)))};return $.cancel=P,$}var throttle_1=throttle$1;function debounce$1(e,r,l){var g,x,C=l||{},u=!1,f=0,n=typeof l=="boolean",S="leading"in C?C.leading:n,k="trailing"in C?C.trailing:!n,M=function(){u=!0,f=0,e.apply(x,g)},P=function(){S===!0&&(f=0),!u&&k===!0&&M()},$=function(){var B=f!==0;return clearTimeout(f),f=0,B},R=function(){u=!1,g=arguments,x=this,f===0?S===!0&&M():clearTimeout(f),f=setTimeout(P,r)};return R.cancel=$,R}var debounce_1=debounce$1,slice$1=slice_1;function delay$1(e,r){var l=slice$1(arguments,2),g=this;return setTimeout(function(){e.apply(g,l)},r)}var delay_1=delay$1,staticDecodeURIComponent$2=decodeURIComponent,staticDecodeURIComponent_1=staticDecodeURIComponent$2,staticDecodeURIComponent$1=staticDecodeURIComponent_1,arrayEach$3=arrayEach_1,isString$1=isString_1;function unserialize$2(e){var r,l={};return e&&isString$1(e)&&arrayEach$3(e.split("&"),function(g){r=g.split("="),l[staticDecodeURIComponent$1(r[0])]=staticDecodeURIComponent$1(r[1]||"")}),l}var unserialize_1=unserialize$2,staticEncodeURIComponent$2=encodeURIComponent,staticEncodeURIComponent_1=staticEncodeURIComponent$2,staticEncodeURIComponent$1=staticEncodeURIComponent_1,each$1=each_1,isArray$2=isArray_1,isNull$1=isNull_1,isUndefined$2=isUndefined_1,isPlainObject$1=isPlainObject_1;function stringifyParams(e,r,l){var g,x=[];return each$1(e,function(C,u){g=isArray$2(C),isPlainObject$1(C)||g?x=x.concat(stringifyParams(C,r+"["+u+"]",g)):x.push(staticEncodeURIComponent$1(r+"["+(l?"":u)+"]")+"="+staticEncodeURIComponent$1(isNull$1(C)?"":C))}),x}function serialize$1(e){var r,l=[];return each$1(e,function(g,x){isUndefined$2(g)||(r=isArray$2(g),isPlainObject$1(g)||r?l=l.concat(stringifyParams(g,x,r)):l.push(staticEncodeURIComponent$1(x)+"="+staticEncodeURIComponent$1(isNull$1(g)?"":g)))}),l.join("&").replace(/%20/g,"+")}var serialize_1=serialize$1,staticStrUndefined$1=staticStrUndefined_1,staticLocation$4=typeof location===staticStrUndefined$1?0:location,staticLocation_1=staticLocation$4,staticLocation$3=staticLocation_1;function helperGetLocatOrigin$2(){return staticLocation$3?staticLocation$3.origin||staticLocation$3.protocol+"//"+staticLocation$3.host:""}var helperGetLocatOrigin_1=helperGetLocatOrigin$2,staticLocation$2=staticLocation_1,unserialize$1=unserialize_1,helperGetLocatOrigin$1=helperGetLocatOrigin_1;function parseURLQuery(e){return unserialize$1(e.split("?")[1]||"")}function parseUrl$2(e){var r,l,g,x,C=""+e;return C.indexOf("//")===0?C=(staticLocation$2?staticLocation$2.protocol:"")+C:C.indexOf("/")===0&&(C=helperGetLocatOrigin$1()+C),g=C.replace(/#.*/,"").match(/(\?.*)/),x={href:C,hash:"",host:"",hostname:"",protocol:"",port:"",search:g&&g[1]&&g[1].length>1?g[1]:""},x.path=C.replace(/^([a-z0-9.+-]*:)\/\//,function(u,f){return x.protocol=f,""}).replace(/^([a-z0-9.+-]*)(:\d+)?\/?/,function(u,f,n){return l=n||"",x.port=l.replace(":",""),x.hostname=f,x.host=f+l,"/"}).replace(/(#.*)/,function(u,f){return x.hash=f.length>1?f:"",""}),r=x.hash.match(/#((.*)\?|(.*))/),x.pathname=x.path.replace(/(\?|#.*).*/,""),x.origin=x.protocol+"//"+x.host,x.hashKey=r&&(r[2]||r[1])||"",x.hashQuery=parseURLQuery(x.hash),x.searchQuery=parseURLQuery(x.search),x}var parseUrl_1=parseUrl$2,staticLocation$1=staticLocation_1,helperGetLocatOrigin=helperGetLocatOrigin_1,lastIndexOf$1=lastIndexOf_1;function getBaseURL$1(){if(staticLocation$1){var e=staticLocation$1.pathname,r=lastIndexOf$1(e,"/")+1;return helperGetLocatOrigin()+(r===e.length?e:e.substring(0,r))}return""}var getBaseURL_1=getBaseURL$1,staticLocation=staticLocation_1,parseUrl$1=parseUrl_1;function locat$1(){return staticLocation?parseUrl$1(staticLocation.href):{}}var locat_1=locat$1,setupDefaults=setupDefaults_1,staticDocument$1=staticDocument_1,staticDecodeURIComponent=staticDecodeURIComponent_1,staticEncodeURIComponent=staticEncodeURIComponent_1,isArray$1=isArray_1,isObject$1=isObject_1,isDate$1=isDate_1,isUndefined$1=isUndefined_1,includes$1=includes_1,keys$1=keys_1,assign$2=assign_1,arrayEach$2=arrayEach_1,helperNewDate=helperNewDate_1,helperGetDateTime=helperGetDateTime_1,getWhatYear$1=getWhatYear_1,getWhatMonth$1=getWhatMonth_1,getWhatDay$1=getWhatDay_1;function toCookieUnitTime(e,r){var l=parseFloat(r),g=helperNewDate(),x=helperGetDateTime(g);switch(e){case"y":return helperGetDateTime(getWhatYear$1(g,l));case"M":return helperGetDateTime(getWhatMonth$1(g,l));case"d":return helperGetDateTime(getWhatDay$1(g,l));case"h":case"H":return x+l*60*60*1e3;case"m":return x+l*60*1e3;case"s":return x+l*1e3}return x}function toCookieUTCString(e){return(isDate$1(e)?e:new Date(e)).toUTCString()}function cookie$1(e,r,l){if(staticDocument$1){var g,x,C,u,f,n,S=[],k=arguments;return isArray$1(e)?S=e:k.length>1?S=[assign$2({name:e,value:r},l)]:isObject$1(e)&&(S=[e]),S.length>0?(arrayEach$2(S,function(M){g=assign$2({},setupDefaults.cookies,M),C=[],g.name&&(x=g.expires,C.push(staticEncodeURIComponent(g.name)+"="+staticEncodeURIComponent(isObject$1(g.value)?JSON.stringify(g.value):g.value)),x&&(isNaN(x)?x=x.replace(/^([0-9]+)(y|M|d|H|h|m|s)$/,function(P,$,R){return toCookieUTCString(toCookieUnitTime(R,$))}):/^[0-9]{11,13}$/.test(x)||isDate$1(x)?x=toCookieUTCString(x):x=toCookieUTCString(toCookieUnitTime("d",x)),g.expires=x),arrayEach$2(["expires","path","domain","secure"],function(P){isUndefined$1(g[P])||C.push(g[P]&&P==="secure"?P:P+"="+g[P])})),staticDocument$1.cookie=C.join("; ")}),!0):(u={},f=staticDocument$1.cookie,f&&arrayEach$2(f.split("; "),function(M){n=M.indexOf("="),u[staticDecodeURIComponent(M.substring(0,n))]=staticDecodeURIComponent(M.substring(n+1)||"")}),k.length===1?u[e]:u)}return!1}function hasCookieItem(e){return includes$1(cookieKeys(),e)}function getCookieItem(e){return cookie$1(e)}function setCookieItem(e,r,l){return cookie$1(e,r,l),cookie$1}function removeCookieItem(e,r){cookie$1(e,"",assign$2({expires:-1},setupDefaults.cookies,r))}function cookieKeys(){return keys$1(cookie$1())}function cookieJson(){return cookie$1()}assign$2(cookie$1,{has:hasCookieItem,set:setCookieItem,setItem:setCookieItem,get:getCookieItem,getItem:getCookieItem,remove:removeCookieItem,removeItem:removeCookieItem,keys:cookieKeys,getJSON:cookieJson});var cookie_1=cookie$1,staticStrUndefined=staticStrUndefined_1,staticDocument=staticDocument_1,staticWindow=staticWindow_1,assign$1=assign_1,arrayEach$1=arrayEach_1;function isBrowseStorage(e){try{var r="__xe_t";return e.setItem(r,1),e.removeItem(r),!0}catch{return!1}}function isBrowseType(e){return navigator.userAgent.indexOf(e)>-1}function browse$2(){var e,r,l,g=!1,x={isNode:!1,isMobile:g,isPC:!1,isDoc:!!staticDocument};return!staticWindow&&typeof process!==staticStrUndefined?x.isNode=!0:(l=isBrowseType("Edge"),r=isBrowseType("Chrome"),g=/(Android|webOS|iPhone|iPad|iPod|SymbianOS|BlackBerry|Windows Phone)/.test(navigator.userAgent),x.isDoc&&(e=staticDocument.body||staticDocument.documentElement,arrayEach$1(["webkit","khtml","moz","ms","o"],function(C){x["-"+C]=!!e[C+"MatchesSelector"]})),assign$1(x,{edge:l,firefox:isBrowseType("Firefox"),msie:!l&&x["-ms"],safari:!r&&!l&&isBrowseType("Safari"),isMobile:g,isPC:!g,isLocalStorage:isBrowseStorage(staticWindow.localStorage),isSessionStorage:isBrowseStorage(staticWindow.sessionStorage)})),x}var browse_1=browse$2,XEUtils=ctor,assign=assign_1,objectEach=objectEach_1,lastObjectEach=lastObjectEach_1,objectMap=objectMap_1,merge=merge_1,map=map_1,some=some_1,every=every_1,includeArrays=includeArrays_1,arrayEach=arrayEach_1,lastArrayEach=lastArrayEach_1,uniq=uniq_1,union=union_1,toArray$1=toArray_1,sortBy=sortBy_1,orderBy=orderBy_1,shuffle=shuffle_1,sample=sample_1,slice=slice_1,filter=filter_1,findKey=findKey_1,includes=includes_1,find=find_1,findLast=findLast_1,reduce=reduce_1,copyWithin=copyWithin_1,chunk=chunk_1,zip=zip_1,unzip=unzip_1,zipObject=zipObject_1,flatten=flatten_1,pluck=pluck_1,invoke=invoke_1,toArrayTree=toArrayTree_1,toTreeArray=toTreeArray_1,findTree=findTree_1,eachTree=eachTree_1,mapTree=mapTree_1,filterTree=filterTree_1,searchTree=searchTree_1,arrayIndexOf=arrayIndexOf_1,arrayLastIndexOf=arrayLastIndexOf_1,hasOwnProp=hasOwnProp_1,isArray=isArray_1,isNull=isNull_1,isNumberNaN=_isNaN,isUndefined=isUndefined_1,isFunction=isFunction_1,isObject=isObject_1,isString=isString_1,isPlainObject=isPlainObject_1,isLeapYear=isLeapYear_1,isDate=isDate_1,eqNull=eqNull_1,each=each_1,forOf=forOf_1,lastForOf=lastForOf_1,indexOf=indexOf_1,lastIndexOf=lastIndexOf_1,keys=keys_1,values=values_1,clone=clone_1,getSize=getSize_1,lastEach=lastEach_1,remove=remove_1,clear=clear_1,isNumberFinite=_isFinite,isFloat=isFloat_1,isInteger=isInteger_1,isBoolean=isBoolean_1,isNumber=isNumber_1,isRegExp=isRegExp_1,isError=isError_1,isTypeError=isTypeError_1,isEmpty=isEmpty_1,isSymbol=isSymbol_1,isArguments=isArguments_1,isElement$1=isElement_1,isDocument=isDocument_1,isWindow=isWindow_1,isFormData=isFormData_1,isMap=isMap_1,isWeakMap=isWeakMap_1,isSet=isSet_1,isWeakSet=isWeakSet_1,isMatch=isMatch_1,isEqual=isEqual_1,isEqualWith=isEqualWith_1,getType=getType_1,uniqueId=uniqueId_1,findIndexOf=findIndexOf_1,findLastIndexOf=findLastIndexOf_1,toStringJSON=toStringJSON_1,toJSONString=toJSONString_1,entries=entries_1,pick=pick_1,omit=omit_1,first=first_1,last=last_1,has=has_1,get=get_1,set=set_1,groupBy=groupBy_1,countBy=countBy_1,range=range_1,destructuring=destructuring_1,random=random_1,max=max_1,min=min_1,commafy=commafy_1,round=round_1,ceil=ceil_1,floor=floor_1,toFixed=toFixed_1,toInteger=toInteger_1,toNumber=toNumber_1,toNumberString=toNumberString_1,add=add_1,subtract=subtract_1,multiply=multiply_1,divide=divide_1,sum=sum_1,mean=mean_1,getWhatYear=getWhatYear_1,getWhatQuarter=getWhatQuarter_1,getWhatMonth=getWhatMonth_1,getWhatDay=getWhatDay_1,toStringDate=toStringDate_1,toDateString=toDateString_1,now=now_1,timestamp=timestamp_1,isValidDate=isValidDate_1,isDateSame=isDateSame_1,getWhatWeek=getWhatWeek_1,getYearDay=getYearDay_1,getYearWeek=getYearWeek_1,getMonthWeek=getMonthWeek_1,getDayOfYear=getDayOfYear_1,getDayOfMonth=getDayOfMonth_1,getDateDiff=getDateDiff_1,padEnd=padEnd_1,padStart=padStart_1,repeat=repeat_1,trim=trim_1,trimRight=trimRight_1,trimLeft=trimLeft_1,escape$1=_escape,unescape$1=_unescape,camelCase=camelCase_1,kebabCase=kebabCase_1,startsWith=startsWith_1,endsWith=endsWith_1,template=template_1,toFormatString=toFormatString_1,toValueString=toValueString_1,noop=noop_1,property=property_1,bind=bind_1,once=once_1,after=after_1,before=before_1,throttle=throttle_1,debounce=debounce_1,delay=delay_1,unserialize=unserialize_1,serialize=serialize_1,parseUrl=parseUrl_1,getBaseURL=getBaseURL_1,locat=locat_1,cookie=cookie_1,browse$1=browse_1;assign(XEUtils,{assign,objectEach,lastObjectEach,objectMap,merge,uniq,union,sortBy,orderBy,shuffle,sample,some,every,slice,filter,find,findLast,findKey,includes,arrayIndexOf,arrayLastIndexOf,map,reduce,copyWithin,chunk,zip,unzip,zipObject,flatten,toArray:toArray$1,includeArrays,pluck,invoke,arrayEach,lastArrayEach,toArrayTree,toTreeArray,findTree,eachTree,mapTree,filterTree,searchTree,hasOwnProp,eqNull,isNaN:isNumberNaN,isFinite:isNumberFinite,isUndefined,isArray,isFloat,isInteger,isFunction,isBoolean,isString,isNumber,isRegExp,isObject,isPlainObject,isDate,isError,isTypeError,isEmpty,isNull,isSymbol,isArguments,isElement:isElement$1,isDocument,isWindow,isFormData,isMap,isWeakMap,isSet,isWeakSet,isLeapYear,isMatch,isEqual,isEqualWith,getType,uniqueId,getSize,indexOf,lastIndexOf,findIndexOf,findLastIndexOf,toStringJSON,toJSONString,keys,values,entries,pick,omit,first,last,each,forOf,lastForOf,lastEach,has,get,set,groupBy,countBy,clone,clear,remove,range,destructuring,random,min,max,commafy,round,ceil,floor,toFixed,toNumber,toNumberString,toInteger,add,subtract,multiply,divide,sum,mean,now,timestamp,isValidDate,isDateSame,toStringDate,toDateString,getWhatYear,getWhatQuarter,getWhatMonth,getWhatWeek,getWhatDay,getYearDay,getYearWeek,getMonthWeek,getDayOfYear,getDayOfMonth,getDateDiff,trim,trimLeft,trimRight,escape:escape$1,unescape:unescape$1,camelCase,kebabCase,repeat,padStart,padEnd,startsWith,endsWith,template,toFormatString,toString:toValueString,toValueString,noop,property,bind,once,after,before,throttle,debounce,delay,unserialize,serialize,parseUrl,getBaseURL,locat,browse:browse$1,cookie});var xeUtils=XEUtils,iconPrefix="vxe-icon--",GlobalConfig={size:null,zIndex:999,version:0,emptyCell:"\u3000",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,radioConfig:{strict:!0},checkboxConfig:{strict:!0},validConfig:{showMessage:!0,message:"default"},sortConfig:{showIcon:!0},filterConfig:{showIcon:!0},treeConfig:{rowField:"id",parentField:"parentId",children:"children",hasChild:"hasChild",mapChildren:"_X_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0},editConfig:{showIcon:!0,showAsterisk:!0},importConfig:{modes:["insert","covering"]},exportConfig:{modes:["current","selected"]},printConfig:{modes:["current","selected"]},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{selectCellByHeader:!0},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},scrollX:{enabled:!0,gt:60},scrollY:{enabled:!0,gt:100}},export:{types:{}},icon:{TABLE_SORT_ASC:iconPrefix+"caret-top",TABLE_SORT_DESC:iconPrefix+"caret-bottom",TABLE_FILTER_NONE:iconPrefix+"funnel",TABLE_FILTER_MATCH:iconPrefix+"funnel",TABLE_EDIT:iconPrefix+"edit-outline",TABLE_HELP:iconPrefix+"question",TABLE_TREE_LOADED:iconPrefix+"refresh roll",TABLE_TREE_OPEN:iconPrefix+"caret-right rotate90",TABLE_TREE_CLOSE:iconPrefix+"caret-right",TABLE_EXPAND_LOADED:iconPrefix+"refresh roll",TABLE_EXPAND_OPEN:iconPrefix+"arrow-right rotate90",TABLE_EXPAND_CLOSE:iconPrefix+"arrow-right",BUTTON_DROPDOWN:iconPrefix+"arrow-bottom",BUTTON_LOADING:iconPrefix+"refresh roll",SELECT_LOADED:iconPrefix+"refresh roll",SELECT_OPEN:iconPrefix+"caret-bottom rotate180",SELECT_CLOSE:iconPrefix+"caret-bottom",PAGER_JUMP_PREV:iconPrefix+"d-arrow-left",PAGER_JUMP_NEXT:iconPrefix+"d-arrow-right",PAGER_PREV_PAGE:iconPrefix+"arrow-left",PAGER_NEXT_PAGE:iconPrefix+"arrow-right",PAGER_JUMP_MORE:iconPrefix+"more",INPUT_CLEAR:iconPrefix+"close",INPUT_PWD:iconPrefix+"eye-slash",INPUT_SHOW_PWD:iconPrefix+"eye",INPUT_PREV_NUM:iconPrefix+"caret-top",INPUT_NEXT_NUM:iconPrefix+"caret-bottom",INPUT_DATE:iconPrefix+"calendar",INPUT_SEARCH:iconPrefix+"search",MODAL_ZOOM_IN:iconPrefix+"square",MODAL_ZOOM_OUT:iconPrefix+"zoomout",MODAL_CLOSE:iconPrefix+"close",MODAL_INFO:iconPrefix+"info",MODAL_SUCCESS:iconPrefix+"success",MODAL_WARNING:iconPrefix+"warning",MODAL_ERROR:iconPrefix+"error",MODAL_QUESTION:iconPrefix+"question",MODAL_LOADING:iconPrefix+"refresh roll",TOOLBAR_TOOLS_REFRESH:iconPrefix+"refresh",TOOLBAR_TOOLS_REFRESH_LOADING:iconPrefix+"refresh roll",TOOLBAR_TOOLS_IMPORT:iconPrefix+"upload",TOOLBAR_TOOLS_EXPORT:iconPrefix+"download",TOOLBAR_TOOLS_PRINT:iconPrefix+"print",TOOLBAR_TOOLS_ZOOM_IN:iconPrefix+"zoomin",TOOLBAR_TOOLS_ZOOM_OUT:iconPrefix+"zoomout",TOOLBAR_TOOLS_CUSTOM:iconPrefix+"menu",FORM_PREFIX:iconPrefix+"question",FORM_SUFFIX:iconPrefix+"question",FORM_FOLDING:iconPrefix+"arrow-top rotate180",FORM_UNFOLDING:iconPrefix+"arrow-top"},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,message:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},tooltip:{trigger:"hover",theme:"dark",leaveDelay:300},pager:{},form:{validConfig:{showMessage:!0,autoPos:!0},titleAsterisk:!0},input:{minDate:new Date(1900,0,1),maxDate:new Date(2100,0,1),startDay:1,selectDay:1,digits:2,controls:!0},textarea:{},select:{multiCharOverflow:8},toolbar:{},button:{},radio:{strict:!0},radioButton:{strict:!0},radioGroup:{strict:!0},checkbox:{},switch:{},modal:{top:15,showHeader:!0,minWidth:340,minHeight:140,lockView:!0,mask:!0,duration:3e3,marginSize:0,dblclickZoom:!0,showTitleOverflow:!0,animat:!0,showClose:!0,draggable:!0,storageKey:"VXE_MODAL_POSITION"},list:{scrollY:{enabled:!0,gt:100}},i18n:function(e){return e}},zindexIndex=0,lastZindex=1;function getLog(e,r){return"[vxe-table] "+GlobalConfig.i18n(e,r)}function outLog(e){return function(r,l){var g=getLog(r,l);return console[e](g),g}}function isEnableConf(e){return e&&e.enabled!==!1}function isEmptyValue(e){return e==null||e===""}function parseFile(e){var r=e.name,l=xeUtils.lastIndexOf(r,"."),g=r.substring(l+1,r.length),x=r.substring(0,l);return{filename:x,type:g}}function nextZIndex(){return lastZindex=GlobalConfig.zIndex+zindexIndex++,lastZindex}function getLastZIndex(){return lastZindex}var warnLog=outLog("warn"),errLog=outLog("error");function hasChildrenList(e){return e&&e.children&&e.children.length>0}function getFuncText(e){return e?xeUtils.toValueString(GlobalConfig.translate?GlobalConfig.translate(""+e):e):""}function formatText(e,r){return""+(isEmptyValue(e)?r?GlobalConfig.emptyCell:"":e)}function eqEmptyValue(e){return e===""||xeUtils.eqNull(e)}var storeMap={},interceptor={mixin:function(e){return xeUtils.each(e,function(r,l){return interceptor.add(l,r)}),interceptor},get:function(e){return storeMap[e]||[]},add:function(e,r){if(r){var l=storeMap[e];l||(l=storeMap[e]=[]),l.push(r)}return interceptor},delete:function(e,r){var l=storeMap[e];l&&(r?xeUtils.remove(l,function(g){return g===r}):delete storeMap[e])}},ColumnInfo=function(){function e(r,l,g){var x=g===void 0?{}:g,C=x.renderHeader,u=x.renderCell,f=x.renderFooter,n=x.renderData,S=r.xegrid,k=l.formatter,M=xeUtils.isBoolean(l.visible)?l.visible:!0;if(Object.assign(this,{type:l.type,property:l.field,field:l.field,title:l.title,width:l.width,minWidth:l.minWidth,resizable:l.resizable,fixed:l.fixed,align:l.align,headerAlign:l.headerAlign,footerAlign:l.footerAlign,showOverflow:l.showOverflow,showHeaderOverflow:l.showHeaderOverflow,showFooterOverflow:l.showFooterOverflow,className:l.className,headerClassName:l.headerClassName,footerClassName:l.footerClassName,formatter:k,sortable:l.sortable,sortBy:l.sortBy,sortType:l.sortType,filters:toFilters(l.filters),filterMultiple:xeUtils.isBoolean(l.filterMultiple)?l.filterMultiple:!0,filterMethod:l.filterMethod,filterResetMethod:l.filterResetMethod,filterRecoverMethod:l.filterRecoverMethod,filterRender:l.filterRender,treeNode:l.treeNode,cellType:l.cellType,cellRender:l.cellRender,editRender:l.editRender,contentRender:l.contentRender,exportMethod:l.exportMethod,footerExportMethod:l.footerExportMethod,titleHelp:l.titleHelp,params:l.params,id:l.colId||xeUtils.uniqueId("col_"),parentId:null,visible:M,halfVisible:!1,defaultVisible:M,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,renderWidth:0,renderHeight:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:C||l.renderHeader,renderCell:u||l.renderCell,renderFooter:f||l.renderFooter,renderData:n,slots:l.slots}),S){var P=S.getComputeMaps().computeProxyOpts,$=P.value;$.beforeColumn&&$.beforeColumn({$grid:S,column:this})}}return e.prototype.getTitle=function(){return getFuncText(this.title||(this.type==="seq"?GlobalConfig.i18n("vxe.table.seqTitle"):""))},e.prototype.getKey=function(){return this.property||(this.type?"type="+this.type:null)},e.prototype.update=function(r,l){r!=="filters"&&(r==="field"?this.property=l:this[r]=l)},e}(),reClsMap={},browse=xeUtils.browse();function getClsRE(e){return reClsMap[e]||(reClsMap[e]=new RegExp("(?:^|\\s)"+e+"(?!\\S)","g")),reClsMap[e]}function getNodeOffset(e,r,l){if(e){var g=e.parentNode;if(l.top+=e.offsetTop,l.left+=e.offsetLeft,g&&g!==document.documentElement&&g!==document.body&&(l.top-=g.scrollTop,l.left-=g.scrollLeft),r&&(e===r||e.offsetParent===r)?0:e.offsetParent)return getNodeOffset(e.offsetParent,r,l)}return l}function isPx(e){return e&&/^\d+(px)?$/.test(e)}function isScale(e){return e&&/^\d+%$/.test(e)}function hasClass(e,r){return e&&e.className&&e.className.match&&e.className.match(getClsRE(r))}function removeClass(e,r){e&&hasClass(e,r)&&(e.className=e.className.replace(getClsRE(r),""))}function addClass(e,r){e&&!hasClass(e,r)&&(removeClass(e,r),e.className=e.className+" "+r)}function getDomNode(){var e=document.documentElement,r=document.body;return{scrollTop:e.scrollTop||r.scrollTop,scrollLeft:e.scrollLeft||r.scrollLeft,visibleHeight:e.clientHeight||r.clientHeight,visibleWidth:e.clientWidth||r.clientWidth}}function getOffsetHeight(e){return e?e.offsetHeight:0}function getPaddingTopBottomSize(e){if(e){var r=getComputedStyle(e),l=xeUtils.toNumber(r.paddingTop),g=xeUtils.toNumber(r.paddingBottom);return l+g}return 0}function setScrollTop(e,r){e&&(e.scrollTop=r)}function setScrollLeft(e,r){e&&(e.scrollLeft=r)}function updateCellTitle(e,r){var l=r.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==l&&e.setAttribute("title",l)}function getEventTargetNode(e,r,l,g){for(var x,C=e.target;C&&C.nodeType&&C!==document;){if(l&&hasClass(C,l)&&(!g||g(C)))x=C;else if(C===r)return{flag:l?!!x:!0,container:r,targetElem:x};C=C.parentNode}return{flag:!1}}function getOffsetPos(e,r){return getNodeOffset(e,r,{left:0,top:0})}function getAbsolutePos(e){var r=e.getBoundingClientRect(),l=r.top,g=r.left,x=getDomNode(),C=x.scrollTop,u=x.scrollLeft,f=x.visibleHeight,n=x.visibleWidth;return{boundingTop:l,top:C+l,boundingLeft:g,left:u+g,visibleHeight:f,visibleWidth:n}}var scrollIntoViewIfNeeded="scrollIntoViewIfNeeded",scrollIntoView="scrollIntoView";function scrollToView(e){e&&(e[scrollIntoViewIfNeeded]?e[scrollIntoViewIfNeeded]():e[scrollIntoView]&&e[scrollIntoView]())}function triggerEvent$1(e,r){e&&e.dispatchEvent(new Event(r))}function restoreScrollLocation(e,r,l){var g=e.internalData;return e.clearScroll().then(function(){if(r||l)return g.lastScrollLeft=0,g.lastScrollTop=0,e.scrollTo(r,l)})}function removeScrollListener(e){e&&e._onscroll&&(e.onscroll=null)}function restoreScrollListener(e){e&&e._onscroll&&(e.onscroll=e._onscroll)}function getRowUniqueId(){return xeUtils.uniqueId("row_")}function getRowkey(e){var r=e.props,l=r.rowId;return l||"_X_ID"}function getRowid(e,r){var l=xeUtils.get(r,getRowkey(e));return xeUtils.eqNull(l)?"":encodeURIComponent(l)}var handleFieldOrColumn=function(e,r){return r?xeUtils.isString(r)?e.getColumnByField(r):r:null};function getPaddingLeftRightSize(e){if(e){var r=getComputedStyle(e),l=xeUtils.toNumber(r.paddingLeft),g=xeUtils.toNumber(r.paddingRight);return l+g}return 0}function getElemenMarginWidth(e){if(e){var r=getComputedStyle(e),l=xeUtils.toNumber(r.marginLeft),g=xeUtils.toNumber(r.marginRight);return e.offsetWidth+l+g}return 0}function queryCellElement(e,r){return e.querySelector(".vxe-cell"+r)}function toFilters(e){return e&&xeUtils.isArray(e)?e.map(function(r){var l=r.label,g=r.value,x=r.data,C=r.resetValue,u=r.checked;return{label:l,value:g,data:x,resetValue:C,checked:!!u,_checked:!!u}}):e}function toTreePathSeq(e){return e.map(function(r,l){return l%2==0?Number(r)+1:"."}).join("")}function getCellValue(e,r){return xeUtils.get(e,r.property)}function setCellValue(e,r,l){return xeUtils.set(e,r.property,l)}function getPropClass(e,r){return e?xeUtils.isFunction(e)?e(r):e:""}function getColMinWidth(e){var r=e.$table,l=e.column,g=e.cell,x=r.props,C=r.getComputeMaps().computeResizableOpts,u=C.value,f=u.minWidth;if(f){var n=xeUtils.isFunction(f)?f(e):f;if(n!=="auto")return Math.max(1,xeUtils.toNumber(n))}var S=x.showHeaderOverflow,k=l.showHeaderOverflow,M=l.minWidth,P=xeUtils.isUndefined(k)||xeUtils.isNull(k)?S:k,$=P==="ellipsis",R=P==="title",B=P===!0||P==="tooltip",V=R||B||$,j=xeUtils.floor((xeUtils.toNumber(getComputedStyle(g).fontSize)||14)*1.6),U=getPaddingLeftRightSize(g)+getPaddingLeftRightSize(queryCellElement(g,"")),q=j+U;if(V){var Y=getPaddingLeftRightSize(queryCellElement(g,"--title>.vxe-cell--checkbox")),Q=getElemenMarginWidth(queryCellElement(g,">.vxe-cell--required-icon")),te=getElemenMarginWidth(queryCellElement(g,">.vxe-cell--edit-icon")),re=getElemenMarginWidth(queryCellElement(g,">.vxe-cell-help-icon")),oe=getElemenMarginWidth(queryCellElement(g,">.vxe-cell--sort")),se=getElemenMarginWidth(queryCellElement(g,">.vxe-cell--filter"));q+=Y+Q+te+re+se+oe}if(M){var fe=r.getRefMaps().refTableBody,ge=fe.value,Ce=ge?ge.$el:null;if(Ce){if(isScale(M)){var $e=Ce.clientWidth-1,be=$e/100;return Math.max(q,Math.floor(xeUtils.toInteger(M)*be))}else if(isPx(M))return Math.max(q,xeUtils.toInteger(M))}}return q}function isColumnInfo(e){return e&&(e.constructor===ColumnInfo||e instanceof ColumnInfo)}function createColumn(e,r,l){return isColumnInfo(r)?r:new ColumnInfo(e,r,l)}function watchColumn(e,r){Object.keys(e).forEach(function(l){watch(function(){return e[l]},function(g){r.update(l,g)})})}function assemColumn(e,r,l,g){var x=e.reactData,C=x.staticColumns,u=r.parentNode,f=g?g.column:null,n=f?f.children:C;u&&n&&(n.splice(xeUtils.arrayIndexOf(u.children,r),0,l),x.staticColumns=C.slice(0))}function destroyColumn(e,r){var l=e.reactData,g=l.staticColumns,x=xeUtils.findTree(g,function(C){return C.id===r.id},{children:"children"});x&&x.items.splice(x.index,1),l.staticColumns=g.slice(0)}function mergeBodyMethod(e,r,l){for(var g=0;g<e.length;g++){var x=e[g],C=x.row,u=x.col,f=x.rowspan,n=x.colspan;if(u>-1&&C>-1&&f&&n){if(C===r&&u===l)return{rowspan:f,colspan:n};if(r>=C&&r<C+f&&l>=u&&l<u+n)return{rowspan:0,colspan:0}}}}function clearTableDefaultStatus(e){var r=e.props,l=e.internalData;return l.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(r.keyboardConfig||r.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&r.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}function clearTableAllStatus(e){return e.clearFilter&&e.clearFilter(),clearTableDefaultStatus(e)}function rowToVisible(e,r){var l=e.reactData,g=e.internalData,x=e.getRefMaps().refTableBody,C=l.scrollYLoad,u=g.afterFullData,f=g.scrollYStore,n=x.value,S=n?n.$el:null;if(S){var k=S.querySelector('[rowid="'+getRowid(e,r)+'"]');if(k){var M=S.clientHeight,P=S.scrollTop,$=k.offsetParent,R=k.offsetTop+($?$.offsetTop:0),B=k.clientHeight;if(R<P||R>P+M)return e.scrollTo(null,R);if(R+B>=M+P)return e.scrollTo(null,P+B)}else if(C)return e.scrollTo(null,(u.indexOf(r)-1)*f.rowHeight)}return Promise.resolve()}function colToVisible(e,r){var l=e.reactData,g=e.internalData,x=e.getRefMaps().refTableBody,C=l.scrollXLoad,u=g.visibleColumn,f=x.value,n=f?f.$el:null;if(n){var S=n.querySelector("."+r.id);if(S){var k=n.clientWidth,M=n.scrollLeft,P=S.offsetParent,$=S.offsetLeft+(P?P.offsetLeft:0),R=S.clientWidth;if($<M||$>M+k)return e.scrollTo($);if($+R>=k+M)return e.scrollTo(M+R)}else if(C){for(var B=0,V=0;V<u.length&&u[V]!==r;V++)B+=u[V].renderWidth;return e.scrollTo(B)}}return Promise.resolve()}function getOnName(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}var __assign$h=globalThis&&globalThis.__assign||function(){return __assign$h=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$h.apply(this,arguments)},__spreadArray$4=globalThis&&globalThis.__spreadArray||function(e,r){for(var l=0,g=r.length,x=e.length;l<g;l++,x++)e[x]=r[l];return e},componentDefaultModelProp="modelValue",defaultCompProps={transfer:!0};function getModelEvent(e){switch(e.name){case"input":case"textarea":return"input"}return"update:modelValue"}function getChangeEvent(e){switch(e.name){case"input":case"textarea":case"$input":case"$textarea":return"input"}return"change"}function parseDate(e,r){return e&&r.valueFormat?xeUtils.toStringDate(e,r.valueFormat):e}function getFormatDate(e,r,l){var g=r.dateConfig,x=g===void 0?{}:g;return xeUtils.toDateString(parseDate(e,r),x.labelFormat||l)}function getLabelFormatDate(e,r){return getFormatDate(e,r,GlobalConfig.i18n("vxe.input.date.labelFormat."+r.type))}function getComponentName(e){return"vxe-"+e.replace("$","")}function getDefaultComponent(e){var r=e.name;return resolveComponent(getComponentName(r))}function handleConfirmFilter(e,r,l){var g=e.$panel;g.changeOption({},r,l)}function getNativeAttrs(e){var r=e.name,l=e.attrs;return r==="input"&&(l=Object.assign({type:"text"},l)),l}function getInputImmediateModel(e){var r=e.name,l=e.immediate,g=e.props;if(!l){if(r==="$input"){var x=(g||{}).type;return!(!x||x==="text"||x==="number"||x==="integer"||x==="float")}return!(r==="input"||r==="textarea"||r==="$textarea")}return l}function getCellEditProps(e,r,l,g){var x;return xeUtils.assign({immediate:getInputImmediateModel(e)},defaultCompProps,g,e.props,(x={},x[componentDefaultModelProp]=l,x))}function getCellEditFilterProps(e,r,l,g){var x;return xeUtils.assign({},defaultCompProps,g,e.props,(x={},x[componentDefaultModelProp]=l,x))}function getComponentFormItemProps(e,r,l,g){var x;return xeUtils.assign({},defaultCompProps,g,e.props,(x={},x[componentDefaultModelProp]=l,x))}function isImmediateCell(e,r){return r.$type==="cell"||getInputImmediateModel(e)}function getCellLabelVNs(e,r,l){var g=e.placeholder;return[h$1("span",{class:"vxe-cell--label"},g&&isEmptyValue(l)?[h$1("span",{class:"vxe-cell--placeholder"},formatText(getFuncText(g),1))]:formatText(l,1))]}function getElementOns(e,r,l,g){var x=e.events,C=getModelEvent(e),u=getChangeEvent(e),f=u===C,n={};return x&&xeUtils.objectEach(x,function(S,k){n[getOnName(k)]=function(){for(var M=[],P=0;P<arguments.length;P++)M[P]=arguments[P];S.apply(void 0,__spreadArray$4([r],M))}}),l&&(n[getOnName(C)]=function(S){l(S),f&&g&&g(S),x&&x[C]&&x[C](r,S)}),!f&&g&&(n[getOnName(u)]=function(){for(var S=[],k=0;k<arguments.length;k++)S[k]=arguments[k];g.apply(void 0,S),x&&x[u]&&x[u].apply(x,__spreadArray$4([r],S))}),n}function getComponentOns(e,r,l,g){var x=e.events,C=getModelEvent(e),u=getChangeEvent(e),f={};return xeUtils.objectEach(x,function(n,S){f[getOnName(S)]=function(){for(var k=[],M=0;M<arguments.length;M++)k[M]=arguments[M];n.apply(void 0,__spreadArray$4([r],k))}}),l&&(f[getOnName(C)]=function(n){l(n),x&&x[C]&&x[C](r,n)}),g&&(f[getOnName(u)]=function(){for(var n=[],S=0;S<arguments.length;S++)n[S]=arguments[S];g.apply(void 0,n),x&&x[u]&&x[u].apply(x,__spreadArray$4([r],n))}),f}function getEditOns(e,r){var l=r.$table,g=r.row,x=r.column,C=e.name,u=x.model,f=isImmediateCell(e,r);return getComponentOns(e,r,function(n){f?setCellValue(g,x,n):(u.update=!0,u.value=n)},function(n){if(!f&&(C==="$input"||C==="$textarea")){var S=n.value;u.update=!0,u.value=S,l.updateStatus(r,S)}else l.updateStatus(r)})}function getFilterOns(e,r,l){return getComponentOns(e,r,function(g){l.data=g},function(){handleConfirmFilter(r,!xeUtils.eqNull(l.data),l)})}function getItemOns(e,r){var l=r.$form,g=r.data,x=r.property;return getComponentOns(e,r,function(C){xeUtils.set(g,x,C)},function(){l.updateStatus(r)})}function getNativeEditOns(e,r){var l=r.$table,g=r.row,x=r.column,C=x.model;return getElementOns(e,r,function(u){var f=u.target.value;isImmediateCell(e,r)?setCellValue(g,x,f):(C.update=!0,C.value=f)},function(u){var f=u.target.value;l.updateStatus(r,f)})}function getNativeFilterOns(e,r,l){return getElementOns(e,r,function(g){l.data=g.target.value},function(){handleConfirmFilter(r,!xeUtils.eqNull(l.data),l)})}function getNativeItemOns(e,r){var l=r.$form,g=r.data,x=r.property;return getElementOns(e,r,function(C){var u=C.target.value;xeUtils.set(g,x,u)},function(){l.updateStatus(r)})}function nativeEditRender(e,r){var l=r.row,g=r.column,x=e.name,C=isImmediateCell(e,r)?getCellValue(l,g):g.model.value;return[h$1(x,__assign$h(__assign$h(__assign$h({class:"vxe-default-"+x},getNativeAttrs(e)),{value:C}),getNativeEditOns(e,r)))]}function defaultEditRender(e,r){var l=r.row,g=r.column,x=getCellValue(l,g);return[h$1(getDefaultComponent(e),__assign$h(__assign$h({},getCellEditProps(e,r,x)),getEditOns(e,r)))]}function defaultButtonEditRender(e,r){return[h$1(resolveComponent("vxe-button"),__assign$h(__assign$h({},getCellEditProps(e,r,null)),getComponentOns(e,r)))]}function defaultButtonsEditRender(e,r){return e.children.map(function(l){return defaultButtonEditRender(l,r)[0]})}function renderNativeOptgroups(e,r,l){var g=e.optionGroups,x=e.optionGroupProps,C=x===void 0?{}:x,u=C.options||"options",f=C.label||"label";return g.map(function(n,S){return h$1("optgroup",{key:S,label:n[f]},l(n[u],e,r))})}function renderNativeOptions(e,r,l){var g=r.optionProps,x=g===void 0?{}:g,C=l.row,u=l.column,f=x.label||"label",n=x.value||"value",S=x.disabled||"disabled",k=isImmediateCell(r,l)?getCellValue(C,u):u.model.value;return e.map(function(M,P){return h$1("option",{key:P,value:M[n],disabled:M[S],selected:M[n]==k},M[f])})}function nativeFilterRender(e,r){var l=r.column,g=e.name,x=getNativeAttrs(e);return l.filters.map(function(C,u){return h$1(g,__assign$h(__assign$h(__assign$h({key:u,class:"vxe-default-"+g},x),{value:C.data}),getNativeFilterOns(e,r,C)))})}function defaultFilterRender(e,r){var l=r.column;return l.filters.map(function(g,x){var C=g.data;return h$1(getDefaultComponent(e),__assign$h(__assign$h({key:x},getCellEditFilterProps(e,e,C)),getFilterOns(e,r,g)))})}function handleFilterMethod(e){var r=e.option,l=e.row,g=e.column,x=r.data,C=xeUtils.get(l,g.property);return C==x}function nativeSelectEditRender(e,r){return[h$1("select",__assign$h(__assign$h({class:"vxe-default-select"},getNativeAttrs(e)),getNativeEditOns(e,r)),e.optionGroups?renderNativeOptgroups(e,r,renderNativeOptions):renderNativeOptions(e.options,e,r))]}function defaultSelectEditRender(e,r){var l=r.row,g=r.column,x=e.options,C=e.optionProps,u=e.optionGroups,f=e.optionGroupProps,n=getCellValue(l,g);return[h$1(getDefaultComponent(e),__assign$h(__assign$h({},getCellEditProps(e,r,n,{options:x,optionProps:C,optionGroups:u,optionGroupProps:f})),getEditOns(e,r)))]}function getSelectCellValue(e,r){var l=r.row,g=r.column,x=e.props,C=x===void 0?{}:x,u=e.options,f=e.optionGroups,n=e.optionProps,S=n===void 0?{}:n,k=e.optionGroupProps,M=k===void 0?{}:k,P=xeUtils.get(l,g.property),$,R=S.label||"label",B=S.value||"value";return isEmptyValue(P)?"":xeUtils.map(C.multiple?P:[P],f?function(V){for(var j=M.options||"options",U=0;U<f.length&&($=xeUtils.find(f[U][j],function(q){return q[B]==V}),!$);U++);return $?$[R]:V}:function(V){return $=xeUtils.find(u,function(j){return j[B]==V}),$?$[R]:V}).join(", ")}function nativeItemRender(e,r){var l=r.data,g=r.property,x=e.name,C=getNativeAttrs(e),u=xeUtils.get(l,g);return[h$1(x,__assign$h(__assign$h(__assign$h({class:"vxe-default-"+x},C),{value:C&&x==="input"&&(C.type==="submit"||C.type==="reset")?null:u}),getNativeItemOns(e,r)))]}function defaultItemRender(e,r){var l=r.data,g=r.property,x=xeUtils.get(l,g);return[h$1(getDefaultComponent(e),__assign$h(__assign$h({},getComponentFormItemProps(e,r,x)),getItemOns(e,r)))]}function defaultButtonItemRender(e,r){return[h$1(resolveComponent("vxe-button"),__assign$h(__assign$h({},getComponentFormItemProps(e,r,null)),getComponentOns(e,r)))]}function defaultButtonsItemRender(e,r){return e.children.map(function(l){return defaultButtonItemRender(l,r)[0]})}function renderNativeFormOptions(e,r,l){var g=l.data,x=l.property,C=r.optionProps,u=C===void 0?{}:C,f=u.label||"label",n=u.value||"value",S=u.disabled||"disabled",k=xeUtils.get(g,x);return e.map(function(M,P){return h$1("option",{key:P,value:M[n],disabled:M[S],selected:M[n]==k},M[f])})}function handleExportSelectMethod(e){var r=e.row,l=e.column,g=e.options;return g.original?getCellValue(r,l):getSelectCellValue(l.editRender||l.cellRender,e)}function defaultFormItemRadioAndCheckboxRender(e,r){var l=e.name,g=e.options,x=e.optionProps,C=x===void 0?{}:x,u=r.data,f=r.property,n=C.label||"label",S=C.value||"value",k=C.disabled||"disabled",M=xeUtils.get(u,f),P=getComponentName(l);return g?[h$1(resolveComponent(P+"-group"),__assign$h(__assign$h({},getComponentFormItemProps(e,r,M)),getItemOns(e,r)),{default:function(){return g.map(function($,R){return h$1(resolveComponent(P),{key:R,label:$[S],content:$[n],disabled:$[k]})})}})]:[h$1(resolveComponent(P),__assign$h(__assign$h({},getComponentFormItemProps(e,r,M)),getItemOns(e,r)))]}var renderMap={input:{autofocus:"input",renderEdit:nativeEditRender,renderDefault:nativeEditRender,renderFilter:nativeFilterRender,defaultFilterMethod:handleFilterMethod,renderItemContent:nativeItemRender},textarea:{autofocus:"textarea",renderEdit:nativeEditRender,renderItemContent:nativeItemRender},select:{renderEdit:nativeSelectEditRender,renderDefault:nativeSelectEditRender,renderCell:function(e,r){return getCellLabelVNs(e,r,getSelectCellValue(e,r))},renderFilter:function(e,r){var l=r.column;return l.filters.map(function(g,x){return h$1("select",__assign$h(__assign$h({key:x,class:"vxe-default-select"},getNativeAttrs(e)),getNativeFilterOns(e,r,g)),e.optionGroups?renderNativeOptgroups(e,r,renderNativeOptions):renderNativeOptions(e.options,e,r))})},defaultFilterMethod:handleFilterMethod,renderItemContent:function(e,r){return[h$1("select",__assign$h(__assign$h({class:"vxe-default-select"},getNativeAttrs(e)),getNativeItemOns(e,r)),e.optionGroups?renderNativeOptgroups(e,r,renderNativeFormOptions):renderNativeFormOptions(e.options,e,r))]},cellExportMethod:handleExportSelectMethod},$input:{autofocus:".vxe-input--inner",renderEdit:defaultEditRender,renderCell:function(e,r){var l=e.props,g=l===void 0?{}:l,x=r.row,C=r.column,u=g.digits||GlobalConfig.input.digits,f=xeUtils.get(x,C.property);if(f)switch(g.type){case"date":case"week":case"month":case"year":f=getLabelFormatDate(f,g);break;case"float":f=xeUtils.toFixed(xeUtils.floor(f,u),u);break}return getCellLabelVNs(e,r,f)},renderDefault:defaultEditRender,renderFilter:defaultFilterRender,defaultFilterMethod:handleFilterMethod,renderItemContent:defaultItemRender},$textarea:{autofocus:".vxe-textarea--inner",renderItemContent:defaultItemRender},$button:{renderDefault:defaultButtonEditRender,renderItemContent:defaultButtonItemRender},$buttons:{renderDefault:defaultButtonsEditRender,renderItemContent:defaultButtonsItemRender},$select:{autofocus:".vxe-input--inner",renderEdit:defaultSelectEditRender,renderDefault:defaultSelectEditRender,renderCell:function(e,r){return getCellLabelVNs(e,r,getSelectCellValue(e,r))},renderFilter:function(e,r){var l=r.column,g=e.options,x=e.optionProps,C=e.optionGroups,u=e.optionGroupProps;return l.filters.map(function(f,n){var S=f.data;return h$1(getDefaultComponent(e),__assign$h(__assign$h({key:n},getCellEditFilterProps(e,r,S,{options:g,optionProps:x,optionGroups:C,optionGroupProps:u})),getFilterOns(e,r,f)))})},defaultFilterMethod:handleFilterMethod,renderItemContent:function(e,r){var l=r.data,g=r.property,x=e.options,C=e.optionProps,u=e.optionGroups,f=e.optionGroupProps,n=xeUtils.get(l,g);return[h$1(getDefaultComponent(e),__assign$h(__assign$h({},getComponentFormItemProps(e,r,n,{options:x,optionProps:C,optionGroups:u,optionGroupProps:f})),getItemOns(e,r)))]},cellExportMethod:handleExportSelectMethod},$radio:{autofocus:".vxe-radio--input",renderItemContent:defaultFormItemRadioAndCheckboxRender},$checkbox:{autofocus:".vxe-checkbox--input",renderItemContent:defaultFormItemRadioAndCheckboxRender},$switch:{autofocus:".vxe-switch--button",renderEdit:defaultEditRender,renderDefault:defaultEditRender,renderItemContent:defaultItemRender}},renderer={mixin:function(e){return xeUtils.each(e,function(r,l){return renderer.add(l,r)}),renderer},get:function(e){return renderMap[e]||null},add:function(e,r){if(e&&r){var l=renderMap[e];l?Object.assign(l,r):renderMap[e]=r}return renderer},delete:function(e){return delete renderMap[e],renderer}},Store=function(){function e(){this.store={}}return e.prototype.mixin=function(r){return Object.assign(this.store,r),this},e.prototype.has=function(r){return!!this.get(r)},e.prototype.get=function(r){return this.store[r]},e.prototype.add=function(r,l){return this.store[r]=l,this},e.prototype.delete=function(r){delete this.store[r]},e.prototype.forEach=function(r){xeUtils.objectEach(this.store,r)},e}(),commands=new Store,menus=new Store,formats=new Store,hooks=new Store,setup=function(e){return xeUtils.merge(GlobalConfig,e)};function getExportOrImpotType(e,r){var l=[];return xeUtils.objectEach(e,function(g,x){(g===0||g===r)&&l.push(x)}),l}var installedPlugins=[];function use(e,r){return e&&e.install&&installedPlugins.indexOf(e)===-1&&(e.install(VXETable,r),installedPlugins.push(e)),VXETable}function t(e,r){return GlobalConfig.i18n(e,r)}function _t(e,r){return e?xeUtils.toValueString(GlobalConfig.translate?GlobalConfig.translate(e,r):e):""}var VXETableConfig=function(){function e(){}return Object.defineProperty(e.prototype,"zIndex",{get:function(){return getLastZIndex()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextZIndex",{get:function(){return nextZIndex()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exportTypes",{get:function(){return getExportOrImpotType(GlobalConfig.export.types,1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"importTypes",{get:function(){return getExportOrImpotType(GlobalConfig.export.types,2)},enumerable:!1,configurable:!0}),e}(),config=new VXETableConfig,v="v4",VXETable={v,setup,interceptor,renderer,commands,formats,menus,hooks,config,use,t,_t},getAllColumns=function(e,r){var l=[];return e.forEach(function(g){g.parentId=r?r.id:null,g.visible&&(g.children&&g.children.length&&g.children.some(function(x){return x.visible})?(l.push(g),l.push.apply(l,getAllColumns(g.children,g))):l.push(g))}),l},convertToRows$1=function(e){var r=1,l=function(u,f){if(f&&(u.level=f.level+1,r<u.level&&(r=u.level)),u.children&&u.children.length&&u.children.some(function(S){return S.visible})){var n=0;u.children.forEach(function(S){S.visible&&(l(S,u),n+=S.colSpan)}),u.colSpan=n}else u.colSpan=1};e.forEach(function(u){u.level=1,l(u)});for(var g=[],x=0;x<r;x++)g.push([]);var C=getAllColumns(e);return C.forEach(function(u){u.children&&u.children.length&&u.children.some(function(f){return f.visible})?u.rowSpan=1:u.rowSpan=r-u.level+1,g[u.level-1].push(u)}),g},__assign$g=globalThis&&globalThis.__assign||function(){return __assign$g=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$g.apply(this,arguments)},renderType$2="header",VxeTableHeader=defineComponent({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup:function(e){var r=inject("$xetable",{}),l=r.xID,g=r.props,x=r.reactData,C=r.internalData,u=r.getRefMaps(),f=u.refElem,n=u.refTableBody,S=u.refLeftContainer,k=u.refRightContainer,M=u.refCellResizeBar,P=r.getComputeMaps().computeColumnOpts,$=ref([]),R=ref(),B=ref(),V=ref(),j=ref(),U=ref(),q=ref(),Y=function(){var re=x.isGroup;$.value=re?convertToRows$1(e.tableGroupColumn):[]},Q=function(re,oe){var se=oe.column,fe=e.fixedType,ge=n.value,Ce=S.value,$e=k.value,be=M.value,ke=re.clientX,Ee=R.value,He=re.target,rt=oe.cell=He.parentNode,ft=0,bt=ge.$el,Ye=getOffsetPos(He,Ee),De=He.clientWidth,at=Math.floor(De/2),Ut=getColMinWidth(oe)-at,je=Ye.left-rt.clientWidth+De+Ut,tt=Ye.left+at,We=document.onmousemove,Gt=document.onmouseup,gt=fe==="left",Mt=fe==="right",Rt=f.value,Jt=0;if(gt||Mt){for(var ut=gt?"nextElementSibling":"previousElementSibling",Ht=rt[ut];Ht&&!hasClass(Ht,"fixed--hidden");)hasClass(Ht,"col--group")||(Jt+=Ht.offsetWidth),Ht=Ht[ut];Mt&&$e&&(tt=$e.offsetLeft+Jt)}var cr=function(Vt){Vt.stopPropagation(),Vt.preventDefault();var Ne=Vt.clientX-ke,ot=tt+Ne,Tt=fe?0:bt.scrollLeft;gt?ot=Math.min(ot,($e?$e.offsetLeft:bt.clientWidth)-Jt-Ut):Mt?(je=(Ce?Ce.clientWidth:0)+Jt+Ut,ot=Math.min(ot,tt+rt.clientWidth-Ut)):je=Math.max(bt.scrollLeft,je),ft=Math.max(ot,je),be.style.left=ft-Tt+"px"};C._isResize=!0,addClass(Rt,"drag--resize"),be.style.display="block",document.onmousemove=cr,document.onmouseup=function(Vt){document.onmousemove=We,document.onmouseup=Gt,se.resizeWidth=se.renderWidth+(Mt?tt-ft:ft-tt),be.style.display="none",C._isResize=!1,C._lastResizeTime=Date.now(),r.analyColumnWidth(),r.recalculate(!0).then(function(){r.saveCustomResizable(),r.updateCellAreas(),r.dispatchEvent("resizable-change",oe,Vt)}),removeClass(Rt,"drag--resize")},cr(re),r.closeMenu&&r.closeMenu()};watch(function(){return e.tableColumn},Y),onMounted(function(){nextTick(function(){var re=e.fixedType,oe=r.internalData,se=oe.elemStore,fe=(re||"main")+"-header-";se[fe+"wrapper"]=R.value,se[fe+"table"]=B.value,se[fe+"colgroup"]=V.value,se[fe+"list"]=j.value,se[fe+"xSpace"]=U.value,se[fe+"repair"]=q.value,Y()})}),onUnmounted(function(){var re=e.fixedType,oe=r.internalData,se=oe.elemStore,fe=(re||"main")+"-header-";se[fe+"wrapper"]=null,se[fe+"table"]=null,se[fe+"colgroup"]=null,se[fe+"list"]=null,se[fe+"xSpace"]=null,se[fe+"repair"]=null});var te=function(){var re=e.fixedType,oe=e.fixedColumn,se=e.tableColumn,fe=g.resizable,ge=g.border,Ce=g.columnKey,$e=g.headerRowClassName,be=g.headerCellClassName,ke=g.headerRowStyle,Ee=g.headerCellStyle,He=g.showHeaderOverflow,rt=g.headerAlign,ft=g.align,bt=g.mouseConfig,Ye=x.isGroup,De=x.currentColumn,at=x.scrollYLoad,Ut=x.overflowX,je=x.scrollbarWidth,tt=P.value,We=$.value;return Ye||(re&&(at||He)&&(se=oe),We=[se]),h$1("div",{ref:R,class:["vxe-table--header-wrapper",re?"fixed-"+re+"--wrapper":"body--wrapper"],xid:l},[re?createCommentVNode():h$1("div",{ref:U,class:"vxe-body--x-space"}),h$1("table",{ref:B,class:"vxe-table--header",xid:l,cellspacing:0,cellpadding:0,border:0},[h$1("colgroup",{ref:V},se.map(function(Gt,gt){return h$1("col",{name:Gt.id,key:gt})}).concat(je?[h$1("col",{name:"col_gutter"})]:[])),h$1("thead",{ref:j},We.map(function(Gt,gt){return h$1("tr",{class:["vxe-header--row",$e?xeUtils.isFunction($e)?$e({$table:r,$rowIndex:gt,fixed:re,type:renderType$2}):$e:""],style:ke?xeUtils.isFunction(ke)?ke({$table:r,$rowIndex:gt,fixed:re,type:renderType$2}):ke:null},Gt.map(function(Mt,Rt){var Jt,ut=Mt.type,Ht=Mt.showHeaderOverflow,cr=Mt.headerAlign,Vt=Mt.align,Ne=Mt.headerClassName,ot=Mt.children&&Mt.children.length,Tt=re?Mt.fixed!==re&&!ot:!!Mt.fixed&&Ut,St=xeUtils.isUndefined(Ht)||xeUtils.isNull(Ht)?He:Ht,jt=cr||Vt||rt||ft,or=St==="ellipsis",xr=St==="title",st=St===!0||St==="tooltip",yt=xr||st||or,Ft=Mt.filters&&Mt.filters.some(function(Br){return Br.checked}),zt=r.getColumnIndex(Mt),Ct=r.getVTColumnIndex(Mt),gr={$table:r,$rowIndex:gt,column:Mt,columnIndex:zt,$columnIndex:Rt,_columnIndex:Ct,fixed:re,type:renderType$2,isHidden:Tt,hasFilter:Ft},Mr={onClick:function(Br){return r.triggerHeaderCellClickEvent(Br,gr)},onDblclick:function(Br){return r.triggerHeaderCellDblclickEvent(Br,gr)}};return at&&!yt&&(or=yt=!0),bt&&(Mr.onMousedown=function(Br){return r.triggerHeaderCellMousedownEvent(Br,gr)}),h$1("th",__assign$g(__assign$g({class:["vxe-header--column",Mt.id,(Jt={},Jt["col--"+jt]=jt,Jt["col--"+ut]=ut,Jt["col--last"]=Rt===Gt.length-1,Jt["col--fixed"]=Mt.fixed,Jt["col--group"]=ot,Jt["col--ellipsis"]=yt,Jt["fixed--hidden"]=Tt,Jt["is--sortable"]=Mt.sortable,Jt["col--filter"]=!!Mt.filters,Jt["is--filter-active"]=Ft,Jt["col--current"]=De===Mt,Jt),Ne?xeUtils.isFunction(Ne)?Ne(gr):Ne:"",be?xeUtils.isFunction(be)?be(gr):be:""],colid:Mt.id,colspan:Mt.colSpan>1?Mt.colSpan:null,rowspan:Mt.rowSpan>1?Mt.rowSpan:null,style:Ee?xeUtils.isFunction(Ee)?Ee(gr):Ee:null},Mr),{key:Ce||ot?Mt.id:Rt}),[h$1("div",{class:["vxe-cell",{"c--title":xr,"c--tooltip":st,"c--ellipsis":or}]},Mt.renderHeader(gr)),!Tt&&!ot&&(xeUtils.isBoolean(Mt.resizable)?Mt.resizable:tt.resizable||fe)?h$1("div",{class:["vxe-resizable",{"is--line":!ge||ge==="none"}],onMousedown:function(Br){return Q(Br,gr)}}):null])}).concat(je?[h$1("th",{class:"vxe-header--gutter col--gutter"})]:[]))}))]),h$1("div",{ref:q,class:"vxe-table--header-border-line"})])};return te}}),dynamicContainerElem,dynamicStore=reactive({modals:[]}),VxeDynamics=defineComponent({setup:function(){return function(){var e=dynamicStore.modals;return h$1("div",{class:"vxe-dynamics--modal"},e.map(function(r){return h$1(resolveComponent("vxe-modal"),r)}))}}}),dynamicApp=createApp(VxeDynamics);function checkDynamic(){dynamicContainerElem||(dynamicContainerElem=document.createElement("div"),dynamicContainerElem.className="vxe-dynamics",document.body.appendChild(dynamicContainerElem),dynamicApp.mount(dynamicContainerElem))}var Header=Object.assign(VxeTableHeader,{install:function(e){dynamicApp.component(VxeTableHeader.name,VxeTableHeader),e.component(VxeTableHeader.name,VxeTableHeader)}}),__assign$f=globalThis&&globalThis.__assign||function(){return __assign$f=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$f.apply(this,arguments)},renderType$1="footer";function mergeFooterMethod(e,r,l){for(var g=0;g<e.length;g++){var x=e[g],C=x.row,u=x.col,f=x.rowspan,n=x.colspan;if(u>-1&&C>-1&&f&&n){if(C===r&&u===l)return{rowspan:f,colspan:n};if(r>=C&&r<C+f&&l>=u&&l<u+n)return{rowspan:0,colspan:0}}}}var VxeTableFooterComponent=defineComponent({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:function(){return[]}},tableColumn:{type:Array,default:function(){return[]}},fixedColumn:{type:Array,default:function(){return[]}},fixedType:{type:String,default:null}},setup:function(e){var r=inject("$xetable",{}),l=r.xID,g=r.props,x=r.reactData,C=r.internalData,u=r.getRefMaps(),f=u.refTableHeader,n=u.refTableBody,S=u.refValidTooltip,k=r.getComputeMaps().computeTooltipOpts,M=ref(),P=ref(),$=ref(),R=ref(),B=ref(),V=function(U){var q=e.fixedType,Y=x.scrollXLoad,Q=C.lastScrollLeft,te=S.value,re=f.value,oe=n.value,se=re?re.$el:null,fe=M.value,ge=oe.$el,Ce=fe.scrollLeft,$e=Ce!==Q;C.lastScrollLeft=Ce,C.lastScrollTime=Date.now(),se&&(se.scrollLeft=Ce),ge&&(ge.scrollLeft=Ce),Y&&$e&&r.triggerScrollXEvent(U),$e&&te&&te.reactData.visible&&te.updatePlacement(),r.dispatchEvent("scroll",{type:renderType$1,fixed:q,scrollTop:ge.scrollTop,scrollLeft:Ce,isX:$e,isY:!1},U)};onMounted(function(){nextTick(function(){var U=e.fixedType,q=C.elemStore,Y=(U||"main")+"-footer-";q[Y+"wrapper"]=M.value,q[Y+"table"]=P.value,q[Y+"colgroup"]=$.value,q[Y+"list"]=R.value,q[Y+"xSpace"]=B.value})}),onUnmounted(function(){var U=e.fixedType,q=C.elemStore,Y=(U||"main")+"-footer-";q[Y+"wrapper"]=null,q[Y+"table"]=null,q[Y+"colgroup"]=null,q[Y+"list"]=null,q[Y+"xSpace"]=null});var j=function(){var U=e.fixedType,q=e.fixedColumn,Y=e.tableColumn,Q=e.footerTableData,te=g.footerRowClassName,re=g.footerCellClassName,oe=g.footerRowStyle,se=g.footerCellStyle,fe=g.footerAlign,ge=g.footerSpanMethod,Ce=g.align,$e=g.columnKey,be=g.showFooterOverflow,ke=C.visibleColumn,Ee=x.scrollYLoad,He=x.overflowX,rt=x.scrollbarWidth,ft=x.currentColumn,bt=x.mergeFooterList,Ye=k.value;return U&&((Ee||be)&&(!bt.length||!ge)?Y=q:Y=ke),h$1("div",{ref:M,class:["vxe-table--footer-wrapper",U?"fixed-"+U+"--wrapper":"body--wrapper"],xid:l,onScroll:V},[U?createCommentVNode():h$1("div",{ref:B,class:"vxe-body--x-space"}),h$1("table",{ref:P,class:"vxe-table--footer",xid:l,cellspacing:0,cellpadding:0,border:0},[h$1("colgroup",{ref:$},Y.map(function(De,at){return h$1("col",{name:De.id,key:at})}).concat(rt?[h$1("col",{name:"col_gutter"})]:[])),h$1("tfoot",{ref:R},Q.map(function(De,at){var Ut=at;return h$1("tr",{class:["vxe-footer--row",te?xeUtils.isFunction(te)?te({$table:r,_rowIndex:at,$rowIndex:Ut,fixed:U,type:renderType$1}):te:""],style:oe?xeUtils.isFunction(oe)?oe({$table:r,_rowIndex:at,$rowIndex:Ut,fixed:U,type:renderType$1}):oe:null},Y.map(function(je,tt){var We,Gt=je.type,gt=je.showFooterOverflow,Mt=je.footerAlign,Rt=je.align,Jt=je.footerClassName,ut=Ye.showAll,Ht=je.children&&je.children.length,cr=U?je.fixed!==U&&!Ht:je.fixed&&He,Vt=xeUtils.isUndefined(gt)||xeUtils.isNull(gt)?be:gt,Ne=Mt||Rt||fe||Ce,ot=Vt==="ellipsis",Tt=Vt==="title",St=Vt===!0||Vt==="tooltip",jt=Tt||St||ot,or={colid:je.id},xr={},st=r.getColumnIndex(je),yt=r.getVTColumnIndex(je),Ft=yt,zt={$table:r,_rowIndex:at,$rowIndex:Ut,column:je,columnIndex:st,$columnIndex:tt,_columnIndex:yt,itemIndex:Ft,items:De,fixed:U,type:renderType$1,data:Q};if(Ee&&!jt&&(ot=jt=!0),(Tt||St||ut)&&(xr.onMouseenter=function(cn){Tt?updateCellTitle(cn.currentTarget,je):(St||ut)&&r.triggerFooterTooltipEvent(cn,zt)}),(St||ut)&&(xr.onMouseleave=function(cn){(St||ut)&&r.handleTargetLeaveEvent(cn)}),xr.onClick=function(cn){r.dispatchEvent("footer-cell-click",Object.assign({cell:cn.currentTarget},zt),cn)},xr.onDblclick=function(cn){r.dispatchEvent("footer-cell-dblclick",Object.assign({cell:cn.currentTarget},zt),cn)},bt.length){var Ct=mergeFooterMethod(bt,at,yt);if(Ct){var gr=Ct.rowspan,Mr=Ct.colspan;if(!gr||!Mr)return null;gr>1&&(or.rowspan=gr),Mr>1&&(or.colspan=Mr)}}else if(ge){var Br=ge(zt)||{},sn=Br.rowspan,gr=sn===void 0?1:sn,Hr=Br.colspan,Mr=Hr===void 0?1:Hr;if(!gr||!Mr)return null;gr>1&&(or.rowspan=gr),Mr>1&&(or.colspan=Mr)}return h$1("td",__assign$f(__assign$f(__assign$f(__assign$f({class:["vxe-footer--column",je.id,(We={},We["col--"+Ne]=Ne,We["col--"+Gt]=Gt,We["col--last"]=tt===Y.length-1,We["fixed--hidden"]=cr,We["col--ellipsis"]=jt,We["col--current"]=ft===je,We),getPropClass(Jt,zt),getPropClass(re,zt)]},or),{style:se?xeUtils.isFunction(se)?se(zt):se:null}),xr),{key:$e?je.id:tt}),[h$1("div",{class:["vxe-cell",{"c--title":Tt,"c--tooltip":St,"c--ellipsis":ot}]},je.renderFooter(zt))])}).concat(rt?[h$1("td",{class:"vxe-footer--gutter col--gutter"})]:[]))}))])])};return j}}),Footer=Object.assign(VxeTableFooterComponent,{install:function(e){dynamicApp.component(VxeTableFooterComponent.name,VxeTableFooterComponent),e.component(VxeTableFooterComponent.name,VxeTableFooterComponent)}}),Icon={install:function(){}},PanelComponent$1=defineComponent({name:"VxeTableFilter",props:{filterStore:Object},setup:function(e){var r=inject("$xetable",{}),l=r.reactData,g=r.internalData,x=computed(function(){var V=e.filterStore;return V&&V.options.some(function(j){return j.checked})}),C=function(V,j){var U=e.filterStore;U.options.forEach(function(q){q._checked=j,q.checked=j}),U.isAllSelected=j,U.isIndeterminate=!1},u=function(V){var j=e.filterStore;j.options.forEach(function(U){U.checked=U._checked}),r.confirmFilterEvent(V)},f=function(V,j,U){var q=e.filterStore;q.options.forEach(function(Y){Y._checked=!1}),U._checked=j,r.checkFilterOptions(),u(V)},n=function(V){var j=e.filterStore;r.handleClearFilter(j.column),r.confirmFilterEvent(V)},S=function(V,j,U){U._checked=j,r.checkFilterOptions()},k=function(V,j,U){var q=e.filterStore;q.multiple?S(V,j,U):f(V,j,U)},M=function(V,j){var U=e.filterStore;U.multiple?C(V,j):n(V)},P={changeRadioOption:f,changeMultipleOption:S,changeAllOption:M,changeOption:k,confirmFilter:u,resetFilter:n},$=function(V,j){var U=e.filterStore,q=U.column,Y=U.multiple,Q=U.maxHeight,te=q.slots,re=te?te.filter:null,oe=Object.assign({},g._currFilterParams,{$panel:P,$table:r});return re?[h$1("div",{class:"vxe-table--filter-template"},r.callSlot(re,oe))]:j&&j.renderFilter?[h$1("div",{class:"vxe-table--filter-template"},j.renderFilter(V,oe))]:[h$1("ul",{class:"vxe-table--filter-header"},[h$1("li",{class:["vxe-table--filter-option",{"is--checked":Y?U.isAllSelected:!U.options.some(function(se){return se._checked}),"is--indeterminate":Y&&U.isIndeterminate}],title:GlobalConfig.i18n(Y?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:function(se){M(se,!U.isAllSelected)}},(Y?[h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"})]:[]).concat([h$1("span",{class:"vxe-checkbox--label"},GlobalConfig.i18n("vxe.table.allFilter"))]))]),h$1("ul",{class:"vxe-table--filter-body",style:Q?{maxHeight:Q+"px"}:{}},U.options.map(function(se){return h$1("li",{class:["vxe-table--filter-option",{"is--checked":se._checked}],title:se.label,onClick:function(fe){k(fe,!se._checked,se)}},(Y?[h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"})]:[]).concat([h$1("span",{class:"vxe-checkbox--label"},formatText(se.label,1))]))}))]},R=function(){var V=e.filterStore,j=V.column,U=V.multiple,q=x.value,Y=j.filterRender,Q=Y?VXETable.renderer.get(Y.name):null,te=!q&&!V.isAllSelected&&!V.isIndeterminate;return U&&(!Q||Q.showFilterFooter!==!1)?[h$1("div",{class:"vxe-table--filter-footer"},[h$1("button",{class:{"is--disabled":te},disabled:te,onClick:u},GlobalConfig.i18n("vxe.table.confirmFilter")),h$1("button",{onClick:n},GlobalConfig.i18n("vxe.table.resetFilter"))])]:[]},B=function(){var V=e.filterStore,j=l.initStore,U=V.column,q=U?U.filterRender:null,Y=q?VXETable.renderer.get(q.name):null;return h$1("div",{class:["vxe-table--filter-wrapper","filter--prevent-default",Y&&Y.className?Y.className:"",{"is--animat":r.props.animat,"is--multiple":V.multiple,"is--active":V.visible}],style:V.style},j.filter&&V.visible?$(q,Y).concat(R()):[])};return B}}),__assign$e=globalThis&&globalThis.__assign||function(){return __assign$e=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$e.apply(this,arguments)},tableFilterMethodKeys=["setFilter","clearFilter","getCheckedFilters"],tableFilterHook={setupTable:function(e){var r=e.reactData,l=e.internalData,g=e.getRefMaps(),x=g.refTableBody,C=g.refTableFilter,u=e.getComputeMaps().computeFilterOpts,f={checkFilterOptions:function(){var S=r.filterStore;S.isAllSelected=S.options.every(function(k){return k._checked}),S.isIndeterminate=!S.isAllSelected&&S.options.some(function(k){return k._checked})},triggerFilterEvent:function(S,k,M){var P=r.initStore,$=r.filterStore;if($.column===k&&$.visible)$.visible=!1;else{var R=S.target,B=S.pageX,V=getDomNode().visibleWidth,j=k.filters,U=k.filterMultiple,q=k.filterRender,Y=q?VXETable.renderer.get(q.name):null,Q=k.filterRecoverMethod||(Y?Y.filterRecoverMethod:null);l._currFilterParams=M,Object.assign($,{multiple:U,options:j,column:k,style:null}),$.options.forEach(function(te){var re=te._checked,oe=te.checked;te._checked=oe,!oe&&re!==oe&&Q&&Q({option:te,column:k,$table:e})}),this.checkFilterOptions(),$.visible=!0,P.filter=!0,nextTick(function(){var te=x.value,re=te.$el,oe=C.value,se=oe?oe.$el:null,fe=0,ge=0,Ce=null,$e=null;se&&(fe=se.offsetWidth,ge=se.offsetHeight,Ce=se.querySelector(".vxe-table--filter-header"),$e=se.querySelector(".vxe-table--filter-footer"));var be=fe/2,ke=10,Ee=re.clientWidth-fe-ke,He,rt,ft={top:R.offsetTop+R.offsetParent.offsetTop+R.offsetHeight+8+"px"},bt=null;if(ge>=re.clientHeight&&(bt=Math.max(60,re.clientHeight-($e?$e.offsetHeight:0)-(Ce?Ce.offsetHeight:0))),k.fixed==="left"?He=R.offsetLeft+R.offsetParent.offsetLeft-be:k.fixed==="right"?rt=R.offsetParent.offsetWidth-R.offsetLeft+(R.offsetParent.offsetParent.offsetWidth-R.offsetParent.offsetLeft)-k.renderWidth-be:He=R.offsetLeft+R.offsetParent.offsetLeft-be-re.scrollLeft,He){var Ye=B+fe-be+ke-V;Ye>0&&(He-=Ye),ft.left=Math.min(Ee,Math.max(ke,He))+"px"}else if(rt){var Ye=B+fe-be+ke-V;Ye>0&&(rt+=Ye),ft.right=Math.max(ke,rt)+"px"}$.style=ft,$.maxHeight=bt})}e.dispatchEvent("filter-visible",{column:k,property:k.property,filterList:e.getCheckedFilters(),visible:$.visible},S)},handleClearFilter:function(S){if(S){var k=S.filters,M=S.filterRender;if(k){var P=M?VXETable.renderer.get(M.name):null,$=S.filterResetMethod||(P?P.filterResetMethod:null);k.forEach(function(R){R._checked=!1,R.checked=!1,$||(R.data=xeUtils.clone(R.resetValue,!0))}),$&&$({options:k,column:S,$table:e})}}},confirmFilterEvent:function(S){var k=r.filterStore,M=r.scrollXLoad,P=r.scrollYLoad,$=u.value,R=k.column,B=R.property,V=[],j=[];R.filters.forEach(function(q){q.checked&&(V.push(q.value),j.push(q.data))});var U=e.getCheckedFilters();$.remote||(e.handleTableData(!0),e.checkSelectionStatus(),e.updateFooter(),(M||P)&&(e.clearScroll(),P&&e.updateScrollYSpace())),e.dispatchEvent("filter-change",{column:R,property:B,values:V,datas:j,filters:U,filterList:U},S),e.closeFilter(),nextTick(function(){e.recalculate(),e.updateCellAreas()})}},n={openFilter:function(S){var k=handleFieldOrColumn(e,S);if(k&&k.filters){var M=l.elemStore,P=k.fixed;return e.scrollToColumn(k).then(function(){var $=M[(P||"main")+"-header-wrapper"]||M["main-header-wrapper"];if($){var R=$.querySelector(".vxe-header--column."+k.id+" .vxe-filter--btn");triggerEvent$1(R,"click")}})}return nextTick()},setFilter:function(S,k){var M=handleFieldOrColumn(e,S);return M&&M.filters&&k&&(M.filters=toFilters(k)),nextTick()},clearFilter:function(S){var k=r.filterStore,M=l.tableFullColumn,P=u.value,$;return S?($=handleFieldOrColumn(e,S),$&&f.handleClearFilter($)):M.forEach(f.handleClearFilter),(!S||$!==k.column)&&Object.assign(k,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),P.remote?nextTick():e.updateData()},getCheckedFilters:function(){var S=l.tableFullColumn,k=[];return S.filter(function(M){var P=M.property,$=M.filters,R=[],B=[];$&&$.length&&($.forEach(function(V){V.checked&&(R.push(V.value),B.push(V.data))}),R.length&&k.push({column:M,property:P,values:R,datas:B}))}),k}};return __assign$e(__assign$e({},n),f)},setupGrid:function(e){return e.extendTableMethods(tableFilterMethodKeys)}},Filter={Panel:PanelComponent$1,install:function(e){VXETable.hooks.add("$tableFilter",tableFilterHook),dynamicApp.component(PanelComponent$1.name,PanelComponent$1),e.component(PanelComponent$1.name,PanelComponent$1)}},__assign$d=globalThis&&globalThis.__assign||function(){return __assign$d=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$d.apply(this,arguments)},__spreadArray$3=globalThis&&globalThis.__spreadArray||function(e,r){for(var l=0,g=r.length,x=e.length;l<g;l++,x++)e[x]=r[l];return e},tableEditMethodKeys=["insert","insertAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getActiveRecord","getSelectedCell","clearActived","clearSelected","isActiveByRow","setActiveRow","setActiveCell","setSelectCell"],editHook={setupTable:function(e){var r=e.props,l=e.reactData,g=e.internalData,x=e.getRefMaps().refElem,C=e.getComputeMaps(),u=C.computeMouseOpts,f=C.computeEditOpts,n=C.computeCheckboxOpts,S=C.computeTreeOpts,k={},M={},P=function(j,U){var q=U.model,Y=U.editRender;Y&&(q.value=getCellValue(j,U),q.update=!1)},$=function(j,U){var q=U.model,Y=U.editRender;Y&&q.update&&(setCellValue(j,U,q.value),q.update=!1,q.value=null)},R=function(){var j=x.value;if(j){var U=j.querySelector(".col--selected");U&&removeClass(U,"col--selected")}};function B(){var j=l.editStore,U=l.tableColumn,q=f.value,Y=j.actived,Q=Y.row,te=Y.column;(Q||te)&&(q.mode==="row"?U.forEach(function(re){return $(Q,re)}):$(Q,te))}function V(j,U){var q=g.tableFullTreeData,Y=g.afterFullData,Q=g.fullDataRowIdData,te=g.fullAllDataRowIdData,re=S.value,oe=re.rowField,se=re.parentField,fe=re.children,ge=re.mapChildren,Ce=U?"push":"unshift";j.forEach(function($e){var be=$e[se],ke=getRowid(e,$e),Ee=be?xeUtils.findTree(q,function(De){return be===De[oe]},{children:ge}):null;if(Ee){var He=Ee.item,rt=te[getRowid(e,He)],ft=rt?rt.level:0,bt=He[fe];xeUtils.isArray(bt)||(bt=He[fe]=[]),bt[Ce]($e);var Ye={row:$e,rowid:ke,seq:-1,index:-1,_index:-1,$index:-1,items:bt,parent,level:ft+1};Q[ke]=Ye,te[ke]=Ye}else{Y[Ce]($e),q[Ce]($e);var Ye={row:$e,rowid:ke,seq:-1,index:-1,_index:-1,$index:-1,items:q,parent:null,level:0};Q[ke]=Ye,te[ke]=Ye}})}return k={insert:function(j){return k.insertAt(j,null)},insertAt:function(j,U){var q,Y=r.treeConfig,Q=l.mergeList,te=l.editStore,re=g.tableFullTreeData,oe=g.afterFullData,se=g.tableFullData,fe=g.fullDataRowIdData,ge=g.fullAllDataRowIdData,Ce=S.value,$e=Ce.transform,be=Ce.rowField,ke=Ce.mapChildren;xeUtils.isArray(j)||(j=[j]);var Ee=j.map(function(at){return e.defineField(Object.assign({},at))});if(!U)Y&&$e?V(Ee,!1):(oe.unshift.apply(oe,Ee),se.unshift.apply(se,Ee),Q.forEach(function(at){var Ut=at.row;Ut>0&&(at.row=Ut+Ee.length)}));else if(U===-1)Y&&$e?V(Ee,!0):(oe.push.apply(oe,Ee),se.push.apply(se,Ee),Q.forEach(function(at){var Ut=at.row,je=at.rowspan;Ut+je>oe.length&&(at.rowspan=je+Ee.length)}));else if(Y&&$e){var He=xeUtils.findTree(re,function(at){return U[be]===at[be]},{children:ke});if(He){var rt=He.parent,ft=He.items,bt=ge[getRowid(e,rt)],Ye=bt?bt.level:0;Ee.forEach(function(at,Ut){var je=getRowid(e,at);rt&&(at[Ce.parentField]=rt[be]),ft.splice(He.index+Ut,0,at);var tt={row:at,rowid:je,seq:-1,index:-1,_index:-1,$index:-1,items:ft,parent:rt,level:Ye+1};fe[je]=tt,ge[je]=tt})}else V(Ee,!0)}else{if(Y)throw new Error(getLog("vxe.error.noTree",["insert"]));var De=-1;if(xeUtils.isNumber(U)?U<oe.length&&(De=U):De=e.findRowIndexOf(oe,U),De===-1)throw new Error(errLog("vxe.error.unableInsert"));oe.splice.apply(oe,__spreadArray$3([De,0],Ee)),se.splice.apply(se,__spreadArray$3([e.findRowIndexOf(se,U),0],Ee)),Q.forEach(function(at){var Ut=at.row,je=at.rowspan;Ut>De?at.row=Ut+Ee.length:Ut+je>De&&(at.rowspan=je+Ee.length)})}return(q=te.insertList).unshift.apply(q,Ee),e.updateFooter(),e.cacheRowMap(),e.handleTableData(Y&&$e),Y&&$e||e.updateAfterDataIndex(),e.checkSelectionStatus(),l.scrollYLoad&&e.updateScrollYSpace(),nextTick().then(function(){return e.updateCellAreas(),e.recalculate()}).then(function(){return{row:Ee.length?Ee[Ee.length-1]:null,rows:Ee}})},remove:function(j){var U=r.treeConfig,q=l.mergeList,Y=l.editStore,Q=l.selection,te=g.tableFullTreeData,re=g.afterFullData,oe=g.tableFullData,se=n.value,fe=S.value,ge=fe.transform,Ce=Y.actived,$e=Y.removeList,be=Y.insertList,ke=se.checkField,Ee=[];return j?xeUtils.isArray(j)||(j=[j]):j=oe,j.forEach(function(He){e.isInsertByRow(He)||$e.push(He)}),ke||j.forEach(function(He){var rt=e.findRowIndexOf(Q,He);rt>-1&&Q.splice(rt,1)}),oe===j?(j=Ee=oe.slice(0),g.tableFullData=[],g.afterFullData=[],e.clearMergeCells()):U&&ge?j.forEach(function(He){var rt=getRowid(e,He),ft=xeUtils.findTree(te,function(De){return rt===getRowid(e,De)},fe);if(ft){var bt=ft.items.splice(ft.index,1);Ee.push(bt[0])}var Ye=e.findRowIndexOf(re,He);Ye>-1&&re.splice(Ye,1)}):j.forEach(function(He){var rt=e.findRowIndexOf(oe,He);if(rt>-1){var ft=oe.splice(rt,1);Ee.push(ft[0])}var bt=e.findRowIndexOf(re,He);bt>-1&&(q.forEach(function(Ye){var De=Ye.row,at=Ye.rowspan;De>bt?Ye.row=De-1:De+at>bt&&(Ye.rowspan=at-1)}),re.splice(bt,1))}),Ce.row&&e.findRowIndexOf(j,Ce.row)>-1&&k.clearActived(),j.forEach(function(He){var rt=e.findRowIndexOf(be,He);rt>-1&&be.splice(rt,1)}),e.updateFooter(),e.cacheRowMap(),e.handleTableData(U&&ge),U&&ge||e.updateAfterDataIndex(),e.checkSelectionStatus(),l.scrollYLoad&&e.updateScrollYSpace(),nextTick().then(function(){return e.updateCellAreas(),e.recalculate()}).then(function(){return{row:Ee.length?Ee[Ee.length-1]:null,rows:Ee}})},removeCheckboxRow:function(){return k.remove(e.getCheckboxRecords()).then(function(j){return e.clearCheckboxRow(),j})},removeRadioRow:function(){var j=e.getRadioRecord();return k.remove(j||[]).then(function(U){return e.clearRadioRow(),U})},removeCurrentRow:function(){var j=e.getCurrentRecord();return k.remove(j||[]).then(function(U){return e.clearCurrentRow(),U})},getRecordset:function(){return{insertRecords:k.getInsertRecords(),removeRecords:k.getRemoveRecords(),updateRecords:k.getUpdateRecords()}},getInsertRecords:function(){var j=r.treeConfig,U=l.editStore,q=g.tableFullTreeData,Y=g.tableFullData,Q=S.value,te=U.insertList,re=[];return te.length&&(j&&Q.transform?te.forEach(function(oe){var se=getRowid(e,oe),fe=xeUtils.findTree(q,function(ge){return se===getRowid(e,ge)},Q);fe&&re.push(oe)}):te.forEach(function(oe){e.findRowIndexOf(Y,oe)>-1&&re.push(oe)})),re},getRemoveRecords:function(){var j=l.editStore;return j.removeList},getUpdateRecords:function(){var j=r.keepSource,U=r.treeConfig,q=g.tableFullData,Y=S.value;return j?(B(),U?xeUtils.filterTree(q,function(Q){return e.isUpdateByRow(Q)},Y):q.filter(function(Q){return e.isUpdateByRow(Q)})):[]},getActiveRecord:function(){var j=l.editStore,U=g.afterFullData,q=x.value,Y=j.actived,Q=Y.args,te=Y.row;return Q&&e.findRowIndexOf(U,te)>-1&&q.querySelectorAll(".vxe-body--column.col--actived").length?Object.assign({},Q):null},getSelectedCell:function(){var j=l.editStore,U=j.selected,q=U.args,Y=U.column;return q&&Y?Object.assign({},q):null},clearActived:function(j){var U=l.editStore,q=U.actived,Y=q.row,Q=q.column;return(Y||Q)&&(B(),q.args=null,q.row=null,q.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:Y,rowIndex:e.getRowIndex(Y),$rowIndex:e.getVMRowIndex(Y),column:Q,columnIndex:e.getColumnIndex(Q),$columnIndex:e.getVMColumnIndex(Q)},j||null)),(e.clearValidate?e.clearValidate():nextTick()).then(function(){return e.recalculate()})},clearSelected:function(){var j=l.editStore,U=j.selected;return U.row=null,U.column=null,R(),nextTick()},isActiveByRow:function(j){var U=l.editStore;return U.actived.row===j},setActiveRow:function(j){var U=g.visibleColumn;return e.setActiveCell(j,xeUtils.find(U,function(q){return isEnableConf(q.editRender)}))},setActiveCell:function(j,U){var q=r.editConfig,Y=xeUtils.isString(U)?e.getColumnByField(U):U;return j&&Y&&isEnableConf(q)&&isEnableConf(Y.editRender)?e.scrollToRow(j,Y).then(function(){var Q=e.getCell(j,Y);return Q&&(M.handleActived({row:j,rowIndex:e.getRowIndex(j),column:Y,columnIndex:e.getColumnIndex(Y),cell:Q,$table:e}),g._lastCallTime=Date.now()),nextTick()}):nextTick()},setSelectCell:function(j,U){var q=l.tableData,Y=g.visibleColumn,Q=f.value,te=xeUtils.isString(U)?e.getColumnByField(U):U;if(j&&te&&Q.trigger!=="manual"){var re=e.findRowIndexOf(q,j);if(re>-1&&te){var oe=e.getCell(j,te),se={row:j,rowIndex:re,column:te,columnIndex:Y.indexOf(te),cell:oe};e.handleSelected(se,{})}}return nextTick()}},M={handleActived:function(j,U){var q=r.editConfig,Y=r.mouseConfig,Q=l.editStore,te=l.tableColumn,re=f.value,oe=re.mode,se=re.activeMethod,fe=Q.actived,ge=j.row,Ce=j.column,$e=Ce.editRender,be=j.cell||e.getCell(ge,Ce);if(j.cell=be,isEnableConf(q)&&isEnableConf($e)&&be){if(fe.row!==ge||(oe==="cell"?fe.column!==Ce:!1)){var ke="edit-disabled";(!se||se(__assign$d(__assign$d({},j),{$table:e})))&&(Y&&(k.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),k.clearActived(U),ke="edit-actived",Ce.renderHeight=be.offsetHeight,fe.args=j,fe.row=ge,fe.column=Ce,oe==="row"?te.forEach(function(rt){return P(ge,rt)}):P(ge,Ce),nextTick(function(){M.handleFocus(j,U)})),e.dispatchEvent(ke,{row:ge,rowIndex:e.getRowIndex(ge),$rowIndex:e.getVMRowIndex(ge),column:Ce,columnIndex:e.getColumnIndex(Ce),$columnIndex:e.getVMColumnIndex(Ce)},U)}else{var Ee=fe.column;if(Y&&(k.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),Ee!==Ce){var He=Ee.model;He.update&&setCellValue(ge,Ee,He.value),e.clearValidate&&e.clearValidate()}Ce.renderHeight=be.offsetHeight,fe.args=j,fe.column=Ce,setTimeout(function(){M.handleFocus(j,U)})}e.focus()}return nextTick()},handleFocus:function(j){var U=j.row,q=j.column,Y=j.cell,Q=q.editRender;if(isEnableConf(Q)){var te=renderer.get(Q.name),re=Q.autofocus,oe=Q.autoselect,se=void 0;if(re&&(se=Y.querySelector(re)),!se&&te&&te.autofocus&&(se=Y.querySelector(te.autofocus)),se){if(se.focus(),oe)se.select();else if(browse.msie){var fe=se.createTextRange();fe.collapse(!1),fe.select()}}else e.scrollToRow(U,q)}},handleSelected:function(j,U){var q=r.mouseConfig,Y=l.editStore,Q=u.value,te=f.value,re=Y.actived,oe=Y.selected,se=j.row,fe=j.column,ge=q&&Q.selected,Ce=function(){return ge&&(oe.row!==se||oe.column!==fe)&&(re.row!==se||(te.mode==="cell"?re.column!==fe:!1))&&(k.clearActived(U),k.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),oe.args=j,oe.row=se,oe.column=fe,ge&&M.addCellSelectedClass(),e.focus()),nextTick()};return Ce()},addCellSelectedClass:function(){var j=l.editStore,U=j.selected,q=U.row,Y=U.column;if(R(),q&&Y){var Q=e.getCell(q,Y);Q&&addClass(Q,"col--selected")}}},__assign$d(__assign$d({},k),M)},setupGrid:function(e){return e.extendTableMethods(tableEditMethodKeys)}},Edit={install:function(){VXETable.hooks.add("$tableEdit",editHook)}},PanelComponent=defineComponent({name:"VxeTableContextMenu",setup:function(e,r){var l=xeUtils.uniqueId(),g=inject("$xetable",{}),x=g.reactData,C=ref(),u={refElem:C},f={xID:l,props:e,context:r,getRefMaps:function(){return u}},n=function(){var S=x.ctxMenuStore,k=g.getComputeMaps().computeMenuOpts,M=k.value;return h$1(Teleport,{to:"body",disabled:!1},[h$1("div",{ref:C,class:["vxe-table--context-menu-wrapper",M.className,{"is--visible":S.visible}],style:S.style},S.list.map(function(P,$){return P.every(function(R){return R.visible===!1})?createCommentVNode():h$1("ul",{class:"vxe-context-menu--option-wrapper",key:$},P.map(function(R,B){var V=R.children&&R.children.some(function(j){return j.visible!==!1});return R.visible===!1?null:h$1("li",{class:[R.className,{"link--disabled":R.disabled,"link--active":R===S.selected}],key:$+"_"+B},[h$1("a",{class:"vxe-context-menu--link",onClick:function(j){g.ctxMenuLinkEvent(j,R)},onMouseover:function(j){g.ctxMenuMouseoverEvent(j,R)},onMouseout:function(j){g.ctxMenuMouseoutEvent(j,R)}},[h$1("i",{class:["vxe-context-menu--link-prefix",R.prefixIcon]}),h$1("span",{class:"vxe-context-menu--link-content"},getFuncText(R.name)),h$1("i",{class:["vxe-context-menu--link-suffix",V?R.suffixIcon||"suffix--haschild":R.suffixIcon]})]),V?h$1("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":R===S.selected&&S.showChild}]},R.children.map(function(j,U){return j.visible===!1?null:h$1("li",{class:[j.className,{"link--disabled":j.disabled,"link--active":j===S.selectChild}],key:$+"_"+B+"_"+U},[h$1("a",{class:"vxe-context-menu--link",onClick:function(q){g.ctxMenuLinkEvent(q,j)},onMouseover:function(q){g.ctxMenuMouseoverEvent(q,R,j)},onMouseout:function(q){g.ctxMenuMouseoutEvent(q,R)}},[h$1("i",{class:["vxe-context-menu--link-prefix",j.prefixIcon]}),h$1("span",{class:"vxe-context-menu--link-content"},getFuncText(j.name))])])})):null])}))}))])};return f.renderVN=n,f},render:function(){return this.renderVN()}}),EVENT_KEYS={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown"},convertEventKeys={" ":"Spacebar",Apps:EVENT_KEYS.CONTEXT_MENU,Del:EVENT_KEYS.DELETE,Up:EVENT_KEYS.ARROW_UP,Down:EVENT_KEYS.ARROW_DOWN,Left:EVENT_KEYS.ARROW_LEFT,Right:EVENT_KEYS.ARROW_RIGHT},wheelName=browse.firefox?"DOMMouseScroll":"mousewheel",eventStore$1=[],hasEventKey=function(e,r){var l=e.key;return r=r.toLowerCase(),l?r===l.toLowerCase()||!!(convertEventKeys[l]&&convertEventKeys[l].toLowerCase()===r):!1};function triggerEvent(e){var r=e.type===wheelName;eventStore$1.forEach(function(l){var g=l.type,x=l.cb;e.cancelBubble||(g===e.type||r&&g==="mousewheel")&&x(e)})}var GlobalEvent={on:function(e,r,l){eventStore$1.push({comp:e,type:r,cb:l})},off:function(e,r){xeUtils.remove(eventStore$1,function(l){return l.comp===e&&l.type===r})},trigger:triggerEvent,eqKeypad:function(e,r){var l=e.key;return r.toLowerCase()===l.toLowerCase()}};browse.isDoc&&(browse.msie||(document.addEventListener("copy",triggerEvent,!1),document.addEventListener("cut",triggerEvent,!1),document.addEventListener("paste",triggerEvent,!1)),document.addEventListener("keydown",triggerEvent,!1),document.addEventListener("contextmenu",triggerEvent,!1),window.addEventListener("mousedown",triggerEvent,!1),window.addEventListener("blur",triggerEvent,!1),window.addEventListener("resize",triggerEvent,!1),window.addEventListener(wheelName,xeUtils.throttle(triggerEvent,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));var __assign$c=globalThis&&globalThis.__assign||function(){return __assign$c=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$c.apply(this,arguments)},tableMenuMethodKeys=["closeMenu"],tableMenuHook={setupTable:function(e){var r=e.xID,l=e.props,g=e.reactData,x=e.internalData,C=e.getRefMaps(),u=C.refElem,f=C.refTableFilter,n=C.refTableMenu,S=e.getComputeMaps(),k=S.computeMouseOpts,M=S.computeIsMenu,P=S.computeMenuOpts,$={},R={},B=function(V,j,U){var q=g.ctxMenuStore,Y=M.value,Q=P.value,te=Q[j],re=Q.visibleMethod;if(te){var oe=te.options,se=te.disabled;se?V.preventDefault():Y&&oe&&oe.length&&(U.options=oe,e.preventEvent(V,"event.showMenu",U,function(){if(!re||re(U)){V.preventDefault(),e.updateZindex();var fe=getDomNode(),ge=fe.scrollTop,Ce=fe.scrollLeft,$e=fe.visibleHeight,be=fe.visibleWidth,ke=V.clientY+ge,Ee=V.clientX+Ce,He=function(){x._currMenuParams=U,Object.assign(q,{visible:!0,list:oe,selected:null,selectChild:null,showChild:!1,style:{zIndex:x.tZindex,top:ke+"px",left:Ee+"px"}}),nextTick(function(){var Ye=n.value,De=Ye.getRefMaps().refElem.value,at=De.clientHeight,Ut=De.clientWidth,je=getAbsolutePos(De),tt=je.boundingTop,We=je.boundingLeft,Gt=tt+at-$e,gt=We+Ut-be;Gt>-10&&(q.style.top=Math.max(ge+2,ke-at-2)+"px"),gt>-10&&(q.style.left=Math.max(Ce+2,Ee-Ut-2)+"px")})},rt=U.keyboard,ft=U.row,bt=U.column;rt&&ft&&bt?e.scrollToRow(ft,bt).then(function(){var Ye=e.getCell(ft,bt);if(Ye){var De=getAbsolutePos(Ye),at=De.boundingTop,Ut=De.boundingLeft;ke=at+ge+Math.floor(Ye.offsetHeight/2),Ee=Ut+Ce+Math.floor(Ye.offsetWidth/2)}He()}):He()}else $.closeMenu()}))}e.closeFilter()};return $={closeMenu:function(){return Object.assign(g.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),nextTick()}},R={moveCtxMenu:function(V,j,U,q,Y,Q){var te,re=xeUtils.findIndexOf(Q,function(fe){return j[U]===fe});if(q)Y&&hasChildrenList(j.selected)?j.showChild=!0:(j.showChild=!1,j.selectChild=null);else if(hasEventKey(V,EVENT_KEYS.ARROW_UP)){for(var oe=re-1;oe>=0;oe--)if(Q[oe].visible!==!1){te=Q[oe];break}j[U]=te||Q[Q.length-1]}else if(hasEventKey(V,EVENT_KEYS.ARROW_DOWN)){for(var se=re+1;se<Q.length;se++)if(Q[se].visible!==!1){te=Q[se];break}j[U]=te||Q[0]}else j[U]&&(hasEventKey(V,EVENT_KEYS.ENTER)||hasEventKey(V,EVENT_KEYS.SPACEBAR))&&R.ctxMenuLinkEvent(V,j[U])},handleGlobalContextmenuEvent:function(V){var j=l.mouseConfig,U=l.menuConfig,q=g.editStore,Y=g.ctxMenuStore,Q=x.visibleColumn,te=f.value,re=n.value,oe=k.value,se=P.value,fe=u.value,ge=q.selected,Ce=["header","body","footer"];if(isEnableConf(U)){if(Y.visible&&re&&getEventTargetNode(V,re.getRefMaps().refElem.value).flag){V.preventDefault();return}if(x._keyCtx){var $e="body",be={type:$e,$table:e,keyboard:!0,columns:Q.slice(0),$event:V};if(j&&oe.area){var ke=e.getActiveCellArea();if(ke&&ke.row&&ke.column){be.row=ke.row,be.column=ke.column,B(V,$e,be);return}}else if(j&&oe.selected&&ge.row&&ge.column){be.row=ge.row,be.column=ge.column,B(V,$e,be);return}}for(var Ee=0;Ee<Ce.length;Ee++){var He=Ce[Ee],rt=getEventTargetNode(V,fe,"vxe-"+He+"--column",function(We){return We.parentNode.parentNode.parentNode.getAttribute("xid")===r}),be={type:He,$table:e,columns:Q.slice(0),$event:V};if(rt.flag){var ft=rt.targetElem,bt=e.getColumnNode(ft),Ye=bt?bt.item:null,De=He+"-";if(Ye&&Object.assign(be,{column:Ye,columnIndex:e.getColumnIndex(Ye),cell:ft}),He==="body"){var at=e.getRowNode(ft.parentNode),Ut=at?at.item:null;De="",Ut&&(be.row=Ut,be.rowIndex=e.getRowIndex(Ut))}var je=De+"cell-menu";B(V,He,be),e.dispatchEvent(je,be,V);return}else if(getEventTargetNode(V,fe,"vxe-table--"+He+"-wrapper",function(We){return We.getAttribute("xid")===r}).flag){se.trigger==="cell"?V.preventDefault():B(V,He,be);return}}}te&&!getEventTargetNode(V,te.$el).flag&&e.closeFilter(),$.closeMenu()},ctxMenuMouseoverEvent:function(V,j,U){var q=V.currentTarget,Y=g.ctxMenuStore;V.preventDefault(),V.stopPropagation(),Y.selected=j,Y.selectChild=U,U||(Y.showChild=hasChildrenList(j),Y.showChild&&nextTick(function(){var Q=q.nextElementSibling;if(Q){var te=getAbsolutePos(q),re=te.boundingTop,oe=te.boundingLeft,se=te.visibleHeight,fe=te.visibleWidth,ge=re+q.offsetHeight,Ce=oe+q.offsetWidth,$e="",be="";Ce+Q.offsetWidth>fe-10&&($e="auto",be=q.offsetWidth+"px");var ke="",Ee="";ge+Q.offsetHeight>se-10&&(ke="auto",Ee="0"),Q.style.left=$e,Q.style.right=be,Q.style.top=ke,Q.style.bottom=Ee}}))},ctxMenuMouseoutEvent:function(V,j){var U=g.ctxMenuStore;j.children||(U.selected=null),U.selectChild=null},ctxMenuLinkEvent:function(V,j){if(!j.disabled&&(j.code||!j.children||!j.children.length)){var U=VXETable.menus.get(j.code),q=Object.assign({},x._currMenuParams,{menu:j,$table:e,$grid:e.xegrid,$event:V});U&&U(q,V),e.dispatchEvent("menu-click",q,V),$.closeMenu()}}},__assign$c(__assign$c({},$),R)},setupGrid:function(e){return e.extendTableMethods(tableMenuMethodKeys)}},Menu={Panel:PanelComponent,install:function(e){VXETable.hooks.add("$tableMenu",tableMenuHook),dynamicApp.component(PanelComponent.name,PanelComponent),e.component(PanelComponent.name,PanelComponent)}};function useSize(e){var r=inject("xesize",null),l=computed(function(){return e.size||(r?r.value:null)});return provide("xesize",l),l}var VxeButtonComponent=defineComponent({name:"VxeButton",props:{type:String,className:String,size:{type:String,default:function(){return GlobalConfig.button.size||GlobalConfig.size}},name:[String,Number],content:String,placement:String,status:String,icon:String,round:Boolean,circle:Boolean,disabled:Boolean,loading:Boolean,destroyOnClose:Boolean,transfer:{type:Boolean,default:function(){return GlobalConfig.button.transfer}}},emits:["click","dropdown-click"],setup:function(e,r){var l=r.slots,g=r.emit,x=xeUtils.uniqueId(),C=useSize(e),u=reactive({inited:!1,showPanel:!1,animatVisible:!1,panelIndex:0,panelStyle:{},panelPlacement:""}),f={showTime:null},n=ref(),S=ref(),k=ref(),M={refElem:n},P={xID:x,props:e,context:r,reactData:u,internalData:f,getRefMaps:function(){return M}},$={},R=computed(function(){var ge=e.type;return ge?["submit","reset","button"].indexOf(ge)>-1:!1}),B=computed(function(){var ge=e.type;return ge&&ge==="text"?ge:"button"}),V=function(){u.panelIndex<getLastZIndex()&&(u.panelIndex=nextZIndex())},j=function(){return nextTick().then(function(){var ge=e.transfer,Ce=e.placement,$e=u.panelIndex,be=S.value,ke=k.value;if(ke&&be){var Ee=be.offsetHeight,He=be.offsetWidth,rt=ke.offsetHeight,ft=ke.offsetWidth,bt=5,Ye={zIndex:$e},De=getAbsolutePos(be),at=De.top,Ut=De.left,je=De.boundingTop,tt=De.visibleHeight,We=De.visibleWidth,Gt="bottom";if(ge){var gt=Ut+He-ft,Mt=at+Ee;Ce==="top"?(Gt="top",Mt=at-rt):Ce||(je+Ee+rt+bt>tt&&(Gt="top",Mt=at-rt),Mt<bt&&(Gt="bottom",Mt=at+Ee)),gt+ft+bt>We&&(gt-=gt+ft+bt-We),gt<bt&&(gt=bt),Object.assign(Ye,{left:gt+"px",right:"auto",top:Mt+"px",minWidth:He+"px"})}else Ce==="top"?(Gt="top",Ye.bottom=Ee+"px"):Ce||je+Ee+rt>tt&&je-Ee-rt>bt&&(Gt="top",Ye.bottom=Ee+"px");return u.panelStyle=Ye,u.panelPlacement=Gt,nextTick()}})},U=function(ge){$.dispatchEvent("click",{$event:ge},ge)},q=function(ge){var Ce=ge.button===0;Ce&&ge.stopPropagation()},Y=function(ge){var Ce=ge.currentTarget,$e=k.value,be=getEventTargetNode(ge,Ce,"vxe-button"),ke=be.flag,Ee=be.targetElem;ke&&($e&&($e.dataset.active="N"),u.showPanel=!1,setTimeout(function(){(!$e||$e.dataset.active!=="Y")&&(u.animatVisible=!1)},350),$.dispatchEvent("dropdown-click",{name:Ee.getAttribute("name"),$event:ge},ge))},Q=function(){var ge=k.value;ge&&(ge.dataset.active="Y",u.animatVisible=!0,setTimeout(function(){ge.dataset.active==="Y"&&(u.showPanel=!0,V(),j(),setTimeout(function(){u.showPanel&&j()},50))},20))},te=function(){var ge=k.value;ge&&(ge.dataset.active="Y",u.inited||(u.inited=!0),f.showTime=setTimeout(function(){ge.dataset.active==="Y"?Q():u.animatVisible=!1},250))},re=function(){var ge=k.value;clearTimeout(f.showTime),ge?(ge.dataset.active="N",setTimeout(function(){ge.dataset.active!=="Y"&&(u.showPanel=!1,setTimeout(function(){ge.dataset.active!=="Y"&&(u.animatVisible=!1)},350))},100)):(u.animatVisible=!1,u.showPanel=!1)},oe=function(){re()},se=function(){var ge=e.content,Ce=e.icon,$e=e.loading,be=[];return $e?be.push(h$1("i",{class:["vxe-button--loading-icon",GlobalConfig.icon.BUTTON_LOADING]})):Ce&&be.push(h$1("i",{class:["vxe-button--icon",Ce]})),l.default?be.push(h$1("span",{class:"vxe-button--content"},l.default({}))):ge&&be.push(h$1("span",{class:"vxe-button--content"},getFuncText(ge))),be};$={dispatchEvent:function(ge,Ce,$e){g(ge,Object.assign({$button:P,$event:$e},Ce))},focus:function(){var ge=S.value;return ge.focus(),nextTick()},blur:function(){var ge=S.value;return ge.blur(),nextTick()}},Object.assign(P,$),onMounted(function(){GlobalEvent.on(P,"mousewheel",function(ge){var Ce=k.value;u.showPanel&&!getEventTargetNode(ge,Ce).flag&&re()})}),onUnmounted(function(){GlobalEvent.off(P,"mousewheel")});var fe=function(){var ge,Ce,$e,be,ke=e.className,Ee=e.transfer,He=e.type,rt=e.round,ft=e.circle,bt=e.destroyOnClose,Ye=e.status,De=e.name,at=e.disabled,Ut=e.loading,je=u.inited,tt=u.showPanel,We=R.value,Gt=B.value,gt=C.value;return l.dropdowns?h$1("div",{ref:n,class:["vxe-button--dropdown",ke,(ge={},ge["size--"+gt]=gt,ge["is--active"]=tt,ge)]},[h$1("button",{ref:S,class:["vxe-button","type--"+Gt,(Ce={},Ce["size--"+gt]=gt,Ce["theme--"+Ye]=Ye,Ce["is--round"]=rt,Ce["is--circle"]=ft,Ce["is--disabled"]=at||Ut,Ce["is--loading"]=Ut,Ce)],name:De,type:We?He:"button",disabled:at||Ut,onMouseenter:te,onMouseleave:oe,onClick:U},se().concat([h$1("i",{class:"vxe-button--dropdown-arrow "+GlobalConfig.icon.BUTTON_DROPDOWN})])),h$1(Teleport,{to:"body",disabled:Ee?!je:!0},[h$1("div",{ref:k,class:["vxe-button--dropdown-panel",($e={},$e["size--"+gt]=gt,$e["animat--leave"]=u.animatVisible,$e["animat--enter"]=tt,$e)],placement:u.panelPlacement,style:u.panelStyle},je?[h$1("div",{class:"vxe-button--dropdown-wrapper",onMousedown:q,onClick:Y,onMouseenter:Q,onMouseleave:oe},bt&&!tt?[]:l.dropdowns({}))]:[])])]):h$1("button",{ref:S,class:["vxe-button","type--"+Gt,(be={},be["size--"+gt]=gt,be["theme--"+Ye]=Ye,be["is--round"]=rt,be["is--circle"]=ft,be["is--disabled"]=at||Ut,be["is--loading"]=Ut,be)],name:De,type:We?He:"button",disabled:at||Ut,onClick:U},se())};return P.renderVN=fe,P},render:function(){return this.renderVN()}}),__assign$b=globalThis&&globalThis.__assign||function(){return __assign$b=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$b.apply(this,arguments)},allActivedModals=[],msgQueue=[],VxeModalComponent=defineComponent({name:"VxeModal",props:{modelValue:Boolean,id:String,type:{type:String,default:"modal"},loading:{type:Boolean,default:null},status:String,iconStatus:String,className:String,top:{type:[Number,String],default:function(){return GlobalConfig.modal.top}},position:[String,Object],title:String,duration:{type:[Number,String],default:function(){return GlobalConfig.modal.duration}},message:[Number,String],content:[Number,String],cancelButtonText:{type:String,default:function(){return GlobalConfig.modal.cancelButtonText}},confirmButtonText:{type:String,default:function(){return GlobalConfig.modal.confirmButtonText}},lockView:{type:Boolean,default:function(){return GlobalConfig.modal.lockView}},lockScroll:Boolean,mask:{type:Boolean,default:function(){return GlobalConfig.modal.mask}},maskClosable:{type:Boolean,default:function(){return GlobalConfig.modal.maskClosable}},escClosable:{type:Boolean,default:function(){return GlobalConfig.modal.escClosable}},resize:Boolean,showHeader:{type:Boolean,default:function(){return GlobalConfig.modal.showHeader}},showFooter:{type:Boolean,default:function(){return GlobalConfig.modal.showFooter}},showZoom:Boolean,showClose:{type:Boolean,default:function(){return GlobalConfig.modal.showClose}},dblclickZoom:{type:Boolean,default:function(){return GlobalConfig.modal.dblclickZoom}},width:[Number,String],height:[Number,String],minWidth:{type:[Number,String],default:function(){return GlobalConfig.modal.minWidth}},minHeight:{type:[Number,String],default:function(){return GlobalConfig.modal.minHeight}},zIndex:Number,marginSize:{type:[Number,String],default:function(){return GlobalConfig.modal.marginSize}},fullscreen:Boolean,draggable:{type:Boolean,default:function(){return GlobalConfig.modal.draggable}},remember:{type:Boolean,default:function(){return GlobalConfig.modal.remember}},destroyOnClose:{type:Boolean,default:function(){return GlobalConfig.modal.destroyOnClose}},showTitleOverflow:{type:Boolean,default:function(){return GlobalConfig.modal.showTitleOverflow}},transfer:{type:Boolean,default:function(){return GlobalConfig.modal.transfer}},storage:{type:Boolean,default:function(){return GlobalConfig.modal.storage}},storageKey:{type:String,default:function(){return GlobalConfig.modal.storageKey}},animat:{type:Boolean,default:function(){return GlobalConfig.modal.animat}},size:{type:String,default:function(){return GlobalConfig.modal.size||GlobalConfig.size}},beforeHideMethod:{type:Function,default:function(){return GlobalConfig.modal.beforeHideMethod}},slots:Object},emits:["update:modelValue","show","hide","before-hide","close","confirm","cancel","zoom"],setup:function(e,r){var l=r.slots,g=r.emit,x=xeUtils.uniqueId(),C=useSize(e),u=reactive({inited:!1,visible:!1,contentVisible:!1,modalTop:0,modalZindex:0,zoomLocat:null,firstOpen:!1}),f=ref(),n=ref(),S=ref(),k=ref(),M={refElem:f},P={xID:x,props:e,context:r,reactData:u,getRefMaps:function(){return M}},$={},R=computed(function(){return e.type==="message"}),B=function(){var ut=n.value;return ut},V=function(){var ut=e.width,Ht=e.height,cr=B();return cr.style.width=""+(ut?isNaN(ut)?ut:ut+"px":""),cr.style.height=""+(Ht?isNaN(Ht)?Ht:Ht+"px":""),nextTick()},j=function(){var ut=e.zIndex,Ht=u.modalZindex;ut?u.modalZindex=ut:Ht<getLastZIndex()&&(u.modalZindex=nextZIndex())},U=function(){return nextTick().then(function(){var ut=e.position,Ht=xeUtils.toNumber(e.marginSize),cr=B(),Vt=document.documentElement.clientWidth||document.body.clientWidth,Ne=document.documentElement.clientHeight||document.body.clientHeight,ot=ut==="center",Tt=xeUtils.isString(ut)?{top:ut,left:ut}:Object.assign({},ut),St=Tt.top,jt=Tt.left,or=ot||St==="center",xr=ot||jt==="center",st="",yt="";jt&&!xr?yt=isNaN(jt)?jt:jt+"px":yt=Math.max(Ht,Vt/2-cr.offsetWidth/2)+"px",St&&!or?st=isNaN(St)?St:St+"px":st=Math.max(Ht,Ne/2-cr.offsetHeight/2)+"px",cr.style.top=st,cr.style.left=yt})},q=function(){nextTick(function(){var ut=0;msgQueue.forEach(function(Ht){var cr=Ht.getBox();ut+=xeUtils.toNumber(Ht.props.top),Ht.reactData.modalTop=ut,ut+=cr.clientHeight})})},Y=function(){msgQueue.indexOf(P)>-1&&xeUtils.remove(msgQueue,function(ut){return ut===P}),q()},Q=function(ut){var Ht=e.remember,cr=e.beforeHideMethod,Vt=u.visible,Ne=R.value,ot={type:ut};return Vt&&Promise.resolve(cr?cr(ot):null).then(function(Tt){xeUtils.isError(Tt)||(Ne&&Y(),u.contentVisible=!1,Ht||(u.zoomLocat=null),xeUtils.remove(allActivedModals,function(St){return St===P}),$.dispatchEvent("before-hide",ot),setTimeout(function(){u.visible=!1,g("update:modelValue",!1),$.dispatchEvent("hide",ot)},200))}).catch(function(Tt){return Tt}),nextTick()},te=function(ut){var Ht="close";$.dispatchEvent(Ht,{type:Ht},ut),Q(Ht)},re=function(ut){var Ht="confirm";$.dispatchEvent(Ht,{type:Ht},ut),Q(Ht)},oe=function(ut){var Ht="cancel";$.dispatchEvent(Ht,{type:Ht},ut),Q(Ht)},se=function(ut){var Ht=GlobalConfig.version,cr=xeUtils.toStringJSON(localStorage.getItem(ut)||"");return cr&&cr._v===Ht?cr:{_v:Ht}},fe=function(){var ut=e.id,Ht=e.remember,cr=e.storage,Vt=e.storageKey;return!!(ut&&Ht&&cr&&se(Vt)[ut])},ge=function(){var ut=e.id,Ht=e.remember,cr=e.storage,Vt=e.storageKey;if(ut&&Ht&&cr){var Ne=se(Vt)[ut];if(Ne){var ot=B(),Tt=Ne.split(","),St=Tt[0],jt=Tt[1],or=Tt[2],xr=Tt[3],st=Tt[4],yt=Tt[5],Ft=Tt[6],zt=Tt[7];St&&(ot.style.left=St+"px"),jt&&(ot.style.top=jt+"px"),or&&(ot.style.width=or+"px"),xr&&(ot.style.height=xr+"px"),st&&yt&&(u.zoomLocat={left:st,top:yt,width:Ft,height:zt})}}},Ce=function(){msgQueue.indexOf(P)===-1&&msgQueue.push(P),q()},$e=function(){var ut=e.id,Ht=e.remember,cr=e.storage,Vt=e.storageKey,Ne=u.zoomLocat;if(ut&&Ht&&cr){var ot=B(),Tt=se(Vt);Tt[ut]=[ot.style.left,ot.style.top,ot.style.width,ot.style.height].concat(Ne?[Ne.left,Ne.top,Ne.width,Ne.height]:[]).map(function(St){return St?xeUtils.toNumber(St):""}).join(","),localStorage.setItem(Vt,xeUtils.toJSONString(Tt))}},be=function(){return nextTick().then(function(){if(!u.zoomLocat){var ut=Math.max(0,xeUtils.toNumber(e.marginSize)),Ht=B(),cr=getDomNode(),Vt=cr.visibleHeight,Ne=cr.visibleWidth;u.zoomLocat={top:Ht.offsetTop,left:Ht.offsetLeft,width:Ht.offsetWidth+(Ht.style.width?0:1),height:Ht.offsetHeight+(Ht.style.height?0:1)},Object.assign(Ht.style,{top:ut+"px",left:ut+"px",width:Ne-ut*2+"px",height:Vt-ut*2+"px"}),$e()}})},ke=function(){var ut=e.duration,Ht=e.remember,cr=e.showFooter,Vt=u.inited,Ne=u.visible,ot=R.value;return Vt||(u.inited=!0),Ne||(Ht||V(),u.visible=!0,u.contentVisible=!1,j(),allActivedModals.push(P),setTimeout(function(){u.contentVisible=!0,nextTick(function(){if(cr){var Tt=S.value,St=k.value,jt=Tt||St;jt&&jt.focus()}var or="",xr={type:or};g("update:modelValue",!0),$.dispatchEvent("show",xr)})},10),ot?(Ce(),ut!==-1&&setTimeout(function(){return Q("close")},xeUtils.toNumber(ut))):nextTick(function(){var Tt=e.fullscreen,St=u.firstOpen;(!Ht||!St)&&U().then(function(){setTimeout(function(){return U()},20)}),St||(u.firstOpen=!0,fe()?ge():Tt&&nextTick(function(){return be()}))})),nextTick()},Ee=function(ut){var Ht=f.value;if(e.maskClosable&&ut.target===Ht){var cr="mask";Q(cr)}},He=function(ut){var Ht=hasEventKey(ut,EVENT_KEYS.ESCAPE);if(Ht){var cr=xeUtils.max(allActivedModals,function(Vt){return Vt.reactData.modalZindex});cr&&setTimeout(function(){cr===P&&cr.props.escClosable&&Q("exit")},10)}},rt=function(){return!!u.zoomLocat},ft=function(){return nextTick().then(function(){var ut=u.zoomLocat;if(ut){var Ht=B();u.zoomLocat=null,Object.assign(Ht.style,{top:ut.top+"px",left:ut.left+"px",width:ut.width+"px",height:ut.height+"px"}),$e()}})},bt=function(){return u.zoomLocat?ft().then(function(){return rt()}):be().then(function(){return rt()})},Ye=function(ut){var Ht=u.zoomLocat,cr={type:Ht?"revert":"max"};return bt().then(function(){$.dispatchEvent("zoom",cr,ut)})},De=function(){var ut=R.value;if(!ut){var Ht=B();if(Ht)return{top:Ht.offsetTop,left:Ht.offsetLeft}}return null},at=function(ut,Ht){var cr=R.value;if(!cr){var Vt=B();xeUtils.isNumber(ut)&&(Vt.style.top=ut+"px"),xeUtils.isNumber(Ht)&&(Vt.style.left=Ht+"px")}return nextTick()},Ut=function(){var ut=u.modalZindex;allActivedModals.some(function(Ht){return Ht.reactData.visible&&Ht.reactData.modalZindex>ut})&&j()},je=function(ut){var Ht=e.remember,cr=e.storage,Vt=u.zoomLocat,Ne=xeUtils.toNumber(e.marginSize),ot=B();if(!Vt&&ut.button===0&&!getEventTargetNode(ut,ot,"trigger--btn").flag){ut.preventDefault();var Tt=document.onmousemove,St=document.onmouseup,jt=ut.clientX-ot.offsetLeft,or=ut.clientY-ot.offsetTop,xr=getDomNode(),st=xr.visibleHeight,yt=xr.visibleWidth;document.onmousemove=function(Ft){Ft.preventDefault();var zt=ot.offsetWidth,Ct=ot.offsetHeight,gr=Ne,Mr=yt-zt-Ne-1,Br=Ne,sn=st-Ct-Ne-1,Hr=Ft.clientX-jt,cn=Ft.clientY-or;Hr>Mr&&(Hr=Mr),Hr<gr&&(Hr=gr),cn>sn&&(cn=sn),cn<Br&&(cn=Br),ot.style.left=Hr+"px",ot.style.top=cn+"px"},document.onmouseup=function(){document.onmousemove=Tt,document.onmouseup=St,Ht&&cr&&nextTick(function(){$e()})}}},tt=function(ut){ut.preventDefault();var Ht=e.remember,cr=e.storage,Vt=getDomNode(),Ne=Vt.visibleHeight,ot=Vt.visibleWidth,Tt=xeUtils.toNumber(e.marginSize),St=ut.target,jt=St.getAttribute("type"),or=xeUtils.toNumber(e.minWidth),xr=xeUtils.toNumber(e.minHeight),st=ot,yt=Ne,Ft=B(),zt=document.onmousemove,Ct=document.onmouseup,gr=Ft.clientWidth,Mr=Ft.clientHeight,Br=ut.clientX,sn=ut.clientY,Hr=Ft.offsetTop,cn=Ft.offsetLeft,Ve={type:"resize"};document.onmousemove=function(ve){ve.preventDefault();var lt,sr,ir,mr;switch(jt){case"wl":lt=Br-ve.clientX,ir=lt+gr,cn-lt>Tt&&ir>or&&(Ft.style.width=(ir<st?ir:st)+"px",Ft.style.left=cn-lt+"px");break;case"swst":lt=Br-ve.clientX,sr=sn-ve.clientY,ir=lt+gr,mr=sr+Mr,cn-lt>Tt&&ir>or&&(Ft.style.width=(ir<st?ir:st)+"px",Ft.style.left=cn-lt+"px"),Hr-sr>Tt&&mr>xr&&(Ft.style.height=(mr<yt?mr:yt)+"px",Ft.style.top=Hr-sr+"px");break;case"swlb":lt=Br-ve.clientX,sr=ve.clientY-sn,ir=lt+gr,mr=sr+Mr,cn-lt>Tt&&ir>or&&(Ft.style.width=(ir<st?ir:st)+"px",Ft.style.left=cn-lt+"px"),Hr+mr+Tt<Ne&&mr>xr&&(Ft.style.height=(mr<yt?mr:yt)+"px");break;case"st":sr=sn-ve.clientY,mr=Mr+sr,Hr-sr>Tt&&mr>xr&&(Ft.style.height=(mr<yt?mr:yt)+"px",Ft.style.top=Hr-sr+"px");break;case"wr":lt=ve.clientX-Br,ir=lt+gr,cn+ir+Tt<ot&&ir>or&&(Ft.style.width=(ir<st?ir:st)+"px");break;case"sest":lt=ve.clientX-Br,sr=sn-ve.clientY,ir=lt+gr,mr=sr+Mr,cn+ir+Tt<ot&&ir>or&&(Ft.style.width=(ir<st?ir:st)+"px"),Hr-sr>Tt&&mr>xr&&(Ft.style.height=(mr<yt?mr:yt)+"px",Ft.style.top=Hr-sr+"px");break;case"selb":lt=ve.clientX-Br,sr=ve.clientY-sn,ir=lt+gr,mr=sr+Mr,cn+ir+Tt<ot&&ir>or&&(Ft.style.width=(ir<st?ir:st)+"px"),Hr+mr+Tt<Ne&&mr>xr&&(Ft.style.height=(mr<yt?mr:yt)+"px");break;case"sb":sr=ve.clientY-sn,mr=sr+Mr,Hr+mr+Tt<Ne&&mr>xr&&(Ft.style.height=(mr<yt?mr:yt)+"px");break}Ft.className=Ft.className.replace(/\s?is--drag/,"")+" is--drag",Ht&&cr&&$e(),$.dispatchEvent("zoom",Ve,ve)},document.onmouseup=function(){u.zoomLocat=null,document.onmousemove=zt,document.onmouseup=Ct,setTimeout(function(){Ft.className=Ft.className.replace(/\s?is--drag/,"")},50)}},We=function(){var ut=e.slots,Ht=ut===void 0?{}:ut,cr=e.showClose,Vt=e.showZoom,Ne=e.title,ot=u.zoomLocat,Tt=l.title||Ht.title,St=Tt?Tt({$modal:P}):[h$1("span",{class:"vxe-modal--title"},Ne?getFuncText(Ne):GlobalConfig.i18n("vxe.alert.title"))];return Vt&&St.push(h$1("i",{class:["vxe-modal--zoom-btn","trigger--btn",ot?GlobalConfig.icon.MODAL_ZOOM_OUT:GlobalConfig.icon.MODAL_ZOOM_IN],title:GlobalConfig.i18n("vxe.modal.zoom"+(ot?"Out":"In")),onClick:Ye})),cr&&St.push(h$1("i",{class:["vxe-modal--close-btn","trigger--btn",GlobalConfig.icon.MODAL_CLOSE],title:GlobalConfig.i18n("vxe.modal.close"),onClick:te})),St},Gt=function(){var ut=e.slots,Ht=ut===void 0?{}:ut,cr=e.showZoom,Vt=e.draggable,Ne=R.value,ot=l.header||Ht.header,Tt=[];if(e.showHeader){var St={};Vt&&(St.onMousedown=je),cr&&e.dblclickZoom&&e.type==="modal"&&(St.onDblclick=Ye),Tt.push(h$1("div",__assign$b({class:["vxe-modal--header",{"is--drag":Vt,"is--ellipsis":!Ne&&e.showTitleOverflow}]},St),ot?!u.inited||e.destroyOnClose&&!u.visible?[]:ot({$modal:P}):We()))}return Tt},gt=function(){var ut=e.slots,Ht=ut===void 0?{}:ut,cr=e.status,Vt=e.message,Ne=e.content||Vt,ot=R.value,Tt=l.default||Ht.default,St=[];return cr&&St.push(h$1("div",{class:"vxe-modal--status-wrapper"},[h$1("i",{class:["vxe-modal--status-icon",e.iconStatus||GlobalConfig.icon[("MODAL_"+cr).toLocaleUpperCase()]]})])),St.push(h$1("div",{class:"vxe-modal--content"},Tt?!u.inited||e.destroyOnClose&&!u.visible?[]:Tt({$modal:P}):getFuncText(Ne))),ot||St.push(h$1("div",{class:["vxe-loading",{"is--visible":e.loading}]},[h$1("div",{class:"vxe-loading--spinner"})])),[h$1("div",{class:"vxe-modal--body"},St)]},Mt=function(){var ut=e.type,Ht=[];return ut==="confirm"&&Ht.push(h$1(VxeButtonComponent,{ref:k,content:e.cancelButtonText||GlobalConfig.i18n("vxe.button.cancel"),onClick:oe})),Ht.push(h$1(VxeButtonComponent,{ref:S,status:"primary",content:e.confirmButtonText||GlobalConfig.i18n("vxe.button.confirm"),onClick:re})),Ht},Rt=function(){var ut=e.slots,Ht=ut===void 0?{}:ut,cr=R.value,Vt=l.footer||Ht.footer,Ne=[];return e.showFooter&&Ne.push(h$1("div",{class:"vxe-modal--footer"},Vt?!u.inited||e.destroyOnClose&&!u.visible?[]:Vt({$modal:P}):Mt())),!cr&&e.resize&&Ne.push(h$1("span",{class:"vxe-modal--resize"},["wl","wr","swst","sest","st","swlb","selb","sb"].map(function(ot){return h$1("span",{class:ot+"-resize",type:ot,onMousedown:tt})}))),Ne};$={dispatchEvent:function(ut,Ht,cr){g(ut,Object.assign({$modal:P,$event:cr},Ht))},open:ke,close:function(){return Q("close")},getBox:B,getPosition:De,setPosition:at,isMaximized:rt,zoom:bt,maximize:be,revert:ft},Object.assign(P,$),watch(function(){return e.width},V),watch(function(){return e.height},V),watch(function(){return e.modelValue},function(ut){ut?ke():Q("model")}),onMounted(function(){nextTick(function(){e.storage&&!e.id&&errLog("vxe.error.reqProp",["modal.id"]),e.modelValue&&ke(),V()}),e.escClosable&&GlobalEvent.on(P,"keydown",He)}),onUnmounted(function(){GlobalEvent.off(P,"keydown"),Y()});var Jt=function(){var ut,Ht=e.className,cr=e.type,Vt=e.animat,Ne=e.loading,ot=e.status,Tt=e.lockScroll,St=e.lockView,jt=e.mask,or=e.resize,xr=u.inited,st=u.zoomLocat,yt=u.modalTop,Ft=u.contentVisible,zt=u.visible,Ct=C.value;return h$1(Teleport,{to:"body",disabled:e.transfer?!xr:!0},[h$1("div",{ref:f,class:["vxe-modal--wrapper","type--"+cr,Ht||"",(ut={},ut["size--"+Ct]=Ct,ut["status--"+ot]=ot,ut["is--animat"]=Vt,ut["lock--scroll"]=Tt,ut["lock--view"]=St,ut["is--resize"]=or,ut["is--mask"]=jt,ut["is--maximize"]=st,ut["is--visible"]=Ft,ut["is--active"]=zt,ut["is--loading"]=Ne,ut)],style:{zIndex:u.modalZindex,top:yt?yt+"px":null},onClick:Ee},[h$1("div",{ref:n,class:"vxe-modal--box",onMousedown:Ut},Gt().concat(gt(),Rt()))])])};return P.renderVN=Jt,P},render:function(){return this.renderVN()}}),yearSize=20,monthSize=20,quarterSize=8;function toStringTimeDate(e){if(e){var r=new Date,l=0,g=0,x=0;if(xeUtils.isDate(e))l=e.getHours(),g=e.getMinutes(),x=e.getSeconds();else{e=xeUtils.toValueString(e);var C=e.match(/^(\d{1,2})(:(\d{1,2}))?(:(\d{1,2}))?/);C&&(l=xeUtils.toNumber(C[1]),g=xeUtils.toNumber(C[3]),x=xeUtils.toNumber(C[5]))}return r.setHours(l),r.setMinutes(g),r.setSeconds(x),r}return new Date("")}var VxeInputConstructor=defineComponent({name:"VxeInput",props:{modelValue:[String,Number,Date],immediate:{type:Boolean,default:!0},name:String,type:{type:String,default:"text"},clearable:{type:Boolean,default:function(){return GlobalConfig.input.clearable}},readonly:Boolean,disabled:Boolean,placeholder:String,maxlength:[String,Number],autocomplete:{type:String,default:"off"},align:String,form:String,className:String,size:{type:String,default:function(){return GlobalConfig.input.size||GlobalConfig.size}},min:{type:[String,Number],default:null},max:{type:[String,Number],default:null},step:[String,Number],exponential:{type:Boolean,default:function(){return GlobalConfig.input.exponential}},controls:{type:Boolean,default:function(){return GlobalConfig.input.controls}},digits:{type:[String,Number],default:function(){return GlobalConfig.input.digits}},minDate:{type:[String,Number,Date],default:function(){return GlobalConfig.input.minDate}},maxDate:{type:[String,Number,Date],default:function(){return GlobalConfig.input.maxDate}},startWeek:Number,startDay:{type:[String,Number],default:function(){return GlobalConfig.input.startDay}},labelFormat:{type:String,default:function(){return GlobalConfig.input.labelFormat}},valueFormat:{type:String,default:function(){return GlobalConfig.input.valueFormat}},editable:{type:Boolean,default:!0},festivalMethod:{type:Function,default:function(){return GlobalConfig.input.festivalMethod}},disabledMethod:{type:Function,default:function(){return GlobalConfig.input.disabledMethod}},selectDay:{type:[String,Number],default:function(){return GlobalConfig.input.selectDay}},prefixIcon:String,suffixIcon:String,placement:String,transfer:{type:Boolean,default:function(){return GlobalConfig.input.transfer}}},emits:["update:modelValue","input","change","keydown","keyup","wheel","click","focus","blur","clear","search-click","toggle-visible","prev-number","next-number","prefix-click","suffix-click","date-prev","date-today","date-next"],setup:function(e,r){var l=r.slots,g=r.emit,x=xeUtils.uniqueId(),C=useSize(e),u=reactive({inited:!1,panelIndex:0,showPwd:!1,visiblePanel:!1,animatVisible:!1,panelStyle:null,panelPlacement:"",isActivated:!1,inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),f=ref(),n=ref(),S=ref(),k=ref(),M={refElem:f,refInput:n},P={xID:x,props:e,context:r,reactData:u,getRefMaps:function(){return M}},$={},R=function(Z,ie){var le=e.type;return le==="time"?toStringTimeDate(Z):xeUtils.toStringDate(Z,ie)},B=computed(function(){var Z=e.type;return Z==="time"||Z==="datetime"}),V=computed(function(){return["number","integer","float"].indexOf(e.type)>-1}),j=computed(function(){var Z=B.value;return Z||["date","week","month","quarter","year"].indexOf(e.type)>-1}),U=computed(function(){return e.type==="password"}),q=computed(function(){return e.type==="search"}),Y=computed(function(){return xeUtils.toInteger(e.digits)||1}),Q=computed(function(){var Z=e.type,ie=Y.value,le=e.step;return Z==="integer"?xeUtils.toInteger(le)||1:Z==="float"?xeUtils.toNumber(le)||1/Math.pow(10,ie):xeUtils.toNumber(le)||1}),te=computed(function(){var Z=e.type,ie=V.value,le=j.value,xe=U.value;return e.clearable&&(xe||ie||le||Z==="text"||Z==="search")}),re=computed(function(){return e.minDate?xeUtils.toStringDate(e.minDate):null}),oe=computed(function(){return e.maxDate?xeUtils.toStringDate(e.maxDate):null}),se=computed(function(){var Z=e.type;return Z==="time"?"HH:mm:ss":e.valueFormat||(Z==="datetime"?"yyyy-MM-dd HH:mm:ss":"yyyy-MM-dd")}),fe=computed(function(){var Z=e.modelValue,ie=j.value,le=se.value,xe=null;if(Z&&ie){var Me=R(Z,le);xeUtils.isValidDate(Me)&&(xe=Me)}return xe}),ge=computed(function(){var Z=re.value,ie=u.selectMonth;return ie&&Z?ie<=Z:!1}),Ce=computed(function(){var Z=oe.value,ie=u.selectMonth;return ie&&Z?ie>=Z:!1}),$e=computed(function(){var Z=u.datetimePanelValue;return Z?xeUtils.toDateString(Z,"HH:mm:ss"):""}),be=computed(function(){var Z=fe.value,ie=B.value;return Z&&ie?(Z.getHours()*3600+Z.getMinutes()*60+Z.getSeconds())*1e3:0}),ke=computed(function(){var Z=j.value;return Z?e.labelFormat||GlobalConfig.i18n("vxe.input.date.labelFormat."+e.type):null}),Ee=computed(function(){var Z=u.selectMonth,ie=u.currentDate,le=[];if(Z&&ie)for(var xe=ie.getFullYear(),Me=new Date(xeUtils.toNumber((""+Z.getFullYear()).replace(/\d{1}$/,"0")),0,1),Oe=-10;Oe<yearSize-10;Oe++){var Be=xeUtils.getWhatYear(Me,Oe,"first"),nt=Be.getFullYear();le.push({date:Be,isCurrent:!0,isNow:xe===nt,year:nt})}return le}),He=computed(function(){var Z=j.value;if(Z){var ie=u.datePanelType,le=u.selectMonth,xe=Ee.value,Me="",Oe=void 0;return le&&(Me=le.getFullYear(),Oe=le.getMonth()+1),ie==="quarter"?GlobalConfig.i18n("vxe.input.date.quarterLabel",[Me]):ie==="month"?GlobalConfig.i18n("vxe.input.date.monthLabel",[Me]):ie==="year"?xe.length?xe[0].year+" - "+xe[xe.length-1].year:"":GlobalConfig.i18n("vxe.input.date.dayLabel",[Me,Oe?GlobalConfig.i18n("vxe.input.date.m"+Oe):"-"])}return""}),rt=computed(function(){var Z=e.startDay,ie=e.startWeek;return xeUtils.toNumber(xeUtils.isNumber(Z)||xeUtils.isString(Z)?Z:ie)}),ft=computed(function(){var Z=[],ie=j.value;if(ie){var le=rt.value;Z.push(le);for(var xe=0;xe<6;xe++)le>=6?le=0:le++,Z.push(le)}return Z}),bt=computed(function(){var Z=j.value;if(Z){var ie=ft.value;return ie.map(function(le){return{value:le,label:GlobalConfig.i18n("vxe.input.date.weeks.w"+le)}})}return[]}),Ye=computed(function(){var Z=j.value;if(Z){var ie=bt.value;return[{label:GlobalConfig.i18n("vxe.input.date.weeks.w")}].concat(ie)}return[]}),De=computed(function(){var Z=Ee.value;return xeUtils.chunk(Z,4)}),at=function(Z){var ie=Z.getMonth();return ie<3?1:ie<6?2:ie<9?3:4},Ut=computed(function(){var Z=u.selectMonth,ie=u.currentDate,le=[];if(Z&&ie)for(var xe=ie.getFullYear(),Me=at(ie),Oe=xeUtils.getWhatYear(Z,0,"first"),Be=Oe.getFullYear(),nt=-2;nt<quarterSize-2;nt++){var mt=xeUtils.getWhatQuarter(Oe,nt),pt=mt.getFullYear(),qt=at(mt),Xt=pt<Be;le.push({date:mt,isPrev:Xt,isCurrent:pt===Be,isNow:pt===xe&&qt===Me,isNext:!Xt&&pt>Be,quarter:qt})}return le}),je=computed(function(){var Z=Ut.value;return xeUtils.chunk(Z,2)}),tt=computed(function(){var Z=u.selectMonth,ie=u.currentDate,le=[];if(Z&&ie)for(var xe=ie.getFullYear(),Me=ie.getMonth(),Oe=xeUtils.getWhatYear(Z,0,"first").getFullYear(),Be=-4;Be<monthSize-4;Be++){var nt=xeUtils.getWhatYear(Z,0,Be),mt=nt.getFullYear(),pt=nt.getMonth(),qt=mt<Oe;le.push({date:nt,isPrev:qt,isCurrent:mt===Oe,isNow:mt===xe&&pt===Me,isNext:!qt&&mt>Oe,month:pt})}return le}),We=computed(function(){var Z=tt.value;return xeUtils.chunk(Z,4)}),Gt=computed(function(){var Z=u.selectMonth,ie=u.currentDate,le=[];if(Z&&ie)for(var xe=be.value,Me=ft.value,Oe=ie.getFullYear(),Be=ie.getMonth(),nt=ie.getDate(),mt=Z.getFullYear(),pt=Z.getMonth(),qt=Z.getDay(),Xt=-Me.indexOf(qt),dr=new Date(xeUtils.getWhatDay(Z,Xt).getTime()+xe),$r=0;$r<42;$r++){var lr=xeUtils.getWhatDay(dr,$r),en=lr.getFullYear(),Kr=lr.getMonth(),Wr=lr.getDate(),Xr=lr<Z;le.push({date:lr,isPrev:Xr,isCurrent:en===mt&&Kr===pt,isNow:en===Oe&&Kr===Be&&Wr===nt,isNext:!Xr&&pt!==Kr,label:Wr})}return le}),gt=computed(function(){var Z=Gt.value;return xeUtils.chunk(Z,7)}),Mt=computed(function(){var Z=gt.value,ie=rt.value;return Z.map(function(le){var xe=le[0],Me={date:xe.date,isWeekNumber:!0,isPrev:!1,isCurrent:!1,isNow:!1,isNext:!1,label:xeUtils.getYearWeek(xe.date,ie)};return[Me].concat(le)})}),Rt=computed(function(){var Z=[],ie=B.value;if(ie)for(var le=0;le<24;le++)Z.push({value:le,label:(""+le).padStart(2,"0")});return Z}),Jt=computed(function(){var Z=[],ie=B.value;if(ie)for(var le=0;le<60;le++)Z.push({value:le,label:(""+le).padStart(2,"0")});return Z}),ut=computed(function(){var Z=Jt.value;return Z}),Ht=computed(function(){var Z=e.type,ie=e.readonly,le=e.editable;return ie||!le||Z==="week"||Z==="quarter"}),cr=computed(function(){var Z=e.type,ie=u.showPwd,le=V.value,xe=j.value,Me=U.value;return xe||le||Me&&ie||Z==="number"?"text":Z}),Vt=computed(function(){var Z=e.placeholder;return Z?getFuncText(Z):""}),Ne=computed(function(){var Z=e.maxlength,ie=V.value;return ie&&!xeUtils.toNumber(Z)?16:Z}),ot=computed(function(){var Z=e.type,ie=e.immediate;return ie||!(Z==="text"||Z==="number"||Z==="integer"||Z==="float")}),Tt=function(Z){return xeUtils.isString(Z)?Z.replace(/,/g,""):Z};function St(Z,ie){return/^-/.test(""+Z)?xeUtils.toFixed(xeUtils.ceil(Z,ie),ie):xeUtils.toFixed(xeUtils.floor(Z,ie),ie)}function jt(Z){var ie=e.type,le=e.exponential,xe=Ne.value,Me=Y.value,Oe=ie==="float"?St(Z,Me):xeUtils.toValueString(Z);return le&&(Z===Oe||xeUtils.toValueString(Z).toLowerCase()===xeUtils.toNumber(Oe).toExponential())?Z:Oe.slice(0,xe)}var or=function(Z){var ie=u.inputValue;$.dispatchEvent(Z.type,{value:ie},Z)},xr=function(Z,ie){u.inputValue=Z,g("update:modelValue",Z),$.dispatchEvent("input",{value:Z},ie),xeUtils.toValueString(e.modelValue)!==Z&&$.dispatchEvent("change",{value:Z},ie)},st=function(Z,ie){var le=j.value,xe=ot.value;u.inputValue=Z,le||(xe?xr(Z,ie):$.dispatchEvent("input",{value:Z},ie))},yt=function(Z){var ie=Z.target,le=ie.value;st(le,Z)},Ft=function(Z){var ie=ot.value;ie||or(Z)},zt=function(Z){u.isActivated=!0,or(Z)},Ct=function(Z){var ie=e.disabled;if(!ie){var le=u.inputValue;$.dispatchEvent("prefix-click",{value:le},Z)}},gr,Mr=function(){u.visiblePanel=!1,gr=window.setTimeout(function(){u.animatVisible=!1},350)},Br=function(Z,ie){var le=e.type,xe=V.value,Me=j.value;Me&&Mr(),(xe||["text","search","password"].indexOf(le)>-1)&&focus(),$.dispatchEvent("clear",{value:ie},Z)},sn=function(Z){var ie=e.disabled;if(!ie)if(hasClass(Z.currentTarget,"is--clear"))xr("",Z),Br(Z,"");else{var le=u.inputValue;$.dispatchEvent("suffix-click",{value:le},Z)}},Hr=function(Z){var ie=e.type,le=e.valueFormat,xe=ke.value,Me=rt.value,Oe=null,Be="";if(Z&&(Oe=R(Z,le)),xeUtils.isValidDate(Oe)){if(Be=xeUtils.toDateString(Oe,xe,{firstDay:Me}),xe&&ie==="week"){var nt=xeUtils.getWhatWeek(Oe,0,Me,Me);if(nt.getFullYear()<Oe.getFullYear()){var mt=xe.indexOf("yyyy");if(mt>-1){var pt=Number(Be.substring(mt,mt+4));pt&&!isNaN(pt)&&(Be=Be.replace(""+pt,""+(pt-1)))}}}}else Oe=null;u.datePanelValue=Oe,u.datePanelLabel=Be},cn=function(){var Z=j.value,ie=u.inputValue;Z&&(Hr(ie),u.inputValue=u.datePanelLabel)},Ve=function(){var Z=e.type,ie=u.inputValue,le=j.value,xe=Y.value;if(le)cn();else if(Z==="float"&&ie){var Me=St(ie,xe);ie!==Me&&xr(Me,{type:"init"})}},ve=function(Z){return e.max===null||xeUtils.toNumber(Z)<=xeUtils.toNumber(e.max)},lt=function(Z){return e.min===null||xeUtils.toNumber(Z)>=xeUtils.toNumber(e.min)},sr=function(){u.inputValue=u.datePanelLabel},ir=function(Z){var ie=xeUtils.getWhatMonth(Z,0,"first");xeUtils.isEqual(ie,u.selectMonth)||(u.selectMonth=ie)},mr=function(Z){var ie=e.modelValue,le=u.datetimePanelValue,xe=B.value,Me=se.value,Oe=rt.value;if(e.type==="week"){var Be=xeUtils.toNumber(e.selectDay);Z=xeUtils.getWhatWeek(Z,0,Be,Oe)}else xe&&(Z.setHours(le.getHours()),Z.setMinutes(le.getMinutes()),Z.setSeconds(le.getSeconds()));var nt=xeUtils.toDateString(Z,Me,{firstDay:Oe});ir(Z),xeUtils.isEqual(ie,nt)||xr(nt,{type:"update"})},kr=function(){var Z=e.type,ie=e.min,le=e.max,xe=e.exponential,Me=u.inputValue,Oe=u.datetimePanelValue,Be=V.value,nt=j.value,mt=ke.value,pt=Ht.value;if(!pt){if(Be){if(Me){var qt=Z==="integer"?xeUtils.toInteger(Tt(Me)):xeUtils.toNumber(Tt(Me));if(lt(qt)?ve(qt)||(qt=le):qt=ie,xe){var Xt=xeUtils.toValueString(Me).toLowerCase();Xt===xeUtils.toNumber(qt).toExponential()&&(qt=Xt)}xr(jt(qt),{type:"check"})}}else if(nt)if(Me){var dr=R(Me,mt);if(xeUtils.isValidDate(dr))if(Z==="time")dr=xeUtils.toDateString(dr,mt),Me!==dr&&xr(dr,{type:"check"}),u.inputValue=dr;else{var $r=!1,lr=rt.value;if(Z==="datetime"){var en=fe.value;(Me!==xeUtils.toDateString(en,mt)||Me!==xeUtils.toDateString(dr,mt))&&($r=!0,Oe.setHours(dr.getHours()),Oe.setMinutes(dr.getMinutes()),Oe.setSeconds(dr.getSeconds()))}else $r=!0;u.inputValue=xeUtils.toDateString(dr,mt,{firstDay:lr}),$r&&mr(dr)}else sr()}else xr("",{type:"check"})}},Pr=function(Z){var ie=u.inputValue,le=ot.value;le||xr(ie,Z),kr(),u.visiblePanel||(u.isActivated=!1),$.dispatchEvent("blur",{value:ie},Z)},Or=function(Z){var ie=e.readonly,le=e.disabled,xe=u.showPwd;!le&&!ie&&(u.showPwd=!xe),$.dispatchEvent("toggle-visible",{visible:u.showPwd},Z)},Er=function(Z){$.dispatchEvent("search-click",{},Z)},Nr=function(Z,ie){var le=e.min,xe=e.max,Me=e.type,Oe=u.inputValue,Be=Q.value,nt=Me==="integer"?xeUtils.toInteger(Tt(Oe)):xeUtils.toNumber(Tt(Oe)),mt=Z?xeUtils.add(nt,Be):xeUtils.subtract(nt,Be),pt;lt(mt)?ve(mt)?pt=mt:pt=xe:pt=le,st(jt(pt),ie)},un,vn=function(Z){var ie=e.readonly,le=e.disabled;clearTimeout(un),!le&&!ie&&Nr(!1,Z),$.dispatchEvent("next-number",{},Z)},Ze=function(Z){un=window.setTimeout(function(){vn(Z),Ze(Z)},60)},_e=function(Z){var ie=e.readonly,le=e.disabled;clearTimeout(un),!le&&!ie&&Nr(!0,Z),$.dispatchEvent("prev-number",{},Z)},Ie=function(Z){var ie=hasEventKey(Z,EVENT_KEYS.ARROW_UP),le=hasEventKey(Z,EVENT_KEYS.ARROW_DOWN);(ie||le)&&(Z.preventDefault(),ie?_e(Z):vn(Z))},Qe=function(Z){var ie=e.exponential,le=e.controls,xe=V.value;if(xe){var Me=Z.ctrlKey,Oe=Z.shiftKey,Be=Z.altKey,nt=Z.keyCode;!Me&&!Oe&&!Be&&(hasEventKey(Z,EVENT_KEYS.SPACEBAR)||(!ie||nt!==69)&&nt>=65&&nt<=90||nt>=186&&nt<=188||nt>=191)&&Z.preventDefault(),le&&Ie(Z)}or(Z)},ct=function(Z){or(Z)},kt=function(){clearTimeout(un)},er=function(Z){un=window.setTimeout(function(){_e(Z),er(Z)},60)},Kt=function(Z){if(kt(),Z.button===0){var ie=hasClass(Z.currentTarget,"is--prev");ie?_e(Z):vn(Z),un=window.setTimeout(function(){ie?er(Z):Ze(Z)},500)}},Nt=function(Z){var ie=V.value;if(ie&&e.controls&&u.isActivated){var le=Z.deltaY;le>0?vn(Z):le<0&&_e(Z),Z.preventDefault()}or(Z)},Qt=function(Z,ie){u.selectMonth=xeUtils.getWhatMonth(Z,ie,"first")},Cr=function(){var Z=xeUtils.getWhatDay(Date.now(),0,"first");u.currentDate=Z,Qt(Z,0)},Lr=function(){var Z=u.datePanelType;Z==="month"||Z==="quarter"?Z="year":Z="month",u.datePanelType=Z},Tr=function(Z){var ie=e.type,le=u.datePanelType,xe=u.selectMonth,Me=ge.value;Me||(ie==="year"?u.selectMonth=xeUtils.getWhatYear(xe,-yearSize,"first"):ie==="month"||ie==="quarter"?le==="year"?u.selectMonth=xeUtils.getWhatYear(xe,-yearSize,"first"):u.selectMonth=xeUtils.getWhatYear(xe,-1,"first"):le==="year"?u.selectMonth=xeUtils.getWhatYear(xe,-yearSize,"first"):le==="month"?u.selectMonth=xeUtils.getWhatYear(xe,-1,"first"):u.selectMonth=xeUtils.getWhatMonth(xe,-1,"first"),$.dispatchEvent("date-prev",{type:ie},Z))},ln=function(Z){Cr(),mr(u.currentDate),Mr(),$.dispatchEvent("date-today",{type:e.type},Z)},mn=function(Z){var ie=e.type,le=u.datePanelType,xe=u.selectMonth,Me=Ce.value;Me||(ie==="year"?u.selectMonth=xeUtils.getWhatYear(xe,yearSize,"first"):ie==="month"||ie==="quarter"?le==="year"?u.selectMonth=xeUtils.getWhatYear(xe,yearSize,"first"):u.selectMonth=xeUtils.getWhatYear(xe,1,"first"):le==="year"?u.selectMonth=xeUtils.getWhatYear(xe,yearSize,"first"):le==="month"?u.selectMonth=xeUtils.getWhatYear(xe,1,"first"):u.selectMonth=xeUtils.getWhatMonth(xe,1,"first"),$.dispatchEvent("date-next",{type:ie},Z))},Yr=function(Z){var ie=e.disabledMethod,le=u.datePanelType;return ie&&ie({type:le,viewType:le,date:Z.date,$input:P})},Et=function(Z){var ie=e.type,le=u.datePanelType;ie==="month"?le==="year"?(u.datePanelType="month",ir(Z)):(mr(Z),Mr()):ie==="year"?(mr(Z),Mr()):ie==="quarter"?le==="year"?(u.datePanelType="quarter",ir(Z)):(mr(Z),Mr()):le==="month"?(u.datePanelType=ie==="week"?ie:"day",ir(Z)):le==="year"?(u.datePanelType="month",ir(Z)):(mr(Z),Mr())},_r=function(Z){Yr(Z)||Et(Z.date)},Wn=function(Z){if(!Yr({date:Z})){var ie=Gt.value;ie.some(function(le){return xeUtils.isDateSame(le.date,Z,"yyyyMMdd")})||ir(Z),Hr(Z)}},jn=function(Z){if(!Yr({date:Z})){var ie=Ee.value;ie.some(function(le){return xeUtils.isDateSame(le.date,Z,"yyyy")})||ir(Z),Hr(Z)}},xn=function(Z){if(!Yr({date:Z})){var ie=Ut.value;ie.some(function(le){return xeUtils.isDateSame(le.date,Z,"yyyyq")})||ir(Z),Hr(Z)}},zn=function(Z){if(!Yr({date:Z})){var ie=tt.value;ie.some(function(le){return xeUtils.isDateSame(le.date,Z,"yyyyMM")})||ir(Z),Hr(Z)}},li=function(Z){if(!Yr(Z)){var ie=u.datePanelType;ie==="month"?zn(Z.date):ie==="quarter"?xn(Z.date):ie==="year"?jn(Z.date):Wn(Z.date)}},Ri=function(Z){if(Z){var ie=Z.offsetHeight,le=Z.parentNode;le.scrollTop=Z.offsetTop-ie*4}},ci=function(Z){u.datetimePanelValue=new Date(u.datetimePanelValue.getTime()),Ri(Z.currentTarget)},tn=function(Z,ie){u.datetimePanelValue.setHours(ie.value),ci(Z)},On=function(){var Z=fe.value;mr(Z||u.currentDate),Mr()},$n=function(Z,ie){u.datetimePanelValue.setMinutes(ie.value),ci(Z)},In=function(Z,ie){u.datetimePanelValue.setSeconds(ie.value),ci(Z)},vi=function(Z){var ie=u.isActivated,le=u.datePanelValue,xe=u.datePanelType;if(ie){Z.preventDefault();var Me=hasEventKey(Z,EVENT_KEYS.ARROW_LEFT),Oe=hasEventKey(Z,EVENT_KEYS.ARROW_UP),Be=hasEventKey(Z,EVENT_KEYS.ARROW_RIGHT),nt=hasEventKey(Z,EVENT_KEYS.ARROW_DOWN);if(xe==="year"){var mt=xeUtils.getWhatYear(le||Date.now(),0,"first");Me?mt=xeUtils.getWhatYear(mt,-1):Oe?mt=xeUtils.getWhatYear(mt,-4):Be?mt=xeUtils.getWhatYear(mt,1):nt&&(mt=xeUtils.getWhatYear(mt,4)),jn(mt)}else if(xe==="quarter"){var pt=xeUtils.getWhatQuarter(le||Date.now(),0,"first");Me?pt=xeUtils.getWhatQuarter(pt,-1):Oe?pt=xeUtils.getWhatQuarter(pt,-2):Be?pt=xeUtils.getWhatQuarter(pt,1):nt&&(pt=xeUtils.getWhatQuarter(pt,2)),xn(pt)}else if(xe==="month"){var qt=xeUtils.getWhatMonth(le||Date.now(),0,"first");Me?qt=xeUtils.getWhatMonth(qt,-1):Oe?qt=xeUtils.getWhatMonth(qt,-4):Be?qt=xeUtils.getWhatMonth(qt,1):nt&&(qt=xeUtils.getWhatMonth(qt,4)),zn(qt)}else{var Xt=le||xeUtils.getWhatDay(Date.now(),0,"first"),dr=rt.value;Me?Xt=xeUtils.getWhatDay(Xt,-1):Oe?Xt=xeUtils.getWhatWeek(Xt,-1,dr):Be?Xt=xeUtils.getWhatDay(Xt,1):nt&&(Xt=xeUtils.getWhatWeek(Xt,1,dr)),Wn(Xt)}}},Fn=function(Z){var ie=u.isActivated;if(ie){var le=hasEventKey(Z,EVENT_KEYS.PAGE_UP);Z.preventDefault(),le?Tr(Z):mn(Z)}},jo=function(){var Z=e.type,ie=B.value,le=fe.value;["year","quarter","month","week"].indexOf(Z)>-1?u.datePanelType=Z:u.datePanelType="day",u.currentDate=xeUtils.getWhatDay(Date.now(),0,"first"),le?(Qt(le,0),Hr(le)):Cr(),ie&&(u.datetimePanelValue=u.datePanelValue||xeUtils.getWhatDay(Date.now(),0,"first"),nextTick(function(){var xe=k.value;xeUtils.arrayEach(xe.querySelectorAll("li.is--selected"),Ri)}))},Ui=function(){u.panelIndex<getLastZIndex()&&(u.panelIndex=nextZIndex())},xi=function(){return nextTick().then(function(){var Z=e.transfer,ie=e.placement,le=u.panelIndex,xe=n.value,Me=S.value;if(xe&&Me){var Oe=xe.offsetHeight,Be=xe.offsetWidth,nt=Me.offsetHeight,mt=Me.offsetWidth,pt=5,qt={zIndex:le},Xt=getAbsolutePos(xe),dr=Xt.boundingTop,$r=Xt.boundingLeft,lr=Xt.visibleHeight,en=Xt.visibleWidth,Kr="bottom";if(Z){var Wr=$r,Xr=dr+Oe;ie==="top"?(Kr="top",Xr=dr-nt):ie||(Xr+nt+pt>lr&&(Kr="top",Xr=dr-nt),Xr<pt&&(Kr="bottom",Xr=dr+Oe)),Wr+mt+pt>en&&(Wr-=Wr+mt+pt-en),Wr<pt&&(Wr=pt),Object.assign(qt,{left:Wr+"px",top:Xr+"px",minWidth:Be+"px"})}else ie==="top"?(Kr="top",qt.bottom=Oe+"px"):ie||dr+Oe+nt>lr&&dr-Oe-nt>pt&&(Kr="top",qt.bottom=Oe+"px");return u.panelStyle=qt,u.panelPlacement=Kr,nextTick()}})},wi=function(){var Z=e.disabled,ie=u.visiblePanel,le=j.value;!Z&&!ie&&(u.inited||(u.inited=!0),clearTimeout(gr),u.isActivated=!0,u.animatVisible=!0,le&&jo(),setTimeout(function(){u.visiblePanel=!0},10),Ui(),xi())},Jn=function(Z){var ie=e.readonly;ie||(Z.preventDefault(),wi())},vo=function(Z){var ie=j.value;ie&&Jn(Z),or(Z)},Mo=function(Z){var ie=e.disabled,le=u.visiblePanel,xe=u.isActivated,Me=j.value,Oe=f.value,Be=S.value;!ie&&xe&&(u.isActivated=getEventTargetNode(Z,Oe).flag||getEventTargetNode(Z,Be).flag,u.isActivated||(Me?le&&(Mr(),kr()):kr()))},yo=function(Z){var ie=e.clearable,le=e.disabled,xe=u.visiblePanel,Me=j.value;if(!le){var Oe=hasEventKey(Z,EVENT_KEYS.TAB),Be=hasEventKey(Z,EVENT_KEYS.DELETE),nt=hasEventKey(Z,EVENT_KEYS.ESCAPE),mt=hasEventKey(Z,EVENT_KEYS.ENTER),pt=hasEventKey(Z,EVENT_KEYS.ARROW_LEFT),qt=hasEventKey(Z,EVENT_KEYS.ARROW_UP),Xt=hasEventKey(Z,EVENT_KEYS.ARROW_RIGHT),dr=hasEventKey(Z,EVENT_KEYS.ARROW_DOWN),$r=hasEventKey(Z,EVENT_KEYS.PAGE_UP),lr=hasEventKey(Z,EVENT_KEYS.PAGE_DOWN),en=pt||qt||Xt||dr,Kr=u.isActivated;Oe?(Kr&&kr(),Kr=!1,u.isActivated=Kr):en?Me&&Kr&&(xe?vi(Z):(qt||dr)&&Jn(Z)):mt?Me&&(xe?u.datePanelValue?Et(u.datePanelValue):Mr():Kr&&Jn(Z)):($r||lr)&&Me&&Kr&&Fn(Z),Oe||nt?xe&&Mr():Be&&ie&&Kr&&Br(Z,null)}},Co=function(Z){var ie=e.disabled,le=u.visiblePanel;if(!ie&&le){var xe=S.value;getEventTargetNode(Z,xe).flag?xi():(Mr(),kr())}},ji=function(){var Z=u.isActivated,ie=u.visiblePanel;ie?(Mr(),kr()):Z&&kr()},ti=function(Z,ie){var le=e.festivalMethod;if(le){var xe=u.datePanelType,Me=le({type:xe,viewType:xe,date:Z.date,$input:P}),Oe=Me?xeUtils.isString(Me)?{label:Me}:Me:{},Be=Oe.extra?xeUtils.isString(Oe.extra)?{label:Oe.extra}:Oe.extra:null,nt=[h$1("span",{class:["vxe-input--date-label",{"is-notice":Oe.notice}]},Be&&Be.label?[h$1("span",ie),h$1("span",{class:["vxe-input--date-label--extra",Be.important?"is-important":"",Be.className],style:Be.style},xeUtils.toValueString(Be.label))]:ie)],mt=Oe.label;if(mt){var pt=xeUtils.toValueString(mt).split(",");nt.push(h$1("span",{class:["vxe-input--date-festival",Oe.important?"is-important":"",Oe.className],style:Oe.style},[pt.length>1?h$1("span",{class:["vxe-input--date-festival--overlap","overlap--"+pt.length]},pt.map(function(qt){return h$1("span",qt.substring(0,3))})):h$1("span",{class:"vxe-input--date-festival--label"},pt[0].substring(0,3))]))}return nt}return ie},Qn=function(){var Z=u.datePanelType,ie=u.datePanelValue,le=fe.value,xe=bt.value,Me=gt.value,Oe="yyyyMMdd";return[h$1("table",{class:"vxe-input--date-"+Z+"-view",cellspacing:0,cellpadding:0,border:0},[h$1("thead",[h$1("tr",xe.map(function(Be){return h$1("th",Be.label)}))]),h$1("tbody",Me.map(function(Be){return h$1("tr",Be.map(function(nt){return h$1("td",{class:{"is--prev":nt.isPrev,"is--current":nt.isCurrent,"is--now":nt.isNow,"is--next":nt.isNext,"is--disabled":Yr(nt),"is--selected":xeUtils.isDateSame(le,nt.date,Oe),"is--hover":xeUtils.isDateSame(ie,nt.date,Oe)},onClick:function(){return _r(nt)},onMouseenter:function(){return li(nt)}},ti(nt,nt.label))}))}))])]},la=function(){var Z=u.datePanelType,ie=u.datePanelValue,le=fe.value,xe=Ye.value,Me=Mt.value,Oe="yyyyMMdd";return[h$1("table",{class:"vxe-input--date-"+Z+"-view",cellspacing:0,cellpadding:0,border:0},[h$1("thead",[h$1("tr",xe.map(function(Be){return h$1("th",Be.label)}))]),h$1("tbody",Me.map(function(Be){var nt=Be.some(function(pt){return xeUtils.isDateSame(le,pt.date,Oe)}),mt=Be.some(function(pt){return xeUtils.isDateSame(ie,pt.date,Oe)});return h$1("tr",Be.map(function(pt){return h$1("td",{class:{"is--prev":pt.isPrev,"is--current":pt.isCurrent,"is--now":pt.isNow,"is--next":pt.isNext,"is--disabled":Yr(pt),"is--selected":nt,"is--hover":mt},onClick:function(){return _r(pt)},onMouseenter:function(){return li(pt)}},ti(pt,pt.label))}))}))])]},Sa=function(){var Z=u.datePanelType,ie=u.datePanelValue,le=fe.value,xe=We.value,Me="yyyyMM";return[h$1("table",{class:"vxe-input--date-"+Z+"-view",cellspacing:0,cellpadding:0,border:0},[h$1("tbody",xe.map(function(Oe){return h$1("tr",Oe.map(function(Be){return h$1("td",{class:{"is--prev":Be.isPrev,"is--current":Be.isCurrent,"is--now":Be.isNow,"is--next":Be.isNext,"is--disabled":Yr(Be),"is--selected":xeUtils.isDateSame(le,Be.date,Me),"is--hover":xeUtils.isDateSame(ie,Be.date,Me)},onClick:function(){return _r(Be)},onMouseenter:function(){return li(Be)}},ti(Be,GlobalConfig.i18n("vxe.input.date.months.m"+Be.month)))}))}))])]},Ki=function(){var Z=u.datePanelType,ie=u.datePanelValue,le=fe.value,xe=je.value,Me="yyyyq";return[h$1("table",{class:"vxe-input--date-"+Z+"-view",cellspacing:0,cellpadding:0,border:0},[h$1("tbody",xe.map(function(Oe){return h$1("tr",Oe.map(function(Be){return h$1("td",{class:{"is--prev":Be.isPrev,"is--current":Be.isCurrent,"is--now":Be.isNow,"is--next":Be.isNext,"is--disabled":Yr(Be),"is--selected":xeUtils.isDateSame(le,Be.date,Me),"is--hover":xeUtils.isDateSame(ie,Be.date,Me)},onClick:function(){return _r(Be)},onMouseenter:function(){return li(Be)}},ti(Be,GlobalConfig.i18n("vxe.input.date.quarters.q"+Be.quarter)))}))}))])]},uo=function(){var Z=u.datePanelType,ie=u.datePanelValue,le=fe.value,xe=De.value,Me="yyyy";return[h$1("table",{class:"vxe-input--date-"+Z+"-view",cellspacing:0,cellpadding:0,border:0},[h$1("tbody",xe.map(function(Oe){return h$1("tr",Oe.map(function(Be){return h$1("td",{class:{"is--disabled":Yr(Be),"is--current":Be.isCurrent,"is--now":Be.isNow,"is--selected":xeUtils.isDateSame(le,Be.date,Me),"is--hover":xeUtils.isDateSame(ie,Be.date,Me)},onClick:function(){return _r(Be)},onMouseenter:function(){return li(Be)}},ti(Be,Be.year))}))}))])]},Da=function(){var Z=u.datePanelType;switch(Z){case"week":return la();case"month":return Sa();case"quarter":return Ki();case"year":return uo()}return Qn()},ki=function(){var Z=u.datePanelType,ie=ge.value,le=Ce.value,xe=He.value;return[h$1("div",{class:"vxe-input--date-picker-header"},[h$1("div",{class:"vxe-input--date-picker-type-wrapper"},[Z==="year"?h$1("span",{class:"vxe-input--date-picker-label"},xe):h$1("span",{class:"vxe-input--date-picker-btn",onClick:Lr},xe)]),h$1("div",{class:"vxe-input--date-picker-btn-wrapper"},[h$1("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-prev-btn",{"is--disabled":ie}],onClick:Tr},[h$1("i",{class:"vxe-icon--caret-left"})]),h$1("span",{class:"vxe-input--date-picker-btn vxe-input--date-picker-current-btn",onClick:ln},[h$1("i",{class:"vxe-icon--dot"})]),h$1("span",{class:["vxe-input--date-picker-btn vxe-input--date-picker-next-btn",{"is--disabled":le}],onClick:mn},[h$1("i",{class:"vxe-icon--caret-right"})])])]),h$1("div",{class:"vxe-input--date-picker-body"},Da())]},Ii=function(){var Z=u.datetimePanelValue,ie=$e.value,le=Rt.value,xe=Jt.value,Me=ut.value;return[h$1("div",{class:"vxe-input--time-picker-header"},[h$1("span",{class:"vxe-input--time-picker-title"},ie),h$1("button",{class:"vxe-input--time-picker-confirm",type:"button",onClick:On},GlobalConfig.i18n("vxe.button.confirm"))]),h$1("div",{ref:k,class:"vxe-input--time-picker-body"},[h$1("ul",{class:"vxe-input--time-picker-hour-list"},le.map(function(Oe,Be){return h$1("li",{key:Be,class:{"is--selected":Z&&Z.getHours()===Oe.value},onClick:function(nt){return tn(nt,Oe)}},Oe.label)})),h$1("ul",{class:"vxe-input--time-picker-minute-list"},xe.map(function(Oe,Be){return h$1("li",{key:Be,class:{"is--selected":Z&&Z.getMinutes()===Oe.value},onClick:function(nt){return $n(nt,Oe)}},Oe.label)})),h$1("ul",{class:"vxe-input--time-picker-second-list"},Me.map(function(Oe,Be){return h$1("li",{key:Be,class:{"is--selected":Z&&Z.getSeconds()===Oe.value},onClick:function(nt){return In(nt,Oe)}},Oe.label)}))])]},Ra=function(){var Z,ie=e.type,le=e.transfer,xe=u.inited,Me=u.animatVisible,Oe=u.visiblePanel,Be=u.panelPlacement,nt=u.panelStyle,mt=C.value,pt=j.value,qt=[];return pt?(ie==="datetime"?qt.push(h$1("div",{class:"vxe-input--panel-layout-wrapper"},[h$1("div",{class:"vxe-input--panel-left-wrapper"},ki()),h$1("div",{class:"vxe-input--panel-right-wrapper"},Ii())])):ie==="time"?qt.push(h$1("div",{class:"vxe-input--panel-wrapper"},Ii())):qt.push(h$1("div",{class:"vxe-input--panel-wrapper"},ki())),h$1(Teleport,{to:"body",disabled:le?!xe:!0},[h$1("div",{ref:S,class:["vxe-table--ignore-clear vxe-input--panel","type--"+ie,(Z={},Z["size--"+mt]=mt,Z["is--transfer"]=le,Z["animat--leave"]=Me,Z["animat--enter"]=Oe,Z)],placement:Be,style:nt},qt)])):null},Wi=function(){return h$1("span",{class:"vxe-input--number-suffix"},[h$1("span",{class:"vxe-input--number-prev is--prev",onMousedown:Kt,onMouseup:kt,onMouseleave:kt},[h$1("i",{class:["vxe-input--number-prev-icon",GlobalConfig.icon.INPUT_PREV_NUM]})]),h$1("span",{class:"vxe-input--number-next is--next",onMousedown:Kt,onMouseup:kt,onMouseleave:kt},[h$1("i",{class:["vxe-input--number-next-icon",GlobalConfig.icon.INPUT_NEXT_NUM]})])])},si=function(){return h$1("span",{class:"vxe-input--date-picker-suffix",onClick:Jn},[h$1("i",{class:["vxe-input--date-picker-icon",GlobalConfig.icon.INPUT_DATE]})])},ua=function(){return h$1("span",{class:"vxe-input--search-suffix",onClick:Er},[h$1("i",{class:["vxe-input--search-icon",GlobalConfig.icon.INPUT_SEARCH]})])},Mi=function(){var Z=u.showPwd;return h$1("span",{class:"vxe-input--password-suffix",onClick:Or},[h$1("i",{class:["vxe-input--password-icon",Z?GlobalConfig.icon.INPUT_SHOW_PWD:GlobalConfig.icon.INPUT_PWD]})])},ho=function(){var Z=e.prefixIcon,ie=l.prefix,le=[];return ie?le.push(h$1("span",{class:"vxe-input--prefix-icon"},ie({}))):Z&&le.push(h$1("i",{class:["vxe-input--prefix-icon",Z]})),le.length?h$1("span",{class:"vxe-input--prefix",onClick:Ct},le):null},bo=function(){var Z=e.disabled,ie=e.suffixIcon,le=u.inputValue,xe=l.suffix,Me=te.value,Oe=[];return xe?Oe.push(h$1("span",{class:"vxe-input--suffix-icon"},xe({}))):ie&&Oe.push(h$1("i",{class:["vxe-input--suffix-icon",ie]})),Me&&Oe.push(h$1("i",{class:["vxe-input--clear-icon",GlobalConfig.icon.INPUT_CLEAR]})),Oe.length?h$1("span",{class:["vxe-input--suffix",{"is--clear":Me&&!Z&&!(le===""||xeUtils.eqNull(le))}],onClick:sn},Oe):null},La=function(){var Z=e.controls,ie=V.value,le=j.value,xe=U.value,Me=q.value,Oe;return xe?Oe=Mi():ie?Z&&(Oe=Wi()):le?Oe=si():Me&&(Oe=ua()),Oe?h$1("span",{class:"vxe-input--extra-suffix"},[Oe]):null};$={dispatchEvent:function(Z,ie,le){g(Z,Object.assign({$input:P,$event:le},ie))},focus:function(){var Z=n.value;return u.isActivated=!0,Z.focus(),nextTick()},blur:function(){var Z=n.value;return Z.blur(),u.isActivated=!1,nextTick()}},Object.assign(P,$),watch(function(){return e.modelValue},function(Z){u.inputValue=Z,cn()}),watch(function(){return e.type},function(){Object.assign(u,{inputValue:e.modelValue,datetimePanelValue:null,datePanelValue:null,datePanelLabel:"",datePanelType:"day",selectMonth:null,currentDate:null}),Ve()}),watch(ke,function(){var Z=j.value;Z&&(Hr(u.datePanelValue),u.inputValue=u.datePanelLabel)}),nextTick(function(){GlobalEvent.on(P,"mousewheel",Co),GlobalEvent.on(P,"mousedown",Mo),GlobalEvent.on(P,"keydown",yo),GlobalEvent.on(P,"blur",ji)}),onUnmounted(function(){kt(),GlobalEvent.off(P,"mousewheel"),GlobalEvent.off(P,"mousedown"),GlobalEvent.off(P,"keydown"),GlobalEvent.off(P,"blur")}),Ve();var Yo=function(){var Z,ie=e.className,le=e.controls,xe=e.type,Me=e.align,Oe=e.name,Be=e.disabled,nt=e.readonly,mt=e.autocomplete,pt=u.inputValue,qt=u.visiblePanel,Xt=u.isActivated,dr=C.value,$r=j.value,lr=Ht.value,en=Ne.value,Kr=cr.value,Wr=Vt.value,Xr=[],pn=ho(),Dn=bo();return pn&&Xr.push(pn),Xr.push(h$1("input",{ref:n,class:"vxe-input--inner",value:pt,name:Oe,type:Kr,placeholder:Wr,maxlength:en,readonly:lr,disabled:Be,autocomplete:mt,onKeydown:Qe,onKeyup:ct,onWheel:Nt,onClick:vo,onInput:yt,onChange:Ft,onFocus:zt,onBlur:Pr})),Dn&&Xr.push(Dn),Xr.push(La()),$r&&Xr.push(Ra()),h$1("div",{ref:f,class:["vxe-input","type--"+xe,ie,(Z={},Z["size--"+dr]=dr,Z["is--"+Me]=Me,Z["is--controls"]=le,Z["is--prefix"]=!!pn,Z["is--suffix"]=!!Dn,Z["is--readonly"]=nt,Z["is--visivle"]=qt,Z["is--disabled"]=Be,Z["is--active"]=Xt,Z)]},Xr)};return P.renderVN=Yo,P},render:function(){return this.renderVN()}}),VxeCheckboxComponent=defineComponent({name:"VxeCheckbox",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number],default:null},indeterminate:Boolean,title:[String,Number],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},content:[String,Number],disabled:Boolean,size:{type:String,default:function(){return GlobalConfig.checkbox.size||GlobalConfig.size}}},emits:["update:modelValue","change"],setup:function(e,r){var l=r.slots,g=r.emit,x=xeUtils.uniqueId(),C={xID:x,props:e,context:r},u={},f=useSize(e),n=inject("$xecheckboxgroup",null),S=computed(function(){return e.disabled||n&&n.props.disabled}),k=computed(function(){return n?xeUtils.includes(n.props.modelValue,e.label):e.modelValue===e.checkedValue}),M=function($){var R=e.checkedValue,B=e.uncheckedValue,V=S.value;if(!V){var j=$.target.checked,U=j?R:B,q={checked:j,value:U,label:e.label};n?n.handleChecked(q,$):(g("update:modelValue",U),u.dispatchEvent("change",q,$))}};u={dispatchEvent:function($,R,B){g($,Object.assign({$checkbox:C,$event:B},R))}},Object.assign(C,u);var P=function(){var $,R=f.value,B=S.value;return h$1("label",{class:["vxe-checkbox",($={},$["size--"+R]=R,$["is--indeterminate"]=e.indeterminate,$["is--disabled"]=B,$)],title:e.title},[h$1("input",{class:"vxe-checkbox--input",type:"checkbox",disabled:B,checked:k.value,onChange:M}),h$1("span",{class:"vxe-checkbox--icon"}),h$1("span",{class:"vxe-checkbox--label"},l.default?l.default({}):getFuncText(e.content))])};return C.renderVN=P,C},render:function(){return this.renderVN()}});function isOptionVisible(e){return e.visible!==!1}function getOptUniqueId(){return xeUtils.uniqueId("opt_")}var VxeSelectComponent=defineComponent({name:"VxeSelect",props:{modelValue:null,clearable:Boolean,placeholder:String,loading:Boolean,disabled:Boolean,multiple:Boolean,multiCharOverflow:{type:[Number,String],default:function(){return GlobalConfig.select.multiCharOverflow}},prefixIcon:String,placement:String,options:Array,optionProps:Object,optionGroups:Array,optionGroupProps:Object,className:[String,Function],size:{type:String,default:function(){return GlobalConfig.select.size||GlobalConfig.size}},emptyText:String,optionId:{type:String,default:function(){return GlobalConfig.select.optionId}},optionKey:Boolean,transfer:{type:Boolean,default:function(){return GlobalConfig.select.transfer}}},emits:["update:modelValue","change","clear"],setup:function(e,r){var l=r.slots,g=r.emit,x=xeUtils.uniqueId(),C=useSize(e),u=reactive({inited:!1,staticOptions:[],fullGroupList:[],fullOptionList:[],visibleGroupList:[],visibleOptionList:[],panelIndex:0,panelStyle:{},panelPlacement:null,currentValue:null,visiblePanel:!1,animatVisible:!1,isActivated:!1}),f=ref(),n=ref(),S=ref(),k=ref(),M={refElem:f},P={xID:x,props:e,context:r,reactData:u,getRefMaps:function(){return M}},$={},R=computed(function(){return e.optionProps||{}}),B=computed(function(){return e.optionGroupProps||{}}),V=computed(function(){var Ne=R.value;return Ne.label||"label"}),j=computed(function(){var Ne=R.value;return Ne.value||"value"}),U=computed(function(){var Ne=B.value;return Ne.label||"label"}),q=computed(function(){var Ne=B.value;return Ne.options||"options"}),Y=computed(function(){return u.fullGroupList.some(function(Ne){return Ne.options&&Ne.options.length})}),Q=computed(function(){return xeUtils.toNumber(e.multiCharOverflow)}),te=function(Ne,ot){return Ne&&(xeUtils.isString(Ne)&&(Ne=l[Ne]||null),xeUtils.isFunction(Ne))?Ne(ot):[]},re=function(Ne){var ot=u.fullOptionList,Tt=u.fullGroupList,St=Y.value,jt=j.value;if(St)for(var or=0;or<Tt.length;or++){var xr=Tt[or];if(xr.options)for(var st=0;st<xr.options.length;st++){var yt=xr.options[st];if(Ne===yt[jt])return yt}}return ot.find(function(Ft){return Ne===Ft[jt]})},oe=function(Ne){var ot=V.value,Tt=re(Ne);return xeUtils.toValueString(Tt?Tt[ot]:Ne)},se=computed(function(){var Ne=e.modelValue,ot=e.multiple,Tt=Q.value;return Ne&&ot?(xeUtils.isArray(Ne)?Ne:[Ne]).map(function(St){var jt=oe(St);return Tt>0&&jt.length>Tt?jt.substring(0,Tt)+"...":jt}).join(", "):oe(Ne)}),fe=function(){return e.optionId||"_X_ID"},ge=function(Ne){var ot=Ne[fe()];return ot?encodeURIComponent(ot):""},Ce=function(){var Ne=u.fullOptionList,ot=u.fullGroupList,Tt=Y.value;return Tt?u.visibleGroupList=ot.filter(isOptionVisible):u.visibleOptionList=Ne.filter(isOptionVisible),nextTick()},$e=function(){var Ne=u.fullOptionList,ot=u.fullGroupList,Tt=q.value,St=fe(),jt=function(or){ge(or)||(or[St]=getOptUniqueId())};ot.length?ot.forEach(function(or){jt(or),or[Tt]&&or[Tt].forEach(jt)}):Ne.length&&Ne.forEach(jt),Ce()},be=function(Ne){var ot=j.value;Ne&&(u.currentValue=Ne[ot])},ke=function(Ne,ot){return nextTick().then(function(){if(Ne){var Tt=S.value,St=k.value,jt=St.querySelector("[optid='"+ge(Ne)+"']");if(Tt&&jt){var or=Tt.offsetHeight,xr=5;ot?jt.offsetTop+jt.offsetHeight-Tt.scrollTop>or&&(Tt.scrollTop=jt.offsetTop+jt.offsetHeight-or):(jt.offsetTop+xr<Tt.scrollTop||jt.offsetTop+xr>Tt.scrollTop+Tt.clientHeight)&&(Tt.scrollTop=jt.offsetTop-xr)}}})},Ee=function(){u.panelIndex<getLastZIndex()&&(u.panelIndex=nextZIndex())},He=function(){return nextTick().then(function(){var Ne=e.transfer,ot=e.placement,Tt=u.panelIndex,St=f.value,jt=k.value;if(jt&&St){var or=St.offsetHeight,xr=St.offsetWidth,st=jt.offsetHeight,yt=jt.offsetWidth,Ft=5,zt={zIndex:Tt},Ct=getAbsolutePos(St),gr=Ct.boundingTop,Mr=Ct.boundingLeft,Br=Ct.visibleHeight,sn=Ct.visibleWidth,Hr="bottom";if(Ne){var cn=Mr,Ve=gr+or;ot==="top"?(Hr="top",Ve=gr-st):ot||(Ve+st+Ft>Br&&(Hr="top",Ve=gr-st),Ve<Ft&&(Hr="bottom",Ve=gr+or)),cn+yt+Ft>sn&&(cn-=cn+yt+Ft-sn),cn<Ft&&(cn=Ft),Object.assign(zt,{left:cn+"px",top:Ve+"px",minWidth:xr+"px"})}else ot==="top"?(Hr="top",zt.bottom=or+"px"):ot||gr+or+st>Br&&gr-or-st>Ft&&(Hr="top",zt.bottom=or+"px");return u.panelStyle=zt,u.panelPlacement=Hr,nextTick()}})},rt,ft=function(){var Ne=e.loading,ot=e.disabled;!Ne&&!ot&&(clearTimeout(rt),u.inited||(u.inited=!0),u.isActivated=!0,u.animatVisible=!0,setTimeout(function(){var Tt=e.modelValue,St=e.multiple,jt=re(St&&Tt?Tt[0]:Tt);u.visiblePanel=!0,jt&&(be(jt),ke(jt))},10),Ee(),He())},bt=function(){u.visiblePanel=!1,rt=window.setTimeout(function(){u.animatVisible=!1},350)},Ye=function(Ne,ot){ot!==e.modelValue&&(g("update:modelValue",ot),$.dispatchEvent("change",{value:ot},Ne))},De=function(Ne,ot){Ye(Ne,ot),$.dispatchEvent("clear",{value:ot},Ne)},at=function(Ne,ot){De(ot,null),bt()},Ut=function(Ne,ot){var Tt=e.modelValue,St=e.multiple;if(St){var jt=void 0;Tt?Tt.indexOf(ot)===-1?jt=Tt.concat([ot]):jt=Tt.filter(function(or){return or!==ot}):jt=[ot],Ye(Ne,jt)}else Ye(Ne,ot),bt()},je=function(Ne){var ot=e.disabled,Tt=u.visiblePanel;if(!ot&&Tt){var St=k.value;getEventTargetNode(Ne,St).flag?He():bt()}},tt=function(Ne){var ot=e.disabled,Tt=u.visiblePanel;if(!ot){var St=f.value,jt=k.value;u.isActivated=getEventTargetNode(Ne,St).flag||getEventTargetNode(Ne,jt).flag,Tt&&!u.isActivated&&bt()}},We=function(Ne,ot){var Tt=u.visibleOptionList,St=u.visibleGroupList,jt=Y.value,or=j.value,xr=q.value,st,yt,Ft,zt;if(jt)for(var Ct=0;Ct<St.length;Ct++){var gr=St[Ct],Mr=gr[xr],Br=gr.disabled;if(Mr)for(var sn=0;sn<Mr.length;sn++){var Hr=Mr[sn],cn=isOptionVisible(Hr),Ve=Br||Hr.disabled;if(!st&&!Ve&&(st=Hr),zt&&cn&&!Ve&&(Ft=Hr,!ot))return{offsetOption:Ft};if(Ne===Hr[or]){if(zt=Hr,ot)return{offsetOption:yt}}else cn&&!Ve&&(yt=Hr)}}else for(var sn=0;sn<Tt.length;sn++){var Hr=Tt[sn],Ve=Hr.disabled;if(!st&&!Ve&&(st=Hr),zt&&!Ve&&(Ft=Hr,!ot))return{offsetOption:Ft};if(Ne===Hr[or]){if(zt=Hr,ot)return{offsetOption:yt}}else Ve||(yt=Hr)}return{firstOption:st}},Gt=function(Ne){var ot=e.clearable,Tt=e.disabled,St=u.visiblePanel,jt=u.currentValue;if(!Tt){var or=hasEventKey(Ne,EVENT_KEYS.TAB),xr=hasEventKey(Ne,EVENT_KEYS.ENTER),st=hasEventKey(Ne,EVENT_KEYS.ESCAPE),yt=hasEventKey(Ne,EVENT_KEYS.ARROW_UP),Ft=hasEventKey(Ne,EVENT_KEYS.ARROW_DOWN),zt=hasEventKey(Ne,EVENT_KEYS.DELETE),Ct=hasEventKey(Ne,EVENT_KEYS.SPACEBAR);if(or&&(u.isActivated=!1),St)if(st||or)bt();else if(xr)Ne.preventDefault(),Ne.stopPropagation(),Ut(Ne,jt);else if(yt||Ft){Ne.preventDefault();var gr=We(jt,yt),Mr=gr.firstOption,Br=gr.offsetOption;!Br&&!re(jt)&&(Br=Mr),be(Br),ke(Br,Ft)}else Ct&&Ne.preventDefault();else(yt||Ft||xr||Ct)&&u.isActivated&&(Ne.preventDefault(),ft());u.isActivated&&zt&&ot&&De(Ne,null)}},gt=function(){bt()},Mt=function(){e.disabled||(u.isActivated=!0)},Rt=function(){u.isActivated=!1},Jt=function(Ne){var ot=Ne.$event;ot.preventDefault(),u.visiblePanel?bt():ft()},ut=function(Ne,ot){var Tt=e.optionKey,St=e.modelValue,jt=e.multiple,or=u.currentValue,xr=V.value,st=j.value,yt=Y.value;return Ne.map(function(Ft,zt){var Ct=Ft.slots,gr=Ft.className,Mr=!yt||isOptionVisible(Ft),Br=ot&&ot.disabled||Ft.disabled,sn=Ft[st],Hr=ge(Ft),cn=Ct?Ct.default:null;return Mr?h$1("div",{key:Tt?Hr:zt,class:["vxe-select-option",gr?xeUtils.isFunction(gr)?gr({option:Ft,$select:P}):gr:"",{"is--disabled":Br,"is--selected":jt?St&&St.indexOf(sn)>-1:St===sn,"is--hover":or===sn}],optid:Hr,onMousedown:function(Ve){var ve=Ve.button===0;ve&&Ve.stopPropagation()},onClick:function(Ve){Br||Ut(Ve,sn)},onMouseenter:function(){Br||be(Ft)}},cn?te(cn,{option:Ft,$select:P}):formatText(getFuncText(Ft[xr]))):null})},Ht=function(){var Ne=e.optionKey,ot=u.visibleGroupList,Tt=U.value,St=q.value;return ot.map(function(jt,or){var xr=jt.slots,st=jt.className,yt=ge(jt),Ft=jt.disabled,zt=xr?xr.default:null;return h$1("div",{key:Ne?yt:or,class:["vxe-optgroup",st?xeUtils.isFunction(st)?st({option:jt,$select:P}):st:"",{"is--disabled":Ft}],optid:yt},[h$1("div",{class:"vxe-optgroup--title"},zt?te(zt,{option:jt,$select:P}):getFuncText(jt[Tt])),h$1("div",{class:"vxe-optgroup--wrapper"},ut(jt[St]||[],jt))])})},cr=function(){var Ne=u.visibleGroupList,ot=u.visibleOptionList,Tt=Y.value;if(Tt){if(Ne.length)return Ht()}else if(ot.length)return ut(ot);return[h$1("div",{class:"vxe-select--empty-placeholder"},e.emptyText||GlobalConfig.i18n("vxe.select.emptyText"))]};$={dispatchEvent:function(Ne,ot,Tt){g(Ne,Object.assign({$select:P,$event:Tt},ot))},isPanelVisible:function(){return u.visiblePanel},togglePanel:function(){return u.visiblePanel?bt():ft(),nextTick()},hidePanel:function(){return u.visiblePanel&&bt(),nextTick()},showPanel:function(){return u.visiblePanel||ft(),nextTick()},refreshOption:Ce,focus:function(){var Ne=n.value;return u.isActivated=!0,Ne.blur(),nextTick()},blur:function(){var Ne=n.value;return Ne.blur(),u.isActivated=!1,nextTick()}},Object.assign(P,$),watch(function(){return u.staticOptions},function(Ne){Ne.some(function(ot){return ot.options&&ot.options.length})?(u.fullOptionList=[],u.fullGroupList=Ne):(u.fullGroupList=[],u.fullOptionList=Ne||[]),$e()}),watch(function(){return e.options},function(Ne){u.fullGroupList=[],u.fullOptionList=Ne||[],$e()}),watch(function(){return e.optionGroups},function(Ne){u.fullOptionList=[],u.fullGroupList=Ne||[],$e()}),onMounted(function(){nextTick(function(){var Ne=e.options,ot=e.optionGroups;ot?u.fullGroupList=ot:Ne&&(u.fullOptionList=Ne),$e()}),GlobalEvent.on(P,"mousewheel",je),GlobalEvent.on(P,"mousedown",tt),GlobalEvent.on(P,"keydown",Gt),GlobalEvent.on(P,"blur",gt)}),onUnmounted(function(){GlobalEvent.off(P,"mousewheel"),GlobalEvent.off(P,"mousedown"),GlobalEvent.off(P,"keydown"),GlobalEvent.off(P,"blur")});var Vt=function(){var Ne,ot,Tt=e.className,St=e.transfer,jt=e.disabled,or=e.loading,xr=u.inited,st=u.isActivated,yt=u.visiblePanel,Ft=C.value,zt=se.value,Ct=l.prefix;return h$1("div",{ref:f,class:["vxe-select",Tt?xeUtils.isFunction(Tt)?Tt({$select:P}):Tt:"",(Ne={},Ne["size--"+Ft]=Ft,Ne["is--visivle"]=yt,Ne["is--disabled"]=jt,Ne["is--loading"]=or,Ne["is--active"]=st,Ne)]},[h$1("div",{class:"vxe-select-slots",ref:"hideOption"},l.default?l.default({}):[]),h$1(resolveComponent("vxe-input"),{ref:n,clearable:e.clearable,placeholder:e.placeholder,readonly:!0,disabled:jt,type:"text",prefixIcon:e.prefixIcon,suffixIcon:or?GlobalConfig.icon.SELECT_LOADED:yt?GlobalConfig.icon.SELECT_OPEN:GlobalConfig.icon.SELECT_CLOSE,modelValue:zt,onClear:at,onClick:Jt,onFocus:Mt,onBlur:Rt,onSuffixClick:Jt},Ct?{prefix:function(){return Ct({})}}:{}),h$1(Teleport,{to:"body",disabled:St?!xr:!0},[h$1("div",{ref:k,class:["vxe-table--ignore-clear vxe-select--panel",(ot={},ot["size--"+Ft]=Ft,ot["is--transfer"]=St,ot["animat--leave"]=!or&&u.animatVisible,ot["animat--enter"]=!or&&yt,ot)],placement:u.panelPlacement,style:u.panelStyle},xr?[h$1("div",{ref:S,class:"vxe-select-option--wrapper"},cr())]:[])])])};return P.renderVN=Vt,provide("$xeselect",P),P},render:function(){return this.renderVN()}}),ExportPanelComponent=defineComponent({name:"VxeExportPanel",props:{defaultOptions:Object,storeData:Object},setup:function(e){var r=inject("$xetable",{}),l=r.getComputeMaps(),g=l.computeExportOpts,x=l.computePrintOpts,C=reactive({isAll:!1,isIndeterminate:!1,loading:!1}),u=ref(),f=ref(),n=ref(),S=computed(function(){var oe=e.storeData;return oe.columns.every(function(se){return se.checked})}),k=computed(function(){var oe=e.defaultOptions;return["html","xml","xlsx","pdf"].indexOf(oe.type)>-1}),M=computed(function(){var oe=e.storeData,se=e.defaultOptions;return!se.original&&se.mode==="current"&&(oe.isPrint||["html","xlsx"].indexOf(se.type)>-1)}),P=computed(function(){var oe=e.defaultOptions;return!oe.original&&["xlsx"].indexOf(oe.type)>-1}),$=function(oe){var se=e.storeData,fe=xeUtils.findTree(se.columns,function(Ce){return Ce===oe});if(fe&&fe.parent){var ge=fe.parent;ge.children&&ge.children.length&&(ge.checked=ge.children.every(function(Ce){return Ce.checked}),ge.halfChecked=!ge.checked&&ge.children.some(function(Ce){return Ce.checked||Ce.halfChecked}),$(ge))}},R=function(){var oe=e.storeData,se=oe.columns;C.isAll=se.every(function(fe){return fe.disabled||fe.checked}),C.isIndeterminate=!C.isAll&&se.some(function(fe){return!fe.disabled&&(fe.checked||fe.halfChecked)})},B=function(oe){var se=!oe.checked;xeUtils.eachTree([oe],function(fe){fe.checked=se,fe.halfChecked=!1}),$(oe),R()},V=function(){var oe=e.storeData,se=!C.isAll;xeUtils.eachTree(oe.columns,function(fe){fe.disabled||(fe.checked=se,fe.halfChecked=!1)}),C.isAll=se,R()},j=function(){nextTick(function(){var oe=f.value,se=n.value,fe=u.value,ge=oe||se||fe;ge&&ge.focus()}),R()},U=function(){var oe=e.storeData,se=e.defaultOptions,fe=oe.hasMerge,ge=oe.columns,Ce=S.value,$e=M.value,be=xeUtils.searchTree(ge,function(ke){return ke.checked},{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},se,{columns:be,isMerge:fe&&$e&&Ce?se.isMerge:!1})},q=function(){var oe=e.storeData,se=x.value;oe.visible=!1,r.print(Object.assign({},se,U()))},Y=function(){var oe=e.storeData,se=g.value;C.loading=!0,r.exportData(Object.assign({},se,U())).then(function(){C.loading=!1,oe.visible=!1}).catch(function(){C.loading=!1})},Q=function(){var oe=e.storeData;oe.visible=!1},te=function(){var oe=e.storeData;oe.isPrint?q():Y()},re=function(){var oe=e.defaultOptions,se=e.storeData,fe=C.isAll,ge=C.isIndeterminate,Ce=se.hasTree,$e=se.hasMerge,be=se.isPrint,ke=se.hasColgroup,Ee=oe.isHeader,He=[],rt=S.value,ft=k.value,bt=M.value,Ye=P.value;return xeUtils.eachTree(se.columns,function(De){var at=formatText(De.getTitle(),1),Ut=De.children&&De.children.length;He.push(h$1("li",{class:["vxe-export--panel-column-option","level--"+De.level,{"is--group":Ut,"is--checked":De.checked,"is--indeterminate":De.halfChecked,"is--disabled":De.disabled}],title:at,onClick:function(){De.disabled||B(De)}},[h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"}),h$1("span",{class:"vxe-checkbox--label"},at)]))}),h$1(VxeModalComponent,{modelValue:se.visible,title:GlobalConfig.i18n(be?"vxe.export.printTitle":"vxe.export.expTitle"),width:660,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:C.loading,"onUpdate:modelValue":function(De){se.visible=De},onShow:j},{default:function(){return h$1("div",{class:"vxe-export--panel"},[h$1("table",{cellspacing:0,cellpadding:0,border:0},[h$1("tbody",[[be?createCommentVNode():h$1("tr",[h$1("td",GlobalConfig.i18n("vxe.export.expName")),h$1("td",[h$1(VxeInputConstructor,{ref:f,modelValue:oe.filename,type:"text",clearable:!0,placeholder:GlobalConfig.i18n("vxe.export.expNamePlaceholder"),"onUpdate:modelValue":function(De){oe.filename=De}})])]),be?createCommentVNode():h$1("tr",[h$1("td",GlobalConfig.i18n("vxe.export.expType")),h$1("td",[h$1(VxeSelectComponent,{modelValue:oe.type,options:se.typeList.map(function(De){return{value:De.value,label:GlobalConfig.i18n(De.label)}}),"onUpdate:modelValue":function(De){oe.type=De}})])]),be||ft?h$1("tr",[h$1("td",GlobalConfig.i18n("vxe.export.expSheetName")),h$1("td",[h$1(VxeInputConstructor,{ref:n,modelValue:oe.sheetName,type:"text",clearable:!0,placeholder:GlobalConfig.i18n("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue":function(De){oe.sheetName=De}})])]):createCommentVNode(),h$1("tr",[h$1("td",GlobalConfig.i18n("vxe.export.expMode")),h$1("td",[h$1(VxeSelectComponent,{modelValue:oe.mode,options:se.modeList.map(function(De){return{value:De.value,label:GlobalConfig.i18n(De.label)}}),"onUpdate:modelValue":function(De){oe.mode=De}})])]),h$1("tr",[h$1("td",[GlobalConfig.i18n("vxe.export.expColumn")]),h$1("td",[h$1("div",{class:"vxe-export--panel-column"},[h$1("ul",{class:"vxe-export--panel-column-header"},[h$1("li",{class:["vxe-export--panel-column-option",{"is--checked":fe,"is--indeterminate":ge}],title:GlobalConfig.i18n("vxe.table.allTitle"),onClick:V},[h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"}),h$1("span",{class:"vxe-checkbox--label"},GlobalConfig.i18n("vxe.export.expCurrentColumn"))])]),h$1("ul",{class:"vxe-export--panel-column-body"},He)])])]),h$1("tr",[h$1("td",GlobalConfig.i18n("vxe.export.expOpts")),h$1("td",[h$1("div",{class:"vxe-export--panel-option-row"},[h$1(VxeCheckboxComponent,{modelValue:oe.isHeader,title:GlobalConfig.i18n("vxe.export.expHeaderTitle"),content:GlobalConfig.i18n("vxe.export.expOptHeader"),"onUpdate:modelValue":function(De){oe.isHeader=De}}),h$1(VxeCheckboxComponent,{modelValue:oe.isFooter,disabled:!se.hasFooter,title:GlobalConfig.i18n("vxe.export.expFooterTitle"),content:GlobalConfig.i18n("vxe.export.expOptFooter"),"onUpdate:modelValue":function(De){oe.isFooter=De}}),h$1(VxeCheckboxComponent,{modelValue:oe.original,title:GlobalConfig.i18n("vxe.export.expOriginalTitle"),content:GlobalConfig.i18n("vxe.export.expOptOriginal"),"onUpdate:modelValue":function(De){oe.original=De}})]),h$1("div",{class:"vxe-export--panel-option-row"},[h$1(VxeCheckboxComponent,{modelValue:Ee&&ke&&bt?oe.isColgroup:!1,title:GlobalConfig.i18n("vxe.export.expColgroupTitle"),disabled:!Ee||!ke||!bt,content:GlobalConfig.i18n("vxe.export.expOptColgroup"),"onUpdate:modelValue":function(De){oe.isColgroup=De}}),h$1(VxeCheckboxComponent,{modelValue:$e&&bt&&rt?oe.isMerge:!1,title:GlobalConfig.i18n("vxe.export.expMergeTitle"),disabled:!$e||!bt||!rt,content:GlobalConfig.i18n("vxe.export.expOptMerge"),"onUpdate:modelValue":function(De){oe.isMerge=De}}),be?createCommentVNode():h$1(VxeCheckboxComponent,{modelValue:Ye?oe.useStyle:!1,disabled:!Ye,title:GlobalConfig.i18n("vxe.export.expUseStyleTitle"),content:GlobalConfig.i18n("vxe.export.expOptUseStyle"),"onUpdate:modelValue":function(De){oe.useStyle=De}}),h$1(VxeCheckboxComponent,{modelValue:Ce?oe.isAllExpand:!1,disabled:!Ce,title:GlobalConfig.i18n("vxe.export.expAllExpandTitle"),content:GlobalConfig.i18n("vxe.export.expOptAllExpand"),"onUpdate:modelValue":function(De){oe.isAllExpand=De}})])])])]])]),h$1("div",{class:"vxe-export--panel-btns"},[h$1(VxeButtonComponent,{content:GlobalConfig.i18n("vxe.export.expCancel"),onClick:Q}),h$1(VxeButtonComponent,{ref:u,status:"primary",content:GlobalConfig.i18n(be?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:te})])])}})};return re}}),VxeRadioGroupComponent=defineComponent({name:"VxeRadioGroup",props:{modelValue:[String,Number,Boolean],disabled:Boolean,strict:{type:Boolean,default:function(){return GlobalConfig.radio.strict}},size:{type:String,default:function(){return GlobalConfig.radio.size||GlobalConfig.size}}},emits:["update:modelValue","change"],setup:function(e,r){var l=r.slots,g=r.emit,x=xeUtils.uniqueId(),C={xID:x,props:e,context:r,name:xeUtils.uniqueId("xegroup_")},u={};useSize(e);var f={handleChecked:function(S){g("update:modelValue",S.label),u.dispatchEvent("change",S)}};u={dispatchEvent:function(S,k,M){g(S,Object.assign({$radioGroup:C,$event:M},k))}};var n=function(){return h$1("div",{class:"vxe-radio-group"},l.default?l.default({}):[])};return Object.assign(C,f,{renderVN:n,dispatchEvent}),provide("$xeradiogroup",C),n}}),VxeRadioComponent=defineComponent({name:"VxeRadio",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,name:String,strict:{type:Boolean,default:function(){return GlobalConfig.radio.strict}},size:{type:String,default:function(){return GlobalConfig.radio.size||GlobalConfig.size}}},emits:["update:modelValue","change"],setup:function(e,r){var l=r.slots,g=r.emit,x=xeUtils.uniqueId(),C={xID:x,props:e,context:r},u=useSize(e),f=inject("$xeradiogroup",null),n={},S=computed(function(){return e.disabled||f&&f.props.disabled}),k=computed(function(){return f?f.name:e.name}),M=computed(function(){return f?f.props.strict:e.strict}),P=computed(function(){var j=e.modelValue,U=e.label;return f?f.props.modelValue===U:j===U}),$=function(j,U){f?f.handleChecked({label:j},U):(g("update:modelValue",j),n.dispatchEvent("change",{label:j},U))},R=function(j){var U=S.value;U||$(e.label,j)},B=function(j){var U=S.value,q=M.value;!U&&!q&&e.label===(f?f.props.modelValue:e.modelValue)&&$(null,j)};n={dispatchEvent:function(j,U,q){g(j,Object.assign({$radio:C,$event:q},U))}},Object.assign(C,n);var V=function(){var j,U=u.value,q=S.value,Y=k.value,Q=P.value;return h$1("label",{class:["vxe-radio",(j={},j["size--"+U]=U,j["is--disabled"]=q,j)],title:e.title},[h$1("input",{class:"vxe-radio--input",type:"radio",name:Y,checked:Q,disabled:q,onChange:R,onClick:B}),h$1("span",{class:"vxe-radio--icon"}),h$1("span",{class:"vxe-radio--label"},l.default?l.default({}):getFuncText(e.content))])};return C.renderVN=V,C},render:function(){return this.renderVN()}}),ImportPanelComponent=defineComponent({name:"VxeImportPanel",props:{defaultOptions:Object,storeData:Object},setup:function(e){var r=inject("$xetable",{}),l=r.getComputeMaps().computeImportOpts,g=reactive({loading:!1}),x=ref(),C=computed(function(){var R=e.storeData;return R.filename+"."+R.type}),u=computed(function(){var R=e.storeData;return R.file&&R.type}),f=computed(function(){var R=e.storeData,B=R.type,V=R.typeList;if(B){var j=xeUtils.find(V,function(U){return B===U.value});return j?GlobalConfig.i18n(j.label):"*.*"}return"*."+V.map(function(U){return U.value}).join(", *.")}),n=function(){var R=e.storeData;Object.assign(R,{filename:"",sheetName:"",type:""})},S=function(){var R=e.storeData,B=e.defaultOptions;r.readFile(B).then(function(V){var j=V.file;Object.assign(R,parseFile(j),{file:j})}).catch(function(V){return V})},k=function(){nextTick(function(){var R=x.value;R&&R.focus()})},M=function(){var R=e.storeData;R.visible=!1},P=function(){var R=e.storeData,B=e.defaultOptions,V=l.value;g.loading=!0,r.importByFile(R.file,Object.assign({},V,B)).then(function(){g.loading=!1,R.visible=!1}).catch(function(){g.loading=!1})},$=function(){var R=e.defaultOptions,B=e.storeData,V=C.value,j=u.value,U=f.value;return h$1(VxeModalComponent,{modelValue:B.visible,title:GlobalConfig.i18n("vxe.import.impTitle"),width:440,mask:!0,lockView:!0,showFooter:!1,escClosable:!0,maskClosable:!0,loading:g.loading,"onUpdate:modelValue":function(q){B.visible=q},onShow:k},{default:function(){return h$1("div",{class:"vxe-export--panel"},[h$1("table",{cellspacing:0,cellpadding:0,border:0},[h$1("tbody",[h$1("tr",[h$1("td",GlobalConfig.i18n("vxe.import.impFile")),h$1("td",[j?h$1("div",{class:"vxe-import-selected--file",title:V},[h$1("span",V),h$1("i",{class:GlobalConfig.icon.INPUT_CLEAR,onClick:n})]):h$1("button",{ref:x,class:"vxe-import-select--file",onClick:S},GlobalConfig.i18n("vxe.import.impSelect"))])]),h$1("tr",[h$1("td",GlobalConfig.i18n("vxe.import.impType")),h$1("td",U)]),h$1("tr",[h$1("td",GlobalConfig.i18n("vxe.import.impOpts")),h$1("td",[h$1(VxeRadioGroupComponent,{modelValue:R.mode,"onUpdate:modelValue":function(q){R.mode=q}},{default:function(){return B.modeList.map(function(q){return h$1(VxeRadioComponent,{label:q.value,content:GlobalConfig.i18n(q.label)})})}})])])])]),h$1("div",{class:"vxe-export--panel-btns"},[h$1(VxeButtonComponent,{content:GlobalConfig.i18n("vxe.import.impCancel"),onClick:M}),h$1(VxeButtonComponent,{status:"primary",disabled:!j,content:GlobalConfig.i18n("vxe.import.impConfirm"),onClick:P})])])}})};return $}}),fileForm,fileInput,printFrame,defaultHtmlStyle='body{margin:0;color:#333333;font-size:14px;font-family:"Microsoft YaHei",\u5FAE\u8F6F\u96C5\u9ED1,"MicrosoftJhengHei",\u534E\u6587\u7EC6\u9ED1,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function createFrame(){var e=document.createElement("iframe");return e.className="vxe-table--print-frame",e}function getExportBlobByContent(e,r){return window.Blob?new Blob([e],{type:"text/"+r.type+";charset=utf-8;"}):null}function createHtmlPage(e,r){var l=e.style;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',"<title>"+e.sheetName+"</title>","<style>"+defaultHtmlStyle+"</style>",l?"<style>"+l+"</style>":"","</head>","<body>"+r+"</body>","</html>"].join("")}var readLocalFile=function(e){var r=Object.assign({},e);return fileForm||(fileForm=document.createElement("form"),fileInput=document.createElement("input"),fileForm.className="vxe-table--file-form",fileInput.name="file",fileInput.type="file",fileForm.appendChild(fileInput),document.body.appendChild(fileForm)),new Promise(function(l,g){var x=r.types||[],C=!x.length||x.some(function(u){return u==="*"});fileInput.multiple=!!r.multiple,fileInput.accept=C?"":"."+x.join(", ."),fileInput.onchange=function(u){var f=u.target.files,n=f[0],S="";if(!C)for(var k=0;k<f.length;k++){var M=parseFile(f[k]).type;if(!xeUtils.includes(x,M)){S=M;break}}if(!S)l({status:!0,files:f,file:n});else{r.message!==!1&&VXETable.modal.message({content:GlobalConfig.i18n("vxe.error.notType",[S]),status:"error"});var P={status:!1,files:f,file:n};g(P)}},fileForm.reset(),fileInput.click()})};function removePrintFrame(){if(printFrame){if(printFrame.parentNode){try{printFrame.contentDocument.write("")}catch{}printFrame.parentNode.removeChild(printFrame)}printFrame=null}}function appendPrintFrame(){printFrame.parentNode||document.body.appendChild(printFrame)}function afterPrintEvent(){requestAnimationFrame(removePrintFrame)}function handlePrint(e,r,l){l===void 0&&(l="");var g=r.beforePrintMethod;g&&(l=g({content:l,options:r,$table:e})||""),l=createHtmlPage(r,l);var x=getExportBlobByContent(l,r);browse.msie?(removePrintFrame(),printFrame=createFrame(),appendPrintFrame(),printFrame.contentDocument.write(l),printFrame.contentDocument.execCommand("print")):(printFrame||(printFrame=createFrame(),printFrame.onload=function(C){C.target.src&&(C.target.contentWindow.onafterprint=afterPrintEvent,C.target.contentWindow.print())}),appendPrintFrame(),printFrame.src=URL.createObjectURL(x))}var saveLocalFile=function(e){var r=e.filename,l=e.type,g=e.content,x=r+"."+l;if(window.Blob){var C=g instanceof Blob?g:getExportBlobByContent(xeUtils.toValueString(g),e);if(navigator.msSaveBlob)navigator.msSaveBlob(C,x);else{var u=URL.createObjectURL(C),f=document.createElement("a");f.target="_blank",f.download=x,f.href=u,document.body.appendChild(f),f.click(),requestAnimationFrame(function(){f.parentNode&&f.parentNode.removeChild(f),URL.revokeObjectURL(u)})}return Promise.resolve()}return Promise.reject(new Error(getLog("vxe.error.notExp")))},htmlCellElem,csvBOM="\uFEFF",enterSymbol=`\r
`;function defaultFilterExportColumn(e){return e.property||["seq","checkbox","radio"].indexOf(e.type)>-1}var getConvertColumns=function(e){var r=[];return e.forEach(function(l){l.childNodes&&l.childNodes.length?(r.push(l),r.push.apply(r,getConvertColumns(l.childNodes))):r.push(l)}),r},convertToRows=function(e){var r=1,l=function(u,f){if(f&&(u._level=f._level+1,r<u._level&&(r=u._level)),u.childNodes&&u.childNodes.length){var n=0;u.childNodes.forEach(function(S){l(S,u),n+=S._colSpan}),u._colSpan=n}else u._colSpan=1};e.forEach(function(u){u._level=1,l(u)});for(var g=[],x=0;x<r;x++)g.push([]);var C=getConvertColumns(e);return C.forEach(function(u){u.childNodes&&u.childNodes.length?u._rowSpan=1:u._rowSpan=r-u._level+1,g[u._level-1].push(u)}),g};function toTableBorder(e){return e===!0?"full":e||"default"}function getBooleanValue(e){return e==="TRUE"||e==="true"||e===!0}function getHeaderTitle(e,r){return(e.original?r.property:r.getTitle())||""}function getFooterData(e,r){var l=e.footerFilterMethod;return l?r.filter(function(g,x){return l({items:g,$rowIndex:x})}):r}function getCsvCellTypeLabel(e,r){if(r){if(e.type==="seq")return"	"+r;switch(e.cellType){case"string":if(!isNaN(r))return"	"+r;break;case"number":break;default:if(r.length>=12&&!isNaN(r))return"	"+r;break}}return r}function toTxtCellLabel(e){return/[",\s\n]/.test(e)?'"'+e.replace(/"/g,'""')+'"':e}function getElementsByTagName(e,r){return e.getElementsByTagName(r)}function getTxtCellKey(e){return"#"+e+"@"+xeUtils.uniqueId()}function replaceTxtCell(e,r){return e.replace(/#\d+@\d+/g,function(l){return xeUtils.hasOwnProp(r,l)?r[l]:l})}function getTxtCellValue(e,r){var l=replaceTxtCell(e,r);return l.replace(/^"+$/g,function(g){return'"'.repeat(Math.ceil(g.length/2))})}function parseCsvAndTxt(e,r,l){var g=r.split(enterSymbol),x=[],C=[];if(g.length){var u={},f=Date.now();g.forEach(function(n){if(n){var S={};n=n.replace(/("")|(\n)/g,function(M,P){var $=getTxtCellKey(f);return u[$]=P?'"':`
`,$}).replace(/"(.*?)"/g,function(M,P){var $=getTxtCellKey(f);return u[$]=replaceTxtCell(P,u),$});var k=n.split(l);C.length?(k.forEach(function(M,P){P<C.length&&(S[C[P]]=getTxtCellValue(M.trim(),u))}),x.push(S)):C=k.map(function(M){return getTxtCellValue(M.trim(),u)})}})}return{fields:C,rows:x}}function parseCsv(e,r){return parseCsvAndTxt(e,r,",")}function parseTxt(e,r){return parseCsvAndTxt(e,r,"	")}function parseHTML(e,r){var l=new DOMParser,g=l.parseFromString(r,"text/html"),x=getElementsByTagName(g,"body"),C=[],u=[];if(x.length){var f=getElementsByTagName(x[0],"table");if(f.length){var n=getElementsByTagName(f[0],"thead");if(n.length){xeUtils.arrayEach(getElementsByTagName(n[0],"tr"),function(k){xeUtils.arrayEach(getElementsByTagName(k,"th"),function(M){u.push(M.textContent)})});var S=getElementsByTagName(f[0],"tbody");S.length&&xeUtils.arrayEach(getElementsByTagName(S[0],"tr"),function(k){var M={};xeUtils.arrayEach(getElementsByTagName(k,"td"),function(P,$){u[$]&&(M[u[$]]=P.textContent||"")}),C.push(M)})}}}return{fields:u,rows:C}}function parseXML(e,r){var l=new DOMParser,g=l.parseFromString(r,"application/xml"),x=getElementsByTagName(g,"Worksheet"),C=[],u=[];if(x.length){var f=getElementsByTagName(x[0],"Table");if(f.length){var n=getElementsByTagName(f[0],"Row");n.length&&(xeUtils.arrayEach(getElementsByTagName(n[0],"Cell"),function(S){u.push(S.textContent)}),xeUtils.arrayEach(n,function(S,k){if(k){var M={},P=getElementsByTagName(S,"Cell");xeUtils.arrayEach(P,function($,R){u[R]&&(M[u[R]]=$.textContent)}),C.push(M)}}))}}return{fields:u,rows:C}}function clearColumnConvert(e){xeUtils.eachTree(e,function(r){delete r._level,delete r._colSpan,delete r._rowSpan,delete r._children,delete r.childNodes},{children:"children"})}function checkImportData(e,r){var l=[];return e.forEach(function(g){var x=g.property;x&&l.push(x)}),r.some(function(g){return l.indexOf(g)>-1})}var tableExportMethodKeys=["exportData","importByFile","importData","saveFile","readFile","print","openImport","openExport","openPrint"],tableExportHook={setupTable:function(e){var r=e.props,l=e.reactData,g=e.internalData,x=e.getComputeMaps(),C=x.computeTreeOpts,u=x.computePrintOpts,f=x.computeExportOpts,n=x.computeImportOpts,S=x.computeCustomOpts,k=x.computeSeqOpts,M=x.computeRadioOpts,P=x.computeCheckboxOpts,$=inject("$xegrid",null),R=function(Ee){var He=C.value;return Ee[He.children]&&Ee[He.children].length},B=function(Ee,He,rt,ft){var bt=k.value,Ye=bt.seqMethod||rt.seqMethod;return Ye?Ye({row:Ee,rowIndex:e.getRowIndex(Ee),$rowIndex:He,column:rt,columnIndex:e.getColumnIndex(rt),$columnIndex:ft}):e.getRowSeq(Ee)},V=function(Ee){return xeUtils.isBoolean(Ee)?Ee?"TRUE":"FALSE":Ee},j=function(Ee,He,rt){var ft=Ee.isAllExpand,bt=Ee.mode,Ye=r.treeConfig,De=M.value,at=P.value,Ut=C.value;if(htmlCellElem||(htmlCellElem=document.createElement("div")),Ye){var je=[],tt=new Map;return xeUtils.eachTree(rt,function(We,Gt,gt,Mt,Rt,Jt){var ut=We._row||We,Ht=Rt&&Rt._row?Rt._row:Rt;if(ft||!Ht||tt.has(Ht)&&e.isTreeExpandByRow(Ht)){var cr=R(ut),Vt={_row:ut,_level:Jt.length-1,_hasChild:cr,_expand:cr&&e.isTreeExpandByRow(ut)};He.forEach(function(Ne,ot){var Tt="",St=Ne.editRender||Ne.cellRender,jt=Ne.exportMethod;if(!jt&&St&&St.name){var or=VXETable.renderer.get(St.name);or&&(jt=or.exportMethod)}if(jt)Tt=jt({$table:e,row:ut,column:Ne,options:Ee});else switch(Ne.type){case"seq":Tt=bt==="all"?Mt.map(function(st,yt){return yt%2==0?Number(st)+1:"."}).join(""):B(ut,Gt,Ne,ot);break;case"checkbox":Tt=V(e.isCheckedByCheckboxRow(ut)),Vt._checkboxLabel=at.labelField?xeUtils.get(ut,at.labelField):"",Vt._checkboxDisabled=at.checkMethod&&!at.checkMethod({row:ut});break;case"radio":Tt=V(e.isCheckedByRadioRow(ut)),Vt._radioLabel=De.labelField?xeUtils.get(ut,De.labelField):"",Vt._radioDisabled=De.checkMethod&&!De.checkMethod({row:ut});break;default:if(Ee.original)Tt=getCellValue(ut,Ne);else if(Tt=e.getCellLabel(ut,Ne),Ne.type==="html")htmlCellElem.innerHTML=Tt,Tt=htmlCellElem.innerText.trim();else{var xr=e.getCell(ut,Ne);xr&&(Tt=xr.innerText.trim())}}Vt[Ne.id]=xeUtils.toValueString(Tt)}),tt.set(ut,1),je.push(Object.assign(Vt,ut))}},Ut),je}return rt.map(function(We,Gt){var gt={_row:We};return He.forEach(function(Mt,Rt){var Jt="",ut=Mt.editRender||Mt.cellRender,Ht=Mt.exportMethod;if(!Ht&&ut&&ut.name){var cr=VXETable.renderer.get(ut.name);cr&&(Ht=cr.exportMethod)}if(Ht)Jt=Ht({$table:e,row:We,column:Mt,options:Ee});else switch(Mt.type){case"seq":Jt=bt==="all"?Gt+1:B(We,Gt,Mt,Rt);break;case"checkbox":Jt=V(e.isCheckedByCheckboxRow(We)),gt._checkboxLabel=at.labelField?xeUtils.get(We,at.labelField):"",gt._checkboxDisabled=at.checkMethod&&!at.checkMethod({row:We});break;case"radio":Jt=V(e.isCheckedByRadioRow(We)),gt._radioLabel=De.labelField?xeUtils.get(We,De.labelField):"",gt._radioDisabled=De.checkMethod&&!De.checkMethod({row:We});break;default:if(Ee.original)Jt=getCellValue(We,Mt);else if(Jt=e.getCellLabel(We,Mt),Mt.type==="html")htmlCellElem.innerHTML=Jt,Jt=htmlCellElem.innerText.trim();else{var Vt=e.getCell(We,Mt);Vt&&(Jt=Vt.innerText.trim())}}gt[Mt.id]=xeUtils.toValueString(Jt)}),gt})},U=function(Ee){var He=Ee.columns,rt=Ee.dataFilterMethod,ft=Ee.data;return rt&&(ft=ft.filter(function(bt,Ye){return rt({row:bt,$rowIndex:Ye})})),j(Ee,He,ft)},q=function(Ee,He,rt){var ft=rt.editRender||rt.cellRender,bt=rt.footerExportMethod;if(!bt&&ft&&ft.name){var Ye=VXETable.renderer.get(ft.name);Ye&&(bt=Ye.footerExportMethod)}var De=e.getVTColumnIndex(rt),at=bt?bt({$table:e,items:He,itemIndex:De,_columnIndex:De,column:rt,options:Ee}):xeUtils.toValueString(He[De]);return at},Y=function(Ee,He,rt){var ft=csvBOM;if(Ee.isHeader&&(ft+=He.map(function(De){return toTxtCellLabel(getHeaderTitle(Ee,De))}).join(",")+enterSymbol),rt.forEach(function(De){ft+=He.map(function(at){return toTxtCellLabel(getCsvCellTypeLabel(at,De[at.id]))}).join(",")+enterSymbol}),Ee.isFooter){var bt=l.footerTableData,Ye=getFooterData(Ee,bt);Ye.forEach(function(De){ft+=He.map(function(at){return toTxtCellLabel(q(Ee,De,at))}).join(",")+enterSymbol})}return ft},Q=function(Ee,He,rt){var ft="";if(Ee.isHeader&&(ft+=He.map(function(De){return toTxtCellLabel(getHeaderTitle(Ee,De))}).join("	")+enterSymbol),rt.forEach(function(De){ft+=He.map(function(at){return toTxtCellLabel(De[at.id])}).join("	")+enterSymbol}),Ee.isFooter){var bt=l.footerTableData,Ye=getFooterData(Ee,bt);Ye.forEach(function(De){ft+=He.map(function(at){return toTxtCellLabel(q(Ee,De,at))}).join(",")+enterSymbol})}return ft},te=function(Ee,He,rt){var ft=Ee[He],bt=xeUtils.isUndefined(ft)||xeUtils.isNull(ft)?rt:ft,Ye=bt==="ellipsis",De=bt==="title",at=bt===!0||bt==="tooltip",Ut=De||at||Ye,je=l.scrollXLoad,tt=l.scrollYLoad;return(je||tt)&&!Ut&&(Ut=!0),Ut},re=function(Ee,He,rt){var ft=r.id,bt=r.border,Ye=r.treeConfig,De=r.headerAlign,at=r.align,Ut=r.footerAlign,je=r.showOverflow,tt=r.showHeaderOverflow,We=l.isAllSelected,Gt=l.isIndeterminate,gt=l.mergeList,Mt=C.value,Rt=Ee.print,Jt=Ee.isHeader,ut=Ee.isFooter,Ht=Ee.isColgroup,cr=Ee.isMerge,Vt=Ee.colgroups,Ne=Ee.original,ot="check-all",Tt=["vxe-table","border--"+toTableBorder(bt),Rt?"is--print":"",Jt?"is--header":""].filter(function(st){return st}),St=['<table class="'+Tt.join(" ")+'" border="0" cellspacing="0" cellpadding="0">',"<colgroup>"+He.map(function(st){return'<col style="width:'+st.renderWidth+'px">'}).join("")+"</colgroup>"];if(Jt&&(St.push("<thead>"),Ht&&!Ne?Vt.forEach(function(st){St.push("<tr>"+st.map(function(yt){var Ft=yt.headerAlign||yt.align||De||at,zt=te(yt,"showHeaderOverflow",tt)?["col--ellipsis"]:[],Ct=getHeaderTitle(Ee,yt),gr=0,Mr=0;xeUtils.eachTree([yt],function(sn){(!sn.childNodes||!yt.childNodes.length)&&Mr++,gr+=sn.renderWidth},{children:"childNodes"});var Br=gr-Mr;return Ft&&zt.push("col--"+Ft),yt.type==="checkbox"?'<th class="'+zt.join(" ")+'" colspan="'+yt._colSpan+'" rowspan="'+yt._rowSpan+'"><div '+(Rt?"":'style="width: '+Br+'px"')+'><input type="checkbox" class="'+ot+'" '+(We?"checked":"")+"><span>"+Ct+"</span></div></th>":'<th class="'+zt.join(" ")+'" colspan="'+yt._colSpan+'" rowspan="'+yt._rowSpan+'" title="'+Ct+'"><div '+(Rt?"":'style="width: '+Br+'px"')+"><span>"+formatText(Ct,!0)+"</span></div></th>"}).join("")+"</tr>")}):St.push("<tr>"+He.map(function(st){var yt=st.headerAlign||st.align||De||at,Ft=te(st,"showHeaderOverflow",tt)?["col--ellipsis"]:[],zt=getHeaderTitle(Ee,st);return yt&&Ft.push("col--"+yt),st.type==="checkbox"?'<th class="'+Ft.join(" ")+'"><div '+(Rt?"":'style="width: '+st.renderWidth+'px"')+'><input type="checkbox" class="'+ot+'" '+(We?"checked":"")+"><span>"+zt+"</span></div></th>":'<th class="'+Ft.join(" ")+'" title="'+zt+'"><div '+(Rt?"":'style="width: '+st.renderWidth+'px"')+"><span>"+formatText(zt,!0)+"</span></div></th>"}).join("")+"</tr>"),St.push("</thead>")),rt.length&&(St.push("<tbody>"),Ye?rt.forEach(function(st){St.push("<tr>"+He.map(function(yt){var Ft=yt.align||at,zt=te(yt,"showOverflow",je)?["col--ellipsis"]:[],Ct=st[yt.id];if(Ft&&zt.push("col--"+Ft),yt.treeNode){var gr="";return st._hasChild&&(gr='<i class="'+(st._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon")+'"></i>'),zt.push("vxe-table--tree-node"),yt.type==="radio"?'<td class="'+zt.join(" ")+'" title="'+Ct+'"><div '+(Rt?"":'style="width: '+yt.renderWidth+'px"')+'><div class="vxe-table--tree-node-wrapper" style="padding-left: '+st._level*Mt.indent+'px"><div class="vxe-table--tree-icon-wrapper">'+gr+'</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_'+ft+'" '+(st._radioDisabled?"disabled ":"")+(getBooleanValue(Ct)?"checked":"")+"><span>"+st._radioLabel+"</span></div></div></div></td>":yt.type==="checkbox"?'<td class="'+zt.join(" ")+'" title="'+Ct+'"><div '+(Rt?"":'style="width: '+yt.renderWidth+'px"')+'><div class="vxe-table--tree-node-wrapper" style="padding-left: '+st._level*Mt.indent+'px"><div class="vxe-table--tree-icon-wrapper">'+gr+'</div><div class="vxe-table--tree-cell"><input type="checkbox" '+(st._checkboxDisabled?"disabled ":"")+(getBooleanValue(Ct)?"checked":"")+"><span>"+st._checkboxLabel+"</span></div></div></div></td>":'<td class="'+zt.join(" ")+'" title="'+Ct+'"><div '+(Rt?"":'style="width: '+yt.renderWidth+'px"')+'><div class="vxe-table--tree-node-wrapper" style="padding-left: '+st._level*Mt.indent+'px"><div class="vxe-table--tree-icon-wrapper">'+gr+'</div><div class="vxe-table--tree-cell">'+Ct+"</div></div></div></td>"}return yt.type==="radio"?'<td class="'+zt.join(" ")+'"><div '+(Rt?"":'style="width: '+yt.renderWidth+'px"')+'><input type="radio" name="radio_'+ft+'" '+(st._radioDisabled?"disabled ":"")+(getBooleanValue(Ct)?"checked":"")+"><span>"+st._radioLabel+"</span></div></td>":yt.type==="checkbox"?'<td class="'+zt.join(" ")+'"><div '+(Rt?"":'style="width: '+yt.renderWidth+'px"')+'><input type="checkbox" '+(st._checkboxDisabled?"disabled ":"")+(getBooleanValue(Ct)?"checked":"")+"><span>"+st._checkboxLabel+"</span></div></td>":'<td class="'+zt.join(" ")+'" title="'+Ct+'"><div '+(Rt?"":'style="width: '+yt.renderWidth+'px"')+">"+formatText(Ct,!0)+"</div></td>"}).join("")+"</tr>")}):rt.forEach(function(st){St.push("<tr>"+He.map(function(yt){var Ft=yt.align||at,zt=te(yt,"showOverflow",je)?["col--ellipsis"]:[],Ct=st[yt.id],gr=1,Mr=1;if(cr&&gt.length){var Br=e.getVTRowIndex(st._row),sn=e.getVTColumnIndex(yt),Hr=mergeBodyMethod(gt,Br,sn);if(Hr){var cn=Hr.rowspan,Ve=Hr.colspan;if(!cn||!Ve)return"";cn>1&&(gr=cn),Ve>1&&(Mr=Ve)}}return Ft&&zt.push("col--"+Ft),yt.type==="radio"?'<td class="'+zt.join(" ")+'" rowspan="'+gr+'" colspan="'+Mr+'"><div '+(Rt?"":'style="width: '+yt.renderWidth+'px"')+'><input type="radio" name="radio_'+ft+'" '+(st._radioDisabled?"disabled ":"")+(getBooleanValue(Ct)?"checked":"")+"><span>"+st._radioLabel+"</span></div></td>":yt.type==="checkbox"?'<td class="'+zt.join(" ")+'" rowspan="'+gr+'" colspan="'+Mr+'"><div '+(Rt?"":'style="width: '+yt.renderWidth+'px"')+'><input type="checkbox" '+(st._checkboxDisabled?"disabled ":"")+(getBooleanValue(Ct)?"checked":"")+"><span>"+st._checkboxLabel+"</span></div></td>":'<td class="'+zt.join(" ")+'" rowspan="'+gr+'" colspan="'+Mr+'" title="'+Ct+'"><div '+(Rt?"":'style="width: '+yt.renderWidth+'px"')+">"+formatText(Ct,!0)+"</div></td>"}).join("")+"</tr>")}),St.push("</tbody>")),ut){var jt=l.footerTableData,or=getFooterData(Ee,jt);or.length&&(St.push("<tfoot>"),or.forEach(function(st){St.push("<tr>"+He.map(function(yt){var Ft=yt.footerAlign||yt.align||Ut||at,zt=te(yt,"showOverflow",je)?["col--ellipsis"]:[],Ct=q(Ee,st,yt);return Ft&&zt.push("col--"+Ft),'<td class="'+zt.join(" ")+'" title="'+Ct+'"><div '+(Rt?"":'style="width: '+yt.renderWidth+'px"')+">"+formatText(Ct,!0)+"</div></td>"}).join("")+"</tr>")}),St.push("</tfoot>"))}var xr=!We&&Gt?'<script>(function(){var a=document.querySelector(".'+ot+'");if(a){a.indeterminate=true}})()<\/script>':"";return St.push("</table>",xr),Rt?St.join(""):createHtmlPage(Ee,St.join(""))},oe=function(Ee,He,rt){var ft=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",'<Worksheet ss:Name="'+Ee.sheetName+'">',"<Table>",He.map(function(De){return'<Column ss:Width="'+De.renderWidth+'"/>'}).join("")].join("");if(Ee.isHeader&&(ft+="<Row>"+He.map(function(De){return'<Cell><Data ss:Type="String">'+getHeaderTitle(Ee,De)+"</Data></Cell>"}).join("")+"</Row>"),rt.forEach(function(De){ft+="<Row>"+He.map(function(at){return'<Cell><Data ss:Type="String">'+De[at.id]+"</Data></Cell>"}).join("")+"</Row>"}),Ee.isFooter){var bt=l.footerTableData,Ye=getFooterData(Ee,bt);Ye.forEach(function(De){ft+="<Row>"+He.map(function(at){return'<Cell><Data ss:Type="String">'+q(Ee,De,at)+"</Data></Cell>"}).join("")+"</Row>"})}return ft+"</Table></Worksheet></Workbook>"},se=function(Ee,He,rt){if(He.length)switch(Ee.type){case"csv":return Y(Ee,He,rt);case"txt":return Q(Ee,He,rt);case"html":return re(Ee,He,rt);case"xml":return oe(Ee,He,rt)}return""},fe=function(Ee,He){var rt=Ee.filename,ft=Ee.type,bt=Ee.download;if(!bt){var Ye=getExportBlobByContent(He,Ee);return Promise.resolve({type:ft,content:He,blob:Ye})}saveLocalFile({filename:rt,type:ft,content:He}).then(function(){Ee.message!==!1&&VXETable.modal.message({content:GlobalConfig.i18n("vxe.table.expSuccess"),status:"success"})})},ge=function(Ee){var He=Ee.remote,rt=Ee.columns,ft=Ee.colgroups,bt=Ee.exportMethod,Ye=Ee.afterExportMethod;return new Promise(function(De){if(He){var at={options:Ee,$table:e,$grid:$};De(bt?bt(at):at)}else{var Ut=U(Ee);De(e.preventEvent(null,"event.export",{options:Ee,columns:rt,colgroups:ft,datas:Ut},function(){return fe(Ee,se(Ee,rt,Ut))}))}}).then(function(De){return clearColumnConvert(rt),Ee.print||Ye&&Ye({status:!0,options:Ee,$table:e,$grid:$}),Object.assign({status:!0},De)}).catch(function(){clearColumnConvert(rt),Ee.print||Ye&&Ye({status:!1,options:Ee,$table:e,$grid:$});var De={status:!1};return Promise.reject(De)})},Ce=function(Ee,He){var rt=g.tableFullColumn,ft=g._importResolve,bt=g._importReject,Ye={fields:[],rows:[]};switch(He.type){case"csv":Ye=parseCsv(rt,Ee);break;case"txt":Ye=parseTxt(rt,Ee);break;case"html":Ye=parseHTML(rt,Ee);break;case"xml":Ye=parseXML(rt,Ee);break}var De=Ye.fields,at=Ye.rows,Ut=checkImportData(rt,De);Ut?e.createData(at).then(function(je){var tt;return He.mode==="insert"?tt=e.insert(je):tt=e.reloadData(je),He.message!==!1&&VXETable.modal.message({content:GlobalConfig.i18n("vxe.table.impSuccess",[at.length]),status:"success"}),tt.then(function(){ft&&ft({status:!0})})}):He.message!==!1&&(VXETable.modal.message({content:GlobalConfig.i18n("vxe.error.impFields"),status:"error"}),bt&&bt({status:!1}))},$e=function(Ee,He){var rt=He.importMethod,ft=He.afterImportMethod,bt=parseFile(Ee),Ye=bt.type,De=bt.filename;if(!rt&&!xeUtils.includes(VXETable.config.importTypes,Ye)){He.message!==!1&&VXETable.modal.message({content:GlobalConfig.i18n("vxe.error.notType",[Ye]),status:"error"});var at={status:!1};return Promise.reject(at)}var Ut=new Promise(function(je,tt){var We=function(Rt){je(Rt),g._importResolve=null,g._importReject=null},Gt=function(Rt){tt(Rt),g._importResolve=null,g._importReject=null};if(g._importResolve=We,g._importReject=Gt,window.FileReader){var gt=Object.assign({mode:"insert"},He,{type:Ye,filename:De});if(gt.remote)rt?Promise.resolve(rt({file:Ee,options:gt,$table:e})).then(function(){We({status:!0})}).catch(function(){We({status:!0})}):We({status:!0});else{var Mt=g.tableFullColumn;e.preventEvent(null,"event.import",{file:Ee,options:gt,columns:Mt},function(){var Rt=new FileReader;Rt.onerror=function(){errLog("vxe.error.notType",[Ye]),Gt({status:!1})},Rt.onload=function(Jt){Ce(Jt.target.result,gt)},Rt.readAsText(Ee,"UTF-8")})}}else We({status:!0})});return Ut.then(function(){ft&&ft({status:!0,options:He,$table:e})}).catch(function(je){return ft&&ft({status:!1,options:He,$table:e}),Promise.reject(je)})},be=function(Ee,He){var rt=r.treeConfig,ft=r.showHeader,bt=r.showFooter,Ye=l.initStore,De=l.mergeList,at=l.isGroup,Ut=l.footerTableData,je=l.exportStore,tt=l.exportParams,We=g.collectColumn,Gt=rt,gt=S.value,Mt=e.getCheckboxRecords(),Rt=!!Ut.length,Jt=!Gt&&De.length,ut=Object.assign({message:!0,isHeader:ft,isFooter:bt},Ee),Ht=ut.types||VXETable.config.exportTypes,cr=ut.modes,Vt=gt.checkMethod,Ne=We.slice(0),ot=ut.columns,Tt=Ht.map(function(jt){return{value:jt,label:"vxe.export.types."+jt}}),St=cr.map(function(jt){return{value:jt,label:"vxe.export.modes."+jt}});return xeUtils.eachTree(Ne,function(jt,or,xr,st,yt){var Ft=jt.children&&jt.children.length;(Ft||defaultFilterExportColumn(jt))&&(jt.checked=ot?ot.some(function(zt){if(isColumnInfo(zt))return jt===zt;if(xeUtils.isString(zt))return jt.field===zt;var Ct=zt.id||zt.colId,gr=zt.type,Mr=zt.property||zt.field;if(Ct)return jt.id===Ct;if(Mr&&gr)return jt.property===Mr&&jt.type===gr;if(Mr)return jt.property===Mr;if(gr)return jt.type===gr}):jt.visible,jt.halfChecked=!1,jt.disabled=yt&&yt.disabled||(Vt?!Vt({column:jt}):!1))}),Object.assign(je,{columns:Ne,typeList:Tt,modeList:St,hasFooter:Rt,hasMerge:Jt,hasTree:Gt,isPrint:He,hasColgroup:at,visible:!0}),Ye.export||Object.assign(tt,{mode:Mt.length?"selected":"current"},ut),cr.indexOf(tt.mode)===-1&&(tt.mode=cr[0]),Ht.indexOf(tt.type)===-1&&(tt.type=Ht[0]),Ye.export=!0,nextTick()},ke={exportData:function(Ee){var He=r.treeConfig,rt=l.isGroup,ft=l.tableGroupColumn,bt=g.tableFullColumn,Ye=g.afterFullData,De=f.value,at=C.value,Ut=Object.assign({isHeader:!0,isFooter:!0,isColgroup:!0,download:!0,type:"csv",mode:"current"},De,{print:!1},Ee),je=Ut.type,tt=Ut.mode,We=Ut.columns,Gt=Ut.original,gt=Ut.beforeExportMethod,Mt=[],Rt=We&&We.length?We:null,Jt=Ut.columnFilterMethod;!Rt&&!Jt&&(Jt=Gt?function(zt){var Ct=zt.column;return Ct.property}:function(zt){var Ct=zt.column;return defaultFilterExportColumn(Ct)}),Rt?Mt=xeUtils.searchTree(xeUtils.mapTree(Rt,function(zt){var Ct;if(zt){if(isColumnInfo(zt))Ct=zt;else if(xeUtils.isString(zt))Ct=e.getColumnByField(zt);else{var gr=zt.id||zt.colId,Mr=zt.type,Br=zt.property||zt.field;gr?Ct=e.getColumnById(gr):Br&&Mr?Ct=bt.find(function(sn){return sn.property===Br&&sn.type===Mr}):Br?Ct=e.getColumnByField(Br):Mr&&(Ct=bt.find(function(sn){return sn.type===Mr}))}return Ct||{}}},{children:"childNodes",mapChildren:"_children"}),function(zt,Ct){return isColumnInfo(zt)&&(!Jt||Jt({column:zt,$columnIndex:Ct}))},{children:"_children",mapChildren:"childNodes",original:!0}):Mt=xeUtils.searchTree(rt?ft:bt,function(zt,Ct){return zt.visible&&(!Jt||Jt({column:zt,$columnIndex:Ct}))},{children:"children",mapChildren:"childNodes",original:!0});var ut=[];if(xeUtils.eachTree(Mt,function(zt){var Ct=zt.children&&zt.children.length;Ct||ut.push(zt)},{children:"childNodes"}),Ut.columns=ut,Ut.colgroups=convertToRows(Mt),Ut.filename||(Ut.filename=GlobalConfig.i18n(Ut.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[xeUtils.toDateString(Date.now(),"yyyyMMddHHmmss")])),Ut.sheetName||(Ut.sheetName=document.title),!Ut.exportMethod&&!xeUtils.includes(VXETable.config.exportTypes,je)){var Ht={status:!1};return Promise.reject(Ht)}if(Ut.print||gt&&gt({options:Ut,$table:e,$grid:$}),!Ut.data){if(Ut.data=Ye,tt==="selected"){var cr=e.getCheckboxRecords();["html","pdf"].indexOf(je)>-1&&He?Ut.data=xeUtils.searchTree(e.getTableData().fullData,function(zt){return e.findRowIndexOf(cr,zt)>-1},Object.assign({},at,{data:"_row"})):Ut.data=cr}else if(tt==="all"&&$&&!Ut.remote){var Vt=$.reactData,Ne=$.getComputeMaps().computeProxyOpts,ot=Ne.value,Tt=ot.beforeQueryAll,St=ot.afterQueryAll,jt=ot.ajax,or=jt===void 0?{}:jt,xr=ot.props,st=xr===void 0?{}:xr,yt=or.queryAll;if(yt){var Ft={$table:e,$grid:$,sort:Vt.sortData,filters:Vt.filterData,form:Vt.formData,target:yt,options:Ut};return Promise.resolve((Tt||yt)(Ft)).catch(function(zt){return zt}).then(function(zt){return Ut.data=(st.list?xeUtils.get(zt,st.list):zt)||[],St&&St(Ft),ge(Ut)})}}}return ge(Ut)},importByFile:function(Ee,He){var rt=Object.assign({},He),ft=rt.beforeImportMethod;return ft&&ft({options:rt,$table:e}),$e(Ee,rt)},importData:function(Ee){var He=n.value,rt=Object.assign({types:VXETable.config.importTypes},He,Ee),ft=rt.beforeImportMethod,bt=rt.afterImportMethod;return ft&&ft({options:rt,$table:e}),readLocalFile(rt).catch(function(Ye){return bt&&bt({status:!1,options:rt,$table:e}),Promise.reject(Ye)}).then(function(Ye){var De=Ye.file;return $e(De,rt)})},saveFile:function(Ee){return saveLocalFile(Ee)},readFile:function(Ee){return readLocalFile(Ee)},print:function(Ee){var He=u.value,rt=Object.assign({original:!1},He,Ee,{type:"html",download:!1,remote:!1,print:!0});return rt.sheetName||(rt.sheetName=document.title),new Promise(function(ft){rt.content?ft(handlePrint(e,rt,rt.content)):ft(ke.exportData(rt).then(function(bt){var Ye=bt.content;return handlePrint(e,rt,Ye)}))})},openImport:function(Ee){var He=r.treeConfig,rt=r.importConfig,ft=l.initStore,bt=l.importStore,Ye=l.importParams,De=n.value,at=Object.assign({mode:"insert",message:!0,types:VXETable.config.importTypes},Ee,De),Ut=at.types,je=!!He;if(je){at.message&&VXETable.modal.message({content:GlobalConfig.i18n("vxe.error.treeNotImp"),status:"error"});return}rt||errLog("vxe.error.reqProp",["import-config"]);var tt=Ut.map(function(Gt){return{value:Gt,label:"vxe.export.types."+Gt}}),We=at.modes.map(function(Gt){return{value:Gt,label:"vxe.import.modes."+Gt}});Object.assign(bt,{file:null,type:"",filename:"",modeList:We,typeList:tt,visible:!0}),Object.assign(Ye,at),ft.import=!0},openExport:function(Ee){var He=f.value;be(Object.assign({},He,Ee))},openPrint:function(Ee){var He=u.value;be(Object.assign({},He,Ee),!0)}};return ke},setupGrid:function(e){return e.extendTableMethods(tableExportMethodKeys)}},print=function(e){var r=Object.assign({},e,{type:"html"});handlePrint(null,r,r.content)},Export={ExportPanel:ExportPanelComponent,ImportPanel:ImportPanelComponent,install:function(e){VXETable.saveFile=saveLocalFile,VXETable.readFile=readLocalFile,VXETable.print=print,VXETable.setup({export:{types:{csv:0,html:0,xml:0,txt:0}}}),VXETable.hooks.add("$tableExport",tableExportHook),dynamicApp.component(ExportPanelComponent.name,ExportPanelComponent),dynamicApp.component(ImportPanelComponent.name,ImportPanelComponent),e.component(ExportPanelComponent.name,ExportPanelComponent),e.component(ImportPanelComponent.name,ImportPanelComponent)}};function getTargetOffset(e,r){var l=0,g=0,x=!browse.firefox&&hasClass(e,"vxe-checkbox--label");if(x){var C=getComputedStyle(e);l-=xeUtils.toNumber(C.paddingTop),g-=xeUtils.toNumber(C.paddingLeft)}for(;e&&e!==r;)if(l+=e.offsetTop,g+=e.offsetLeft,e=e.offsetParent,x){var u=getComputedStyle(e);l-=xeUtils.toNumber(u.paddingTop),g-=xeUtils.toNumber(u.paddingLeft)}return{offsetTop:l,offsetLeft:g}}var tableKeyboardHook={setupTable:function(e){var r=e.props,l=e.reactData,g=e.internalData,x=e.getRefMaps().refElem,C=e.getComputeMaps(),u=C.computeEditOpts,f=C.computeCheckboxOpts,n=C.computeMouseOpts,S=C.computeTreeOpts;function k(R,B,V){var j=0,U=[],q=V>0,Y=V>0?V:Math.abs(V)+B.offsetHeight,Q=l.scrollYLoad,te=g.afterFullData,re=g.scrollYStore;if(Q){var oe=e.getVTRowIndex(R.row);q?U=te.slice(oe,oe+Math.ceil(Y/re.rowHeight)):U=te.slice(oe-Math.floor(Y/re.rowHeight)+1,oe+1)}else for(var se=q?"next":"previous";B&&j<Y;){var fe=e.getRowNode(B);fe&&(U.push(fe.item),j+=B.offsetHeight,B=B[se+"ElementSibling"])}return U}var M=function(R,B){var V=B.column,j=B.cell;if(V.type==="checkbox"){var U=x.value,q=g.elemStore,Y=R.clientX,Q=R.clientY,te=q[(V.fixed||"main")+"-body-wrapper"]||q["main-body-wrapper"],re=te.querySelector(".vxe-table--checkbox-range"),oe=document.onmousemove,se=document.onmouseup,fe=j.parentNode,ge=e.getCheckboxRecords(),Ce=[],$e=1,be=getTargetOffset(R.target,te),ke=be.offsetTop+R.offsetY,Ee=be.offsetLeft+R.offsetX,He=te.scrollTop,rt=fe.offsetHeight,ft=null,bt=!1,Ye=1,De=function(tt,We){e.dispatchEvent("checkbox-range-"+tt,{records:e.getCheckboxRecords(),reserves:e.getCheckboxReserveRecords()},We)},at=function(tt){var We=tt.clientX,Gt=tt.clientY,gt=We-Y,Mt=Gt-Q+(te.scrollTop-He),Rt=Math.abs(Mt),Jt=Math.abs(gt),ut=ke,Ht=Ee;Mt<$e?(ut+=Mt,ut<$e&&(ut=$e,Rt=ke)):Rt=Math.min(Rt,te.scrollHeight-ke-$e),gt<$e?(Ht+=gt,Jt>Ee&&(Ht=$e,Jt=Ee)):Jt=Math.min(Jt,te.clientWidth-Ee-$e),re.style.height=Rt+"px",re.style.width=Jt+"px",re.style.left=Ht+"px",re.style.top=ut+"px",re.style.display="block";var cr=k(B,fe,Mt<$e?-Rt:Rt);Rt>10&&cr.length!==Ce.length&&(Ce=cr,tt.ctrlKey?cr.forEach(function(Vt){e.handleSelectRow({row:Vt},ge.indexOf(Vt)===-1)}):(e.setAllCheckboxRow(!1),e.setCheckboxRow(cr,!0)),De("change",tt))},Ut=function(){clearTimeout(ft),ft=null},je=function(tt){Ut(),ft=setTimeout(function(){if(ft){var We=te.scrollLeft,Gt=te.scrollTop,gt=te.clientHeight,Mt=te.scrollHeight,Rt=Math.ceil(Ye*50/rt);bt?Gt+gt<Mt?(e.scrollTo(We,Gt+Rt),je(tt),at(tt)):Ut():Gt?(e.scrollTo(We,Gt-Rt),je(tt),at(tt)):Ut()}},50)};addClass(U,"drag--range"),document.onmousemove=function(tt){tt.preventDefault(),tt.stopPropagation();var We=tt.clientY,Gt=getAbsolutePos(te).boundingTop;We<Gt?(bt=!1,Ye=Gt-We,ft||je(tt)):We>Gt+te.clientHeight?(bt=!0,Ye=We-Gt-te.clientHeight,ft||je(tt)):ft&&Ut(),at(tt)},document.onmouseup=function(tt){Ut(),removeClass(U,"drag--range"),re.removeAttribute("style"),document.onmousemove=oe,document.onmouseup=se,De("end",tt)},De("start",R)}},P=function(R,B){var V=r.editConfig,j=r.checkboxConfig,U=r.mouseConfig,q=f.value,Y=n.value,Q=u.value;if(U&&Y.area&&e.handleCellAreaEvent)return e.handleCellAreaEvent(R,B);j&&q.range&&M(R,B),U&&Y.selected&&(!V||Q.mode==="cell")&&e.handleSelected(B,R)},$={moveTabSelected:function(R,B,V){var j=r.editConfig,U=g.afterFullData,q=g.visibleColumn,Y=u.value,Q,te,re,oe=Object.assign({},R),se=e.getVTRowIndex(oe.row),fe=e.getVTColumnIndex(oe.column);V.preventDefault(),B?fe<=0?se>0&&(te=se-1,Q=U[te],re=q.length-1):re=fe-1:fe>=q.length-1?se<U.length-1&&(te=se+1,Q=U[te],re=0):re=fe+1;var ge=q[re];ge&&(Q?(oe.rowIndex=te,oe.row=Q):oe.rowIndex=se,oe.columnIndex=re,oe.column=ge,oe.cell=e.getCell(oe.row,oe.column),j?(Y.trigger==="click"||Y.trigger==="dblclick")&&(Y.mode==="row"?e.handleActived(oe,V):e.scrollToRow(oe.row,oe.column).then(function(){return e.handleSelected(oe,V)})):e.scrollToRow(oe.row,oe.column).then(function(){return e.handleSelected(oe,V)}))},moveCurrentRow:function(R,B,V){var j=r.treeConfig,U=l.currentRow,q=g.afterFullData,Y=S.value,Q;if(V.preventDefault(),U)if(j){var te=xeUtils.findTree(q,function(ge){return ge===U},Y),re=te.index,oe=te.items;R&&re>0?Q=oe[re-1]:B&&re<oe.length-1&&(Q=oe[re+1])}else{var se=e.getVTRowIndex(U);R&&se>0?Q=q[se-1]:B&&se<q.length-1&&(Q=q[se+1])}else Q=q[0];if(Q){var fe={$table:e,row:Q,rowIndex:e.getRowIndex(Q),$rowIndex:e.getVMRowIndex(Q)};e.scrollToRow(Q).then(function(){return e.triggerCurrentRowEvent(V,fe)})}},moveSelected:function(R,B,V,j,U,q){var Y=g.afterFullData,Q=g.visibleColumn,te=Object.assign({},R),re=e.getVTRowIndex(te.row),oe=e.getVTColumnIndex(te.column);q.preventDefault(),V&&re>0?(te.rowIndex=re-1,te.row=Y[te.rowIndex]):U&&re<Y.length-1?(te.rowIndex=re+1,te.row=Y[te.rowIndex]):B&&oe?(te.columnIndex=oe-1,te.column=Q[te.columnIndex]):j&&oe<Q.length-1&&(te.columnIndex=oe+1,te.column=Q[te.columnIndex]),e.scrollToRow(te.row,te.column).then(function(){te.cell=e.getCell(te.row,te.column),e.handleSelected(te,q)})},triggerHeaderCellMousedownEvent:function(R,B){var V=r.mouseConfig,j=n.value;if(V&&j.area&&e.handleHeaderCellAreaEvent){var U=R.currentTarget,q=getEventTargetNode(R,U,"vxe-cell--sort").flag,Y=getEventTargetNode(R,U,"vxe-cell--filter").flag;e.handleHeaderCellAreaEvent(R,Object.assign({cell:U,triggerSort:q,triggerFilter:Y},B))}e.focus(),e.closeMenu&&e.closeMenu()},triggerCellMousedownEvent:function(R,B){var V=R.currentTarget;B.cell=V,P(R,B),e.focus(),e.closeFilter(),e.closeMenu&&e.closeMenu()}};return $}},Keyboard={install:function(){VXETable.hooks.add("$tableKeyboard",tableKeyboardHook)}},__assign$a=globalThis&&globalThis.__assign||function(){return __assign$a=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$a.apply(this,arguments)},Rule$1=function(){function e(r){Object.assign(this,{$options:r,required:r.required,min:r.min,max:r.max,type:r.type,pattern:r.pattern,validator:r.validator,trigger:r.trigger,maxWidth:r.maxWidth})}return Object.defineProperty(e.prototype,"content",{get:function(){return getFuncText(this.$options.content||this.$options.message)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.content},enumerable:!1,configurable:!0}),e}(),tableValidatorMethodKeys=["fullValidate","validate","clearValidate"],validatorHook={setupTable:function(e){var r=e.props,l=e.reactData,g=e.internalData,x=e.getRefMaps().refValidTooltip,C=e.getComputeMaps(),u=C.computeValidOpts,f=C.computeTreeOpts,n=C.computeEditOpts,S={},k={},M,P=function(B){return new Promise(function(V){var j=u.value;j.autoPos===!1?(e.dispatchEvent("valid-error",B,null),V()):e.handleActived(B,{type:"valid-error",trigger:"call"}).then(function(){setTimeout(function(){V(k.showValidTooltip(B))},10)})})},$=function(B,V,j){var U={},q=r.editRules,Y=r.treeConfig,Q=g.afterFullData,te=f.value,re=u.value,oe;B===!0?oe=Q:B&&(xeUtils.isFunction(B)?V=B:oe=xeUtils.isArray(B)?B:[B]),oe||(e.getInsertRecords?oe=e.getInsertRecords().concat(e.getUpdateRecords()):oe=[]);var se=[];if(g._lastCallTime=Date.now(),M=!1,S.clearValidate(),q){var fe=e.getColumns(),ge=function(Ce){if(j||!M){var $e=[];fe.forEach(function(be){(j||!M)&&xeUtils.has(q,be.property)&&$e.push(k.validCellRules("all",Ce,be).catch(function(ke){var Ee=ke.rule,He=ke.rules,rt={rule:Ee,rules:He,rowIndex:e.getRowIndex(Ce),row:Ce,columnIndex:e.getColumnIndex(be),column:be,field:be.property,$table:e};if(U[be.property]||(U[be.property]=[]),U[be.property].push(rt),!j)return M=!0,Promise.reject(rt)}))}),se.push(Promise.all($e))}};return Y?xeUtils.eachTree(oe,ge,te):oe.forEach(ge),Promise.all(se).then(function(){var Ce=Object.keys(U);return nextTick().then(function(){if(Ce.length)return Promise.reject(U[Ce[0]][0]);V&&V()})}).catch(function(Ce){return new Promise(function($e,be){var ke=function(){nextTick(function(){V?(V(U),$e()):GlobalConfig.validToReject==="obsolete"?be(U):$e(U)})},Ee=function(){Ce.cell=e.getCell(Ce.row,Ce.column),scrollToView(Ce.cell),P(Ce).then(ke)},He=Ce.row,rt=Q.indexOf(He),ft=rt>0?Q[rt-1]:He;re.autoPos===!1?ke():Y?e.scrollToTreeRow(ft).then(Ee):e.scrollToRow(ft).then(Ee)})})}return nextTick().then(function(){V&&V()})};S={fullValidate:function(B,V){return $(B,V,!0)},validate:function(B,V){return $(B,V)},clearValidate:function(){var B=l.validStore,V=x.value;return Object.assign(B,{visible:!1,row:null,column:null,content:"",rule:null}),V&&V.reactData.visible&&V.close(),nextTick()}};var R=function(B,V){var j=B.type,U=B.min,q=B.max,Y=B.pattern,Q=j==="number",te=Q?xeUtils.toNumber(V):xeUtils.getSize(V);return!!(Q&&isNaN(V)||!xeUtils.eqNull(U)&&te<xeUtils.toNumber(U)||!xeUtils.eqNull(q)&&te>xeUtils.toNumber(q)||Y&&!(xeUtils.isRegExp(Y)?Y:new RegExp(Y)).test(V))};return k={validCellRules:function(B,V,j,U){var q=r.editRules,Y=j.property,Q=[],te=[];if(Y&&q){var re=xeUtils.get(q,Y);if(re){var oe=xeUtils.isUndefined(U)?xeUtils.get(V,Y):U;re.forEach(function(se){var fe=se.type,ge=se.trigger,Ce=se.required;if(B==="all"||!ge||B===ge)if(xeUtils.isFunction(se.validator)){var $e=se.validator({cellValue:oe,rule:se,rules:re,row:V,rowIndex:e.getRowIndex(V),column:j,columnIndex:e.getColumnIndex(j),field:j.property,$table:e});$e&&(xeUtils.isError($e)?(M=!0,Q.push(new Rule$1({type:"custom",trigger:ge,content:$e.message,rule:new Rule$1(se)}))):$e.catch&&te.push($e.catch(function(Ee){M=!0,Q.push(new Rule$1({type:"custom",trigger:ge,content:Ee&&Ee.message?Ee.message:se.content||se.message,rule:new Rule$1(se)}))})))}else{var be=fe==="array",ke=be?!xeUtils.isArray(oe)||!oe.length:eqEmptyValue(oe);(Ce?ke||R(se,oe):!ke&&R(se,oe))&&(M=!0,Q.push(new Rule$1(se)))}})}}return Promise.all(te).then(function(){if(Q.length){var se={rules:Q,rule:Q[0]};return Promise.reject(se)}})},hasCellRules:function(B,V,j){var U=r.editRules,q=j.property;if(q&&U){var Y=xeUtils.get(U,q);return Y&&!!xeUtils.find(Y,function(Q){return B==="all"||!Q.trigger||B===Q.trigger})}return!1},triggerValidate:function(B){var V=r.editConfig,j=r.editRules,U=l.editStore,q=l.validStore,Y=U.actived,Q=n.value;if(V&&j&&Y.row){var te=Y.args,re=te.row,oe=te.column,se=te.cell;if(k.hasCellRules(B,re,oe))return k.validCellRules(B,re,oe).then(function(){Q.mode==="row"&&q.visible&&q.row===re&&q.column===oe&&S.clearValidate()}).catch(function(fe){var ge=fe.rule;if(!ge.trigger||B===ge.trigger){var Ce={rule:ge,row:re,column:oe,cell:se};return k.showValidTooltip(Ce),Promise.reject(Ce)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip:function(B){var V=r.height,j=l.tableData,U=l.validStore,q=u.value,Y=B.rule,Q=B.row,te=B.column,re=B.cell,oe=x.value,se=Y.content;return nextTick().then(function(){if(Object.assign(U,{row:Q,column:te,rule:Y,content:se,visible:!0}),e.dispatchEvent("valid-error",B,null),oe&&(q.message==="tooltip"||q.message==="default"&&!V&&j.length<2))return oe.open(re,se)})}},__assign$a(__assign$a({},S),k)},setupGrid:function(e){return e.extendTableMethods(tableValidatorMethodKeys)}},Validator={install:function(){VXETable.hooks.add("$tableValidator",validatorHook)}},__assign$9=globalThis&&globalThis.__assign||function(){return __assign$9=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$9.apply(this,arguments)};function renderHelpIcon(e){var r=e.$table,l=e.column,g=l.titleHelp;return g?[h$1("i",{class:["vxe-cell-help-icon",g.icon||GlobalConfig.icon.TABLE_HELP],onMouseenter:function(x){r.triggerHeaderHelpEvent(x,e)},onMouseleave:function(x){r.handleTargetLeaveEvent(x)}})]:[]}function renderTitleContent(e,r){var l=e.$table,g=e.column,x=l.props,C=l.internalData,u=l.getComputeMaps().computeTooltipOpts,f=x.showHeaderOverflow,n=g.type,S=g.showHeaderOverflow,k=u.value,M=k.showAll,P=xeUtils.isUndefined(S)||xeUtils.isNull(S)?f:S,$=P==="title",R=P===!0||P==="tooltip",B={};return($||R||M)&&(B.onMouseenter=function(V){C._isResize||($?updateCellTitle(V.currentTarget,g):(R||M)&&l.triggerHeaderTooltipEvent(V,e))}),(R||M)&&(B.onMouseleave=function(V){C._isResize||(R||M)&&l.handleTargetLeaveEvent(V)}),[n==="html"&&xeUtils.isString(r)?h$1("span",__assign$9({class:"vxe-cell--title",innerHTML:r},B)):h$1("span",__assign$9({class:"vxe-cell--title"},B),r)]}function getFooterContent(e){var r=e.$table,l=e.column,g=e._columnIndex,x=e.items,C=l.slots,u=l.editRender,f=l.cellRender,n=u||f,S=C?C.footer:null;if(S)return r.callSlot(S,e);if(n){var k=VXETable.renderer.get(n.name);if(k&&k.renderFooter)return k.renderFooter(n,e)}return[formatText(x[g],1)]}function getDefaultCellLabel(e){var r=e.$table,l=e.row,g=e.column;return formatText(r.getCellLabel(l,g),1)}var Cell={createColumn:function(e,r){var l=r.type,g=r.sortable,x=r.filters,C=r.editRender,u=r.treeNode,f=e.props,n=f.editConfig,S=e.getComputeMaps(),k=S.computeEditOpts,M=S.computeCheckboxOpts,P=M.value,$=k.value,R={renderHeader:Cell.renderDefaultHeader,renderCell:u?Cell.renderTreeCell:Cell.renderDefaultCell,renderFooter:Cell.renderDefaultFooter};switch(l){case"seq":R.renderHeader=Cell.renderSeqHeader,R.renderCell=u?Cell.renderTreeIndexCell:Cell.renderSeqCell;break;case"radio":R.renderHeader=Cell.renderRadioHeader,R.renderCell=u?Cell.renderTreeRadioCell:Cell.renderRadioCell;break;case"checkbox":R.renderHeader=Cell.renderCheckboxHeader,R.renderCell=P.checkField?u?Cell.renderTreeSelectionCellByProp:Cell.renderCheckboxCellByProp:u?Cell.renderTreeSelectionCell:Cell.renderCheckboxCell;break;case"expand":R.renderCell=Cell.renderExpandCell,R.renderData=Cell.renderExpandData;break;case"html":R.renderCell=u?Cell.renderTreeHTMLCell:Cell.renderHTMLCell,x&&g?R.renderHeader=Cell.renderSortAndFilterHeader:g?R.renderHeader=Cell.renderSortHeader:x&&(R.renderHeader=Cell.renderFilterHeader);break;default:n&&C?(R.renderHeader=Cell.renderEditHeader,R.renderCell=$.mode==="cell"?u?Cell.renderTreeCellEdit:Cell.renderCellEdit:u?Cell.renderTreeRowEdit:Cell.renderRowEdit):x&&g?R.renderHeader=Cell.renderSortAndFilterHeader:g?R.renderHeader=Cell.renderSortHeader:x&&(R.renderHeader=Cell.renderFilterHeader)}return createColumn(e,r,R)},renderHeaderTitle:function(e){var r=e.$table,l=e.column,g=l.slots,x=l.editRender,C=l.cellRender,u=x||C,f=g?g.header:null;if(f)return renderTitleContent(e,r.callSlot(f,e));if(u){var n=VXETable.renderer.get(u.name);if(n&&n.renderHeader)return renderTitleContent(e,n.renderHeader(u,e))}return renderTitleContent(e,formatText(l.getTitle(),1))},renderDefaultHeader:function(e){return renderHelpIcon(e).concat(Cell.renderHeaderTitle(e))},renderDefaultCell:function(e){var r=e.$table,l=e.row,g=e.column,x=g.slots,C=g.editRender,u=g.cellRender,f=C||u,n=x?x.default:null;if(n)return r.callSlot(n,e);if(f){var S=C?"renderCell":"renderDefault",k=VXETable.renderer.get(f.name),M=k?k[S]:null;if(M)return M(f,Object.assign({$type:C?"edit":"cell"},e))}var P=r.getCellLabel(l,g),$=C?C.placeholder:"";return[h$1("span",{class:"vxe-cell--label"},C&&eqEmptyValue(P)?[h$1("span",{class:"vxe-cell--placeholder"},formatText(getFuncText($),1))]:formatText(P,1))]},renderTreeCell:function(e){return Cell.renderTreeIcon(e,Cell.renderDefaultCell(e))},renderDefaultFooter:function(e){return[h$1("span",{class:"vxe-cell--item"},getFooterContent(e))]},renderTreeIcon:function(e,r){var l=e.$table,g=e.isHidden,x=l.reactData,C=l.getComputeMaps().computeTreeOpts,u=x.treeExpandeds,f=x.treeLazyLoadeds,n=C.value,S=e.row,k=e.column,M=e.level,P=k.slots,$=n.children,R=n.hasChild,B=n.indent,V=n.lazy,j=n.trigger,U=n.iconLoaded,q=n.showIcon,Y=n.iconOpen,Q=n.iconClose,te=S[$],re=P?P.icon:null,oe=!1,se=!1,fe=!1,ge={};return re?l.callSlot(re,e):(g||(se=l.findRowIndexOf(u,S)>-1,V&&(fe=l.findRowIndexOf(f,S)>-1,oe=S[R])),(!j||j==="default")&&(ge.onClick=function(Ce){return l.triggerTreeExpandEvent(Ce,e)}),[h$1("div",{class:["vxe-cell--tree-node",{"is--active":se}],style:{paddingLeft:M*B+"px"}},[q&&(te&&te.length||oe)?[h$1("div",__assign$9({class:"vxe-tree--btn-wrapper"},ge),[h$1("i",{class:["vxe-tree--node-btn",fe?U||GlobalConfig.icon.TABLE_TREE_LOADED:se?Y||GlobalConfig.icon.TABLE_TREE_OPEN:Q||GlobalConfig.icon.TABLE_TREE_CLOSE]})])]:null,h$1("div",{class:"vxe-tree-cell"},r)])])},renderSeqHeader:function(e){var r=e.$table,l=e.column,g=l.slots,x=g?g.header:null;return renderTitleContent(e,x?r.callSlot(x,e):formatText(l.getTitle(),1))},renderSeqCell:function(e){var r=e.$table,l=e.column,g=r.props,x=g.treeConfig,C=r.getComputeMaps().computeSeqOpts,u=C.value,f=l.slots,n=f?f.default:null;if(n)return r.callSlot(n,e);var S=e.seq,k=u.seqMethod;return[formatText(k?k(e):x?S:(u.startIndex||0)+S,1)]},renderTreeIndexCell:function(e){return Cell.renderTreeIcon(e,Cell.renderSeqCell(e))},renderRadioHeader:function(e){var r=e.$table,l=e.column,g=l.slots,x=g?g.header:null,C=g?g.title:null;return renderTitleContent(e,x?r.callSlot(x,e):[h$1("span",{class:"vxe-radio--label"},C?r.callSlot(C,e):formatText(l.getTitle(),1))])},renderRadioCell:function(e){var r=e.$table,l=e.column,g=e.isHidden,x=r.reactData,C=r.getComputeMaps().computeRadioOpts,u=x.selectRow,f=C.value,n=l.slots,S=f.labelField,k=f.checkMethod,M=f.visibleMethod,P=e.row,$=n?n.default:null,R=n?n.radio:null,B=P===u,V=!M||M({row:P}),j=!!k,U;g||(U={onClick:function(Q){!j&&V&&r.triggerRadioRowEvent(Q,e)}},k&&(j=!k({row:P})));var q=__assign$9(__assign$9({},e),{checked:B,disabled:j,visible:V});if(R)return r.callSlot(R,q);var Y=[];return V&&Y.push(h$1("span",{class:"vxe-radio--icon vxe-radio--checked-icon"}),h$1("span",{class:"vxe-radio--icon vxe-radio--unchecked-icon"})),($||S)&&Y.push(h$1("span",{class:"vxe-radio--label"},$?r.callSlot($,q):xeUtils.get(P,S))),[h$1("span",__assign$9({class:["vxe-cell--radio",{"is--checked":B,"is--disabled":j}]},U),Y)]},renderTreeRadioCell:function(e){return Cell.renderTreeIcon(e,Cell.renderRadioCell(e))},renderCheckboxHeader:function(e){var r=e.$table,l=e.column,g=e.isHidden,x=r.reactData,C=r.getComputeMaps(),u=C.computeIsAllCheckboxDisabled,f=C.computeCheckboxOpts,n=x.isAllSelected,S=x.isIndeterminate,k=u.value,M=l.slots,P=M?M.header:null,$=M?M.title:null,R=f.value,B=l.getTitle(),V;g||(V={onClick:function(U){k||r.triggerCheckAllEvent(U,!n)}});var j=__assign$9(__assign$9({},e),{checked:n,disabled:k,indeterminate:S});return P?renderTitleContent(j,r.callSlot(P,j)):(R.checkStrictly?!R.showHeader:R.showHeader===!1)?renderTitleContent(j,[h$1("span",{class:"vxe-checkbox--label"},$?r.callSlot($,j):B)]):renderTitleContent(j,[h$1("span",__assign$9({class:["vxe-cell--checkbox",{"is--checked":n,"is--disabled":k,"is--indeterminate":S}],title:GlobalConfig.i18n("vxe.table.allTitle")},V),[h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"})].concat($||B?[h$1("span",{class:"vxe-checkbox--label"},$?r.callSlot($,j):B)]:[]))])},renderCheckboxCell:function(e){var r=e.$table,l=e.row,g=e.column,x=e.isHidden,C=r.props,u=r.reactData,f=C.treeConfig,n=u.selection,S=u.treeIndeterminates,k=r.getComputeMaps().computeCheckboxOpts,M=k.value,P=M.labelField,$=M.checkMethod,R=M.visibleMethod,B=g.slots,V=B?B.default:null,j=B?B.checkbox:null,U=!1,q=!1,Y=!R||R({row:l}),Q=!!$,te;x||(q=r.findRowIndexOf(n,l)>-1,te={onClick:function(se){!Q&&Y&&r.triggerCheckRowEvent(se,e,!q)}},$&&(Q=!$({row:l})),f&&(U=r.findRowIndexOf(S,l)>-1));var re=__assign$9(__assign$9({},e),{checked:q,disabled:Q,visible:Y,indeterminate:U});if(j)return r.callSlot(j,re);var oe=[];return Y&&oe.push(h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"})),(V||P)&&oe.push(h$1("span",{class:"vxe-checkbox--label"},V?r.callSlot(V,re):xeUtils.get(l,P))),[h$1("span",__assign$9({class:["vxe-cell--checkbox",{"is--checked":q,"is--disabled":Q,"is--indeterminate":U}]},te),oe)]},renderTreeSelectionCell:function(e){return Cell.renderTreeIcon(e,Cell.renderCheckboxCell(e))},renderCheckboxCellByProp:function(e){var r=e.$table,l=e.row,g=e.column,x=e.isHidden,C=r.props,u=r.reactData,f=C.treeConfig,n=u.treeIndeterminates,S=r.getComputeMaps().computeCheckboxOpts,k=S.value,M=k.labelField,P=k.checkField,$=k.halfField,R=k.checkMethod,B=k.visibleMethod,V=g.slots,j=V?V.default:null,U=V?V.checkbox:null,q=!1,Y=!1,Q=!B||B({row:l}),te=!!R,re;x||(Y=xeUtils.get(l,P),re={onClick:function(fe){!te&&Q&&r.triggerCheckRowEvent(fe,e,!Y)}},R&&(te=!R({row:l})),f&&(q=r.findRowIndexOf(n,l)>-1));var oe=__assign$9(__assign$9({},e),{checked:Y,disabled:te,visible:Q,indeterminate:q});if(U)return r.callSlot(U,oe);var se=[];return Q&&(se.push(h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"})),(j||M)&&se.push(h$1("span",{class:"vxe-checkbox--label"},j?r.callSlot(j,oe):xeUtils.get(l,M)))),[h$1("span",__assign$9({class:["vxe-cell--checkbox",{"is--checked":Y,"is--disabled":te,"is--indeterminate":$&&!Y?l[$]:q}]},re),se)]},renderTreeSelectionCellByProp:function(e){return Cell.renderTreeIcon(e,Cell.renderCheckboxCellByProp(e))},renderExpandCell:function(e){var r=e.$table,l=e.isHidden,g=e.row,x=e.column,C=r.reactData,u=C.rowExpandeds,f=C.expandLazyLoadeds,n=r.getComputeMaps().computeExpandOpts,S=n.value,k=S.lazy,M=S.labelField,P=S.iconLoaded,$=S.showIcon,R=S.iconOpen,B=S.iconClose,V=S.visibleMethod,j=x.slots,U=j?j.default:null,q=j?j.icon:null,Y=!1,Q=!1;return q?r.callSlot(q,e):(l||(Y=r.findRowIndexOf(u,e.row)>-1,k&&(Q=r.findRowIndexOf(f,g)>-1)),[$&&(!V||V(e))?h$1("span",{class:["vxe-table--expanded",{"is--active":Y}],onClick:function(te){r.triggerRowExpandEvent(te,e)}},[h$1("i",{class:["vxe-table--expand-btn",Q?P||GlobalConfig.icon.TABLE_EXPAND_LOADED:Y?R||GlobalConfig.icon.TABLE_EXPAND_OPEN:B||GlobalConfig.icon.TABLE_EXPAND_CLOSE]})]):null,U||M?h$1("span",{class:"vxe-table--expand-label"},U?r.callSlot(U,e):xeUtils.get(g,M)):null])},renderExpandData:function(e){var r=e.$table,l=e.column,g=l.slots,x=l.contentRender,C=g?g.content:null;if(C)return r.callSlot(C,e);if(x){var u=VXETable.renderer.get(x.name);if(u&&u.renderExpand)return u.renderExpand(x,e)}return[]},renderHTMLCell:function(e){var r=e.$table,l=e.column,g=l.slots,x=g?g.default:null;return x?r.callSlot(x,e):[h$1("span",{class:"vxe-cell--html",innerHTML:getDefaultCellLabel(e)})]},renderTreeHTMLCell:function(e){return Cell.renderTreeIcon(e,Cell.renderHTMLCell(e))},renderSortAndFilterHeader:function(e){return Cell.renderDefaultHeader(e).concat(Cell.renderSortIcon(e)).concat(Cell.renderFilterIcon(e))},renderSortHeader:function(e){return Cell.renderDefaultHeader(e).concat(Cell.renderSortIcon(e))},renderSortIcon:function(e){var r=e.$table,l=e.column,g=r.getComputeMaps().computeSortOpts,x=g.value,C=x.showIcon,u=x.iconAsc,f=x.iconDesc,n=l.order;return C?[h$1("span",{class:"vxe-cell--sort"},[h$1("i",{class:["vxe-sort--asc-btn",u||GlobalConfig.icon.TABLE_SORT_ASC,{"sort--active":n==="asc"}],title:GlobalConfig.i18n("vxe.table.sortAsc"),onClick:function(S){r.triggerSortEvent(S,l,"asc")}}),h$1("i",{class:["vxe-sort--desc-btn",f||GlobalConfig.icon.TABLE_SORT_DESC,{"sort--active":n==="desc"}],title:GlobalConfig.i18n("vxe.table.sortDesc"),onClick:function(S){r.triggerSortEvent(S,l,"desc")}})])]:[]},renderFilterHeader:function(e){return Cell.renderDefaultHeader(e).concat(Cell.renderFilterIcon(e))},renderFilterIcon:function(e){var r=e.$table,l=e.column,g=e.hasFilter,x=r.reactData,C=x.filterStore,u=r.getComputeMaps().computeFilterOpts,f=u.value,n=f.showIcon,S=f.iconNone,k=f.iconMatch;return n?[h$1("span",{class:["vxe-cell--filter",{"is--active":C.visible&&C.column===l}]},[h$1("i",{class:["vxe-filter--btn",g?k||GlobalConfig.icon.TABLE_FILTER_MATCH:S||GlobalConfig.icon.TABLE_FILTER_NONE],title:GlobalConfig.i18n("vxe.table.filter"),onClick:function(M){r.triggerFilterEvent(M,e.column,e)}})])]:[]},renderEditHeader:function(e){var r=e.$table,l=e.column,g=r.props,x=r.getComputeMaps().computeEditOpts,C=g.editConfig,u=g.editRules,f=x.value,n=l.sortable,S=l.filters,k=l.editRender,M=!1;if(u){var P=xeUtils.get(u,e.column.property);P&&(M=P.some(function($){return $.required}))}return(isEnableConf(C)?[M&&f.showAsterisk?h$1("i",{class:"vxe-cell--required-icon"}):null,isEnableConf(k)&&f.showIcon?h$1("i",{class:["vxe-cell--edit-icon",f.icon||GlobalConfig.icon.TABLE_EDIT]}):null]:[]).concat(Cell.renderDefaultHeader(e)).concat(n?Cell.renderSortIcon(e):[]).concat(S?Cell.renderFilterIcon(e):[])},renderRowEdit:function(e){var r=e.$table,l=e.column,g=r.reactData,x=g.editStore,C=x.actived,u=l.editRender;return Cell.runRenderer(e,isEnableConf(u)&&C&&C.row===e.row)},renderTreeRowEdit:function(e){return Cell.renderTreeIcon(e,Cell.renderRowEdit(e))},renderCellEdit:function(e){var r=e.$table,l=e.column,g=r.reactData,x=g.editStore,C=x.actived,u=l.editRender;return Cell.runRenderer(e,isEnableConf(u)&&C&&C.row===e.row&&C.column===e.column)},renderTreeCellEdit:function(e){return Cell.renderTreeIcon(e,Cell.renderCellEdit(e))},runRenderer:function(e,r){var l=e.$table,g=e.column,x=g.slots,C=g.editRender,u=g.formatter,f=x?x.default:null,n=x?x.edit:null,S=VXETable.renderer.get(C.name);return r?n?l.callSlot(n,e):S&&S.renderEdit?S.renderEdit(C,Object.assign({$type:"edit"},e)):[]:f?l.callSlot(f,e):u?[h$1("span",{class:"vxe-cell--label"},getDefaultCellLabel(e))]:Cell.renderDefaultCell(e)}},columnProps={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,treeNode:Boolean,visible:{type:Boolean,default:null},exportMethod:Function,footerExportMethod:Function,titleHelp:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object},VxeTableColumnComponent=defineComponent({name:"VxeColumn",props:columnProps,setup:function(e,r){var l=r.slots,g=ref(),x=inject("$xetable",{}),C=inject("xecolgroup",null),u=Cell.createColumn(x,e);u.slots=l,provide("$xegrid",null),watchColumn(e,u),onMounted(function(){assemColumn(x,g.value,u,C)}),onUnmounted(function(){destroyColumn(x,u)});var f=function(){return h$1("div",{ref:g})};return f}}),Column=Object.assign(VxeTableColumnComponent,{install:function(e){dynamicApp.component(VxeTableColumnComponent.name,VxeTableColumnComponent),e.component(VxeTableColumnComponent.name,VxeTableColumnComponent),dynamicApp.component("VxeTableColumn",VxeTableColumnComponent),e.component("VxeTableColumn",VxeTableColumnComponent)}}),VxeTableColgroupComponent=defineComponent({name:"VxeColgroup",props:columnProps,setup:function(e,r){var l=r.slots,g=ref(),x=inject("$xetable",{}),C=inject("xecolgroup",null),u=Cell.createColumn(x,e),f={};l.header&&(f.header=l.header);var n={column:u};u.slots=f,u.children=[],provide("xecolgroup",n),provide("$xegrid",null),watchColumn(e,u),onMounted(function(){assemColumn(x,g.value,u,C)}),onUnmounted(function(){destroyColumn(x,u)});var S=function(){return h$1("div",{ref:g},l.default?l.default():[])};return S}}),Colgroup=Object.assign(VxeTableColgroupComponent,{install:function(e){dynamicApp.component(VxeTableColgroupComponent.name,VxeTableColgroupComponent),e.component(VxeTableColgroupComponent.name,VxeTableColgroupComponent),dynamicApp.component("VxeTableColgroup",VxeTableColgroupComponent),e.component("VxeTableColgroup",VxeTableColgroupComponent)}}),tableProps={id:String,data:Array,height:[Number,String],maxHeight:[Number,String],resizable:{type:Boolean,default:function(){return GlobalConfig.table.resizable}},stripe:{type:Boolean,default:function(){return GlobalConfig.table.stripe}},border:{type:[Boolean,String],default:function(){return GlobalConfig.table.border}},round:{type:Boolean,default:function(){return GlobalConfig.table.round}},size:{type:String,default:function(){return GlobalConfig.table.size||GlobalConfig.size}},fit:{type:Boolean,default:function(){return GlobalConfig.table.fit}},loading:Boolean,align:{type:String,default:function(){return GlobalConfig.table.align}},headerAlign:{type:String,default:function(){return GlobalConfig.table.headerAlign}},footerAlign:{type:String,default:function(){return GlobalConfig.table.footerAlign}},showHeader:{type:Boolean,default:function(){return GlobalConfig.table.showHeader}},highlightCurrentRow:{type:Boolean,default:function(){return GlobalConfig.table.highlightCurrentRow}},highlightHoverRow:{type:Boolean,default:function(){return GlobalConfig.table.highlightHoverRow}},highlightCurrentColumn:{type:Boolean,default:function(){return GlobalConfig.table.highlightCurrentColumn}},highlightHoverColumn:{type:Boolean,default:function(){return GlobalConfig.table.highlightHoverColumn}},highlightCell:Boolean,showFooter:Boolean,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:function(){return GlobalConfig.table.showOverflow}},showHeaderOverflow:{type:[Boolean,String],default:function(){return GlobalConfig.table.showHeaderOverflow}},showFooterOverflow:{type:[Boolean,String],default:function(){return GlobalConfig.table.showFooterOverflow}},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:function(){return GlobalConfig.table.rowId}},zIndex:Number,emptyText:{type:String,default:function(){return GlobalConfig.table.emptyText}},keepSource:{type:Boolean,default:function(){return GlobalConfig.table.keepSource}},autoResize:{type:Boolean,default:function(){return GlobalConfig.table.autoResize}},syncResize:[Boolean,String,Number],columnConfig:Object,rowConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,animat:{type:Boolean,default:function(){return GlobalConfig.table.animat}},delayHover:{type:Number,default:function(){return GlobalConfig.table.delayHover}},params:Object},tableEmits=["update:data","keydown","paste","copy","cut","current-change","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","edit-actived","edit-disabled","valid-error","scroll","custom","change-fnr","open-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-start","cell-area-selection-end","cell-area-extension-start","cell-area-extension-end","cell-area-arrows-start","cell-area-arrows-end"],__assign$8=globalThis&&globalThis.__assign||function(){return __assign$8=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$8.apply(this,arguments)},__spreadArray$2=globalThis&&globalThis.__spreadArray||function(e,r){for(var l=0,g=r.length,x=e.length;l<g;l++,x++)e[x]=r[l];return e},tableComponentPropKeys=Object.keys(tableProps),tableComponentMethodKeys=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","createData","createRow","revertData","clearData","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getData","getCheckboxRecords","getParentRow","getRowSeq","getRowById","getRowid","getTableData","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","isCheckedByCheckboxRow","isIndeterminateByCheckboxRow","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","setRadioRow","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","sort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","openTooltip","focus","blur","connect"],gridComponentEmits=__spreadArray$2(__spreadArray$2([],tableEmits),["page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","toolbar-button-click","toolbar-tool-click","zoom"]),VxeGridComponent=defineComponent({name:"VxeGrid",props:__assign$8(__assign$8({},tableProps),{columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:function(){return GlobalConfig.grid.size||GlobalConfig.size}}}),emits:gridComponentEmits,setup:function(e,r){var l=r.slots,g=r.emit,x=xeUtils.uniqueId(),C=getCurrentInstance(),u=useSize(e),f=reactive({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],pendingRecords:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:10,currentPage:1}}),n=ref(),S=ref(),k=ref(),M=ref(),P=ref(),$=ref(),R=ref(),B=ref(),V=ref(),j=ref(),U=function(st){var yt={};return st.forEach(function(Ft){yt[Ft]=function(){for(var zt=[],Ct=0;Ct<arguments.length;Ct++)zt[Ct]=arguments[Ct];var gr=S.value;return gr&&gr[Ft].apply(gr,zt)}}),yt},q=U(tableComponentMethodKeys);tableComponentMethodKeys.forEach(function(st){q[st]=function(){for(var yt=[],Ft=0;Ft<arguments.length;Ft++)yt[Ft]=arguments[Ft];var zt=S.value;return zt&&zt[st].apply(zt,yt)}});var Y=computed(function(){return Object.assign({},GlobalConfig.grid.proxyConfig,e.proxyConfig)}),Q=computed(function(){var st=Y.value;return st.message!==!1}),te=computed(function(){return Object.assign({},GlobalConfig.grid.pagerConfig,e.pagerConfig)}),re=computed(function(){return Object.assign({},GlobalConfig.grid.formConfig,e.formConfig)}),oe=computed(function(){return Object.assign({},GlobalConfig.grid.toolbarConfig,e.toolbarConfig)}),se=computed(function(){return Object.assign({},GlobalConfig.grid.zoomConfig,e.zoomConfig)}),fe=computed(function(){return f.isZMax?{zIndex:f.tZindex}:null}),ge=computed(function(){var st={},yt=e;return tableComponentPropKeys.forEach(function(Ft){st[Ft]=yt[Ft]}),st}),Ce={refElem:n,refTable:S,refForm:k,refToolbar:M,refPager:P},$e={computeProxyOpts:Y,computePagerOpts:te,computeFormOpts:re,computeToolbarOpts:oe,computeZoomOpts:se},be={xID:x,props:e,context:r,instance:C,reactData:f,getRefMaps:function(){return Ce},getComputeMaps:function(){return $e}},ke={},Ee=function(st){var yt=f.pendingRecords,Ft=e.rowClassName,zt=[];return yt.some(function(Ct){return Ct===st.row})&&zt.push("row--pending"),zt.push(Ft?xeUtils.isFunction(Ft)?Ft(st):Ft:""),zt},He=function(st){var yt=e.editConfig,Ft=f.pendingRecords,zt=S.value,Ct=yt?yt.activeMethod:null;return zt.findRowIndexOf(Ft,st.row)===-1&&(!Ct||Ct(__assign$8(__assign$8({},st),{$grid:be})))},rt=computed(function(){var st=e.seqConfig,yt=e.pagerConfig,Ft=e.loading,zt=e.editConfig,Ct=e.proxyConfig,gr=f.isZMax,Mr=f.tableLoading,Br=f.tablePage,sn=f.tableData,Hr=ge.value,cn=Y.value,Ve=Object.assign({},Hr);return gr&&(Hr.maxHeight?Ve.maxHeight="auto":Ve.height="auto"),Ct&&(Ve.loading=Ft||Mr,Ve.data=sn,Ve.rowClassName=Ee,cn.seq&&isEnableConf(yt)&&(Ve.seqConfig=Object.assign({},st,{startIndex:(Br.currentPage-1)*Br.pageSize}))),zt&&(Ve.editConfig=Object.assign({},zt,{activeMethod:He})),Ve}),ft=function(){nextTick(function(){var st=S.value,yt=M.value;st&&yt&&st.connect(yt)})},bt=function(){var st=e.pagerConfig,yt=f.tablePage,Ft=te.value,zt=Ft.currentPage,Ct=Ft.pageSize;st&&(zt&&(yt.currentPage=zt),Ct&&(yt.pageSize=Ct))},Ye=function(st){var yt=f.pendingRecords,Ft=Q.value,zt=S.value,Ct=zt.getCheckboxRecords();if(Ct.length){var gr=[],Mr=[];Ct.forEach(function(Br){yt.some(function(sn){return Br===sn})?Mr.push(Br):gr.push(Br)}),Mr.length?f.pendingRecords=yt.filter(function(Br){return zt.findRowIndexOf(Mr,Br)===-1}).concat(gr):gr.length&&(f.pendingRecords=yt.concat(gr)),q.clearCheckboxRow()}else Ft&&VXETable.modal.message({id:st,content:GlobalConfig.i18n("vxe.grid.selectOneRecord"),status:"warning"})},De=function(st,yt){var Ft=Y.value,zt=Ft.props,Ct=zt===void 0?{}:zt,gr;return st&&Ct.message&&(gr=xeUtils.get(st,Ct.message)),gr||GlobalConfig.i18n(yt)},at=function(st,yt,Ft){var zt=Q.value,Ct=q.getCheckboxRecords();if(zt){if(Ct.length)return VXETable.modal.confirm({id:"cfm_"+st,content:GlobalConfig.i18n(yt),escClosable:!0}).then(function(gr){gr==="confirm"&&Ft()});VXETable.modal.message({id:"msg_"+st,content:GlobalConfig.i18n("vxe.grid.selectOneRecord"),status:"warning"})}else Ct.length&&Ft();return Promise.resolve()},Ut=function(st){var yt=e.proxyConfig,Ft=f.tablePage,zt=st.currentPage,Ct=st.pageSize;Ft.currentPage=zt,Ft.pageSize=Ct,ke.dispatchEvent("page-change",st),yt&&ke.commitProxy("query")},je=function(st){var yt=S.value,Ft=e.proxyConfig,zt=yt.getComputeMaps().computeSortOpts,Ct=zt.value;Ct.remote&&(f.sortData=st.sortList,Ft&&(f.tablePage.currentPage=1,ke.commitProxy("query"))),ke.dispatchEvent("sort-change",st)},tt=function(st){var yt=S.value,Ft=e.proxyConfig,zt=yt.getComputeMaps().computeFilterOpts,Ct=zt.value;Ct.remote&&(f.filterData=st.filterList,Ft&&(f.tablePage.currentPage=1,ke.commitProxy("query"))),ke.dispatchEvent("filter-change",st)},We=function(st){var yt=e.proxyConfig;yt&&ke.commitProxy("reload"),ke.dispatchEvent("form-submit",st)},Gt=function(st){var yt=e.proxyConfig;yt&&ke.commitProxy("reload"),ke.dispatchEvent("form-reset",st)},gt=function(st){ke.dispatchEvent("form-submit-invalid",st)},Mt=function(st){nextTick(function(){return q.recalculate(!0)}),ke.dispatchEvent("form-toggle-collapse",st),ke.dispatchEvent("form-collapse",st)},Rt=function(st){var yt=f.isZMax;return(st?!yt:yt)&&(f.isZMax=!yt,f.tZindex<getLastZIndex()&&(f.tZindex=nextZIndex())),nextTick().then(function(){return q.recalculate(!0)}).then(function(){return f.isZMax})},Jt=function(st,yt){var Ft=st[yt];if(Ft)if(xeUtils.isString(Ft)){if(l[Ft])return l[Ft]}else return Ft;return null},ut=function(){var st=e.formConfig,yt=e.proxyConfig,Ft=f.formData,zt=Y.value,Ct=re.value,gr=[];if(isEnableConf(st)||l.form){var Mr=[];if(l.form)Mr=l.form({$grid:be});else if(Ct.items){var Br={};if(!Ct.inited){Ct.inited=!0;var sn=zt.beforeItem;zt&&sn&&Ct.items.forEach(function(Hr){sn({$grid:be,item:Hr})})}Ct.items.forEach(function(Hr){xeUtils.each(Hr.slots,function(cn){xeUtils.isFunction(cn)||l[cn]&&(Br[cn]=l[cn])})}),Mr.push(h$1(resolveComponent("vxe-form"),__assign$8(__assign$8({ref:k},Object.assign({},Ct,{data:yt&&zt.form?Ft:Ct.data})),{onSubmit:We,onReset:Gt,onSubmitInvalid:gt,onCollapse:Mt}),Br))}gr.push(h$1("div",{ref:$,class:"vxe-grid--form-wrapper"},Mr))}return gr},Ht=function(){var st=e.toolbarConfig,yt=oe.value,Ft=[];if(isEnableConf(st)||l.toolbar){var zt=[];if(l.toolbar)zt=l.toolbar({$grid:be});else{var Ct=yt.slots,gr=void 0,Mr=void 0,Br={};Ct&&(gr=Jt(Ct,"buttons"),Mr=Jt(Ct,"tools"),gr&&(Br.buttons=gr),Mr&&(Br.tools=Mr)),zt.push(h$1(resolveComponent("vxe-toolbar"),__assign$8({ref:M},yt),Br))}Ft.push(h$1("div",{ref:R,class:"vxe-grid--toolbar-wrapper"},zt))}return Ft},cr=function(){return l.top?[h$1("div",{ref:B,class:"vxe-grid--top-wrapper"},l.top({$grid:be}))]:[]},Vt={};tableEmits.forEach(function(st){var yt=xeUtils.camelCase("on-"+st);Vt[yt]=function(){for(var Ft=[],zt=0;zt<arguments.length;zt++)Ft[zt]=arguments[zt];return g.apply(void 0,__spreadArray$2([st],Ft))}});var Ne=function(){var st=e.proxyConfig,yt=rt.value,Ft=Y.value,zt=Object.assign({},Vt),Ct=l.empty;return st&&(Ft.sort&&(zt.onSortChange=je),Ft.filter&&(zt.onFilterChange=tt)),[h$1(resolveComponent("vxe-table"),__assign$8(__assign$8({ref:S},yt),zt),Ct?{empty:function(){return Ct({})}}:{})]},ot=function(){return l.bottom?[h$1("div",{ref:V,class:"vxe-grid--bottom-wrapper"},l.bottom({$grid:be}))]:[]},Tt=function(){var st=e.pagerConfig,yt=te.value,Ft=[];if(isEnableConf(st)||l.pager){var zt=[];if(l.pager)zt=l.pager({$grid:be});else{var Ct=yt.slots,gr={},Mr=void 0,Br=void 0;Ct&&(Mr=Jt(Ct,"left"),Br=Jt(Ct,"right"),Mr&&(gr.left=Mr),Br&&(gr.right=Br)),zt.push(h$1(resolveComponent("vxe-pager"),__assign$8(__assign$8(__assign$8({ref:P},yt),e.proxyConfig?f.tablePage:{}),{onPageChange:Ut}),gr))}Ft.push(h$1("div",{ref:j,class:"vxe-grid--pager-wrapper"},zt))}return Ft},St=function(){var st=e.proxyConfig,yt=e.formConfig,Ft=f.proxyInited,zt=Y.value,Ct=re.value;if(st){if(isEnableConf(yt)&&zt.form&&Ct.items){var gr={};Ct.items.forEach(function(Mr){var Br=Mr.field,sn=Mr.itemRender;if(Br){var Hr=null;if(sn){var cn=sn.defaultValue;xeUtils.isFunction(cn)?Hr=cn({item:Mr}):xeUtils.isUndefined(cn)||(Hr=cn)}gr[Br]=Hr}}),f.formData=gr}!Ft&&zt.autoLoad!==!1&&(f.proxyInited=!0,nextTick(function(){return ke.commitProxy("_init")}))}};ke={dispatchEvent:function(st,yt,Ft){g(st,Object.assign({$grid:be,$event:Ft},yt))},commitProxy:function(st){for(var yt=[],Ft=1;Ft<arguments.length;Ft++)yt[Ft-1]=arguments[Ft];var zt=e.toolbarConfig,Ct=e.pagerConfig,gr=e.editRules,Mr=f.tablePage,Br=f.formData,sn=Q.value,Hr=Y.value,cn=oe.value,Ve=Hr.beforeQuery,ve=Hr.afterQuery,lt=Hr.beforeDelete,sr=Hr.afterDelete,ir=Hr.beforeSave,mr=Hr.afterSave,kr=Hr.ajax,Pr=kr===void 0?{}:kr,Or=Hr.props,Er=Or===void 0?{}:Or,Nr=S.value,un=null,vn=null;if(xeUtils.isString(st)){var Ze=cn.buttons,_e=zt&&Ze?xeUtils.findTree(Ze,function(In){return In.code===st},{children:"dropdowns"}):null;un=_e?_e.item:null,vn=st}else un=st,vn=un.code;var Ie=un?un.params:null;switch(vn){case"insert":Nr.insert({});break;case"insert_actived":Nr.insert({}).then(function(In){var vi=In.row;return Nr.setActiveRow(vi)});break;case"mark_cancel":Ye(vn);break;case"remove":return at(vn,"vxe.grid.removeSelectRecord",function(){return Nr.removeCheckboxRow()});case"import":Nr.importData(Ie);break;case"open_import":Nr.openImport(Ie);break;case"export":Nr.exportData(Ie);break;case"open_export":Nr.openExport(Ie);break;case"reset_custom":Nr.resetColumn(!0);break;case"_init":case"reload":case"query":{var Qe=Pr.query;if(Qe){var ct=vn==="_init",kt=vn==="reload",er=[],Kt=[],Nt={};if(Ct&&((ct||kt)&&(Mr.currentPage=1),isEnableConf(Ct)&&(Nt=__assign$8({},Mr))),ct){var Qt=Nr.getComputeMaps().computeSortOpts,Cr=Qt.value,Lr=Cr.defaultSort;Lr&&(xeUtils.isArray(Lr)||(Lr=[Lr]),er=Lr.map(function(In){return{field:In.field,property:In.field,order:In.order}})),Kt=Nr.getCheckedFilters()}else kt?(f.pendingRecords=[],Nr.clearAll()):(er=Nr.getSortColumns(),Kt=Nr.getCheckedFilters());var Tr={code:vn,button:un,$grid:be,page:Nt,sort:er.length?er[0]:{},sorts:er,filters:Kt,form:Br,options:Qe};f.sortData=er,f.filterData=Kt,f.tableLoading=!0;var ln=[Tr].concat(yt);return Promise.resolve((Ve||Qe).apply(void 0,ln)).catch(function(In){return In}).then(function(In){if(f.tableLoading=!1,In)if(isEnableConf(Ct)){var vi=xeUtils.get(In,Er.total||"page.total")||0;Mr.total=vi,f.tableData=xeUtils.get(In,Er.result||"result")||[];var Fn=Math.max(Math.ceil(vi/Mr.pageSize),1);Mr.currentPage>Fn&&(Mr.currentPage=Fn)}else f.tableData=(Er.list?xeUtils.get(In,Er.list):In)||[];else f.tableData=[];ve&&ve.apply(void 0,ln)})}break}case"delete":{var mn=Pr.delete;if(mn){var Yr=q.getCheckboxRecords(),Et=Yr.filter(function(In){return!Nr.isInsertByRow(In)}),_r={removeRecords:Et},Wn=[{$grid:be,code:vn,button:un,body:_r,options:mn}].concat(yt);if(Yr.length)return at(vn,"vxe.grid.deleteSelectRecord",function(){return Et.length?(f.tableLoading=!0,Promise.resolve((lt||mn).apply(void 0,Wn)).then(function(In){f.tableLoading=!1,f.pendingRecords=f.pendingRecords.filter(function(vi){return Nr.findRowIndexOf(Et,vi)===-1}),sn&&VXETable.modal.message({content:De(In,"vxe.grid.delSuccess"),status:"success"}),sr?sr.apply(void 0,Wn):ke.commitProxy("query")}).catch(function(In){f.tableLoading=!1,sn&&VXETable.modal.message({id:vn,content:De(In,"vxe.grid.operError"),status:"error"})})):Nr.remove(Yr)});sn&&VXETable.modal.message({id:vn,content:GlobalConfig.i18n("vxe.grid.selectOneRecord"),status:"warning"})}break}case"save":{var jn=Pr.save;if(jn){var xn=Object.assign({pendingRecords:f.pendingRecords},Nr.getRecordset()),zn=xn.insertRecords,li=xn.removeRecords,Ri=xn.updateRecords,ci=xn.pendingRecords,tn=[{$grid:be,code:vn,button:un,body:xn,options:jn}].concat(yt);zn.length&&(xn.pendingRecords=ci.filter(function(In){return Nr.findRowIndexOf(zn,In)===-1})),ci.length&&(xn.insertRecords=zn.filter(function(In){return Nr.findRowIndexOf(ci,In)===-1}));var On=Promise.resolve();return gr&&(On=Nr.validate(xn.insertRecords.concat(Ri))),On.then(function(In){if(!In){if(xn.insertRecords.length||li.length||Ri.length||xn.pendingRecords.length)return f.tableLoading=!0,Promise.resolve((ir||jn).apply(void 0,tn)).then(function(vi){f.tableLoading=!1,f.pendingRecords=[],sn&&VXETable.modal.message({content:De(vi,"vxe.grid.saveSuccess"),status:"success"}),mr?mr.apply(void 0,tn):ke.commitProxy("query")}).catch(function(vi){f.tableLoading=!1,sn&&VXETable.modal.message({id:vn,content:De(vi,"vxe.grid.operError"),status:"error"})});sn&&VXETable.modal.message({id:vn,content:GlobalConfig.i18n("vxe.grid.dataUnchanged"),status:"info"})}})}break}default:{var $n=VXETable.commands.get(vn);$n&&$n.apply(void 0,__spreadArray$2([{code:vn,button:un,$grid:be,$table:Nr}],yt))}}return nextTick()},zoom:function(){return f.isZMax?ke.revert():ke.maximize()},isMaximized:function(){return f.isZMax},maximize:function(){return Rt(!0)},revert:function(){return Rt()},getFormItems:function(st){var yt=re.value,Ft=e.formConfig,zt=yt.items,Ct=[];return xeUtils.eachTree(isEnableConf(Ft)&&zt?zt:[],function(gr){Ct.push(gr)},{children:"children"}),xeUtils.isUndefined(st)?Ct:Ct[st]},getPendingRecords:function(){return f.pendingRecords},getProxyInfo:function(){if(e.proxyConfig){var st=f.sortData;return{data:f.tableData,filter:f.filterData,form:f.formData,sort:st.length?st[0]:{},sorts:st,pager:f.tablePage,pendingRecords:f.pendingRecords}}return null}};var jt={extendTableMethods:U,callSlot:function(st,yt){return st&&(xeUtils.isString(st)&&(st=l[st]||null),xeUtils.isFunction(st))?st(yt):[]},getExcludeHeight:function(){var st=e.height,yt=f.isZMax,Ft=n.value,zt=$.value,Ct=R.value,gr=B.value,Mr=V.value,Br=j.value,sn=yt||st!=="auto"?0:getPaddingTopBottomSize(Ft.parentNode);return sn+getPaddingTopBottomSize(Ft)+getOffsetHeight(zt)+getOffsetHeight(Ct)+getOffsetHeight(gr)+getOffsetHeight(Mr)+getOffsetHeight(Br)},getParentHeight:function(){var st=n.value;return st?(f.isZMax?getDomNode().visibleHeight:xeUtils.toNumber(getComputedStyle(st.parentNode).height))-jt.getExcludeHeight():0},triggerToolbarBtnEvent:function(st,yt){ke.commitProxy(st,yt),ke.dispatchEvent("toolbar-button-click",{code:st.code,button:st},yt)},triggerToolbarTolEvent:function(st,yt){ke.commitProxy(st,yt),ke.dispatchEvent("toolbar-tool-click",{code:st.code,tool:st,$event:yt})},triggerZoomEvent:function(st){ke.zoom(),ke.dispatchEvent("zoom",{type:f.isZMax?"max":"revert"},st)}};Object.assign(be,q,ke,jt),watch(function(){return e.columns},function(st){nextTick(function(){return be.loadColumn(st||[])})}),watch(function(){return e.toolbarConfig},function(st){st&&ft()}),watch(function(){return e.proxyConfig},function(){St()}),watch(function(){return e.pagerConfig},function(){bt()});var or=function(st){var yt=se.value,Ft=hasEventKey(st,EVENT_KEYS.ESCAPE);Ft&&f.isZMax&&yt.escRestore!==!1&&jt.triggerZoomEvent(st)};VXETable.hooks.forEach(function(st){var yt=st.setupGrid;if(yt){var Ft=yt(be);Ft&&xeUtils.isObject(Ft)&&Object.assign(be,Ft)}}),onMounted(function(){nextTick(function(){var st=e.data,yt=e.columns,Ft=e.proxyConfig,zt=Y.value,Ct=re.value;Ft&&(st||zt.form&&Ct.data)&&errLog("vxe.error.errConflicts",["grid.data","grid.proxy-config"]),yt&&yt.length&&be.loadColumn(yt),ft(),bt(),St()}),GlobalEvent.on(be,"keydown",or)}),onUnmounted(function(){GlobalEvent.off(be,"keydown")});var xr=function(){var st,yt=u.value,Ft=fe.value;return h$1("div",{ref:n,class:["vxe-grid",(st={},st["size--"+yt]=yt,st["is--animat"]=!!e.animat,st["is--round"]=e.round,st["is--maximize"]=f.isZMax,st["is--loading"]=e.loading||f.tableLoading,st)],style:Ft},ut().concat(Ht(),cr(),Ne(),ot(),Tt()))};return be.renderVN=xr,provide("$xegrid",be),be},render:function(){return this.renderVN()}}),Grid=Object.assign(VxeGridComponent,{install:function(e){dynamicApp.component(VxeGridComponent.name,VxeGridComponent),e.component(VxeGridComponent.name,VxeGridComponent)}}),__assign$7=globalThis&&globalThis.__assign||function(){return __assign$7=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$7.apply(this,arguments)},VxeTooltipComponent=defineComponent({name:"VxeTooltip",props:{modelValue:Boolean,size:{type:String,default:function(){return GlobalConfig.tooltip.size||GlobalConfig.size}},trigger:{type:String,default:function(){return GlobalConfig.tooltip.trigger}},theme:{type:String,default:function(){return GlobalConfig.tooltip.theme}},content:[String,Number],zIndex:[String,Number],isArrow:{type:Boolean,default:!0},enterable:Boolean,leaveDelay:{type:Number,default:function(){return GlobalConfig.tooltip.leaveDelay}},leaveMethod:Function},emits:["update:modelValue"],setup:function(e,r){var l=r.slots,g=r.emit,x=xeUtils.uniqueId(),C=useSize(e),u=reactive({target:null,isUpdate:!1,isHover:!1,visible:!1,message:"",tipTarget:null,tipZindex:0,tipStore:{style:{},placement:"",arrowStyle:{}}}),f=ref(),n={refElem:f},S={xID:x,props:e,context:r,reactData:u,getRefMaps:function(){return n}},k={},M,P=function(){var Q=u.tipTarget,te=u.tipStore;if(Q){var re=getDomNode(),oe=re.scrollTop,se=re.scrollLeft,fe=re.visibleWidth,ge=getAbsolutePos(Q),Ce=ge.top,$e=ge.left,be=f.value,ke=6,Ee=be.offsetHeight,He=be.offsetWidth,rt=$e,ft=Ce-Ee-ke;rt=Math.max(ke,$e+Math.floor((Q.offsetWidth-He)/2)),rt+He+ke>se+fe&&(rt=se+fe-He-ke),Ce-Ee<oe+ke&&(te.placement="bottom",ft=Ce+Q.offsetHeight+ke),te.style.top=ft+"px",te.style.left=rt+"px",te.arrowStyle.left=$e-rt+Q.offsetWidth/2+"px"}},$=function(Q){Q!==u.visible&&(u.visible=Q,u.isUpdate=!0,g("update:modelValue",Q))},R=function(){u.tipZindex<getLastZIndex()&&(u.tipZindex=nextZIndex())},B=function(){u.visible?k.close():k.open()},V=function(){k.open()},j=function(){var Q=e.trigger,te=e.enterable,re=e.leaveDelay;M=!1,te&&Q==="hover"?setTimeout(function(){u.isHover||k.close()},re):k.close()},U=function(){u.isHover=!0},q=function(Q){var te=e.leaveMethod,re=e.trigger,oe=e.enterable,se=e.leaveDelay;u.isHover=!1,(!te||te({$event:Q})!==!1)&&oe&&re==="hover"&&setTimeout(function(){M||k.close()},se)};k={dispatchEvent:function(Q,te,re){g(Q,Object.assign({$tooltip:S,$event:re},te))},open:function(Q,te){return k.toVisible(Q||u.target,te)},close:function(){return u.tipTarget=null,Object.assign(u.tipStore,{style:{},placement:"",arrowStyle:null}),$(!1),nextTick()},toVisible:function(Q,te){if(M=!0,Q){var re=u.tipStore,oe=f.value,se=oe.parentNode;return se||document.body.appendChild(oe),te&&(u.message=te),u.tipTarget=Q,$(!0),R(),re.placement="top",re.style={width:"auto",left:0,top:0,zIndex:e.zIndex||u.tipZindex},re.arrowStyle={left:"50%"},k.updatePlacement()}return nextTick()},updatePlacement:function(){return nextTick().then(function(){var Q=u.tipTarget,te=f.value;if(Q&&te)return P(),nextTick().then(P)})}},Object.assign(S,k),watch(function(){return e.content},function(){u.message=e.content}),watch(function(){return e.modelValue},function(){u.isUpdate||(e.modelValue?k.open():k.close()),u.isUpdate=!1}),onMounted(function(){nextTick(function(){var Q=e.trigger,te=e.content,re=e.modelValue,oe=f.value,se=oe.parentNode;if(se){u.message=te,u.tipZindex=nextZIndex(),xeUtils.arrayEach(oe.children,function(ge,Ce){Ce>1&&(se.insertBefore(ge,oe),u.target||(u.target=ge))}),se.removeChild(oe);var fe=u.target;fe&&(Q==="hover"?(fe.onmouseleave=j,fe.onmouseenter=V):Q==="click"&&(fe.onclick=B)),re&&k.open()}})}),onBeforeUnmount(function(){var Q=e.trigger,te=u.target,re=f.value;if(re){var oe=re.parentNode;oe&&oe.removeChild(re)}te&&(Q==="hover"?(te.onmouseenter=null,te.onmouseleave=null):Q==="click"&&(te.onclick=null))});var Y=function(){var Q,te=e.theme,re=e.isArrow,oe=e.enterable,se=u.isHover,fe=u.visible,ge=u.tipStore,Ce=u.message,$e=C.value,be;return oe&&(be={onMouseenter:U,onMouseleave:q}),h$1("div",__assign$7({ref:f,class:["vxe-table--tooltip-wrapper","theme--"+te,(Q={},Q["size--"+$e]=$e,Q["placement--"+ge.placement]=ge.placement,Q["is--enterable"]=oe,Q["is--visible"]=fe,Q["is--arrow"]=re,Q["is--hover"]=se,Q)],style:ge.style},be),[h$1("div",{class:"vxe-table--tooltip-content"},l.content?l.content({}):formatText(Ce)),h$1("div",{class:"vxe-table--tooltip-arrow",style:ge.arrowStyle})].concat(l.default?l.default({}):[]))};return S.renderVN=Y,S},render:function(){return this.renderVN()}}),Tooltip=Object.assign(VxeTooltipComponent,{install:function(e){VXETable.tooltip=!0,dynamicApp.component(VxeTooltipComponent.name,VxeTooltipComponent),e.component(VxeTooltipComponent.name,VxeTooltipComponent)}}),__assign$6=globalThis&&globalThis.__assign||function(){return __assign$6=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$6.apply(this,arguments)},VxeToolbarComponent=defineComponent({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:function(){return GlobalConfig.toolbar.buttons}},tools:{type:Array,default:function(){return GlobalConfig.toolbar.tools}},perfect:{type:Boolean,default:function(){return GlobalConfig.toolbar.perfect}},size:{type:String,default:function(){return GlobalConfig.toolbar.size||GlobalConfig.size}},className:[String,Function]},emits:["button-click","tool-click"],setup:function(e,r){var l=r.slots,g=r.emit,x=xeUtils.uniqueId(),C=useSize(e),u=reactive({isRefresh:!1,columns:[]}),f=ref(),n=ref(),S=reactive({isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1}),k={refElem:f},M={xID:x,props:e,context:r,reactData:u,getRefMaps:function(){return k}},P={},$=inject("$xegrid",null),R,B=computed(function(){return Object.assign({},GlobalConfig.toolbar.refresh,e.refresh)}),V=computed(function(){return Object.assign({},GlobalConfig.toolbar.import,e.import)}),j=computed(function(){return Object.assign({},GlobalConfig.toolbar.export,e.export)}),U=computed(function(){return Object.assign({},GlobalConfig.toolbar.print,e.print)}),q=computed(function(){return Object.assign({},GlobalConfig.toolbar.zoom,e.zoom)}),Y=computed(function(){return Object.assign({},GlobalConfig.toolbar.custom,e.custom)}),Q=function(){if(R)return!0;errLog("vxe.error.barUnableLink")},te=function(){var Ne=u.columns,ot=R.getComputeMaps().computeCustomOpts,Tt=ot.value,St=Tt.checkMethod;S.isAll=Ne.every(function(jt){return(St?!St({column:jt}):!1)||jt.visible}),S.isIndeterminate=!S.isAll&&Ne.some(function(jt){return(!St||St({column:jt}))&&(jt.visible||jt.halfVisible)})},re=function(){S.visible=!0,te()},oe=function(){R.handleCustom()},se=function(){var Ne=e.custom,ot=Y.value;S.visible&&(S.visible=!1,Ne&&!ot.immediate&&oe())},fe=function(Ne,ot){var Tt=$||R;Tt.dispatchEvent("custom",{type:Ne},ot)},ge=function(Ne){se(),fe("confirm",Ne)},Ce=function(Ne){Q()&&(S.visible||(re(),fe("open",Ne)))},$e=function(Ne){S.visible&&(se(),fe("close",Ne))},be=function(Ne){var ot=u.columns,Tt=R.getComputeMaps().computeCustomOpts,St=Tt.value,jt=St.checkMethod;xeUtils.eachTree(ot,function(or){(!jt||jt({column:or}))&&(or.visible=or.defaultVisible,or.halfVisible=!1),or.resizeWidth=0}),R.saveCustomResizable(!0),se(),fe("reset",Ne)},ke=function(Ne){var ot=u.columns,Tt=xeUtils.findTree(ot,function(jt){return jt===Ne});if(Tt&&Tt.parent){var St=Tt.parent;St.children&&St.children.length&&(St.visible=St.children.every(function(jt){return jt.visible}),St.halfVisible=!St.visible&&St.children.some(function(jt){return jt.visible||jt.halfVisible}),ke(St))}},Ee=function(Ne){var ot=!Ne.visible,Tt=Y.value;xeUtils.eachTree([Ne],function(St){St.visible=ot,St.halfVisible=!1}),ke(Ne),e.custom&&Tt.immediate&&oe(),te()},He=function(){var Ne=u.columns,ot=R.getComputeMaps().computeCustomOpts,Tt=ot.value,St=Tt.checkMethod,jt=!S.isAll;xeUtils.eachTree(Ne,function(or){(!St||St({column:or}))&&(or.visible=jt,or.halfVisible=!1)}),S.isAll=jt,te()},rt=function(Ne){var ot=n.value;getEventTargetNode(Ne,ot).flag||$e(Ne)},ft=function(Ne){$e(Ne)},bt=function(Ne){S.visible?$e(Ne):Ce(Ne)},Ye=function(Ne){S.activeBtn=!0,Ce(Ne)},De=function(Ne){S.activeBtn=!1,setTimeout(function(){!S.activeBtn&&!S.activeWrapper&&$e(Ne)},300)},at=function(Ne){S.activeWrapper=!0,Ce(Ne)},Ut=function(Ne){S.activeWrapper=!1,setTimeout(function(){!S.activeBtn&&!S.activeWrapper&&$e(Ne)},300)},je=function(){var Ne=u.isRefresh,ot=B.value;if(!Ne){var Tt=ot.query;if(Tt){u.isRefresh=!0;try{Promise.resolve(Tt({})).catch(function(St){return St}).then(function(){u.isRefresh=!1})}catch{u.isRefresh=!1}}else $&&(u.isRefresh=!0,$.commitProxy("reload").catch(function(St){return St}).then(function(){u.isRefresh=!1}))}},tt=function(Ne){$&&$.triggerZoomEvent(Ne)},We=function(Ne,ot){var Tt=ot.code;if(Tt)if($)$.triggerToolbarBtnEvent(ot,Ne);else{var St=VXETable.commands.get(Tt),jt={code:Tt,button:ot,$table:R,$event:Ne};St&&St(jt,Ne),M.dispatchEvent("button-click",jt,Ne)}},Gt=function(Ne,ot){var Tt=ot.code;if(Tt)if($)$.triggerToolbarTolEvent(ot,Ne);else{var St=VXETable.commands.get(Tt),jt={code:Tt,tool:ot,$table:R,$event:Ne};St&&St(jt,Ne),M.dispatchEvent("tool-click",jt,Ne)}},gt=function(){Q()&&R.openImport()},Mt=function(){Q()&&R.openExport()},Rt=function(){Q()&&R.openPrint()},Jt=function(Ne,ot){var Tt=Ne.dropdowns,St=[];return Tt?Tt.map(function(jt,or){return jt.visible===!1?createCommentVNode():h$1(resolveComponent("vxe-button"),{key:or,disabled:jt.disabled,loading:jt.loading,type:jt.type,icon:jt.icon,circle:jt.circle,round:jt.round,status:jt.status,content:jt.name,onClick:function(xr){return ot?We(xr,jt):Gt(xr,jt)}})}):St},ut=function(){var Ne=e.buttons,ot=l.buttons;if(ot)return ot({$grid:$,$table:R});var Tt=[];return Ne&&Ne.forEach(function(St){var jt=St.dropdowns,or=St.buttonRender;if(St.visible!==!1){var xr=or?VXETable.renderer.get(or.name):null;or&&xr&&xr.renderToolbarButton?Tt.push(h$1("span",{class:"vxe-button--item"},xr.renderToolbarButton(or,{$grid:$,$table:R,button:St}))):Tt.push(h$1(resolveComponent("vxe-button"),{disabled:St.disabled,loading:St.loading,type:St.type,icon:St.icon,circle:St.circle,round:St.round,status:St.status,content:St.name,destroyOnClose:St.destroyOnClose,placement:St.placement,transfer:St.transfer,onClick:function(st){return We(st,St)}},jt&&jt.length?{dropdowns:function(){return Jt(St,!0)}}:{}))}}),Tt},Ht=function(){var Ne=e.tools,ot=l.tools;if(ot)return ot({$grid:$,$table:R});var Tt=[];return Ne&&Ne.forEach(function(St){var jt=St.dropdowns,or=St.toolRender;if(St.visible!==!1){var xr=or?VXETable.renderer.get(or.name):null;or&&xr&&xr.renderToolbarTool?Tt.push(h$1("span",{class:"vxe-tool--item"},xr.renderToolbarTool(or,{$grid:$,$table:R,tool:St}))):Tt.push(h$1(resolveComponent("vxe-button"),{disabled:St.disabled,loading:St.loading,type:St.type,icon:St.icon,circle:St.circle,round:St.round,status:St.status,content:St.name,destroyOnClose:St.destroyOnClose,placement:St.placement,transfer:St.transfer,onClick:function(st){return Gt(st,St)}},jt&&jt.length?{dropdowns:function(){return Jt(St,!1)}}:{}))}}),Tt},cr=function(){var Ne=u.columns,ot=Y.value,Tt=[],St={},jt={},or;if(R){var xr=R.getComputeMaps().computeCustomOpts,st=xr.value;or=st.checkMethod}return ot.trigger==="manual"||(ot.trigger==="hover"?(St.onMouseenter=Ye,St.onMouseleave=De,jt.onMouseenter=at,jt.onMouseleave=Ut):St.onClick=bt),xeUtils.eachTree(Ne,function(yt){var Ft=formatText(yt.getTitle(),1),zt=yt.getKey(),Ct=yt.children&&yt.children.length,gr=or?!or({column:yt}):!1;(Ct||zt)&&Tt.push(h$1("li",{class:["vxe-custom--option","level--"+yt.level,{"is--group":Ct,"is--checked":yt.visible,"is--indeterminate":yt.halfVisible,"is--disabled":gr}],title:Ft,onClick:function(){gr||Ee(yt)}},[h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"}),h$1("span",{class:"vxe-checkbox--label"},Ft)]))}),h$1("div",{class:["vxe-custom--wrapper",{"is--active":S.visible}],ref:n},[h$1(resolveComponent("vxe-button"),__assign$6({circle:!0,icon:ot.icon||GlobalConfig.icon.TOOLBAR_TOOLS_CUSTOM,title:GlobalConfig.i18n("vxe.toolbar.custom")},St)),h$1("div",{class:"vxe-custom--option-wrapper"},[h$1("ul",{class:"vxe-custom--header"},[h$1("li",{class:["vxe-custom--option",{"is--checked":S.isAll,"is--indeterminate":S.isIndeterminate}],title:GlobalConfig.i18n("vxe.table.allTitle"),onClick:He},[h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--checked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--unchecked-icon"}),h$1("span",{class:"vxe-checkbox--icon vxe-checkbox--indeterminate-icon"}),h$1("span",{class:"vxe-checkbox--label"},GlobalConfig.i18n("vxe.toolbar.customAll"))])]),h$1("ul",__assign$6({class:"vxe-custom--body"},jt),Tt),ot.isFooter===!1?null:h$1("div",{class:"vxe-custom--footer"},[h$1("button",{class:"btn--confirm",onClick:ge},GlobalConfig.i18n("vxe.toolbar.customConfirm")),h$1("button",{class:"btn--reset",onClick:be},GlobalConfig.i18n("vxe.toolbar.customRestore"))])])])};P={dispatchEvent:function(Ne,ot,Tt){g(Ne,Object.assign({$toolbar:M,$event:Tt},ot))},syncUpdate:function(Ne){var ot=Ne.collectColumn;R=Ne.$table,u.columns=ot}},Object.assign(M,P),onMounted(function(){GlobalEvent.on(M,"mousedown",rt),GlobalEvent.on(M,"blur",ft)}),onUnmounted(function(){GlobalEvent.off(M,"mousedown"),GlobalEvent.off(M,"blur")}),nextTick(function(){var Ne=e.refresh,ot=B.value;Ne&&!$&&!ot.query&&warnLog("vxe.error.notFunc",["query"])});var Vt=function(){var Ne,ot=e.perfect,Tt=e.loading,St=e.refresh,jt=e.zoom,or=e.custom,xr=e.className,st=C.value,yt=B.value,Ft=V.value,zt=j.value,Ct=U.value,gr=q.value;return h$1("div",{ref:f,class:["vxe-toolbar",xr?xeUtils.isFunction(xr)?xr({$toolbar:M}):xr:"",(Ne={},Ne["size--"+st]=st,Ne["is--perfect"]=ot,Ne["is--loading"]=Tt,Ne)]},[h$1("div",{class:"vxe-buttons--wrapper"},ut()),h$1("div",{class:"vxe-tools--wrapper"},Ht()),h$1("div",{class:"vxe-tools--operate"},[e.import?h$1(resolveComponent("vxe-button"),{circle:!0,icon:Ft.icon||GlobalConfig.icon.TOOLBAR_TOOLS_IMPORT,title:GlobalConfig.i18n("vxe.toolbar.import"),onClick:gt}):createCommentVNode(),e.export?h$1(resolveComponent("vxe-button"),{circle:!0,icon:zt.icon||GlobalConfig.icon.TOOLBAR_TOOLS_EXPORT,title:GlobalConfig.i18n("vxe.toolbar.export"),onClick:Mt}):createCommentVNode(),e.print?h$1(resolveComponent("vxe-button"),{circle:!0,icon:Ct.icon||GlobalConfig.icon.TOOLBAR_TOOLS_PRINT,title:GlobalConfig.i18n("vxe.toolbar.print"),onClick:Rt}):createCommentVNode(),St?h$1(resolveComponent("vxe-button"),{circle:!0,icon:u.isRefresh?yt.iconLoading||GlobalConfig.icon.TOOLBAR_TOOLS_REFRESH_LOADING:yt.icon||GlobalConfig.icon.TOOLBAR_TOOLS_REFRESH,title:GlobalConfig.i18n("vxe.toolbar.refresh"),onClick:je}):createCommentVNode(),jt&&$?h$1(resolveComponent("vxe-button"),{circle:!0,icon:$.isMaximized()?gr.iconOut||GlobalConfig.icon.TOOLBAR_TOOLS_ZOOM_OUT:gr.iconIn||GlobalConfig.icon.TOOLBAR_TOOLS_ZOOM_IN,title:GlobalConfig.i18n("vxe.toolbar.zoom"+($.isMaximized()?"Out":"In")),onClick:tt}):createCommentVNode(),or?cr():createCommentVNode()])])};return M.renderVN=Vt,M},render:function(){return this.renderVN()}}),Toolbar=Object.assign(VxeToolbarComponent,{install:function(e){dynamicApp.component(VxeToolbarComponent.name,VxeToolbarComponent),e.component(VxeToolbarComponent.name,VxeToolbarComponent)}}),__assign$5=globalThis&&globalThis.__assign||function(){return __assign$5=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$5.apply(this,arguments)},VxePagerComponent=defineComponent({name:"VxePager",props:{size:{type:String,default:function(){return GlobalConfig.pager.size||GlobalConfig.size}},layouts:{type:Array,default:function(){return GlobalConfig.pager.layouts||["PrevJump","PrevPage","Jump","PageCount","NextPage","NextJump","Sizes","Total"]}},currentPage:{type:Number,default:1},loading:Boolean,pageSize:{type:Number,default:function(){return GlobalConfig.pager.pageSize||10}},total:{type:Number,default:0},pagerCount:{type:Number,default:function(){return GlobalConfig.pager.pagerCount||7}},pageSizes:{type:Array,default:function(){return GlobalConfig.pager.pageSizes||[10,15,20,50,100]}},align:{type:String,default:function(){return GlobalConfig.pager.align}},border:{type:Boolean,default:function(){return GlobalConfig.pager.border}},background:{type:Boolean,default:function(){return GlobalConfig.pager.background}},perfect:{type:Boolean,default:function(){return GlobalConfig.pager.perfect}},autoHidden:{type:Boolean,default:function(){return GlobalConfig.pager.autoHidden}},transfer:{type:Boolean,default:function(){return GlobalConfig.pager.transfer}},className:[String,Function],iconPrevPage:String,iconJumpPrev:String,iconJumpNext:String,iconNextPage:String,iconJumpMore:String},emits:["update:pageSize","update:currentPage","page-change"],setup:function(e,r){var l=r.slots,g=r.emit,x=xeUtils.uniqueId(),C=useSize(e),u=inject("$xegrid",null),f=ref(),n={refElem:f},S={xID:x,props:e,context:r,getRefMaps:function(){return n}},k={},M={},P=function(De,at){return Math.max(Math.ceil(De/at),1)},$=computed(function(){return P(e.total,e.pageSize)}),R=function(De,at){g("update:currentPage",at),De&&at!==e.currentPage&&k.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:at},De)},B=function(De,at){g("update:currentPage",De),at&&De!==e.currentPage&&k.dispatchEvent("page-change",{type:"current",pageSize:e.pageSize,currentPage:De},at)},V=function(De){var at=De.target,Ut=xeUtils.toNumber(at.value),je=$.value,tt=Ut<=0?1:Ut>=je?je:Ut;at.value=xeUtils.toValueString(tt),B(tt,De)},j=computed(function(){for(var De=e.pagerCount,at=$.value,Ut=at>De?De-2:De,je=[],tt=0;tt<Ut;tt++)je.push(tt);return je}),U=computed(function(){return Math.floor((e.pagerCount-2)/2)}),q=computed(function(){return e.pageSizes.map(function(De){return xeUtils.isNumber(De)?{value:De,label:""+GlobalConfig.i18n("vxe.pager.pagesize",[De])}:__assign$5({value:"",label:""},De)})}),Y=function(De){var at=e.currentPage,Ut=$.value;at>1&&B(Math.min(Ut,Math.max(at-1,1)),De)},Q=function(De){var at=e.currentPage,Ut=$.value;at<Ut&&B(Math.min(Ut,at+1),De)},te=function(De){var at=j.value;B(Math.max(e.currentPage-at.length,1),De)},re=function(De){var at=$.value,Ut=j.value;B(Math.min(e.currentPage+Ut.length,at),De)},oe=function(De){var at=De.value,Ut=xeUtils.toNumber(at);g("update:pageSize",Ut),k.dispatchEvent("page-change",{type:"size",pageSize:Ut,currentPage:Math.min(e.currentPage,P(e.total,Ut))})},se=function(De){hasEventKey(De,EVENT_KEYS.ENTER)?V(De):hasEventKey(De,EVENT_KEYS.ARROW_UP)?(De.preventDefault(),Q(De)):hasEventKey(De,EVENT_KEYS.ARROW_DOWN)&&(De.preventDefault(),Y(De))},fe=function(){return h$1("button",{class:["vxe-pager--prev-btn",{"is--disabled":e.currentPage<=1}],type:"button",title:GlobalConfig.i18n("vxe.pager.prevPage"),onClick:Y},[h$1("i",{class:["vxe-pager--btn-icon",e.iconPrevPage||GlobalConfig.icon.PAGER_PREV_PAGE]})])},ge=function(De){return h$1(De||"button",{class:["vxe-pager--jump-prev",{"is--fixed":!De,"is--disabled":e.currentPage<=1}],type:"button",title:GlobalConfig.i18n("vxe.pager.prevJump"),onClick:te},[De?h$1("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||GlobalConfig.icon.PAGER_JUMP_MORE]}):null,h$1("i",{class:["vxe-pager--jump-icon",e.iconJumpPrev||GlobalConfig.icon.PAGER_JUMP_PREV]})])},Ce=function(De){var at=$.value;return h$1(De||"button",{class:["vxe-pager--jump-next",{"is--fixed":!De,"is--disabled":e.currentPage>=at}],type:"button",title:GlobalConfig.i18n("vxe.pager.nextJump"),onClick:re},[De?h$1("i",{class:["vxe-pager--jump-more-icon",e.iconJumpMore||GlobalConfig.icon.PAGER_JUMP_MORE]}):null,h$1("i",{class:["vxe-pager--jump-icon",e.iconJumpNext||GlobalConfig.icon.PAGER_JUMP_NEXT]})])},$e=function(){var De=$.value;return h$1("button",{class:["vxe-pager--next-btn",{"is--disabled":e.currentPage>=De}],type:"button",title:GlobalConfig.i18n("vxe.pager.nextPage"),onClick:Q},[h$1("i",{class:["vxe-pager--btn-icon",e.iconNextPage||GlobalConfig.icon.PAGER_NEXT_PAGE]})])},be=function(De){var at=e.currentPage,Ut=e.pagerCount,je=[],tt=$.value,We=j.value,Gt=U.value,gt=tt>Ut,Mt=gt&&at>Gt+1,Rt=gt&&at<tt-Gt,Jt=1;return gt&&(at>=tt-Gt?Jt=Math.max(tt-We.length+1,1):Jt=Math.max(at-Gt,1)),De&&Mt&&je.push(h$1("button",{class:"vxe-pager--num-btn",type:"button",onClick:function(ut){return R(ut,1)}},1),ge("span")),We.forEach(function(ut,Ht){var cr=Jt+Ht;cr<=tt&&je.push(h$1("button",{key:cr,class:["vxe-pager--num-btn",{"is--active":at===cr}],type:"button",onClick:function(Vt){return R(Vt,cr)}},cr))}),De&&Rt&&je.push(Ce("button"),h$1("button",{class:"vxe-pager--num-btn",type:"button",onClick:function(ut){return R(ut,tt)}},tt)),h$1("span",{class:"vxe-pager--btn-wrapper"},je)},ke=function(){return be(!0)},Ee=function(){var De=q.value;return h$1(resolveComponent("vxe-select"),{class:"vxe-pager--sizes",modelValue:e.pageSize,placement:"top",transfer:e.transfer,options:De,onChange:oe})},He=function(De){return h$1("span",{class:"vxe-pager--jump"},[De?h$1("span",{class:"vxe-pager--goto-text"},GlobalConfig.i18n("vxe.pager.goto")):null,h$1("input",{class:"vxe-pager--goto",value:e.currentPage,type:"text",autocomplete:"off",onKeydown:se,onBlur:V}),De?h$1("span",{class:"vxe-pager--classifier-text"},GlobalConfig.i18n("vxe.pager.pageClassifier")):null])},rt=function(){return He(!0)},ft=function(){var De=$.value;return h$1("span",{class:"vxe-pager--count"},[h$1("span",{class:"vxe-pager--separator"}),h$1("span",De)])},bt=function(){return h$1("span",{class:"vxe-pager--total"},GlobalConfig.i18n("vxe.pager.total",[e.total]))};k={dispatchEvent:function(De,at,Ut){g(De,Object.assign({$pager:S,$event:Ut},at))},prevPage:function(){return Y(),nextTick()},nextPage:function(){return Q(),nextTick()},prevJump:function(){return te(),nextTick()},nextJump:function(){return re(),nextTick()}},M={handlePrevPage:Y,handleNextPage:Q,handlePrevJump:te,handleNextJump:re},Object.assign(S,k,M);var Ye=function(){var De,at=e.align,Ut=e.layouts,je=e.className,tt=[],We=C.value,Gt=$.value;return l.left&&tt.push(h$1("span",{class:"vxe-pager--left-wrapper"},l.left({$grid:u}))),Ut.forEach(function(gt){var Mt;switch(gt){case"PrevPage":Mt=fe;break;case"PrevJump":Mt=ge;break;case"Number":Mt=be;break;case"JumpNumber":Mt=ke;break;case"NextJump":Mt=Ce;break;case"NextPage":Mt=$e;break;case"Sizes":Mt=Ee;break;case"FullJump":Mt=rt;break;case"Jump":Mt=He;break;case"PageCount":Mt=ft;break;case"Total":Mt=bt;break}Mt&&tt.push(Mt())}),l.right&&tt.push(h$1("span",{class:"vxe-pager--right-wrapper"},l.right({$grid:u}))),h$1("div",{ref:f,class:["vxe-pager",je?xeUtils.isFunction(je)?je({$pager:S}):je:"",(De={},De["size--"+We]=We,De["align--"+at]=at,De["is--border"]=e.border,De["is--background"]=e.background,De["is--perfect"]=e.perfect,De["is--hidden"]=e.autoHidden&&Gt===1,De["is--loading"]=e.loading,De)]},[h$1("div",{class:"vxe-pager--wrapper"},tt)])};return S.renderVN=Ye,S},render:function(){return this.renderVN()}}),Pager=Object.assign(VxePagerComponent,{install:function(e){dynamicApp.component(VxePagerComponent.name,VxePagerComponent),e.component(VxePagerComponent.name,VxePagerComponent)}}),ItemInfo=function(){function e(r,l){Object.assign(this,{id:xeUtils.uniqueId("item_"),title:l.title,field:l.field,span:l.span,align:l.align,titleAlign:l.titleAlign,titleWidth:l.titleWidth,titlePrefix:l.titlePrefix,titleSuffix:l.titleSuffix,titleOverflow:l.titleOverflow,resetValue:l.resetValue,visibleMethod:l.visibleMethod,visible:l.visible,folding:l.folding,collapseNode:l.collapseNode,className:l.className,itemRender:l.itemRender,showError:!1,errRule:null,slots:l.slots,children:[]})}return e.prototype.update=function(r,l){this[r]=l},e}();function isFormItem(e){return e instanceof ItemInfo}function createItem(e,r){return isFormItem(r)?r:new ItemInfo(e,r)}function watchItem(e,r){Object.keys(e).forEach(function(l){watch(function(){return e[l]},function(g){r.update(l,g)})})}function assemItem(e,r,l,g){var x=e.reactData,C=x.staticItems,u=r.parentNode,f=g?g.formItem:null,n=f?f.children:C;u&&(n.splice(xeUtils.arrayIndexOf(u.children,r),0,l),x.staticItems=C.slice(0))}function destroyItem(e,r){var l=e.reactData,g=l.staticItems,x=xeUtils.findIndexOf(g,function(C){return C.id===r.id});x>-1&&g.splice(x,1),l.staticItems=g.slice(0)}function renderPrefixIcon(e){return h$1("span",{class:"vxe-form--item-title-prefix"},[h$1("i",{class:e.icon||GlobalConfig.icon.FORM_PREFIX})])}function renderSuffixIcon(e){return h$1("span",{class:"vxe-form--item-title-suffix"},[h$1("i",{class:e.icon||GlobalConfig.icon.FORM_SUFFIX})])}function renderTitle(e,r){var l=e.props.data,g=r.slots,x=r.field,C=r.itemRender,u=r.titlePrefix,f=r.titleSuffix,n=isEnableConf(C)?VXETable.renderer.get(C.name):null,S={data:l,property:x,item:r,$form:e},k=g?g.title:null,M=[],P=[];u&&P.push(u.content||u.message?h$1(resolveComponent("vxe-tooltip"),{content:getFuncText(u.content||u.message),enterable:u.enterable,theme:u.theme},{default:function(){return renderPrefixIcon(u)}}):renderPrefixIcon(u)),P.push(h$1("span",{class:"vxe-form--item-title-label"},n&&n.renderItemTitle?n.renderItemTitle(C,S):k?e.callSlot(k,S):getFuncText(r.title))),M.push(h$1("div",{class:"vxe-form--item-title-content"},P));var $=[];return f&&$.push(f.content||f.message?h$1(resolveComponent("vxe-tooltip"),{content:getFuncText(f.content||f.message),enterable:f.enterable,theme:f.theme},{default:function(){return renderSuffixIcon(f)}}):renderSuffixIcon(f)),M.push(h$1("div",{class:"vxe-form--item-title-postfix"},$)),M}var __assign$4=globalThis&&globalThis.__assign||function(){return __assign$4=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$4.apply(this,arguments)},Rule=function(){function e(r){Object.assign(this,{$options:r,required:r.required,min:r.min,max:r.min,type:r.type,pattern:r.pattern,validator:r.validator,trigger:r.trigger,maxWidth:r.maxWidth})}return Object.defineProperty(e.prototype,"content",{get:function(){return getFuncText(this.$options.content||this.$options.message)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.content},enumerable:!1,configurable:!0}),e}(),validErrorRuleValue=function(e,r){var l=e.type,g=e.min,x=e.max,C=e.pattern,u=l==="number",f=u?xeUtils.toNumber(r):xeUtils.getSize(r);return!!(u&&isNaN(r)||!xeUtils.eqNull(g)&&f<xeUtils.toNumber(g)||!xeUtils.eqNull(x)&&f>xeUtils.toNumber(x)||C&&!(xeUtils.isRegExp(C)?C:new RegExp(C)).test(r))};function getResetValue(e,r){return xeUtils.isArray(e)&&(r=[]),r}var VxeFormComponent=defineComponent({name:"VxeForm",props:{collapseStatus:{type:Boolean,default:!0},loading:Boolean,data:Object,size:{type:String,default:function(){return GlobalConfig.form.size||GlobalConfig.size}},span:{type:[String,Number],default:function(){return GlobalConfig.form.span}},align:{type:String,default:function(){return GlobalConfig.form.align}},titleAlign:{type:String,default:function(){return GlobalConfig.form.titleAlign}},titleWidth:{type:[String,Number],default:function(){return GlobalConfig.form.titleWidth}},titleColon:{type:Boolean,default:function(){return GlobalConfig.form.titleColon}},titleAsterisk:{type:Boolean,default:function(){return GlobalConfig.form.titleAsterisk}},titleOverflow:{type:[Boolean,String],default:null},className:[String,Function],items:Array,rules:Object,preventSubmit:{type:Boolean,default:function(){return GlobalConfig.form.preventSubmit}},validConfig:Object,tooltipConfig:Object,customLayout:{type:Boolean,default:function(){return GlobalConfig.form.customLayout}}},emits:["update:collapseStatus","collapse","toggle-collapse","submit","submit-invalid","reset"],setup:function(e,r){var l=VXETable.tooltip,g=r.slots,x=r.emit,C=xeUtils.uniqueId(),u=useSize(e),f=reactive({collapseAll:e.collapseStatus,staticItems:[],formItems:[]}),n=reactive({tooltipTimeout:null,tooltipActive:!1,tooltipStore:{item:null,visible:!1}}),S=ref(),k=ref(),M={},P=computed(function(){return Object.assign({},GlobalConfig.form.validConfig,e.validConfig)}),$=ref(),R=function(){var je=$.value;return setTimeout(function(){n.tooltipActive||M.closeTooltip()},je.leaveDelay),!1};$=computed(function(){var je=Object.assign({leaveDelay:300},GlobalConfig.form.tooltipConfig,e.tooltipConfig);return je.enterable&&(je.leaveMethod=R),je});var B={refElem:S},V={computeSize:u,computeValidOpts:P,computeTooltipOpts:$},j={xID:C,props:e,context:r,reactData:f,getRefMaps:function(){return B},getComputeMaps:function(){return V}},U=function(je,tt){return je&&(xeUtils.isString(je)&&(je=g[je]||null),xeUtils.isFunction(je))?je(tt):[]},q=function(je){return je.length&&(f.staticItems=xeUtils.mapTree(je,function(tt){return createItem(j,tt)},{children:"children"})),nextTick()},Y=function(){var je=[];return xeUtils.eachTree(f.formItems,function(tt){je.push(tt)},{children:"children"}),je},Q=function(){return f.collapseAll},te=function(){var je=!Q();return f.collapseAll=je,x("update:collapseStatus",je),nextTick()},re=function(je){te();var tt=Q();M.dispatchEvent("toggle-collapse",{status:tt,collapse:tt,data:e.data},je),M.dispatchEvent("collapse",{status:tt,collapse:tt,data:e.data},je)},oe=function(je){var tt=Y();if(je){var We=tt.find(function(Gt){return Gt.field===je});We&&(We.showError=!1)}else tt.forEach(function(Gt){Gt.showError=!1});return nextTick()},se=function(){var je=e.data,tt=Y();return je&&tt.forEach(function(We){var Gt=We.field,gt=We.resetValue,Mt=We.itemRender;if(isEnableConf(Mt)){var Rt=VXETable.renderer.get(Mt.name);Rt&&Rt.itemResetMethod?Rt.itemResetMethod({data:je,field:Gt,property:Gt,item:We,$form:j}):Gt&&xeUtils.set(je,Gt,gt===null?getResetValue(xeUtils.get(je,Gt),void 0):gt)}}),oe()},fe=function(je){je.preventDefault(),se(),M.dispatchEvent("reset",{data:e.data},je)},ge=function(je){var tt=Y(),We=S.value;je.some(function(Gt,gt){var Mt=tt.find(function(Ht){return Ht.field===Gt});if(Mt&&isEnableConf(Mt.itemRender)){var Rt=Mt.itemRender,Jt=VXETable.renderer.get(Rt.name),ut=null;if(gt||scrollToView(We.querySelector("."+Mt.id)),Rt.autofocus&&(ut=We.querySelector("."+Mt.id+" "+Rt.autofocus)),!ut&&Jt&&Jt.autofocus&&(ut=We.querySelector("."+Mt.id+" "+Jt.autofocus)),ut)return ut.focus(),!0}})},Ce=function(je,tt,We){var Gt=e.data,gt=e.rules,Mt=[],Rt=[];if(tt&&gt){var Jt=xeUtils.get(gt,tt);if(Jt){var ut=xeUtils.isUndefined(We)?xeUtils.get(Gt,tt):We;Jt.forEach(function(Ht){var cr=Ht.type,Vt=Ht.trigger,Ne=Ht.required;if(je==="all"||!Vt||je===Vt)if(xeUtils.isFunction(Ht.validator)){var ot=Ht.validator({itemValue:ut,rule:Ht,rules:Jt,data:Gt,field:tt,property:tt,$form:j});ot&&(xeUtils.isError(ot)?Mt.push(new Rule({type:"custom",trigger:Vt,content:ot.message,rule:new Rule(Ht)})):ot.catch&&Rt.push(ot.catch(function(jt){Mt.push(new Rule({type:"custom",trigger:Vt,content:jt?jt.message:Ht.content||Ht.message,rule:new Rule(Ht)}))})))}else{var Tt=cr==="array",St=Tt?!xeUtils.isArray(ut)||!ut.length:eqEmptyValue(ut);(Ne?St||validErrorRuleValue(Ht,ut):!St&&validErrorRuleValue(Ht,ut))&&Mt.push(new Rule(Ht))}})}}return Promise.all(Rt).then(function(){if(Mt.length){var Ht={rules:Mt,rule:Mt[0]};return Promise.reject(Ht)}})},$e,be=function(je,tt,We){var Gt=e.data,gt=e.rules,Mt=P.value,Rt={},Jt=[],ut=[];return clearTimeout($e),Gt&&gt?(je.forEach(function(Ht){var cr=Ht.field;cr&&ut.push(Ce(tt||"all",cr).then(function(){Ht.errRule=null}).catch(function(Vt){var Ne=Vt.rule,ot=Vt.rules,Tt={rule:Ne,rules:ot,data:Gt,field:cr,property:cr,$form:j};return Rt[cr]||(Rt[cr]=[]),Rt[cr].push(Tt),Jt.push(cr),Ht.errRule=Ne,Promise.reject(Tt)}))}),Promise.all(ut).then(function(){We&&We()}).catch(function(){return new Promise(function(Ht){$e=window.setTimeout(function(){je.forEach(function(cr){cr.errRule&&(cr.showError=!0)})},20),Mt.autoPos!==!1&&nextTick(function(){ge(Jt)}),We?(We(Rt),Ht()):Ht(Rt)})})):(We&&We(),Promise.resolve())},ke=function(je){return oe(),be(Y(),"",je)},Ee=function(je,tt){return be(Y().filter(function(We){return We.field===je}),"",tt)},He=function(je){je.preventDefault(),e.preventSubmit||(oe(),be(Y()).then(function(){M.dispatchEvent("submit",{data:e.data},je)}).catch(function(tt){M.dispatchEvent("submit-invalid",{data:e.data,errMap:tt},je)}))},rt=function(){var je=n.tooltipStore,tt=k.value;return je.visible&&(Object.assign(je,{item:null,visible:!1}),tt&&tt.close()),nextTick()},ft=function(je,tt){var We=tt.item,Gt=n.tooltipStore,gt=k.value,Mt=je.currentTarget.children[0],Rt=(Mt.textContent||"").trim(),Jt=Mt.scrollWidth>Mt.clientWidth;clearTimeout(n.tooltipTimeout),n.tooltipActive=!0,rt(),Rt&&Jt&&(Object.assign(Gt,{item:We,visible:!0}),gt&&gt.open(Mt,Rt))},bt=function(){var je=$.value;n.tooltipActive=!1,je.enterable?n.tooltipTimeout=setTimeout(function(){var tt=k.value;tt&&!tt.reactData.isHover&&rt()},je.leaveDelay):rt()},Ye=function(je,tt){var We=je.property;We&&Ce("change",We,tt).then(function(){oe(We)}).catch(function(Gt){var gt=Gt.rule,Mt=Y(),Rt=Mt.find(function(Jt){return Jt.field===We});Rt&&(Rt.showError=!0,Rt.errRule=gt)})},De=function(je){var tt=e.data,We=e.rules,Gt=e.titleOverflow,gt=f.collapseAll,Mt=P.value;return je.map(function(Rt,Jt){var ut=Rt.slots,Ht=Rt.title,cr=Rt.visible,Vt=Rt.folding,Ne=Rt.visibleMethod,ot=Rt.field,Tt=Rt.collapseNode,St=Rt.itemRender,jt=Rt.showError,or=Rt.errRule,xr=Rt.className,st=Rt.titleOverflow,yt=Rt.children,Ft=isEnableConf(St)?VXETable.renderer.get(St.name):null,zt=ut?ut.default:null,Ct=ut?ut.title:null,gr=Rt.span||e.span,Mr=Rt.align||e.align,Br=Rt.titleAlign||e.titleAlign,sn=Rt.titleWidth||e.titleWidth,Hr=xeUtils.isUndefined(st)||xeUtils.isNull(st)?Gt:st,cn=Hr==="ellipsis",Ve=Hr==="title",ve=Hr===!0||Hr==="tooltip",lt=Ve||ve||cn,sr=Ne,ir={data:tt,field:ot,property:ot,item:Rt,$form:j};if(cr===!1)return createCommentVNode();var mr=!1;if(We){var kr=We[ot];kr&&(mr=kr.some(function(un){return un.required}))}var Pr=yt&&yt.length>0;if(Pr){var Or=De(Rt.children);return Or.length?h$1("div",{class:["vxe-form--gather vxe-row",Rt.id,gr?"vxe-col--"+gr+" is--span":"",xr?xeUtils.isFunction(xr)?xr(ir):xr:""]},Or):createCommentVNode()}!sr&&Ft&&Ft.itemVisibleMethod&&(sr=Ft.itemVisibleMethod);var Er=[];zt?Er=U(zt,ir):Ft&&Ft.renderItemContent?Er=Ft.renderItemContent(St,ir):ot&&(Er=[""+xeUtils.get(tt,ot)]),Tt&&Er.push(h$1("div",{class:"vxe-form--item-trigger-node",onClick:re},[h$1("span",{class:"vxe-form--item-trigger-text"},gt?GlobalConfig.i18n("vxe.form.unfolding"):GlobalConfig.i18n("vxe.form.folding")),h$1("i",{class:["vxe-form--item-trigger-icon",gt?GlobalConfig.icon.FORM_FOLDING:GlobalConfig.icon.FORM_UNFOLDING]})])),or&&Mt.showMessage&&Er.push(h$1("div",{class:"vxe-form--item-valid",style:or.maxWidth?{width:or.maxWidth+"px"}:null},or.content));var Nr=ve?{onMouseenter:function(un){ft(un,ir)},onMouseleave:bt}:{};return h$1("div",{class:["vxe-form--item",Rt.id,gr?"vxe-col--"+gr+" is--span":"",xr?xeUtils.isFunction(xr)?xr(ir):xr:"",{"is--title":Ht,"is--required":mr,"is--hidden":Vt&&gt,"is--active":!sr||sr(ir),"is--error":jt}],key:Jt},[h$1("div",{class:"vxe-form--item-inner"},[Ht||Ct?h$1("div",__assign$4({class:["vxe-form--item-title",Br?"align--"+Br:null,{"is--ellipsis":lt}],style:sn?{width:isNaN(sn)?sn:sn+"px"}:null,title:Ve?getFuncText(Ht):null},Nr),renderTitle(j,Rt)):null,h$1("div",{class:["vxe-form--item-content",Mr?"align--"+Mr:null]},Er)])])})};M={dispatchEvent:function(je,tt,We){x(je,Object.assign({$form:j,$event:We},tt))},reset:se,validate:ke,validateField:Ee,clearValidate:oe,updateStatus:Ye,toggleCollapse:te,getItems:Y,closeTooltip:rt};var at={callSlot:U,toggleCollapseEvent:re,triggerHeaderHelpEvent:ft,handleTargetLeaveEvent:bt};Object.assign(j,M,at),watch(function(){return f.staticItems},function(je){f.formItems=je}),watch(function(){return e.items},function(je){q(je||[])}),watch(function(){return e.collapseStatus},function(je){f.collapseAll=!!je}),onMounted(function(){nextTick(function(){q(e.items||[])})});var Ut=function(){var je,tt=e.loading,We=e.className,Gt=e.data,gt=e.titleColon,Mt=e.titleAsterisk,Rt=e.customLayout,Jt=f.formItems,ut=u.value,Ht=$.value,cr=g.default;return h$1("form",{ref:S,class:["vxe-form",We?xeUtils.isFunction(We)?We({items:Jt,data:Gt,$form:j}):We:"",(je={},je["size--"+ut]=ut,je["is--colon"]=gt,je["is--asterisk"]=Mt,je["is--loading"]=tt,je)],onSubmit:He,onReset:fe},[h$1("div",{class:"vxe-form--wrapper vxe-row"},Rt?cr?cr({}):[]:De(Jt)),h$1("div",{class:"vxe-form-slots",ref:"hideItem"},Rt?[]:cr?cr({}):[]),h$1("div",{class:["vxe-loading",{"is--visible":tt}]},[h$1("div",{class:"vxe-loading--spinner"})]),l?h$1(resolveComponent("vxe-tooltip"),__assign$4({ref:k},Ht)):createCommentVNode()])};return j.renderVN=Ut,provide("$xeform",j),j},render:function(){return this.renderVN()}}),Form=Object.assign(VxeFormComponent,{install:function(e){dynamicApp.component(VxeFormComponent.name,VxeFormComponent),e.component(VxeFormComponent.name,VxeFormComponent)}}),__assign$3=globalThis&&globalThis.__assign||function(){return __assign$3=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$3.apply(this,arguments)},formItemProps={title:String,field:String,span:[String,Number],align:String,titleAlign:String,titleWidth:[String,Number],className:[String,Function],titleOverflow:{type:[Boolean,String],default:null},titlePrefix:Object,titleSuffix:Object,resetValue:{default:null},visibleMethod:Function,visible:{type:Boolean,default:null},folding:Boolean,collapseNode:Boolean,itemRender:Object},VxeFormItemComponent=defineComponent({name:"VxeFormItem",props:formItemProps,setup:function(e,r){var l=r.slots,g=ref(),x=inject("$xeform",{}),C=inject("xeformgather",null),u=createItem(x,e);u.slots=l,watchItem(e,u),onMounted(function(){assemItem(x,g.value,u,C)}),onUnmounted(function(){destroyItem(x,u)});var f=function(S,k){var M=S.props,P=S.reactData,$=M.data,R=M.rules,B=M.titleOverflow,V=P.collapseAll,j=S.getComputeMaps().computeValidOpts,U=j.value,q=k.slots,Y=k.title,Q=k.visible,te=k.folding,re=k.visibleMethod,oe=k.field,se=k.collapseNode,fe=k.itemRender,ge=k.showError,Ce=k.errRule,$e=k.className,be=k.titleOverflow,ke=isEnableConf(fe)?VXETable.renderer.get(fe.name):null,Ee=q?q.default:null,He=q?q.title:null,rt=k.span||M.span,ft=k.align||M.align,bt=k.titleAlign||M.titleAlign,Ye=k.titleWidth||M.titleWidth,De=xeUtils.isUndefined(be)||xeUtils.isNull(be)?B:be,at=De==="ellipsis",Ut=De==="title",je=De===!0||De==="tooltip",tt=Ut||je||at,We=re,Gt={data:$,property:oe,item:k,$form:S},gt=!1;if(R){var Mt=R[oe];Mt&&(gt=Mt.some(function(ut){return ut.required}))}!We&&ke&&ke.itemVisibleMethod&&(We=ke.itemVisibleMethod);var Rt=[];Ee?Rt=S.callSlot(Ee,Gt):ke&&ke.renderItemContent?Rt=ke.renderItemContent(fe,Gt):oe&&(Rt=[""+xeUtils.get($,oe)]),se&&Rt.push(h$1("div",{class:"vxe-form--item-trigger-node",onClick:S.toggleCollapseEvent},[h$1("span",{class:"vxe-form--item-trigger-text"},V?GlobalConfig.i18n("vxe.form.unfolding"):GlobalConfig.i18n("vxe.form.folding")),h$1("i",{class:["vxe-form--item-trigger-icon",V?GlobalConfig.icon.FORM_FOLDING:GlobalConfig.icon.FORM_UNFOLDING]})])),Ce&&U.showMessage&&Rt.push(h$1("div",{class:"vxe-form--item-valid",style:Ce.maxWidth?{width:Ce.maxWidth+"px"}:null},Ce.message));var Jt=je?{onMouseenter:function(ut){S.triggerHeaderHelpEvent(ut,Gt)},onMouseleave:S.handleTargetLeaveEvent}:{};return h$1("div",{ref:g,class:["vxe-form--item",k.id,rt?"vxe-col--"+rt+" is--span":"",$e?xeUtils.isFunction($e)?$e(Gt):$e:"",{"is--title":Y,"is--required":gt,"is--hidden":Q===!1||te&&V,"is--active":!We||We(Gt),"is--error":ge}]},[h$1("div",{class:"vxe-form--item-inner"},[Y||He?h$1("div",__assign$3({class:["vxe-form--item-title",bt?"align--"+bt:null,{"is--ellipsis":tt}],style:Ye?{width:isNaN(Ye)?Ye:Ye+"px"}:null,title:Ut?getFuncText(Y):null},Jt),renderTitle(S,k)):null,h$1("div",{class:["vxe-form--item-content",ft?"align--"+ft:null]},Rt)])])},n=function(){var S=x?x.props:null;return S&&S.customLayout?f(x,u):h$1("div",{ref:g})};return n}}),FormItem=Object.assign(VxeFormItemComponent,{install:function(e){dynamicApp.component(VxeFormItemComponent.name,VxeFormItemComponent),e.component(VxeFormItemComponent.name,VxeFormItemComponent)}}),VxeFormGatherComponent=defineComponent({name:"VxeFormGather",props:formItemProps,setup:function(e,r){var l=r.slots,g=ref(),x=inject("$xeform",{}),C=inject("xeformgather",null),u=l.default,f=createItem(x,e),n={formItem:f};f.children=[],provide("xeformgather",n),watchItem(e,f),onMounted(function(){assemItem(x,g.value,f,C)}),onUnmounted(function(){destroyItem(x,f)});var S=function(){return h$1("div",{ref:g},u?u():[])};return S}}),FormGather=Object.assign(VxeFormGatherComponent,{install:function(e){dynamicApp.component(VxeFormGatherComponent.name,VxeFormGatherComponent),e.component(VxeFormGatherComponent.name,VxeFormGatherComponent)}}),Checkbox=Object.assign(VxeCheckboxComponent,{install:function(e){dynamicApp.component(VxeCheckboxComponent.name,VxeCheckboxComponent),e.component(VxeCheckboxComponent.name,VxeCheckboxComponent)}}),VxeCheckboxGroupComponent=defineComponent({name:"VxeCheckboxGroup",props:{modelValue:Array,disabled:Boolean,size:{type:String,default:function(){return GlobalConfig.checkbox.size||GlobalConfig.size}}},emits:["update:modelValue","change"],setup:function(e,r){var l=r.slots,g=r.emit,x=xeUtils.uniqueId(),C={xID:x,props:e,context:r};useSize(e);var u={dispatchEvent:function(S,k,M){g(S,Object.assign({$checkboxGroup:C,$event:M},k))}},f={handleChecked:function(S,k){var M=S.checked,P=S.label,$=e.modelValue||[],R=$.indexOf(P);M?R===-1&&$.push(P):$.splice(R,1),g("update:modelValue",$),C.dispatchEvent("change",Object.assign({checklist:$},S),k)}};Object.assign(C,u,f);var n=function(){return h$1("div",{class:"vxe-checkbox-group"},l.default?l.default({}):[])};return C.renderVN=n,provide("$xecheckboxgroup",C),n}}),CheckboxGroup=Object.assign(VxeCheckboxGroupComponent,{install:function(e){dynamicApp.component(VxeCheckboxGroupComponent.name,VxeCheckboxGroupComponent),e.component(VxeCheckboxGroupComponent.name,VxeCheckboxGroupComponent)}}),Radio=Object.assign(VxeRadioComponent,{install:function(e){dynamicApp.component(VxeRadioComponent.name,VxeRadioComponent),e.component(VxeRadioComponent.name,VxeRadioComponent)}}),RadioGroup=Object.assign(VxeRadioGroupComponent,{install:function(e){dynamicApp.component(VxeRadioGroupComponent.name,VxeRadioGroupComponent),e.component(VxeRadioGroupComponent.name,VxeRadioGroupComponent)}}),VxeRadioButtonComponent=defineComponent({name:"VxeRadioButton",props:{modelValue:[String,Number,Boolean],label:{type:[String,Number,Boolean],default:null},title:[String,Number],content:[String,Number],disabled:Boolean,strict:{type:Boolean,default:function(){return GlobalConfig.radioButton.strict}},size:{type:String,default:function(){return GlobalConfig.radioButton.size||GlobalConfig.size}}},emits:["update:modelValue","change"],setup:function(e,r){var l=r.slots,g=r.emit,x=xeUtils.uniqueId(),C=useSize(e),u={xID:x,props:e,context:r},f={},n=inject("$xeradiogroup",null),S=computed(function(){return e.disabled||n&&n.props.disabled}),k=computed(function(){return n?n.name:null}),M=computed(function(){return n?n.props.strict:e.strict}),P=computed(function(){var j=e.modelValue,U=e.label;return n?n.props.modelValue===U:j===U});f={dispatchEvent:function(j,U,q){g(j,Object.assign({$radioButton:u,$event:q},U))}},Object.assign(u,f);var $=function(j,U){n?n.handleChecked({label:j},U):(g("update:modelValue",j),f.dispatchEvent("change",{label:j},U))},R=function(j){var U=S.value;U||$(e.label,j)},B=function(j){var U=S.value,q=M.value;!U&&!q&&e.label===(n?n.props.modelValue:e.modelValue)&&$(null,j)},V=function(){var j,U=C.value,q=S.value,Y=k.value,Q=P.value;return h$1("label",{class:["vxe-radio","vxe-radio-button",(j={},j["size--"+U]=U,j["is--disabled"]=q,j)],title:e.title},[h$1("input",{class:"vxe-radio--input",type:"radio",name:Y,checked:Q,disabled:q,onChange:R,onClick:B}),h$1("span",{class:"vxe-radio--label"},l.default?l.default({}):getFuncText(e.content))])};return Object.assign(u,{renderVN:V,dispatchEvent}),V}}),RadioButton=Object.assign(VxeRadioButtonComponent,{install:function(e){dynamicApp.component(VxeRadioButtonComponent.name,VxeRadioButtonComponent),e.component(VxeRadioButtonComponent.name,VxeRadioButtonComponent)}}),VxeSwitchComponent=defineComponent({name:"VxeSwitch",props:{modelValue:[String,Number,Boolean],disabled:Boolean,size:{type:String,default:function(){return GlobalConfig.switch.size||GlobalConfig.size}},openLabel:String,closeLabel:String,openValue:{type:[String,Number,Boolean],default:!0},closeValue:{type:[String,Number,Boolean],default:!1},openIcon:String,closeIcon:String},emits:["update:modelValue","change","focus","blur"],setup:function(e,r){var l=r.emit,g=xeUtils.uniqueId(),x=useSize(e),C=reactive({isActivated:!1,hasAnimat:!1,offsetLeft:0}),u={xID:g,props:e,context:r,reactData:C},f=ref(),n={},S=computed(function(){return getFuncText(e.openLabel)}),k=computed(function(){return getFuncText(e.closeLabel)}),M=computed(function(){return e.modelValue===e.openValue}),P,$=function(j){if(!e.disabled){var U=M.value;clearTimeout(P);var q=U?e.closeValue:e.openValue;C.hasAnimat=!0,l("update:modelValue",q),n.dispatchEvent("change",{value:q},j),P=setTimeout(function(){C.hasAnimat=!1},400)}},R=function(j){C.isActivated=!0,n.dispatchEvent("focus",{value:e.modelValue},j)},B=function(j){C.isActivated=!1,n.dispatchEvent("blur",{value:e.modelValue},j)};n={dispatchEvent:function(j,U,q){l(j,Object.assign({$switch:u,$event:q},U))},focus:function(){var j=f.value;return C.isActivated=!0,j.focus(),nextTick()},blur:function(){var j=f.value;return j.blur(),C.isActivated=!1,nextTick()}},Object.assign(u,n);var V=function(){var j,U=e.disabled,q=e.openIcon,Y=e.closeIcon,Q=M.value,te=x.value,re=S.value,oe=k.value;return h$1("div",{class:["vxe-switch",Q?"is--on":"is--off",(j={},j["size--"+te]=te,j["is--disabled"]=U,j["is--animat"]=C.hasAnimat,j)]},[h$1("button",{ref:f,class:"vxe-switch--button",type:"button",disabled:U,onClick:$,onFocus:R,onBlur:B},[h$1("span",{class:"vxe-switch--label vxe-switch--label-on"},[q?h$1("i",{class:["vxe-switch--label-icon",q]}):createCommentVNode(),re]),h$1("span",{class:"vxe-switch--label vxe-switch--label-off"},[Y?h$1("i",{class:["vxe-switch--label-icon",Y]}):createCommentVNode(),oe]),h$1("span",{class:"vxe-switch--icon"})])])};return u.renderVN=V,u},render:function(){return this.renderVN()}}),Switch=Object.assign(VxeSwitchComponent,{install:function(e){dynamicApp.component(VxeSwitchComponent.name,VxeSwitchComponent),e.component(VxeSwitchComponent.name,VxeSwitchComponent)}}),Input=Object.assign(VxeInputConstructor,{install:function(e){dynamicApp.component(VxeInputConstructor.name,VxeInputConstructor),e.component(VxeInputConstructor.name,VxeInputConstructor)}}),Select=Object.assign(VxeSelectComponent,{install:function(e){dynamicApp.component(VxeSelectComponent.name,VxeSelectComponent),e.component(VxeSelectComponent.name,VxeSelectComponent)}}),OptionInfo=function(){function e(r,l){Object.assign(this,{id:xeUtils.uniqueId("option_"),value:l.value,label:l.label,visible:l.visible,className:l.className,disabled:l.disabled})}return e.prototype.update=function(r,l){this[r]=l},e}();function isOption(e){return e instanceof OptionInfo}function createOption(e,r){return isOption(r)?r:new OptionInfo(e,r)}function watchOption(e,r){Object.keys(e).forEach(function(l){watch(function(){return e[l]},function(g){r.update(l,g)})})}function assemOption(e,r,l,g){var x=e.reactData,C=x.staticOptions,u=r.parentNode,f=g?g.option:null,n=f?f.options:C;u&&n&&(n.splice(xeUtils.arrayIndexOf(u.children,r),0,l),x.staticOptions=C.slice(0))}function destroyOption(e,r){var l=e.reactData,g=l.staticOptions,x=xeUtils.findTree(g,function(C){return C.id===r.id},{children:"options"});x&&x.items.splice(x.index,1),l.staticOptions=g.slice(0)}var VxeOptgroupComponent=defineComponent({name:"VxeOptgroup",props:{label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup:function(e,r){var l=r.slots,g=ref(),x=inject("$xeselect",{}),C=createOption(x,e),u={option:C};return C.options=[],provide("xeoptgroup",u),watchOption(e,C),onMounted(function(){assemOption(x,g.value,C)}),onUnmounted(function(){destroyOption(x,C)}),function(){return h$1("div",{ref:g},l.default?l.default():[])}}}),Optgroup=Object.assign(VxeOptgroupComponent,{install:function(e){dynamicApp.component(VxeOptgroupComponent.name,VxeOptgroupComponent),e.component(VxeOptgroupComponent.name,VxeOptgroupComponent)}}),VxeOptionComponent=defineComponent({name:"VxeOption",props:{value:null,label:{type:[String,Number,Boolean],default:""},visible:{type:Boolean,default:null},className:[String,Function],disabled:Boolean},setup:function(e,r){var l=r.slots,g=ref(),x=inject("$xeselect",{}),C=inject("xeoptgroup",null),u=createOption(x,e);return u.slots=l,watchOption(e,u),onMounted(function(){assemOption(x,g.value,u,C)}),onUnmounted(function(){destroyOption(x,u)}),function(){return h$1("div",{ref:g})}}}),Option=Object.assign(VxeOptionComponent,{install:function(e){dynamicApp.component(VxeOptionComponent.name,VxeOptionComponent),e.component(VxeOptionComponent.name,VxeOptionComponent)}}),autoTxtElem,VxeTextareaComponent=defineComponent({name:"VxeTextarea",props:{modelValue:[String,Number],className:String,immediate:{type:Boolean,default:!0},name:String,readonly:Boolean,disabled:Boolean,placeholder:String,maxlength:[String,Number],rows:{type:[String,Number],default:2},cols:{type:[String,Number],default:null},showWordCount:Boolean,countMethod:Function,autosize:[Boolean,Object],form:String,resize:{type:String,default:function(){return GlobalConfig.textarea.resize}},size:{type:String,default:function(){return GlobalConfig.textarea.size||GlobalConfig.size}}},emits:["update:modelValue","input","keydown","keyup","click","change","focus","blur"],setup:function(e,r){var l=r.emit,g=xeUtils.uniqueId(),x=useSize(e),C=reactive({inputValue:e.modelValue}),u=ref(),f=ref(),n={refElem:u,refTextarea:f},S={xID:g,props:e,context:r,reactData:C,getRefMaps:function(){return n}},k={},M=computed(function(){return xeUtils.getSize(C.inputValue)}),P=computed(function(){var te=M.value;return e.maxlength&&te>xeUtils.toNumber(e.maxlength)}),$=computed(function(){return Object.assign({minRows:1,maxRows:10},GlobalConfig.textarea.autosize,e.autosize)}),R=function(){var te=e.size,re=e.autosize,oe=C.inputValue;if(re){autoTxtElem||(autoTxtElem=document.createElement("div")),autoTxtElem.parentNode||document.body.appendChild(autoTxtElem);var se=f.value,fe=getComputedStyle(se);autoTxtElem.className=["vxe-textarea--autosize",te?"size--"+te:""].join(" "),autoTxtElem.style.width=se.clientWidth+"px",autoTxtElem.style.padding=fe.padding,autoTxtElem.innerHTML=(""+(oe||"\u3000")).replace(/\n$/,`
\u3000`)}},B=function(){e.autosize&&nextTick(function(){var te=$.value,re=te.minRows,oe=te.maxRows,se=f.value,fe=autoTxtElem.clientHeight,ge=getComputedStyle(se),Ce=xeUtils.toNumber(ge.lineHeight),$e=xeUtils.toNumber(ge.paddingTop),be=xeUtils.toNumber(ge.paddingBottom),ke=xeUtils.toNumber(ge.borderTopWidth),Ee=xeUtils.toNumber(ge.borderBottomWidth),He=$e+be+ke+Ee,rt=(fe-He)/Ce,ft=rt&&/[0-9]/.test(""+rt)?rt:Math.floor(rt)+1,bt=ft;ft<re?bt=re:ft>oe&&(bt=oe),se.style.height=bt*Ce+He+"px"})},V=function(te){var re=C.inputValue;S.dispatchEvent(te.type,{value:re},te)},j=function(te,re){C.inputValue=te,l("update:modelValue",te),xeUtils.toValueString(e.modelValue)!==te&&k.dispatchEvent("change",{value:te},re)},U=function(te){var re=e.immediate,oe=te.target,se=oe.value;C.inputValue=se,re&&j(se,te),S.dispatchEvent("input",{value:se},te),B()},q=function(te){var re=e.immediate;re?V(te):j(C.inputValue,te)},Y=function(te){var re=e.immediate,oe=C.inputValue;re||j(oe,te),S.dispatchEvent("blur",{value:oe},te)};k={dispatchEvent:function(te,re,oe){l(te,Object.assign({$textarea:S,$event:oe},re))},focus:function(){var te=f.value;return te.focus(),nextTick()},blur:function(){var te=f.value;return te.blur(),nextTick()}},Object.assign(S,k),watch(function(){return e.modelValue},function(te){C.inputValue=te,R()}),nextTick(function(){var te=e.autosize;te&&(R(),B())});var Q=function(){var te,re=e.className,oe=e.resize,se=e.placeholder,fe=e.disabled,ge=e.maxlength,Ce=e.autosize,$e=e.showWordCount,be=e.countMethod,ke=e.rows,Ee=e.cols,He=C.inputValue,rt=x.value,ft=P.value,bt=M.value;return h$1("div",{ref:u,class:["vxe-textarea",re,(te={},te["size--"+rt]=rt,te["is--autosize"]=Ce,te["is--disabled"]=fe,te["def--rows"]=!xeUtils.eqNull(ke),te["def--cols"]=!xeUtils.eqNull(Ee),te)]},[h$1("textarea",{ref:f,class:"vxe-textarea--inner",value:He,name:e.name,placeholder:se?getFuncText(se):null,maxlength:ge,readonly:e.readonly,disabled:fe,rows:ke,cols:Ee,style:oe?{resize:oe}:null,onInput:U,onChange:q,onKeydown:V,onKeyup:V,onClick:V,onFocus:V,onBlur:Y}),$e?h$1("span",{class:["vxe-textarea--count",{"is--error":ft}]},be?""+be({value:He}):""+bt+(ge?"/"+ge:"")):null])};return S.renderVN=Q,S},render:function(){return this.renderVN()}}),Textarea=Object.assign(VxeTextareaComponent,{install:function(e){dynamicApp.component(VxeTextareaComponent.name,VxeTextareaComponent),e.component(VxeTextareaComponent.name,VxeTextareaComponent)}}),Button=Object.assign(VxeButtonComponent,{install:function(e){dynamicApp.component(VxeButtonComponent.name,VxeButtonComponent),e.component(VxeButtonComponent.name,VxeButtonComponent)}}),__assign$2=globalThis&&globalThis.__assign||function(){return __assign$2=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$2.apply(this,arguments)};function openModal(e){return checkDynamic(),new Promise(function(r){if(e&&e.id&&allActivedModals.some(function(x){return x.props.id===e.id}))r("exist");else{var l=e.onHide,g=Object.assign(e,{key:xeUtils.uniqueId(),modelValue:!0,onHide:function(x){var C=dynamicStore.modals;l&&l(x),dynamicStore.modals=C.filter(function(u){return u.key!==g.key}),r(x.type)}});dynamicStore.modals.push(g)}})}function getModal(e){return xeUtils.find(allActivedModals,function(r){return r.props.id===e})}function closeModal(e){var r=e?[getModal(e)]:allActivedModals,l=[];return r.forEach(function(g){g&&l.push(g.close())}),Promise.all(l)}function handleOpen(e,r,l,g){var x;return xeUtils.isObject(r)?x=r:x={content:xeUtils.toValueString(r),title:l},openModal(__assign$2(__assign$2(__assign$2({},e),g),x))}function openAlert(e,r,l){return handleOpen({type:"alert",showFooter:!0},e,r,l)}function openConfirm(e,r,l){return handleOpen({type:"confirm",status:"question",showFooter:!0},e,r,l)}function openMessage(e,r){return handleOpen({type:"message",mask:!1,lockView:!1,showHeader:!1},e,"",r)}var ModalController={get:getModal,close:closeModal,open:openModal,alert:openAlert,confirm:openConfirm,message:openMessage},Modal=Object.assign(VxeModalComponent,{install:function(e){dynamicApp.component(VxeModalComponent.name,VxeModalComponent),e.component(VxeModalComponent.name,VxeModalComponent),VXETable.modal=ModalController}}),resizeTimeout,eventStore=[],defaultInterval=500;function eventHandle(){eventStore.length&&(eventStore.forEach(function(e){e.tarList.forEach(function(r){var l=r.target,g=r.width,x=r.heighe,C=l.clientWidth,u=l.clientHeight,f=C&&g!==C,n=u&&x!==u;(f||n)&&(r.width=C,r.heighe=u,setTimeout(e.callback))})}),eventListener())}function eventListener(){clearTimeout(resizeTimeout),resizeTimeout=setTimeout(eventHandle,GlobalConfig.resizeInterval||defaultInterval)}var XEResizeObserver=function(){function e(r){this.tarList=[],this.callback=r}return e.prototype.observe=function(r){var l=this;if(r){var g=this.tarList;g.some(function(x){return x.target===r})||g.push({target:r,width:r.clientWidth,heighe:r.clientHeight}),eventStore.length||eventListener(),eventStore.some(function(x){return x===l})||eventStore.push(this)}},e.prototype.unobserve=function(r){xeUtils.remove(eventStore,function(l){return l.tarList.some(function(g){return g.target===r})})},e.prototype.disconnect=function(){var r=this;xeUtils.remove(eventStore,function(l){return l===r})},e}();function createResizeEvent(e){return window.ResizeObserver?new window.ResizeObserver(e):new XEResizeObserver(e)}var VxeListComponent=defineComponent({name:"VxeList",props:{data:Array,height:[Number,String],maxHeight:[Number,String],loading:Boolean,className:[String,Function],size:{type:String,default:function(){return GlobalConfig.list.size||GlobalConfig.size}},autoResize:{type:Boolean,default:function(){return GlobalConfig.list.autoResize}},syncResize:[Boolean,String,Number],scrollY:Object},emits:["scroll"],setup:function(e,r){var l=r.slots,g=r.emit,x=xeUtils.uniqueId(),C=useSize(e),u=reactive({scrollYLoad:!1,bodyHeight:0,rowHeight:0,topSpaceHeight:0,items:[]}),f=ref(),n=ref(),S=ref(),k={fullData:[],lastScrollLeft:0,lastScrollTop:0,scrollYStore:{startIndex:0,endIndex:0,visibleSize:0,offsetSize:0,rowHeight:0}},M={refElem:f},P={xID:x,props:e,context:r,reactData:u,internalData:k,getRefMaps:function(){return M}},$={},R=computed(function(){return Object.assign({},GlobalConfig.list.scrollY,e.scrollY)}),B=computed(function(){var Ce=e.height,$e=e.maxHeight,be={};return Ce?be.height=""+(isNaN(Ce)?Ce:Ce+"px"):$e&&(be.height="auto",be.maxHeight=""+(isNaN($e)?$e:$e+"px")),be}),V=function(){var Ce=u.scrollYLoad,$e=k.scrollYStore,be=k.fullData;u.bodyHeight=Ce?be.length*$e.rowHeight:0,u.topSpaceHeight=Ce?Math.max($e.startIndex*$e.rowHeight,0):0},j=function(){var Ce=u.scrollYLoad,$e=k.fullData,be=k.scrollYStore;return u.items=Ce?$e.slice(be.startIndex,be.endIndex):$e.slice(0),nextTick()},U=function(){j(),V()},q=function(){return nextTick().then(function(){var Ce=u.scrollYLoad,$e=k.scrollYStore,be=S.value,ke=R.value,Ee=0,He;if(be&&(ke.sItem&&(He=be.querySelector(ke.sItem)),He||(He=be.children[0])),He&&(Ee=He.offsetHeight),Ee=Math.max(20,Ee),$e.rowHeight=Ee,Ce){var rt=n.value,ft=Math.max(8,Math.ceil(rt.clientHeight/Ee)),bt=ke.oSize?xeUtils.toNumber(ke.oSize):browse.edge?10:0;$e.offsetSize=bt,$e.visibleSize=ft,$e.endIndex=Math.max($e.startIndex,ft+bt,$e.endIndex),U()}else V();u.rowHeight=Ee})},Y=function(){var Ce=n.value;return Ce&&(Ce.scrollTop=0),nextTick()},Q=function(Ce,$e){var be=n.value;return xeUtils.isNumber(Ce)&&(be.scrollLeft=Ce),xeUtils.isNumber($e)&&(be.scrollTop=$e),u.scrollYLoad?new Promise(function(ke){return setTimeout(function(){return ke(nextTick())},50)}):nextTick()},te=function(){var Ce=k.lastScrollLeft,$e=k.lastScrollTop;return Y().then(function(){if(Ce||$e)return k.lastScrollLeft=0,k.lastScrollTop=0,Q(Ce,$e)})},re=function(){var Ce=f.value;return Ce.clientWidth&&Ce.clientHeight?q():Promise.resolve()},oe=function(Ce){var $e=k.scrollYStore,be=$e.startIndex,ke=$e.endIndex,Ee=$e.visibleSize,He=$e.offsetSize,rt=$e.rowHeight,ft=Ce.target,bt=ft.scrollTop,Ye=Math.floor(bt/rt),De=Math.max(0,Ye-1-He),at=Ye+Ee+He;(Ye<=be||Ye>=ke-Ee-1)&&(be!==De||ke!==at)&&($e.startIndex=De,$e.endIndex=at,U())},se=function(Ce){var $e=Ce.target,be=$e.scrollTop,ke=$e.scrollLeft,Ee=ke!==k.lastScrollLeft,He=be!==k.lastScrollTop;k.lastScrollTop=be,k.lastScrollLeft=ke,u.scrollYLoad&&oe(Ce),$.dispatchEvent("scroll",{scrollLeft:ke,scrollTop:be,isX:Ee,isY:He},Ce)};$={dispatchEvent:function(Ce,$e,be){g(Ce,Object.assign({$list:P,$event:be},$e))},loadData:function(Ce){var $e=k.scrollYStore,be=R.value,ke=Ce||[];return Object.assign($e,{startIndex:0,endIndex:1,visibleSize:0}),k.fullData=ke,u.scrollYLoad=!!be.enabled&&be.gt>-1&&be.gt<=ke.length,j(),q().then(function(){te()})},reloadData:function(Ce){return Y(),$.loadData(Ce)},recalculate:re,scrollTo:Q,refreshScroll:te,clearScroll:Y},Object.assign(P,$),watch(function(){return e.data},function(Ce){$.loadData(Ce||[])}),watch(function(){return e.syncResize},function(Ce){Ce&&(re(),nextTick(function(){return setTimeout(function(){return re()})}))});var fe;nextTick(function(){if(GlobalEvent.on(P,"resize",function(){re()}),e.autoResize){var Ce=f.value;fe=createResizeEvent(function(){return re()}),fe.observe(Ce)}$.loadData(e.data||[])}),onUnmounted(function(){fe&&fe.disconnect(),GlobalEvent.off(P,"resize")});var ge=function(){var Ce,$e=e.className,be=e.loading,ke=u.bodyHeight,Ee=u.topSpaceHeight,He=u.items,rt=C.value,ft=B.value;return h$1("div",{ref:f,class:["vxe-list",$e?xeUtils.isFunction($e)?$e({$list:P}):$e:"",(Ce={},Ce["size--"+rt]=rt,Ce["is--loading"]=be,Ce)]},[h$1("div",{ref:n,class:"vxe-list--virtual-wrapper",style:ft,onScroll:se},[h$1("div",{class:"vxe-list--y-space",style:{height:ke?ke+"px":""}}),h$1("div",{ref:S,class:"vxe-list--body",style:{marginTop:Ee?Ee+"px":""}},l.default?l.default({items:He,$list:P}):[])]),h$1("div",{class:["vxe-list--loading vxe-loading",{"is--visible":be}]},[h$1("div",{class:"vxe-loading--spinner"})])])};return P.renderVN=ge,P},render:function(){return this.renderVN()}}),List=Object.assign(VxeListComponent,{install:function(e){dynamicApp.component(VxeListComponent.name,VxeListComponent),e.component(VxeListComponent.name,VxeListComponent)}}),VxePulldownComponent=defineComponent({name:"VxePulldown",props:{modelValue:Boolean,disabled:Boolean,placement:String,size:{type:String,default:function(){return GlobalConfig.size}},destroyOnClose:Boolean,transfer:Boolean},emits:["update:modelValue","hide-panel"],setup:function(e,r){var l=r.slots,g=r.emit,x=xeUtils.uniqueId(),C=useSize(e),u=reactive({inited:!1,panelIndex:0,panelStyle:null,panelPlacement:null,visiblePanel:!1,animatVisible:!1,isActivated:!1}),f=ref(),n=ref(),S=ref(),k={refElem:f},M={xID:x,props:e,context:r,reactData:u,getRefMaps:function(){return k}},P={},$=function(){u.panelIndex<getLastZIndex()&&(u.panelIndex=nextZIndex())},R=function(){return u.visiblePanel},B=function(){return nextTick().then(function(){var oe=e.transfer,se=e.placement,fe=u.panelIndex,ge=u.visiblePanel;if(ge){var Ce=n.value,$e=S.value;if($e&&Ce){var be=Ce.offsetHeight,ke=Ce.offsetWidth,Ee=$e.offsetHeight,He=$e.offsetWidth,rt=5,ft={zIndex:fe},bt=getAbsolutePos(Ce),Ye=bt.boundingTop,De=bt.boundingLeft,at=bt.visibleHeight,Ut=bt.visibleWidth,je="bottom";if(oe){var tt=De,We=Ye+be;se==="top"?(je="top",We=Ye-Ee):se||(We+Ee+rt>at&&(je="top",We=Ye-Ee),We<rt&&(je="bottom",We=Ye+be)),tt+He+rt>Ut&&(tt-=tt+He+rt-Ut),tt<rt&&(tt=rt),Object.assign(ft,{left:tt+"px",top:We+"px",minWidth:ke+"px"})}else se==="top"?(je="top",ft.bottom=be+"px"):se||Ye+be+Ee>at&&Ye-be-Ee>rt&&(je="top",ft.bottom=be+"px");u.panelStyle=ft,u.panelPlacement=je}}return nextTick()})},V,j=function(){return u.inited||(u.inited=!0),new Promise(function(oe){e.disabled?oe(nextTick()):(clearTimeout(V),u.isActivated=!0,u.animatVisible=!0,setTimeout(function(){u.visiblePanel=!0,g("update:modelValue",!0),B(),setTimeout(function(){oe(B())},40)},10),$())})},U=function(){return u.visiblePanel=!1,g("update:modelValue",!1),new Promise(function(oe){u.animatVisible?V=window.setTimeout(function(){u.animatVisible=!1,oe(nextTick())},350):oe(nextTick())})},q=function(){return u.visiblePanel?U():j()},Y=function(oe){var se=e.disabled,fe=u.visiblePanel,ge=S.value;se||fe&&(getEventTargetNode(oe,ge).flag?B():(U(),P.dispatchEvent("hide-panel",{},oe)))},Q=function(oe){var se=e.disabled,fe=u.visiblePanel,ge=f.value,Ce=S.value;se||(u.isActivated=getEventTargetNode(oe,ge).flag||getEventTargetNode(oe,Ce).flag,fe&&!u.isActivated&&(U(),P.dispatchEvent("hide-panel",{},oe)))},te=function(oe){u.visiblePanel&&(u.isActivated=!1,U(),P.dispatchEvent("hide-panel",{},oe))};P={dispatchEvent:function(oe,se,fe){g(oe,Object.assign({$pulldown:M,$event:fe},se))},isPanelVisible:R,togglePanel:q,showPanel:j,hidePanel:U},Object.assign(M,P),watch(function(){return e.modelValue},function(oe){oe?j():U()}),nextTick(function(){GlobalEvent.on(M,"mousewheel",Y),GlobalEvent.on(M,"mousedown",Q),GlobalEvent.on(M,"blur",te)}),onUnmounted(function(){GlobalEvent.off(M,"mousewheel"),GlobalEvent.off(M,"mousedown"),GlobalEvent.off(M,"blur")});var re=function(){var oe,se,fe=e.destroyOnClose,ge=e.transfer,Ce=e.disabled,$e=u.inited,be=u.isActivated,ke=u.animatVisible,Ee=u.visiblePanel,He=u.panelStyle,rt=u.panelPlacement,ft=C.value;return h$1("div",{ref:f,class:["vxe-pulldown",(oe={},oe["size--"+ft]=ft,oe["is--visivle"]=Ee,oe["is--disabled"]=Ce,oe["is--active"]=be,oe)]},[h$1("div",{ref:n,class:"vxe-pulldown--content"},l.default?l.default({$pulldown:M}):[]),h$1(Teleport,{to:"body",disabled:ge?!$e:!0},[h$1("div",{ref:S,class:["vxe-table--ignore-clear vxe-pulldown--panel",(se={},se["size--"+ft]=ft,se["is--transfer"]=ge,se["animat--leave"]=ke,se["animat--enter"]=Ee,se)],placement:rt,style:He},l.dropdown?[h$1("div",{class:"vxe-pulldown--wrapper"},!$e||fe&&!Ee&&!ke?[]:l.dropdown({$pulldown:M}))]:[])])])};return M.renderVN=re,M},render:function(){return this.renderVN()}}),Pulldown=Object.assign(VxePulldownComponent,{install:function(e){dynamicApp.component(VxePulldownComponent.name,VxePulldownComponent),e.component(VxePulldownComponent.name,VxePulldownComponent)}}),__assign$1=globalThis&&globalThis.__assign||function(){return __assign$1=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign$1.apply(this,arguments)},__spreadArray$1=globalThis&&globalThis.__spreadArray||function(e,r){for(var l=0,g=r.length,x=e.length;l<g;l++,x++)e[x]=r[l];return e},renderType="body",lineOffsetSizes={mini:3,small:2,medium:1},TableBodyComponent=defineComponent({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup:function(e){var r=inject("$xetable",{}),l=inject("xesize",null),g=r.xID,x=r.props,C=r.context,u=r.reactData,f=r.internalData,n=r.getRefMaps(),S=n.refTableHeader,k=n.refTableBody,M=n.refTableFooter,P=n.refTableLeftBody,$=n.refTableRightBody,R=n.refValidTooltip,B=r.getComputeMaps(),V=B.computeEditOpts,j=B.computeMouseOpts,U=B.computeSYOpts,q=B.computeEmptyOpts,Y=B.computeKeyboardOpts,Q=B.computeTooltipOpts,te=B.computeRadioOpts,re=B.computeTreeOpts,oe=B.computeCheckboxOpts,se=B.computeValidOpts,fe=B.computeRowOpts,ge=ref(),Ce=ref(),$e=ref(),be=ref(),ke=ref(),Ee=ref(),He=ref(),rt=function(){if(l){var Vt=l.value;if(Vt)return lineOffsetSizes[Vt]||0}return 0},ft=function(Vt,Ne){var ot=1;if(!Vt)return ot;var Tt=re.value,St=Vt[Tt.children];if(r.isTreeExpandByRow(Vt))for(var jt=0;jt<St.length;jt++)ot+=ft(St[jt]);return ot},bt=function(Vt,Ne,ot){var Tt=1;return ot&&(Tt=ft(Ne[ot-1])),u.rowHeight*Tt-(ot?1:12-rt())},Ye=function(){var Vt=x.delayHover,Ne=f.lastScrollTime,ot=f._isResize;return ot||Ne&&Date.now()<Ne+Vt},De=function(Vt){var Ne=Vt.row,ot=Vt.column,Tt=x.treeConfig,St=re.value,jt=ot.slots,or=ot.treeNode,xr=f.fullAllDataRowIdData,st=getRowid(r,Ne),yt=xr[st],Ft=0,zt=0,Ct=[];return yt&&(Ft=yt.level,zt=yt._index,Ct=yt.items),jt&&jt.line?r.callSlot(jt.line,Vt):Tt&&or&&St.line?[h$1("div",{class:"vxe-tree--line-wrapper"},[h$1("div",{class:"vxe-tree--line",style:{height:bt(Vt,Ct,zt)+"px",left:Ft*St.indent+(Ft?2-rt():0)+16+"px"}})])]:[]},at=function(Vt,Ne,ot,Tt,St,jt,or,xr,st,yt,Ft,zt){var Ct,gr=x.columnKey,Mr=x.height,Br=x.showOverflow,sn=x.cellClassName,Hr=x.cellStyle,cn=x.align,Ve=x.spanMethod,ve=x.mouseConfig,lt=x.editConfig,sr=x.editRules,ir=x.tooltipConfig,mr=u.tableData,kr=u.overflowX,Pr=u.scrollYLoad,Or=u.currentColumn,Er=u.mergeList,Nr=u.editStore,un=u.validStore,vn=u.isAllOverflow,Ze=f.afterFullData,_e=se.value,Ie=oe.value,Qe=V.value,ct=Q.value,kt=fe.value,er=U.value,Kt=st.type,Nt=st.cellRender,Qt=st.editRender,Cr=st.align,Lr=st.showOverflow,Tr=st.className,ln=st.treeNode,mn=Nr.actived,Yr=er.rHeight,Et=kt.height,_r=ct.showAll,Wn=r.getColumnIndex(st),jn=r.getVTColumnIndex(st),xn=isEnableConf(Qt),zn=ot?st.fixed!==ot:st.fixed&&kr,li=xeUtils.isUndefined(Lr)||xeUtils.isNull(Lr)?Br:Lr,Ri=li==="ellipsis",ci=li==="title",tn=li===!0||li==="tooltip",On=ci||tn||Ri,$n,In={},vi=Cr||cn,Fn=un.row===St&&un.column===st,jo=sr&&_e.showMessage&&(_e.message==="default"?Mr||mr.length>1:_e.message==="inline"),Ui={colid:st.id},xi={$table:r,seq:Vt,rowid:Ne,row:St,rowIndex:jt,$rowIndex:or,_rowIndex:xr,column:st,columnIndex:Wn,$columnIndex:yt,_columnIndex:jn,fixed:ot,type:renderType,isHidden:zn,level:Tt,visibleData:Ze,data:mr,items:zt};if(Pr&&!On&&(Ri=On=!0),(ci||tn||_r||ir)&&(In.onMouseenter=function(ti){Ye()||(ci?updateCellTitle(ti.currentTarget,st):(tn||_r)&&r.triggerBodyTooltipEvent(ti,xi),r.dispatchEvent("cell-mouseenter",Object.assign({cell:ti.currentTarget},xi),ti))}),(tn||_r||ir)&&(In.onMouseleave=function(ti){Ye()||((tn||_r)&&r.handleTargetLeaveEvent(ti),r.dispatchEvent("cell-mouseleave",Object.assign({cell:ti.currentTarget},xi),ti))}),(Ie.range||ve)&&(In.onMousedown=function(ti){r.triggerCellMousedownEvent(ti,xi)}),In.onClick=function(ti){r.triggerCellClickEvent(ti,xi)},In.onDblclick=function(ti){r.triggerCellDblclickEvent(ti,xi)},Er.length){var wi=mergeBodyMethod(Er,xr,jn);if(wi){var Jn=wi.rowspan,vo=wi.colspan;if(!Jn||!vo)return null;Jn>1&&(Ui.rowspan=Jn),vo>1&&(Ui.colspan=vo)}}else if(Ve){var Mo=Ve(xi)||{},yo=Mo.rowspan,Jn=yo===void 0?1:yo,Co=Mo.colspan,vo=Co===void 0?1:Co;if(!Jn||!vo)return null;Jn>1&&(Ui.rowspan=Jn),vo>1&&(Ui.colspan=vo)}zn&&Er&&(Ui.colspan>1||Ui.rowspan>1)&&(zn=!1),!zn&&lt&&(Qt||Nt)&&(Qe.showStatus||Qe.showUpdateStatus)&&($n=r.isUpdateByRow(St,st.property));var ji=[];return zn&&Br&&vn?ji.push(h$1("div",{class:["vxe-cell",{"c--title":ci,"c--tooltip":tn,"c--ellipsis":Ri}],style:{maxHeight:On&&(Yr||Et)?(Yr||Et)+"px":""}})):(ji.push.apply(ji,__spreadArray$1(__spreadArray$1([],De(xi)),[h$1("div",{class:["vxe-cell",{"c--title":ci,"c--tooltip":tn,"c--ellipsis":Ri}],style:{maxHeight:On&&(Yr||Et)?(Yr||Et)+"px":""},title:ci?r.getCellLabel(St,st):null},st.renderCell(xi))])),jo&&Fn&&ji.push(h$1("div",{class:"vxe-cell--valid",style:un.rule&&un.rule.maxWidth?{width:un.rule.maxWidth+"px"}:null},[h$1("span",{class:"vxe-cell--valid-msg"},un.content)]))),h$1("td",__assign$1(__assign$1(__assign$1({class:["vxe-body--column",st.id,(Ct={},Ct["col--"+vi]=vi,Ct["col--"+Kt]=Kt,Ct["col--last"]=yt===Ft.length-1,Ct["col--tree-node"]=ln,Ct["col--edit"]=xn,Ct["col--ellipsis"]=On,Ct["fixed--hidden"]=zn,Ct["col--dirty"]=$n,Ct["col--actived"]=lt&&xn&&mn.row===St&&(mn.column===st||Qe.mode==="row"),Ct["col--valid-error"]=Fn,Ct["col--current"]=Or===st,Ct),getPropClass(Tr,xi),getPropClass(sn,xi)],key:gr?st.id:yt},Ui),{style:Object.assign({height:On&&(Yr||Et)?(Yr||Et)+"px":""},Hr?xeUtils.isFunction(Hr)?Hr(xi):Hr:null)}),In),ji)},Ut=function(Vt,Ne,ot){var Tt=x.stripe,St=x.rowKey,jt=x.highlightHoverRow,or=x.rowClassName,xr=x.rowStyle,st=x.showOverflow,yt=x.editConfig,Ft=x.treeConfig,zt=u.hasFixedColumn,Ct=u.treeExpandeds,gr=u.scrollYLoad,Mr=u.editStore,Br=u.rowExpandeds,sn=u.expandColumn,Hr=u.selectRow,cn=f.fullAllDataRowIdData,Ve=oe.value,ve=te.value,lt=re.value,sr=V.value,ir=fe.value,mr=lt.transform,kr=[];return Ne.forEach(function(Pr,Or){var Er={},Nr=Or;Nr=r.getRowIndex(Pr),(ir.isHover||jt)&&(Er.onMouseenter=function(Cr){Ye()||r.triggerHoverEvent(Cr,{row:Pr,rowIndex:Nr})},Er.onMouseleave=function(){Ye()||r.clearHoverRow()});var un=getRowid(r,Pr),vn=cn[un],Ze=0,_e=-1,Ie=0;vn&&(Ze=vn.level,_e=vn.seq,Ie=vn._index);var Qe={$table:r,seq:_e,rowid:un,fixed:Vt,type:renderType,level:Ze,row:Pr,rowIndex:Nr,$rowIndex:Or,_rowIndex:Ie},ct=!1;if(yt&&(ct=r.findRowIndexOf(Mr.insertList,Pr)>-1),kr.push(h$1("tr",__assign$1({class:["vxe-body--row",{"row--stripe":Tt&&(r.getVTRowIndex(Pr)+1)%2==0,"is--new":ct,"row--new":ct&&(sr.showStatus||sr.showInsertStatus),"row--radio":ve.highlight&&Hr===Pr,"row--checked":Ve.highlight&&r.isCheckedByCheckboxRow(Pr)},or?xeUtils.isFunction(or)?or(Qe):or:""],rowid:un,style:xr?xeUtils.isFunction(xr)?xr(Qe):xr:null,key:St||Ft?un:Or},Er),ot.map(function(Cr,Lr){return at(_e,un,Vt,Ze,Pr,Nr,Or,Ie,Cr,Lr,ot,Ne)}))),sn&&Br.length&&r.findRowIndexOf(Br,Pr)>-1){var kt=void 0;Ft&&(kt={paddingLeft:Ze*lt.indent+30+"px"});var er=sn.showOverflow,Kt=xeUtils.isUndefined(er)||xeUtils.isNull(er)?st:er,Nt={$table:r,seq:_e,column:sn,fixed:Vt,type:renderType,level:Ze,row:Pr,rowIndex:Nr,$rowIndex:Or,_rowIndex:Ie};kr.push(h$1("tr",__assign$1({class:"vxe-body--expanded-row",key:"expand_"+un,style:xr?xeUtils.isFunction(xr)?xr(Nt):xr:null},Er),[h$1("td",{class:["vxe-body--expanded-column",{"fixed--hidden":Vt&&!zt,"col--ellipsis":Kt}],colspan:ot.length},[h$1("div",{class:"vxe-body--expanded-cell",style:kt},[sn.renderData(Nt)])])]))}if(Ft&&!gr&&!mr&&Ct.length){var Qt=Pr[lt.children];Qt&&Qt.length&&r.findRowIndexOf(Ct,Pr)>-1&&kr.push.apply(kr,Ut(Vt,Qt,ot))}}),kr},je,tt=function(Vt,Ne,ot){(Ne||ot)&&(Ne&&(removeScrollListener(Ne),Ne.scrollTop=Vt),ot&&(removeScrollListener(ot),ot.scrollTop=Vt),clearTimeout(je),je=setTimeout(function(){restoreScrollListener(Ne),restoreScrollListener(ot)},300))},We=function(Vt){var Ne=e.fixedType,ot=x.highlightHoverRow,Tt=u.scrollXLoad,St=u.scrollYLoad,jt=f.elemStore,or=f.lastScrollTop,xr=f.lastScrollLeft,st=fe.value,yt=S.value,Ft=k.value,zt=M.value,Ct=P.value,gr=$.value,Mr=R.value,Br=ge.value,sn=yt?yt.$el:null,Hr=zt?zt.$el:null,cn=Ft.$el,Ve=Ct?Ct.$el:null,ve=gr?gr.$el:null,lt=jt["main-body-ySpace"],sr=jt["main-body-xSpace"],ir=St&&lt?lt.clientHeight:cn.clientHeight,mr=Tt&&sr?sr.clientWidth:cn.clientWidth,kr=Br.scrollTop,Pr=cn.scrollLeft,Or=Pr!==xr,Er=kr!==or;f.lastScrollTop=kr,f.lastScrollLeft=Pr,f.lastScrollTime=Date.now(),(st.isHover||ot)&&r.clearHoverRow(),Ve&&Ne==="left"?(kr=Ve.scrollTop,tt(kr,cn,ve)):ve&&Ne==="right"?(kr=ve.scrollTop,tt(kr,cn,Ve)):(Or&&(sn&&(sn.scrollLeft=cn.scrollLeft),Hr&&(Hr.scrollLeft=cn.scrollLeft)),(Ve||ve)&&(r.checkScrolling(),Er&&tt(kr,Ve,ve))),Tt&&Or&&r.triggerScrollXEvent(Vt),St&&Er&&r.triggerScrollYEvent(Vt),Or&&Mr&&Mr.reactData.visible&&Mr.updatePlacement(),r.dispatchEvent("scroll",{type:renderType,fixed:Ne,scrollTop:kr,scrollLeft:Pr,scrollHeight:cn.scrollHeight,scrollWidth:cn.scrollWidth,bodyHeight:ir,bodyWidth:mr,isX:Or,isY:Er},Vt)},Gt,gt=0,Mt=0,Rt=0,Jt=!1,ut=function(Vt,Ne,ot,Tt,St){var jt=f.elemStore,or=u.scrollXLoad,xr=u.scrollYLoad,st=k.value,yt=P.value,Ft=$.value,zt=yt?yt.$el:null,Ct=Ft?Ft.$el:null,gr=st.$el,Mr=jt["main-body-ySpace"],Br=jt["main-body-xSpace"],sn=xr&&Mr?Mr.clientHeight:gr.clientHeight,Hr=or&&Br?Br.clientWidth:gr.clientWidth,cn=Jt===Ne?Math.max(0,gt-Rt):0;Jt=Ne,gt=Math.abs(Ne?ot-cn:ot+cn),Mt=0,Rt=0,clearTimeout(Gt);var Ve=function(){if(Rt<gt){var ve=e.fixedType;Mt=Math.max(5,Math.floor(Mt*1.5)),Rt=Rt+Mt,Rt>gt&&(Mt=Mt-(Rt-gt));var lt=gr.scrollTop,sr=gr.clientHeight,ir=gr.scrollHeight,mr=lt+Mt*(Ne?-1:1);gr.scrollTop=mr,zt&&(zt.scrollTop=mr),Ct&&(Ct.scrollTop=mr),(Ne?mr<ir-sr:mr>=0)&&(Gt=setTimeout(Ve,10)),r.dispatchEvent("scroll",{type:renderType,fixed:ve,scrollTop:gr.scrollTop,scrollLeft:gr.scrollLeft,scrollHeight:gr.scrollHeight,scrollWidth:gr.scrollWidth,bodyHeight:sn,bodyWidth:Hr,isX:Tt,isY:St},Vt)}};Ve()},Ht=function(Vt){var Ne=Vt.deltaY,ot=Vt.deltaX,Tt=x.highlightHoverRow,St=u.scrollYLoad,jt=f.lastScrollTop,or=f.lastScrollLeft,xr=fe.value,st=k.value,yt=ge.value,Ft=st.$el,zt=browse.firefox?Ne*40:Ne,Ct=browse.firefox?ot*40:ot,gr=zt<0;if(!(gr?yt.scrollTop<=0:yt.scrollTop>=yt.scrollHeight-yt.clientHeight)){var Mr=yt.scrollTop+zt,Br=Ft.scrollLeft+Ct,sn=Br!==or,Hr=Mr!==jt;Hr&&(Vt.preventDefault(),f.lastScrollTop=Mr,f.lastScrollLeft=Br,f.lastScrollTime=Date.now(),(xr.isHover||Tt)&&r.clearHoverRow(),ut(Vt,gr,zt,sn,Hr),St&&r.triggerScrollYEvent(Vt))}};onMounted(function(){nextTick(function(){var Vt=e.fixedType,Ne=f.elemStore,ot=(Vt||"main")+"-body-",Tt=ge.value;Ne[ot+"wrapper"]=ge.value,Ne[ot+"table"]=Ce.value,Ne[ot+"colgroup"]=$e.value,Ne[ot+"list"]=be.value,Ne[ot+"xSpace"]=ke.value,Ne[ot+"ySpace"]=Ee.value,Ne[ot+"emptyBlock"]=He.value,Tt.onscroll=We,Tt._onscroll=We})}),onBeforeUnmount(function(){var Vt=ge.value;clearTimeout(Gt),Vt._onscroll=null,Vt.onscroll=null}),onUnmounted(function(){var Vt=e.fixedType,Ne=f.elemStore,ot=(Vt||"main")+"-body-";Ne[ot+"wrapper"]=null,Ne[ot+"table"]=null,Ne[ot+"colgroup"]=null,Ne[ot+"list"]=null,Ne[ot+"xSpace"]=null,Ne[ot+"ySpace"]=null,Ne[ot+"emptyBlock"]=null});var cr=function(){var Vt=e.fixedColumn,Ne=e.fixedType,ot=e.tableColumn,Tt=x.keyboardConfig,St=x.showOverflow,jt=x.spanMethod,or=x.mouseConfig,xr=u.tableData,st=u.mergeList,yt=u.scrollYLoad,Ft=u.isAllOverflow,zt=f.visibleColumn,Ct=C.slots,gr=U.value,Mr=q.value,Br=Y.value,sn=j.value;Ne&&((yt||St&&Ft)&&!st.length&&!jt&&!(Tt&&Br.isMerge)?ot=Vt:ot=zt);var Hr;if(Ct.empty)Hr=r.callSlot(Ct.empty,{$table:r});else{var cn=Mr.name?VXETable.renderer.get(Mr.name):null,Ve=cn?cn.renderEmpty:null;Ve?Hr=Ve(Mr,{$table:r}):Hr=x.emptyText||GlobalConfig.i18n("vxe.table.emptyText")}return h$1("div",__assign$1({ref:ge,class:["vxe-table--body-wrapper",Ne?"fixed-"+Ne+"--wrapper":"body--wrapper"],xid:g},yt&&gr.mode==="wheel"?{onWheel:Ht}:{}),[Ne?createCommentVNode():h$1("div",{ref:ke,class:"vxe-body--x-space"}),h$1("div",{ref:Ee,class:"vxe-body--y-space"}),h$1("table",{ref:Ce,class:"vxe-table--body",xid:g,cellspacing:0,cellpadding:0,border:0},[h$1("colgroup",{ref:$e},ot.map(function(ve,lt){return h$1("col",{name:ve.id,key:lt})})),h$1("tbody",{ref:be},Ut(Ne,xr,ot))]),h$1("div",{class:"vxe-table--checkbox-range"}),or&&sn.area?h$1("div",{class:"vxe-table--cell-area"},[h$1("span",{class:"vxe-table--cell-main-area"},sn.extension?[h$1("span",{class:"vxe-table--cell-main-area-btn",onMousedown:function(ve){r.triggerCellExtendMousedownEvent(ve,{$table:r,fixed:Ne,type:renderType})}})]:[]),h$1("span",{class:"vxe-table--cell-copy-area"}),h$1("span",{class:"vxe-table--cell-extend-area"}),h$1("span",{class:"vxe-table--cell-multi-area"}),h$1("span",{class:"vxe-table--cell-active-area"})]):null,Ne?null:h$1("div",{class:"vxe-table--empty-block",ref:He},[h$1("div",{class:"vxe-table--empty-content"},Hr)])])};return cr}}),__assign=globalThis&&globalThis.__assign||function(){return __assign=Object.assign||function(e){for(var r,l=1,g=arguments.length;l<g;l++){r=arguments[l];for(var x in r)Object.prototype.hasOwnProperty.call(r,x)&&(e[x]=r[x])}return e},__assign.apply(this,arguments)},__spreadArray=globalThis&&globalThis.__spreadArray||function(e,r){for(var l=0,g=r.length,x=e.length;l<g;l++,x++)e[x]=r[l];return e},isWebkit=browse["-webkit"]&&!browse.edge,resizableStorageKey="VXE_TABLE_CUSTOM_COLUMN_WIDTH",visibleStorageKey="VXE_TABLE_CUSTOM_COLUMN_VISIBLE",VxeTableComponent=defineComponent({name:"VxeTable",props:tableProps,emits:tableEmits,setup:function(e,r){var l=r.slots,g=r.emit,x=VXETable.tooltip,C=xeUtils.uniqueId(),u=useSize(e),f=getCurrentInstance(),n=reactive({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,selection:[],currentRow:null,currentColumn:null,selectRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,rowExpandeds:[],expandLazyLoadeds:[],treeExpandeds:[],treeLazyLoadeds:[],treeIndeterminates:[],mergeList:[],mergeFooterList:[],initStore:{filter:!1,import:!1,export:!1},filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],scaleList:[],scaleMinList:[],autoList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},insertList:[],removeList:[]},validStore:{visible:!1,row:null,column:null,content:"",rule:null,isArrow:!1},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isFooter:!1}}),S={tZindex:0,elemStore:{},scrollXStore:{offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},scrollYStore:{rowHeight:0,offsetSize:0,visibleSize:0,startIndex:0,endIndex:0},tooltipStore:{},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,lastScrollTime:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},tableFullData:[],afterFullData:[],tableFullTreeData:[],afterTreeFullData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},fullDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},inited:!1,tooltipActive:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1},k={},M={},P=ref(),$=ref(),R=ref(),B=ref(),V=ref(),j=ref(),U=ref(),q=ref(),Y=ref(),Q=ref(),te=ref(),re=ref(),oe=ref(),se=ref(),fe=ref(),ge=ref(),Ce=ref(),$e=ref(),be=ref(),ke=inject("$xegrid",null),Ee,He=computed(function(){return Object.assign({},GlobalConfig.table.validConfig,e.validConfig)}),rt=computed(function(){return Object.assign({},GlobalConfig.table.scrollX,e.scrollX)}),ft=computed(function(){return Object.assign({},GlobalConfig.table.scrollY,e.scrollY)}),bt=computed(function(){return{default:48,medium:44,small:40,mini:36}}),Ye=computed(function(){return Object.assign({},GlobalConfig.table.columnConfig,e.columnConfig)}),De=computed(function(){return Object.assign({},GlobalConfig.table.rowConfig,e.rowConfig)}),at=computed(function(){return Object.assign({},GlobalConfig.table.resizableConfig,e.resizableConfig)}),Ut=computed(function(){return Object.assign({startIndex:0},GlobalConfig.table.seqConfig,e.seqConfig)}),je=computed(function(){return Object.assign({},GlobalConfig.table.radioConfig,e.radioConfig)}),tt=computed(function(){return Object.assign({},GlobalConfig.table.checkboxConfig,e.checkboxConfig)}),We=ref(),Gt=function(){var Z=We.value;return setTimeout(function(){S.tooltipActive||k.closeTooltip()},Z.leaveDelay),!1};We=computed(function(){var Z=Object.assign({leaveDelay:300},GlobalConfig.table.tooltipConfig,e.tooltipConfig);return Z.enterable&&(Z.leaveMethod=Gt),Z});var gt=computed(function(){var Z=We.value;return Object.assign({isArrow:!1},Z)}),Mt=computed(function(){return Object.assign({},GlobalConfig.table.editConfig,e.editConfig)}),Rt=computed(function(){return Object.assign({orders:["asc","desc",null]},GlobalConfig.table.sortConfig,e.sortConfig)}),Jt=computed(function(){return Object.assign({},GlobalConfig.table.filterConfig,e.filterConfig)}),ut=computed(function(){return Object.assign({},GlobalConfig.table.mouseConfig,e.mouseConfig)}),Ht=computed(function(){return Object.assign({},GlobalConfig.table.areaConfig,e.areaConfig)}),cr=computed(function(){return Object.assign({},GlobalConfig.table.keyboardConfig,e.keyboardConfig)}),Vt=computed(function(){return Object.assign({},GlobalConfig.table.clipConfig,e.clipConfig)}),Ne=computed(function(){return Object.assign({},GlobalConfig.table.fnrConfig,e.fnrConfig)}),ot=computed(function(){return Object.assign({},GlobalConfig.table.menuConfig,e.menuConfig)}),Tt=computed(function(){var Z=ot.value,ie=Z.header;return ie&&ie.options?ie.options:[]}),St=computed(function(){var Z=ot.value,ie=Z.body;return ie&&ie.options?ie.options:[]}),jt=computed(function(){var Z=ot.value,ie=Z.footer;return ie&&ie.options?ie.options:[]}),or=computed(function(){var Z=ot.value,ie=Tt.value,le=St.value,xe=jt.value;return!!(e.menuConfig&&isEnableConf(Z)&&(ie.length||le.length||xe.length))}),xr=computed(function(){var Z=n.ctxMenuStore,ie=[];return Z.list.forEach(function(le){le.forEach(function(xe){ie.push(xe)})}),ie}),st=computed(function(){return Object.assign({},GlobalConfig.table.exportConfig,e.exportConfig)}),yt=computed(function(){return Object.assign({},GlobalConfig.table.importConfig,e.importConfig)}),Ft=computed(function(){return Object.assign({},GlobalConfig.table.printConfig,e.printConfig)}),zt=computed(function(){return Object.assign({},GlobalConfig.table.expandConfig,e.expandConfig)}),Ct=computed(function(){return Object.assign({},GlobalConfig.table.treeConfig,e.treeConfig)}),gr=computed(function(){return Object.assign({},GlobalConfig.table.emptyRender,e.emptyRender)}),Mr=computed(function(){return e.border?Math.max(2,Math.ceil(n.scrollbarWidth/n.tableColumn.length)):1}),Br=computed(function(){return Object.assign({},GlobalConfig.table.customConfig,e.customConfig)}),sn=computed(function(){var Z=e.border;return Z===!0?"full":Z||"default"}),Hr=computed(function(){e.treeConfig;var Z=n.tableData,ie=S.tableFullData,le=tt.value,xe=le.strict,Me=le.checkMethod;return xe?Z.length||ie.length?Me?ie.every(function(Oe){return!Me({row:Oe})}):!1:!0:!1}),cn={refElem:P,refTooltip:$,refValidTooltip:B,refTableFilter:V,refTableMenu:j,refTableHeader:U,refTableBody:q,refTableFooter:Y,refTableLeftHeader:Q,refTableLeftBody:te,refTableLeftFooter:re,refTableRightHeader:oe,refTableRightBody:se,refTableRightFooter:fe,refLeftContainer:ge,refRightContainer:Ce,refCellResizeBar:$e},Ve={computeSize:u,computeValidOpts:He,computeSXOpts:rt,computeSYOpts:ft,computeColumnOpts:Ye,computeRowOpts:De,computeResizableOpts:at,computeSeqOpts:Ut,computeRadioOpts:je,computeCheckboxOpts:tt,computeTooltipOpts:We,computeEditOpts:Mt,computeSortOpts:Rt,computeFilterOpts:Jt,computeMouseOpts:ut,computeAreaOpts:Ht,computeKeyboardOpts:cr,computeClipOpts:Vt,computeFNROpts:Ne,computeHeaderMenu:Tt,computeBodyMenu:St,computeFooterMenu:jt,computeIsMenu:or,computeMenuOpts:ot,computeExportOpts:st,computeImportOpts:yt,computePrintOpts:Ft,computeExpandOpts:zt,computeTreeOpts:Ct,computeEmptyOpts:gr,computeCustomOpts:Br,computeIsAllCheckboxDisabled:Hr},ve={xID:C,props:e,context:r,instance:f,reactData:n,internalData:S,getRefMaps:function(){return cn},getComputeMaps:function(){return Ve},xegrid:ke},lt=function(Z,ie,le){var xe=xeUtils.get(Z,le),Me=xeUtils.get(ie,le);return eqEmptyValue(xe)&&eqEmptyValue(Me)?!0:xeUtils.isString(xe)||xeUtils.isNumber(xe)?xe==Me:xeUtils.isEqual(xe,Me)},sr=function(Z){var ie=Rt.value,le=ie.orders,xe=Z.order||null,Me=le.indexOf(xe)+1;return le[Me<le.length?Me:0]},ir=function(Z){var ie=GlobalConfig.version,le=xeUtils.toStringJSON(localStorage.getItem(Z)||"");return le&&le._v===ie?le:{_v:ie}},mr=function(Z){var ie=S.fullAllDataRowIdData;return Z.filter(function(le){var xe=getRowid(ve,le);return!!ie[xe]})},kr=function(Z){var ie=S.fullDataRowIdData,le=[];return xeUtils.each(Z,function(xe,Me){ie[Me]&&ve.findRowIndexOf(le,ie[Me].row)===-1&&le.push(ie[Me].row)}),le},Pr=function(){var Z=S.visibleColumn,ie=q.value,le=ie?ie.$el:null;if(le){for(var xe=le.scrollLeft,Me=le.clientWidth,Oe=xe+Me,Be=-1,nt=0,mt=0,pt=0,qt=Z.length;pt<qt&&(nt+=Z[pt].renderWidth,Be===-1&&xe<nt&&(Be=pt),!(Be>=0&&(mt++,nt>Oe)));pt++);return{toVisibleIndex:Math.max(0,Be),visibleSize:Math.max(8,mt)}}return{toVisibleIndex:0,visibleSize:8}},Or=function(){var Z=U.value,ie=q.value,le=ie?ie.$el:null,xe=u.value,Me=bt.value;if(le){var Oe=Z?Z.$el:null,Be=0,nt=void 0;nt=le.querySelector("tr"),!nt&&Oe&&(nt=Oe.querySelector("tr")),nt&&(Be=nt.clientHeight),Be||(Be=Me[xe||"default"]);var mt=Math.max(8,Math.ceil(le.clientHeight/Be)+2);return{rowHeight:Be,visibleSize:mt}}return{rowHeight:0,visibleSize:8}},Er=function(Z,ie,le){for(var xe=0,Me=Z.length;xe<Me;xe++){var Oe=Z[xe],Be=ie.startIndex,nt=ie.endIndex,mt=Oe[le],pt=Oe[le+"span"],qt=mt+pt;mt<Be&&Be<qt&&(ie.startIndex=mt),mt<nt&&nt<qt&&(ie.endIndex=qt),(ie.startIndex!==Be||ie.endIndex!==nt)&&(xe=-1)}},Nr=function(Z,ie,le){if(Z){var xe=e.treeConfig,Me=S.visibleColumn;if(xe){errLog("vxe.error.noTree",["merge-footer-items"]);return}xeUtils.isArray(Z)||(Z=[Z]),Z.forEach(function(Oe){var Be=Oe.row,nt=Oe.col,mt=Oe.rowspan,pt=Oe.colspan;if(le&&xeUtils.isNumber(Be)&&(Be=le[Be]),xeUtils.isNumber(nt)&&(nt=Me[nt]),(le?Be:xeUtils.isNumber(Be))&&nt&&(mt||pt)&&(mt=xeUtils.toNumber(mt)||1,pt=xeUtils.toNumber(pt)||1,mt>1||pt>1)){var qt=xeUtils.findIndexOf(ie,function(lr){return(lr._row===Be||getRowid(ve,lr._row)===getRowid(ve,Be))&&(lr._col.id===nt||lr._col.id===nt.id)}),Xt=ie[qt];if(Xt)Xt.rowspan=mt,Xt.colspan=pt,Xt._rowspan=mt,Xt._colspan=pt;else{var dr=le?ve.findRowIndexOf(le,Be):Be,$r=k.getVTColumnIndex(nt);ie.push({row:dr,col:$r,rowspan:mt,colspan:pt,_row:Be,_col:nt,_rowspan:mt,_colspan:pt})}}})}},un=function(Z,ie,le){var xe=[];if(Z){var Me=e.treeConfig,Oe=S.visibleColumn;if(Me)throw new Error(getLog("vxe.error.noTree",["merge-cells"]));xeUtils.isArray(Z)||(Z=[Z]),Z.forEach(function(Be){var nt=Be.row,mt=Be.col;le&&xeUtils.isNumber(nt)&&(nt=le[nt]),xeUtils.isNumber(mt)&&(mt=Oe[mt]);var pt=xeUtils.findIndexOf(ie,function(Xt){return(Xt._row===nt||getRowid(ve,Xt._row)===getRowid(ve,nt))&&(Xt._col.id===mt||Xt._col.id===mt.id)});if(pt>-1){var qt=ie.splice(pt,1);xe.push(qt[0])}})}return xe},vn=function(){var Z=S.tableFullColumn;Z.forEach(function(ie){ie.order=null})},Ze=function(Z){var ie=n.parentHeight,le=e[Z],xe=0;if(le)if(le==="auto")xe=ie;else{var Me=ve.getExcludeHeight();isScale(le)?xe=Math.floor((xeUtils.toInteger(le)||1)/100*ie):xe=xeUtils.toNumber(le),xe=Math.max(40,xe-Me)}return xe},_e=function(){var Z=e.id,ie=e.customConfig,le=S.collectColumn,xe=Br.value,Me=xe.storage,Oe=Me===!0||Me&&Me.resizable,Be=Me===!0||Me&&Me.visible;if(ie&&(Oe||Be)){var nt={};if(!Z){errLog("vxe.error.reqProp",["id"]);return}if(Oe){var mt=ir(resizableStorageKey)[Z];mt&&xeUtils.each(mt,function(lr,en){nt[en]={field:en,resizeWidth:lr}})}if(Be){var pt=ir(visibleStorageKey)[Z];if(pt){var qt=pt.split("|"),Xt=qt[0]?qt[0].split(","):[],dr=qt[1]?qt[1].split(","):[];Xt.forEach(function(lr){nt[lr]?nt[lr].visible=!1:nt[lr]={field:lr,visible:!1}}),dr.forEach(function(lr){nt[lr]?nt[lr].visible=!0:nt[lr]={field:lr,visible:!0}})}}var $r={};xeUtils.eachTree(le,function(lr){var en=lr.getKey();en&&($r[en]=lr)}),xeUtils.each(nt,function(lr,en){var Kr=lr.visible,Wr=lr.resizeWidth,Xr=$r[en];Xr&&(xeUtils.isNumber(Wr)&&(Xr.resizeWidth=Wr),xeUtils.isBoolean(Kr)&&(Xr.visible=Kr))})}},Ie=function(){var Z=S.tableFullColumn,ie=S.collectColumn,le=S.fullColumnIdData={},xe=S.fullColumnFieldData={};ut.value;var Me=ie.some(hasChildrenList),Oe=!!e.showOverflow,Be,nt,mt=function(pt,qt,Xt,dr,$r){var lr=pt.id,en=pt.property;pt.fixed;var Kr=pt.type,Wr=pt.treeNode,Xr={column:pt,colid:lr,index:qt,items:Xt,parent:$r};en&&(xe[en]=Xr),Wr?nt||(nt=pt):Kr==="expand"&&(Be||(Be=pt)),Oe&&pt.showOverflow===!1&&(Oe=!1),le[lr]&&errLog("vxe.error.colRepet",["colId",lr]),le[lr]=Xr};Me?xeUtils.eachTree(ie,function(pt,qt,Xt,dr,$r,lr){pt.level=lr.length,mt(pt,qt,Xt,dr,$r)}):Z.forEach(mt),n.isGroup=Me,n.treeNodeColumn=nt,n.expandColumn=Be,n.isAllOverflow=Oe},Qe=function(){S.customHeight=Ze("height"),S.customMaxHeight=Ze("maxHeight")},ct=function(Z,ie,le){var xe=0,Me=40,Oe=ie.clientWidth-1,Be=Oe,nt=Be/100,mt=e.fit,pt=n.columnStore,qt=pt.resizeList,Xt=pt.pxMinList,dr=pt.pxList,$r=pt.scaleList,lr=pt.scaleMinList,en=pt.autoList;if(Xt.forEach(function(Kn){var Un=parseInt(Kn.minWidth);xe+=Un,Kn.renderWidth=Un}),lr.forEach(function(Kn){var Un=Math.floor(parseInt(Kn.minWidth)*nt);xe+=Un,Kn.renderWidth=Un}),$r.forEach(function(Kn){var Un=Math.floor(parseInt(Kn.width)*nt);xe+=Un,Kn.renderWidth=Un}),dr.forEach(function(Kn){var Un=parseInt(Kn.width);xe+=Un,Kn.renderWidth=Un}),qt.forEach(function(Kn){var Un=parseInt(Kn.resizeWidth);xe+=Un,Kn.renderWidth=Un}),Be-=xe,nt=Be>0?Math.floor(Be/(lr.length+Xt.length+en.length)):0,mt?Be>0&&lr.concat(Xt).forEach(function(Kn){xe+=nt,Kn.renderWidth+=nt}):nt=Me,en.forEach(function(Kn){var Un=Math.max(nt,Me);Kn.renderWidth=Un,xe+=Un}),mt){var Kr=$r.concat(lr).concat(Xt).concat(en),Wr=Kr.length-1;if(Wr>0){var Xr=Oe-xe;if(Xr>0){for(;Xr>0&&Wr>=0;)Xr--,Kr[Wr--].renderWidth++;xe=Oe}}}var pn=ie.offsetHeight,Dn=ie.scrollHeight>ie.clientHeight,Zn=0;Dn&&(Zn=Math.max(ie.offsetWidth-ie.clientWidth,0)),n.scrollbarWidth=Zn,n.overflowY=Dn,S.tableWidth=xe,S.tableHeight=pn;var Cn=0;Z&&(Cn=Z.clientHeight,nextTick(function(){Z&&ie&&Z.scrollLeft!==ie.scrollLeft&&(Z.scrollLeft=ie.scrollLeft)})),S.headerHeight=Cn;var ui=!1,yi=0,oi=0;le?(yi=le.offsetHeight,ui=xe>le.clientWidth,ui&&(oi=Math.max(yi-le.clientHeight,0))):(ui=xe>Oe,ui&&(oi=Math.max(pn-ie.clientHeight,0))),S.footerHeight=yi,n.overflowX=ui,n.scrollbarHeight=oi,Qe(),n.parentHeight=Math.max(S.headerHeight+yi+20,M.getParentHeight()),ui&&M.checkScrolling()},kt=function(Z){var ie=Z.sortBy,le=Z.sortType;return function(xe){var Me;return ie?Me=xeUtils.isFunction(ie)?ie({row:xe,column:Z}):xeUtils.get(xe,ie):Me=M.getCellLabel(xe,Z),!le||le==="auto"?isNaN(Me)?Me:xeUtils.toNumber(Me):le==="number"?xeUtils.toNumber(Me):le==="string"?xeUtils.toValueString(Me):Me}},er=function(){var Z=e.treeConfig,ie=S.afterFullData,le=S.fullDataRowIdData,xe=S.fullAllDataRowIdData,Me=S.afterTreeFullData,Oe=Ct.value;Z?xeUtils.eachTree(Me,function(Be,nt,mt,pt){var qt=getRowid(ve,Be),Xt=xe[qt],dr=pt.map(function(lr,en){return en%2==0?Number(lr)+1:"."}).join("");if(Xt)Xt.seq=dr,Xt._index=nt;else{var $r={row:Be,rowid:qt,seq:dr,index:-1,$index:-1,_index:nt,items:[],parent:null,level:0};xe[qt]=$r,le[qt]=$r}},{children:Oe.transform?Oe.mapChildren:Oe.children}):ie.forEach(function(Be,nt){var mt=getRowid(ve,Be),pt=xe[mt],qt=nt+1;if(pt)pt.seq=qt,pt._index=nt;else{var Xt={row:Be,rowid:mt,seq:qt,index:-1,$index:-1,_index:nt,items:[],parent:null,level:0};xe[mt]=Xt,le[mt]=Xt}})},Kt=function(){var Z=e.treeConfig,ie=n.treeExpandeds,le=Ct.value;if(Z&&le.transform){var xe=[],Me=new Map;return xeUtils.eachTree(S.afterTreeFullData,function(Oe,Be,nt,mt,pt){(!pt||Me.has(pt)&&ve.findRowIndexOf(ie,pt)>-1)&&(Me.set(Oe,1),xe.push(Oe))},{children:le.mapChildren}),S.afterFullData=xe,Jn(xe),xe}return S.afterFullData},Nt=function(){var Z=e.treeConfig,ie=S.tableFullColumn,le=S.tableFullData,xe=S.tableFullTreeData,Me=Jt.value,Oe=Rt.value,Be=Ct.value,nt=Be.transform,mt=Me.remote,pt=Me.filterMethod,qt=Oe.remote,Xt=Oe.sortMethod,dr=[],$r=[];if(!mt||!qt){var lr=[],en=[];if(ie.forEach(function(Xr){var pn=Xr.property,Dn=Xr.sortable,Zn=Xr.order,Cn=Xr.filters;if(!mt&&Cn&&Cn.length){var ui=[],yi=[];Cn.forEach(function(oi){oi.checked&&(yi.push(oi),ui.push(oi.value))}),yi.length&&lr.push({column:Xr,valueList:ui,itemList:yi})}!qt&&Dn&&Zn&&en.push({column:Xr,field:pn,property:pn,order:Zn})}),!mt&&lr.length){var Kr=function(Xr){return lr.every(function(pn){var Dn=pn.column,Zn=pn.valueList,Cn=pn.itemList,ui=Dn.filterMethod,yi=Dn.filterRender,oi=yi?VXETable.renderer.get(yi.name):null,Kn=oi?oi.filterMethod:null,Un=oi?oi.defaultFilterMethod:null,Bn=getCellValue(Xr,Dn);return ui?Cn.some(function(Ai){return ui({value:Ai.value,option:Ai,cellValue:Bn,row:Xr,column:Dn,$table:ve})}):Kn?Cn.some(function(Ai){return Kn({value:Ai.value,option:Ai,cellValue:Bn,row:Xr,column:Dn,$table:ve})}):pt?pt({options:Cn,values:Zn,cellValue:Bn,row:Xr,column:Dn}):Un?Cn.some(function(Ai){return Un({value:Ai.value,option:Ai,cellValue:Bn,row:Xr,column:Dn,$table:ve})}):Zn.indexOf(xeUtils.get(Xr,Dn.property))>-1})};Z&&nt?($r=xeUtils.searchTree(xe,Kr,__assign(__assign({},Be),{original:!0})),dr=$r):(dr=Z?xe.filter(Kr):le.filter(Kr),$r=dr)}else Z&&nt?($r=xeUtils.searchTree(xe,function(){return!0},__assign(__assign({},Be),{original:!0})),dr=$r):(dr=Z?xe.slice(0):le.slice(0),$r=dr);if(!qt&&en.length)if(Z&&nt){if(Xt){var Wr=Xt({data:$r,sortList:en,$table:ve});$r=xeUtils.isArray(Wr)?Wr:$r}else $r=xeUtils.orderBy($r,en.map(function(Xr){var pn=Xr.column,Dn=Xr.order;return[kt(pn),Dn]}));dr=$r}else{if(Xt){var Wr=Xt({data:dr,sortList:en,$table:ve});dr=xeUtils.isArray(Wr)?Wr:dr}else dr=xeUtils.orderBy(dr,en.map(function(Xr){var pn=Xr.column,Dn=Xr.order;return[kt(pn),Dn]}));$r=dr}}else Z&&nt?($r=xeUtils.searchTree(xe,function(){return!0},__assign(__assign({},Be),{original:!0})),dr=$r):(dr=Z?xe.slice(0):le.slice(0),$r=dr);S.afterFullData=dr,S.afterTreeFullData=$r,er()},Qt=function(){var Z=e.border,ie=e.showFooter,le=e.showOverflow,xe=e.showHeaderOverflow,Me=e.showFooterOverflow,Oe=e.mouseConfig,Be=e.spanMethod,nt=e.footerSpanMethod,mt=e.keyboardConfig,pt=n.isGroup,qt=n.currentRow,Xt=n.tableColumn,dr=n.scrollXLoad,$r=n.scrollYLoad,lr=n.scrollbarWidth,en=n.scrollbarHeight,Kr=n.columnStore,Wr=n.editStore,Xr=n.mergeList,pn=n.mergeFooterList,Dn=n.isAllOverflow,Zn=S.visibleColumn,Cn=S.fullColumnIdData,ui=S.tableHeight,yi=S.tableWidth,oi=S.headerHeight,Kn=S.footerHeight,Un=S.elemStore,Bn=S.customHeight,Ai=S.customMaxHeight,da=["main","left","right"],Vo=be.value,_o=Mr.value,Ko=ut.value,io=cr.value,Jo=Un["main-body-wrapper"];return Vo&&(Vo.style.top=oi+"px",Vo.style.height=Jo?Jo.offsetHeight-en+"px":""),Bn>0&&ie&&(Bn+=en),da.forEach(function(Ji,Qo){var Ao=Qo>0?Ji:"",ea=["header","body","footer"],Uo=Ao==="left",Qi=[],Go;Ao&&(Qi=Uo?Kr.leftList:Kr.rightList,Go=Uo?ge.value:Ce.value),ea.forEach(function(ri){var Li=Un[Ji+"-"+ri+"-wrapper"],Hi=Un[Ji+"-"+ri+"-table"];if(ri==="header"){var zi=yi,Ea=!1;pt||Ao&&(dr||xe)&&(Ea=!0),Ea&&(Xt=Qi),(Ea||dr)&&(zi=Xt.reduce(function(po,eo){return po+eo.renderWidth},0)),Hi&&(Hi.style.width=zi?zi+lr+"px":"",browse.msie&&xeUtils.arrayEach(Hi.querySelectorAll(".vxe-resizable"),function(po){po.style.height=po.parentNode.offsetHeight+"px"}));var ha=Un[Ji+"-"+ri+"-repair"];ha&&(ha.style.width=yi+"px");var Po=Un[Ji+"-"+ri+"-list"];pt&&Po&&xeUtils.arrayEach(Po.querySelectorAll(".col--group"),function(po){var eo=k.getColumnNode(po);if(eo){var Zi=eo.item,xo=Zi.showHeaderOverflow,pa=xeUtils.isBoolean(xo)?xo:xe,fa=pa==="ellipsis",Lo=pa==="title",ks=pa===!0||pa==="tooltip",ts=Lo||ks||fa,Fa=0,ta=0;ts&&xeUtils.eachTree(Zi.children,function(ma){(!ma.children||!Zi.children.length)&&ta++,Fa+=ma.renderWidth},{children:"children"}),po.style.width=ts?Fa-ta-(Z?2:0)+"px":""}})}else if(ri==="body"){var ps=Un[Ji+"-"+ri+"-emptyBlock"];Li&&(Ai?Li.style.maxHeight=(Ao?Ai-oi-(ie?0:en):Ai-oi)+"px":Bn>0?Li.style.height=(Ao?(Bn>0?Bn-oi-Kn:ui)-(ie?0:en):Bn-oi-Kn)+"px":Li.style.height=""),Go&&(Li&&(Li.style.top=oi+"px"),Go.style.height=(Bn>0?Bn-oi-Kn:ui)+oi+Kn-en*(ie?2:1)+"px",Go.style.width=Qi.reduce(function(eo,Zi){return eo+Zi.renderWidth},Uo?0:lr)+"px");var zi=yi;Ao&&(($r||le&&Dn)&&!Xr.length&&!Be&&!(mt&&io.isMerge)?Xt=Qi:Xt=Zn),zi=Xt.reduce(function(eo,Zi){return eo+Zi.renderWidth},0),Hi&&(Hi.style.width=zi?zi+"px":"",Hi.style.paddingRight=lr&&Ao&&(browse["-moz"]||browse.safari)?lr+"px":""),ps&&(ps.style.width=zi?zi+"px":"")}else if(ri==="footer"){var zi=yi;Ao&&((dr||Me)&&(!pn.length||!nt)?Xt=Qi:Xt=Zn),zi=Xt.reduce(function(eo,Zi){return eo+Zi.renderWidth},0),Li&&(Go&&(Li.style.top=(Bn>0?Bn-Kn:ui+oi)+"px"),Li.style.marginTop=-Math.max(1,en)+"px"),Hi&&(Hi.style.width=zi?zi+lr+"px":"")}var za=Un[Ji+"-"+ri+"-colgroup"];za&&xeUtils.arrayEach(za.children,function(po){var eo=po.getAttribute("name");if(eo==="col_gutter"&&(po.style.width=lr+"px"),Cn[eo]){var Zi=Cn[eo].column,xo=Zi.showHeaderOverflow,pa=Zi.showFooterOverflow,fa=Zi.showOverflow,Lo=void 0;po.style.width=Zi.renderWidth+"px",ri==="header"?Lo=xeUtils.isUndefined(xo)||xeUtils.isNull(xo)?xe:xo:ri==="footer"?Lo=xeUtils.isUndefined(pa)||xeUtils.isNull(pa)?Me:pa:Lo=xeUtils.isUndefined(fa)||xeUtils.isNull(fa)?le:fa;var ks=Lo==="ellipsis",ts=Lo==="title",Fa=Lo===!0||Lo==="tooltip",ta=ts||Fa||ks,ma=Un[Ji+"-"+ri+"-list"];$r&&!ta&&(ta=!0),ma&&xeUtils.arrayEach(ma.querySelectorAll("."+Zi.id),function(Ta){var qa=parseInt(Ta.getAttribute("colspan")||1),fs=Ta.querySelector(".vxe-cell"),ka=Zi.renderWidth;if(fs){if(qa>1)for(var ga=k.getColumnIndex(Zi),Wa=1;Wa<qa;Wa++){var Ho=k.getColumns(ga+Wa);Ho&&(ka+=Ho.renderWidth)}fs.style.width=ta?ka-_o*qa+"px":""}})}})})}),qt&&k.setCurrentRow(qt),Oe&&Ko.selected&&Wr.selected.row&&Wr.selected.column&&ve.addCellSelectedClass(),nextTick()},Cr=function(Z){return ve.triggerValidate?ve.triggerValidate(Z):nextTick()},Lr=function(Z,ie){Cr("blur").catch(function(le){return le}).then(function(){ve.handleActived(ie,Z).then(function(){return Cr("change")}).catch(function(le){return le})})},Tr=function(){var Z=e.sortConfig;if(Z){var ie=Rt.value,le=ie.defaultSort;le&&(xeUtils.isArray(le)||(le=[le]),le.length&&((Z.multiple?le:le.slice(0,1)).forEach(function(xe){var Me=xe.field,Oe=xe.order;if(Me&&Oe){var Be=k.getColumnByField(Me);Be&&Be.sortable&&(Be.order=Oe)}}),ie.remote||M.handleTableData(!0).then(Qt)))}},ln=function(){var Z=e.checkboxConfig;if(Z){var ie=S.fullDataRowIdData,le=tt.value,xe=le.checkAll,Me=le.checkRowKeys;if(xe)k.setAllCheckboxRow(!0);else if(Me){var Oe=[];Me.forEach(function(Be){ie[Be]&&Oe.push(ie[Be].row)}),k.setCheckboxRow(Oe,!0)}}},mn=function(){var Z,ie=e.radioConfig;if(ie){var le=S.fullDataRowIdData,xe=je.value,Me=xe.checkRowKey,Oe=xe.reserve;if(Me&&(le[Me]&&k.setRadioRow(le[Me].row),Oe)){var Be=getRowkey(ve);S.radioReserveRow=(Z={},Z[Be]=Me,Z)}}},Yr=function(){var Z=e.expandConfig;if(Z){var ie=S.fullDataRowIdData,le=zt.value,xe=le.expandAll,Me=le.expandRowKeys;if(xe)k.setAllRowExpand(!0);else if(Me){var Oe=[];Me.forEach(function(Be){ie[Be]&&Oe.push(ie[Be].row)}),k.setRowExpand(Oe,!0)}}},Et=function(Z){var ie=je.value;ie.reserve&&(S.radioReserveRow=Z)},_r=function(Z,ie){var le=S.checkboxReserveRowMap,xe=tt.value;if(xe.reserve){var Me=getRowid(ve,Z);ie?le[Me]=Z:le[Me]&&delete le[Me]}},Wn=function(){var Z=e.treeConfig,ie=n.expandColumn,le=n.currentRow,xe=n.selectRow,Me=n.selection,Oe=n.rowExpandeds,Be=n.treeExpandeds,nt=S.fullDataRowIdData,mt=S.fullAllDataRowIdData,pt=S.radioReserveRow,qt=zt.value,Xt=Ct.value,dr=je.value,$r=tt.value;if(xe&&!mt[getRowid(ve,xe)]&&(n.selectRow=null),dr.reserve&&pt){var lr=getRowid(ve,pt);nt[lr]&&k.setRadioRow(nt[lr].row)}n.selection=mr(Me),$r.reserve&&k.setCheckboxRow(kr(S.checkboxReserveRowMap),!0),le&&!mt[getRowid(ve,le)]&&(n.currentRow=null),n.rowExpandeds=ie?mr(Oe):[],ie&&qt.reserve&&k.setRowExpand(kr(S.rowExpandedReserveRowMap),!0),n.treeExpandeds=Z?mr(Be):[],Z&&Xt.reserve&&k.setTreeExpand(kr(S.treeExpandedReserveRowMap),!0)},jn=function(){var Z=e.treeConfig;if(Z){var ie=S.tableFullData,le=Ct.value,xe=le.expandAll,Me=le.expandRowKeys;if(xe)k.setAllTreeExpand(!0);else if(Me){var Oe=[],Be=getRowkey(ve);Me.forEach(function(nt){var mt=xeUtils.findTree(ie,function(pt){return nt===xeUtils.get(pt,Be)},le);mt&&Oe.push(mt.item)}),k.setTreeExpand(Oe,!0)}}},xn=function(Z){var ie=n.treeExpandeds,le=n.treeLazyLoadeds,xe=S.fullAllDataRowIdData,Me=Ct.value,Oe=tt.value,Be=Me.transform,nt=Me.loadMethod,mt=Oe.checkStrictly,pt=xe[getRowid(ve,Z)];return new Promise(function(qt){nt?(le.push(Z),nt({$table:ve,row:Z}).catch(function(){return[]}).then(function(Xt){pt.treeLoaded=!0,xeUtils.remove(le,function(dr){return ve.eqRow(dr,Z)}),xeUtils.isArray(Xt)||(Xt=[]),Xt?k.loadTreeChildren(Z,Xt).then(function(dr){dr.length&&ve.findRowIndexOf(ie,Z)===-1&&ie.push(Z),!mt&&k.isCheckedByCheckboxRow(Z)&&k.setCheckboxRow(dr,!0),nextTick().then(function(){if(Be)return M.handleTableData()}).then(function(){return k.recalculate()}).then(function(){return qt()})}):nextTick().then(function(){return k.recalculate()}).then(function(){return qt()})})):qt()})},zn=function(Z,ie){var le=S.treeExpandedReserveRowMap,xe=Ct.value;if(xe.reserve){var Me=getRowid(ve,Z);ie?le[Me]=Z:le[Me]&&delete le[Me]}},li=function(Z){var ie=n.rowExpandeds,le=n.expandLazyLoadeds,xe=S.fullAllDataRowIdData,Me=xe[getRowid(ve,Z)];return new Promise(function(Oe){var Be=zt.value,nt=Be.loadMethod;nt?(le.push(Z),nt({$table:ve,row:Z,rowIndex:k.getRowIndex(Z),$rowIndex:k.getVMRowIndex(Z)}).catch(function(mt){return mt}).then(function(){Me.expandLoaded=!0,xeUtils.remove(le,function(mt){return ve.eqRow(mt,Z)}),ie.push(Z),Oe(nextTick().then(function(){return k.recalculate()}))})):Oe()})},Ri=function(Z,ie){var le=S.rowExpandedReserveRowMap,xe=zt.value;if(xe.reserve){var Me=getRowid(ve,Z);ie?le[Me]=Z:le[Me]&&delete le[Me]}},ci=function(){var Z=e.mergeCells;Z&&k.setMergeCells(Z)},tn=function(){var Z=e.mergeFooterItems;Z&&k.setMergeFooterItems(Z)},On=function(){return nextTick().then(function(){var Z=n.scrollXLoad,ie=n.scrollYLoad,le=S.scrollXStore,xe=S.scrollYStore,Me=ft.value,Oe=rt.value;if(Z){var Be=Pr().visibleSize,nt=Oe.oSize?xeUtils.toNumber(Oe.oSize):browse.msie?10:browse.edge?5:0;le.offsetSize=nt,le.visibleSize=Be,le.endIndex=Math.max(le.startIndex+le.visibleSize+nt,le.endIndex),M.updateScrollXData()}else M.updateScrollXSpace();var mt=Or(),pt=mt.rowHeight,qt=mt.visibleSize;if(xe.rowHeight=pt,ie){var Xt=Me.oSize?xeUtils.toNumber(Me.oSize):browse.msie?20:browse.edge?10:0;xe.offsetSize=Xt,xe.visibleSize=qt,xe.endIndex=Math.max(xe.startIndex+qt+Xt,xe.endIndex),M.updateScrollYData()}else M.updateScrollYSpace();n.rowHeight=pt,nextTick(Qt)})},$n=function(Z){var ie=e.keepSource,le=e.treeConfig,xe=n.editStore,Me=n.scrollYLoad,Oe=S.scrollYStore,Be=S.scrollXStore,nt=S.lastScrollLeft,mt=S.lastScrollTop,pt=Ct.value,qt=pt.transform,Xt=[],dr=Z?Z.slice(0):[];le&&(qt?(Xt=xeUtils.toArrayTree(dr,{key:pt.rowField,parentKey:pt.parentField,children:pt.children,mapChildren:pt.mapChildren}),dr=Xt.slice(0)):Xt=dr.slice(0)),Oe.startIndex=0,Oe.endIndex=1,Be.startIndex=0,Be.endIndex=1,xe.insertList=[],xe.removeList=[];var $r=Jn(dr);return n.scrollYLoad=$r,S.tableFullData=dr,S.tableFullTreeData=Xt,M.cacheRowMap(!0),S.tableSynchData=Z,ie&&(S.tableSourceData=xeUtils.clone(dr,!0)),ve.clearCellAreas&&e.mouseConfig&&(ve.clearCellAreas(),ve.clearCopyCellArea()),k.clearMergeCells(),k.clearMergeFooterItems(),M.handleTableData(!0),k.updateFooter(),nextTick().then(function(){Qe(),Qt()}).then(function(){On()}).then(function(){return $r&&(Oe.endIndex=Oe.visibleSize),Wn(),M.checkSelectionStatus(),new Promise(function(lr){nextTick().then(function(){return k.recalculate()}).then(function(){Me===$r?restoreScrollLocation(ve,nt,mt).then(lr):setTimeout(function(){return restoreScrollLocation(ve,nt,mt).then(lr)})})})})},In=function(){ln(),mn(),Yr(),jn(),ci(),tn(),nextTick(function(){return setTimeout(function(){return k.recalculate()})})},vi=function(){Tr()},Fn=function(){var Z=n.scrollXLoad,ie=S.visibleColumn,le=S.scrollXStore,xe=S.fullColumnIdData,Me=Z?ie.slice(le.startIndex,le.endIndex):ie.slice(0);Me.forEach(function(Oe,Be){var nt=Oe.id,mt=xe[nt];mt&&(mt.$index=Be)}),n.tableColumn=Me},jo=function(){var Z=n.mergeList,ie=n.mergeFooterList,le=S.scrollXStore,xe=le.startIndex,Me=le.endIndex,Oe=le.offsetSize,Be=Pr(),nt=Be.toVisibleIndex,mt=Be.visibleSize,pt={startIndex:Math.max(0,nt-1-Oe),endIndex:nt+mt+Oe};Er(Z.concat(ie),pt,"col");var qt=pt.startIndex,Xt=pt.endIndex;(nt<=xe||nt>=Me-mt-1)&&(xe!==qt||Me!==Xt)&&(le.startIndex=qt,le.endIndex=Xt,M.updateScrollXData()),k.closeTooltip()},Ui=function(Z){var ie=[];return Z.forEach(function(le){ie.push.apply(ie,le.children&&le.children.length?Ui(le.children):[le])}),ie},xi=function(){var Z=[],ie=[],le=[],xe=n.isGroup,Me=n.columnStore,Oe=rt.value,Be=S.collectColumn,nt=S.tableFullColumn,mt=S.scrollXStore,pt=S.fullColumnIdData;if(xe){var qt=[],Xt=[],dr=[];xeUtils.eachTree(Be,function(Kr,Wr,Xr,pn,Dn){var Zn=hasChildrenList(Kr);Dn&&Dn.fixed&&(Kr.fixed=Dn.fixed),Dn&&Kr.fixed!==Dn.fixed&&errLog("vxe.error.groupFixed"),Zn?Kr.visible=!!xeUtils.findTree(Kr.children,function(Cn){return hasChildrenList(Cn)?!1:Cn.visible}):Kr.visible&&(Kr.fixed==="left"?Z.push(Kr):Kr.fixed==="right"?le.push(Kr):ie.push(Kr))}),Be.forEach(function(Kr){Kr.visible&&(Kr.fixed==="left"?qt.push(Kr):Kr.fixed==="right"?dr.push(Kr):Xt.push(Kr))}),n.tableGroupColumn=qt.concat(Xt).concat(dr)}else nt.forEach(function(Kr){Kr.visible&&(Kr.fixed==="left"?Z.push(Kr):Kr.fixed==="right"?le.push(Kr):ie.push(Kr))});var $r=Z.concat(ie).concat(le),lr=!!Oe.enabled&&Oe.gt>-1&&Oe.gt<nt.length;if(n.hasFixedColumn=Z.length>0||le.length>0,Object.assign(Me,{leftList:Z,centerList:ie,rightList:le}),lr&&xe&&(lr=!1),lr){var en=Pr().visibleSize;mt.startIndex=0,mt.endIndex=en,mt.visibleSize=en}return($r.length!==S.visibleColumn.length||!S.visibleColumn.every(function(Kr,Wr){return Kr===$r[Wr]}))&&(k.clearMergeCells(),k.clearMergeFooterItems()),n.scrollXLoad=lr,$r.forEach(function(Kr,Wr){var Xr=Kr.id,pn=pt[Xr];pn&&(pn._index=Wr)}),S.visibleColumn=$r,Fn(),k.updateFooter().then(function(){return k.recalculate()}).then(function(){return M.updateCellAreas(),k.recalculate()})},wi=function(Z){S.collectColumn=Z;var ie=Ui(Z);return S.tableFullColumn=ie,Ie(),_e(),xi().then(function(){n.scrollXLoad&&jo()}),k.clearMergeCells(),k.clearMergeFooterItems(),M.handleTableData(!0),nextTick().then(function(){return Ee&&Ee.syncUpdate({collectColumn:Z,$table:ve}),k.recalculate()})},Jn=function(Z){var ie=e.treeConfig,le=ft.value,xe=Ct.value,Me=xe.transform,Oe=(Me||!ie)&&!!le.enabled&&le.gt>-1&&le.gt<Z.length;return n.scrollYLoad=Oe,Oe},vo=function(Z,ie){var le=n.treeExpandeds,xe=n.treeLazyLoadeds,Me=n.treeNodeColumn,Oe=S.fullAllDataRowIdData,Be=S.tableFullData,nt=Ct.value,mt=nt.reserve,pt=nt.lazy,qt=nt.hasChild,Xt=nt.children,dr=nt.accordion,$r=nt.toggleMethod,lr=[],en=k.getColumnIndex(Me),Kr=k.getVMColumnIndex(Me),Wr=$r?Z.filter(function(pn){return $r({$table:ve,expanded:ie,column:Me,columnIndex:en,$columnIndex:Kr,row:pn})}):Z;if(dr){Wr=Wr.length?[Wr[Wr.length-1]]:[];var Xr=xeUtils.findTree(Be,function(pn){return pn===Wr[0]},nt);Xr&&xeUtils.remove(le,function(pn){return Xr.items.indexOf(pn)>-1})}return ie?Wr.forEach(function(pn){if(ve.findRowIndexOf(le,pn)===-1){var Dn=Oe[getRowid(ve,pn)],Zn=pt&&pn[qt]&&!Dn.treeLoaded&&ve.findRowIndexOf(xe,pn)===-1;Zn?lr.push(xn(pn)):pn[Xt]&&pn[Xt].length&&le.push(pn)}}):xeUtils.remove(le,function(pn){return ve.findRowIndexOf(Wr,pn)>-1}),mt&&Wr.forEach(function(pn){return zn(pn,ie)}),Promise.all(lr).then(function(){return k.recalculate()})},Mo=function(Z,ie){return vo(Z,ie).then(function(){return Kt(),M.handleTableData()}).then(function(){return k.recalculate()})},yo=function(Z){var ie=n.mergeList,le=S.scrollYStore,xe=le.startIndex,Me=le.endIndex,Oe=le.visibleSize,Be=le.offsetSize,nt=le.rowHeight,mt=Z.currentTarget||Z.target,pt=mt.scrollTop,qt=Math.floor(pt/nt),Xt={startIndex:Math.max(0,qt-1-Be),endIndex:qt+Oe+Be};Er(ie,Xt,"row");var dr=Xt.startIndex,$r=Xt.endIndex;(qt<=xe||qt>=Me-Oe-1)&&(xe!==dr||Me!==$r)&&(le.startIndex=dr,le.endIndex=$r,M.updateScrollYData())},Co=function(Z){return function(ie){var le=S.fullAllDataRowIdData;if(ie){var xe=getRowid(ve,ie),Me=le[xe];if(Me)return Me[Z]}return-1}},ji=function(Z){return function(ie){var le=S.fullColumnIdData;if(ie){var xe=le[ie.id];if(xe)return xe[Z]}return-1}},ti=xeUtils.debounce(function(Z){yo(Z)},20,{leading:!1,trailing:!0}),Qn;k={dispatchEvent:function(Z,ie,le){g(Z,Object.assign({$table:ve,$event:le},ie))},clearAll:function(){return clearTableAllStatus(ve)},syncData:function(){return nextTick().then(function(){return n.tableData=[],g("update:data",S.tableFullData),nextTick()})},updateData:function(){return M.handleTableData(!0).then(k.updateFooter).then(function(){return k.recalculate()})},loadData:function(Z){var ie=S.inited,le=S.initStatus;return $n(Z).then(function(){return S.inited=!0,S.initStatus=!0,le||In(),ie||vi(),k.recalculate()})},reloadData:function(Z){var ie=S.inited;return k.clearAll().then(function(){return S.inited=!0,S.initStatus=!0,$n(Z)}).then(function(){return In(),ie||vi(),k.recalculate()})},reloadRow:function(Z,ie,le){var xe=e.keepSource,Me=n.tableData,Oe=S.tableSourceData;if(xe){var Be=k.getRowIndex(Z),nt=Oe[Be];if(nt&&Z)if(le){var mt=xeUtils.get(ie||Z,le);xeUtils.set(Z,le,mt),xeUtils.set(nt,le,mt)}else{var pt=xeUtils.clone(__assign({},ie),!0);xeUtils.destructuring(nt,Object.assign(Z,pt))}n.tableData=Me.slice(0)}return nextTick()},loadTreeChildren:function(Z,ie){var le=e.keepSource,xe=S.tableSourceData,Me=S.fullDataRowIdData,Oe=S.fullAllDataRowIdData,Be=Ct.value,nt=Be.transform,mt=Be.children,pt=Be.mapChildren,qt=Oe[getRowid(ve,Z)],Xt=qt?qt.level:0;return k.createData(ie).then(function(dr){if(le){var $r=getRowid(ve,Z),lr=xeUtils.findTree(xe,function(en){return $r===getRowid(ve,en)},Be);lr&&(lr.item[mt]=xeUtils.clone(dr,!0))}return xeUtils.eachTree(dr,function(en,Kr,Wr,Xr,pn,Dn){var Zn=getRowid(ve,en),Cn={row:en,rowid:Zn,seq:-1,index:Kr,_index:-1,$index:-1,items:Wr,parent:pn,level:Xt+Dn.length};Me[Zn]=Cn,Oe[Zn]=Cn},Be),Z[mt]=dr,nt&&(Z[pt]=dr),er(),dr})},loadColumn:function(Z){var ie=xeUtils.mapTree(Z,function(le){return reactive(Cell.createColumn(ve,le))});return wi(ie)},reloadColumn:function(Z){return k.clearAll().then(function(){return k.loadColumn(Z)})},getRowNode:function(Z){if(Z){var ie=S.fullAllDataRowIdData,le=Z.getAttribute("rowid");if(le){var xe=ie[le];if(xe)return{rowid:xe.rowid,item:xe.row,index:xe.index,items:xe.items,parent:xe.parent}}}return null},getColumnNode:function(Z){if(Z){var ie=S.fullColumnIdData,le=Z.getAttribute("colid");if(le){var xe=ie[le];if(xe)return{colid:xe.colid,item:xe.column,index:xe.index,items:xe.items,parent:xe.parent}}}return null},getRowSeq:Co("seq"),getRowIndex:Co("index"),getVTRowIndex:Co("_index"),getVMRowIndex:Co("$index"),getColumnIndex:ji("index"),getVTColumnIndex:ji("_index"),getVMColumnIndex:ji("$index"),createData:function(Z){var ie=e.treeConfig,le=Ct.value,xe=function(Oe){return reactive(M.defineField(Object.assign({},Oe)))},Me=ie?xeUtils.mapTree(Z,xe,le):Z.map(xe);return nextTick().then(function(){return Me})},createRow:function(Z){var ie=xeUtils.isArray(Z);return ie||(Z=[Z]),nextTick().then(function(){return k.createData(Z).then(function(le){return ie?le:le[0]})})},revertData:function(Z,ie){var le=e.keepSource,xe=S.tableSourceData,Me=S.tableFullData;if(!le)return nextTick();var Oe=Z;return Z?xeUtils.isArray(Z)||(Oe=[Z]):Oe=xeUtils.toArray(ve.getUpdateRecords()),Oe.length&&Oe.forEach(function(Be){if(!k.isInsertByRow(Be)){var nt=ve.findRowIndexOf(Me,Be),mt=xe[nt];mt&&Be&&(ie?xeUtils.set(Be,ie,xeUtils.clone(xeUtils.get(mt,ie),!0)):xeUtils.destructuring(Be,xeUtils.clone(mt,!0)))}}),Z?nextTick():k.reloadData(xe)},clearData:function(Z,ie){var le=S.tableFullData,xe=S.visibleColumn;return arguments.length?Z&&!xeUtils.isArray(Z)&&(Z=[Z]):Z=le,ie?Z.forEach(function(Me){return xeUtils.set(Me,ie,null)}):Z.forEach(function(Me){xe.forEach(function(Oe){Oe.property&&setCellValue(Me,Oe,null)})}),nextTick()},isInsertByRow:function(Z){var ie=n.editStore;return ve.findRowIndexOf(ie.insertList,Z)>-1},removeInsertRow:function(){var Z=n.editStore;return ve.remove(Z.insertList)},isUpdateByRow:function(Z,ie){var le,xe,Me=e.keepSource,Oe=e.treeConfig,Be=S.visibleColumn,nt=S.tableSourceData,mt=S.fullDataRowIdData,pt=Ct.value;if(Me){var qt=void 0,Xt=void 0,dr=getRowid(ve,Z);if(!mt[dr])return!1;if(Oe){var $r=pt.children,lr=xeUtils.findTree(nt,function(Xr){return dr===getRowid(ve,Xr)},pt);Z=Object.assign({},Z,(le={},le[$r]=null,le)),lr&&(qt=Object.assign({},lr.item,(xe={},xe[$r]=null,xe)))}else{var en=mt[dr].index;qt=nt[en]}if(qt){if(arguments.length>1)return!lt(qt,Z,ie);for(var Kr=0,Wr=Be.length;Kr<Wr;Kr++)if(Xt=Be[Kr].property,Xt&&!lt(qt,Z,Xt))return!0}}return!1},getColumns:function(Z){var ie=S.visibleColumn;return xeUtils.isUndefined(Z)?ie.slice(0):ie[Z]},getColumnById:function(Z){var ie=S.fullColumnIdData;return ie[Z]?ie[Z].column:null},getColumnByField:function(Z){var ie=S.fullColumnFieldData;return ie[Z]?ie[Z].column:null},getTableColumn:function(){return{collectColumn:S.collectColumn.slice(0),fullColumn:S.tableFullColumn.slice(0),visibleColumn:S.visibleColumn.slice(0),tableColumn:n.tableColumn.slice(0)}},getData:function(Z){var ie=e.data||S.tableSynchData;return xeUtils.isUndefined(Z)?ie.slice(0):ie[Z]},getCheckboxRecords:function(Z){var ie=e.treeConfig,le=S.tableFullData,xe=S.afterFullData,Me=S.afterTreeFullData,Oe=S.tableFullTreeData,Be=Ct.value,nt=tt.value,mt=Be.transform,pt=Be.children,qt=Be.mapChildren,Xt=nt.checkField,dr=[],$r=Z?mt?Oe:le:mt?Me:xe;if(Xt)ie?dr=xeUtils.filterTree($r,function(en){return xeUtils.get(en,Xt)},{children:mt?qt:pt}):dr=$r.filter(function(en){return xeUtils.get(en,Xt)});else{var lr=n.selection;ie?dr=xeUtils.filterTree($r,function(en){return ve.findRowIndexOf(lr,en)>-1},{children:mt?qt:pt}):dr=$r.filter(function(en){return ve.findRowIndexOf(lr,en)>-1})}return dr},getParentRow:function(Z){var ie=e.treeConfig,le=S.fullDataRowIdData;if(Z&&ie){var xe=void 0;if(xeUtils.isString(Z)?xe=Z:xe=getRowid(ve,Z),xe)return le[xe]?le[xe].parent:null}return null},getRowById:function(Z){var ie=S.fullDataRowIdData;return ie[Z]?ie[Z].row:null},getRowid:function(Z){return getRowid(ve,Z)},getTableData:function(){var Z=n.tableData,ie=n.footerTableData,le=S.tableFullData,xe=S.afterFullData;return{fullData:le.slice(0),visibleData:xe.slice(0),tableData:Z.slice(0),footerData:ie.slice(0)}},hideColumn:function(Z){var ie=handleFieldOrColumn(ve,Z);return ie&&(ie.visible=!1),M.handleCustom()},showColumn:function(Z){var ie=handleFieldOrColumn(ve,Z);return ie&&(ie.visible=!0),M.handleCustom()},resetColumn:function(Z){var ie=S.tableFullColumn,le=Br.value,xe=le.checkMethod,Me=Object.assign({visible:!0,resizable:Z===!0},Z);return ie.forEach(function(Oe){Me.resizable&&(Oe.resizeWidth=0),(!xe||xe({column:Oe}))&&(Oe.visible=Oe.defaultVisible)}),Me.resizable&&M.saveCustomResizable(!0),M.handleCustom()},refreshColumn:function(){return xi().then(function(){return k.refreshScroll()}).then(function(){return k.recalculate()})},refreshScroll:function(){var Z=S.lastScrollLeft,ie=S.lastScrollTop,le=q.value,xe=Y.value,Me=te.value,Oe=se.value,Be=le?le.$el:null,nt=Me?Me.$el:null,mt=Oe?Oe.$el:null,pt=xe?xe.$el:null;return Z||ie?restoreScrollLocation(ve,Z,ie):(setScrollTop(Be,ie),setScrollTop(nt,ie),setScrollTop(mt,ie),setScrollLeft(pt,Z),nextTick())},recalculate:function(Z){var ie=U.value,le=q.value,xe=Y.value,Me=le?le.$el:null,Oe=ie?ie.$el:null,Be=xe?xe.$el:null;return Me&&(ct(Oe,Me,Be),Z===!0)?On().then(function(){return ct(Oe,Me,Be),On()}):On()},openTooltip:function(Z,ie){var le=R.value;return le?le.open(Z,ie):nextTick()},closeTooltip:function(){var Z=S.tooltipStore,ie=$.value,le=R.value;return Z.visible&&(Object.assign(Z,{row:null,column:null,content:null,visible:!1}),ie&&ie.close()),le&&le.close(),nextTick()},isAllCheckboxChecked:function(){return n.isAllSelected},isAllCheckboxIndeterminate:function(){return!n.isAllSelected&&n.isIndeterminate},getCheckboxIndeterminateRecords:function(Z){var ie=e.treeConfig,le=S.afterFullData,xe=n.treeIndeterminates;return ie?Z?xe.slice(0):xe.filter(function(Me){return ve.findRowIndexOf(le,Me)>-1}):[]},setCheckboxRow:function(Z,ie){return Z&&!xeUtils.isArray(Z)&&(Z=[Z]),Z.forEach(function(le){return M.handleSelectRow({row:le},!!ie)}),nextTick()},isCheckedByCheckboxRow:function(Z){var ie=n.selection,le=tt.value,xe=le.checkField;return xe?xeUtils.get(Z,xe):ve.findRowIndexOf(ie,Z)>-1},isIndeterminateByCheckboxRow:function(Z){var ie=n.treeIndeterminates;return ve.findRowIndexOf(ie,Z)>-1&&!k.isCheckedByCheckboxRow(Z)},toggleCheckboxRow:function(Z){return M.handleToggleCheckRowEvent(null,{row:Z}),nextTick()},setAllCheckboxRow:function(Z){var ie=e.treeConfig,le=n.selection,xe=S.afterFullData,Me=S.checkboxReserveRowMap,Oe=Ct.value,Be=tt.value,nt=Be.checkField,mt=Be.reserve,pt=Be.checkStrictly,qt=Be.checkMethod,Xt=[],dr=ie?[]:le.filter(function(lr){return ve.findRowIndexOf(xe,lr)===-1});if(pt)n.isAllSelected=Z;else{if(nt){var $r=function(lr){(!qt||qt({row:lr}))&&(Z&&Xt.push(lr),xeUtils.set(lr,nt,Z))};ie?xeUtils.eachTree(xe,$r,Oe):xe.forEach($r)}else ie?Z?xeUtils.eachTree(xe,function(lr){(!qt||qt({row:lr}))&&Xt.push(lr)},Oe):qt&&xeUtils.eachTree(xe,function(lr){(qt({row:lr})?0:ve.findRowIndexOf(le,lr)>-1)&&Xt.push(lr)},Oe):Z?qt?Xt=xe.filter(function(lr){return ve.findRowIndexOf(le,lr)>-1||qt({row:lr})}):Xt=xe.slice(0):qt&&(Xt=xe.filter(function(lr){return qt({row:lr})?0:ve.findRowIndexOf(le,lr)>-1}));mt&&(Z?Xt.forEach(function(lr){Me[getRowid(ve,lr)]=lr}):xe.forEach(function(lr){return _r(lr,!1)})),n.selection=nt?[]:dr.concat(Xt)}return n.treeIndeterminates=[],M.checkSelectionStatus(),nextTick()},getRadioReserveRecord:function(Z){var ie=e.treeConfig,le=S.fullDataRowIdData,xe=S.radioReserveRow,Me=S.afterFullData,Oe=je.value,Be=Ct.value;if(Oe.reserve&&xe){var nt=getRowid(ve,xe);if(Z){if(!le[nt])return xe}else{var mt=getRowkey(ve);if(ie){var pt=xeUtils.findTree(Me,function(qt){return nt===xeUtils.get(qt,mt)},Be);if(pt)return xe}else if(!Me.some(function(qt){return nt===xeUtils.get(qt,mt)}))return xe}}return null},clearRadioReserve:function(){return S.radioReserveRow=null,nextTick()},getCheckboxReserveRecords:function(Z){var ie=e.treeConfig,le=S.afterFullData,xe=S.fullDataRowIdData,Me=S.checkboxReserveRowMap,Oe=tt.value,Be=Ct.value,nt=[];if(Oe.reserve){var mt={};ie?xeUtils.eachTree(le,function(pt){mt[getRowid(ve,pt)]=1},Be):le.forEach(function(pt){mt[getRowid(ve,pt)]=1}),xeUtils.each(Me,function(pt,qt){pt&&(Z?xe[qt]||nt.push(pt):mt[qt]||nt.push(pt))})}return nt},clearCheckboxReserve:function(){return S.checkboxReserveRowMap={},nextTick()},toggleAllCheckboxRow:function(){return M.triggerCheckAllEvent(null,!n.isAllSelected),nextTick()},clearCheckboxRow:function(){var Z=e.treeConfig,ie=S.tableFullData,le=Ct.value,xe=tt.value,Me=xe.checkField,Oe=xe.reserve;return Me&&(Z?xeUtils.eachTree(ie,function(Be){return xeUtils.set(Be,Me,!1)},le):ie.forEach(function(Be){return xeUtils.set(Be,Me,!1)})),Oe&&ie.forEach(function(Be){return _r(Be,!1)}),n.isAllSelected=!1,n.isIndeterminate=!1,n.selection=[],n.treeIndeterminates=[],nextTick()},setCurrentRow:function(Z){var ie=De.value,le=P.value;return k.clearCurrentRow(),k.clearCurrentColumn(),n.currentRow=Z,(ie.isCurrent||e.highlightCurrentRow)&&le&&xeUtils.arrayEach(le.querySelectorAll('[rowid="'+getRowid(ve,Z)+'"]'),function(xe){return addClass(xe,"row--current")}),nextTick()},isCheckedByRadioRow:function(Z){return ve.eqRow(n.selectRow,Z)},setRadioRow:function(Z){var ie=je.value,le=ie.checkMethod;return Z&&(!le||le({row:Z}))&&(n.selectRow=Z,Et(Z)),nextTick()},clearCurrentRow:function(){var Z=P.value;return n.currentRow=null,S.hoverRow=null,Z&&xeUtils.arrayEach(Z.querySelectorAll(".row--current"),function(ie){return removeClass(ie,"row--current")}),nextTick()},clearRadioRow:function(){return n.selectRow=null,nextTick()},getCurrentRecord:function(){var Z=De.value;return Z.isCurrent||e.highlightCurrentRow?n.currentRow:null},getRadioRecord:function(Z){var ie=e.treeConfig,le=S.fullDataRowIdData,xe=S.afterFullData,Me=n.selectRow,Oe=Ct.value;if(Me){var Be=getRowid(ve,Me);if(Z){if(!le[Be])return Me}else if(ie){var nt=getRowkey(ve),mt=xeUtils.findTree(xe,function(pt){return Be===xeUtils.get(pt,nt)},Oe);if(mt)return Me}else if(ve.findRowIndexOf(xe,Me)>-1)return Me}return null},getCurrentColumn:function(){var Z=Ye.value;return Z.isCurrent||e.highlightCurrentColumn?n.currentColumn:null},setCurrentColumn:function(Z){var ie=handleFieldOrColumn(ve,Z);return ie&&(k.clearCurrentRow(),k.clearCurrentColumn(),n.currentColumn=ie),nextTick()},clearCurrentColumn:function(){return n.currentColumn=null,nextTick()},sort:function(Z,ie){var le=Rt.value,xe=le.multiple,Me=le.remote,Oe=le.orders;return Z&&xeUtils.isString(Z)&&(Z=[{field:Z,order:ie}]),xeUtils.isArray(Z)||(Z=[Z]),Z.length?(xe||vn(),(xe?Z:[Z[0]]).forEach(function(Be){var nt=Be.field,mt=Be.order,pt=nt;xeUtils.isString(nt)&&(pt=k.getColumnByField(nt)),pt&&pt.sortable&&(Oe.indexOf(mt)===-1&&(mt=sr(pt)),pt.order!==mt&&(pt.order=mt),pt.sortTime=Date.now())}),Me||M.handleTableData(!0),nextTick().then(Qt)):nextTick()},clearSort:function(Z){var ie=Rt.value;if(Z){var le=handleFieldOrColumn(ve,Z);le&&(le.order=null)}else vn();return ie.remote||M.handleTableData(!0),nextTick().then(Qt)},isSort:function(Z){if(Z){var ie=handleFieldOrColumn(ve,Z);return ie?ie.sortable&&!!ie.order:!1}return k.getSortColumns().length>0},getSortColumns:function(){var Z=[],ie=S.tableFullColumn;return ie.forEach(function(le){var xe=le.property,Me=le.order;le.sortable&&Me&&Z.push({column:le,field:xe,property:xe,order:Me})}),Z},closeFilter:function(){var Z=n.filterStore,ie=Z.column,le=Z.visible;return Object.assign(Z,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),le&&ve.dispatchEvent("filter-visible",{column:ie,property:ie.property,filterList:ve.getCheckedFilters(),visible:!1},null),nextTick()},isFilter:function(Z){var ie=handleFieldOrColumn(ve,Z);return ie?ie.filters&&ie.filters.some(function(le){return le.checked}):ve.getCheckedFilters().length>0},isRowExpandLoaded:function(Z){var ie=S.fullAllDataRowIdData,le=ie[getRowid(ve,Z)];return le&&!!le.expandLoaded},clearRowExpandLoaded:function(Z){var ie=n.expandLazyLoadeds,le=S.fullAllDataRowIdData,xe=zt.value,Me=xe.lazy,Oe=le[getRowid(ve,Z)];return Me&&Oe&&(Oe.expandLoaded=!1,xeUtils.remove(ie,function(Be){return ve.eqRow(Be,Z)})),nextTick()},reloadRowExpand:function(Z){var ie=n.expandLazyLoadeds,le=zt.value,xe=le.lazy;return xe&&ve.findRowIndexOf(ie,Z)===-1&&k.clearRowExpandLoaded(Z).then(function(){return li(Z)}),nextTick()},reloadExpandContent:function(Z){return k.reloadRowExpand(Z)},toggleRowExpand:function(Z){return k.setRowExpand(Z,!k.isExpandByRow(Z))},setAllRowExpand:function(Z){var ie=zt.value;return k.setRowExpand(ie.lazy?n.tableData:S.tableFullData,Z)},setRowExpand:function(Z,ie){var le=n.rowExpandeds,xe=n.expandLazyLoadeds,Me=n.expandColumn,Oe=S.fullAllDataRowIdData,Be=zt.value,nt=Be.reserve,mt=Be.lazy,pt=Be.accordion,qt=Be.toggleMethod,Xt=[],dr=k.getColumnIndex(Me),$r=k.getVMColumnIndex(Me);if(Z){xeUtils.isArray(Z)||(Z=[Z]),pt&&(le=[],Z=Z.slice(Z.length-1,Z.length));var lr=qt?Z.filter(function(en){return qt({$table:ve,expanded:ie,column:Me,columnIndex:dr,$columnIndex:$r,row:en,rowIndex:k.getRowIndex(en),$rowIndex:k.getVMRowIndex(en)})}):Z;ie?lr.forEach(function(en){if(ve.findRowIndexOf(le,en)===-1){var Kr=Oe[getRowid(ve,en)],Wr=mt&&!Kr.expandLoaded&&ve.findRowIndexOf(xe,en)===-1;Wr?Xt.push(li(en)):le.push(en)}}):xeUtils.remove(le,function(en){return ve.findRowIndexOf(lr,en)>-1}),nt&&lr.forEach(function(en){return Ri(en,ie)})}return n.rowExpandeds=le,Promise.all(Xt).then(function(){return k.recalculate()})},isExpandByRow:function(Z){var ie=n.rowExpandeds;return ve.findRowIndexOf(ie,Z)>-1},clearRowExpand:function(){var Z=n.rowExpandeds,ie=S.tableFullData,le=zt.value,xe=le.reserve,Me=Z.length;return n.rowExpandeds=[],xe&&ie.forEach(function(Oe){return Ri(Oe,!1)}),nextTick().then(function(){Me&&k.recalculate()})},clearRowExpandReserve:function(){return S.rowExpandedReserveRowMap={},nextTick()},getRowExpandRecords:function(){return n.rowExpandeds.slice(0)},getTreeExpandRecords:function(){return n.treeExpandeds.slice(0)},isTreeExpandLoaded:function(Z){var ie=S.fullAllDataRowIdData,le=ie[getRowid(ve,Z)];return le&&!!le.treeLoaded},clearTreeExpandLoaded:function(Z){var ie=n.treeExpandeds,le=S.fullAllDataRowIdData,xe=Ct.value,Me=xe.transform,Oe=xe.lazy,Be=le[getRowid(ve,Z)];return Oe&&Be&&(Be.treeLoaded=!1,xeUtils.remove(ie,function(nt){return ve.eqRow(nt,Z)})),Me?(Kt(),M.handleTableData()):nextTick()},reloadTreeExpand:function(Z){var ie=n.treeLazyLoadeds,le=Ct.value,xe=le.transform,Me=le.lazy,Oe=le.hasChild;return Me&&Z[Oe]&&ve.findRowIndexOf(ie,Z)===-1&&k.clearTreeExpandLoaded(Z).then(function(){return xn(Z)}).then(function(){if(xe)return Kt(),M.handleTableData()}).then(function(){return k.recalculate()}),nextTick()},reloadTreeChilds:function(Z){return k.reloadTreeExpand(Z)},toggleTreeExpand:function(Z){return k.setTreeExpand(Z,!k.isTreeExpandByRow(Z))},setAllTreeExpand:function(Z){var ie=S.tableFullData,le=Ct.value,xe=le.transform,Me=le.lazy,Oe=le.children,Be=[];return xeUtils.eachTree(ie,function(nt){var mt=nt[Oe];(Me||mt&&mt.length)&&Be.push(nt)},le),k.setTreeExpand(Be,Z).then(function(){if(xe)return Kt(),k.recalculate()})},setTreeExpand:function(Z,ie){var le=Ct.value,xe=le.transform;return Z&&(xeUtils.isArray(Z)||(Z=[Z]),Z.length)?xe?Mo(Z,ie):vo(Z,ie):nextTick()},isTreeExpandByRow:function(Z){var ie=n.treeExpandeds;return ve.findRowIndexOf(ie,Z)>-1},clearTreeExpand:function(){var Z=n.treeExpandeds,ie=S.tableFullTreeData,le=Ct.value,xe=le.transform,Me=le.reserve,Oe=Z.length;return n.treeExpandeds=[],Me&&xeUtils.eachTree(ie,function(Be){return zn(Be,!1)},le),M.handleTableData().then(function(){if(xe)return Kt(),M.handleTableData()}).then(function(){if(Oe)return k.recalculate()})},clearTreeExpandReserve:function(){return S.treeExpandedReserveRowMap={},nextTick()},getScroll:function(){var Z=n.scrollXLoad,ie=n.scrollYLoad,le=q.value,xe=le.$el;return{virtualX:Z,virtualY:ie,scrollTop:xe.scrollTop,scrollLeft:xe.scrollLeft}},scrollTo:function(Z,ie){var le=q.value,xe=Y.value,Me=se.value,Oe=le?le.$el:null,Be=Me?Me.$el:null,nt=xe?xe.$el:null;return xeUtils.isNumber(Z)&&setScrollLeft(nt||Oe,Z),xeUtils.isNumber(ie)&&setScrollTop(Be||Oe,ie),n.scrollXLoad||n.scrollYLoad?new Promise(function(mt){return setTimeout(function(){return mt(nextTick())},50)}):nextTick()},scrollToRow:function(Z,ie){var le=[];return Z&&(e.treeConfig?le.push(M.scrollToTreeRow(Z)):le.push(rowToVisible(ve,Z))),ie&&le.push(k.scrollToColumn(ie)),Promise.all(le)},scrollToColumn:function(Z){var ie=S.fullColumnIdData,le=handleFieldOrColumn(ve,Z);return le&&ie[le.id]?colToVisible(ve,le):nextTick()},clearScroll:function(){var Z=S.scrollXStore,ie=S.scrollYStore,le=q.value,xe=Y.value,Me=se.value,Oe=le?le.$el:null,Be=Me?Me.$el:null,nt=xe?xe.$el:null;return Be&&(restoreScrollListener(Be),Be.scrollTop=0),nt&&(nt.scrollLeft=0),Oe&&(restoreScrollListener(Oe),Oe.scrollTop=0,Oe.scrollLeft=0),Z.startIndex=0,ie.startIndex=0,nextTick()},updateFooter:function(){var Z=e.showFooter,ie=e.footerMethod,le=S.visibleColumn,xe=S.afterFullData;return Z&&ie&&(n.footerTableData=le.length?ie({columns:le,data:xe,$table:ve,$grid:ke}):[]),nextTick()},updateStatus:function(Z,ie){var le=!xeUtils.isUndefined(ie);return nextTick().then(function(){var xe=e.editRules,Me=n.validStore,Oe=q.value;if(Z&&Oe&&xe){var Be=Z.row,nt=Z.column,mt="change";if(ve.hasCellRules&&ve.hasCellRules(mt,Be,nt)){var pt=M.getCell(Be,nt);if(pt)return ve.validCellRules(mt,Be,nt,ie).then(function(){le&&Me.visible&&setCellValue(Be,nt,ie),ve.clearValidate()}).catch(function(qt){var Xt=qt.rule;le&&setCellValue(Be,nt,ie),ve.showValidTooltip({rule:Xt,row:Be,column:nt,cell:pt})})}}})},setMergeCells:function(Z){return e.spanMethod&&errLog("vxe.error.errConflicts",["merge-cells","span-method"]),Nr(Z,n.mergeList,S.afterFullData),nextTick().then(function(){return M.updateCellAreas()})},removeMergeCells:function(Z){e.spanMethod&&errLog("vxe.error.errConflicts",["merge-cells","span-method"]);var ie=un(Z,n.mergeList,S.afterFullData);return nextTick().then(function(){return M.updateCellAreas(),ie})},getMergeCells:function(){return n.mergeList.slice(0)},clearMergeCells:function(){return n.mergeList=[],nextTick()},setMergeFooterItems:function(Z){return e.footerSpanMethod&&errLog("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),Nr(Z,n.mergeFooterList),nextTick().then(function(){return M.updateCellAreas()})},removeMergeFooterItems:function(Z){e.footerSpanMethod&&errLog("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);var ie=un(Z,n.mergeFooterList);return nextTick().then(function(){return M.updateCellAreas(),ie})},getMergeFooterItems:function(){return n.mergeFooterList.slice(0)},clearMergeFooterItems:function(){return n.mergeFooterList=[],nextTick()},focus:function(){return S.isActivated=!0,nextTick()},blur:function(){return S.isActivated=!1,nextTick()},connect:function(Z){return Z?(Ee=Z,Ee.syncUpdate({collectColumn:S.collectColumn,$table:ve})):errLog("vxe.error.barUnableLink"),nextTick()}};var la=function(Z){var ie=n.editStore,le=n.ctxMenuStore,xe=n.filterStore,Me=e.mouseConfig,Oe=P.value,Be=Mt.value,nt=ie.actived,mt=B.value,pt=V.value,qt=j.value;if(pt&&(getEventTargetNode(Z,Oe,"vxe-cell--filter").flag||getEventTargetNode(Z,pt.$el).flag||getEventTargetNode(Z,document.body,"vxe-table--ignore-clear").flag||M.preventEvent(Z,"event.clearFilter",xe.args,k.closeFilter)),nt.row){if(Be.autoClear!==!1){var Xt=nt.args.cell;(!Xt||!getEventTargetNode(Z,Xt).flag)&&(mt&&getEventTargetNode(Z,mt.$el).flag||(!S._lastCallTime||S._lastCallTime+50<Date.now())&&(getEventTargetNode(Z,document.body,"vxe-table--ignore-clear").flag||M.preventEvent(Z,"event.clearActived",nt.args,function(){var dr;if(Be.mode==="row"){var $r=getEventTargetNode(Z,Oe,"vxe-body--row"),lr=$r.flag?k.getRowNode($r.targetElem):null;dr=lr?!ve.eqRow(lr.item,nt.args.row):!1}else dr=!getEventTargetNode(Z,Oe,"col--edit").flag;if(dr||(dr=getEventTargetNode(Z,Oe,"vxe-header--row").flag),dr||(dr=getEventTargetNode(Z,Oe,"vxe-footer--row").flag),!dr&&e.height&&!n.overflowY){var en=Z.target;hasClass(en,"vxe-table--body-wrapper")&&(dr=Z.offsetY<en.clientHeight)}(dr||!getEventTargetNode(Z,Oe).flag)&&setTimeout(function(){return ve.clearActived(Z)})})))}}else Me&&!getEventTargetNode(Z,Oe).flag&&!(ke&&getEventTargetNode(Z,ke.getRefMaps().refElem.value).flag)&&!(qt&&getEventTargetNode(Z,qt.getRefMaps().refElem.value).flag)&&!(Ee&&getEventTargetNode(Z,Ee.getRefMaps().refElem.value).flag)&&(ve.clearSelected(),ve.clearCellAreas&&(getEventTargetNode(Z,document.body,"vxe-table--ignore-areas-clear").flag||M.preventEvent(Z,"event.clearAreas",{},function(){ve.clearCellAreas(),ve.clearCopyCellArea()})));ve.closeMenu&&le.visible&&qt&&!getEventTargetNode(Z,qt.getRefMaps().refElem.value).flag&&ve.closeMenu(),S.isActivated=getEventTargetNode(Z,ke?ke.getRefMaps().refElem.value:Oe).flag},Sa=function(){k.closeFilter(),ve.closeMenu&&ve.closeMenu()},Ki=function(){k.closeTooltip(),ve.closeMenu&&ve.closeMenu()},uo=function(Z){var ie=e.mouseConfig,le=e.keyboardConfig,xe=n.filterStore,Me=n.ctxMenuStore,Oe=n.editStore,Be=ut.value,nt=cr.value,mt=Oe.actived,pt=hasEventKey(Z,EVENT_KEYS.ESCAPE);pt&&M.preventEvent(Z,"event.keydown",null,function(){if(le&&ie&&Be.area&&ve.handleKeyboardEvent)ve.handleKeyboardEvent(Z);else if((mt.row||xe.visible||Me.visible)&&(Z.stopPropagation(),ve.closeMenu&&ve.closeMenu(),k.closeFilter(),le&&nt.isEsc&&mt.row)){var qt=mt.args;ve.clearActived(Z),Be.selected&&nextTick(function(){return ve.handleSelected(qt,Z)})}k.dispatchEvent("keydown",{},Z)})},Da=function(Z){S.isActivated&&M.preventEvent(Z,"event.keydown",null,function(){var ie=e.mouseConfig,le=e.keyboardConfig,xe=e.treeConfig,Me=e.editConfig,Oe=e.highlightCurrentRow,Be=n.ctxMenuStore,nt=n.editStore,mt=n.currentRow,pt=or.value,qt=St.value,Xt=cr.value,dr=ut.value,$r=Mt.value,lr=Ct.value,en=xr.value,Kr=De.value,Wr=nt.selected,Xr=nt.actived,pn=Z.keyCode,Dn=hasEventKey(Z,EVENT_KEYS.ESCAPE),Zn=hasEventKey(Z,EVENT_KEYS.BACKSPACE),Cn=hasEventKey(Z,EVENT_KEYS.TAB),ui=hasEventKey(Z,EVENT_KEYS.ENTER),yi=hasEventKey(Z,EVENT_KEYS.SPACEBAR),oi=hasEventKey(Z,EVENT_KEYS.ARROW_LEFT),Kn=hasEventKey(Z,EVENT_KEYS.ARROW_UP),Un=hasEventKey(Z,EVENT_KEYS.ARROW_RIGHT),Bn=hasEventKey(Z,EVENT_KEYS.ARROW_DOWN),Ai=hasEventKey(Z,EVENT_KEYS.DELETE),da=hasEventKey(Z,EVENT_KEYS.F2),Vo=hasEventKey(Z,EVENT_KEYS.CONTEXT_MENU),_o=Z.metaKey,Ko=Z.ctrlKey,io=Z.shiftKey,Jo=Z.altKey,Ji=oi||Kn||Un||Bn,Qo=pt&&Be.visible&&(ui||yi||Ji),Ao=isEnableConf(Me)&&Xr.column&&Xr.row,ea;if(Qo)Z.preventDefault(),Be.showChild&&hasChildrenList(Be.selected)?ve.moveCtxMenu(Z,Be,"selectChild",oi,!1,Be.selected.children):ve.moveCtxMenu(Z,Be,"selected",Un,!0,en);else if(le&&ie&&dr.area&&ve.handleKeyboardEvent)ve.handleKeyboardEvent(Z);else if(Dn){if(ve.closeMenu&&ve.closeMenu(),k.closeFilter(),le&&Xt.isEsc&&Xr.row){var Uo=Xr.args;ve.clearActived(Z),dr.selected&&nextTick(function(){return ve.handleSelected(Uo,Z)})}}else if(yi&&le&&Xt.isChecked&&Wr.row&&Wr.column&&(Wr.column.type==="checkbox"||Wr.column.type==="radio"))Z.preventDefault(),Wr.column.type==="checkbox"?M.handleToggleCheckRowEvent(Z,Wr.args):M.triggerRadioRowEvent(Z,Wr.args);else if(da&&isEnableConf(Me))Ao||Wr.row&&Wr.column&&(Z.preventDefault(),ve.handleActived(Wr.args,Z));else if(Vo)S._keyCtx=Wr.row&&Wr.column&&qt.length,clearTimeout(Qn),Qn=setTimeout(function(){S._keyCtx=!1},1e3);else if(ui&&!Jo&&le&&Xt.isEnter&&(Wr.row||Xr.row||xe&&(Kr.isCurrent||Oe)&&mt)){if(Ko)Xr.row&&(ea=Xr.args,ve.clearActived(Z),dr.selected&&nextTick(function(){return ve.handleSelected(ea,Z)}));else if(Wr.row||Xr.row){var Qi=Wr.row?Wr.args:Xr.args;io?Xt.enterToTab?ve.moveTabSelected(Qi,io,Z):ve.moveSelected(Qi,oi,!0,Un,!1,Z):Xt.enterToTab?ve.moveTabSelected(Qi,io,Z):ve.moveSelected(Qi,oi,!1,Un,!0,Z)}else if(xe&&(Kr.isCurrent||Oe)&&mt){var Go=mt[lr.children];if(Go&&Go.length){Z.preventDefault();var ri=Go[0];ea={$table:ve,row:ri,rowIndex:k.getRowIndex(ri),$rowIndex:k.getVMRowIndex(ri)},k.setTreeExpand(mt,!0).then(function(){return k.scrollToRow(ri)}).then(function(){return M.triggerCurrentRowEvent(Z,ea)})}}}else if(Ji&&le&&Xt.isArrow)Ao||(Wr.row&&Wr.column?ve.moveSelected(Wr.args,oi,Kn,Un,Bn,Z):(Kn||Bn)&&(Kr.isCurrent||Oe)&&ve.moveCurrentRow(Kn,Bn,Z));else if(Cn&&le&&Xt.isTab)Wr.row||Wr.column?ve.moveTabSelected(Wr.args,io,Z):(Xr.row||Xr.column)&&ve.moveTabSelected(Xr.args,io,Z);else if(le&&isEnableConf(Me)&&(Ai||(xe&&(Kr.isCurrent||Oe)&&mt?Zn&&Xt.isArrow:Zn))){if(!Ao){var Li=Xt.delMethod,Hi=Xt.backMethod;if(Xt.isDel&&(Wr.row||Wr.column))Li?Li({row:Wr.row,rowIndex:k.getRowIndex(Wr.row),column:Wr.column,columnIndex:k.getColumnIndex(Wr.column),$table:ve}):setCellValue(Wr.row,Wr.column,null),Zn?Hi?Hi({row:Wr.row,rowIndex:k.getRowIndex(Wr.row),column:Wr.column,columnIndex:k.getColumnIndex(Wr.column),$table:ve}):ve.handleActived(Wr.args,Z):Ai&&k.updateFooter();else if(Zn&&Xt.isArrow&&xe&&(Kr.isCurrent||Oe)&&mt){var zi=xeUtils.findTree(S.afterFullData,function(ha){return ha===mt},lr).parent;zi&&(Z.preventDefault(),ea={$table:ve,row:zi,rowIndex:k.getRowIndex(zi),$rowIndex:k.getVMRowIndex(zi)},k.setTreeExpand(zi,!1).then(function(){return k.scrollToRow(zi)}).then(function(){return M.triggerCurrentRowEvent(Z,ea)}))}}}else if(le&&isEnableConf(Me)&&Xt.isEdit&&!Ko&&!_o&&(yi||pn>=48&&pn<=57||pn>=65&&pn<=90||pn>=96&&pn<=111||pn>=186&&pn<=192||pn>=219&&pn<=222)){var Ea=Xt.editMethod;Wr.column&&Wr.row&&isEnableConf(Wr.column.editRender)&&(!$r.activeMethod||$r.activeMethod(__assign(__assign({},Wr.args),{$table:ve})))&&(Ea?Ea({row:Wr.row,rowIndex:k.getRowIndex(Wr.row),column:Wr.column,columnIndex:k.getColumnIndex(Wr.column),$table:ve,$grid:ke}):(setCellValue(Wr.row,Wr.column,null),ve.handleActived(Wr.args,Z)))}k.dispatchEvent("keydown",{},Z)})},ki=function(Z){var ie=e.keyboardConfig,le=e.mouseConfig,xe=n.editStore,Me=n.filterStore,Oe=S.isActivated,Be=ut.value,nt=cr.value,mt=xe.actived;Oe&&!Me.visible&&(mt.row||mt.column||ie&&nt.isClip&&le&&Be.area&&ve.handlePasteCellAreaEvent&&ve.handlePasteCellAreaEvent(Z),k.dispatchEvent("paste",{},Z))},Ii=function(Z){var ie=e.keyboardConfig,le=e.mouseConfig,xe=n.editStore,Me=n.filterStore,Oe=S.isActivated,Be=ut.value,nt=cr.value,mt=xe.actived;Oe&&!Me.visible&&(mt.row||mt.column||ie&&nt.isClip&&le&&Be.area&&ve.handleCopyCellAreaEvent&&ve.handleCopyCellAreaEvent(Z),k.dispatchEvent("copy",{},Z))},Ra=function(Z){var ie=e.keyboardConfig,le=e.mouseConfig,xe=n.editStore,Me=n.filterStore,Oe=S.isActivated,Be=ut.value,nt=cr.value,mt=xe.actived;Oe&&!Me.visible&&(mt.row||mt.column||ie&&nt.isClip&&le&&Be.area&&ve.handleCutCellAreaEvent&&ve.handleCutCellAreaEvent(Z),k.dispatchEvent("cut",{},Z))},Wi=function(){ve.closeMenu&&ve.closeMenu(),M.updateCellAreas(),k.recalculate(!0)},si=function(){clearTimeout(S.tooltipTimeout),S.tooltipActive=!0,k.closeTooltip()},ua=function(Z,ie,le,xe,Me){Me.cell=ie;var Oe=S.tooltipStore,Be=We.value,nt=Me.column,mt=Me.row,pt=Be.showAll,qt=Be.contentMethod,Xt=$.value,dr=qt?qt(Me):null,$r=qt&&!xeUtils.eqNull(dr),lr=$r?dr:(nt.type==="html"?le.innerText:le.textContent).trim(),en=le.scrollWidth>le.clientWidth;return lr&&(pt||$r||en)&&(Object.assign(Oe,{row:mt,column:nt,visible:!0}),Xt&&Xt.open(en?le:xe||le,formatText(lr))),nextTick()};M={getSetupOptions:function(){return GlobalConfig},updateAfterDataIndex:er,callSlot:function(Z,ie){if(Z){if(ke)return ke.callSlot(Z,ie);if(xeUtils.isFunction(Z))return Z(ie)}return[]},getParentElem:function(){var Z=P.value;if(ke){var ie=ke.getRefMaps().refElem.value;return ie?ie.parentNode:null}return Z?Z.parentNode:null},getParentHeight:function(){var Z=e.height,ie=P.value;if(ie){var le=ie.parentNode,xe=Z==="auto"?getPaddingTopBottomSize(le):0;return Math.floor(ke?ke.getParentHeight():xeUtils.toNumber(getComputedStyle(le).height)-xe)}return 0},getExcludeHeight:function(){return ke?ke.getExcludeHeight():0},defineField:function(Z){var ie=e.treeConfig,le=zt.value,xe=Ct.value,Me=je.value,Oe=tt.value,Be=getRowkey(ve);S.tableFullColumn.forEach(function(mt){var pt=mt.property,qt=mt.editRender;if(pt&&!xeUtils.has(Z,pt)){var Xt=null;if(qt){var dr=qt.defaultValue;xeUtils.isFunction(dr)?Xt=dr({column:mt}):xeUtils.isUndefined(dr)||(Xt=dr)}xeUtils.set(Z,pt,Xt)}});var nt=[Me.labelField,Oe.checkField,Oe.labelField,le.labelField];return nt.forEach(function(mt){mt&&eqEmptyValue(xeUtils.get(Z,mt))&&xeUtils.set(Z,mt,null)}),ie&&xe.lazy&&xeUtils.isUndefined(Z[xe.children])&&(Z[xe.children]=null),eqEmptyValue(xeUtils.get(Z,Be))&&xeUtils.set(Z,Be,getRowUniqueId()),Z},handleTableData:function(Z){var ie=n.scrollYLoad,le=S.scrollYStore,xe=S.fullDataRowIdData,Me=S.afterFullData;Z&&(Nt(),Me=Kt());var Oe=ie?Me.slice(le.startIndex,le.endIndex):Me.slice(0);return Oe.forEach(function(Be,nt){var mt=getRowid(ve,Be),pt=xe[mt];pt&&(pt.$index=nt)}),n.tableData=Oe,nextTick()},cacheRowMap:function(Z){var ie=e.treeConfig,le=Ct.value,xe=S.fullDataRowIdData,Me=S.fullAllDataRowIdData,Oe=S.tableFullData,Be=S.tableFullTreeData,nt=getRowkey(ve),mt=ie&&le.lazy,pt=function(qt,Xt,dr,$r,lr,en){var Kr=getRowid(ve,qt),Wr=ie&&$r?toTreePathSeq($r):Xt+1,Xr=en?en.length-1:0;eqEmptyValue(Kr)&&(Kr=getRowUniqueId(),xeUtils.set(qt,nt,Kr)),mt&&qt[le.hasChild]&&xeUtils.isUndefined(qt[le.children])&&(qt[le.children]=null);var pn={row:qt,rowid:Kr,seq:Wr,index:ie&&lr?-1:Xt,_index:-1,$index:-1,items:dr,parent:lr,level:Xr};Z&&(xe[Kr]=pn),Me[Kr]=pn};Z&&(xe=S.fullDataRowIdData={}),Me=S.fullAllDataRowIdData={},ie?xeUtils.eachTree(Be,pt,le):Oe.forEach(pt)},analyColumnWidth:function(){var Z=S.tableFullColumn,ie=Ye.value,le=ie.width,xe=ie.minWidth,Me=[],Oe=[],Be=[],nt=[],mt=[],pt=[];Z.forEach(function(qt){le&&!qt.width&&(qt.width=le),xe&&!qt.minWidth&&(qt.minWidth=xe),qt.visible&&(qt.resizeWidth?Me.push(qt):isPx(qt.width)?Oe.push(qt):isScale(qt.width)?nt.push(qt):isPx(qt.minWidth)?Be.push(qt):isScale(qt.minWidth)?mt.push(qt):pt.push(qt))}),Object.assign(n.columnStore,{resizeList:Me,pxList:Oe,pxMinList:Be,scaleList:nt,scaleMinList:mt,autoList:pt})},saveCustomResizable:function(Z){var ie=e.id,le=e.customConfig,xe=Br.value,Me=S.collectColumn,Oe=xe.storage,Be=Oe===!0||Oe&&Oe.resizable;if(le&&Be){var nt=ir(resizableStorageKey),mt;if(!ie){errLog("vxe.error.reqProp",["id"]);return}Z||(mt=xeUtils.isPlainObject(nt[ie])?nt[ie]:{},xeUtils.eachTree(Me,function(pt){if(pt.resizeWidth){var qt=pt.getKey();qt&&(mt[qt]=pt.renderWidth)}})),nt[ie]=xeUtils.isEmpty(mt)?void 0:mt,localStorage.setItem(resizableStorageKey,xeUtils.toJSONString(nt))}},saveCustomVisible:function(){var Z=e.id,ie=e.customConfig,le=S.collectColumn,xe=Br.value,Me=xe.checkMethod,Oe=xe.storage,Be=Oe===!0||Oe&&Oe.visible;if(ie&&Be){var nt=ir(visibleStorageKey),mt=[],pt=[];if(!Z){errLog("vxe.error.reqProp",["id"]);return}xeUtils.eachTree(le,function(qt){if(!Me||Me({column:qt})){if(!qt.visible&&qt.defaultVisible){var Xt=qt.getKey();Xt&&mt.push(Xt)}else if(qt.visible&&!qt.defaultVisible){var Xt=qt.getKey();Xt&&pt.push(Xt)}}}),nt[Z]=[mt.join(",")].concat(pt.length?[pt.join(",")]:[]).join("|")||void 0,localStorage.setItem(visibleStorageKey,xeUtils.toJSONString(nt))}},handleCustom:function(){return M.saveCustomVisible(),M.analyColumnWidth(),k.refreshColumn()},preventEvent:function(Z,ie,le,xe,Me){var Oe=VXETable.interceptor.get(ie),Be;return Oe.some(function(nt){return nt(Object.assign({$grid:ke,$table:ve,$event:Z},le))===!1})||xe&&(Be=xe()),Me&&Me(),Be},checkSelectionStatus:function(){var Z=e.treeConfig,ie=n.selection,le=n.treeIndeterminates,xe=S.afterFullData,Me=tt.value,Oe=Me.checkField,Be=Me.halfField,nt=Me.checkStrictly,mt=Me.checkMethod;if(!nt){var pt=[],qt=[],Xt=!1,dr=!1,$r=!1;Oe?(Xt=xe.every(mt?function(lr){return mt({row:lr})?xeUtils.get(lr,Oe)?(qt.push(lr),!0):!1:(pt.push(lr),!0)}:function(lr){return xeUtils.get(lr,Oe)}),dr=Xt&&xe.length!==pt.length,Z?Be?$r=!dr&&xe.some(function(lr){return xeUtils.get(lr,Oe)||xeUtils.get(lr,Be)||ve.findRowIndexOf(le,lr)>-1}):$r=!dr&&xe.some(function(lr){return xeUtils.get(lr,Oe)||ve.findRowIndexOf(le,lr)>-1}):Be?$r=!dr&&xe.some(function(lr){return xeUtils.get(lr,Oe)||xeUtils.get(lr,Be)}):$r=!dr&&xe.some(function(lr){return xeUtils.get(lr,Oe)})):(Xt=xe.every(mt?function(lr){return mt({row:lr})?ve.findRowIndexOf(ie,lr)>-1?(qt.push(lr),!0):!1:(pt.push(lr),!0)}:function(lr){return ve.findRowIndexOf(ie,lr)>-1}),dr=Xt&&xe.length!==pt.length,Z?$r=!dr&&xe.some(function(lr){return ve.findRowIndexOf(le,lr)>-1||ve.findRowIndexOf(ie,lr)>-1}):$r=!dr&&xe.some(function(lr){return ve.findRowIndexOf(ie,lr)>-1})),n.isAllSelected=dr,n.isIndeterminate=$r}},handleSelectRow:function(Z,ie){var le=Z.row,xe=e.treeConfig,Me=n.selection,Oe=n.treeIndeterminates,Be=S.afterFullData,nt=Ct.value,mt=tt.value,pt=mt.checkField,qt=mt.checkStrictly,Xt=mt.checkMethod;if(pt)if(xe&&!qt){ie===-1?(ve.findRowIndexOf(Oe,le)===-1&&Oe.push(le),xeUtils.set(le,pt,!1)):xeUtils.eachTree([le],function(Xr){(ve.eqRow(Xr,le)||!Xt||Xt({row:Xr}))&&(xeUtils.set(Xr,pt,ie),xeUtils.remove(Oe,function(pn){return pn===Xr}),_r(le,ie))},nt);var dr=xeUtils.findTree(Be,function(Xr){return ve.eqRow(Xr,le)},nt);if(dr&&dr.parent){var $r=void 0,lr=Xt?dr.items.filter(function(Xr){return Xt({row:Xr})}):dr.items,en=xeUtils.find(dr.items,function(Xr){return ve.findRowIndexOf(Oe,Xr)>-1});if(en)$r=-1;else{var Kr=dr.items.filter(function(Xr){return xeUtils.get(Xr,pt)});$r=Kr.filter(function(Xr){return ve.findRowIndexOf(lr,Xr)>-1}).length===lr.length?!0:Kr.length||ie===-1?-1:!1}return M.handleSelectRow({row:dr.parent},$r)}}else(!Xt||Xt({row:le}))&&(xeUtils.set(le,pt,ie),_r(le,ie));else if(xe&&!qt){ie===-1?(ve.findRowIndexOf(Oe,le)===-1&&Oe.push(le),xeUtils.remove(Me,function(pn){return ve.eqRow(pn,le)})):xeUtils.eachTree([le],function(pn){(ve.eqRow(pn,le)||!Xt||Xt({row:pn}))&&(ie?Me.push(pn):xeUtils.remove(Me,function(Dn){return Dn===pn}),xeUtils.remove(Oe,function(Dn){return Dn===pn}),_r(le,ie))},nt);var dr=xeUtils.findTree(Be,function(pn){return ve.eqRow(pn,le)},nt);if(dr&&dr.parent){var $r=void 0,Wr=Xt?dr.items.filter(function(Zn){return Xt({row:Zn})}):dr.items,en=xeUtils.find(dr.items,function(Zn){return ve.findRowIndexOf(Oe,Zn)>-1});if(en)$r=-1;else{var Kr=dr.items.filter(function(Cn){return ve.findRowIndexOf(Me,Cn)>-1});$r=Kr.filter(function(Cn){return ve.findRowIndexOf(Wr,Cn)>-1}).length===Wr.length?!0:Kr.length||ie===-1?-1:!1}return M.handleSelectRow({row:dr.parent},$r)}}else(!Xt||Xt({row:le}))&&(ie?ve.findRowIndexOf(Me,le)===-1&&Me.push(le):xeUtils.remove(Me,function(Xr){return ve.eqRow(Xr,le)}),_r(le,ie));M.checkSelectionStatus()},triggerHeaderHelpEvent:function(Z,ie){var le=ie.column,xe=le.titleHelp;if(xe.content||xe.message){var Me=S.tooltipStore,Oe=$.value,Be=getFuncText(xe.content||xe.message);si(),Me.visible=!0,Oe&&Oe.open(Z.currentTarget,Be)}},triggerHeaderTooltipEvent:function(Z,ie){var le=S.tooltipStore,xe=ie.column,Me=Z.currentTarget;si(),(le.column!==xe||!le.visible)&&ua(Z,Me,Me,null,ie)},triggerBodyTooltipEvent:function(Z,ie){var le=e.editConfig,xe=n.editStore,Me=S.tooltipStore,Oe=Mt.value,Be=xe.actived,nt=ie.row,mt=ie.column,pt=Z.currentTarget;if(si(),!(isEnableConf(le)&&(Oe.mode==="row"&&Be.row===nt||Be.row===nt&&Be.column===mt))&&(Me.column!==mt||Me.row!==nt||!Me.visible)){var qt=void 0,Xt=void 0;mt.treeNode?(qt=pt.querySelector(".vxe-tree-cell"),mt.type==="html"&&(Xt=pt.querySelector(".vxe-cell--html"))):Xt=pt.querySelector(mt.type==="html"?".vxe-cell--html":".vxe-cell--label"),ua(Z,pt,qt||pt.children[0],Xt,ie)}},triggerFooterTooltipEvent:function(Z,ie){var le=ie.column,xe=S.tooltipStore,Me=Z.currentTarget;si(),(xe.column!==le||!xe.visible)&&ua(Z,Me,Me.querySelector(".vxe-cell--item")||Me.children[0],null,ie)},handleTargetLeaveEvent:function(){var Z=We.value;S.tooltipActive=!1,Z.enterable?S.tooltipTimeout=setTimeout(function(){var ie=$.value;ie&&!ie.reactData.isHover&&k.closeTooltip()},Z.leaveDelay):k.closeTooltip()},triggerHeaderCellClickEvent:function(Z,ie){var le=S._lastResizeTime,xe=Rt.value,Me=Ye.value,Oe=ie.column,Be=Z.currentTarget,nt=le&&le>Date.now()-300,mt=getEventTargetNode(Z,Be,"vxe-cell--sort").flag,pt=getEventTargetNode(Z,Be,"vxe-cell--filter").flag;xe.trigger==="cell"&&!(nt||mt||pt)&&M.triggerSortEvent(Z,Oe,sr(Oe)),k.dispatchEvent("header-cell-click",Object.assign({triggerResizable:nt,triggerSort:mt,triggerFilter:pt,cell:Be},ie),Z),(Me.isCurrent||e.highlightCurrentColumn)&&k.setCurrentColumn(Oe)},triggerHeaderCellDblclickEvent:function(Z,ie){k.dispatchEvent("header-cell-dblclick",Object.assign({cell:Z.currentTarget},ie),Z)},triggerCellClickEvent:function(Z,ie){var le=e.highlightCurrentRow,xe=e.editConfig,Me=n.editStore,Oe=zt.value,Be=Mt.value,nt=Ct.value,mt=je.value,pt=tt.value,qt=De.value,Xt=Me.actived,dr=ie.row,$r=ie.column,lr=$r.type,en=$r.treeNode,Kr=lr==="radio",Wr=lr==="checkbox",Xr=lr==="expand",pn=Z.currentTarget,Dn=Kr&&getEventTargetNode(Z,pn,"vxe-cell--radio").flag,Zn=Wr&&getEventTargetNode(Z,pn,"vxe-cell--checkbox").flag,Cn=en&&getEventTargetNode(Z,pn,"vxe-tree--btn-wrapper").flag,ui=Xr&&getEventTargetNode(Z,pn,"vxe-table--expanded").flag;ie=Object.assign({cell:pn,triggerRadio:Dn,triggerCheckbox:Zn,triggerTreeNode:Cn,triggerExpandNode:ui},ie),!Zn&&!Dn&&(!ui&&(Oe.trigger==="row"||Xr&&Oe.trigger==="cell")&&M.triggerRowExpandEvent(Z,ie),(nt.trigger==="row"||en&&nt.trigger==="cell")&&M.triggerTreeExpandEvent(Z,ie)),Cn||(ui||((qt.isCurrent||le)&&!Zn&&!Dn&&M.triggerCurrentRowEvent(Z,ie),!Dn&&(mt.trigger==="row"||Kr&&mt.trigger==="cell")&&M.triggerRadioRowEvent(Z,ie),!Zn&&(pt.trigger==="row"||Wr&&pt.trigger==="cell")&&M.handleToggleCheckRowEvent(Z,ie)),isEnableConf(xe)&&(Be.trigger==="manual"?Xt.args&&Xt.row===dr&&$r!==Xt.column&&Lr(Z,ie):(!Xt.args||dr!==Xt.row||$r!==Xt.column)&&(Be.trigger==="click"||Be.trigger==="dblclick"&&Be.mode==="row"&&Xt.row===dr)&&Lr(Z,ie))),k.dispatchEvent("cell-click",ie,Z)},triggerCellDblclickEvent:function(Z,ie){var le=e.editConfig,xe=n.editStore,Me=Mt.value,Oe=xe.actived,Be=Z.currentTarget;ie=Object.assign({cell:Be},ie),isEnableConf(le)&&Me.trigger==="dblclick"&&(!Oe.args||Z.currentTarget!==Oe.args.cell)&&(Me.mode==="row"?Cr("blur").catch(function(nt){return nt}).then(function(){ve.handleActived(ie,Z).then(function(){return Cr("change")}).catch(function(nt){return nt})}):Me.mode==="cell"&&ve.handleActived(ie,Z).then(function(){return Cr("change")}).catch(function(nt){return nt})),k.dispatchEvent("cell-dblclick",ie,Z)},handleToggleCheckRowEvent:function(Z,ie){var le=n.selection,xe=tt.value,Me=xe.checkField,Oe=ie.row,Be=Me?!xeUtils.get(Oe,Me):ve.findRowIndexOf(le,Oe)===-1;Z?M.triggerCheckRowEvent(Z,ie,Be):M.handleSelectRow(ie,Be)},triggerCheckRowEvent:function(Z,ie,le){var xe=tt.value,Me=xe.checkMethod;(!Me||Me({row:ie.row}))&&(M.handleSelectRow(ie,le),k.dispatchEvent("checkbox-change",Object.assign({records:k.getCheckboxRecords(),reserves:k.getCheckboxReserveRecords(),indeterminates:k.getCheckboxIndeterminateRecords(),checked:le},ie),Z))},triggerCheckAllEvent:function(Z,ie){k.setAllCheckboxRow(ie),Z&&k.dispatchEvent("checkbox-all",{records:k.getCheckboxRecords(),reserves:k.getCheckboxReserveRecords(),indeterminates:k.getCheckboxIndeterminateRecords(),checked:ie},Z)},triggerRadioRowEvent:function(Z,ie){var le=n.selectRow,xe=ie.row,Me=je.value,Oe=xe,Be=le!==Oe;Be?k.setRadioRow(Oe):Me.strict||(Be=le===Oe,Be&&(Oe=null,k.clearRadioRow())),Be&&k.dispatchEvent("radio-change",__assign({oldValue:le,newValue:Oe},ie),Z)},triggerCurrentRowEvent:function(Z,ie){var le=n.currentRow,xe=ie.row,Me=le!==xe;k.setCurrentRow(xe),Me&&k.dispatchEvent("current-change",__assign({oldValue:le,newValue:xe},ie),Z)},triggerRowExpandEvent:function(Z,ie){var le=n.expandLazyLoadeds,xe=n.expandColumn,Me=zt.value,Oe=ie.row,Be=Me.lazy;if(!Be||ve.findRowIndexOf(le,Oe)===-1){var nt=!k.isExpandByRow(Oe),mt=k.getColumnIndex(xe),pt=k.getVMColumnIndex(xe);k.setRowExpand(Oe,nt),k.dispatchEvent("toggle-row-expand",{expanded:nt,column:xe,columnIndex:mt,$columnIndex:pt,row:Oe,rowIndex:k.getRowIndex(Oe),$rowIndex:k.getVMRowIndex(Oe)},Z)}},triggerTreeExpandEvent:function(Z,ie){var le=n.treeLazyLoadeds,xe=Ct.value,Me=ie.row,Oe=ie.column,Be=xe.lazy;if(!Be||ve.findRowIndexOf(le,Me)===-1){var nt=!k.isTreeExpandByRow(Me),mt=k.getColumnIndex(Oe),pt=k.getVMColumnIndex(Oe);k.setTreeExpand(Me,nt),k.dispatchEvent("toggle-tree-expand",{expanded:nt,column:Oe,columnIndex:mt,$columnIndex:pt,row:Me},Z)}},triggerSortEvent:function(Z,ie,le){var xe=Rt.value,Me=ie.property;if(ie.sortable){!le||ie.order===le?k.clearSort(xe.multiple?ie:null):k.sort({field:Me,order:le});var Oe={column:ie,property:Me,order:ie.order,sortList:k.getSortColumns()};k.dispatchEvent("sort-change",Oe,Z)}},triggerScrollXEvent:function(){jo()},triggerScrollYEvent:function(Z){var ie=S.scrollYStore,le=ie.adaptive,xe=ie.offsetSize,Me=ie.visibleSize;isWebkit&&le&&xe*2+Me<=40?yo(Z):ti(Z)},scrollToTreeRow:function(Z){var ie=e.treeConfig,le=S.tableFullData,xe=[];if(ie){var Me=Ct.value,Oe=xeUtils.findTree(le,function(nt){return ve.eqRow(nt,Z)},Me);if(Oe){var Be=Oe.nodes;Be.forEach(function(nt,mt){mt<Be.length-1&&!k.isTreeExpandByRow(nt)&&xe.push(k.setTreeExpand(nt,!0))})}}return Promise.all(xe).then(function(){return rowToVisible(ve,Z)})},updateScrollXSpace:function(){var Z=n.scrollXLoad,ie=n.scrollbarWidth,le=S.visibleColumn,xe=S.scrollXStore,Me=S.elemStore,Oe=S.tableWidth,Be=U.value,nt=q.value,mt=Y.value,pt=nt?nt.$el:null;if(pt){var qt=Be?Be.$el:null,Xt=mt?mt.$el:null,dr=qt?qt.querySelector(".vxe-table--header"):null,$r=pt.querySelector(".vxe-table--body"),lr=Xt?Xt.querySelector(".vxe-table--footer"):null,en=le.slice(0,xe.startIndex).reduce(function(Xr,pn){return Xr+pn.renderWidth},0),Kr="";Z&&(Kr=en+"px"),dr&&(dr.style.marginLeft=Kr),$r.style.marginLeft=Kr,lr&&(lr.style.marginLeft=Kr);var Wr=["main"];Wr.forEach(function(Xr){var pn=["header","body","footer"];pn.forEach(function(Dn){var Zn=Me[Xr+"-"+Dn+"-xSpace"];Zn&&(Zn.style.width=Z?Oe+(Dn==="header"?ie:0)+"px":"")})}),nextTick(Qt)}},updateScrollYSpace:function(){var Z=n.scrollYLoad,ie=S.scrollYStore,le=S.elemStore,xe=S.afterFullData,Me=ie.startIndex,Oe=ie.rowHeight,Be=xe.length*Oe,nt=Math.max(0,Me*Oe),mt=["main","left","right"],pt="",qt="";Z&&(pt=nt+"px",qt=Be+"px"),mt.forEach(function(Xt){var dr=["header","body","footer"],$r=le[Xt+"-body-table"];$r&&($r.style.marginTop=pt),dr.forEach(function(lr){var en=le[Xt+"-"+lr+"-ySpace"];en&&(en.style.height=qt)})}),nextTick(Qt)},updateScrollXData:function(){Fn(),M.updateScrollXSpace()},updateScrollYData:function(){M.handleTableData(),M.updateScrollYSpace()},checkScrolling:function(){var Z=ge.value,ie=Ce.value,le=q.value,xe=le?le.$el:null;xe&&(Z&&(xe.scrollLeft>0?addClass(Z,"scrolling--middle"):removeClass(Z,"scrolling--middle")),ie&&(xe.clientWidth<xe.scrollWidth-Math.ceil(xe.scrollLeft)?addClass(ie,"scrolling--middle"):removeClass(ie,"scrolling--middle")))},updateZindex:function(){e.zIndex?S.tZindex=e.zIndex:S.tZindex<getLastZIndex()&&(S.tZindex=nextZIndex())},updateCellAreas:function(){var Z=e.mouseConfig,ie=ut.value;Z&&ie.area&&ve.handleUpdateCellAreas&&ve.handleUpdateCellAreas()},triggerHoverEvent:function(Z,ie){var le=ie.row;M.setHoverRow(le)},setHoverRow:function(Z){var ie=getRowid(ve,Z),le=P.value;M.clearHoverRow(),le&&xeUtils.arrayEach(le.querySelectorAll('[rowid="'+ie+'"]'),function(xe){return addClass(xe,"row--hover")}),S.hoverRow=Z},clearHoverRow:function(){var Z=P.value;Z&&xeUtils.arrayEach(Z.querySelectorAll(".vxe-body--row.row--hover"),function(ie){return removeClass(ie,"row--hover")}),S.hoverRow=null},getCell:function(Z,ie){var le=getRowid(ve,Z),xe=q.value,Me=te.value,Oe=se.value,Be;return ie.fixed&&(ie.fixed==="left"?Me&&(Be=Me.$el):Oe&&(Be=Oe.$el)),Be||(Be=xe.$el),Be?Be.querySelector('.vxe-body--row[rowid="'+le+'"] .'+ie.id):null},getCellLabel:function(Z,ie){var le=ie.formatter,xe=getCellValue(Z,ie),Me=xe;if(le){var Oe=void 0,Be=S.fullAllDataRowIdData,nt=getRowid(ve,Z),mt=ie.id,pt=Be[nt];if(pt&&(Oe=pt.formatData,Oe||(Oe=Be[nt].formatData={}),pt&&Oe[mt]&&Oe[mt].value===xe))return Oe[mt].label;var qt={cellValue:xe,row:Z,rowIndex:k.getRowIndex(Z),column:ie,columnIndex:k.getColumnIndex(ie)};if(xeUtils.isString(le)){var Xt=VXETable.formats.get(le);Me=Xt?Xt(qt):""}else if(xeUtils.isArray(le)){var Xt=VXETable.formats.get(le[0]);Me=Xt?Xt.apply(void 0,__spreadArray([qt],le.slice(1))):""}else Me=le(qt);Oe&&(Oe[mt]={value:xe,label:Me})}return Me},findRowIndexOf:function(Z,ie){return ie?xeUtils.findIndexOf(Z,function(le){return ve.eqRow(le,ie)}):-1},eqRow:function(Z,ie){return Z&&ie?Z===ie?!0:getRowid(ve,Z)===getRowid(ve,ie):!1}},Object.assign(ve,k,M);var Mi=function(Z){var ie=e.showHeader,le=e.showFooter,xe=n.tableData,Me=n.tableColumn,Oe=n.tableGroupColumn,Be=n.columnStore,nt=n.footerTableData,mt=Z==="left",pt=mt?Be.leftList:Be.rightList;return h$1("div",{ref:mt?ge:Ce,class:"vxe-table--fixed-"+Z+"-wrapper"},[ie?h$1(resolveComponent("vxe-table-header"),{ref:mt?Q:oe,fixedType:Z,tableData:xe,tableColumn:Me,tableGroupColumn:Oe,fixedColumn:pt}):createCommentVNode(),h$1(TableBodyComponent,{ref:mt?te:se,fixedType:Z,tableData:xe,tableColumn:Me,fixedColumn:pt}),le?h$1(resolveComponent("vxe-table-footer"),{ref:mt?re:fe,footerTableData:nt,tableColumn:Me,fixedColumn:pt,fixedType:Z}):createCommentVNode()])},ho=function(){var Z=gr.value,ie={$table:ve};if(l.empty)return l.empty(ie);var le=Z.name?VXETable.renderer.get(Z.name):null,xe=le?le.renderEmpty:null;return xe?xe(Z,ie):getFuncText(e.emptyText)||GlobalConfig.i18n("vxe.table.emptyText")};function bo(){var Z=P.value;Z&&Z.clientWidth&&Z.clientHeight&&k.recalculate()}watch(function(){return e.data},function(Z){var ie=S.inited,le=S.initStatus;$n(Z||[]).then(function(){n.scrollXLoad,n.scrollYLoad,n.expandColumn,S.inited=!0,S.initStatus=!0,le||In(),ie||vi(),k.recalculate()})}),watch(function(){return n.staticColumns},function(Z){wi(Z)}),watch(function(){return n.tableColumn},function(){M.analyColumnWidth()}),watch(function(){return e.showHeader},function(){nextTick(function(){k.recalculate(!0).then(function(){return k.refreshScroll()})})}),watch(function(){return e.showFooter},function(){nextTick(function(){k.recalculate(!0).then(function(){return k.refreshScroll()})})}),watch(function(){return e.height},function(){nextTick(function(){return k.recalculate(!0)})}),watch(function(){return e.maxHeight},function(){nextTick(function(){return k.recalculate(!0)})}),watch(function(){return e.syncResize},function(Z){Z&&(bo(),nextTick(function(){bo(),setTimeout(function(){return bo()})}))}),watch(function(){return e.mergeCells},function(Z){k.clearMergeCells(),nextTick(function(){Z&&k.setMergeCells(Z)})}),watch(function(){return e.mergeFooterItems},function(Z){k.clearMergeFooterItems(),nextTick(function(){Z&&k.setMergeFooterItems(Z)})}),VXETable.hooks.forEach(function(Z){var ie=Z.setupTable;if(ie){var le=ie(ve);le&&xeUtils.isObject(le)&&Object.assign(ve,le)}}),M.preventEvent(null,"created",{$table:ve});var La;onActivated(function(){k.recalculate().then(function(){return k.refreshScroll()}),M.preventEvent(null,"activated",{$table:ve})}),onDeactivated(function(){S.isActivated=!1,M.preventEvent(null,"deactivated",{$table:ve})}),onMounted(function(){nextTick(function(){var Z=e.data;e.treeConfig,e.showOverflow;var ie=S.scrollXStore,le=S.scrollYStore,xe=ft.value;if(Mt.value,Ct.value,je.value,tt.value,zt.value,Object.assign(le,{startIndex:0,endIndex:0,visibleSize:0,adaptive:xe.adaptive!==!1}),Object.assign(ie,{startIndex:0,endIndex:0,visibleSize:0}),$n(Z||[]).then(function(){Z&&Z.length&&(S.inited=!0,S.initStatus=!0,In(),vi()),Qt()}),e.autoResize){var Me=P.value,Oe=M.getParentElem();La=createResizeEvent(function(){e.autoResize&&k.recalculate(!0)}),Me&&La.observe(Me),Oe&&La.observe(Oe)}}),GlobalEvent.on(ve,"paste",ki),GlobalEvent.on(ve,"copy",Ii),GlobalEvent.on(ve,"cut",Ra),GlobalEvent.on(ve,"mousedown",la),GlobalEvent.on(ve,"blur",Sa),GlobalEvent.on(ve,"mousewheel",Ki),GlobalEvent.on(ve,"keydown",Da),GlobalEvent.on(ve,"resize",Wi),ve.handleGlobalContextmenuEvent&&GlobalEvent.on(ve,"contextmenu",ve.handleGlobalContextmenuEvent),M.preventEvent(null,"mounted",{$table:ve})}),onBeforeUnmount(function(){La&&La.disconnect(),k.closeFilter(),ve.closeMenu&&ve.closeMenu(),M.preventEvent(null,"beforeUnmount",{$table:ve})}),onUnmounted(function(){GlobalEvent.off(ve,"paste"),GlobalEvent.off(ve,"copy"),GlobalEvent.off(ve,"cut"),GlobalEvent.off(ve,"mousedown"),GlobalEvent.off(ve,"blur"),GlobalEvent.off(ve,"mousewheel"),GlobalEvent.off(ve,"keydown"),GlobalEvent.off(ve,"resize"),GlobalEvent.off(ve,"contextmenu"),M.preventEvent(null,"unmounted",{$table:ve})});var Yo=function(){var Z,ie=e.loading,le=e.stripe,xe=e.showHeader,Me=e.height,Oe=e.treeConfig,Be=e.mouseConfig,nt=e.showFooter,mt=e.highlightCell,pt=e.highlightHoverRow,qt=e.highlightHoverColumn,Xt=e.editConfig,dr=n.isGroup,$r=n.overflowX,lr=n.overflowY,en=n.scrollXLoad,Kr=n.scrollYLoad,Wr=n.scrollbarHeight,Xr=n.tableData,pn=n.tableColumn,Dn=n.tableGroupColumn,Zn=n.footerTableData,Cn=n.initStore,ui=n.columnStore,yi=n.filterStore,oi=ui.leftList,Kn=ui.rightList,Un=We.value,Bn=Ct.value,Ai=De.value,da=Ye.value,Vo=u.value,_o=sn.value,Ko=ut.value,io=He.value,Jo=gt.value,Ji=or.value;return h$1("div",{ref:P,class:["vxe-table","vxe-table--render-default","tid_"+C,"border--"+_o,(Z={},Z["size--"+Vo]=Vo,Z["vxe-editable"]=!!Xt,Z["cell--highlight"]=mt,Z["cell--selected"]=Be&&Ko.selected,Z["cell--area"]=Be&&Ko.area,Z["row--highlight"]=Ai.isHover||pt,Z["column--highlight"]=da.isHover||qt,Z["is--header"]=xe,Z["is--footer"]=nt,Z["is--group"]=dr,Z["is--tree-line"]=Oe&&Bn.line,Z["is--fixed-left"]=oi.length,Z["is--fixed-right"]=Kn.length,Z["is--animat"]=!!e.animat,Z["is--round"]=e.round,Z["is--stripe"]=!Oe&&le,Z["is--loading"]=ie,Z["is--empty"]=!ie&&!Xr.length,Z["is--scroll-y"]=lr,Z["is--scroll-x"]=$r,Z["is--virtual-x"]=en,Z["is--virtual-y"]=Kr,Z)],onKeydown:uo},[h$1("div",{class:"vxe-table-slots"},l.default?l.default({}):[]),h$1("div",{class:"vxe-table--render-wrapper"},[h$1("div",{class:"vxe-table--main-wrapper"},[xe?h$1(resolveComponent("vxe-table-header"),{ref:U,tableData:Xr,tableColumn:pn,tableGroupColumn:Dn}):createCommentVNode(),h$1(TableBodyComponent,{ref:q,tableData:Xr,tableColumn:pn}),nt?h$1(resolveComponent("vxe-table-footer"),{ref:Y,footerTableData:Zn,tableColumn:pn}):createCommentVNode()]),h$1("div",{class:"vxe-table--fixed-wrapper"},[oi&&oi.length&&$r?Mi("left"):createCommentVNode(),Kn&&Kn.length&&$r?Mi("right"):createCommentVNode()])]),h$1("div",{ref:be,class:"vxe-table--empty-placeholder"},[h$1("div",{class:"vxe-table--empty-content"},ho())]),h$1("div",{class:"vxe-table--border-line"}),h$1("div",{ref:$e,class:"vxe-table--resizable-bar",style:$r?{"padding-bottom":Wr+"px"}:null}),h$1("div",{class:["vxe-table--loading vxe-loading",{"is--visible":ie}]},[h$1("div",{class:"vxe-loading--spinner"})]),Cn.filter?h$1(resolveComponent("vxe-table-filter"),{ref:V,filterStore:yi}):createCommentVNode(),Cn.import&&e.importConfig?h$1(resolveComponent("vxe-import-panel"),{defaultOptions:n.importParams,storeData:n.importStore}):createCommentVNode(),Cn.export&&(e.exportConfig||e.printConfig)?h$1(resolveComponent("vxe-export-panel"),{defaultOptions:n.exportParams,storeData:n.exportStore}):createCommentVNode(),Ji?h$1(resolveComponent("vxe-table-context-menu"),{ref:j}):createCommentVNode(),x?h$1(resolveComponent("vxe-tooltip"),{ref:R,isArrow:!1,enterable:!1}):createCommentVNode(),x&&e.editRules&&io.showMessage&&(io.message==="default"?!Me:io.message==="tooltip")?h$1(resolveComponent("vxe-tooltip"),__assign({ref:B,class:"vxe-table--valid-error"},io.message==="tooltip"||Xr.length===1?Jo:{})):createCommentVNode(),x?h$1(resolveComponent("vxe-tooltip"),__assign({ref:$},Un)):createCommentVNode()])};return ve.renderVN=Yo,provide("xecolgroup",null),provide("$xetable",ve),ve},render:function(){return this.renderVN()}}),Table=Object.assign(VxeTableComponent,{install:function(e){dynamicApp.component(VxeTableComponent.name,VxeTableComponent),e.component(VxeTableComponent.name,VxeTableComponent)}}),style$z="",style$y="",style$x="",style$w="",style$v="",style$u="",style$t="",style$s="",style$r="",style$q="",style$p="",style$o="",style$n="",style$m="",style$l="",style$k="",style$j="",style$i="",style$h="",style$g="",style$f="",style$e="",style$d="",style$c="",style$b="",style$a="",style$9="",style$8="",style$7="",style$6="",style$5="",style$4="",style$3="",style$2="",style$1="";VXETable.setup({size:"medium",version:0,zIndex:1002,table:{autoResize:!0,highlightHoverRow:!0},input:{clearable:!0}});function useTable(e){e.use(Header).use(Footer).use(Icon).use(Filter).use(Edit).use(Menu).use(Export).use(Keyboard).use(Validator).use(Column).use(Colgroup).use(Grid).use(Tooltip).use(Toolbar).use(Pager).use(Form).use(FormItem).use(FormGather).use(Checkbox).use(CheckboxGroup).use(Radio).use(RadioGroup).use(RadioButton).use(Switch).use(Input).use(Select).use(Optgroup).use(Option).use(Textarea).use(Button).use(Modal).use(List).use(Pulldown).use(Table)}var elTag="",elAffix="",elSkeleton="",elSkeletonItem="",elBreadcrumb="",elBreadcrumbItem="",elScrollbar="",elCol="",elRow="",elSpace="",elSteps="",elStep="",elDivider="",elCard="",elDropdown="",elPopper="",elDialog="",elMenu="",elTooltip="",elDropdownItem="",elDropdownMenu="",elIcon="",elForm="",elFormItem="",elOption="",elOptionGroup="",elSelect="",elPopover="",elDrawer="",elPagination="",elAlert="",elRadio="",elRadioButton="",elRadioGroup="",elDescriptions="",elDescriptionsItem="",elBacktop="",elSwitch="",elBadge="",elTabs="",elTabPane="",elAvatar="",elEmpty="",elCollapse="",elCollapseItem="",elTree="",elCheckbox="",elUpload="",elProgress="",elLoading="",elInfiniteScroll="",elCheckboxButton="",elCheckboxGroup="",elTimePicker="",elSlider="",elInputNumber="",elHeader="",elAside="",elMain="",elContainer="",elFooter="",elButtonGroup="",elPageHeader="",elImage="",elImageViewer="",elColorPicker="";const plugins=[ElLoading,ElInfiniteScroll],components$1=[ElTag,ElAffix,ElSkeleton,ElBreadcrumb,ElBreadcrumbItem,ElScrollbar,ElSubMenu,ElButton,ElSteps,ElStep,ElCol,ElRow,ElSpace,ElDivider,ElCard,ElDropdown,ElDialog,ElMenu,ElMenuItem,ElDropdownItem,ElDropdownMenu,ElIcon,ElInput,ElForm,ElFormItem,ElSelect,ElOption,ElPopover,ElPopper,ElTooltip,ElDrawer,ElPagination,ElAlert,ElRadio,ElRadioButton,ElRadioGroup,ElDescriptions,ElDescriptionsItem,ElBacktop,ElSwitch,ElBadge,ElTabs,ElTabPane,ElAvatar,ElEmpty,ElCollapse,ElCollapseItem,ElTreeV2,ElUpload,ElCheckboxButton,ElCheckbox,ElCheckboxGroup,ElTimePicker,ElSlider,ElHeader,ElAside,ElMain,ElContainer,ElButtonGroup,ElTree,ElInputNumber,ElMessageBox,ElPageHeader,ElImage,ElColorPicker];function useElementPlus(e){components$1.forEach(r=>{e.component(r.name,r)}),plugins.forEach(r=>{e.use(r)})}var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,r,l)=>r in e?__defProp(e,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[r]=l,__spreadValues=(e,r)=>{for(var l in r||(r={}))__hasOwnProp.call(r,l)&&__defNormalProp(e,l,r[l]);if(__getOwnPropSymbols)for(var l of __getOwnPropSymbols(r))__propIsEnum.call(r,l)&&__defNormalProp(e,l,r[l]);return e},Storage=class{constructor(e,r="responsive",l={}){this.nameSpace="",this.options={},this.storage={},this._getKey=n=>this.nameSpace+n;const g=this;this.nameSpace=`${r}-`,this.options=l;const x=Object.keys(window.localStorage).filter(n=>new RegExp(`^${this.nameSpace}`).test(n)).reduce((n,S)=>Object.assign(n,{[S.replace(this.nameSpace,"")]:window.localStorage[S]}),{}),C=[[String,""],[Boolean,!1],[Number,0],[Array,[]],[Object,{}]],u=this.typeMap=new Map(C);let f=reactive(this.storage=__spreadValues(__spreadValues({},Object.keys(l).reduce((n,S)=>{const{type:k,default:M}=l[S];return k?Object.assign(n,{[S]:M===void 0?u.get(k):M}):(warn("type of the field 'key' is required!"),n)},{})),x));Object.keys(f).length===0&&warn("responsive key can not be empty empty!"),Object.keys(f).forEach(n=>{try{const S=f[n];this.set(n,S)}catch(S){console.log(S)}Reflect.defineProperty(f,n,{get:()=>g.get(n),set:S=>g.set(n,S),configurable:!0})}),Reflect.defineProperty(e.config.globalProperties,"$storage",{get:()=>f}),Reflect.defineProperty(e.config.globalProperties,"$storager",{get:()=>g}),e.storage=f,e.storager=g}static clearAll(e="responsive",r){Object.keys(r).forEach(l=>{const g=`${e}-${l}`;Object.prototype.hasOwnProperty.call(window.localStorage,g)&&window.localStorage.removeItem(g)})}static install(e,r,l){return typeof r=="object"&&(l=r,r="responsive"),Storage.clearAll(r,l),new Storage(e,r,l)}static getData(e="responsive",r){const l=`${e}-${r}`;if(Object.prototype.hasOwnProperty.call(window.localStorage,l)){let g=window.localStorage.getItem(l);try{g=JSON.parse(g)}catch(x){console.log(x,g)}return g}}get(e){let r=window.localStorage.getItem(this._getKey(e));try{r=JSON.parse(r)}catch(l){warn(l)}return r}set(e,r){try{r=typeof r=="object"?JSON.stringify(r):r,window.localStorage.setItem(this._getKey(e),r)}catch{warn("storage setting fail, please check the value")}}remove(e){window.localStorage.removeItem(this._getKey(e))}clear(){Object.keys(this.storage).forEach(e=>{const r=this._getKey(e);Object.prototype.hasOwnProperty.call(window.localStorage,r)&&window.localStorage.removeItem(r)})}};const injectResponsiveStorage=(e,r)=>{var g,x,C,u,f,n,S,k,M,P,$,R,B,V;const l=Object.assign({layout:{type:Object,default:(n=Storage.getData(void 0,"layout"))!=null?n:{layout:(g=r.Layout)!=null?g:"vertical",theme:(x=r.Theme)!=null?x:"default",darkMode:(C=r.DarkMode)!=null?C:!1,sidebarStatus:(u=r.SidebarStatus)!=null?u:!0,epThemeColor:(f=r.EpThemeColor)!=null?f:"#409EFF"}},configure:{type:Object,default:(B=Storage.getData(void 0,"configure"))!=null?B:{grey:(S=r.Grey)!=null?S:!1,weak:(k=r.Weak)!=null?k:!1,hideTabs:(M=r.HideTabs)!=null?M:!1,showLogo:(P=r.ShowLogo)!=null?P:!0,showModel:($=r.ShowModel)!=null?$:"smart",multiTagsCache:(R=r.MultiTagsCache)!=null?R:!1}}},r.MultiTagsCache?{tags:{type:Array,default:(V=Storage.getData(void 0,"tags"))!=null?V:[{path:"/welcome",parentPath:"/",meta:{title:"\u9996\u9875",icon:"home-filled"}}]}}:{});e.use(Storage,l)};var SvgIcon_vue_vue_type_style_index_0_scoped_true_lang="";const _sfc_main=defineComponent({name:"SvgIcon",props:{prefix:{type:String,default:"icon"},name:{type:String,required:!0},color:{type:String,default:"#333"},width:{type:Number,default:32},height:{type:Number,default:32}},setup(e){const r=computed(()=>`#${e.prefix}-${e.name}`),l=computed(()=>`--width: ${e.width}px; --height: ${e.height}px;`);return{symbolId:r,iconSize:l}}}),_hoisted_1=["href","fill"];function _sfc_render(e,r,l,g,x,C){return openBlock(),createElementBlock("svg",{"aria-hidden":"true",class:"svg-icon-component",style:normalizeStyle(e.iconSize)},[createBaseVNode("use",{href:e.symbolId,fill:e.color},null,8,_hoisted_1)],4)}var SvgIcon=_export_sfc(_sfc_main,[["render",_sfc_render],["__scopeId","data-v-df27f566"]]);const components=[SvgIcon],install=e=>{components.forEach(r=>{e.component(r.name,r)})};var animate="",windi="",index$1="",index="",style="";(function(e){var r,l,g,x,C,u='<svg><symbol id="team-icontabs" viewBox="0 0 1024 1024"><path d="M376.6 494.8c5.1 4.8 7.9 11.7 7.6 18.7 0.4 7.1-2.5 14-7.6 18.7-5.3 4.7-12.3 7.2-19.3 6.9h-69.6v235.1c0.2 7.4-2.9 14.4-8.4 19.1-5.5 5.4-12.9 8.3-20.5 8.1-7.6 0.3-15.1-2.7-20.5-8.1-5.3-4.9-8.2-11.9-8.1-19.1v-235H161c-7.2 0.3-14.2-2.3-19.3-7.3-5.2-4.8-8-11.7-7.6-18.7-0.3-7 2.5-13.7 7.6-18.3 5.3-4.8 12.2-7.3 19.3-7h198.4c6.3 0 12.4 2.5 17.2 6.9z m215.7 70.1c5.2 5.1 8 12.2 7.7 19.6v189.9c0.3 7.2-2.5 14.2-7.7 19.1-4.8 5.3-11.7 8.3-18.9 8.1-7.1 0.1-13.9-2.7-18.9-7.7-4.8-5.2-7.6-12-7.6-19.1-18 19.5-42.9 30.8-69.2 31.4-19.7 0.3-38.9-5.3-55.5-15.9-17.2-10.7-31.2-26.1-40.3-44.4-19.3-40.4-19.3-87.6 0-128 8.9-18.4 22.9-33.8 40.3-44.4 16-10.5 34.8-16.1 53.9-15.9 26.3-0.1 51.8 9.8 71.2 27.7-0.2-7.3 2.6-14.4 7.7-19.6 10.6-10.2 27.2-10.2 37.8 0l-0.5-0.8z m-61.2 168.7c24.1-31.6 24.1-75.6 0-107.2-11.5-14.3-28.9-22.3-47.1-21.6-17.9-0.5-35.1 7.4-46.3 21.6-12.1 15-18.5 34-18.1 53.4-0.6 19.5 5.7 38.6 17.7 53.8 11.6 13.9 28.8 21.7 46.7 21.2 18.1 0.4 35.3-7.4 47.1-21.2zM835.4 573c17.1 10.7 31 25.9 40.3 44 9.9 19.8 14.9 41.8 14.5 64 0.4 22.3-4.6 44.4-14.5 64.4-9 18.3-23 33.7-40.3 44.4-16 10.6-34.8 16.1-53.9 15.9-13.9 0.2-27.7-2.9-40.3-9-11.6-5-22.1-12.2-31-21.2v2.8c0.2 7.2-2.5 14.2-7.5 19.4-5 5.1-11.9 8-19.1 7.9-7.1 0.3-14-2.5-18.9-7.7-5.2-5.1-8-12.2-7.6-19.6V497.2c-0.2-7.3 2.5-14.4 7.6-19.6 10.6-10.3 27.2-10.3 37.8 0 5.1 5.2 7.9 12.2 7.6 19.6v93.3c8-9.8 18-17.7 29.4-23.2 12.4-6.8 26.2-10.3 40.3-10.2 19.7-0.2 39 5.3 55.6 15.9z m-15.7 163c12.2-15.1 18.6-34.3 18.1-53.8 0.6-19.4-5.7-38.3-17.7-53.4-12-13.4-29-21.1-46.9-21.1s-34.9 7.7-46.9 21.1c-24.1 31.6-24.1 75.6 0 107.2 11.6 14.1 29 22.1 47.1 21.6 18.3-0.2 35.4-9.1 46.3-24v2.4zM708.1 253.5c-15.5 0-28-12.5-28-28V113.4c-0.1-8 0-15.9 0-23.8V77.9c0-15.5 12.5-28 28-28H886c17 0 32.9 6.6 45 18.6 11.3 11.3 17.8 26 18.6 41.8 0.1 0.7 0.1 1.4 0.1 2.1v113.2c0 15.5-12.5 28-28 28H708.1z m28-56h157.4v-84.1c0-2-0.8-3.9-2.2-5.4-1.4-1.4-3.4-2.2-5.4-2.2H736.1v91.7zM371.9 254.6c-15.5 0-28-12.5-28-28V78.9c0-15.4 12.5-27.9 27.9-28l213.4-1.1h0.1c17 0 32.9 6.6 45 18.6 12 12.1 18.6 28 18.6 45v113.2c0 15.5-12.5 28-28 28h-249z m28-56.1h193v-85.2c0-2-0.8-3.9-2.2-5.4-1.4-1.4-3.3-2.2-5.3-2.2l-185.5 0.9v91.9z"  ></path><path d="M72.4 974.2c-17.3 0-33.5-6.7-45.7-18.7-12.2-12.1-18.9-28.1-18.9-45.1V113.6c0-35.2 29-63.8 64.6-63.8h169c17.3 0 33.5 6.6 45.7 18.7 12.2 12 18.9 28.1 18.9 45.1V283c0 2 0.8 3.9 2.3 5.4 1.5 1.4 3.4 2.2 5.4 2.2h637.9c17.3 0 33.5 6.6 45.7 18.7 12.2 12 18.9 28 18.9 45.1v556c0 17.1-6.7 33.1-18.9 45.1s-28.4 18.7-45.7 18.7H72.4z m7.7-860.6c-4.3 0-7.7 3.4-7.7 7.6v788.7c0 2 0.8 4 2.3 5.4 1.4 1.4 3.4 2.2 5.4 2.2h871.5c2.1 0 4-0.8 5.4-2.2 1.5-1.4 2.3-3.3 2.3-5.4V350.6c0-2-0.8-3.9-2.2-5.3-1.5-1.5-3.4-2.3-5.4-2.3h-638c-17.3 0-33.5-6.7-45.7-18.7-12.2-12-18.9-28.1-18.9-45.1V121.1c0-2-0.8-3.9-2.3-5.4-1.4-1.4-3.4-2.2-5.4-2.2H80.1z"  ></path></symbol><symbol id="team-iconlogo" viewBox="0 0 1024 1024"><path d="M410.558481 0.10861C410.558481 211.083075 109.682285 361.860579 109.682285 633.656511c0 174.943176 134.703259 316.787527 300.876196 316.787527s300.876197-141.817198 300.876197-316.787527C711.407525 361.751969 410.558481 210.974465 410.558481 0.10861z" fill="#386BF3" ></path><path d="M613.468671 73.664572c0 211.055922-300.876197 361.914883-300.876196 633.547901 0 174.943176 134.703259 316.787527 300.876196 316.787527s300.876197-141.817198 300.876197-316.787527c-0.054305-271.633018-300.876197-422.491979-300.876197-633.547901z" fill="#C3D2FB" ></path><path d="M312.592475 707.212473c0-183.713414 137.635722-312.171612 226.72288-441.390078 81.701694 106.111739 172.119322 218.740063 172.119323 367.725506a309.755045 309.755045 0 0 1-291.074166 316.516003 323.114046 323.114046 0 0 1-107.768037-242.851431z" fill="#303F5B" ></path></symbol><symbol id="team-iconxinpin" viewBox="0 0 1024 1024"><path d="M535.7 180.1l-107.9 95.2-145.3 7.2-7.2 145.4-95.2 107.9 95.1 107.8 9.1 143.6 143.5 9 107.9 95.2 107.9-95.2 145.3-7.2 7.2-145.4 95.2-107.8-95.2-107.9-8.9-143.6-143.6-9z" fill="#FFECA0" ></path><path d="M197 356c-0.4 7.6-0.7 15.1-1.1 22.7 2.4-5.9 4.9-11.8 7.3-17.7l-83.4 94.5c-3.9 4.5-7.9 8.9-11.8 13.4-9.4 10.6-9.4 24.7 0 35.4l83.4 94.5c3.9 4.5 7.9 8.9 11.8 13.4-2.4-5.9-4.9-11.8-7.3-17.7 2.6 41.9 5.3 83.9 7.9 125.8 0.4 5.9 0.7 11.9 1.1 17.8 0.9 14.1 10.8 24.1 25 25 41.9 2.6 83.8 5.3 125.8 7.9 5.9 0.4 11.8 0.7 17.8 1.1-5.9-2.4-11.8-4.9-17.7-7.3l94.5 83.4c4.5 3.9 8.9 7.9 13.4 11.8 10.6 9.4 24.7 9.4 35.4 0l94.5-83.4c4.5-3.9 8.9-7.9 13.4-11.8-5.9 2.4-11.8 4.9-17.7 7.3l127.5-6.3c6-0.3 11.9-0.6 17.9-0.9 14-0.7 24.3-10.9 25-25l6.3-127.5c0.3-6 0.6-11.9 0.9-17.9-2.4 5.9-4.9 11.8-7.3 17.7l83.4-94.5c3.9-4.5 7.9-8.9 11.8-13.4 9.4-10.6 9.4-24.7 0-35.4l-83.4-94.5c-3.9-4.5-7.9-8.9-11.8-13.4 2.4 5.9 4.9 11.8 7.3 17.7-2.6-41.9-5.2-83.9-7.8-125.8-0.4-5.9-0.7-11.9-1.1-17.8-0.9-14.1-10.8-24.1-25-25-41.9-2.6-83.9-5.2-125.8-7.9-5.9-0.4-11.9-0.7-17.8-1.1 5.9 2.4 11.8 4.9 17.7 7.3L512.6 125c-4.5-3.9-8.9-7.9-13.4-11.8-10.6-9.4-24.7-9.4-35.4 0l-94.5 83.4c-4.5 3.9-8.9 7.9-13.4 11.8 5.9-2.4 11.8-4.9 17.7-7.3l-127.5 6.3c-6 0.3-11.9 0.6-17.9 0.9-14 0.7-24.3 10.9-25 25-0.7 13.2-1.3 26.5-2 39.7-0.6 13.1 12 25.6 25 25 14.1-0.6 24.3-11 25-25 0.7-13.2 1.3-26.5 2-39.7l-25 25 127.5-6.3c5.9-0.3 11.8-0.5 17.7-0.9 7.8-0.5 13.4-3.5 19-8.3 2.1-1.8 4.2-3.7 6.3-5.5 18.5-16.3 37-32.7 55.5-49 15-13.2 30-26.5 45-39.7h-35.4c31.8 28 63.5 56 95.3 84.1 4.2 3.7 8.3 7.4 12.5 11 5.9 5.1 12.1 7 19.6 7.5 2.9 0.2 5.9 0.4 8.8 0.5 24.5 1.5 49.1 3.1 73.6 4.6 19.8 1.2 39.6 2.5 59.4 3.7l-25-25c2.6 42.3 5.3 84.5 7.9 126.8 0.3 5.5 0.6 11.1 1 16.6 0.6 7.8 3.6 13.5 8.6 19.2 1.9 2.2 3.9 4.4 5.8 6.6 16.3 18.4 32.5 36.9 48.8 55.3 13.1 14.9 26.3 29.8 39.4 44.6v-35.4c-28.2 31.9-56.3 63.8-84.5 95.8-3.5 4-7.2 8-10.6 12.1-5.1 6-7.1 12.4-7.5 19.9-0.2 3-0.3 6.1-0.5 9.1-1.2 24.9-2.5 49.8-3.7 74.7-1 19.8-2 39.5-2.9 59.3l25-25-127.5 6.3c-5.9 0.3-11.8 0.5-17.7 0.9-7.8 0.5-13.4 3.5-19 8.3-2.1 1.8-4.2 3.7-6.3 5.5-18.5 16.3-37 32.7-55.5 49-15 13.2-30 26.5-45 39.7h35.4c-31.8-28-63.5-56.1-95.3-84.1-4.2-3.7-8.3-7.4-12.5-11-5.9-5.1-12.1-7-19.6-7.5-2.9-0.2-5.9-0.4-8.8-0.5-24.5-1.5-49-3.1-73.5-4.6-19.8-1.2-39.6-2.5-59.4-3.7l25 25c-2.7-42.3-5.3-84.5-8-126.8-0.3-5.5-0.6-11.1-1-16.6-0.6-7.8-3.6-13.5-8.6-19.2-1.9-2.2-3.9-4.4-5.8-6.6-16.3-18.4-32.5-36.8-48.8-55.3-13.1-14.9-26.2-29.7-39.4-44.6v35.4c30.2-34.2 60.3-68.4 90.5-102.6 1.5-1.7 3.1-3.5 4.6-5.3 5.3-6.2 7.1-12.7 7.5-20.6 0.3-6.6 0.7-13.2 1-19.9 0.6-13.1-12-25.6-25-25-14.2 0.8-24.4 11.2-25.1 25.2z" fill="#92646E" ></path><path d="M314.7 589v-61-97.4-22.5c-15.5 4.2-31.1 8.4-46.6 12.6 9.5 20.4 19 40.7 28.4 61.1l45.3 97.5c3.5 7.5 7 15 10.4 22.4 4.4 9.5 18.5 14.6 28.2 11.5 10.5-3.4 18.4-12.8 18.4-24.1v-61-97.4-22.5c0-13.1-11.5-25.6-25-25-13.5 0.6-25 11-25 25v180.9c15.5-4.2 31.1-8.4 46.6-12.6-9.5-20.4-19-40.7-28.4-61.1l-45.3-97.5c-3.5-7.5-7-15-10.4-22.4-4.4-9.5-18.5-14.6-28.2-11.5-10.5 3.4-18.4 12.8-18.4 24.1V589c0 13.1 11.5 25.6 25 25 13.5-0.6 25-11 25-25zM521.7 383h-84.2c-13.5 0-25 11.5-25 25v178.9c0 13.5 11.5 25 25 25h84.2c13.1 0 25.6-11.5 25-25-0.6-13.5-11-25-25-25h-84.2l25 25v-60.5V430v-22l-25 25h84.2c13.1 0 25.6-11.5 25-25-0.6-13.6-11-25-25-25z" fill="#4381FF" ></path><path d="M502 469.4c-21.5 0.1-43 0.3-64.5 0-13.1-0.2-25.6 11.6-25 25 0.6 13.7 11 24.8 25 25 21.5 0.3 43 0.1 64.5 0 13.1-0.1 25.6-11.4 25-25-0.6-13.5-11-25.1-25-25zM558.2 408v180.9c0 10.6 7.7 21.7 18.4 24.1 10.9 2.5 22.4-1.7 28.2-11.5 15.6-26.4 31.2-52.8 46.9-79.2 2.2-3.8 4.5-7.6 6.7-11.4h-43.2c15.6 26.4 31.2 52.8 46.9 79.2 2.2 3.8 4.5 7.6 6.7 11.4 5.4 9.2 17.7 14.9 28.2 11.5 10.5-3.4 18.4-12.8 18.4-24.1v-61-97.4V408c0-13.1-11.5-25.6-25-25-13.5 0.6-25 11-25 25v180.9c15.5-4.2 31.1-8.4 46.6-12.6-15.6-26.4-31.2-52.8-46.9-79.2-2.2-3.8-4.5-7.6-6.7-11.4-9.6-16.2-33.6-16.2-43.2 0-15.6 26.4-31.2 52.8-46.9 79.2-2.2 3.8-4.5 7.6-6.7 11.4 15.5 4.2 31.1 8.4 46.6 12.6v-61-97.4V408c0-13.1-11.5-25.6-25-25-13.5 0.6-25 10.9-25 25z" fill="#4381FF" ></path><path d="M295.9 572v-61-97.4-22.5c-15.5 4.2-31.1 8.4-46.6 12.6 9.5 20.4 19 40.7 28.4 61.1l45.3 97.5c3.5 7.5 7 15 10.4 22.4 4.4 9.5 18.5 14.6 28.2 11.5 10.5-3.4 18.4-12.8 18.4-24.1v-61-97.4-22.5c0-13.1-11.5-25.6-25-25-13.5 0.6-25 11-25 25v180.9c15.5-4.2 31.1-8.4 46.6-12.6-9.5-20.4-19-40.7-28.4-61.1l-45.3-97.5c-3.5-7.5-7-15-10.4-22.4-4.4-9.5-18.5-14.6-28.2-11.5-10.5 3.4-18.4 12.8-18.4 24.1V572c0 13.1 11.5 25.6 25 25 13.6-0.6 25-11 25-25zM502.9 365.9h-84.2c-13.5 0-25 11.5-25 25v178.9c0 13.5 11.5 25 25 25h84.2c13.1 0 25.6-11.5 25-25-0.6-13.5-11-25-25-25h-84.2l25 25v-60.5-96.4-22l-25 25h84.2c13.1 0 25.6-11.5 25-25-0.6-13.5-11-25-25-25z" fill="#FF642E" ></path><path d="M483.2 452.4c-21.5 0.1-43 0.3-64.5 0-13.1-0.2-25.6 11.6-25 25 0.6 13.7 11 24.8 25 25 21.5 0.3 43 0.1 64.5 0 13.1-0.1 25.6-11.4 25-25-0.6-13.5-11-25.1-25-25zM539.5 390.9v180.9c0 10.6 7.7 21.7 18.4 24.1 10.9 2.5 22.4-1.7 28.2-11.5 15.6-26.4 31.2-52.8 46.9-79.2 2.2-3.8 4.5-7.6 6.7-11.4h-43.2c15.6 26.4 31.2 52.8 46.9 79.2 2.2 3.8 4.5 7.6 6.7 11.4 5.4 9.2 17.7 14.9 28.2 11.5 10.5-3.4 18.4-12.8 18.4-24.1v-61-97.4-22.5c0-13.1-11.5-25.6-25-25-13.5 0.6-25 11-25 25v180.9c15.5-4.2 31.1-8.4 46.6-12.6-15.6-26.4-31.2-52.8-46.9-79.2-2.2-3.8-4.5-7.6-6.7-11.4-9.6-16.2-33.6-16.2-43.2 0-15.6 26.4-31.2 52.8-46.9 79.2-2.2 3.8-4.5 7.6-6.7 11.4 15.5 4.2 31.1 8.4 46.6 12.6v-61-97.4-22.5c0-13.1-11.5-25.6-25-25-13.6 0.7-25 11-25 25z" fill="#FF642E" ></path></symbol><symbol id="team-iconxinpinrenqiwang" viewBox="0 0 1024 1024"><path d="M460.5 189.8l-37.9 290.6c39.1 23 89.1 48.5 149.3 70.8 62.8 23.3 119.6 36.9 165.6 44.9 145-183.5 167.7-255.3 161.1-245.3-11.9 18.2-70.6 23.2-86.7 17.4-32.2-11.5-60.8-42.7-74.3-92.5-16.9-62.2-49.5-57.5-107.6-24.3-67 38.1-138.2 5-169.5-61.6z" fill="#FFFFFF" ></path><path d="M435.5 189.8c-4.3 32.8-8.6 65.7-12.9 98.5l-20.4 156.3c-1.6 11.9-3.1 23.9-4.7 35.8-1.1 8.4 5.5 17.6 12.4 21.6 79.4 46.5 165.7 81.9 255 104.3 21.8 5.5 43.8 10.1 65.9 14 8.2 1.4 18.6 0.8 24.3-6.4C802.7 553.7 849.2 492 889 426.2c9-14.9 17.7-30 25.2-45.7 2.8-5.8 5.4-11.8 7.8-17.8 1.5-3.8 2.7-8.1 2.6-12.2-0.5-13.7-10.8-25.4-25.1-25.4-9.6 0-17 5.2-22.1 12.9-2.2 3.2 3.8-3.9 1.8-2.4-0.5 0.4-1 0.9-1.4 1.3-1.5 1.7-3.8 1.3 2.9-2.1-1.4 0.7-2.7 1.8-4.1 2.6-1.3 0.7-2.6 1.3-3.8 1.9-3.8 1.9 6.3-2.4 2.2-1-0.7 0.2-1.3 0.5-2 0.7-3.5 1.2-7.1 2.2-10.7 3.1-3.8 0.9-7.7 1.6-11.5 2.3-6.4 1 6.1-0.7-0.4 0.1-1.9 0.2-3.9 0.4-5.8 0.6-7 0.6-14 0.8-21 0.3-2.6-0.2-8-1.6 1.6 0.4-1.2-0.2-2.4-0.4-3.6-0.7-0.8-0.2-1.6-0.4-2.4-0.7-0.9-0.3-1.8-0.7-2.7-1-3.9-1.4 5.8 2.7 1.7 0.7-3.4-1.6-6.7-3.2-9.9-5.1-1.5-0.9-3.1-1.9-4.5-2.9l-3-2.1c-1.6-1.2-4.2-4.2 1.2 0.9-2.7-2.6-5.8-4.9-8.5-7.5-3.4-3.4-6.2-7.5-9.7-10.8 0.2 0.2 3.8 5.1 1.4 1.8-0.7-0.9-1.4-1.9-2-2.8-1.2-1.7-2.4-3.5-3.5-5.3-2.8-4.3-5.3-8.8-7.6-13.4-1-2-2-4.1-3-6.2-0.2-0.5-0.4-0.9-0.6-1.4-1.1-2.5-0.8-1.9 0.7 1.6 0.1-0.4-1.1-2.9-1.2-3-2-5.1-3.7-10.4-5.3-15.6-3.1-10.5-6.4-20.7-11-30.6-7.8-16.5-20.7-29.7-37.9-36-15-5.5-32.3-3.5-47.2 1.2-18.4 5.8-35.1 15.3-51.9 24.4-2.3 1.2-4.5 2.4-6.9 3.5-0.6 0.3-5.3 2.1-1.1 0.6 4.1-1.6-0.5 0.2-1.1 0.4-4.5 1.7-9.1 3.2-13.7 4.4-2.3 0.6-4.5 1.1-6.8 1.5-0.9 0.2-1.8 0.3-2.7 0.5-5.1 0.9 6.4-0.6 1.2-0.2-4.5 0.4-9 0.7-13.5 0.6-2.2 0-4.4-0.1-6.7-0.3-0.9-0.1-1.8-0.2-2.6-0.2-4.9-0.4 5.4 0.9 2.1 0.3-4.5-0.9-9.1-1.6-13.5-2.9-4-1.1-7.9-2.7-11.8-4.1-3.1-1.1 6 2.8 1.7 0.7-0.8-0.4-1.6-0.7-2.4-1.1-2.4-1.2-4.7-2.4-7.1-3.7-3.5-2-6.9-4.2-10.2-6.5-1.1-0.8-2.1-1.7-3.3-2.4 0.3 0.2 4.9 4 1.8 1.4-1.9-1.6-3.9-3.2-5.7-4.9-3.3-3-6.4-6.1-9.3-9.3-1.6-1.7-3.1-3.5-4.6-5.3-0.6-0.7-1.1-1.6-1.8-2.2 5 5 1.3 1.6 0-0.1-5.6-7.8-10.4-16-14.4-24.7-5.6-11.8-23.5-15.9-34.2-9-12.2 7.9-15 21.5-9 34.2 18 37.9 49.7 68.5 89.3 82.7 17.7 6.4 37.7 8.8 56.4 6.6 10.9-1.3 21.6-3.2 32-7 11-4 21.1-9.2 31.2-14.8 7.8-4.3 16.2-9.7 24.7-12.4-0.1 0-6.2 2.5-2.6 1.1 0.9-0.4 1.8-0.7 2.8-1.1 1.6-0.6 3.2-1.2 4.9-1.8 3.3-1.1 6.7-2.1 10.2-2.9 1.6-0.3 3.2-0.5 4.8-0.9-8.7 2.1-3.9 0.5-1.2 0.4 1.3-0.1 2.6-0.1 3.9 0 0.7 0 1.4 0.1 2.1 0.1 3.7 0.1-6.9-1.5-3.4-0.4 1.3 0.4 2.6 0.6 3.9 1 0.5 0.2 1 0.4 1.5 0.5 3.5 1-5.8-2.8-3.4-1.4 1.1 0.6 2.2 1.1 3.2 1.7 0.6 0.4 1.1 0.8 1.7 1.1 2.2 1.3-5.7-4.8-2.4-1.8 1 0.9 2 1.8 2.9 2.7 2.2 2.3 3.3 5.7-0.3-0.8 1.7 3 3.9 5.7 5.5 8.8 0.9 1.7 1.6 3.5 2.5 5.2-3.9-7.5-0.5-1.2 0.3 1.1 1.6 4.5 3 9.2 4.3 13.8 5.8 20.6 14.6 41.1 27.2 58.5 11.8 16.2 25.9 30.5 43.4 40.5 7.3 4.2 15.4 8.3 23.6 10.2 7.3 1.7 15.1 2.3 22.6 2.3 16.7 0.1 34.2-2 50.2-6.7 7.8-2.3 15.8-5.2 22.7-9.5 7.5-4.7 11.2-9.6 16.7-16.2-4 4.8-3.3 5.1-8.5 8.5-3 1.9-8.8 3.6-12.5 3.4-2.1-0.6-4.2-1.1-6.3-1.7-6.7-0.7-11.8-4.2-15.2-10.6-2.1-3.6-3.5-8.5-3.4-12.3 0-0.3 2-9.1 0.5-4.7-0.4 1.2-0.8 2.4-1.3 3.6-0.3 0.7-0.6 1.5-0.9 2.2-1.2 3.1 3.3-7.5 1.8-4.3-0.2 0.5-0.4 1-0.7 1.5-5.9 13.3-12.9 26-20.2 38.6-33.6 58.2-73.5 112.8-114.4 165.9-0.8 1-1.5 2-2.3 2.9-2.7 3.6 0 0 0.5-0.6-1.9 2.5-3.9 5-5.8 7.5-4 5.2-8.1 10.3-12.1 15.4 8.1-2.1 16.2-4.3 24.3-6.4-41.9-7.4-83.2-17.6-123.7-30.5-23.5-7.5-46.6-15.9-69.4-25.2-2.6-1-5.1-2.1-7.7-3.2-5.6-2.3 3.6 1.6 0.1 0l-4.2-1.8c-5.4-2.4-10.9-4.8-16.3-7.2-9.8-4.4-19.5-9.1-29.2-13.8-19.9-9.8-39.4-20.4-58.5-31.6 4.1 7.2 8.3 14.4 12.4 21.6 4.3-32.8 8.6-65.7 12.9-98.5l20.4-156.3c1.6-11.9 3.1-23.9 4.7-35.8 0.8-5.9-3.3-13.7-7.3-17.7-4.3-4.3-11.5-7.6-17.7-7.3-6.5 0.3-13.2 2.4-17.7 7.3-4.6 5.3-6.2 10.8-7.1 17.8z" fill="#FFCB40" ></path><path d="M494.5 451.4c54.1 36 115 62.3 178.3 76.9 12.7 2.9 27.7-3.9 30.8-17.5 2.9-12.8-3.8-27.6-17.5-30.8-15-3.5-29.9-7.6-44.6-12.4-7.3-2.4-14.6-4.9-21.8-7.7-3.9-1.5-7.8-3-11.6-4.5-1.7-0.7-3.3-1.3-4.9-2-4.7-2 4.6 2-1.4-0.6-28.6-12.4-56-27.4-82-44.7-10.9-7.3-28.1-2.5-34.2 9-6.7 12.6-2.7 26.5 8.9 34.3z" fill="#FFCB40" ></path><path d="M209.1 759.6v-82.5-130.9V516c-15.5 4.2-31.1 8.4-46.6 12.6 13 27.5 26 55.1 38.9 82.6 20.5 43.5 41.1 87.1 61.6 130.6 4.8 10.1 9.5 20.2 14.3 30.2 4.5 9.5 18.4 14.7 28.2 11.5 10.5-3.4 18.4-12.8 18.4-24.1v-82.5V546v-30.2c0-13.1-11.5-25.6-25-25-13.5 0.6-25 11-25 25v243.6c15.5-4.2 31.1-8.4 46.6-12.6-13-27.5-26-55.1-38.9-82.6-20.5-43.5-41.1-87.1-61.6-130.6-4.8-10.1-9.5-20.2-14.3-30.2-4.5-9.5-18.4-14.7-28.2-11.5-10.5 3.4-18.4 12.8-18.4 24.1v243.6c0 13.1 11.5 25.6 25 25 13.6-0.6 25-11 25-25zM500.4 491.1H385.6c-13.5 0-25 11.5-25 25v240.7c0 13.5 11.5 25 25 25h114.8c13.1 0 25.6-11.5 25-25-0.6-13.5-11-25-25-25H385.6l25 25v-81.1-129.9-29.7l-25 25h114.8c13.1 0 25.6-11.5 25-25-0.6-13.5-11-25-25-25z" fill="#4381FF" ></path><path d="M473.5 607.3c-29.3 0.2-58.6 0.5-87.9 0-13.1-0.2-25.6 11.6-25 25 0.6 13.7 11 24.8 25 25 29.3 0.5 58.6 0.2 87.9 0 13.1-0.1 25.6-11.4 25-25-0.6-13.5-10.9-25.1-25-25zM559.3 516.1v243.6c0 10.6 7.7 21.7 18.4 24.1 10.9 2.5 22.3-1.7 28.2-11.5 21.3-35.5 42.6-71 64-106.6 3-5.1 6.1-10.1 9.1-15.2h-43.2c21.3 35.5 42.6 71 64 106.6 3 5.1 6.1 10.1 9.1 15.2 5.5 9.1 17.7 14.9 28.2 11.5 10.5-3.4 18.4-12.8 18.4-24.1v-82.5-130.9-30.2c0-13.1-11.5-25.6-25-25-13.5 0.6-25 11-25 25v243.6c15.5-4.2 31.1-8.4 46.6-12.6-21.3-35.5-42.6-71-64-106.6-3-5.1-6.1-10.1-9.1-15.2-9.7-16.2-33.5-16.2-43.2 0-21.3 35.5-42.6 71-64 106.6-3 5.1-6.1 10.1-9.1 15.2 15.5 4.2 31.1 8.4 46.6 12.6v-82.5-130.9-30.2c0-13.1-11.5-25.6-25-25-13.5 0.6-25 11-25 25z" fill="#4381FF" ></path><path d="M185.8 736.7v-82.5-130.9-30.2c-15.5 4.2-31.1 8.4-46.6 12.6 13 27.4 25.9 54.8 38.9 82.3 20.7 43.7 41.4 87.4 62 131.1 4.7 10 9.5 20.1 14.2 30.1 4.5 9.5 18.4 14.7 28.2 11.5 10.5-3.4 18.4-12.8 18.4-24.1v-82.5-130.9V493c0-13.1-11.5-25.6-25-25-13.5 0.6-25 11-25 25v243.6c15.5-4.2 31.1-8.4 46.6-12.6-13-27.4-25.9-54.8-38.9-82.3-20.7-43.7-41.4-87.4-62-131.1-4.7-10-9.5-20.1-14.2-30.1-4.5-9.5-18.4-14.7-28.2-11.5-10.5 3.4-18.4 12.8-18.4 24.1v243.6c0 13.1 11.5 25.6 25 25 13.5-0.6 25-11 25-25zM478.2 468.2H363c-13.5 0-25 11.5-25 25v240.7c0 13.5 11.5 25 25 25h115.2c13.1 0 25.6-11.5 25-25-0.6-13.5-11-25-25-25H363l25 25v-81.1-129.9-29.7l-25 25h115.2c13.1 0 25.6-11.5 25-25-0.6-13.5-11-25-25-25z" fill="#FF642E" ></path><path d="M451.2 584.4c-29.4 0.2-58.9 0.5-88.3 0-13.1-0.2-25.6 11.6-25 25 0.6 13.7 11 24.8 25 25 29.4 0.5 58.9 0.2 88.3 0 13.1-0.1 25.6-11.4 25-25-0.6-13.5-10.9-25-25-25zM537.4 493.2v243.6c0 10.6 7.7 21.7 18.4 24.1 10.9 2.5 22.3-1.7 28.2-11.5 21.4-35.6 42.8-71.1 64.3-106.7 3-5 6-10 9.1-15h-43.2c21.4 35.6 42.8 71.1 64.3 106.7 3 5 6 10 9.1 15 5.5 9.1 17.7 14.9 28.2 11.5 10.5-3.4 18.4-12.8 18.4-24.1v-82.5-130.9-30.2c0-13.1-11.5-25.6-25-25-13.5 0.6-25 11-25 25v243.6c15.5-4.2 31.1-8.4 46.6-12.6-21.4-35.6-42.8-71.1-64.3-106.7-3-5-6-10-9.1-15-9.7-16.2-33.4-16.2-43.2 0-21.4 35.6-42.8 71.1-64.3 106.7-3 5-6 10-9.1 15 15.5 4.2 31.1 8.4 46.6 12.6v-82.5-130.9-30.2c0-13.1-11.5-25.6-25-25-13.5 0.6-25 11-25 25z" fill="#FF642E" ></path><path d="M645.2 832.6h85.2" fill="#FFFFFF" ></path><path d="M645.2 857.6h85.3c13.1 0 25.6-11.5 25-25-0.6-13.5-11-25-25-25h-85.3c-13.1 0-25.6 11.5-25 25 0.6 13.5 11 25 25 25z" fill="#FFCB40" ></path><path d="M557.7 832.6h6.5" fill="#FFFFFF" ></path><path d="M557.7 857.6h6.5c3.4 0.1 6.7-0.6 9.6-2.2 3.1-1 5.8-2.7 8-5.2 2.4-2.3 4.2-4.9 5.2-8 1.6-3 2.3-6.2 2.2-9.6l-0.9-6.6c-1.2-4.2-3.3-7.9-6.4-11-4.9-4.5-10.9-7.3-17.7-7.3h-6.5c-3.4-0.1-6.7 0.6-9.6 2.2-3.1 1-5.8 2.7-8 5.2-2.4 2.3-4.2 4.9-5.2 8-1.6 3-2.3 6.2-2.2 9.6l0.9 6.6c1.2 4.2 3.3 7.9 6.4 11 4.9 4.5 10.9 7.3 17.7 7.3z" fill="#FFCB40" ></path></symbol><symbol id="team-iconexit-fullscreen" viewBox="0 0 1024 1024"><path d="M366.2 181.8c-1-8-10.8-11.4-16.5-5.7l-53.1 53.1L134.2 67c-3.8-3.8-10-3.8-13.7 0L69 118.3c-3.8 3.8-3.8 10 0 13.7l162.4 162.4-53.3 53.3c-5.7 5.7-2.3 15.5 5.7 16.5l194.6 23c6.2 0.7 11.5-4.5 10.8-10.8l-23-194.6z m12.3 453.3l-194.7 23c-8 1-11.4 10.8-5.7 16.5l53.3 53.3L69 890.1c-3.8 3.8-3.8 10 0 13.7l51.5 51.4c3.8 3.8 10 3.8 13.7 0l162.4-162.3 53.1 53.1c5.7 5.7 15.5 2.3 16.5-5.7l23-194.4c0.7-6.3-4.5-11.5-10.7-10.8z m269.4-248l194.7-23c8-1 11.4-10.8 5.7-16.5L795 294.4l162.4-162.3c3.8-3.8 3.8-10 0-13.7L905.9 67c-3.8-3.8-10-3.8-13.7 0L729.7 229.2l-53.1-53.1c-5.7-5.7-15.6-2.3-16.5 5.7l-23 194.5c-0.6 6.3 4.6 11.5 10.8 10.8zM795 727.8l53.3-53.3c5.7-5.7 2.3-15.5-5.7-16.5L648 635c-6.2-0.7-11.5 4.5-10.8 10.8l23 194.6c1 8 10.8 11.4 16.5 5.7l53.1-53.1 162.4 162.3c3.8 3.8 10 3.8 13.7 0l51.5-51.4c3.8-3.8 3.8-10 0-13.7L795 727.8z m0 0" fill="#515151" ></path></symbol><symbol id="team-iconfullscreen" viewBox="0 0 1024 1024"><path d="M229.8 163l55.7-55.7c6-6 2.4-16.2-6-17.2l-203.2-24c-6.5-0.8-12 4.7-11.3 11.3l24 203.2c1 8.4 11.3 11.9 17.2 6l55.4-55.4 169.6 169.4c3.9 3.9 10.4 3.9 14.3 0l53.8-53.6c3.9-3.9 3.9-10.4 0-14.3L229.8 163z m447.3 237.6c3.9 3.9 10.4 3.9 14.3 0L861 231.1l55.4 55.4c6 6 16.2 2.4 17.2-6l24-203c0.8-6.5-4.7-12-11.3-11.3l-203.2 24c-8.4 1-11.9 11.3-6 17.2l55.7 55.7-169.5 169.4c-3.9 3.9-3.9 10.4 0 14.3l53.8 53.8z m256.6 343.9c-1-8.4-11.3-11.9-17.2-6L861 794 691.4 624.5c-3.9-3.9-10.4-3.9-14.3 0l-53.8 53.6c-3.9 3.9-3.9 10.4 0 14.3L792.9 862l-55.7 55.7c-6 6-2.4 16.2 6 17.2l203.2 24c6.5 0.8 12-4.7 11.3-11.3l-24-203.1z m-588.1-120c-3.9-3.9-10.4-3.9-14.3 0L161.7 794l-55.4-55.4c-6-6-16.2-2.4-17.2 6l-24 203c-0.8 6.5 4.7 12.1 11.3 11.3l203.2-24c8.4-1 11.9-11.3 6-17.2l-55.7-55.5 169.6-169.4c3.9-3.9 3.9-10.4 0-14.3l-53.9-54z m0 0" fill="#515151" ></path></symbol></svg>',f=(f=document.getElementsByTagName("script"))[f.length-1].getAttribute("data-injectcss"),n=function(M,P){P.parentNode.insertBefore(M,P)};if(f&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(M){console&&console.log(M)}}function S(){C||(C=!0,g())}function k(){try{x.documentElement.doScroll("left")}catch{return void setTimeout(k,50)}S()}r=function(){var M,P;(P=document.createElement("div")).innerHTML=u,u=null,(M=P.getElementsByTagName("svg")[0])&&(M.setAttribute("aria-hidden","true"),M.style.position="absolute",M.style.width=0,M.style.height=0,M.style.overflow="hidden",P=M,(M=document.body).firstChild?n(P,M.firstChild):M.appendChild(P))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(r,0):(l=function(){document.removeEventListener("DOMContentLoaded",l,!1),r()},document.addEventListener("DOMContentLoaded",l,!1)):document.attachEvent&&(g=r,x=e.document,C=!1,k(),x.onreadystatechange=function(){x.readyState=="complete"&&(x.onreadystatechange=null,S())})})(window);var iconfont="",_default="";const auth={mounted(e,r){const{value:l}=r;if(l){const g=l;usePermissionStoreHook().buttonAuth.includes(g)||e.parentNode.removeChild(e)}else throw new Error(`need roles! Like v-auth="['admin','test']"`)}};var collectionUtils={exports:{}},utils$3=collectionUtils.exports={};utils$3.forEach=function(e,r){for(var l=0;l<e.length;l++){var g=r(e[l]);if(g)return g}};var elementUtils=function(e){var r=e.stateHandler.getState;function l(u){var f=r(u);return f&&!!f.isDetectable}function g(u){r(u).isDetectable=!0}function x(u){return!!r(u).busy}function C(u,f){r(u).busy=!!f}return{isDetectable:l,markAsDetectable:g,isBusy:x,markBusy:C}},listenerHandler=function(e){var r={};function l(u){var f=e.get(u);return f===void 0?[]:r[f]||[]}function g(u,f){var n=e.get(u);r[n]||(r[n]=[]),r[n].push(f)}function x(u,f){for(var n=l(u),S=0,k=n.length;S<k;++S)if(n[S]===f){n.splice(S,1);break}}function C(u){var f=l(u);!f||(f.length=0)}return{get:l,add:g,removeListener:x,removeAllListeners:C}},idGenerator=function(){var e=1;function r(){return e++}return{generate:r}},idHandler=function(e){var r=e.idGenerator,l=e.stateHandler.getState;function g(C){var u=l(C);return u&&u.id!==void 0?u.id:null}function x(C){var u=l(C);if(!u)throw new Error("setId required the element to have a resize detection state.");var f=r.generate();return u.id=f,f}return{get:g,set:x}},reporter=function(e){function r(){}var l={log:r,warn:r,error:r};if(!e&&window.console){var g=function(x,C){x[C]=function(){var f=console[C];if(f.apply)f.apply(console,arguments);else for(var n=0;n<arguments.length;n++)f(arguments[n])}};g(l,"log"),g(l,"warn"),g(l,"error")}return l},browserDetector$2={exports:{}},detector=browserDetector$2.exports={};detector.isIE=function(e){function r(){var g=navigator.userAgent.toLowerCase();return g.indexOf("msie")!==-1||g.indexOf("trident")!==-1||g.indexOf(" edge/")!==-1}if(!r())return!1;if(!e)return!0;var l=function(){var g,x=3,C=document.createElement("div"),u=C.getElementsByTagName("i");do C.innerHTML="<!--[if gt IE "+ ++x+"]><i></i><![endif]-->";while(u[0]);return x>4?x:g}();return e===l};detector.isLegacyOpera=function(){return!!window.opera};var utils$2={exports:{}},utils$1=utils$2.exports={};utils$1.getOption=getOption$1;function getOption$1(e,r,l){var g=e[r];return g==null&&l!==void 0?l:g}var utils=utils$2.exports,batchProcessor=function e(r){r=r||{};var l=r.reporter,g=utils.getOption(r,"async",!0),x=utils.getOption(r,"auto",!0);x&&!g&&(l&&l.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),g=!0);var C=Batch(),u,f=!1;function n(R,B){!f&&x&&g&&C.size()===0&&M(),C.add(R,B)}function S(){for(f=!0;C.size();){var R=C;C=Batch(),R.process()}f=!1}function k(R){f||(R===void 0&&(R=g),u&&(P(u),u=null),R?M():S())}function M(){u=$(S)}function P(R){var B=clearTimeout;return B(R)}function $(R){var B=function(V){return setTimeout(V,0)};return B(R)}return{add:n,force:k}};function Batch(){var e={},r=0,l=0,g=0;function x(f,n){n||(n=f,f=0),f>l?l=f:f<g&&(g=f),e[f]||(e[f]=[]),e[f].push(n),r++}function C(){for(var f=g;f<=l;f++)for(var n=e[f],S=0;S<n.length;S++){var k=n[S];k()}}function u(){return r}return{add:x,process:C,size:u}}var prop="_erd";function initState(e){return e[prop]={},getState(e)}function getState(e){return e[prop]}function cleanState(e){delete e[prop]}var stateHandler$1={initState,getState,cleanState},browserDetector$1=browserDetector$2.exports,object=function(e){e=e||{};var r=e.reporter,l=e.batchProcessor,g=e.stateHandler.getState;if(!r)throw new Error("Missing required dependency: reporter.");function x(S,k){function M(){k(S)}if(browserDetector$1.isIE(8))g(S).object={proxy:M},S.attachEvent("onresize",M);else{var P=f(S);if(!P)throw new Error("Element is not detectable by this strategy.");P.contentDocument.defaultView.addEventListener("resize",M)}}function C(S){var k=e.important?" !important; ":"; ";return(S.join(k)+k).trim()}function u(S,k,M){M||(M=k,k=S,S=null),S=S||{},S.debug;function P($,R){var B=C(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),V=!1,j=window.getComputedStyle($),U=$.offsetWidth,q=$.offsetHeight;g($).startSize={width:U,height:q};function Y(){function Q(){if(j.position==="static"){$.style.setProperty("position","relative",S.important?"important":"");var oe=function(se,fe,ge,Ce){function $e(ke){return ke.replace(/[^-\d\.]/g,"")}var be=ge[Ce];be!=="auto"&&$e(be)!=="0"&&(se.warn("An element that is positioned static has style."+Ce+"="+be+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Ce+" will be set to 0. Element: ",fe),fe.style.setProperty(Ce,"0",S.important?"important":""))};oe(r,$,j,"top"),oe(r,$,j,"right"),oe(r,$,j,"bottom"),oe(r,$,j,"left")}}function te(){V||Q();function oe(fe,ge){if(!fe.contentDocument){var Ce=g(fe);Ce.checkForObjectDocumentTimeoutId&&window.clearTimeout(Ce.checkForObjectDocumentTimeoutId),Ce.checkForObjectDocumentTimeoutId=setTimeout(function(){Ce.checkForObjectDocumentTimeoutId=0,oe(fe,ge)},100);return}ge(fe.contentDocument)}var se=this;oe(se,function(ge){R($)})}j.position!==""&&(Q(),V=!0);var re=document.createElement("object");re.style.cssText=B,re.tabIndex=-1,re.type="text/html",re.setAttribute("aria-hidden","true"),re.onload=te,browserDetector$1.isIE()||(re.data="about:blank"),!!g($)&&($.appendChild(re),g($).object=re,browserDetector$1.isIE()&&(re.data="about:blank"))}l?l.add(Y):Y()}browserDetector$1.isIE(8)?M(k):P(k,M)}function f(S){return g(S).object}function n(S){if(!!g(S)){var k=f(S);!k||(browserDetector$1.isIE(8)?S.detachEvent("onresize",k.proxy):S.removeChild(k),g(S).checkForObjectDocumentTimeoutId&&window.clearTimeout(g(S).checkForObjectDocumentTimeoutId),delete g(S).object)}}return{makeDetectable:u,addListener:x,uninstall:n}},forEach$1=collectionUtils.exports.forEach,scroll=function(e){e=e||{};var r=e.reporter,l=e.batchProcessor,g=e.stateHandler.getState;e.stateHandler.hasState;var x=e.idHandler;if(!l)throw new Error("Missing required dependency: batchProcessor");if(!r)throw new Error("Missing required dependency: reporter.");var C=k(),u="erd_scroll_detection_scrollbar_style",f="erd_scroll_detection_container";function n(Y){M(Y,u,f)}n(window.document);function S(Y){var Q=e.important?" !important; ":"; ";return(Y.join(Q)+Q).trim()}function k(){var Y=500,Q=500,te=document.createElement("div");te.style.cssText=S(["position: absolute","width: "+Y*2+"px","height: "+Q*2+"px","visibility: hidden","margin: 0","padding: 0"]);var re=document.createElement("div");re.style.cssText=S(["position: absolute","width: "+Y+"px","height: "+Q+"px","overflow: scroll","visibility: none","top: "+-Y*3+"px","left: "+-Q*3+"px","visibility: hidden","margin: 0","padding: 0"]),re.appendChild(te),document.body.insertBefore(re,document.body.firstChild);var oe=Y-re.clientWidth,se=Q-re.clientHeight;return document.body.removeChild(re),{width:oe,height:se}}function M(Y,Q,te){function re(ge,Ce){Ce=Ce||function(be){Y.head.appendChild(be)};var $e=Y.createElement("style");return $e.innerHTML=ge,$e.id=Q,Ce($e),$e}if(!Y.getElementById(Q)){var oe=te+"_animation",se=te+"_animation_active",fe=`/* Created by the element-resize-detector library. */
`;fe+="."+te+" > div::-webkit-scrollbar { "+S(["display: none"])+` }

`,fe+="."+se+" { "+S(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+oe,"animation-name: "+oe])+` }
`,fe+="@-webkit-keyframes "+oe+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,fe+="@keyframes "+oe+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",re(fe)}}function P(Y){Y.className+=" "+f+"_animation_active"}function $(Y,Q,te){if(Y.addEventListener)Y.addEventListener(Q,te);else if(Y.attachEvent)Y.attachEvent("on"+Q,te);else return r.error("[scroll] Don't know how to add event listeners.")}function R(Y,Q,te){if(Y.removeEventListener)Y.removeEventListener(Q,te);else if(Y.detachEvent)Y.detachEvent("on"+Q,te);else return r.error("[scroll] Don't know how to remove event listeners.")}function B(Y){return g(Y).container.childNodes[0].childNodes[0].childNodes[0]}function V(Y){return g(Y).container.childNodes[0].childNodes[0].childNodes[1]}function j(Y,Q){var te=g(Y).listeners;if(!te.push)throw new Error("Cannot add listener to an element that is not detectable.");g(Y).listeners.push(Q)}function U(Y,Q,te){te||(te=Q,Q=Y,Y=null),Y=Y||{};function re(){if(Y.debug){var gt=Array.prototype.slice.call(arguments);if(gt.unshift(x.get(Q),"Scroll: "),r.log.apply)r.log.apply(null,gt);else for(var Mt=0;Mt<gt.length;Mt++)r.log(gt[Mt])}}function oe(gt){function Mt(Rt){var Jt=Rt.getRootNode&&Rt.getRootNode().contains(Rt);return Rt===Rt.ownerDocument.body||Rt.ownerDocument.body.contains(Rt)||Jt}return!Mt(gt)||window.getComputedStyle(gt)===null}function se(gt){var Mt=g(gt).container.childNodes[0],Rt=window.getComputedStyle(Mt);return!Rt.width||Rt.width.indexOf("px")===-1}function fe(){var gt=window.getComputedStyle(Q),Mt={};return Mt.position=gt.position,Mt.width=Q.offsetWidth,Mt.height=Q.offsetHeight,Mt.top=gt.top,Mt.right=gt.right,Mt.bottom=gt.bottom,Mt.left=gt.left,Mt.widthCSS=gt.width,Mt.heightCSS=gt.height,Mt}function ge(){var gt=fe();g(Q).startSize={width:gt.width,height:gt.height},re("Element start size",g(Q).startSize)}function Ce(){g(Q).listeners=[]}function $e(){if(re("storeStyle invoked."),!g(Q)){re("Aborting because element has been uninstalled");return}var gt=fe();g(Q).style=gt}function be(gt,Mt,Rt){g(gt).lastWidth=Mt,g(gt).lastHeight=Rt}function ke(gt){return B(gt).childNodes[0]}function Ee(){return 2*C.width+1}function He(){return 2*C.height+1}function rt(gt){return gt+10+Ee()}function ft(gt){return gt+10+He()}function bt(gt){return gt*2+Ee()}function Ye(gt){return gt*2+He()}function De(gt,Mt,Rt){var Jt=B(gt),ut=V(gt),Ht=rt(Mt),cr=ft(Rt),Vt=bt(Mt),Ne=Ye(Rt);Jt.scrollLeft=Ht,Jt.scrollTop=cr,ut.scrollLeft=Vt,ut.scrollTop=Ne}function at(){var gt=g(Q).container;if(!gt){gt=document.createElement("div"),gt.className=f,gt.style.cssText=S(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),g(Q).container=gt,P(gt),Q.appendChild(gt);var Mt=function(){g(Q).onRendered&&g(Q).onRendered()};$(gt,"animationstart",Mt),g(Q).onAnimationStart=Mt}return gt}function Ut(){function gt(){var Ct=g(Q).style;if(Ct.position==="static"){Q.style.setProperty("position","relative",Y.important?"important":"");var gr=function(Mr,Br,sn,Hr){function cn(ve){return ve.replace(/[^-\d\.]/g,"")}var Ve=sn[Hr];Ve!=="auto"&&cn(Ve)!=="0"&&(Mr.warn("An element that is positioned static has style."+Hr+"="+Ve+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Hr+" will be set to 0. Element: ",Br),Br.style[Hr]=0)};gr(r,Q,Ct,"top"),gr(r,Q,Ct,"right"),gr(r,Q,Ct,"bottom"),gr(r,Q,Ct,"left")}}function Mt(Ct,gr,Mr,Br){return Ct=Ct?Ct+"px":"0",gr=gr?gr+"px":"0",Mr=Mr?Mr+"px":"0",Br=Br?Br+"px":"0",["left: "+Ct,"top: "+gr,"right: "+Br,"bottom: "+Mr]}if(re("Injecting elements"),!g(Q)){re("Aborting because element has been uninstalled");return}gt();var Rt=g(Q).container;Rt||(Rt=at());var Jt=C.width,ut=C.height,Ht=S(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),cr=S(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(Mt(-(1+Jt),-(1+ut),-ut,-Jt))),Vt=S(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),Ne=S(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),ot=S(["position: absolute","left: 0","top: 0"]),Tt=S(["position: absolute","width: 200%","height: 200%"]),St=document.createElement("div"),jt=document.createElement("div"),or=document.createElement("div"),xr=document.createElement("div"),st=document.createElement("div"),yt=document.createElement("div");St.dir="ltr",St.style.cssText=Ht,St.className=f,jt.className=f,jt.style.cssText=cr,or.style.cssText=Vt,xr.style.cssText=ot,st.style.cssText=Ne,yt.style.cssText=Tt,or.appendChild(xr),st.appendChild(yt),jt.appendChild(or),jt.appendChild(st),St.appendChild(jt),Rt.appendChild(St);function Ft(){var Ct=g(Q);Ct&&Ct.onExpand?Ct.onExpand():re("Aborting expand scroll handler: element has been uninstalled")}function zt(){var Ct=g(Q);Ct&&Ct.onShrink?Ct.onShrink():re("Aborting shrink scroll handler: element has been uninstalled")}$(or,"scroll",Ft),$(st,"scroll",zt),g(Q).onExpandScroll=Ft,g(Q).onShrinkScroll=zt}function je(){function gt(Vt,Ne,ot){var Tt=ke(Vt),St=rt(Ne),jt=ft(ot);Tt.style.setProperty("width",St+"px",Y.important?"important":""),Tt.style.setProperty("height",jt+"px",Y.important?"important":"")}function Mt(Vt){var Ne=Q.offsetWidth,ot=Q.offsetHeight,Tt=Ne!==g(Q).lastWidth||ot!==g(Q).lastHeight;re("Storing current size",Ne,ot),be(Q,Ne,ot),l.add(0,function(){if(!!Tt){if(!g(Q)){re("Aborting because element has been uninstalled");return}if(!Rt()){re("Aborting because element container has not been initialized");return}if(Y.debug){var jt=Q.offsetWidth,or=Q.offsetHeight;(jt!==Ne||or!==ot)&&r.warn(x.get(Q),"Scroll: Size changed before updating detector elements.")}gt(Q,Ne,ot)}}),l.add(1,function(){if(!g(Q)){re("Aborting because element has been uninstalled");return}if(!Rt()){re("Aborting because element container has not been initialized");return}De(Q,Ne,ot)}),Tt&&Vt&&l.add(2,function(){if(!g(Q)){re("Aborting because element has been uninstalled");return}if(!Rt()){re("Aborting because element container has not been initialized");return}Vt()})}function Rt(){return!!g(Q).container}function Jt(){function Vt(){return g(Q).lastNotifiedWidth===void 0}re("notifyListenersIfNeeded invoked");var Ne=g(Q);if(Vt()&&Ne.lastWidth===Ne.startSize.width&&Ne.lastHeight===Ne.startSize.height)return re("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(Ne.lastWidth===Ne.lastNotifiedWidth&&Ne.lastHeight===Ne.lastNotifiedHeight)return re("Not notifying: Size already notified");re("Current size not notified, notifying..."),Ne.lastNotifiedWidth=Ne.lastWidth,Ne.lastNotifiedHeight=Ne.lastHeight,forEach$1(g(Q).listeners,function(ot){ot(Q)})}function ut(){if(re("startanimation triggered."),se(Q)){re("Ignoring since element is still unrendered...");return}re("Element rendered.");var Vt=B(Q),Ne=V(Q);(Vt.scrollLeft===0||Vt.scrollTop===0||Ne.scrollLeft===0||Ne.scrollTop===0)&&(re("Scrollbars out of sync. Updating detector elements..."),Mt(Jt))}function Ht(){if(re("Scroll detected."),se(Q)){re("Scroll event fired while unrendered. Ignoring...");return}Mt(Jt)}if(re("registerListenersAndPositionElements invoked."),!g(Q)){re("Aborting because element has been uninstalled");return}g(Q).onRendered=ut,g(Q).onExpand=Ht,g(Q).onShrink=Ht;var cr=g(Q).style;gt(Q,cr.width,cr.height)}function tt(){if(re("finalizeDomMutation invoked."),!g(Q)){re("Aborting because element has been uninstalled");return}var gt=g(Q).style;be(Q,gt.width,gt.height),De(Q,gt.width,gt.height)}function We(){te(Q)}function Gt(){re("Installing..."),Ce(),ge(),l.add(0,$e),l.add(1,Ut),l.add(2,je),l.add(3,tt),l.add(4,We)}re("Making detectable..."),oe(Q)?(re("Element is detached"),at(),re("Waiting until element is attached..."),g(Q).onRendered=function(){re("Element is now attached"),Gt()}):Gt()}function q(Y){var Q=g(Y);!Q||(Q.onExpandScroll&&R(B(Y),"scroll",Q.onExpandScroll),Q.onShrinkScroll&&R(V(Y),"scroll",Q.onShrinkScroll),Q.onAnimationStart&&R(Q.container,"animationstart",Q.onAnimationStart),Q.container&&Y.removeChild(Q.container))}return{makeDetectable:U,addListener:j,uninstall:q,initDocument:n}},forEach=collectionUtils.exports.forEach,elementUtilsMaker=elementUtils,listenerHandlerMaker=listenerHandler,idGeneratorMaker=idGenerator,idHandlerMaker=idHandler,reporterMaker=reporter,browserDetector=browserDetector$2.exports,batchProcessorMaker=batchProcessor,stateHandler=stateHandler$1,objectStrategyMaker=object,scrollStrategyMaker=scroll;function isCollection(e){return Array.isArray(e)||e.length!==void 0}function toArray(e){if(Array.isArray(e))return e;var r=[];return forEach(e,function(l){r.push(l)}),r}function isElement(e){return e&&e.nodeType===1}var elementResizeDetector=function(e){e=e||{};var r;if(e.idHandler)r={get:function(U){return e.idHandler.get(U,!0)},set:e.idHandler.set};else{var l=idGeneratorMaker(),g=idHandlerMaker({idGenerator:l,stateHandler});r=g}var x=e.reporter;if(!x){var C=x===!1;x=reporterMaker(C)}var u=getOption(e,"batchProcessor",batchProcessorMaker({reporter:x})),f={};f.callOnAdd=!!getOption(e,"callOnAdd",!0),f.debug=!!getOption(e,"debug",!1);var n=listenerHandlerMaker(r),S=elementUtilsMaker({stateHandler}),k,M=getOption(e,"strategy","object"),P=getOption(e,"important",!1),$={reporter:x,batchProcessor:u,stateHandler,idHandler:r,important:P};if(M==="scroll"&&(browserDetector.isLegacyOpera()?(x.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),M="object"):browserDetector.isIE(9)&&(x.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),M="object")),M==="scroll")k=scrollStrategyMaker($);else if(M==="object")k=objectStrategyMaker($);else throw new Error("Invalid strategy name: "+M);var R={};function B(U,q,Y){function Q(ge){var Ce=n.get(ge);forEach(Ce,function(be){be(ge)})}function te(ge,Ce,$e){n.add(Ce,$e),ge&&$e(Ce)}if(Y||(Y=q,q=U,U={}),!q)throw new Error("At least one element required.");if(!Y)throw new Error("Listener required.");if(isElement(q))q=[q];else if(isCollection(q))q=toArray(q);else return x.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var re=0,oe=getOption(U,"callOnAdd",f.callOnAdd),se=getOption(U,"onReady",function(){}),fe=getOption(U,"debug",f.debug);forEach(q,function(Ce){stateHandler.getState(Ce)||(stateHandler.initState(Ce),r.set(Ce));var $e=r.get(Ce);if(fe&&x.log("Attaching listener to element",$e,Ce),!S.isDetectable(Ce)){if(fe&&x.log($e,"Not detectable."),S.isBusy(Ce)){fe&&x.log($e,"System busy making it detectable"),te(oe,Ce,Y),R[$e]=R[$e]||[],R[$e].push(function(){re++,re===q.length&&se()});return}return fe&&x.log($e,"Making detectable..."),S.markBusy(Ce,!0),k.makeDetectable({debug:fe,important:P},Ce,function(ke){if(fe&&x.log($e,"onElementDetectable"),stateHandler.getState(ke)){S.markAsDetectable(ke),S.markBusy(ke,!1),k.addListener(ke,Q),te(oe,ke,Y);var Ee=stateHandler.getState(ke);if(Ee&&Ee.startSize){var He=ke.offsetWidth,rt=ke.offsetHeight;(Ee.startSize.width!==He||Ee.startSize.height!==rt)&&Q(ke)}R[$e]&&forEach(R[$e],function(ft){ft()})}else fe&&x.log($e,"Element uninstalled before being detectable.");delete R[$e],re++,re===q.length&&se()})}fe&&x.log($e,"Already detecable, adding listener."),te(oe,Ce,Y),re++}),re===q.length&&se()}function V(U){if(!U)return x.error("At least one element is required.");if(isElement(U))U=[U];else if(isCollection(U))U=toArray(U);else return x.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");forEach(U,function(q){n.removeAllListeners(q),k.uninstall(q),stateHandler.cleanState(q)})}function j(U){k.initDocument&&k.initDocument(U)}return{listenTo:B,removeListener:n.removeListener,removeAllListeners:n.removeAllListeners,uninstall:V,initDocument:j}};function getOption(e,r,l){var g=e[r];return g==null&&l!==void 0?l:g}const erd=elementResizeDetector({strategy:"scroll"}),resize={mounted(e,r,l){erd.listenTo(e,g=>{const x=g.offsetWidth,C=g.offsetHeight;(r==null?void 0:r.instance)?emitter.emit("resize",{detail:{width:x,height:C}}):l.el.dispatchEvent(new CustomEvent("resize",{detail:{width:x,height:C}}))})},unmounted(e){erd.uninstall(e)}};var directives=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",auth,resize});const app=createApp(App);Object.keys(directives).forEach(e=>{app.directive(e,directives[e])});app.component("IconifyIconOffline",IconifyIconOffline);app.component("IconifyIconOnline",IconifyIconOnline);app.component("FontIcon",FontIcon);getServerConfig(app).then(async e=>{injectResponsiveStorage(app,e),setupStore(app),app.use(router).use(MotionPlugin).use(useElementPlus).use(VForm3).use(install).use(useTable),await router.isReady(),app.mount("#app")});export{saveBlueprintDrawData as A,getBlueprintDrawData as B,saveFormData as C,loadEnv as D,mitt as E,useFlowTaskStoreHook as F,saveFlowTemplate as G,getUserById as H,getFriends as I,getFlowTemplate as J,nodeUpdate as K,postTask as L,_export_sfc as _,useUserStoreHook as a,storageSession as b,addClass$1 as c,register as d,useEventListener as e,useTimeoutFn as f,templateRef as g,tryOnMounted as h,initRouter as i,useDebounceFn as j,getStatistics as k,avatars as l,getTasks as m,useOperationStoreHook as n,vjmap as o,vjmap_min as p,require$$5 as q,removeClass$1 as r,storageLocal as s,tryOnUnmounted as t,useRouter as u,validate as v,useAppStore as w,getBlueprintSnapData as x,useRoute as y,saveBlueprintSnapData as z};
