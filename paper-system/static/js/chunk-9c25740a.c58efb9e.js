(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-9c25740a","chunk-7e3ce3d4"],{"0253":function(e,t,l){"use strict";l.r(t);var i={props:{vHeight:{type:Number,default:450},vTemplateID:{type:String,default:"defaultID"},vCurrentStepID:{type:String,default:"defaultID"}},data(){return{mCurrentStepID:[],mCurrentTemplateID:"",multipleSelection:[],mSelect:[],curPath:"",curNode:"",currentGroupID:"",vName:"",vRemark:"",vTypeID:"",vID:"",vNo:"",vIsUDTable:!1,vIsInborn:!1,vIsActive:!1,vIsVersion:!1,queryInfo:{query:"",pagenum:1,pagesize:10},mtemp:[""],tableHeight:window.innerHeight-275,slbHeight:window.innerHeight-275,mainHeight:window.innerHeight-400,DataName:"Item Detail",addDataForm:{},editDataForm:{},editFieldForm:{},datalist:[],templist:[],FieldDropDownArgList:[],vStrOption:"",groupList:[],userList:[],allUserList:[],catFieldList:[],editDialogVisible:!1,addDialogVisible:!1,allotDialogVisible:!1,cascaderProps:{value:"t_ID",label:"label",children:"Children",checkStrictly:!0,isLeaf:"leaf"},selectedKeys:[],cat_pid:0,cat_level:0,config:{id:"t_ID",pid:"ParentID",children:"children"},idArray:[],pageFlag:!0}},watch:{vTemplateID(e,t){this.mCurrentTemplateID=e},vCurrentStepID(e,t){this.mCurrentStepID=e}},created(){this.$root.leveOnePathName="权限管理",this.$root.leveTwoPathName="组织与用户",this.mCurrentTemplateID=this.vTemplateID,this.mCurrentStepID=this.vCurrentStepID,this.tableHeight=this.vHeight,this.slbHeight=this.vHeight,this.getAllUser(),null!==window.localStorage.getItem("currentGroupID")&&(this.queryInfo.catID=window.localStorage.getItem("currentGroupID"),this.idArray=[this.queryInfo.catID]),this.$nextTick((function(){}))},mounted(){this.tempselect=this.select2,this.refreshNodeBy(this.currentGroupID)},methods:{async addExecutor(){if(this.mSelect=[],0===this.multipleSelection.length)return this.$message.error("请先选择用户！");for(let e=0;e<this.multipleSelection.length;e++)this.mSelect[e]=this.multipleSelection[e].t_ID,this.mSelect[e]=this.multipleSelection[e].t_Name;this.mSelect[0]=this.multipleSelection[0].t_ID,this.mSelect[1]=this.multipleSelection[0].t_Name,this.$emit("getCurrentUserID",this.mSelect)},toggleSelection(e){e?e.forEach(e=>{this.$refs.allUserTableRef.toggleRowSelection(e)}):null!=this.$refs.allUserTableRef&&this.$refs.allUserTableRef.clearSelection()},handleSelectionChange(e){this.multipleSelection=e},toggleSelectiongroupUser(e){e?e.forEach(e=>{this.$refs.groupUserTableRef.toggleRowSelection(e)}):this.$refs.groupUserTableRef.clearSelection()},handleRowClickgroupUser(e){this.multipleSelection[0]=e},handleRowClick(e){this.$refs.allUserTableRef.toggleRowSelection(e),e=this.$refs.allUserTableRef.selection,this.handleSelectionChange(e)},handleSizeChange(e){this.queryInfo.pagesize=e,this.getAllUser()},handleCurrentChange(e){this.queryInfo.pagenum=e,this.getAllUser()},selectChange(e){const t=[];for(var l of(this.select2=[],this.allrole))e===l.pro&&(this.editFieldForm.t_ControlType=l.value,t.push({label:l.label,value:l.value})),this.select2=t;this.$forceUpdate()},selectValue(e){this.$forceUpdate()},focus(e){},keyup_({e:e,i:t}){const l=this;l.$refs["input"+t]&&l.$nextTick(()=>{e.target.blur();var i="input"+(t+1);void 0!==l.$refs[i]?l.$refs[i][0].focus():l.$refs.addSubmit&&l.$refs.addSubmit.$el.focus()})},keyup_edit({e:e,i:t}){const l=this;l.$refs["m_input"+t]&&l.$nextTick(()=>{e.target.blur();var i="m_input"+(t+1);void 0!==l.$refs[i]?l.$refs[i][0].focus():l.$refs.editSubmit&&l.$refs.editSubmit.$el.focus()})},handleRadioChange:function(e,t,l){},handleChange:function(e,t,l){e?this.checkedData[l].push(t):this.delete(t,l)},delete(e,t){var l=this.checkedData[t].findIndex(t=>{if(t===e)return!0});this.checkedData[t].splice(l,1)},SetFirstAddFocus(){this.$nextTick(e=>{this.$refs.input0[0].focus()})},SetFirstEditFocus(){this.$nextTick(e=>{this.$refs.m_input0[0].focus()})},async linkUserGroup(){this.mSelect=[];for(let t=0;t<this.multipleSelection.length;t++)this.mSelect[t]=this.multipleSelection[t].t_ID;return 0===this.mSelect.length?this.$message.error("请先选择用户！"):(e=(await this.$http.post("linkUserGroup",{hGroupID:this.currentGroupID,hUserIDList:JSON.stringify(this.mSelect)}))["data"],200!==e.status?this.$message.error("分配用户失败！"):(this.refreshNodeBy(this.currentGroupID),this.multipleSelection=[],void(this.allotDialogVisible=!1)));var e},async getAllUser(){var e=(await this.$http.post("getAllUser",{hName:this.queryInfo.query}))["data"];if(200!==e.status)return this.$message.error("获取用户列表失败！");this.allUserList=JSON.parse(e.data)},mapStatus(e){return 1===e},mapBool(e){return!0===e?1:0},async getGroupList(e,t){if(e=(await this.$http.post("getGroupList",{hGroupID:e})).data,200!==e.status)return this.$message.error("获取子组织节点失败！");var l=JSON.parse(e.data);return this.groupList=JSON.parse(e.data),this.userList=JSON.parse(e.mStream),l.forEach(e=>{e.id=e.t_ID,e.label=e.t_Name,e.num=e.CHILD_GROUPS,0<e.CHILD_GROUPS?e.leaf=!1:e.leaf=!0}),t(l)},handleNodeClick(e,t,l){this.currentGroupID=e.id,this.refreshNodeBy(t.data.id),this.idArray=[e.t_ID]},refreshNodeBy(e){const t=this.$refs.treeList.getNode(e);t.loaded=!1,t.expand()},loadNode(e,t){if(0===e.level)return t([{id:this.currentGroupID="DEFAULTROOT",label:"组织根节点",t_IsActive:1}]);1<=e.level&&(this.currentGroupID=e.data.id,this.getGroupList(e.data.id,t))}}};l("b956"),l=l("2877"),l=Object(l.a)(i,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{ref:"mainZone"},[l("el-row",{attrs:{gutter:10}},[l("el-col",{attrs:{span:24}},[l("el-button-group",{staticStyle:{float:"right"}},[l("el-button",{attrs:{type:"plain"},on:{click:e.addExecutor}},[e._v("增加执行人")])],1)],1)],1),l("el-row",{attrs:{gutter:0}},[l("el-col",{attrs:{span:12}},[l("el-card",{attrs:{"body-style":{padding:"0px"}}},[l("el-scrollbar",{style:{height:e.slbHeight+"px"}},[l("el-tree",{ref:"treeList",attrs:{"default-expanded-keys":e.idArray,"highlight-current":"",id:"el-tree",props:e.cascaderProps,load:e.loadNode,"node-key":"id",lazy:""},on:{"node-click":e.handleNodeClick},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.node;t=t.data;return l("span",{staticClass:"slot-t-node"},[l("span",{attrs:{name:i.label}},[0<t.t_IsActive?l("i",{staticClass:"iconfont"},[e._v(" ")]):l("i",{staticClass:"iconfont"},[e._v(" ")]),e._v(e._s(i.label)+" ")])])}}])})],1)],1)],1),l("el-col",{attrs:{span:12}},[l("el-row",[l("el-card",{attrs:{"body-style":{padding:"0px"}}},[l("el-table",{ref:"groupUserTableRef",attrs:{data:e.userList,height:e.tableHeight,"highlight-current-row":"","row-style":{height:"30px"},"cell-style":{padding:"0px"}},on:{"row-click":e.handleRowClickgroupUser}},[l("el-table-column",{attrs:{type:"index",width:"55"}}),e._e(),e._e(),e._e(),e._e(),l("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"t_Name",label:"姓名"}}),e._e(),e._e(),e._e(),e._e(),e._e(),e._e(),l("el-table-column",{attrs:{label:"在岗",width:"60px"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-switch",{attrs:{"active-color":"#00ffff","active-value":1,"inactive-value":0,disabled:""},model:{value:t.row.t_IsOnJob,callback:function(l){e.$set(t.row,"t_IsOnJob",l)},expression:"scope.row.t_IsOnJob"}})]}}])}),e._e(),e._e()],1)],1)],1)],1)],1)],1)}),[],!1,null,"aa714ecc",null);t.default=l.exports},"53e3":function(e,t,l){"use strict";l.r(t);var i={components:{"v-user":l("0253").default},data(){return{optionString:[{value:"%like%",label:"包含"},{value:"like%",label:"开始为"},{value:"%like",label:"结尾为"}],options:[],optionData:[{value:"=",label:"等于"},{value:">",label:"大于"},{value:"<",label:"小于"},{value:"<=",label:"小于等于"},{value:">=",label:"大于等于"},{value:"<>",label:"不等于"}],optionSelect:[{value:"=",label:"等于"}],vOperation:"",hValue:"",mFlagCat:!1,mFlagDef:!1,vLength:0,vFieldID:"",vFieldName:"",vName:"",vFieldModel:[],vRuleID:"",vFlowName:"",vFlowItemID:"",vRuleName:"",vExpression:"",fieldlist:[],flowlist:[],steplist:[],vStepID:"",vSelectedUserID:"",vSelectedUserName:"",isDispalyCard:!0,mSelectLabel:"选用其他人",mComponentKey:1,ruleDefineList:[],ruleContentList:[],currentRuleID:"",mainHeight:window.innerHeight-400,tableHeight:window.innerHeight-275,rule:{hNo:"",hFieldID:"",hOperation:"",hValue:""},flowRuleList:[],editDialogVisible:!1,addDialogVisible:!1,parentCateList:[],cascaderProps:{value:"t_ID",label:"label",children:"Children",checkStrictly:!0,expandTrigger:"hover"},selectedKeys:[],catName:"",cat_pid:"",cat_level:0,config:{id:"t_ID",pid:"ParentID",children:"children"}}},created(){this.$root.leveOnePathName="系统管理",this.$root.leveTwoPathName="节点执行人规则定义",this.tableHeight=JSON.parse(window.localStorage.getItem("gHeight"))-250,this.slbHeight=JSON.parse(window.localStorage.getItem("gHeight"))-195,this.mainHeight=JSON.parse(window.localStorage.getItem("gHeight"))-185,this.getMyFlowList().then(()=>{this.vFlowItemID=this.flowlist[0].t_ID,this.getSteperRuleList()})},watch:{selectedKeys(){this.$refs.LinkBref&&(this.$refs.LinkBref.dropDownVisible=!1)}},methods:{handItemRowClick(e,t,l){this.vFlowItemID=e.t_ID,this.vFlowName=e.t_Name,this.getSteperRuleList()},selectCreaterID(){this.vSelectedUserID="FLOWDOCCREATOR",this.vSelectedUserName="默认为文档创建人",this.isDispalyCard=!1},selectUserID(){!0===this.isDispalyCard?(this.mSelectLabel="选择其他人",this.isDispalyCard=!1):(this.mSelectLabel="折叠",this.isDispalyCard=!0)},async getMyFlowList(){var e=(await this.$http.post("getMyFlowList",{hToken:window.sessionStorage.getItem("token")}))["data"];200!==e.status&&this.$message.error("获取流程失败！"),0===e.total?this.flowlist="":(this.flowlist=JSON.parse(e.data),null!==this.flowlist&&(this.vFlowItemID=this.flowlist[0].t_ID,this.vFlowName=this.flowlist[0].t_Name,this.$refs.refFlowTable.setCurrentRow(this.flowlist[0])))},async getFlowStepList(){var e=(await this.$http.post("getFlowStepList",{hFlowItemID:this.vFlowItemID,hToken:window.sessionStorage.getItem("token")}))["data"];200!==e.status&&this.$message.error("获取一个流程的全部步骤失败！"),0===e.total?this.steplist="":this.steplist=JSON.parse(e.data)},getCurrentUserID(e){this.vSelectedUserID=e[0],this.vSelectedUserName=e[1],this.isDispalyCard=!1},handleClick(e,t){"tab-1"!==e.paneName&&"tab-2"!==e.paneName&&alert("it is wrong in handeClick")},async getParentCateList(){var e=(await this.$http.post("getCatTree"))["data"];if(200!==e.status)return this.$message.error("获取父级分类数据失败！");this.parentCateList=e.data1},parentCateChanged(e){this.vOperation="",this.hValue="",this.vName="",this.vFieldID="",this.vExpression="",this.vLength=0,this.ruleDefineList=[],this.mFlagCat=!1,this.mFlagDef=!1,0<this.selectedKeys.length?(this.cat_pid=this.selectedKeys[this.selectedKeys.length-1],this.cat_level=this.selectedKeys.length,this.catName=this.$refs.LinkBref.getCheckedNodes()[0].pathLabels[this.selectedKeys.length-1],this.mFlagCat=!0,this.getFieldList(this.cat_pid)):(this.cat_pid="",this.catName="",this.cat_level=0,this.fieldlist="",this.vFieldID="")},async getFieldList(e){e=(await this.$http.post("getCatTableABField",{hCatID:e})).data,200!==e.status&&this.$message.error("获取指定类的字段失败！"),this.fieldlist=JSON.parse(e.tableBfield)},fieldChanged(){for(var e=this.fieldlist.length,t=0;t<e;t++)if(this.fieldlist[t].t_FieldID===this.vFieldID){this.vFieldModel=this.fieldlist[t],this.vName=this.fieldlist[t].t_Name,this.vFieldName=this.fieldlist[t].t_FieldName,this.vOperation="",this.hValue="",3===this.vFieldModel.t_ControlType?this.options=this.optionSelect:1===this.vFieldModel.t_DataType?this.options=this.optionString:this.options=this.optionData;break}this.mFlagCat=!0},operationChanged(){},async openaddRuleDialog(){this.getFlowStepList(),this.getParentCateList(),this.selectedKeys=[],this.mFlagCat=!1,this.mFlagDef=!1,this.vLength=0,this.vOperation="",this.hValue="",this.vFieldID="",this.vName="",this.vExpression="",this.ruleDefineList=[],this.catName="",this.cat_pid="",this.vFlowName="",this.vStepID="",this.vSelectedUserName="",this.vSelectedUserID="",this.isDispalyCard=!1,this.addDialogVisible=!0},addRuleList(e,t,l,i){if(""===e||""===l||""===t||""===i)return this.$message.error("请输入完整参数，再增加！");this.mFlagDef=!0;var s=this.ruleDefineList.length+1;if(this.ruleDefineList.push({hKey:s,hFieldID:e,hName:t,hOperation:l,hValue:i}),this.vLength=this.ruleDefineList.length,this.vExpression="1",1<this.vLength)for(var a=2;a<this.vLength+1;a++)this.vExpression=this.vExpression+"  AND  "+a},removeAddRule(e){var t=this.ruleDefineList.filter(t=>t.hKey!==e.hKey);if(this.ruleDefineList=t,this.vLength=this.ruleDefineList.length,this.vExpression="1",(this.ruleDefineList[0].hKey=1)<this.vLength)for(var l=2;l<this.vLength+1;l++)this.vExpression=this.vExpression+"  AND  "+l,this.ruleDefineList[l-1].hKey=l},addEditRuleList(e,t,l,i,s){if(""===e||""===t||""===i||""===l||""===s)return this.$message.error("请输入完整参数，再增加！");this.mFlagDef=!0;var a=this.ruleContentList.length+1;if(this.ruleContentList.push({t_No:a,t_FieldID:e,t_FieldName:t,t_Name:l,t_Operator:i,t_Value:s}),this.vLength=this.ruleContentList.length,this.vExpression="1",1<this.vLength)for(var r=2;r<this.vLength+1;r++)this.vExpression=this.vExpression+"  AND  "+r},removeEditRule(e){var t=this.ruleContentList.filter(t=>t.t_No!==e.t_No);if(this.ruleContentList=t,this.vLength=this.ruleContentList.length,this.vExpression="1",(this.ruleContentList[0].t_No=1)<this.vLength)for(var l=2;l<this.vLength+1;l++)this.vExpression=this.vExpression+"  AND  "+l,this.ruleContentList[l-1].t_No=l},async submitRule(){if(""===this.vStepID||""===this.vName||""===this.vFieldID||""===this.vOperation||0===this.vLength||0===this.vSelectedUserID)return this.$message.error("参数输入不全,不能保存！");var e=(await this.$http.post("AddRuleSteper",{hExpression:this.vExpression,hRuleList:JSON.stringify(this.ruleDefineList),hCatName:this.catName,hCatID:this.cat_pid,hFlowItemID:this.vFlowItemID,hStepID:this.vStepID,hSelectedUserID:this.vSelectedUserID,hRuleNum:this.flowRuleList.length+1,hToken:window.sessionStorage.getItem("token")}))["data"];200!==e.status?this.$message.error("新增执行人规则失败！-- 020"+e.Msg):(this.$message.success("新增执行人规则成功！"),this.addDialogVisible=!1,this.getSteperRuleList())},async editRule(){var e=(await this.$http.post("EditRulePushToFlow",{hExpression:this.vExpression,hRuleList:JSON.stringify(this.ruleContentList),hRuleID:this.vRuleID}))["data"];200!==e.status?this.$message.error("修改执行人规则失败！-- 020"+e.Msg):(this.$message.success("修改执行人规则成功！"),this.editDialogVisible=!1,this.getSteperRuleList())},async getRuleContent(e){e=(await this.$http.post("getRuleContent",{hRuleID:e})).data,200!==e.status?this.$message.error("获取具体规则内容时失败！-- 020"+e.Msg):(this.$message.success("获取具体规则内容时成功！"),this.ruleContentList=JSON.parse(e.data))},async deleteRuleByID(e){return"confirm"!==await this.$confirm("此操作将删除一条规则,可能影响流程执行人！ 是否继续?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(e=>e)?this.$message.info("已取消删除!"):(e=(await this.$http.post("DeleteRuleSteper",{hRuleID:e.t_RuleID}))["data"],200!==e.status?this.$message.error("删除自定义类失败！-- 030"+e.Msg):(this.$message.success("删除规则成功！"),void this.getSteperRuleList()))},async showEditDialog(e){this.getFieldList(e.t_CatID),this.getRuleContent(e.t_RuleID),this.vExpression=e.t_Expression,this.vRuleID=e.t_RuleID,this.catName=e.v_CatName,this.cat_pid=e.t_CatID,this.vFlowName=e.t_FlowItemName,this.vRuleName=e.t_Name,this.vLength=this.ruleContentList.length,this.vOperation="",this.hValue="",this.vFieldID="",this.vName="",this.editDialogVisible=!0},async getSteperRuleList(){var e=(await this.$http.post("getSteperRuleList",{hFlowItemID:this.vFlowItemID}))["data"];if(200!==e.status)return this.$message.error("获取执行人规则失败！");this.flowRuleList=JSON.parse(e.data)}}};l("acd7"),l=l("2877"),l=Object(l.a)(i,(function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{ref:"mainZone",staticClass:"datalist-container",style:{height:e.mainHeight+"px"}},[l("el-row",{attrs:{gutter:10}},[l("el-col",{attrs:{span:4}},[l("el-card",{attrs:{"body-style":{padding:"5px"}}},[l("el-table",{ref:"refFlowTable",attrs:{data:e.flowlist,height:e.tableHeight+50,border:"",stripe:"","highlight-current-row":"","row-style":{height:"30px"},"cell-style":{padding:"0px"}},on:{"row-click":e.handItemRowClick}},[l("el-table-column",{attrs:{type:"index"}}),e._e(),e._e(),l("el-table-column",{attrs:{prop:"t_Name",label:"流程名称"}})],1)],1)],1),l("el-col",{attrs:{span:20}},[l("el-card",{attrs:{"body-style":{padding:"5px"}}},[l("el-row",{attrs:{gutter:10}},[e._e(),l("el-col",{attrs:{align:"right"}},[l("el-button",{attrs:{align:"right",type:"primary"},on:{click:e.openaddRuleDialog}},[e._v("增加规则")])],1)],1),l("el-table",{attrs:{data:e.flowRuleList,height:e.tableHeight,border:"",stripe:"","highlight-current-row":"","row-style":{height:"30px"},"cell-style":{padding:"0px"}}},[l("el-table-column",{attrs:{prop:"t_No",label:"序号",width:"60"}}),e._e(),l("el-table-column",{attrs:{prop:"t_StepName",label:"流程节点","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{prop:"t_Name",label:"规则名称",width:"200","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{prop:"v_CatName",label:"针对类型",width:"120","show-overflow-tooltip":!0}}),e._e(),l("el-table-column",{attrs:{prop:"CRULEWHERE",label:"约束规则",width:"500"}}),e._e(),e._e(),l("el-table-column",{attrs:{prop:"vExecutorName",label:"匹配执行人",width:"100","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._e(),l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除该条规则",enterable:!1,placement:"top"}},[l("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",circle:"",plain:""},on:{click:function(l){return e.deleteRuleByID(t.row)}}})],1)]}}])})],1)],1)],1)],1),l("el-dialog",{attrs:{title:"增加节点的执行人规则",visible:e.addDialogVisible,width:"60%"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[l("el-row",{attrs:{gutter:10}},[l("el-col",{attrs:{span:4}},[l("span",[e._v("选定节点")])]),l("el-col",{attrs:{span:20}},[l("el-select",{attrs:{placeholder:"选定一个节点"},model:{value:e.vStepID,callback:function(t){e.vStepID=t},expression:"vStepID"}},e._l(e.steplist,(function(e){return l("el-option",{key:e.t_ID,attrs:{label:e.t_Name,value:e.t_ID}})})),1)],1)],1),l("el-row",{attrs:{gutter:10}},[l("el-col",{attrs:{span:4}},[l("span",[e._v("指定执行人")])]),l("el-col",{attrs:{span:12}},[l("el-input",{attrs:{disabled:!0,placeholder:"点击其中一个按钮，将执行人自动填充在里面"},model:{value:e.vSelectedUserName,callback:function(t){e.vSelectedUserName=t},expression:"vSelectedUserName"}})],1),l("el-col",{attrs:{span:8}},[l("el-button-group",[l("el-button",{on:{click:e.selectCreaterID}},[e._v("选用创建人")]),l("el-button",{on:{click:e.selectUserID}},[e._v(e._s(e.mSelectLabel))])],1)],1)],1),e.isDispalyCard?l("el-row",{attrs:{gutter:10}},[l("el-col",{attrs:{span:4}},[e._v("选择执行人 ")]),l("el-col",{attrs:{span:18}},[l("v-user",{key:11*e.mComponentKey,ref:"refUser",attrs:{vHeight:260,vTemplateID:e.vFlowItemID},on:{getCurrentUserID:e.getCurrentUserID}})],1)],1):e._e(),!1===e.isDispalyCard&&""!==e.vSelectedUserID?l("el-row",{attrs:{gutter:10}},[l("el-form",{staticClass:"form-1",attrs:{"label-width":"70px","label-position":"left"},nativeOn:{submit:function(e){e.preventDefault()}}},[l("el-form-item",{attrs:{label:"选择分类"}},[l("el-cascader",{ref:"LinkBref",attrs:{options:e.parentCateList,props:e.cascaderProps,size:"medium",clearable:""},on:{change:e.parentCateChanged},model:{value:e.selectedKeys,callback:function(t){e.selectedKeys=t},expression:"selectedKeys"}})],1),e.mFlagCat?l("el-form-item",{attrs:{label:"指定条件"}},[l("el-row",[l("el-col",{attrs:{span:8}},[l("el-select",{attrs:{placeholder:"请选择B类字段"},on:{change:e.fieldChanged},model:{value:e.vFieldID,callback:function(t){e.vFieldID=t},expression:"vFieldID"}},e._l(e.fieldlist,(function(e){return l("el-option",{key:e.t_FieldID,attrs:{label:e.t_Name,value:e.t_FieldID}})})),1)],1),l("el-col",{attrs:{span:8}},[l("el-select",{attrs:{placeholder:"请选择SQL符号"},on:{change:e.operationChanged},model:{value:e.vOperation,callback:function(t){e.vOperation=t},expression:"vOperation"}},e._l(e.options,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-col",{attrs:{span:6}},[3===e.vFieldModel.t_ControlType?l("div",[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"下拉框，请选择"},model:{value:e.hValue,callback:function(t){e.hValue=t},expression:"hValue"}},e._l(e.vFieldModel.PropValue,(function(e){return l("el-option",{key:e.t_No,attrs:{label:e.t_Display,value:e.t_Value}})})),1)],1):1===e.vFieldModel.t_ControlType?l("div",[l("el-input",{attrs:{placeholder:"请输入约束值"},model:{value:e.hValue,callback:function(t){e.hValue=t},expression:"hValue"}})],1):12===e.vFieldModel.t_ControlType?l("div",[l("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.hValue,callback:function(t){e.hValue=t},expression:"hValue"}})],1):l("div",[l("el-input",{attrs:{placeholder:"请输入约束值"},model:{value:e.hValue,callback:function(t){e.hValue=t},expression:"hValue"}})],1)]),l("el-col",{attrs:{span:2}},[l("el-button",{ref:"editSubmit",attrs:{type:"primary"},on:{click:function(t){return e.addRuleList(e.vFieldID,e.vName,e.vOperation,e.hValue)}}},[e._v("加入条件")])],1)],1)],1):e._e(),e.mFlagDef?l("el-form-item",{attrs:{label:"显示条件"}},[l("el-row",[l("el-table",{attrs:{data:e.ruleDefineList,border:"",stripe:"","highlight-current-row":"","row-style":{height:"30px"},"cell-style":{padding:"0px"}}},[l("el-table-column",{attrs:{type:"index",label:"序号"}}),e._e(),e._e(),l("el-table-column",{attrs:{prop:"hName",label:"字段名称"}}),l("el-table-column",{attrs:{prop:"hOperation",label:"操作符号"}}),l("el-table-column",{attrs:{prop:"hValue",label:"限定值"}}),l("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"移出条件",enterable:!1,placement:"top"}},[l("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:"mini",circle:"",plain:""},on:{click:function(l){return e.removeAddRule(t.row)}}})],1)]}}],null,!1,1537965931)})],1)],1)],1):e._e(),1<e.vLength?l("el-form-item",{attrs:{label:"合并条件"}},[l("el-input",{model:{value:e.vExpression,callback:function(t){e.vExpression=t},expression:"vExpression"}})],1):e._e()],1)],1):e._e(),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{ref:"editSubmit",attrs:{type:"primary"},on:{click:e.submitRule}},[e._v("提 交")]),l("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")])],1)],1),l("el-dialog",{attrs:{title:"修改执行人规则",visible:e.editDialogVisible,width:"60%"},on:{"update:visible":function(t){e.editDialogVisible=t}}},[l("el-form",{staticClass:"form-1",attrs:{"label-width":"70px","label-position":"left"},nativeOn:{submit:function(e){e.preventDefault()}}},[l("el-form-item",{attrs:{label:"流程名称"}},[l("el-input",{attrs:{disabled:""},model:{value:e.vFlowName,callback:function(t){e.vFlowName=t},expression:"vFlowName"}},[e._v("流程名称")])],1),e._e(),e._e(),l("el-form-item",{attrs:{label:"对象类别"}},[l("el-input",{attrs:{disabled:""},model:{value:e.catName,callback:function(t){e.catName=t},expression:"catName"}},[e._v("对象类别")])],1),l("el-form-item",{attrs:{label:"指定条件"}},[l("el-row",[l("el-col",{attrs:{span:8}},[l("el-select",{attrs:{placeholder:"请选择B类字段"},on:{change:e.fieldChanged},model:{value:e.vFieldID,callback:function(t){e.vFieldID=t},expression:"vFieldID"}},e._l(e.fieldlist,(function(e){return l("el-option",{key:e.t_FieldID,attrs:{label:e.t_Name,value:e.t_FieldID}})})),1)],1),l("el-col",{attrs:{span:8}},[l("el-select",{attrs:{placeholder:"请选择SQL符号"},on:{change:e.operationChanged},model:{value:e.vOperation,callback:function(t){e.vOperation=t},expression:"vOperation"}},e._l(e.options,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-col",{attrs:{span:6}},[3===e.vFieldModel.t_ControlType?l("div",[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"下拉框，请选择"},model:{value:e.hValue,callback:function(t){e.hValue=t},expression:"hValue"}},e._l(e.vFieldModel.PropValue,(function(e){return l("el-option",{key:e.t_No,attrs:{label:e.t_Display,value:e.t_Value}})})),1)],1):1===e.vFieldModel.t_ControlType?l("div",[l("el-input",{attrs:{placeholder:"请输入约束值"},model:{value:e.hValue,callback:function(t){e.hValue=t},expression:"hValue"}})],1):12===e.vFieldModel.t_ControlType?l("div",[l("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.hValue,callback:function(t){e.hValue=t},expression:"hValue"}})],1):l("div",[l("el-input",{attrs:{placeholder:"请输入约束值"},model:{value:e.hValue,callback:function(t){e.hValue=t},expression:"hValue"}})],1)]),l("el-col",{attrs:{span:2}},[l("el-button",{ref:"editSubmit",attrs:{type:"primary"},on:{click:function(t){return e.addEditRuleList(e.vFieldID,e.vFieldName,e.vName,e.vOperation,e.hValue)}}},[e._v("增加条件")])],1)],1)],1),l("el-form-item",{attrs:{label:"显示条件"}},[l("el-row",[l("el-table",{attrs:{data:e.ruleContentList,border:"",stripe:"","highlight-current-row":"","row-style":{height:"30px"},"cell-style":{padding:"0px"}}},[l("el-table-column",{attrs:{type:"index",label:"序号"}}),e._e(),e._e(),e._e(),e._e(),l("el-table-column",{attrs:{prop:"t_Name",label:"字段名称"}}),e._e(),l("el-table-column",{attrs:{prop:"t_Operator",label:"操作符号"}}),l("el-table-column",{attrs:{prop:"t_Value",label:"限定值"}}),l("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"移出条件",enterable:!1,placement:"top"}},[l("el-button",{attrs:{type:"warning",icon:"el-icon-edit",size:"mini",circle:"",plain:""},on:{click:function(l){return e.removeEditRule(t.row)}}})],1)]}}])})],1)],1)],1),l("el-form-item",{attrs:{label:"合并条件"}},[l("el-input",{model:{value:e.vExpression,callback:function(t){e.vExpression=t},expression:"vExpression"}})],1)],1),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{ref:"editFormRef",attrs:{type:"primary"},on:{click:e.editRule}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.editDialogVisible=!1}}},[e._v("取 消")])],1)],1)],1)}),[],!1,null,"275acb00",null);t.default=l.exports},7529:function(e,t,l){},acd7:function(e,t,l){"use strict";l("de8a")},b956:function(e,t,l){"use strict";l("7529")},de8a:function(e,t,l){}}]);