(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-83ecc0aa"],{"816d":function(t,e,a){},"9f95":function(t,e,a){"use strict";a("816d")},edeb:function(t,e,a){"use strict";a.r(e);var l={data(){return{queryInfo:{query:"",pageNum:"1",pageSize:"10",catID:"IPART"},pickerOptions:{disabledDate(t){return t.getTime()>Date.now()}},value1:"",value2:"",checkList:[],uncheckList:{},partlist:[],partCatList:[],insertSwapDialogVisible:!1,addDataForm:{},editDataForm:{},datalist:[],templist:[],linkExpressionList:[],addBomViewForm:{BomViewName:"",BomViewCode:""},currentPartID:"",currentPartCatID:"",linkItemList:[],tableBfieldlist:[],tableAfieldlist:[],PartName:"Item Detail",structfilterList:[],partStructlist:[],swapPartList:[],partStructfieldlist:[],partfieldlist:[],linkAfieldlist:[],reviewItemList:[],reviewFieldList:[],versionItemList:[],saveBomViewDialogVisible:!1,pushToFlowDialogVisible:!1,flowlist:[],flowBfieldlist:[],PartDetailDialogVisible:!1,total:0,editItemID:0,editLinkID:"",editTargetCatID:"",activeName:"second",addDialogVisible:!1,addDataFormRules:{t_Name:[{required:!0,message:"请输入关键词",trigger:"blur"},{min:2,max:50,message:"用户名的长度在2～10个字",trigger:"blur"}],t_Code:[{required:!0,message:"请输入关键词",trigger:"blur"},{min:1,max:36,message:"用户密码的长度在6～18个字",trigger:"blur"}]},editDialogVisible:!1,PartTreeList:[],PartTreecascaderProps:{value:"CChildID",label:"Label",children:"Children",checkStrictly:!0,expandTrigger:"hover"},parentCateList:[],cascaderProps:{value:"t_ID",label:"label",children:"Children",checkStrictly:!0,expandTrigger:"hover"},selectedKeys:[],cat_pid:0,cat_level:0,config:{id:"t_ID",pid:"ParentID",children:"children"},idArray:[],saveArray:[],saveDict:{},A:!0,B:!1,C:!1,pageFlag:!1}},created(){this.getParentCateList(),this.getpartCatList(),this.getPartTreeFilter(),null!==window.localStorage.getItem("sessionPartCatID")&&(this.queryInfo.catID=window.localStorage.getItem("sessionPartCatID"),this.idArray=[this.queryInfo.catID]),this.getDataList(),this.getItem(this.editItemID),this.$nextTick((function(){this.$refs.treeList.setCurrentKey(this.queryInfo.catID)}));for(let e=0;e<this.tableAfieldlist.length;e++)this.addDataForm[this.tableAfieldlist[e].t_FieldName]="";for(let e=0;e<this.tableBfieldlist.length;e++)this.editDataForm[this.tableBfieldlist[e].t_FieldName]="";for(var t in this.editDataForm)delete this.editDataForm[t]},mounted(){this.filter()},methods:{async insertSwapIntoStruct(t){return t=(await this.$http.post("insertSwapIntoStruct",{hPartID:t.t_ID,hPartCatID:t.t_CatID,hCode:t.t_Code,hParentPartID:this.currentPartID,hParentNodeID:this.currentNodeID,hBomViewID:this.currentBomviewID,hBomViewCatID:this.currentBomviewCatID})).data,202===t.status?this.$message.error("插入Swap表失败--202！"):203===t.status?this.$message.error("插入Swap表失败--203！"):200!==t.status?this.$message.error("插入Swap表失败！"):void this.$message.success("插入Swap表成功！")},handleInsertSwapCurrentChange(t){this.queryInfo.pageNum=t,this.getBomList()},handleInsertSwapSizeChange(t){this.queryInfo.pageSize=t,this.getPartList()},async getPartList(){var t=(await this.$http.post("getDataList",{query:this.queryInfo.query,pageNum:this.queryInfo.pageNum,pageSize:this.queryInfo.pageSize,CatID:this.queryInfo.catID}))["data"];200!==t.status&&this.$message.error("显示数据失败！"),0!==t.total?this.partlist=JSON.parse(t.data):this.partlist=[],this.partBfieldlist=JSON.parse(t.tableBfield),this.total=t.total,this.pageFlag=this.total>this.queryInfo.pageSize},handlePartNodeClick(t){this.queryInfo.catID=t.t_ID,this.getPartList()},async getpartCatList(){var t=(await this.$http.post("getCatList",{hCatID:"IPART"}))["data"];if(200!==t.status)return this.$message.error("获取Part分类数据失败！");this.partCatList=t.data1},async getPartTreeFilter(){var t=(await this.$http.post("getPartTreeFilter",{}))["data"];200!==t.status&&this.$message.error("获取零件结构的过滤规则失败！"),this.structfilterList=t.optionList},saveBomViewDialog(t,e,a){this.currentPartID=t,this.currentPartCatID=e,this.saveBomViewDialogVisible=!0},async savePartToBomView(){var t=(await this.$http.post("savePartToBomView",{hPartCatID:this.currentPartCatID,hPartItemID:this.currentPartID,hNewBomName:this.addBomViewForm.BomViewName,hBomCatID:"2e2cacfc-dd4f-4228-b0e0-7016baeb5ea4",hNewBomCode:this.addBomViewForm.BomViewCode}))["data"];return 203===t.status?this.$message.error(" 新建 BOMView 的代号已经！"):200!==t.status?this.$message.error("零件 另存为 BOMView 失败！"):(this.saveBomViewDialogVisible=!1,this.$message.success("零件 另存为 BOMView 成功！"))},tableRowClassName({row:t}){if(1===t.t_ReplaceFlag)return"warning-row"},filter(t){if(void 0===t)for(var e in this.tableBfieldlist){var a=this.tableBfieldlist[e];-1===this.checkList.indexOf(a.t_Name)&&(this.checkList.push(a.t_Name),this.uncheckList[a.t_Name]=!0)}for(var l in this.uncheckList)this.uncheckList[l]=!1;for(e in this.checkList){var i=this.checkList[e];i in this.uncheckList&&(this.uncheckList[i]=!0)}this.$forceUpdate()},isNumber(t){return!(!/^\d+(\.\d+)?$/.test(t)&&!/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/.test(t))},set2len(t){return isNaN(t)||(t+=""),1===t.length?"0"+t:t},isDate(t){return!!t&&(t=t.match(/^(\d{4})(-)(\d{1,2})\2(\d{1,2})$/),null!=t&&(t=new Date(t[1],Number(t[3])-1,t[4]),t.getFullYear()+"-"+this.set2len(t.getMonth()+1)+"-"+this.set2len(t.getDate())))},celledit(t,e,a,l){var i=this;!0===this.boolen?(a.contentEditable=!0,a.focus(),document.onkeydown=function(t){var e,a=document.activeElement,l=a.cellIndex,s=a.parentElement.sectionRowIndex,r=a.parentElement.parentElement.children;a.onblur=function(){var t="-",e={};t=(t=(t=a.parentElement.children[1].innerText).replace(/[ ]/g,"")).replace(/[\r\n]/g,"");for(var l=0;l<i.tableBfieldlist.length;l++){var s=a.parentElement.children[l+2].innerText;if(s=(s=s.replace(/[ ]/g,"")).replace(/[\r\n]/g,""),2===i.tableBfieldlist[l].t_DataType?/^\d+$/.test(s)?e[i.tableBfieldlist[l].t_FieldName]=s+";"+i.tableBfieldlist[l].t_DataType:t="---":3!==i.tableBfieldlist[l].t_DataType||i.isNumber(s)?e[i.tableBfieldlist[l].t_FieldName]=s+";"+i.tableBfieldlist[l].t_DataType:t="---","---"===t)break}if("---"===t)return i.$message.error(i.tableBfieldlist[l].t_Name+" 刚才输入的数据类型不对！");"-"!==t&&(i.saveDict[t]=e)},38===t.keyCode?s-1<0?(a.contentEditable=!1,r[r.length-1].children[l].contentEditable=!0,r[r.length-1].children[l].focus()):(a.contentEditable=!1,r[s-1].children[l].contentEditable=!0,r[s-1].children[l].focus()):37===t.keyCode?(e=r[r.length-1].children.length-1,l-1==0?s-1<0?(a.contentEditable=!1,r[r.length-1].children[e].contentEditable=!0,r[r.length-1].children[e].focus()):(a.contentEditable=!1,r[s-1].children[e].contentEditable=!0,r[s-1].children[e].focus()):(a.contentEditable=!1,a.parentElement.children[l-1].contentEditable=!0,a.parentElement.children[l-1].focus())):39===t.keyCode||9===t.keyCode?(t.preventDefault(),l+1===a.parentElement.children.length?s+1===r.length?(a.contentEditable=!1,r[0].children[1].contentEditable=!0,r[0].children[1].focus()):(a.contentEditable=!1,r[s+1].children[1].contentEditable=!0,r[s+1].children[1].focus()):(a.contentEditable=!1,a.parentElement.children[l+1].contentEditable=!0,a.parentElement.children[l+1].focus())):40!==t.keyCode&&13!==t.keyCode||(t.preventDefault(),s+1===r.length?(a.contentEditable=!1,r[0].children[l].contentEditable=!0,r[0].children[l].focus()):(a.contentEditable=!1,r[s+1].children[l].contentEditable=!0,r[s+1].children[l].focus()))}):a.contentEditable=!1},editPartList(){this.boolen=!0,this.A=!1,this.B=!0,this.C=!0},async savePartList(){var t=(await this.$http.post("savePartList",{hsaveDict:JSON.stringify(this.saveDict)}))["data"];return 200!==t.status?this.$message.error("保存修改后的PartList失败！"):(this.boolen=!1,this.A=!0,this.B=!1,this.C=!1,this.saveDict={},this.$message.success("保存修改后的PartList成功！"))},cancelPartList(){this.boolen=!1,this.A=!0,this.B=!1,this.C=!1,this.saveDict.Clear()},findItemList(){this.queryInfo.pageNum=1,this.getDataList()},async getDataList(){var t,e=(await this.$http.post("getDataList",{query:this.queryInfo.query,pageNum:this.queryInfo.pageNum,pageSize:this.queryInfo.pageSize,CatID:this.queryInfo.catID,hToken:window.sessionStorage.getItem("token"),hVersion:this.mVersion}))["data"];if(200!==e.status)return this.$message.error("身份不合格或者输入的参数有误，显示数据失败！");for(t in 0!==e.total?(this.datalist=JSON.parse(e.data),this.editItemID=this.datalist[0].t_ID):this.datalist=[],this.editDataForm)delete this.editDataForm[t];this.tableBfieldlist=JSON.parse(e.tableBfield),this.tableAfieldlist=JSON.parse(e.tableAfield),this.filter(),this.total=e.total,this.pageFlag=this.total>this.queryInfo.pageSize},async showPartDetailDialog(t,e,a,l){this.getItem(t),this.getlinkExpressionList(),this.getPartStructList(e,t),this.getPartTreeList(e,t,l,a,"true","BBB"),this.getReviewList(this.editItemID),this.getVersionList(this.editItemID,this.queryInfo.catID),this.PartDetailDialogVisible=!0,this.PartName=a+" Detail"},update(t){this.$forceUpdate(t)},async getPartStructList(t,e){if(t=(await this.$http.post("getPartStruct",{hCatID:t,hItemID:e,hhIsShowSwap:"true",hVer:"0"})).data,200!==t.status)return this.$message.error("获取零件的 结构表 失败！");this.partStructlist=JSON.parse(t.data),this.partStructfieldlist=JSON.parse(t.tableAfield),this.partfieldlist=JSON.parse(t.tableBfield)},async getlinkExpressionList(){var t=(await this.$http.post("getlinkExpressionList",{hCatID:this.queryInfo.catID}))["data"];if(200!==t.status)return this.$message.error("获取父级分类数据失败！");this.linkExpressionList=t.data_MetaLink,this.tableAfieldlist=JSON.parse(t.tableAfield),this.tableBfieldlist=JSON.parse(t.tableBfield)},handItemRowClick(t,e,a){},handLinkRowClick(t,e,a){this.linkItemList=[],this.getlinkItemList(t.SourceCatID,t.TargetCatID,this.editItemID,t.LinkID)},async getlinkItemList(t,e,a,l){if(t=(await this.$http.post("getlinkItemList",{hSourceCatID:t,hTargetCatID:e,hItemID:a,hLinkID:l})).data,200!==t.status)return this.$message.error("获取关联表达式对应的 LinkItem 数据失败！");0!==t.total?this.linkItemList=JSON.parse(t.data):this.linkItemList=[],this.linkAfieldlist=JSON.parse(t.tableAfield)},async getReviewList(t){if(t=(await this.$http.post("getReviewList",{hItemID:t})).data,200!==t.status)return this.$message.error("评审过程数据失败！");0!==t.total?this.reviewItemList=JSON.parse(t.data):this.reviewItemList=[],this.reviewFieldList=JSON.parse(t.tableBfield)},async getVersionList(t,e){if(t=(await this.$http.post("getVersionList",{hItemID:t,hCatID:e})).data,200!==t.status)return this.$message.error("获取版本历史数据失败！");0!==t.total?this.versionItemList=JSON.parse(t.data):this.versionItemList=[]},getItem(t){this.datalist.forEach(e=>{e.t_ID===t&&(this.editDataForm=e)})},handleSizeChange(t){this.queryInfo.pageSize=t,this.getDataList()},handleCurrentChange(t){this.queryInfo.pageNum=t,this.getDataList()},addDialogClosed(){for(let t=0;t<this.tableBfieldlist.length;t++)this.addDataForm[this.tableBfieldlist[t].t_FieldName]=""},editDialogClosed(){for(let t=0;t<this.tableBfieldlist.length;t++)this.editDataForm[this.tableBfieldlist[t].t_FieldName]=""},async addData(){var t=(await this.$http.post("addData",{hCatID:this.queryInfo.catID,form:JSON.stringify(this.addDataForm)}))["data"];200!==t.status&&this.$message.error("添加数据失败！"),this.$message.success("添加数据成功！"),this.addDialogVisible=!1,this.getDataList()},async editData(){var t=(await this.$http.post("editData",{hItemID:this.editItemID,form:JSON.stringify(this.editDataForm)}))["data"];200!==t.status&&this.$message.error("修改数据失败！"),this.$message.success("修改数据成功！"),this.editDialogVisible=!1,this.getDataList()},async removeDataById(t,e){return"confirm"!==await this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch(t=>t)?this.$message.info("已取消删除"):(t=(await this.$http.post("deleteData",{hItemID:t,hCatID:e}))["data"],200!==t.status?this.$message.error("删除数据失败！"):(this.getDataList(),void this.$message.success("删除数据成功！")))},async showEditDialog(t){this.editItemID=t,t=(await this.$http.post("getData",{hItemID:t,hCatID:this.queryInfo.catID})).data,0===t.total?this.templist="":this.templist=JSON.parse(t.data),this.editDataForm=this.templist[0],this.editDialogVisible=!0},async showPushtoFlowDialog(t,e,a){t=(await this.$http.post("getPushFlowList",{hItemID:t,hCatID:e,hItemState:a})).data,200!==t.status&&this.$message.error("获取流程失败！"),this.$message.success("获取流程成功！"),0===t.total?this.templist="":this.flowlist=JSON.parse(t.data),this.flowBfieldlist=JSON.parse(t.tableBfield),this.pushToFlowDialogVisible=!0},async pushItemToFlow(t,e){t=(await this.$http.post("pushItemToFlow",{hCatID:this.queryInfo.catID,hItemID:this.editItemID,hFlowCatID:t,hFlowItemID:e})).data,200!==t.status&&this.$message.error("加入流程失败！"),this.$message.success("加入流程成功！"),this.pushToFlowDialogVisible=!1},async getParentCateList(){var t=(await this.$http.post("getCatList",{hCatID:"IPART"}))["data"];if(200!==t.status)return this.$message.error("获取父级分类数据失败！");this.parentCateList=t.data1},async getPartTreeList(t,e,a,l,i,s){if(t=(await this.$http.post("getPartTreeList",{hCatID:t,hItemID:e,hName:a,hCode:l,hIsIncludeRootNode:i,hParentID:s})).data,200!==t.status)return this.$message.error("获取零件结构树形显示的数据列表失败！");"true"===i?this.PartTreeList=JSON.parse(t.data):(this.templist=JSON.parse(t.data),this.swapPartList=JSON.parse(t.mStream),this.GetSubList(this.PartTreeList,e))},GetSubList(t,e){if(null!==t)for(var a=0;a<t.length;a++)t[a].CChildID===e?(t[a].Children=this.templist,t[a].SwapDataTable=this.swapPartList):Object.prototype.hasOwnProperty.call(t[a],"Children")&&this.GetSubList(t[a].Children,e)},parentCateChanged(){0<this.selectedKeys.length?(this.cat_pid=this.selectedKeys[this.selectedKeys.length-1],this.cat_level=this.selectedKeys.length):(this.cat_pid=0,this.cat_level=0)},handlePartTreeNodeClick(t){this.getPartTreeList(t.CCatID,t.CChildID,t.Label,t.CCode,"false",t.CParentID)},handleNodeClick(t){this.queryInfo.catID=t.t_ID,this.idArray=[t.t_ID],window.localStorage.setItem("sessionPartCatID",t.t_ID),this.getDataList(),this.linkItemList=[],this.linkExpressionList=[],this.getItem(this.editItemID)},handleClick(t,e){},handleCommand(t){this.$message("click on item "+t)}}};a("9f95"),a=a("2877"),a=Object(a.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"mainZone"},[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/home"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("零件管理")]),a("el-breadcrumb-item",[t._v("零件列表")])],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"col-1",attrs:{span:4}},[a("el-card",{staticClass:"card-1",attrs:{"body-style":{padding:"5px"}}},[a("el-scrollbar",{staticStyle:{height:"1000px"}},[a("el-tree",{ref:"treeList",attrs:{"default-expanded-keys":t.idArray,"current-node-key":this.queryInfo.catID,"highlight-current":"",data:t.parentCateList,props:t.cascaderProps,"node-key":"t_ID"},on:{"node-click":t.handleNodeClick}})],1)],1)],1),a("el-col",{staticClass:"col-1",attrs:{span:20}},[a("el-row",[a("el-card",{staticClass:"card-2",attrs:{"body-style":{padding:"15px"}}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-input",{attrs:{placeholder:"输入名称查找",clearable:""},on:{clear:t.getDataList},model:{value:t.queryInfo.query,callback:function(e){t.$set(t.queryInfo,"query",e)},expression:"queryInfo.query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.findItemList},slot:"append"})],1)],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.addDialogVisible=!0}}},[t._v("添加")])],1),a("el-col",{attrs:{span:6}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.A,expression:"A"}],attrs:{type:"primary"},on:{click:t.editPartList}},[t._v("编辑")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.B,expression:"B"}],attrs:{type:"primary"},on:{click:t.savePartList}},[t._v("保存")]),a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.C,expression:"C"}],attrs:{type:"primary"},on:{click:t.cancelPartList}},[t._v("取消")])],1),a("el-col",{attrs:{span:2}},[a("el-popover",{attrs:{placement:"right",title:"列筛选",trigger:"click"}},[a("el-checkbox-group",{on:{change:t.filter},model:{value:t.checkList,callback:function(e){t.checkList=e},expression:"checkList"}},t._l(t.tableBfieldlist,(function(t){return a("el-checkbox",{key:t.t_FieldID,attrs:{label:t.t_Name}})})),1),a("el-button",{attrs:{slot:"reference",size:"small"},slot:"reference"},[a("i",{staticClass:"el-icon-arrow-down el-icon-menu"})])],1)],1)],1),a("el-table",{directives:[{name:"show",rawName:"v-show",value:0<t.datalist.length,expression:"datalist.length > 0 ? true: false"}],attrs:{data:t.datalist,border:"","highlight-current-row":""},on:{"cell-click":t.celledit,"row-click":t.handItemRowClick}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{prop:"t_ID",label:"ID",width:"40","show-overflow-tooltip":!0}}),t._l(t.tableBfieldlist,(function(t){return a("el-table-column",{key:t.t_FieldID,attrs:{"show-overflow-tooltip":!1,label:t.t_Name,width:t.CWidth,prop:t.t_FieldName}})})),a("el-table-column",{attrs:{label:"操作",width:"550"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){return t.showPartDetailDialog(e.row.t_ID,e.row.t_CatID,e.row.t_Code,e.row.t_Name)}}},[t._v("Part Detail")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){return t.showPushtoFlowDialog(e.row.t_ID,e.row.t_CatID,e.row.t_State)}}},[t._v("加入流程")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:"",plain:""},on:{click:function(a){return t.showEditDialog(e.row.t_ID)}}},[t._v("修改")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini",plain:""},on:{click:function(a){return t.removeDataById(e.row.t_ID,e.row.t_CatID)}}},[t._v("删除")]),a("el-button",{attrs:{type:"primary",plain:""},on:{click:function(a){return t.saveBomViewDialog(e.row.t_ID,e.row.t_CatID,e.row.t_State)}}},[t._v("存为 BomView")])]}}])})],2),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.pageFlag,expression:"pageFlag"}],attrs:{"current-page":t.queryInfo.pagenum,"page-sizes":[30,50,100,20],"page-size":t.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:"添加数据",visible:t.addDialogVisible,width:"50%"},on:{"update:visible":function(e){t.addDialogVisible=e},close:t.addDialogClosed}},[t._l(t.tableBfieldlist,(function(e){return a("el-form",{key:e.t_FieldID,ref:"addDataFormRef",refInFor:!0,attrs:{model:t.addDataForm,rules:t.addDataFormRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:e.t_Name,prop:t.addDataForm[e.t_FieldName]}},[3===e.t_ControlType?a("div",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.addDataForm[e.t_FieldName],callback:function(a){t.$set(t.addDataForm,e.t_FieldName,a)},expression:"addDataForm[Bfield.t_FieldName]"}},t._l(e.PropValue,(function(t){return a("el-option",{key:t.t_No,attrs:{label:t.t_Display,value:t.t_Value}})})),1)],1):12===e.t_ControlType?a("div",[a("el-date-picker",{attrs:{type:"date","value-format":"yyyy-mm-dd",placeholder:"请选择日期"},model:{value:t.addDataForm[e.t_FieldName],callback:function(a){t.$set(t.addDataForm,e.t_FieldName,a)},expression:"addDataForm[Bfield.t_FieldName]"}})],1):1===e.t_ControlType&&1===e.t_DataType?a("div",[a("el-input",{attrs:{placeholder:"请输入字符串"},model:{value:t.addDataForm[e.t_FieldName],callback:function(a){t.$set(t.addDataForm,e.t_FieldName,t._n(a))},expression:"addDataForm[Bfield.t_FieldName]"}})],1):1===e.t_ControlType&&2===e.t_DataType?a("div",[a("el-input",{attrs:{placeholder:"请输入整数"},model:{value:t.addDataForm[e.t_FieldName],callback:function(a){t.$set(t.addDataForm,e.t_FieldName,t._n(a))},expression:"addDataForm[Bfield.t_FieldName]"}})],1):1===e.t_ControlType&&3===e.t_DataType?a("div",[a("el-input",{attrs:{placeholder:"请输入数字"},model:{value:t.addDataForm[e.t_FieldName],callback:function(a){t.$set(t.addDataForm,e.t_FieldName,t._n(a))},expression:"addDataForm[Bfield.t_FieldName]"}})],1):a("div",[a("el-input",{ref:"linkName",refInFor:!0,model:{value:t.addDataForm[e.t_FieldName],callback:function(a){t.$set(t.addDataForm,e.t_FieldName,a)},expression:"addDataForm[Bfield.t_FieldName]"}})],1)])],1)})),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.addDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.addData}},[t._v("确 定")])],1)],2),a("el-dialog",{attrs:{title:"修改数据信息",visible:t.editDialogVisible,width:"50%"},on:{"update:visible":function(e){t.editDialogVisible=e},close:t.editDialogClosed}},[t._l(t.tableBfieldlist,(function(e){return a("el-form",{key:e.t_FieldID,ref:"editDataFormRef",refInFor:!0,attrs:{model:t.editDataForm,"label-width":"70px"}},[a("el-form-item",{attrs:{label:e.t_Name}},[3===e.t_ControlType?a("div",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.editDataForm[e.t_FieldName],callback:function(a){t.$set(t.editDataForm,e.t_FieldName,a)},expression:"editDataForm[Bfield.t_FieldName]"}},t._l(e.PropValue,(function(t){return a("el-option",{key:t.t_No,attrs:{label:t.t_Display,value:t.t_Value}})})),1)],1):a("div",[a("el-input",{model:{value:t.editDataForm[e.t_FieldName],callback:function(a){t.$set(t.editDataForm,e.t_FieldName,a)},expression:"editDataForm[Bfield.t_FieldName]"}})],1)])],1)})),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.editData}},[t._v("确 定")])],1)],2),a("el-dialog",{attrs:{title:"加入工作流",visible:t.pushToFlowDialogVisible,width:"50%"},on:{"update:visible":function(e){t.pushToFlowDialogVisible=e}}},[a("el-table",{attrs:{data:t.flowlist,height:"500px",border:"",stripe:"","highlight-current-row":"","row-style":{height:"30px"},"cell-style":{padding:"0px"}}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{prop:"t_FlowNumber",label:"编码"}}),a("el-table-column",{attrs:{prop:"t_Name",label:"名称"}}),a("el-table-column",{attrs:{prop:"t_FlowState",label:"状态"}}),a("el-table-column",{attrs:{prop:"v_LeaderName",label:"管理者"}}),a("el-table-column",{attrs:{prop:"t_IsIssued",label:"自动发布"}}),a("el-table-column",{attrs:{label:"操作",width:"125px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini",circle:""},on:{click:function(a){return t.pushItemToFlow(e.row.t_CatID,e.row.t_ID)}}})]}}])})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.pushToFlowDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.pushItemToFlow}},[t._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"Part Item 生成 BOMView",visible:t.saveBomViewDialogVisible,width:"50%"},on:{"update:visible":function(e){t.saveBomViewDialogVisible=e},close:function(e){t.saveBomViewDialogVisible=!1}}},[a("el-form",{ref:"addBomViewFormRef",attrs:{model:t.addBomViewForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"BomView 名称",prop:"BomViewName"}},[a("el-input",{model:{value:t.addBomViewForm.BomViewName,callback:function(e){t.$set(t.addBomViewForm,"BomViewName",e)},expression:"addBomViewForm.BomViewName"}})],1),a("el-form-item",{attrs:{label:"BomView  编号",prop:"BomViewCode"}},[a("el-input",{model:{value:t.addBomViewForm.BomViewCode,callback:function(e){t.$set(t.addBomViewForm,"BomViewCode",e)},expression:"addBomViewForm.BomViewCode"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.saveBomViewDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.savePartToBomView}},[t._v("保 存")])],1)],1),a("el-dialog",{attrs:{title:t.PartName,visible:t.PartDetailDialogVisible,width:"90%"},on:{"update:visible":function(e){t.PartDetailDialogVisible=e}}},[a("el-card",{staticClass:"card-3",attrs:{"body-style":{padding:"5px"}}},[a("el-tabs",{directives:[{name:"show",rawName:"v-show",value:0<t.datalist.length,expression:"datalist.length > 0 ? true: false"}],on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"tab-1"}},[t._l(t.tableAfieldlist,(function(e){return a("el-form",{key:e.t_FieldID,ref:"editDataFormRef",refInFor:!0,staticClass:"form-1",attrs:{model:t.editDataForm,"label-width":"80px","label-position":"left",disabled:""}},[a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"创建者"}},[a("el-input",{model:{value:t.editDataForm.v_CreateByName,callback:function(e){t.$set(t.editDataForm,"v_CreateByName",e)},expression:"editDataForm['v_CreateByName']"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"创建时间"}},[a("el-input",{model:{value:t.editDataForm.t_CreateTime,callback:function(e){t.$set(t.editDataForm,"t_CreateTime",e)},expression:"editDataForm['t_CreateTime']"}})],1)],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"修改者"}},[a("el-input",{model:{value:t.editDataForm.v_ModByName,callback:function(e){t.$set(t.editDataForm,"v_ModByName",e)},expression:"editDataForm['v_ModByName']"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"修改时间"}},[a("el-input",{model:{value:t.editDataForm.t_LastModTime,callback:function(e){t.$set(t.editDataForm,"t_LastModTime",e)},expression:"editDataForm['t_LastModTime']"}})],1)],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"类别"}},[a("el-input",{model:{value:t.editDataForm.v_CatName,callback:function(e){t.$set(t.editDataForm,"v_CatName",e)},expression:"editDataForm['v_CatName']"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"状态"}},[a("el-input",{model:{value:t.editDataForm.v_StateName,callback:function(e){t.$set(t.editDataForm,"v_StateName",e)},expression:"editDataForm['v_StateName']"}})],1)],1)],1),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"版本"}},[a("el-input",{model:{value:t.editDataForm.t_Ver,callback:function(e){t.$set(t.editDataForm,"t_Ver",e)},expression:"editDataForm['t_Ver']"}})],1)],1),a("el-col",[a("el-form-item",{attrs:{label:"安全级别"}},[a("el-input",{model:{value:t.editDataForm.v_SecurityLevelName,callback:function(e){t.$set(t.editDataForm,"v_SecurityLevelName",e)},expression:"editDataForm['v_SecurityLevelName']"}})],1)],1)],1)],1)})),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.editData}},[t._v("确 定")])],1)],2),a("el-tab-pane",{attrs:{label:"特有属性",name:"tab-2"}},[t._l(t.tableBfieldlist,(function(e){return a("el-form",{key:e.t_FieldID,ref:"editDataFormRef",refInFor:!0,staticClass:"form-1",attrs:{model:t.editDataForm,"label-width":"80px",disabled:"",size:"small","label-position":"left"}},[a("el-form-item",{attrs:{label:e.t_Name}},[3===e.t_ControlType?a("div",[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:t.editDataForm[e.t_FieldName],callback:function(a){t.$set(t.editDataForm,e.t_FieldName,a)},expression:"editDataForm[Bfield.t_FieldName]"}},t._l(e.PropValue,(function(t){return a("el-option",{key:t.t_No,attrs:{label:t.t_Display,value:t.t_Value}})})),1)],1):a("div",[a("el-input",{model:{value:t.editDataForm[e.t_FieldName],callback:function(a){t.$set(t.editDataForm,e.t_FieldName,a)},expression:"editDataForm[Bfield.t_FieldName]"}})],1)])],1)})),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editDialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.editData}},[t._v("确 定")])],1)],2),a("el-tab-pane",{attrs:{label:"SuperBom",name:"tab-3"}},[a("el-table",{attrs:{data:t.partStructlist,"row-class-name":t.tableRowClassName,height:"500px",border:""}},[t._l(t.partfieldlist,(function(t){return a("el-table-column",{key:t.t_FieldID,attrs:{"show-overflow-tooltip":!1,label:t.t_Name,width:t.CWidth,prop:t.t_FieldName}})})),t._l(t.partStructfieldlist,(function(t){return a("el-table-column",{key:t.t_FieldID,attrs:{"show-overflow-tooltip":!0,label:t.t_Name,width:t.CWidth,prop:t.t_FieldName}})}))],2)],1),a("el-tab-pane",{attrs:{label:"Link",name:"tab-4"}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:6}},[a("el-table",{attrs:{data:t.linkExpressionList,height:"500px",border:"",stripe:""},on:{"row-click":t.handLinkRowClick}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{prop:"LinkName",label:"清单项"}})],1)],1),a("el-col",{attrs:{span:18}},[a("el-table",{directives:[{name:"show",rawName:"v-show",value:0<t.linkItemList.length,expression:"linkItemList.length > 0 ? true: false"}],attrs:{data:t.linkItemList,height:"500px",border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"名称",prop:"t_Name"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"代号",prop:"t_Code"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"类别",prop:"v_CatName"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"创建者",prop:"v_CreateByName"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"创建时间",prop:"t_CreateTime"}})],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"审批过程",name:"tab-5"}},[a("el-table",{directives:[{name:"show",rawName:"v-show",value:0<t.reviewItemList.length,expression:"reviewItemList.length > 0 ? true: false"}],attrs:{data:t.reviewItemList,height:"500px",border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"审批流程",prop:"CFLOWOBJNAME"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"节点任务",prop:"t_StepName"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"负责人",prop:"t_LoginName"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"任务状态",prop:"t_StepState"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"评审结论",prop:"t_IsAgree"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"评审意见",prop:"t_Detail"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"附件",prop:"CATTACHFILE"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"签署时间",prop:"t_CreateTime"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"开始时间",prop:"t_ActualStart"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"结束时间",prop:"t_ActualFinish"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"批次号",prop:"t_BatchNo"}})],1)],1),a("el-tab-pane",{attrs:{label:"Part Structure",name:"tab-6"}},[a("el-row",{attrs:{gutter:10}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.structfilterList,callback:function(e){t.structfilterList=e},expression:"structfilterList"}},t._l(t.structfilterList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"col-1",attrs:{span:8}},[a("el-card",{staticClass:"card-1",attrs:{"body-style":{padding:"5px"}}},[a("el-scrollbar",{staticStyle:{height:"500px"}},[a("el-tree",{ref:"treeList",attrs:{"highlight-current":"",data:t.PartTreeList,props:t.PartTreecascaderProps,"node-key":"CChildID"},on:{"node-click":t.handlePartTreeNodeClick},scopedSlots:t._u([{key:"default",fn:function(e){var l=e.node;e=e.data;return a("span",{},[!0===e.IsChild?a("span",{staticClass:"el-tree-node__label"},[a("i",{staticClass:"el-icon-folder-add el-tree-node__label"}),t._v(t._s(l.label)+" ")]):a("span",{staticClass:"el-tree-node__label"},[a("i",{staticClass:"el-icon-folder  el-tree-node__label"}),t._v(t._s(l.label)+" ")])])}}])})],1)],1)],1),a("el-col",{attrs:{span:16}},[a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.insertSwapDialogVisible=!0}}},[t._v("增加")]),a("el-button",{attrs:{type:"primary"},on:{click:t.savePartToBomView}},[t._v("移出")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveBomViewDialogVisible=!1}}},[t._v("最新版")]),a("el-button",{attrs:{type:"primary"},on:{click:t.savePartToBomView}},[t._v("发布版")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.saveBomViewDialogVisible=!1}}},[t._v("全部版")]),a("el-button",{attrs:{type:"primary"},on:{click:t.savePartToBomView}},[t._v("选用")])],1),a("el-row",[a("el-table",{directives:[{name:"show",rawName:"v-show",value:0<t.swapPartList.length,expression:"swapPartList.length > 0 ? true: false"}],attrs:{data:t.swapPartList,"row-class-name":t.tableRowClassName,height:"500px",border:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"名称",prop:"名称"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"代号",prop:"代号"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"数量",prop:"数量"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"版本",prop:"版本号"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"单位",prop:"单位"}})],1)],1)],1)],1)],1),a("el-tab-pane",{attrs:{label:"版本历史",name:"tab-7"}},[a("el-table",{directives:[{name:"show",rawName:"v-show",value:0<t.versionItemList.length,expression:"versionItemList.length > 0 ? true: false"}],attrs:{data:t.versionItemList,height:"500px",border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"类别",prop:"t_CatID"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"名称",prop:"t_Name"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"编号",prop:"t_Code"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"版本号",prop:"t_Ver"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"修改人",prop:"t_LastModBy"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"修改时间",prop:"t_LastModTime"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"创建时间",prop:"t_CreateBy"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"是否新版",prop:"t_IsNewVer"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"发行状态",prop:"t_IsReleaseVer"}})],1)],1)],1)],1)],1),a("el-dialog",{attrs:{title:"Insert Swap Parts into Part Structure ",visible:t.insertSwapDialogVisible,width:"55%"},on:{"update:visible":function(e){t.insertSwapDialogVisible=e}}},[a("el-row",{attrs:{gutter:10}},[a("el-col",{staticClass:"col-1",attrs:{span:6}},[a("el-card",{staticClass:"card-4",attrs:{"body-style":{padding:"5px"}}},[a("el-scrollbar",{staticStyle:{height:"1000px"}},[a("el-tree",{ref:"treeList",attrs:{"default-expanded-keys":t.idArray,"current-node-key":this.queryInfo.catID,"highlight-current":"",data:t.partCatList,props:t.cascaderProps,"node-key":"t_ID"},on:{"node-click":t.handlePartNodeClick}})],1)],1)],1),a("el-col",{staticClass:"col-1",attrs:{span:18}},[a("el-card",{staticClass:"card-4",attrs:{"body-style":{padding:"15px"}}},[a("el-row",{directives:[{name:"show",rawName:"v-show",value:0<t.partlist.length,expression:"partlist.length > 0 ? true: false"}],attrs:{gutter:10}},[a("el-col",{attrs:{span:20}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:t.getPartList},model:{value:t.queryInfo.query,callback:function(e){t.$set(t.queryInfo,"query",e)},expression:"queryInfo.query"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.getPartList},slot:"append"})],1)],1)],1),a("el-scrollbar",{staticStyle:{height:"400px"}},[a("el-table",{directives:[{name:"show",rawName:"v-show",value:0<t.partlist.length,expression:"partlist.length > 0 ? true: false"}],attrs:{data:t.partlist,border:"","highlight-current-row":"","row-style":{height:"30px"},"cell-style":{padding:"0px"}}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"名称",prop:"t_Name"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"代号",prop:"t_Code"}}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:"类别",prop:"v_CatName"}}),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(a){return t.insertSwapIntoStruct(e.row)}}},[t._v("Insert Swap")])]}}])})],1)],1),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:0<t.partlist.length,expression:"partlist.length > 0 ? true: false"}],attrs:{"current-page":t.queryInfo.pagenum,"page-sizes":[8,15,30],"page-size":t.queryInfo.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleInsertSwapSizeChange,"current-change":t.handleInsertSwapCurrentChange}})],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.insertSwapDialogVisible=!1}}},[t._v("关闭")])],1)],1)],1)],1)],1)}),[],!1,null,"22aad995",null);e.default=a.exports}}]);