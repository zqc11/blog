(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2d0d9f63"],{"6a24":function(t,e,o){"use strict";o.r(e);var a={data(){return{mainHeight:this.$root.gScreenHeight-70,tableHeight:this.$root.gScreenHeight-170,addForm:{No:1,groupID:"",groupName:""},addDialogVisible:!1,editDialogVisible:!1,rightsList:[],treeProps:{label:"ParentID",children:"Children"}}},created(){this.getRightsList(),this.$root.leveOnePathName="权限管理",this.$root.leveTwoPathName="一级权限",this.tableHeight=JSON.parse(window.localStorage.getItem("gHeight"))-240,this.slbHeight=JSON.parse(window.localStorage.getItem("gHeight"))-200,this.mainHeight=JSON.parse(window.localStorage.getItem("gHeight"))-185},methods:{async getRightsList(){var t=(await this.$http.post("getRightList"))["data"];if(200!==t.status)return this.$message.error("获取权限列表失败！");this.rightsList=JSON.parse(t.data)},async showAddDialog(){this.addForm.groupID="",this.addForm.groupName="",this.addForm.No=1,this.addDialogVisible=!0},async addLevelOne(){var t=(await this.$http.post("AddLevelOne",{hGroupID:this.addForm.groupID,hGroupName:this.addForm.groupName,hNo:this.addForm.No}))["data"];if(200!==t.status)return this.$message.error("添加一级权限失败！");this.$message.error("添加一级权限列成功！"),this.getRightsList(),this.addDialogVisible=!1},async showEditDialog(t){this.addForm.groupID=t.t_ID,this.addForm.groupName=t.t_Name,this.addForm.No=t.t_No,this.editDialogVisible=!0},async editLevelOne(){var t=(await this.$http.post("EditLevelOne",{hGroupID:this.addForm.groupID,hGroupName:this.addForm.groupName,hNo:this.addForm.No}))["data"];if(200!==t.status)return this.$message.error("修改一级权限失败！");this.$message.error("修改一级权限列成功！"),this.getRightsList(),this.editDialogVisible=!1},async remove(t,e){if(e=(await this.$http.post("deleteLevelTwo",{hModuleID:e.t_ID})).data,200!==e.status)return this.$message.error("删除一级权限失败！");this.$message.error("删除一级权限列成功！"),this.getRightsList(),this.addDialogVisible=!1},addDialogClosed(){this.$refs.addFormRef.resetFields()}}};o=o("2877"),o=Object(o.a)(a,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:"mainZone",staticClass:"datalist-container",style:{height:t.mainHeight+"px"}},[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:24}},[o("el-row",[o("el-card",{attrs:{"body-style":{padding:"5px"}}},[o("el-row",{attrs:{gutter:10}},[o("el-col",{attrs:{span:8}},[o("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"primary"},on:{click:t.showAddDialog}},[t._v("增加一级权限")])],1)],1),o("el-table",{attrs:{data:t.rightsList,border:"",stripe:"",height:t.tableHeight,"highlight-current-row":"","header-cell-style":{"text-align":"center"},"row-style":{height:"30px"},"cell-style":{padding:"0px"}}},[o("el-table-column",{attrs:{type:"index"}}),o("el-table-column",{attrs:{label:"一级权限",prop:"t_Name"}}),o("el-table-column",{attrs:{label:"ID",prop:"t_ID"}}),o("el-table-column",{attrs:{label:"序号",prop:"t_No"}}),o("el-table-column",{attrs:{label:"操作",width:"180px"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(o){return t.showEditDialog(e.row)}}}),o("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(o){return t.deleteUserById(e.row)}}})]}}])})],1)],1)],1)],1)],1),o("el-dialog",{attrs:{title:"添加一级权限",visible:t.addDialogVisible,width:"50%"},on:{"update:visible":function(e){t.addDialogVisible=e},close:t.addDialogClosed}},[o("el-form",{ref:"addFormRef",attrs:{model:t.addForm,"label-width":"170px"}},[o("el-form-item",{attrs:{label:"ID",prop:"groupID"}},[o("el-input",{attrs:{placeholder:"请输入一级权限的唯一ID，用大于1000的整数表示"},model:{value:t.addForm.groupID,callback:function(e){t.$set(t.addForm,"groupID",e)},expression:"addForm.groupID"}})],1),o("el-form-item",{attrs:{label:"序号",prop:"No"}},[o("el-input",{attrs:{placeholder:"请输入整数，数值越小，菜单位置越靠前"},model:{value:t.addForm.No,callback:function(e){t.$set(t.addForm,"No",e)},expression:"addForm.No"}})],1),o("el-form-item",{attrs:{label:"一级权限名称",prop:"groupName"}},[o("el-input",{model:{value:t.addForm.groupName,callback:function(e){t.$set(t.addForm,"groupName",e)},expression:"addForm.groupName"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.addDialogVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.addLevelOne}},[t._v("确 定")])],1)],1),o("el-dialog",{attrs:{title:"修改一级权限",visible:t.editDialogVisible,width:"50%"},on:{"update:visible":function(e){t.editDialogVisible=e},close:t.addDialogClosed}},[o("el-form",{ref:"addFormRef",attrs:{model:t.addForm,"label-width":"170px"}},[o("el-form-item",{attrs:{label:"ID",prop:"groupID"}},[o("el-input",{attrs:{placeholder:"请输入大于100-200之间的整数"},model:{value:t.addForm.groupID,callback:function(e){t.$set(t.addForm,"groupID",e)},expression:"addForm.groupID"}})],1),o("el-form-item",{attrs:{label:"序号",prop:"No"}},[o("el-input",{model:{value:t.addForm.No,callback:function(e){t.$set(t.addForm,"No",e)},expression:"addForm.No"}})],1),o("el-form-item",{attrs:{label:"一级权限",prop:"groupName"}},[o("el-input",{model:{value:t.addForm.groupName,callback:function(e){t.$set(t.addForm,"groupName",e)},expression:"addForm.groupName"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.addDialogVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.editLevelOne}},[t._v("确 定")])],1)],1)],1)}),[],!1,null,"85a9fddc",null);e.default=o.exports}}]);