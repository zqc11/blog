(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8472223a"],{"417c":function(t,e,n){},"496b":function(t,e,n){"use strict";n=n("5e90");class r extends n.CircleNodeModel{constructor(t,e){t.text||(t.text=""),"string"==typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),super(t,e)}setAttributes(){this.r=20}}e.a={type:"custom-circle",view:n.CircleNode,model:r}},"5e90":function(t,e,n){function r(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return o[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var o,i;window,t.exports=(o=[function(t,e,n){"use strict";(function(t,r){n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return Ze})),n.d(e,"c",(function(){return Ut})),n.d(e,"d",(function(){return Ot})),n.d(e,"e",(function(){return pt})),n.d(e,"f",(function(){return ft})),n.d(e,"g",(function(){return mt})),n.d(e,"h",(function(){return hn})),n.d(e,"i",(function(){return ot})),n.d(e,"j",(function(){return bt})),n.d(e,"k",(function(){return Qt})),n.d(e,"l",(function(){return re})),n.d(e,"m",(function(){return et})),n.d(e,"n",(function(){return se})),n.d(e,"o",(function(){return j})),n.d(e,"p",(function(){return je})),n.d(e,"q",(function(){return le})),n.d(e,"r",(function(){return ve})),n.d(e,"s",(function(){return dn})),n.d(e,"t",(function(){return de})),n.d(e,"u",(function(){return ee})),n.d(e,"v",(function(){return Oe})),n.d(e,"w",(function(){return _e})),n.d(e,"x",(function(){return we})),n.d(e,"y",(function(){return Ke})),n.d(e,"z",(function(){return Je})),n.d(e,"A",(function(){return pn})),n.d(e,"B",(function(){return xe})),n.d(e,"C",(function(){return $})),n.d(e,"D",(function(){return Se})),n.d(e,"E",(function(){return ue})),n.d(e,"F",(function(){return ae})),n.d(e,"G",(function(){return te})),n.d(e,"H",(function(){return qt})),n.d(e,"I",(function(){return Ae})),n.d(e,"J",(function(){return Me})),n.d(e,"K",(function(){return ct})),n.d(e,"L",(function(){return Ee})),n.d(e,"M",(function(){return De}));var o=[],i=(Object.freeze(o),{});function a(){return++Lt.mobxGuid}function u(t){throw c(!1,t),"X"}function c(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is a production build."))}function s(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}Object.freeze(i);var l=function(){};function f(t){return null!==t&&"object"==typeof t}function p(t){if(null!==t&&"object"==typeof t)return t=Object.getPrototypeOf(t),t===Object.prototype||null===t}function d(t,e,n){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:n})}function h(t,e){var n="isMobX"+t;return e.prototype[n]=!0,function(t){return f(t)&&!0===t[n]}}function y(t){return t instanceof Map}function g(t){return t instanceof Set}function v(t){var e,n=new Set;for(e in t)n.add(e);return Object.getOwnPropertySymbols(t).forEach((function(e){Object.getOwnPropertyDescriptor(t,e).enumerable&&n.add(e)})),Array.from(n)}function b(t){return(t&&t.toString?t:new String(t)).toString()}function m(t){return null===t?null:"object"==typeof t?""+t:t}var O="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,_=Symbol("mobx administration"),w=(E.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},E.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},E.prototype.reportObserved=function(){return Ft(this)},E.prototype.reportChanged=function(){var t;Ht(),(t=this).lowestObserverState!==J.STALE&&(t.lowestObserverState=J.STALE,t.observers.forEach((function(e){e.dependenciesState===J.UP_TO_DATE&&(e.isTracing!==Q.NONE&&Gt(e,t),e.onBecomeStale()),e.dependenciesState=J.STALE}))),Xt()},E.prototype.toString=function(){return this.name},E),x=h("Atom",w);function E(t){void 0===t&&(t="Atom@"+a()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=J.NOT_TRACKING}function j(t,e,n){return void 0===e&&(e=l),void 0===n&&(n=l),t=new w(t),e!==l&&ce("onBecomeObserved",t,e,void 0),n!==l&&ue(t,n),t}var S={identity:function(t,e){return t===e},structural:function(t,e){return gn(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return gn(t,e,1)}},P=function(t,e){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},k=function(){return(k=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function A(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return{value:(t=t&&n>=t.length?void 0:t)&&t[n++],done:!t}}}}function M(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function D(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(M(arguments[e]));return t}var N=Symbol("mobx did run lazy initializers"),T=Symbol("mobx pending decorators"),C={},R={};function I(t){var e,n;if(!0!==t[N]){var r=t[T];if(r){d(t,N,!0);var o=D(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var i=A(o),a=i.next();!a.done;a=i.next()){var u=r[a.value];u.propertyCreator(t,u.prop,u.descriptor,u.decoratorTarget,u.decoratorArguments)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}}}function L(t,e){return function(){function n(n,o,i,a){return!0===a?(e(n,o,i,n,r),null):(Object.prototype.hasOwnProperty.call(n,T)||(a=n[T],d(n,T,k({},a))),n[T][o]={prop:o,propertyCreator:e,descriptor:i,decoratorTarget:n,decoratorArguments:r},(i=(a=t)?C:R)[u=o]||(i[u]={configurable:!0,enumerable:a,get:function(){return I(this),this[u]},set:function(t){I(this),this[u]=t}}));var u}var r,i;return(2===(i=arguments).length||3===i.length)&&("string"==typeof i[1]||"symbol"==typeof i[1])||4===i.length&&!0===i[3]?(r=o,n.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),n)}}function z(t,e,n){return we(t)?t:Array.isArray(t)?$.array(t,{name:n}):p(t)?$.object(t,void 0,{name:n}):y(t)?$.map(t,{name:n}):g(t)?$.set(t,{name:n}):t}function B(t){return t}function H(e){c(e);var n=L(!0,(function(t,n,r,o,i){r=r?r.initializer?r.initializer.call(t):r.value:void 0,un(t).addObservableProp(n,r,e)}));return void 0!==t&&t.env,n.enhancer=e,n}var X={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function F(t){return null==t?X:"string"==typeof t?{name:t,deep:!0,proxy:!0}:t}Object.freeze(X);var G=H(z),U=H((function(t,e,n){return null==t||pn(t)||Ke(t)||Je(t)||en(t)?t:Array.isArray(t)?$.array(t,{name:n,deep:!1}):p(t)?$.object(t,void 0,{name:n,deep:!1}):y(t)?$.map(t,{name:n,deep:!1}):g(t)?$.set(t,{name:n,deep:!1}):u(!1)})),Y=H(B),V=H((function(t,e,n){return gn(t,e)?e:t}));function W(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?B:z}var K={box:function(t,e){return 2<arguments.length&&q("box"),e=F(e),new jt(t,W(e),e.name,!0,e.equals)},array:function(t,e){2<arguments.length&&q("array");e=F(e);var n=W(e),r=(e=e.name,void 0);return void 0===e&&(e="ObservableArray@"+a()),e=new Ge(e,n,r=void 0!==r&&r),n=e.values,Object.defineProperty(n,_,{enumerable:!1,writable:!1,configurable:!0,value:e}),r=new Proxy(e.values,Fe),e.proxy=r,t&&t.length&&(n=_t(!0),e.spliceWithArray(0,0,t),wt(n)),r},map:function(t,e){return 2<arguments.length&&q("map"),e=F(e),new Ze(t,W(e),e.name)},set:function(t,e){return 2<arguments.length&&q("set"),e=F(e),new tn(t,W(e),e.name)},object:function(t,e,n){if("string"==typeof e&&q("object"),n=F(n),!1===n.proxy)return le({},t,e,n);var r,o=fe(n);n=le({},void 0,void 0,n),n=n,r=new Proxy(n,Re),n=n[_].proxy=r;return pe(n,t,e,o),n},ref:Y,shallow:U,deep:G,struct:V},$=function(t,e,n){return"string"==typeof e||"symbol"==typeof e?G.apply(null,arguments):we(t)?t:(n=p(t)?$.object(t,e,n):Array.isArray(t)?$.array(t,e):y(t)?$.map(t,e):g(t)?$.set(t,e):t)!==t?n:void u(!1)};function q(t){u("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}function Z(t){this.cause=t}Object.keys(K).forEach((function(t){return $[t]=K[t]}));var J,Q,tt=L(!1,(function(t,e,n,r,o){var i=n.get;n=n.set,o=o[0]||{};un(t).addComputedProp(t,e,k({get:i,set:n,context:t},o))})),et=(U=tt({equals:S.structural}),function(t,e,n){if("string"==typeof e)return tt.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return tt.apply(null,arguments);var r="object"==typeof e?e:{};return r.get=t,r.set="function"==typeof e?e:r.set,r.name=r.name||t.name||"",new Pt(r)});function nt(t){return t instanceof Z}function rt(t){switch(t.dependenciesState){case J.UP_TO_DATE:return;case J.NOT_TRACKING:case J.STALE:return 1;case J.POSSIBLY_STALE:for(var e=ft(!0),n=st(),r=t.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(kt(a)){if(Lt.disableErrorBoundaries)a.get();else try{a.get()}catch(t){return lt(n),pt(e),1}if(t.dependenciesState===J.STALE)return lt(n),pt(e),1}}return dt(t),lt(n),pt(e),0}}function ot(){return null!==Lt.trackingDerivation}function it(t){t=0<t.observers.size,0<Lt.computationDepth&&t&&u(!1),Lt.allowStateChanges||!t&&"strict"!==Lt.enforceActions||u(!1)}function at(t,e,n){var r=ft(!0);dt(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Lt.runId;var o,i=Lt.trackingDerivation;if(Lt.trackingDerivation=t,!0===Lt.disableErrorBoundaries)o=e.call(n);else try{o=e.call(n)}catch(t){o=new Z(t)}Lt.trackingDerivation=i;for(var a,u,c,s=t,l=s.observing,f=s.observing=s.newObserving,p=J.UP_TO_DATE,d=0,h=s.unboundDepsCount,y=0;y<h;y++)0===(a=f[y]).diffValue&&(a.diffValue=1,d!==y&&(f[d]=a),d++),a.dependenciesState>p&&(p=a.dependenciesState);for(f.length=d,s.newObserving=null,h=l.length;h--;)0===(a=l[h]).diffValue&&zt(a,s),a.diffValue=0;for(;d--;)1===(a=f[d]).diffValue&&(a.diffValue=0,c=s,(u=a).observers.add(c),u.lowestObserverState>c.dependenciesState&&(u.lowestObserverState=c.dependenciesState));return p!==J.UP_TO_DATE&&(s.dependenciesState=p,s.onBecomeStale()),pt(r),o}function ut(t){var e=t.observing;t.observing=[];for(var n=e.length;n--;)zt(e[n],t);t.dependenciesState=J.NOT_TRACKING}function ct(t){var e=st();try{return t()}finally{lt(e)}}function st(){var t=Lt.trackingDerivation;return Lt.trackingDerivation=null,t}function lt(t){Lt.trackingDerivation=t}function ft(t){var e=Lt.allowStateReads;return Lt.allowStateReads=t,e}function pt(t){Lt.allowStateReads=t}function dt(t){if(t.dependenciesState!==J.UP_TO_DATE){t.dependenciesState=J.UP_TO_DATE;for(var e=t.observing,n=e.length;n--;)e[n].lowestObserverState=J.UP_TO_DATE}}et.struct=U,(V=J=J||{})[V.NOT_TRACKING=-1]="NOT_TRACKING",V[V.UP_TO_DATE=0]="UP_TO_DATE",V[V.POSSIBLY_STALE=1]="POSSIBLY_STALE",V[V.STALE=2]="STALE",(U=Q=Q||{})[U.NONE=0]="NONE",U[U.LOG=1]="LOG",U[U.BREAK=2]="BREAK";var ht=0,yt=1;V=Object.getOwnPropertyDescriptor((function(){}),"name");function gt(t,e,n){function r(){return vt(0,e,n||this,arguments)}return r.isMobxAction=!0,r}function vt(t,e,n,r){var o=bt();try{return e.apply(n,r)}catch(t){throw o.error=t}finally{mt(o)}}function bt(t,e,n){var r=st();Ht(),r={prevDerivation:r,prevAllowStateChanges:_t(!0),prevAllowStateReads:ft(!0),notifySpy:!1,startTime:0,actionId:yt++,parentActionId:ht};return ht=r.actionId,r}function mt(t){ht!==t.actionId&&u("invalid action stack. did you forget to finish an action?"),ht=t.parentActionId,void 0!==t.error&&(Lt.suppressReactionErrors=!0),wt(t.prevAllowStateChanges),pt(t.prevAllowStateReads),Xt(),lt(t.prevDerivation),t.notifySpy,Lt.suppressReactionErrors=!1}function Ot(t,e){var n;t=_t(t);try{n=e()}finally{wt(t)}return n}function _t(t){var e=Lt.allowStateChanges;return Lt.allowStateChanges=t,e}function wt(t){Lt.allowStateChanges=t}V&&V.configurable,P(Et=Nt,U=xt=w),Et.prototype=null===U?Object.create(U):(Tt.prototype=U.prototype,new Tt),Nt.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},Nt.prototype.set=function(t){this.value,(t=this.prepareNewValue(t))!==Lt.UNCHANGED&&this.setNewValue(t)},Nt.prototype.prepareNewValue=function(t){if(it(this),Ie(this)){var e=ze(this,{object:this,type:"update",newValue:t});if(!e)return Lt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?Lt.UNCHANGED:t},Nt.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),Be(this)&&Xe(this,{type:"update",object:this,newValue:t,oldValue:e})},Nt.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},Nt.prototype.intercept=function(t){return Le(this,t)},Nt.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),He(this,t)},Nt.prototype.toJSON=function(){return this.get()},Nt.prototype.toString=function(){return this.name+"["+this.value+"]"},Nt.prototype.valueOf=function(){return m(this.get())},Nt.prototype[Symbol.toPrimitive]=function(){return this.valueOf()};var xt,Et,jt=Nt,St=h("ObservableValue",jt),Pt=(Dt.prototype.onBecomeStale=function(){var t;(t=this).lowestObserverState===J.UP_TO_DATE&&(t.lowestObserverState=J.POSSIBLY_STALE,t.observers.forEach((function(e){e.dependenciesState===J.UP_TO_DATE&&(e.dependenciesState=J.POSSIBLY_STALE,e.isTracing!==Q.NONE&&Gt(e,t),e.onBecomeStale())})))},Dt.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},Dt.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},Dt.prototype.get=function(){this.isComputing&&u("Cycle detected in computation "+this.name+": "+this.derivation),0!==Lt.inBatch||0!==this.observers.size||this.keepAlive?(Ft(this),rt(this)&&this.trackAndCompute()&&(t=this).lowestObserverState!==J.STALE&&(t.lowestObserverState=J.STALE,t.observers.forEach((function(e){e.dependenciesState===J.POSSIBLY_STALE?e.dependenciesState=J.STALE:e.dependenciesState===J.UP_TO_DATE&&(t.lowestObserverState=J.UP_TO_DATE)})))):rt(this)&&(this.warnAboutUntrackedRead(),Ht(),this.value=this.computeValue(!1),Xt());var t,e=this.value;if(nt(e))throw e.cause;return e},Dt.prototype.peek=function(){var t=this.computeValue(!1);if(nt(t))throw t.cause;return t},Dt.prototype.set=function(t){if(this.setter){c(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else c(!1,!1)},Dt.prototype.trackAndCompute=function(){var t=this.value,e=this.dependenciesState===J.NOT_TRACKING,n=this.computeValue(!0);e=e||nt(t)||nt(n)||!this.equals(t,n);return e&&(this.value=n),e},Dt.prototype.computeValue=function(t){var e;if(this.isComputing=!0,Lt.computationDepth++,t)e=at(this,this.derivation,this.scope);else if(!0===Lt.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new Z(t)}return Lt.computationDepth--,this.isComputing=!1,e},Dt.prototype.suspend=function(){this.keepAlive||(ut(this),this.value=void 0)},Dt.prototype.observe=function(t,e){var n=this,r=!0,o=void 0;return re((function(){var i,a=n.get();r&&!e||(i=st(),t({type:"update",object:n,newValue:a,oldValue:o}),lt(i)),r=!1,o=a}))},Dt.prototype.warnAboutUntrackedRead=function(){},Dt.prototype.toJSON=function(){return this.get()},Dt.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},Dt.prototype.valueOf=function(){return m(this.get())},Dt.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},Dt),kt=h("ComputedValue",Pt),At=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Mt={};function Dt(t){this.dependenciesState=J.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=J.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+a(),this.value=new Z(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Q.NONE,c(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+a(),t.set&&(this.setter=gt(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?S.structural:S.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}function Nt(t,e,n,r,o){return void 0===n&&(n="ObservableValue@"+a()),void 0===r&&(r=!0),void 0===o&&(o=S.default),r=xt.call(this,n)||this,r.enhancer=e,r.name=n,r.equals=o,r.hasUnreportedChange=!1,r.value=e(t,void 0,n),r}function Tt(){this.constructor=Et}function Ct(){return"undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:Mt}var Rt=!0,It=!1,Lt=(0<(V=Ct()).__mobxInstanceCount&&!V.__mobxGlobals&&(Rt=!1),(Rt=(!V.__mobxGlobals||V.__mobxGlobals.version===(new At).version)&&Rt)?V.__mobxGlobals?(V.__mobxInstanceCount+=1,V.__mobxGlobals.UNCHANGED||(V.__mobxGlobals.UNCHANGED={}),V.__mobxGlobals):(V.__mobxInstanceCount=1,V.__mobxGlobals=new At):(setTimeout((function(){It||u("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new At));function zt(t,e){t.observers.delete(e),0===t.observers.size&&Bt(t)}function Bt(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,Lt.pendingUnobservations.push(t))}function Ht(){Lt.inBatch++}function Xt(){if(0==--Lt.inBatch){Wt();for(var t=Lt.pendingUnobservations,e=0;e<t.length;e++){var n=t[e];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof Pt&&n.suspend())}Lt.pendingUnobservations=[]}}function Ft(t){var e=Lt.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,(e.newObserving[e.unboundDepsCount++]=t).isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&0<Lt.inBatch&&Bt(t),!1)}function Gt(t,e){var n;t.isTracing===Q.BREAK&&(n=[],function t(e,n,r){1e3<=n.length?n.push("(and many more)"):(n.push(""+new Array(r).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return t(e,n,r+1)})))}(de(t),n,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof Pt?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")())}Yt.prototype.onBecomeStale=function(){this.schedule()},Yt.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Lt.pendingReactions.push(this),Wt())},Yt.prototype.isScheduled=function(){return this._isScheduled},Yt.prototype.runReaction=function(){if(!this.isDisposed){if(Ht(),this._isScheduled=!1,rt(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(h){this.reportExceptionInDerivation(h)}}Xt()}},Yt.prototype.track=function(t){this.isDisposed||(Ht(),this._isRunning=!0,t=at(this,t,void 0),this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&ut(this),nt(t)&&this.reportExceptionInDerivation(t.cause),Xt())},Yt.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(Lt.disableErrorBoundaries)throw t;Lt.suppressReactionErrors,Lt.globalReactionErrorHandlers.forEach((function(n){return n(t,e)}))}},Yt.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Ht(),ut(this),Xt()))},Yt.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[_]=this,t},Yt.prototype.toString=function(){return"Reaction["+this.name+"]"},Yt.prototype.trace=function(t){(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!1,r=("boolean"==typeof t[t.length-1]&&(n=t.pop()),function(t){switch(t.length){case 0:return Lt.trackingDerivation;case 1:return dn(t[0]);case 2:return dn(t[0],t[1])}}(t));if(!r)return u(!1);r.isTracing,Q.NONE,r.isTracing=n?Q.BREAK:Q.LOG})(this,t=void 0!==t&&t)};var Ut=Yt;function Yt(t,e,n,r){void 0===t&&(t="Reaction@"+a()),void 0===r&&(r=!1),this.name=t,this.onInvalidate=e,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=J.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+a(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Q.NONE}var Vt=function(t){return t()};function Wt(){0<Lt.inBatch||Lt.isRunningReactions||Vt(Kt)}function Kt(){Lt.isRunningReactions=!0;for(var t=Lt.pendingReactions,e=0;0<t.length;){100==++e&&t.splice(0);for(var n=t.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}Lt.isRunningReactions=!1}var $t=h("Reaction",Ut);function qt(t){return function(){}}function Zt(){u(!1)}function Jt(t){return function(e,n,r){if(r){if(r.value)return{value:gt(t,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return gt(t,o.call(this))}}}return i=t,function(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!1,get:function(){},set:function(t){d(this,e,Qt(i,t))}})}.apply(this,arguments);var i}}var Qt=function(t,e,n,r){return 1===arguments.length&&"function"==typeof t?gt(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?gt(t,e):1===arguments.length&&"string"==typeof t?Jt(t):!0!==r?Jt(e).apply(null,arguments):void d(t,e,gt(t.name||e,n.value,this))};function te(t,e){return vt("string"==typeof t||t.name,"function"==typeof t?t:e,this,void 0)}function ee(t){return"function"==typeof t&&!0===t.isMobxAction}function ne(t,e,n){d(t,e,gt(e,n.bind(t)))}function re(t,e){var n,r,o,u=(e=void 0===e?i:e)&&e.name||t.name||"Autorun@"+a();function c(){t(o)}return(o=e.scheduler||e.delay?(n=ie(e),r=!1,new Ut(u,(function(){r||(r=!0,n((function(){r=!1,o.isDisposed||o.track(c)})))}),e.onError,e.requiresObservable)):new Ut(u,(function(){this.track(c)}),e.onError,e.requiresObservable)).schedule(),o.getDisposer()}Qt.bound=function(t,e,n,r){return!0===r?(ne(t,e,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return ne(this,e,n.value||n.initializer.call(this)),this[e]},set:Zt}:{enumerable:!1,configurable:!0,set:function(t){ne(this,e,t)},get:function(){}}};var oe=function(t){return t()};function ie(t){return t.scheduler||(t.delay?function(e){return setTimeout(e,t.delay)}:oe)}function ae(t,e,n){var r,o,u,c=(n=void 0===n?i:n).name||"Reaction@"+a(),s=Qt(c,n.onError?(r=n.onError,o=e,function(){try{return o.apply(this,arguments)}catch(e){r.call(this,e)}}):e),l=!n.scheduler&&!n.delay,f=ie(n),p=!0,d=!1,h=n.compareStructural?S.structural:n.equals||S.default,y=new Ut(c,(function(){p||l?g():d||(d=!0,f(g))}),n.onError,n.requiresObservable);function g(){var e;d=!1,y.isDisposed||(e=!1,y.track((function(){var n=t(y);e=p||!h(u,n),u=n})),p&&n.fireImmediately&&s(u,y),p||!0!==e||s(u,y),p=p&&!1)}return y.schedule(),y.getDisposer()}function ue(t,e,n){return ce("onBecomeUnobserved",t,e,n)}function ce(t,e,n,r){var o="function"==typeof r?dn(e,n):dn(e),i="function"==typeof r?r:n,a=t+"Listeners";return o[a]?o[a].add(i):o[a]=new Set([i]),"function"!=typeof o[t]?u(!1):function(){var t=o[a];t&&(t.delete(i),0===t.size&&delete o[a])}}function se(t){var e,n,r=t.enforceActions,o=t.computedRequiresReaction,i=t.computedConfigurable,a=t.disableErrorBoundaries,c=t.reactionScheduler,s=t.reactionRequiresObservable,l=t.observableRequiresReaction;if(!0===t.isolateGlobalState&&((Lt.pendingReactions.length||Lt.inBatch||Lt.isRunningReactions)&&u("isolateGlobalState should be called before MobX is running any reactions"),It=!0,Rt&&(0==--Ct().__mobxInstanceCount&&(Ct().__mobxGlobals=void 0),Lt=new At)),void 0!==r){var f=void 0;switch(r){case!0:case"observed":f=!0;break;case!1:case"never":f=!1;break;case"strict":case"always":f="strict";break;default:u("Invalid value for 'enforceActions': '"+r+"', expected 'never', 'always' or 'observed'")}Lt.enforceActions=f,Lt.allowStateChanges=!0!==f&&"strict"!==f}void 0!==o&&(Lt.computedRequiresReaction=!!o),void 0!==s&&(Lt.reactionRequiresObservable=!!s),void 0!==l&&(Lt.observableRequiresReaction=!!l,Lt.allowStateReads=!Lt.observableRequiresReaction),void 0!==i&&(Lt.computedConfigurable=!!i),void 0!==a&&(Lt.disableErrorBoundaries=!!a),c&&(e=c,n=Vt,Vt=function(t){return e((function(){return n(t)}))})}function le(t,e,n,r){var o=fe(r=F(r));return I(t),un(t,r.name,o.enhancer),e&&pe(t,e,n,o),t}function fe(t){return t.defaultDecorator||(!1===t.deep?Y:G)}function pe(t,e,n,r){var o,i;Ht();try{var a=O(e);try{for(var u=A(a),c=u.next();!c.done;c=u.next()){var s=c.value,l=Object.getOwnPropertyDescriptor(e,s),f=(n&&s in n?n[s]:l.get?tt:r)(t,s,l,!0);f&&Object.defineProperty(t,s,f)}}catch(t){o={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}}finally{Xt()}}function de(t,e){return he(dn(t,e))}function he(t){var e,n={name:t.name};return t.observing&&0<t.observing.length&&(n.dependencies=(t=t.observing,e=[],t.forEach((function(t){-1===e.indexOf(t)&&e.push(t)})),e.map(he))),n}var ye=0;function ge(){this.message="FLOW_CANCELLED"}function ve(t){1!==arguments.length&&u("Flow expects 1 argument and cannot be used as decorator");var e=t.name||"<unnamed flow>";return function(){var n,r=arguments,o=++ye,i=Qt(e+" - runid: "+o+" - init",t).apply(this,r),a=void 0;r=new Promise((function(t,r){var u=0;function c(t){var n;a=void 0;try{n=Qt(e+" - runid: "+o+" - yield "+u++,i.next).call(i,t)}catch(t){return r(t)}l(n)}function s(t){var n;a=void 0;try{n=Qt(e+" - runid: "+o+" - yield "+u++,i.throw).call(i,t)}catch(t){return r(t)}l(n)}function l(e){if(!e||"function"!=typeof e.then)return e.done?t(e.value):(a=Promise.resolve(e.value)).then(c,s);e.then(l,r)}n=r,c(void 0)}));return r.cancel=Qt(e+" - runid: "+o+" - cancel",(function(){try{a&&be(a);var t=i.return(void 0),e=Promise.resolve(t.value);e.then(l,l),be(e),n(new ge)}catch(t){n(t)}})),r}}function be(t){"function"==typeof t.cancel&&t.cancel()}function me(t,e){return null!=t&&(void 0===e?kt(t):!1!==pn(t)&&(!!t[_].values.has(e)&&(t=dn(t,e),kt(t))))}function Oe(t){return 1<arguments.length?u(!1):me(t)}function _e(t,e){return"string"!=typeof e?u(!1):me(t,e)}function we(t){return 1!==arguments.length&&u(!1),null!=(t=t)&&(void 0!==e?!!pn(t)&&t[_].values.has(e):pn(t)||!!t[_]||x(t)||$t(t)||kt(t));var e}function xe(t){return pn(t)?t[_].getKeys():Je(t)||en(t)?Array.from(t.keys()):Ke(t)?t.map((function(t,e){return e})):u(!1)}function Ee(t){return pn(t)?xe(t).map((function(e){return t[e]})):Je(t)?xe(t).map((function(e){return t.get(e)})):en(t)?Array.from(t.values()):Ke(t)?t.slice():u(!1)}function je(t){return pn(t)?xe(t).map((function(e){return[e,t[e]]})):Je(t)?xe(t).map((function(e){return[e,t.get(e)]})):en(t)?Array.from(t.entries()):Ke(t)?t.map((function(t,e){return[e,t]})):u(!1)}function Se(t,e,n,r){return"function"==typeof n?(o=n,r=r,hn(t,e).observe(o,r)):(o=e,r=n,hn(t).observe(o,r));var o}ge.prototype=Object.create(Error.prototype);var Pe={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function ke(t,e,n,r){return r.detectCycles&&t.set(e,n),n}function Ae(t,e){var n;return(e=(e="boolean"==typeof e?{detectCycles:e}:e)||Pe).detectCycles=void 0===e.detectCycles?!0===e.recurseEverything:!0===e.detectCycles,function t(e,n,r){if(!n.recurseEverything&&!we(e))return e;if("object"!=typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(St(e))return t(e.get(),n,r);if(we(e)&&xe(e),!0===n.detectCycles&&null!==e&&r.has(e))return r.get(e);if(Ke(e)||Array.isArray(e)){var o=ke(r,e,[],n),i=e.map((function(e){return t(e,n,r)}));o.length=i.length;for(var a=0,u=i.length;a<u;a++)o[a]=i[a];return o}if(en(e)||Object.getPrototypeOf(e)===Set.prototype){var c;if(!1===n.exportMapsAsObjects)return c=ke(r,e,new Set,n),e.forEach((function(e){c.add(t(e,n,r))})),c;var s=ke(r,e,[],n);return e.forEach((function(e){s.push(t(e,n,r))})),s}if(Je(e)||Object.getPrototypeOf(e)===Map.prototype){var l;if(!1===n.exportMapsAsObjects)return l=ke(r,e,new Map,n),e.forEach((function(e,o){l.set(o,t(e,n,r))})),l;var f=ke(r,e,{},n);return e.forEach((function(e,o){f[o]=t(e,n,r)})),f}var p=ke(r,e,{},n);return v(e).forEach((function(o){p[o]=t(e[o],n,r)})),p}(t,e,n=e.detectCycles?new Map:n)}function Me(t,e){void 0===e&&(e=void 0),Ht();try{return t.apply(e)}finally{Xt()}}function De(t,e,n){return 1===arguments.length||e&&"object"==typeof e?(r=t,o=e,(a=new Promise((function(t,e){var n=Ne(r,t,k(k({},o),{onError:e}));i=function(){n(),e("WHEN_CANCELLED")}}))).cancel=i,a):Ne(t,e,n||{});var r,o,i,a}function Ne(t,e,n){"number"==typeof n.timeout&&(r=setTimeout((function(){if(!i[_].isDisposed){i();var t=new Error("WHEN_TIMEOUT");if(!n.onError)throw t;n.onError(t)}}),n.timeout)),n.name=n.name||"When@"+a();var r,o=gt(n.name+"-effect",e),i=re((function(e){t()&&(e.dispose(),r&&clearTimeout(r),o())}),n);return i}function Te(t){return t[_]}function Ce(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t}var Re={has:function(t,e){if(e===_||"constructor"===e||e===N)return!0;var n=Te(t);return Ce(e)?n.has(e):e in t},get:function(t,e){if(e===_||"constructor"===e||e===N)return t[e];var n=Te(t),r=n.values.get(e);return r instanceof w?(void 0===(r=r.get())&&n.has(e),r):(Ce(e)&&n.has(e),t[e])},set:function(t,e,n){return!!Ce(e)&&(function t(e,n,r){if(2!==arguments.length||en(e))if(pn(e)){var o=e[_];o.values.get(n)?o.write(n,r):o.addObservableProp(n,r,o.defaultEnhancer)}else if(Je(e))e.set(n,r);else if(en(e))e.add(n);else{if(!Ke(e))return u(!1);c(0<=(n="number"!=typeof n?parseInt(n,10):n),"Not a valid index: '"+n+"'"),Ht(),n>=e.length&&(e.length=n+1),e[n]=r,Xt()}else{Ht();var i=n;try{for(var a in i)t(e,a,i[a])}finally{Xt()}}}(t,e,n),!0)},deleteProperty:function(t,e){return!!Ce(e)&&(Te(t).remove(e),!0)},ownKeys:function(t){return Te(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return u("Dynamic observable objects cannot be frozen"),!1}};function Ie(t){return void 0!==t.interceptors&&0<t.interceptors.length}function Le(t,e){var n=t.interceptors||(t.interceptors=[]);return n.push(e),s((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function ze(t,e){var n=st();try{for(var r=D(t.interceptors||[]),o=0,i=r.length;o<i&&(c(!(e=r[o](e))||e.type,"Intercept handlers should return nothing or a change object"),e);o++);return e}finally{lt(n)}}function Be(t){return void 0!==t.changeListeners&&0<t.changeListeners.length}function He(t,e){var n=t.changeListeners||(t.changeListeners=[]);return n.push(e),s((function(){var t=n.indexOf(e);-1!==t&&n.splice(t,1)}))}function Xe(t,e){var n=st(),r=t.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](e);lt(n)}}var Fe={get:function(t,e){return e===_?t[_]:"length"===e?t[_].getArrayLength():"number"==typeof e?Ue.get.call(t,e):"string"!=typeof e||isNaN(e)?(Ue.hasOwnProperty(e)?Ue:t)[e]:Ue.get.call(t,parseInt(e))},set:function(t,e,n){return"length"===e&&t[_].setArrayLength(n),"number"==typeof e&&Ue.set.call(t,e,n),"symbol"==typeof e||isNaN(e)?t[e]=n:Ue.set.call(t,parseInt(e),n),!0},preventExtensions:function(t){return u("Observable arrays cannot be frozen"),!1}};Ye.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},Ye.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&0<t.length?t.map(this.dehancer):t},Ye.prototype.intercept=function(t){return Le(this,t)},Ye.prototype.observe=function(t,e){return(e=void 0!==e&&e)&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),He(this,t)},Ye.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},Ye.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(e<t){for(var n=new Array(t-e),r=0;r<t-e;r++)n[r]=void 0;this.spliceWithArray(e,0,n)}else this.spliceWithArray(t,e-t)},Ye.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},Ye.prototype.spliceWithArray=function(t,e,n){var r=this,i=(it(this.atom),this.values.length);if(void 0===t?t=0:i<t?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===n&&(n=o),Ie(this)){if(i=ze(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:n}),!i)return o;e=i.removedCount,n=i.added}return n=0===n.length?n:n.map((function(t){return r.enhancer(t,void 0)})),i=this.spliceItemsIntoValues(t,e,n),0===e&&0===n.length||this.notifyArraySplice(t,n,i),this.dehanceValues(i)},Ye.prototype.spliceItemsIntoValues=function(t,e,n){if(n.length<1e4)return(r=this.values).splice.apply(r,D([t,e],n));var r=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(n,this.values.slice(t+e)),r},Ye.prototype.notifyArrayChildUpdate=function(t,e,n){var r=!this.owned&&!1,o=Be(this);r=o||r?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:n}:null;this.atom.reportChanged(),o&&Xe(this,r)},Ye.prototype.notifyArraySplice=function(t,e,n){var r=!this.owned&&!1,o=Be(this);r=o||r?{object:this.proxy,type:"splice",index:t,removed:n,added:e,removedCount:n.length,addedCount:e.length}:null;this.atom.reportChanged(),o&&Xe(this,r)};var Ge=Ye,Ue={intercept:function(t){return this[_].intercept(t)},observe:function(t,e){return this[_].observe(t,e=void 0!==e&&e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[_];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[_];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(t);case 2:return o.spliceWithArray(t,e)}return o.spliceWithArray(t,e,n)},spliceWithArray:function(t,e,n){return this[_].spliceWithArray(t,e,n)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[_];return n.spliceWithArray(n.values.length,0,t),n.values.length},pop:function(){return this.splice(Math.max(this[_].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this[_];return n.spliceWithArray(0,0,t),n.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[_];e=e.dehanceValues(e.values).indexOf(t);return-1<e&&(this.splice(e,1),!0)},get:function(t){var e=this[_];if(e&&t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t])},set:function(t,e){var n=this[_],r=n.values;if(t<r.length){it(n.atom);var o=r[t];if(Ie(n)){var i=ze(n,{type:"update",object:n.proxy,index:t,newValue:e});if(!i)return;e=i.newValue}(e=n.enhancer(e,o))!==o&&(r[t]=e,n.notifyArrayChildUpdate(t,e,o))}else{if(t!==r.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+r.length);n.spliceWithArray(t,0,[e])}}};function Ye(t,e,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new w(t||"ObservableArray@"+a()),this.enhancer=function(n,r){return e(n,r,t+"[..]")}}["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(t){"function"==typeof Array.prototype[t]&&(Ue[t]=function(){var e=this[_];e.atom.reportObserved(),e=e.dehanceValues(e.values);return e[t].apply(e,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(t){"function"==typeof Array.prototype[t]&&(Ue[t]=function(e,n){var r=this,o=this[_];return o.atom.reportObserved(),o.dehanceValues(o.values)[t]((function(t,o){return e.call(n,t,o,r)}),n)})})),["reduce","reduceRight"].forEach((function(t){Ue[t]=function(){var e=this,n=this[_],r=(n.atom.reportObserved(),arguments[0]);return arguments[0]=function(t,o,i){return o=n.dehanceValue(o),r(t,o,i,e)},n.values[t].apply(n.values,arguments)}}));var Ve,We=h("ObservableArrayAdministration",Ge);function Ke(t){return f(t)&&We(t[_])}var $e,qe={},Ze=(an.prototype._has=function(t){return this._data.has(t)},an.prototype.has=function(t){var e=this;if(!Lt.trackingDerivation)return this._has(t);var n,r=this._hasMap.get(t);return r||(n=r=new jt(this._has(t),B,this.name+"."+b(t)+"?",!1),this._hasMap.set(t,n),ue(n,(function(){return e._hasMap.delete(t)}))),r.get()},an.prototype.set=function(t,e){var n=this._has(t);if(Ie(this)){var r=ze(this,{type:n?"update":"add",object:this,newValue:e,name:t});if(!r)return this;e=r.newValue}return n?this._updateValue(t,e):this._addValue(t,e),this},an.prototype.delete=function(t){var e,n,r=this;return it(this._keysAtom),!(Ie(this)&&!(n=ze(this,{type:"delete",object:this,name:t})))&&!!this._has(t)&&(n=(e=Be(this))?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null,Me((function(){r._keysAtom.reportChanged(),r._updateHasMapEntry(t,!1),r._data.get(t).setNewValue(void 0),r._data.delete(t)})),e&&Xe(this,n),!0)},an.prototype._updateHasMapEntry=function(t,e){t=this._hasMap.get(t),t&&t.setNewValue(e)},an.prototype._updateValue=function(t,e){var n,r=this._data.get(t);(e=r.prepareNewValue(e))!==Lt.UNCHANGED&&(t=(n=Be(this))?{type:"update",object:this,oldValue:r.value,name:t,newValue:e}:null,r.setNewValue(e),n&&Xe(this,t))},an.prototype._addValue=function(t,e){var n=this,r=(it(this._keysAtom),Me((function(){var r=new jt(e,n.enhancer,n.name+"."+b(t),!1);n._data.set(t,r),e=r.value,n._updateHasMapEntry(t,!0),n._keysAtom.reportChanged()})),Be(this));r&&Xe(this,r?{type:"add",object:this,name:t,newValue:e}:null)},an.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},an.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},an.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},an.prototype.values=function(){var t=this,e=this.keys();return bn({next:function(){var n=e.next(),r=n.done;n=n.value;return{done:r,value:r?void 0:t.get(n)}}})},an.prototype.entries=function(){var t=this,e=this.keys();return bn({next:function(){var n=e.next(),r=n.done;n=n.value;return{done:r,value:r?void 0:[n,t.get(n)]}}})},an.prototype[(Ve=_,Symbol.iterator)]=function(){return this.entries()},an.prototype.forEach=function(t,e){var n,r;try{for(var o=A(this),i=o.next();!i.done;i=o.next()){var a=M(i.value,2),u=a[0],c=a[1];t.call(e,c,u,this)}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},an.prototype.merge=function(t){var e=this;return Je(t)&&(t=t.toJS()),Me((function(){var n=_t(!0);try{p(t)?v(t).forEach((function(n){return e.set(n,t[n])})):Array.isArray(t)?t.forEach((function(t){t=M(t,2);var n=t[0];t=t[1];return e.set(n,t)})):y(t)?(t.constructor!==Map&&u("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach((function(t,n){return e.set(n,t)}))):null!=t&&u("Cannot initialize map from "+t)}finally{wt(n)}})),this},an.prototype.clear=function(){var t=this;Me((function(){ct((function(){var e,n;try{for(var r=A(t.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;t.delete(i)}}catch(n){e={error:n}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},an.prototype.replace=function(t){var e=this;return Me((function(){var n,r,o,i,a=function(t){if(y(t)||Je(t))return t;if(Array.isArray(t))return new Map(t);if(p(t)){var e,n=new Map;for(e in t)n.set(e,t[e]);return n}return u("Cannot convert to map from '"+t+"'")}(t),c=new Map,s=!1;try{for(var l=A(e._data.keys()),f=l.next();!f.done;f=l.next()){var d,h=f.value;a.has(h)||(e.delete(h)?s=!0:(d=e._data.get(h),c.set(h,d)))}}catch(r){n={error:r}}finally{try{f&&!f.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}try{for(var g=A(a.entries()),v=g.next();!v.done;v=g.next()){var b,m=M(v.value,2),O=(h=m[0],d=m[1],e._data.has(h));e.set(h,d),e._data.has(h)&&(b=e._data.get(h),c.set(h,b),O||(s=!0))}}catch(r){o={error:r}}finally{try{v&&!v.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}if(!s)if(e._data.size!==c.size)e._keysAtom.reportChanged();else for(var _=e._data.keys(),w=c.keys(),x=_.next(),E=w.next();!x.done;){if(x.value!==E.value){e._keysAtom.reportChanged();break}x=_.next(),E=w.next()}e._data=c})),this},Object.defineProperty(an.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),an.prototype.toPOJO=function(){var t,e,n={};try{for(var r=A(this),o=r.next();!o.done;o=r.next()){var i=M(o.value,2),a=i[0],u=i[1];n["symbol"==typeof a?a:b(a)]=u}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},an.prototype.toJS=function(){return new Map(this)},an.prototype.toJSON=function(){return this.toPOJO()},an.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map((function(e){return b(e)+": "+t.get(e)})).join(", ")+" }]"},an.prototype.observe=function(t,e){return He(this,t)},an.prototype.intercept=function(t){return Le(this,t)},an),Je=h("ObservableMap",Ze),Qe={},tn=(on.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},on.prototype.clear=function(){var t=this;Me((function(){ct((function(){var e,n;try{for(var r=A(t._data.values()),o=r.next();!o.done;o=r.next()){var i=o.value;t.delete(i)}}catch(n){e={error:n}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}))}))},on.prototype.forEach=function(t,e){var n,r;try{for(var o=A(this),i=o.next();!i.done;i=o.next()){var a=i.value;t.call(e,a,a,this)}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(on.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),on.prototype.add=function(t){var e,n,r=this;return it(this._atom),Ie(this)&&!(n=ze(this,{type:"add",object:this,newValue:t}))||this.has(t)||(Me((function(){r._data.add(r.enhancer(t,void 0)),r._atom.reportChanged()})),n=(e=Be(this))?{type:"add",object:this,newValue:t}:null,e&&Xe(this,n)),this},on.prototype.delete=function(t){var e,n,r=this;return!(Ie(this)&&!(n=ze(this,{type:"delete",object:this,oldValue:t})))&&!!this.has(t)&&(n=(e=Be(this))?{type:"delete",object:this,oldValue:t}:null,Me((function(){r._atom.reportChanged(),r._data.delete(t)})),e&&Xe(this,n),!0)},on.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},on.prototype.entries=function(){var t=0,e=Array.from(this.keys()),n=Array.from(this.values());return bn({next:function(){var r=t;return t+=1,r<n.length?{value:[e[r],n[r]],done:!1}:{done:!0}}})},on.prototype.keys=function(){return this.values()},on.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,n=Array.from(this._data.values());return bn({next:function(){return e<n.length?{value:t.dehanceValue(n[e++]),done:!1}:{done:!0}}})},on.prototype.replace=function(t){var e=this;return en(t)&&(t=t.toJS()),Me((function(){var n=_t(!0);try{Array.isArray(t)||g(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&u("Cannot initialize set from "+t)}finally{wt(n)}})),this},on.prototype.observe=function(t,e){return He(this,t)},on.prototype.intercept=function(t){return Le(this,t)},on.prototype.toJS=function(){return new Set(this)},on.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},on.prototype[($e=_,Symbol.iterator)]=function(){return this.values()},on),en=h("ObservableSet",tn),nn=(rn.prototype.read=function(t){return this.values.get(t).get()},rn.prototype.write=function(t,e){var n,r,o=this.target,i=this.values.get(t);if(i instanceof Pt)i.set(e);else{if(Ie(this)){if(!(r=ze(this,{type:"update",object:this.proxy||o,name:t,newValue:e})))return;e=r.newValue}(e=i.prepareNewValue(e))!==Lt.UNCHANGED&&(r=(n=Be(this))?{type:"update",object:this.proxy||o,oldValue:i.value,name:t,newValue:e}:null,i.setNewValue(e),n&&Xe(this,r))}},rn.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map);if(r=e.get(t))return r.get();var n=!!this.values.get(t),r=new jt(n,B,this.name+"."+b(t)+"?",!1);return e.set(t,r),r.get()},rn.prototype.addObservableProp=function(t,e,n){void 0===n&&(n=this.defaultEnhancer);var r=this.target;if(Ie(this)){var o=ze(this,{object:this.proxy||r,name:t,type:"add",newValue:e});if(!o)return;e=o.newValue}var i;o=new jt(e,n,this.name+"."+b(t),!1);this.values.set(t,o),e=o.value,Object.defineProperty(r,t,cn[i=t]||(cn[i]={configurable:!0,enumerable:!0,get:function(){return this[_].read(i)},set:function(t){this[_].write(i,t)}})),this.notifyPropertyAddition(t,e)},rn.prototype.addComputedProp=function(t,e,n){var r,o=this.target;n.name=n.name||this.name+"."+b(e),this.values.set(e,new Pt(n)),t!==o&&(n=Object.getOwnPropertyDescriptor(t,e))&&(!1===n.configurable||!1===n.writable)||Object.defineProperty(t,e,sn[r=e]||(sn[r]={configurable:Lt.computedConfigurable,enumerable:!1,get:function(){return ln(this).read(r)},set:function(t){ln(this).write(r,t)}}))},rn.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(!Ie(this)||(a=ze(this,{object:this.proxy||e,name:t,type:"remove"})))try{Ht();var n,r=Be(this),o=this.values.get(t),i=o&&o.get(),a=(o&&o.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys&&(n=this.pendingKeys.get(t))&&n.set(!1),delete this.target[t],r?{type:"remove",object:this.proxy||e,oldValue:i,name:t}:null);r&&Xe(this,a)}finally{Xt()}}},rn.prototype.illegalAccess=function(t,e){},rn.prototype.observe=function(t,e){return He(this,t)},rn.prototype.intercept=function(t){return Le(this,t)},rn.prototype.notifyPropertyAddition=function(t,e){var n=Be(this);e=n?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;n&&Xe(this,e),this.pendingKeys&&(n=this.pendingKeys.get(t))&&n.set(!0),this.keysAtom.reportChanged()},rn.prototype.getKeys=function(){this.keysAtom.reportObserved();var t,e,n=[];try{for(var r=A(this.values),o=r.next();!o.done;o=r.next()){var i=M(o.value,2),a=i[0];i[1]instanceof jt&&n.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},rn);function rn(t,e,n,r){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=n,this.defaultEnhancer=r,this.keysAtom=new w(n+".keys")}function on(t,e,n){if(void 0===e&&(e=z),void 0===n&&(n="ObservableSet@"+a()),this.name=n,this[$e]=Qe,this._data=new Set,this._atom=j(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,r){return e(t,r,n)},t&&this.replace(t)}function an(t,e,n){if(void 0===e&&(e=z),void 0===n&&(n="ObservableMap@"+a()),this.enhancer=e,this.name=n,this[Ve]=qe,this._keysAtom=j(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}function un(t,e,n){return void 0===e&&(e=""),void 0===n&&(n=z),Object.prototype.hasOwnProperty.call(t,_)?t[_]:(e=(e=p(t)?e:(t.constructor.name||"ObservableObject")+"@"+a())||"ObservableObject@"+a(),e=new nn(t,new Map,b(e),n),d(t,_,e),e)}var cn=Object.create(null),sn=Object.create(null);function ln(t){return t[_]||(I(t),t[_])}var fn=h("ObservableObjectAdministration",nn);function pn(t){return!!f(t)&&(I(t),fn(t[_]))}function dn(t,e){if("object"==typeof t&&null!==t){if(Ke(t))return void 0!==e&&u(!1),t[_].atom;if(en(t))return t[_];var n,r;if(Je(t))return n=t,void 0===e?n._keysAtom:((r=n._data.get(e)||n._hasMap.get(e))||u(!1),r);if(I(t),e&&!t[_]&&t[e],pn(t))return e?((r=t[_].values.get(e))||u(!1),r):u(!1);if(x(t)||kt(t)||$t(t))return t}else if("function"==typeof t&&$t(t[_]))return t[_];return u(!1)}function hn(t,e){return t||u("Expecting some object"),void 0!==e?hn(dn(t,e)):x(t)||kt(t)||$t(t)||Je(t)||en(t)?t:(I(t),t[_]||void u(!1))}var yn=Object.prototype.toString;function gn(t,e,n){return function t(e,n,r,o,i){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var a=typeof e;if("function"!=a&&"object"!=a&&"object"!=typeof n)return!1;if(a=yn.call(e),a!==yn.call(n))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":0<=r&&r++}if(e=vn(e),n=vn(n),a="[object Array]"===a,!a){if("object"!=typeof e||"object"!=typeof n)return!1;var u=e.constructor,c=n.constructor;if(u!==c&&!("function"==typeof u&&u instanceof u&&"function"==typeof c&&c instanceof c)&&"constructor"in e&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1),i=i||[];for(var s,l=(o=o||[]).length;l--;)if(o[l]===e)return i[l]===n;if(o.push(e),i.push(n),a){if((l=e.length)!==n.length)return!1;for(;l--;)if(!t(e[l],n[l],r-1,o,i))return!1}else{var f,p=Object.keys(e);l=p.length;if(Object.keys(n).length!==l)return!1;for(;l--;)if(f=p[l],s=n,!Object.prototype.hasOwnProperty.call(s,f)||!t(e[f],n[f],r-1,o,i))return!1}return o.pop(),i.pop(),!0}(t,e,n=void 0===n?-1:n)}function vn(t){return Ke(t)?t.slice():y(t)||Je(t)||g(t)||en(t)?Array.from(t.entries()):t}function bn(t){return t[Symbol.iterator]=mn,t}function mn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:qt,extras:{getDebugName:function(t,e){return(void 0!==e?dn(t,e):(pn(t)||Je(t)||en(t)?hn:dn)(t)).name}},$mobx:_})}).call(this,n(151),n(75))},function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return I})),n.d(e,"d",(function(){return L})),n.d(e,"e",(function(){return y})),n.d(e,"f",(function(){return v})),n.d(e,"g",(function(){return y})),n.d(e,"h",(function(){return R})),n.d(e,"i",(function(){return o})),n.d(e,"j",(function(){return C})),n.d(e,"k",(function(){return E}));var r,o,i,a,u,c,s,l={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function d(t,e){for(var n in e)t[n]=e[n];return t}function h(t){var e=t.parentNode;e&&e.removeChild(t)}function y(t,e,n){var o,i,a,u={};for(a in e)"key"==a?o=e[a]:"ref"==a?i=e[a]:u[a]=e[a];if(2<arguments.length&&(u.children=3<arguments.length?r.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(a in t.defaultProps)void 0===u[a]&&(u[a]=t.defaultProps[a]);return g(t,u,o,i,null)}function g(t,e,n,r,a){return t={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++i:a},null==a&&null!=o.vnode&&o.vnode(t),t}function v(){return{current:null}}function b(t){return t.children}function m(t,e){this.props=t,this.context=e}function O(t,e){if(null==e)return t.__?O(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?O(t):null}function _(t){(!t.__d&&(t.__d=!0)&&a.push(t)&&!w.__r++||c!==o.debounceRendering)&&((c=o.debounceRendering)||u)(w)}function w(){for(var t;w.__r=a.length;)t=a.sort((function(t,e){return t.__v.__b-e.__v.__b})),a=[],t.some((function(t){var e,n,r,o,i;t.__d&&(o=(r=(t=t).__v).__e,(i=t.__P)&&(e=[],(n=d({},r)).__v=r.__v+1,M(i,r,n,t.__n,void 0!==i.ownerSVGElement,null!=r.__h?[o]:null,e,null==o?O(r):o,r.__h),D(e,r),r.__e!=o&&function t(e){var n,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(r=e.__k[n])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return t(e)}}(r)))}))}function x(t,e,n,r,i,a,u,c,s,p){var d,y,v,m,_,w,x,E=r&&r.__k||f,S=E.length;for(n.__k=[],d=0;d<e.length;d++)if(null!=(m=n.__k[d]=null==(m=e[d])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m||"bigint"==typeof m?g(null,m,null,null,m):Array.isArray(m)?g(b,{children:m},null,null,null):0<m.__b?g(m.type,m.props,m.key,null,m.__v):m)){if(m.__=n,m.__b=n.__b+1,null===(v=E[d])||v&&m.key==v.key&&m.type===v.type)E[d]=void 0;else for(y=0;y<S;y++){if((v=E[y])&&m.key==v.key&&m.type===v.type){E[y]=void 0;break}v=null}M(t,m,v=v||l,i,a,u,c,s,p),_=m.__e,(y=m.ref)&&v.ref!=y&&(x=x||[],v.ref&&x.push(v.ref,null,m),x.push(y,m.__c||_,m)),null!=_?(null==w&&(w=_),"function"==typeof m.type&&m.__k===v.__k?m.__d=s=function t(e,n,r){for(var o,i=e.__k,a=0;i&&a<i.length;a++)(o=i[a])&&(o.__=e,n="function"==typeof o.type?t(o,n,r):j(r,o,o,i,o.__e,n));return n}(m,s,t):s=j(t,m,v,E,_,s),"function"==typeof n.type&&(n.__d=s)):s&&v.__e==s&&s.parentNode!=t&&(s=O(v))}for(n.__e=w,d=S;d--;)null!=E[d]&&("function"==typeof n.type&&null!=E[d].__e&&E[d].__e==n.__d&&(n.__d=O(r,d+1)),function t(e,n,r){var i,a;if(o.unmount&&o.unmount(e),!(i=e.ref)||i.current&&i.current!==e.__e||N(i,null,n),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(e){o.__e(e,n)}i.base=i.__P=null}if(i=e.__k)for(a=0;a<i.length;a++)i[a]&&t(i[a],n,"function"!=typeof e.type);r||null==e.__e||h(e.__e),e.__e=e.__d=void 0}(E[d],E[d]));if(x)for(d=0;d<x.length;d++)N(x[d],x[++d],x[++d])}function E(t,e){return e=e||[],null!=t&&"boolean"!=typeof t&&(Array.isArray(t)?t.some((function(t){E(t,e)})):e.push(t)),e}function j(t,e,n,r,o,i){var a,u,c;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(null==n||o!=i||null==o.parentNode)t:if(null==i||i.parentNode!==t)t.appendChild(o),a=null;else{for(u=i,c=0;(u=u.nextSibling)&&c<r.length;c+=2)if(u==o)break t;t.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function S(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||p.test(e)?n:n+"px"}function P(t,e,n,r,o){var i;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||S(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||S(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/Capture$/,"")),e=(e.toLowerCase()in t?e.toLowerCase():e).slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r||t.addEventListener(e,i?A:k,i):t.removeEventListener(e,i?A:k,i);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"!=typeof n&&(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function k(t){this.l[t.type+!1](o.event?o.event(t):t)}function A(t){this.l[t.type+!0](o.event?o.event(t):t)}function M(t,e,n,i,a,u,c,s,f){var p,y,g,v,_,w,E,j,S,k,A,M=e.type;if(void 0===e.constructor){null!=n.__h&&(f=n.__h,s=e.__e=n.__e,e.__h=null,u=[s]),(p=o.__b)&&p(e);try{t:if("function"==typeof M){if(j=e.props,S=(p=M.contextType)&&i[p.__c],k=p?S?S.props.value:p.__:i,n.__c?E=(y=e.__c=n.__c).__=y.__E:("prototype"in M&&M.prototype.render?e.__c=y=new M(j,k):(e.__c=y=new m(j,k),y.constructor=M,y.render=T),S&&S.sub(y),y.props=j,y.state||(y.state={}),y.context=k,y.__n=i,g=y.__d=!0,y.__h=[]),null==y.__s&&(y.__s=y.state),null!=M.getDerivedStateFromProps&&(y.__s==y.state&&(y.__s=d({},y.__s)),d(y.__s,M.getDerivedStateFromProps(j,y.__s))),v=y.props,_=y.state,g)null==M.getDerivedStateFromProps&&null!=y.componentWillMount&&y.componentWillMount(),null!=y.componentDidMount&&y.__h.push(y.componentDidMount);else{if(null==M.getDerivedStateFromProps&&j!==v&&null!=y.componentWillReceiveProps&&y.componentWillReceiveProps(j,k),!y.__e&&null!=y.shouldComponentUpdate&&!1===y.shouldComponentUpdate(j,y.__s,k)||e.__v===n.__v){y.props=j,y.state=y.__s,e.__v!==n.__v&&(y.__d=!1),(y.__v=e).__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),y.__h.length&&c.push(y);break t}null!=y.componentWillUpdate&&y.componentWillUpdate(j,y.__s,k),null!=y.componentDidUpdate&&y.__h.push((function(){y.componentDidUpdate(v,_,w)}))}y.context=k,y.props=j,y.state=y.__s,(p=o.__r)&&p(e),y.__d=!1,y.__v=e,y.__P=t,p=y.render(y.props,y.state,y.context),y.state=y.__s,null!=y.getChildContext&&(i=d(d({},i),y.getChildContext())),g||null==y.getSnapshotBeforeUpdate||(w=y.getSnapshotBeforeUpdate(v,_)),A=null!=p&&p.type===b&&null==p.key?p.props.children:p,x(t,Array.isArray(A)?A:[A],e,n,i,a,u,c,s,f),y.base=e.__e,e.__h=null,y.__h.length&&c.push(y),E&&(y.__E=y.__=null),y.__e=!1}else null==u&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=function(t,e,n,o,i,a,u,c){var s,f,p,d=n.props,y=e.props,g=e.type,v=0;if("svg"===g&&(i=!0),null!=a)for(;v<a.length;v++)if((s=a[v])&&"setAttribute"in s==!!g&&(g?s.localName===g:3===s.nodeType)){t=s,a[v]=null;break}if(null==t){if(null===g)return document.createTextNode(y);t=i?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,y.is&&y),a=null,c=!1}if(null===g)d===y||c&&t.data===y||(t.data=y);else{if(a=a&&r.call(t.childNodes),f=(d=n.props||l).dangerouslySetInnerHTML,p=y.dangerouslySetInnerHTML,!c){if(null!=a)for(d={},v=0;v<t.attributes.length;v++)d[t.attributes[v].name]=t.attributes[v].value;!p&&!f||p&&(f&&p.__html==f.__html||p.__html===t.innerHTML)||(t.innerHTML=p&&p.__html||"")}if(function(t,e,n,r,o){for(var i in n)"children"===i||"key"===i||i in e||P(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===e[i]||P(t,i,e[i],n[i],r)}(t,y,d,i,c),p)e.__k=[];else if(v=e.props.children,x(t,Array.isArray(v)?v:[v],e,n,o,i&&"foreignObject"!==g,a,u,a?a[0]:n.__k&&O(n,0),c),null!=a)for(v=a.length;v--;)null!=a[v]&&h(a[v]);c||("value"in y&&void 0!==(v=y.value)&&(v!==d.value||v!==t.value||"progress"===g&&!v)&&P(t,"value",v,d.value,!1),"checked"in y&&void 0!==(v=y.checked)&&v!==t.checked&&P(t,"checked",v,d.checked,!1))}return t}(n.__e,e,n,i,a,u,c,f);(p=o.diffed)&&p(e)}catch(t){e.__v=null,!f&&null==u||(e.__e=s,e.__h=!!f,u[u.indexOf(s)]=null),o.__e(t,e,n)}}}function D(t,e){o.__c&&o.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){o.__e(t,e.__v)}}))}function N(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){o.__e(t,n)}}function T(t,e,n){return this.constructor(t,n)}function C(t,e,n){var i,a,u;o.__&&o.__(t,e),a=(i="function"==typeof n)?null:n&&n.__k||e.__k,u=[],M(e,t=(!i&&n||e).__k=y(b,null,[t]),a||l,l,void 0!==e.ownerSVGElement,!i&&n?[n]:!a&&e.firstChild?r.call(e.childNodes):null,u,!i&&n?n:a?a.__e:e.firstChild,i),D(u,t)}function R(t,e){C(t,e,R)}function I(t,e,n){var o,i,a,u=d({},t.props);for(a in e)"key"==a?o=e[a]:"ref"==a?i=e[a]:u[a]=e[a];return 2<arguments.length&&(u.children=3<arguments.length?r.call(arguments,2):n),g(t.type,u,o||t.key,i||t.ref,null)}function L(t,e){return t={__c:e="__cC"+s++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,r;return this.getChildContext||(n=[],((r={})[e]=this).getChildContext=function(){return r},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(_)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}},t.Provider.__=t.Consumer.contextType=t}r=f.slice,o={__e:function(t,e){for(var n,r,o;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&null!=r.getDerivedStateFromError&&(n.setState(r.getDerivedStateFromError(t)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(t),o=n.__d),o)return n.__E=n}catch(e){t=e}throw t}},i=0,m.prototype.setState=function(t,e){var n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state);(t="function"==typeof t?t(d({},n),this.props):t)&&d(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),_(this))},m.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),_(this))},m.prototype.render=b,a=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,s=w.__r=0},function(t,e,n){var r=n(114),o=n(45);n=n(172);r||o(Object.prototype,"toString",n,{unsafe:!0})},function(t,e,n){"use strict";var r=n(39),o=n(76),i=n(66),a=n(57),u=(n=n(108),a.set),c=a.getterFor("Array Iterator");t.exports=n(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?{value:t.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){function r(t,e){if(t){if(t[l]!==p)try{s(t,l,p)}catch(e){t[l]=p}if(t[f]||s(t,f,e),a[e])for(var n in c)if(t[n]!==c[n])try{s(t,n,c[n])}catch(e){t[n]=c[n]}}}var o,i=n(9),a=n(143),u=n(144),c=n(3),s=n(53),l=(n=n(27),n("iterator")),f=n("toStringTag"),p=c.values;for(o in a)r(i[o]&&i[o].prototype,o);r(u,"DOMTokenList")},function(t,e,n){"use strict";function r(t,e){var n=pt[t]=T(ot);return tt(n,{type:"Symbol",tag:t,description:e}),b||(n.description=e),n}function o(t,e,n){return t===nt&&o(dt,e,n),P(t),e=M(e),P(n),_(pt,e)?(n.enumerable?(_(t,Q)&&t[Q][e]&&(t[Q][e]=!1),n=T(n,{enumerable:N(0,!1)})):(_(t,Q)||ct(t,Q,N(1,{})),t[Q][e]=!0),vt(t,e,n)):ct(t,e,n)}function i(t,e){P(t);var n=A(e);e=C(n).concat(s(n));return J(e,(function(e){b&&!y(a,n,e)||o(t,e,n[e])})),t}function a(t){t=M(t);var e=y(lt,this,t);return!(this===nt&&_(pt,t)&&!_(dt,t))&&(!(e||!_(this,t)||!_(pt,t)||_(this,Q)&&this[Q][t])||e)}function u(t,e){var n;t=A(t),e=M(e);if(t!==nt||!_(pt,e)||_(dt,e))return!(n=ut(t,e))||!_(pt,e)||_(t,Q)&&t[Q][e]||(n.enumerable=!0),n}function c(t){t=st(A(t));var e=[];return J(t,(function(t){_(pt,t)||_(Y,t)||ft(e,t)})),e}function s(t){var e=t===nt,n=(t=st(e?dt:A(t)),[]);return J(t,(function(t){!_(pt,t)||e&&!_(nt,t)||ft(n,pt[t])})),n}var l,f=n(17),p=n(9),d=n(49),h=n(95),y=n(36),g=n(15),v=n(78),b=n(35),m=n(104),O=n(19),_=n(34),w=n(93),x=n(30),E=n(33),j=n(55),S=n(83),P=n(32),k=n(38),A=n(39),M=n(82),D=n(40),N=n(67),T=n(52),C=n(62),R=n(68),I=n(134),L=n(109),z=n(54),B=n(37),H=n(87),X=n(117),F=n(45),G=n(77),U=n(86),Y=n(65),V=n(79),W=n(27),K=n(145),$=n(146),q=n(90),Z=n(57),J=n(69).forEach,Q=U("hidden"),tt=(n=W("toPrimitive"),Z.set),et=Z.getterFor("Symbol"),nt=Object.prototype,rt=p.Symbol,ot=rt&&rt.prototype,it=p.TypeError,at=(U=p.QObject,d("JSON","stringify")),ut=z.f,ct=B.f,st=I.f,lt=H.f,ft=g([].push),pt=G("symbols"),dt=G("op-symbols"),ht=G("string-to-symbol-registry"),yt=G("symbol-to-string-registry"),gt=(Z=G("wks"),!U||!U.prototype||!U.prototype.findChild),vt=b&&O((function(){return 7!=T(ct({},"a",{get:function(){return ct(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=ut(nt,e);r&&delete nt[e],ct(t,e,n),r&&t!==nt&&ct(nt,e,r)}:ct;m||(F(ot=(rt=function(){if(j(ot,this))throw it("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?D(arguments[0]):void 0,e=V(t),n=function(t){this===nt&&y(n,dt,t),_(this,Q)&&_(this[Q],e)&&(this[Q][e]=!1),vt(this,e,N(1,t))};return b&&gt&&vt(nt,e,{configurable:!0,set:n}),r(e,t)}).prototype,"toString",(function(){return et(this).tag})),F(rt,"withoutSetter",(function(t){return r(V(t),t)})),H.f=a,B.f=o,z.f=u,R.f=I.f=c,L.f=s,K.f=function(t){return r(W(t),t)},b&&(ct(ot,"description",{configurable:!0,get:function(){return et(this).description}}),v||F(nt,"propertyIsEnumerable",a,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!m,sham:!m},{Symbol:rt}),J(C(Z),(function(t){$(t)})),f({target:"Symbol",stat:!0,forced:!m},{for:function(t){if(t=D(t),_(ht,t))return ht[t];var e=rt(t);return ht[t]=e,yt[e]=t,e},keyFor:function(t){if(!S(t))throw it(t+" is not a symbol");if(_(yt,t))return yt[t]},useSetter:function(){gt=!0},useSimple:function(){gt=!1}}),f({target:"Object",stat:!0,forced:!m,sham:!b},{create:function(t,e){return void 0===e?T(t):i(T(t),e)},defineProperty:o,defineProperties:i,getOwnPropertyDescriptor:u}),f({target:"Object",stat:!0,forced:!m},{getOwnPropertyNames:c,getOwnPropertySymbols:s}),f({target:"Object",stat:!0,forced:O((function(){L.f(1)}))},{getOwnPropertySymbols:function(t){return L.f(k(t))}}),at&&f({target:"JSON",stat:!0,forced:!m||O((function(){var t=rt();return"[null]"!=at([t])||"{}"!=at({a:t})||"{}"!=at(Object(t))}))},{stringify:function(t,e,n){var r=X(arguments),o=e;if((E(e)||void 0!==t)&&!S(t))return w(e)||(e=function(t,e){if(x(o)&&(e=y(o,this,t,e)),!S(e))return e}),r[1]=e,h(at,null,r)}}),ot[n]||(l=ot.valueOf,F(ot,n,(function(t){return y(l,this)}))),q(rt,"Symbol"),Y[Q]=!0},function(t,e,n){"use strict";var r=n(142).charAt,o=n(40),i=n(57),a=(n=n(108),i.set),u=i.getterFor("String Iterator");n(String,"String",(function(t){a(this,{type:"String Iterator",string:o(t),index:0})}),(function(){var t=u(this),e=t.string,n=t.index;return n>=e.length?{value:void 0,done:!0}:(e=r(e,n),t.index+=e.length,{value:e,done:!1})}))},function(t,e,n){"use strict";var r,o,i,a,u,c,s,l=n(17),f=n(35),p=n(9),d=n(15),h=n(34),y=n(30),g=n(55),v=n(40),b=n(37).f,m=(n=n(129),p.Symbol),O=m&&m.prototype;!f||!y(m)||"description"in O&&void 0===m().description||(r={},n(p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:v(arguments[0]),e=g(O,this)?new m(t):void 0===t?m():m(t);return""===t&&(r[e]=!0),e},m),(p.prototype=O).constructor=p,o="Symbol(test)"==String(m("test")),i=d(O.toString),a=d(O.valueOf),u=/^Symbol\((.*)\)[^)]+$/,c=d("".replace),s=d("".slice),b(O,"description",{configurable:!0,get:function(){var t=a(this),e=i(t);return h(r,t)?"":(t=o?s(e,7,-1):c(e,u,"$1"),""===t?void 0:t)}}),l({global:!0,forced:!0},{Symbol:p}))},function(t,e,n){n(146)("iterator")},function(t,e,n){(function(e){function n(t){return t&&t.Math==Math&&t}t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(75))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a.a})),n.d(e,"c",(function(){return a.e})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return v})),n.d(e,"j",(function(){return y})),n.d(e,"b",(function(){return A})),n.d(e,"e",(function(){return T})),n.d(e,"f",(function(){return M})),n.d(e,"g",(function(){return nt}));var r,o,i,a=n(1),u=0,c=[],s=a.i.__b,l=a.i.__r,f=a.i.diffed,p=a.i.__c,d=a.i.unmount;function h(t,e){return a.i.__h&&a.i.__h(o,t,u||e),u=0,e=o.__H||(o.__H={__:[],__h:[]}),t>=e.__.length&&e.__.push({}),e.__[t]}function y(t){return u=1,g(S,t)}function g(t,e,n){var i=h(r++,2);return i.t=t,i.__c||(i.__=[n?n(e):S(void 0,e),function(t){t=i.t(i.__[0],t),i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=o),i.__}function v(t,e){var n=h(r++,3);!a.i.__s&&j(n.__H,e)&&(n.__=t,n.__H=e,o.__H.__h.push(n))}function b(t,e){var n=h(r++,4);!a.i.__s&&j(n.__H,e)&&(n.__=t,n.__H=e,o.__h.push(n))}function m(t,e){var n=h(r++,7);return j(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function O(t,e){return u=8,m((function(){return t}),e)}function _(){var t;for(c.sort((function(t,e){return t.__v.__b-e.__v.__b}));t=c.pop();)if(t.__P)try{t.__H.__h.forEach(x),t.__H.__h.forEach(E),t.__H.__h=[]}catch(e){t.__H.__h=[],a.i.__e(e,t.__v)}}a.i.__b=function(t){o=null,s&&s(t)},a.i.__r=function(t){l&&l(t),r=0,t=(o=t.__c).__H,t&&(t.__h.forEach(x),t.__h.forEach(E),t.__h=[])},a.i.diffed=function(t){f&&f(t),t=t.__c,t&&t.__H&&t.__H.__h.length&&(1!==c.push(t)&&i===a.i.requestAnimationFrame||((i=a.i.requestAnimationFrame)||function(t){function e(){clearTimeout(r),w&&cancelAnimationFrame(n),setTimeout(t)}var n,r=setTimeout(e,100);w&&(n=requestAnimationFrame(e))})(_)),o=null},a.i.__c=function(t,e){e.some((function(n){try{n.__h.forEach(x),n.__h=n.__h.filter((function(t){return!t.__||E(t)}))}catch(t){e.some((function(t){t.__h&&(t.__h=[])})),e=[],a.i.__e(t,n.__v)}})),p&&p(t,e)},a.i.unmount=function(t){d&&d(t);var e;t=t.__c;t&&t.__H&&(t.__H.__.forEach((function(t){try{x(t)}catch(t){e=t}})),e&&a.i.__e(e,t.__v))};var w="function"==typeof requestAnimationFrame;function x(t){var e=o,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),o=e}function E(t){var e=o;t.__c=t.__(),o=e}function j(t,e){return!t||t.length!==e.length||e.some((function(e,n){return e!==t[n]}))}function S(t,e){return"function"==typeof e?e(t):e}function P(t,e){for(var n in e)t[n]=e[n];return t}function k(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var r in e)if("__source"!==r&&t[r]!==e[r])return!0;return!1}function A(t){this.props=t}function M(t,e){function n(t){var n=this.props.ref,r=n==t.ref;return!r&&n&&(n.call?n(null):n.current=null),e?!e(this.props,t)||!r:k(this.props,t)}function r(e){return this.shouldComponentUpdate=n,Object(a.e)(t,e)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(A.prototype=new a.a).isPureReactComponent=!0,A.prototype.shouldComponentUpdate=function(t,e){return k(this.props,t)||k(this.state,e)};var D=a.i.__b,N=(a.i.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),D&&D(t)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911);function T(t){function e(e,n){var r=P({},e);return delete r.ref,t(r,(n=e.ref||n)&&("object"!=typeof n||"current"in n)?n:null)}return e.$$typeof=N,(e.render=e).prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}function C(t,e){return null==t?null:Object(a.k)(Object(a.k)(t).map(e))}n={map:C,forEach:C,count:function(t){return t?Object(a.k)(t).length:0},only:function(t){if(t=Object(a.k)(t),1!==t.length)throw"Children.only";return t[0]},toArray:a.k};var R=a.i.__e,I=(a.i.__e=function(t,e,n){if(t.then)for(var r,o=e;o=o.__;)if((r=o.__c)&&r.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e);R(t,e,n)},a.i.unmount);function L(){this.__u=0,this.t=null,this.__b=null}function z(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function B(){this.u=null,this.o=null}function H(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;3<n.length;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}}function X(t){return this.getChildContext=function(){return t.context},t.children}function F(t){var e=this,n=t.i;e.componentWillUnmount=function(){Object(a.j)(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t,n){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),Object(a.j)(Object(a.e)(X,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}a.i.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),I&&I(t)},(L.prototype=new a.a).__c=function(t,e){function n(){a||(a=!0,r.__R=null,i?i(u):u())}var r=e.__c,o=this,i=(null==o.t&&(o.t=[]),o.t.push(r),z(o.__v)),a=!1,u=(r.__R=n,function(){var t,e;if(!--o.__u)for(o.state.__e&&(t=o.state.__e,o.__v.__k[0]=function t(e,n,r){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return t(e,n,r)})),e.__c&&e.__c.__P===n&&(e.__e&&r.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=r)),e}(t,t.__c.__P,t.__c.__O)),o.setState({__e:o.__b=null});e=o.t.pop();)e.forceUpdate()});e=!0===e.__h;o.__u++||e||o.setState({__e:o.__b=o.__v.__k[0]}),t.then(n,n)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(t,e){this.__b&&(this.__v.__k&&(r=document.createElement("div"),n=this.__v.__k[0].__c,this.__v.__k[0]=function t(e,n,r){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),e.__c.__H=null),null!=(e=P({},e)).__c&&(e.__c.__P===r&&(e.__c.__P=n),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return t(e,n,r)}))),e}(this.__b,r,n.__O=n.__P)),this.__b=null);var n,r=e.__e&&Object(a.e)(a.b,null,t.fallback);return r&&(r.__h=null),[Object(a.e)(a.b,null,e.__e?null:t.children),r]},(B.prototype=new a.a).__e=function(t){var e=this,n=z(e.__v),r=e.o.get(t);return r[0]++,function(o){function i(){e.props.revealOrder?(r.push(o),H(e,t,r)):o()}n?n(i):i()}},B.prototype.render=function(t){this.u=null,this.o=new Map;var e=Object(a.k)(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},B.prototype.componentDidUpdate=B.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,n){H(t,n,e)}))};var G="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,U=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Y="undefined"!=typeof document,V=(a.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(a.a.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})})),a.i.event);function W(){}function K(){return this.cancelBubble}function $(){return this.defaultPrevented}a.i.event=function(t){return(t=V?V(t):t).persist=W,t.isPropagationStopped=K,t.isDefaultPrevented=$,t.nativeEvent=t};var q,Z={configurable:!0,get:function(){return this.class}},J=a.i.vnode,Q=(a.i.vnode=function(t){var e,n=t.type,r=t.props,o=r;if("string"==typeof n){var i,u=-1===n.indexOf("-");o={};for(i in r){var c=r[i];Y&&"children"===i&&"noscript"===n||"value"===i&&"defaultValue"in r&&null==c||("defaultValue"===i&&"value"in r&&null==r.value?i="value":"download"===i&&!0===c?c="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+n)&&(e=r.type,!("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e))?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():u&&U.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===c&&(c=void 0),o[i]=c)}"select"==n&&o.multiple&&Array.isArray(o.value)&&(o.value=Object(a.k)(r.children).forEach((function(t){t.props.selected=-1!=o.value.indexOf(t.props.value)}))),"select"==n&&null!=o.defaultValue&&(o.value=Object(a.k)(r.children).forEach((function(t){t.props.selected=o.multiple?-1!=o.defaultValue.indexOf(t.props.value):o.defaultValue==t.props.value}))),t.props=o,r.class!=r.className&&(Z.enumerable="className"in r,null!=r.className&&(o.class=r.className),Object.defineProperty(o,"className",Z))}t.$$typeof=G,J&&J(t)},a.i.__r),tt=(a.i.__r=function(t){Q&&Q(t),q=t.__c},{ReactCurrentDispatcher:{current:{readContext:function(t){return q.__n[t.__c].props.value}}}});function et(t){return!!t&&t.$$typeof===G}var nt=function(t,e){return t(e)},rt=a.b;n={useState:y,useReducer:g,useEffect:v,useLayoutEffect:b,useRef:function(t){return u=5,m((function(){return{current:t}}),[])},useImperativeHandle:function(t,e,n){u=6,b((function(){"function"==typeof t?t(e()):t&&(t.current=e())}),null==n?n:n.concat(t))},useMemo:m,useCallback:O,useContext:function(t){var e=o.context[t.__c],n=h(r++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(o)),e.props.value):t.__},useDebugValue:function(t,e){a.i.useDebugValue&&a.i.useDebugValue(e?e(t):t)},version:"17.0.2",Children:n,render:function(t,e,n){return null==e.__k&&(e.textContent=""),Object(a.j)(t,e),"function"==typeof n&&n(),t?t.__c:null},hydrate:function(t,e,n){return Object(a.h)(t,e),"function"==typeof n&&n(),t?t.__c:null},unmountComponentAtNode:function(t){return!!t.__k&&(Object(a.j)(null,t),!0)},createPortal:function(t,e){return Object(a.e)(F,{__v:t,i:e})},createElement:a.e,createContext:a.d,createFactory:function(t){return a.e.bind(null,t)},cloneElement:function(t){return et(t)?a.c.apply(null,arguments):t},createRef:a.f,Fragment:a.b,isValidElement:et,findDOMNode:function(t){return t&&(t.base||1===t.nodeType&&t)||null},Component:a.a,PureComponent:A,memo:M,forwardRef:T,flushSync:function(t,e){return t(e)},unstable_batchedUpdates:nt,StrictMode:rt,Suspense:L,SuspenseList:B,lazy:function(t){var e,n,r;function o(o){if(e||(e=t()).then((function(t){n=t.default||t}),(function(t){r=t})),r)throw r;if(n)return Object(a.e)(n,o);throw e}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:tt};e.d=n},function(t,e,n){function r(e){if(e&&e.forEach!==c)try{s(e,"forEach",c)}catch(t){e.forEach=c}}var o,i=n(9),a=n(143),u=n(144),c=n(173),s=n(53);for(o in a)a[o]&&r(i[o]&&i[o].prototype);r(u)},function(t,e,n){n(17)({target:"Object",stat:!0},{setPrototypeOf:n(111)})},function(t,e,n){var r=n(17),o=n(19),i=n(38),a=n(89);n=n(132);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!n},{getPrototypeOf:function(t){return a(i(t))}})},function(t,e,n){var r=n(17),o=n(49),i=n(95),a=n(194),u=n(152),c=n(32),s=n(33),l=n(52),f=(n=n(19),o("Reflect","construct")),p=Object.prototype,d=[].push,h=n((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),y=!n((function(){f((function(){}))}));o=h||y;r({target:"Reflect",stat:!0,forced:o,sham:o},{construct:function(t,e){u(t),c(e);var n=arguments.length<3?t:u(arguments[2]);if(y&&!h)return f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return i(d,r,e),new(i(a,t,r))}return r=n.prototype,n=l(s(r)?r:p),r=i(t,n,e),s(r)?r:n}})},function(t,e){var n=Function.prototype,r=n.bind,o=n.call,i=r&&r.bind(o);t.exports=r?function(t){return t&&i(o,t)}:function(t){return t&&function(){return o.apply(t,arguments)}}},function(t,e,n){"use strict";var r=n(17),o=n(9),i=n(93),a=n(94),u=n(33),c=n(63),s=n(43),l=n(39),f=n(59),p=n(27),d=n(70),h=n(117),y=(n=d("slice"),p("species")),g=o.Array,v=Math.max;r({target:"Array",proto:!0,forced:!n},{slice:function(t,e){var n,r,o,p=l(this),d=s(p),b=c(t,d),m=c(void 0===e?d:e,d);if(i(p)&&(n=p.constructor,(n=a(n)&&(n===g||i(n.prototype))||u(n)&&null===(n=n[y])?void 0:n)===g||void 0===n))return h(p,b,m);for(r=new(void 0===n?g:n)(v(m-b,0)),o=0;b<m;b++,o++)b in p&&f(r,o,p[b]);return r.length=o,r}})},function(t,e,n){var r=n(9),o=n(54).f,i=n(53),a=n(45),u=n(103),c=n(129),s=n(110);t.exports=function(t,e){var n,l,f,p,d=t.target,h=t.global,y=t.stat;if(n=h?r:y?r[d]||u(d,{}):(r[d]||{}).prototype)for(l in e){if(f=e[l],p=t.noTargetGet?(p=o(n,l))&&p.value:n[l],!s(h?l:d+(y?".":"#")+l,t.forced)&&void 0!==p){if(typeof f==typeof p)continue;c(f,p)}(t.sham||p&&p.sham)&&i(f,"sham",!0),a(n,l,f,t)}}},function(t,e,n){"use strict";var r=n(17);n=n(96);r({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var r=n(17),o=n(38),i=n(62);r({target:"Object",stat:!0,forced:n(19)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},function(t,e,n){var r=n(17),o=n(19),i=n(39),a=n(54).f;n=n(35),o=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!n||o,sham:!n},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},function(t,e,n){"use strict";var r=n(17),o=n(69).filter;r({target:"Array",proto:!0,forced:!n(70)("filter")},{filter:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}})},function(t,e,n){var r=n(17),o=n(35),i=n(130),a=n(39),u=n(54),c=n(59);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),o=u.f,s=i(r),l={},f=0;s.length>f;)void 0!==(n=o(r,e=s[f++]))&&c(l,e,n);return l}})},function(t,e,n){var r=n(35),o=n(88).EXISTS,i=n(15),a=(n=n(37).f,Function.prototype),u=i(a.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,s=i(c.exec);r&&!o&&n(a,"name",{configurable:!0,get:function(){try{return s(c,u(this))[1]}catch(t){return""}}})},function(t,e,n){var r=n(17),o=n(176);r({target:"Array",stat:!0,forced:!n(140)((function(t){Array.from(t)}))},{from:o})},,function(t,e,n){var r=n(9),o=n(77),i=n(34),a=n(79),u=n(104),c=n(124),s=o("wks"),l=r.Symbol,f=l&&l.for,p=c?l:l&&l.withoutSetter||a;t.exports=function(t){var e;return i(s,t)&&(u||"string"==typeof s[t])||(e="Symbol."+t,u&&i(l,t)?s[t]=l[t]:s[t]=(c&&f?f:p)(e)),s[t]}},function(t,e,n){"use strict";var r=n(17),o=n(9),i=n(19),a=n(93),u=n(33),c=n(38),s=n(43),l=n(59),f=n(115),p=n(70),d=n(27),h=(n=n(80),d("isConcatSpreadable")),y=o.TypeError;d=51<=n||!i((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),o=p("concat");r({target:"Array",proto:!0,forced:!d||!o},{concat:function(t){for(var e,n,r,o=c(this),i=f(o,0),p=0,d=-1,g=arguments.length;d<g;d++)if(function(t){if(!u(t))return!1;var e=t[h];return void 0!==e?!!e:a(t)}(r=-1===d?o:arguments[d])){if(9007199254740991<p+(n=s(r)))throw y("Maximum allowed index exceeded");for(e=0;e<n;e++,p++)e in r&&l(i,p,r[e])}else{if(9007199254740991<=p)throw y("Maximum allowed index exceeded");l(i,p++,r)}return i.length=p,i}})},function(t,e,n){"use strict";n=n(100);var r="object"==typeof self&&self&&self.Object===Object&&self;n=n.a||r||Function("return this")();e.a=n},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e,n){var r=n(17);n=n(196);r({target:"Object",stat:!0,forced:Object.assign!==n},{assign:n})},function(t,e,n){var r=n(9),o=n(33),i=r.String,a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not an object")}},function(t,e,n){var r=n(30);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},function(t,e,n){var r=n(15),o=n(38),i=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},function(t,e,n){n=n(19),t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e){var n=Function.prototype.call;t.exports=n.bind?n.bind(n):function(){return n.apply(n,arguments)}},function(t,e,n){var r=n(9),o=n(35),i=n(125),a=n(32),u=n(82),c=r.TypeError,s=Object.defineProperty;e.f=o?s:function(t,e,n){if(a(t),e=u(e),a(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(9),o=n(44),i=r.Object;t.exports=function(t){return i(o(t))}},function(t,e,n){var r=n(74),o=n(44);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(9),o=n(92),i=r.String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},function(t,e,n){"use strict";var r=n(17),o=n(69).map;r({target:"Array",proto:!0,forced:!n(70)("map")},{map:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}})},function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return s}));var r=n(10),o=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a};function i(){var t=o(Object(r.j)(0),2)[1];return Object(r.h)((function(){t((function(t){return t+1}))}),[])}function a(t){return!(!t||"object"!=typeof t)&&(t=Object.getPrototypeOf(t),!t||t===Object.prototype)}function u(t){return"function"==typeof Symbol?Symbol.for(t):"__$mobx-react "+t+"__"}var c={};function s(){return"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:c}}).call(this,n(75))},function(t,e,n){var r=n(85);t.exports=function(t){return r(t.length)}},function(t,e,n){var r=n(9).TypeError;t.exports=function(t){if(null==t)throw r("Can't call method on "+t);return t}},function(t,e,n){var r=n(9),o=n(30),i=n(34),a=n(53),u=n(103),c=n(107),s=n(57),l=n(88).CONFIGURABLE,f=s.get,p=s.enforce,d=String(String).split("String");(t.exports=function(t,e,n,c){var s,f=!!c&&!!c.unsafe,h=!!c&&!!c.enumerable,y=!!c&&!!c.noTargetGet;c=c&&void 0!==c.name?c.name:e;o(n)&&("Symbol("===String(c).slice(0,7)&&(c="["+String(c).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(n,"name")||l&&n.name!==c)&&a(n,"name",c),(s=p(n)).source||(s.source=d.join("string"==typeof c?c:""))),t!==r?(f?!y&&t[e]&&(h=!0):delete t[e],h?t[e]=n:a(t,e,n)):h?t[e]=n:u(e,n)})(Function.prototype,"toString",(function(){return o(this)&&f(this).source||c(this)}))},function(t,e,n){var r=n(17),o=n(36),i=n(33),a=n(32),u=n(195),c=n(54),s=n(89);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,l=arguments.length<3?e:arguments[2];return a(e)===l?e[n]:(r=c.f(e,n))?u(r)?r.value:void 0===r.get?void 0:o(r.get,l):i(r=s(e))?t(r,n,l):void 0}})},function(t,n,r){"use strict";(function(t){var o=r(29),i=r(156),a=e&&!e.nodeType&&e;t=a&&"object"==typeof t&&t&&!t.nodeType&&t,t=t&&t.exports===a?o.a.Buffer:void 0,a=(t?t.isBuffer:void 0)||i.a;n.a=a}).call(this,r(118)(t))},function(t,n,r){"use strict";(function(t){var o=r(100),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i&&o.a.process;t=function(){try{return a&&a.require&&a.require("util").types||u&&u.binding&&u.binding("util")}catch(t){}}();n.a=t}).call(this,r(118)(t))},function(t,e,n){var r=n(9),o=n(30);t.exports=function(t,e){return arguments.length<2?(n=r[t],o(n)?n:void 0):r[t]&&r[t][e];var n}},function(t,e,n){var r=n(17),o=n(200).entries;r({target:"Object",stat:!0},{entries:function(t){return o(t)}})},function(t,e,n){n=n(15);var r=n({}.toString),o=n("".slice);t.exports=function(t){return o(r(t),8,-1)}},function(t,e,n){function r(){}function o(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e}var i,a=n(32),u=n(159),c=n(106),s=n(65),l=n(161),f=n(105),p=n(86)("IE_PROTO"),d=function(t){return"<script>"+t+"<\/script>"},h=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}var t,e;h="undefined"==typeof document||document.domain&&i?o(i):((e=f("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F);for(var n=c.length;n--;)delete h.prototype[c[n]];return h()};s[p]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(r.prototype=a(t),n=new r,r.prototype=null,n[p]=t):n=h(),void 0===e?n:u(n,e)}},function(t,e,n){var r=n(35),o=n(37),i=n(67);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(35),o=n(36),i=n(87),a=n(67),u=n(39),c=n(82),s=n(34),l=n(125),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=u(t),e=c(e),l)try{return f(t,e)}catch(t){}if(s(t,e))return a(!o(i.f,t,e),t[e])}},function(t,e,n){n=n(15),t.exports=n({}.isPrototypeOf)},function(t,e,n){var r=n(61);t.exports=function(t,e){return t=t[e],null==t?void 0:r(t)}},function(t,e,n){var r,o,i,a,u,c,s,l,f=n(162),p=n(9),d=n(15),h=n(33),y=n(53),g=n(34),v=n(102),b=n(86),m=(n=n(65),p.TypeError);p=p.WeakMap;s=f||v.state?(r=v.state||(v.state=new p),o=d(r.get),i=d(r.has),a=d(r.set),u=function(t,e){if(i(r,t))throw new m("Object already initialized");return e.facade=t,a(r,t,e),e},c=function(t){return o(r,t)||{}},function(t){return i(r,t)}):(n[l=b("state")]=!0,u=function(t,e){if(g(t,l))throw new m("Object already initialized");return e.facade=t,y(t,l,e),e},c=function(t){return g(t,l)?t[l]:{}},function(t){return g(t,l)}),t.exports={set:u,get:c,has:s,enforce:function(t){return s(t)?c(t):u(t,{})},getterFor:function(t){return function(e){if(h(e)&&(e=c(e)).type===t)return e;throw m("Incompatible receiver, "+t+" required")}}}},function(t,e,n){"use strict";n(165)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(169))},function(t,e,n){"use strict";var r=n(82),o=n(37),i=n(67);t.exports=function(t,e,n){e=r(e),e in t?o.f(t,e,i(0,n)):t[e]=n}},function(t,e,n){var r=n(17),o=n(201);n=n(76);r({target:"Array",proto:!0},{fill:o}),n("fill")},function(t,e,n){var r=n(9),o=n(30),i=n(84),a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not a function")}},function(t,e,n){var r=n(127),o=n(106);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(64),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return t=+t,t!=t||0==t?0:(0<t?r:n)(t)}},function(t,e){t.exports={}},function(t,e){t.exports={}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(127),o=n(106).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){function r(t){var e=1==t,n=2==t,r=3==t,i=4==t,f=6==t,p=7==t,d=5==t||f;return function(h,y,g,v){for(var b,m,O=u(h),_=a(O),w=o(y,g),x=c(_),E=0,j=(y=v||s,e?y(h,x):n||p?y(h,0):void 0);E<x;E++)if((d||E in _)&&(m=w(b=_[E],E,O),t))if(e)j[E]=m;else if(m)switch(t){case 3:return!0;case 5:return b;case 6:return E;case 2:l(j,b)}else switch(t){case 4:return!1;case 7:l(j,b)}return f?-1:r||i?i:j}}var o=n(91),i=n(15),a=n(74),u=n(38),c=n(43),s=n(115),l=i([].push);t.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6),filterReject:r(7)}},function(t,e,n){var r=n(19),o=n(27),i=n(80),a=o("species");t.exports=function(t){return 51<=i||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){"use strict";var r=n(95),o=n(36),i=n(15),a=n(119),u=n(150),c=n(32),s=n(44),l=n(189),f=n(120),p=n(85),d=n(40),h=n(56),y=n(112),g=n(121),v=n(96),b=n(147),m=(n=n(19),b.UNSUPPORTED_Y),O=Math.min,_=[].push,w=i(/./.exec),x=i(_),E=i("".slice);a("split",(function(t,e,n){var i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||1<".".split(/()()/).length||"".split(/.?/).length?function(t,n){var i=d(s(this)),a=void 0===n?4294967295:n>>>0;if(0==a)return[];if(void 0===t)return[i];if(!u(t))return o(e,i,t,a);for(var c,l,f,p=[],h=(n=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),0),g=new RegExp(t.source,n+"g");(c=o(v,g,i))&&!((l=g.lastIndex)>h&&(x(p,E(i,h,c.index)),1<c.length&&c.index<i.length&&r(_,p,y(c,1)),f=c[0].length,h=l,a<=p.length));)g.lastIndex===c.index&&g.lastIndex++;return h===i.length?!f&&w(g,"")||x(p,""):x(p,E(i,h)),a<p.length?y(p,0,a):p}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:o(e,this,t,n)}:e;return[function(e,n){var r=s(this),a=null==e?void 0:h(e,t);return a?o(a,e,r,n):o(i,d(r),e,n)},function(t,r){var o=c(this),a=d(t);t=n(i,o,a,r,i!==e);if(t.done)return t.value;t=l(o,RegExp);var u=o.unicode,s=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(m?"g":"y"),h=new t(m?"^(?:"+o.source+")":o,s),y=void 0===r?4294967295:r>>>0;if(0==y)return[];if(0===a.length)return null===g(h,a)?[a]:[];for(var v=0,b=0,_=[];b<a.length;){h.lastIndex=m?0:b;var w,j=g(h,m?E(a,b):a);if(null===j||(w=O(p(h.lastIndex+(m?b:0)),a.length))===v)b=f(a,b,u);else{if(x(_,E(a,v,b)),_.length===y)return _;for(var S=1;S<=j.length-1;S++)if(x(_,j[S]),_.length===y)return _;b=v=w}}return x(_,E(a,v)),_}]}),!!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)},t="ab".split(t);return 2!==t.length||"a"!==t[0]||"b"!==t[1]})),m)},function(t,e,n){"use strict";var r=n(35),o=n(9),i=n(15),a=n(110),u=n(45),c=n(34),s=n(141),l=n(55),f=n(83),p=n(126),d=n(19),h=n(68).f,y=n(54).f,g=n(37).f,v=n(192),b=n(153).trim,m=o.Number,O=m.prototype,_=o.TypeError,w=i("".slice),x=i("".charCodeAt),E=function(t){var e,n,r,o,i,a,u,c=p(t,"number");if(f(c))throw _("Cannot convert a Symbol value to a number");if("string"==typeof c&&2<c.length)if(c=b(c),43===(t=x(c,0))||45===t){if(88===(e=x(c,2))||120===e)return NaN}else if(48===t){switch(x(c,1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+c}for(i=(o=w(c,2)).length,a=0;a<i;a++)if((u=x(o,a))<48||r<u)return NaN;return parseInt(o,n)}return+c};if(a("Number",!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var j,S=function(t){t=arguments.length<1?0:m(function(t){return t=p(t,"number"),"bigint"==typeof t?t:E(t)}(t));var e=this;return l(O,e)&&d((function(){v(e)}))?s(Object(t),e,S):t},P=r?h(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),k=0;P.length>k;k++)c(m,j=P[k])&&!c(S,j)&&g(S,j,y(m,j));u(o,"Number",(S.prototype=O).constructor=S)}},function(t,e,n){n(17)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){var r=n(9),o=n(15),i=n(19),a=n(51),u=r.Object,c=o("".split);t.exports=i((function(){return!u("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?c(t,""):u(t)}:u},function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(27),o=n(52),i=(n=n(37),r("unscopables")),a=Array.prototype;null==a[i]&&n.f(a,i,{configurable:!0,value:o(null)}),t.exports=function(t){a[i][t]=!0}},function(t,e,n){var r=n(78),o=n(102);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,n){n=n(15);var r=0,o=Math.random(),i=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+i(++r+o,36)}},function(t,e,n){var r,o,i=n(9),a=(n=n(81),i.process);i=i.Deno,a=a&&a.versions||i&&i.version,i=a&&a.v8;!(o=i?0<(r=i.split("."))[0]&&r[0]<4?1:+(r[0]+r[1]):o)&&n&&(!(r=n.match(/Edge\/(\d+)/))||74<=r[1])&&(r=n.match(/Chrome\/(\d+)/))&&(o=+r[1]),t.exports=o},function(t,e,n){n=n(49),t.exports=n("navigator","userAgent")||""},function(t,e,n){var r=n(126),o=n(83);t.exports=function(t){return t=r(t,"string"),o(t)?t:t+""}},function(t,e,n){var r=n(9),o=n(49),i=n(30),a=n(55),u=(n=n(124),r.Object);t.exports=n?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return i(e)&&a(e.prototype,u(t))}},function(t,e,n){var r=n(9).String;t.exports=function(t){try{return r(t)}catch(t){return"Object"}}},function(t,e,n){var r=n(64),o=Math.min;t.exports=function(t){return 0<t?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(77),o=n(79),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){return t=o(this,t),!!t&&t.enumerable}:r},function(t,e,n){var r=n(35),o=(n=n(34),Function.prototype),i=r&&Object.getOwnPropertyDescriptor,a=(n=n(o,"name"),n&&"something"===function(){}.name);r=n&&(!r||i(o,"name").configurable);t.exports={EXISTS:n,PROPER:a,CONFIGURABLE:r}},function(t,e,n){var r=n(9),o=n(34),i=n(30),a=n(38),u=n(86),c=(n=n(132),u("IE_PROTO")),s=r.Object,l=s.prototype;t.exports=n?s.getPrototypeOf:function(t){if(t=a(t),o(t,c))return t[c];var e=t.constructor;return i(e)&&t instanceof e?e.prototype:t instanceof s?l:null}},function(t,e,n){var r=n(37).f,o=n(34),i=n(27)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){var r=n(15),o=n(61),i=r(r.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?i(t,e):function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(9),o=n(114),i=n(30),a=n(51),u=n(27)("toStringTag"),c=r.Object,s="Arguments"==a(function(){return arguments}());t.exports=o?a:function(t){var e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(e=function(t,e){try{return t[e]}catch(t){}}(t=c(t),u))?e:s?a(t):"Object"==(e=a(t))&&i(t.callee)?"Arguments":e}},function(t,e,n){var r=n(51);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){function r(){}function o(t){if(!u(t))return!1;try{return p(r,f,t),!0}catch(t){return!1}}var i=n(15),a=n(19),u=n(30),c=n(92),s=n(49),l=n(107),f=[],p=s("Reflect","construct"),d=/^\s*(?:class|function)\b/,h=i(d.exec),y=!d.exec(r);t.exports=!p||a((function(){var t;return o(o.call)||!o(Object)||!o((function(){t=!0}))||t}))?function(t){if(!u(t))return!1;switch(c(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return y||!!h(d,l(t))}:o},function(t,e){var n=Function.prototype,r=n.apply,o=n.bind,i=n.call;t.exports="object"==typeof Reflect&&Reflect.apply||(o?i.bind(r):function(){return i.apply(r,arguments)})},function(t,e,n){"use strict";var r=n(36),o=n(15),i=n(40),a=n(178),u=n(147),c=n(77),s=n(52),l=n(57).get,f=n(179),p=(n=n(180),c("native-string-replace",String.prototype.replace)),d=RegExp.prototype.exec,h=d,y=o("".charAt),g=o("".indexOf),v=o("".replace),b=o("".slice),m=(c=/b*/g,r(d,o=/a/,"a"),r(d,c,"a"),0!==o.lastIndex||0!==c.lastIndex),O=u.BROKEN_CARET,_=void 0!==/()??/.exec("")[1];(m||_||O||f||n)&&(h=function(t){var e,n,o,u,c,f,w=this,x=l(w),E=(t=i(t),x.raw);if(E)return E.lastIndex=w.lastIndex,S=r(h,E,t),w.lastIndex=E.lastIndex,S;var j=x.groups,S=(E=O&&w.sticky,r(a,w)),P=(x=w.source,0),k=t;if(E&&(S=v(S,"y",""),-1===g(S,"g")&&(S+="g"),k=b(t,w.lastIndex),0<w.lastIndex&&(!w.multiline||w.multiline&&"\n"!==y(t,w.lastIndex-1))&&(x="(?: "+x+")",k=" "+k,P++),e=new RegExp("^(?:"+x+")",S)),_&&(e=new RegExp("^"+x+"$(?!\\s)",S)),m&&(n=w.lastIndex),o=r(d,E?e:w,k),E?o?(o.input=b(o.input,P),o[0]=b(o[0],P),o.index=w.lastIndex,w.lastIndex+=o[0].length):w.lastIndex=0:m&&o&&(w.lastIndex=w.global?o.index+o[0].length:n),_&&o&&1<o.length&&r(p,o[0],e,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(o[u]=void 0)})),o&&j)for(o.groups=c=s(null),u=0;u<j.length;u++)c[(f=j[u])[0]]=o[f[1]];return o}),t.exports=h},function(t,e,n){"use strict";var r=n(17),o=n(9),i=n(63),a=n(64),u=n(43),c=n(38),s=n(115),l=n(59),f=(n=n(70)("splice"),o.TypeError),p=Math.max,d=Math.min;r({target:"Array",proto:!0,forced:!n},{splice:function(t,e){var n,r,o,h,y,g,v=c(this),b=u(v),m=i(t,b);t=arguments.length;if(0===t?n=r=0:r=1===t?(n=0,b-m):(n=t-2,d(p(a(e),0),b-m)),9007199254740991<b+n-r)throw f("Maximum allowed length exceeded");for(o=s(v,r),h=0;h<r;h++)(y=m+h)in v&&l(o,h,v[y]);if(n<(o.length=r)){for(h=m;h<b-r;h++)g=h+n,(y=h+r)in v?v[g]=v[y]:delete v[g];for(h=b;b-r+n<h;h--)delete v[h-1]}else if(r<n)for(h=b-r;m<h;h--)g=h+n-1,(y=h+r-1)in v?v[g]=v[y]:delete v[g];for(h=0;h<n;h++)v[h+m]=arguments[h+2];return v.length=b-r+n,o}})},function(t,e,n){"use strict";var r=n(17),o=n(15),i=n(74),a=n(39),u=(n=n(116),o([].join));o=i!=Object,i=n("join",",");r({target:"Array",proto:!0,forced:o||!i},{join:function(t){return u(a(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(17),o=n(197);r({target:"String",proto:!0,forced:n(198)("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},function(t,e,n){"use strict";(function(t){t="object"==typeof t&&t&&t.Object===Object&&t,e.a=t}).call(this,n(75))},function(t,n,r){"use strict";(function(t){var o=r(29),i=e&&!e.nodeType&&e,a=(t=i&&"object"==typeof t&&t&&!t.nodeType&&t,t=t&&t.exports===i?o.a.Buffer:void 0,t?t.allocUnsafe:void 0);n.a=function(t,e){return e?t.slice():(e=t.length,e=a?a(e):new t.constructor(e),t.copy(e),e)}}).call(this,r(118)(t))},function(t,e,n){var r=n(9);n=n(103),r=r["__core-js_shared__"]||n("__core-js_shared__",{});t.exports=r},function(t,e,n){var r=n(9),o=Object.defineProperty;t.exports=function(e,n){try{o(r,e,{value:n,configurable:!0,writable:!0})}catch(t){r[e]=n}return n}},function(t,e,n){var r=n(80);n=n(19);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},function(t,e,n){var r=n(9),o=(n=n(33),r.document),i=n(o)&&n(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(15),o=n(30),i=(n=n(102),r(Function.toString));o(n.inspectSource)||(n.inspectSource=function(t){return i(t)}),t.exports=n.inspectSource},function(t,e,n){"use strict";function r(){return this}var o=n(17),i=n(36),a=n(78),u=n(88),c=n(30),s=n(163),l=n(89),f=n(111),p=n(90),d=n(53),h=n(45),y=n(27),g=n(66),v=(n=n(131),u.PROPER),b=u.CONFIGURABLE,m=n.IteratorPrototype,O=n.BUGGY_SAFARI_ITERATORS,_=y("iterator");t.exports=function(t,e,n,u,y,w,x){function E(t){if(t===y&&M)return M;if(!O&&t in k)return k[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}}s(n,e,u);u=e+" Iterator";var j,S,P=!1,k=t.prototype,A=k[_]||k["@@iterator"]||y&&k[y],M=!O&&A||E(y),D="Array"==e&&k.entries||A;if(D&&(D=l(D.call(new t)))!==Object.prototype&&D.next&&(a||l(D)===m||(f?f(D,m):c(D[_])||h(D,_,r)),p(D,u,!0,!0),a&&(g[u]=r)),v&&"values"==y&&A&&"values"!==A.name&&(!a&&b?d(k,"name","values"):(P=!0,M=function(){return i(A,this)})),y)if(j={values:E("values"),keys:w?M:E("keys"),entries:E("entries")},x)for(S in j)!O&&!P&&S in k||h(k,S,j[S]);else o({target:e,proto:!0,forced:O||P},j);return a&&!x||k[_]===M||h(k,_,M,{name:y}),g[e]=M,j}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){function r(t,e){return(t=c[u(t)])==l||t!=s&&(i(e)?o(e):!!e)}var o=n(19),i=n(30),a=/#|\.prototype\./,u=r.normalize=function(t){return String(t).replace(a,".").toLowerCase()},c=r.data={},s=r.NATIVE="N",l=r.POLYFILL="P";t.exports=r},function(t,e,n){var r=n(15),o=n(32),i=n(164);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return o(n),i(r),e?t(n,r):n.__proto__=r,n}}():void 0)},function(t,e,n){var r=n(9),o=n(63),i=n(43),a=n(59),u=r.Array,c=Math.max;t.exports=function(t,e,n){for(var r=i(t),s=o(e,r),l=o(void 0===n?r:n,r),f=u(c(l-s,0)),p=0;s<l;s++,p++)a(f,p,t[s]);return f.length=p,f}},function(t,e,n){var r=n(92),o=n(56),i=n(66),a=n(27)("iterator");t.exports=function(t){if(null!=t)return o(t,a)||o(t,"@@iterator")||i[r(t)]}},function(t,e,n){var r={};r[n(27)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(174);t.exports=function(t,e){return new(r(t))(0===e?0:e)}},function(t,e,n){"use strict";var r=n(19);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){n=n(15),t.exports=n([].slice)},function(t,e){t.exports=function(t){var e;return t.webpackPolyfill||((e=Object.create(t)).children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1),e}},function(t,e,n){"use strict";n(18);var r=n(15),o=n(45),i=n(96),a=n(19),u=n(27),c=n(53),s=u("species"),l=RegExp.prototype;t.exports=function(t,e,n,f){var p,d=u(t),h=!a((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),y=h&&!a((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[s]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return e=!0,null},n[d](""),!e}));h&&y&&!n||(p=r(/./[d]),y=e(d,""[t],(function(t,e,n,o,a){t=r(t);var u=e.exec;return u===i||u===l.exec?h&&!a?{done:!0,value:p(e,n,o)}:{done:!0,value:t(n,e,o)}:{done:!1}})),o(String.prototype,t,y[0]),o(l,d,y[1])),f&&c(l[d],"sham",!0)}},function(t,e,n){"use strict";var r=n(142).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(9),o=n(36),i=n(32),a=n(30),u=n(51),c=n(96),s=r.TypeError;t.exports=function(t,e){var n=t.exec;if(a(n))return null!==(n=o(n,t,e))&&i(n),n;if("RegExp"===u(t))return o(c,t,e);throw s("RegExp#exec called on incompatible receiver")}},function(t,e,n){"use strict";var r=n(95),o=n(36),i=n(15),a=n(119),u=n(19),c=n(32),s=n(30),l=n(64),f=n(85),p=n(40),d=n(44),h=n(120),y=n(56),g=n(193),v=n(121),b=n(27)("replace"),m=Math.max,O=Math.min,_=i([].concat),w=i([].push),x=i("".indexOf),E=i("".slice),j=(n="$0"==="a".replace(/./,"$0"),!!/./[b]&&""===/./[b]("a","$0"));a("replace",(function(t,e,n){var i=j?"$":"$0";return[function(t,n){var r=d(this),i=null==t?void 0:y(t,b);return i?o(i,t,r,n):o(e,p(r),t,n)},function(t,o){var a=c(this),u=p(t);if("string"==typeof o&&-1===x(o,i)&&-1===x(o,"$<")&&(t=n(e,a,u,o),t.done))return t.value;var d,y=s(o),b=(y||(o=p(o)),a.global);b&&(d=a.unicode,a.lastIndex=0);for(var j=[];;){var S=v(a,u);if(null===S)break;if(w(j,S),!b)break;""===p(S[0])&&(a.lastIndex=h(u,f(a.lastIndex),d))}for(var P,k="",A=0,M=0;M<j.length;M++){for(var D=p((S=j[M])[0]),N=m(O(l(S.index),u.length),0),T=[],C=1;C<S.length;C++)w(T,void 0===(P=S[C])?P:String(P));var R=S.groups,I=y?(I=_([D],T,N,u),void 0!==R&&w(I,R),p(r(o,void 0,I))):g(D,u,N,T,R,o);A<=N&&(k+=E(u,A,N)+I,A=N+D.length)}return k+E(u,A)}]}),!!u((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!n||j)},function(t,e,n){n(17)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){n=n(104),t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(35),o=n(19),i=n(105);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(9),o=n(36),i=n(33),a=n(83),u=n(56),c=n(160),s=(n=n(27),r.TypeError),l=n("toPrimitive");t.exports=function(t,e){if(!i(t)||a(t))return t;var n=u(t,l);if(n){if(n=o(n,t,e=void 0===e?"default":e),!i(n)||a(n))return n;throw s("Can't convert object to primitive value")}return c(t,e=void 0===e?"number":e)}},function(t,e,n){var r=n(15),o=n(34),i=n(39),a=n(128).indexOf,u=n(65),c=r([].push);t.exports=function(t,e){var n,r=i(t),s=0,l=[];for(n in r)!o(u,n)&&o(r,n)&&c(l,n);for(;e.length>s;)!o(r,n=e[s++])||~a(l,n)||c(l,n);return l}},function(t,e,n){function r(t){return function(e,n,r){var u,c=o(e),s=a(c),l=i(r,s);if(t&&n!=n){for(;l<s;)if((u=c[l++])!=u)return!0}else for(;l<s;l++)if((t||l in c)&&c[l]===n)return t||l||0;return!t&&-1}}var o=n(39),i=n(63),a=n(43);t.exports={includes:r(!0),indexOf:r(!1)}},function(t,e,n){var r=n(34),o=n(130),i=n(54),a=n(37);t.exports=function(t,e){for(var n=o(e),u=a.f,c=i.f,s=0;s<n.length;s++){var l=n[s];r(t,l)||u(t,l,c(e,l))}}},function(t,e,n){var r=n(49),o=n(15),i=n(68),a=n(109),u=n(32),c=o([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(u(t)),n=a.f;return n?c(e,n(t)):e}},function(t,e,n){"use strict";var r,o,i=n(19),a=n(30),u=n(52),c=n(89),s=n(45),l=n(27),f=(n=n(78),l("iterator"));l=!1;[].keys&&("next"in(o=[].keys())?(c=c(c(o)))!==Object.prototype&&(r=c):l=!0),null==r||i((function(){var t={};return r[f].call(t)!==t}))?r={}:n&&(r=u(r)),a(r[f])||s(r,f,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:l}},function(t,e,n){n=n(19),t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){function r(t){s(t,g,{value:{objectID:"O"+v++,weakData:{}}})}var o=n(17),i=n(15),a=n(65),u=n(33),c=n(34),s=n(37).f,l=n(68),f=n(134),p=n(166),d=n(79),h=n(168),y=!1,g=d("meta"),v=0,b=t.exports={enable:function(){b.enable=function(){},y=!0;var t=l.f,e=i([].splice),n={};n[g]=1,t(n).length&&(l.f=function(n){for(var r=t(n),o=0,i=r.length;o<i;o++)if(r[o]===g){e(r,o,1);break}return r},o({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:f.f}))},fastKey:function(t,e){if(!u(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!c(t,g)){if(!p(t))return"F";if(!e)return"E";r(t)}return t[g].objectID},getWeakData:function(t,e){if(!c(t,g)){if(!p(t))return!0;if(!e)return!1;r(t)}return t[g].weakData},onFreeze:function(t){return h&&y&&p(t)&&!c(t,g)&&r(t),t}};a[g]=!0},function(t,e,n){var r=n(51),o=n(39),i=n(68).f,a=n(112),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){if(!u||"Window"!=r(t))return i(o(t));var e=t;try{return i(e)}catch(e){return a(u)}}},function(t,e,n){function r(t,e){this.stopped=t,this.result=e}var o=n(9),i=n(91),a=n(36),u=n(32),c=n(84),s=n(136),l=n(43),f=n(55),p=n(137),d=n(113),h=n(138),y=o.TypeError,g=r.prototype;t.exports=function(t,e,n){function o(t){return b&&h(b,"normal",t),new r(!0,t)}function v(t){return j?(u(t),P?k(t[0],t[1],o):k(t[0],t[1])):P?k(t,o):k(t)}var b,m,O,_,w,x,E=n&&n.that,j=!(!n||!n.AS_ENTRIES),S=!(!n||!n.IS_ITERATOR),P=!(!n||!n.INTERRUPTED),k=i(e,E);if(S)b=t;else{if(!(n=d(t)))throw y(c(t)+" is not iterable");if(s(n)){for(m=0,O=l(t);m<O;m++)if((_=v(t[m]))&&f(g,_))return _;return new r(!1)}b=p(t,n)}for(w=b.next;!(x=a(w,b)).done;){try{_=v(x.value)}catch(t){h(b,"throw",t)}if("object"==typeof _&&_&&f(g,_))return _}return new r(!1)}},function(t,e,n){var r=n(27),o=n(66),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r=n(9),o=n(36),i=n(61),a=n(32),u=n(84),c=n(113),s=r.TypeError;t.exports=function(t,e){var n=arguments.length<2?c(t):e;if(i(n))return a(o(n,t));throw s(u(t)+" is not iterable")}},function(t,e,n){var r=n(36),o=n(32),i=n(56);t.exports=function(t,e,n){var a,u;o(t);try{if(!(a=i(t,"return"))){if("throw"===e)throw n;return n}a=r(a,t)}catch(t){u=!0,a=t}if("throw"===e)throw n;if(u)throw a;return o(a),n}},function(t,e,n){var r=n(9),o=n(55),i=r.TypeError;t.exports=function(t,e){if(o(e,t))return t;throw i("Incorrect invocation")}},function(t,e,n){var r=n(27)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){var r=n(30),o=n(33),i=n(111);t.exports=function(t,e,n){return i&&r(e=e.constructor)&&e!==n&&o(e=e.prototype)&&e!==n.prototype&&i(t,e),t}},function(t,e,n){function r(t){return function(e,n){e=a(u(e)),n=i(n);var r,o=e.length;return n<0||o<=n?t?"":void 0:(r=s(e,n))<55296||56319<r||n+1===o||(o=s(e,n+1))<56320||57343<o?t?c(e,n):r:t?l(e,n,n+2):o-56320+(r-55296<<10)+65536}}var o=n(15),i=n(64),a=n(40),u=n(44),c=o("".charAt),s=o("".charCodeAt),l=o("".slice);t.exports={codeAt:r(!1),charAt:r(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){n=n(105)("span").classList,n=n&&n.constructor&&n.constructor.prototype,t.exports=n===Object.prototype?void 0:n},function(t,e,n){n=n(27),e.f=n},function(t,e,n){var r=n(175),o=n(34),i=n(145),a=n(37).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},function(t,e,n){var r=n(19),o=n(9).RegExp,i=(n=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),n||r((function(){return!o("a","y").sticky})));r=n||r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:r,MISSED_STICKY:i,UNSUPPORTED_Y:n}},function(t,e,n){"use strict";var r=n(17),o=n(128).includes;n=n(76);r({target:"Array",proto:!0},{includes:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}}),n("includes")},function(t,e,n){"use strict";var r=n(17),o=n(15),i=n(187),a=n(44),u=n(40),c=(n=n(188),o("".indexOf));r({target:"String",proto:!0,forced:!n("includes")},{includes:function(t){return!!~c(u(a(this)),u(i(t)),1<arguments.length?arguments[1]:void 0)}})},function(t,e,n){var r=n(33),o=n(51),i=n(27)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e){var n,r;t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return(n=setTimeout)(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(t){r=i}var u,c=[],s=!1,l=-1;function f(){s&&u&&(s=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!s){var t=a(f);s=!0;for(var e=c.length;e;){for(u=c,c=[];++l<e;)u&&u[l].run();l=-1,e=c.length}u=null,s=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return(r=clearTimeout)(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function h(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new d(t,e)),1!==c.length||s||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=h,t.addListener=h,t.once=h,t.off=h,t.removeListener=h,t.removeAllListeners=h,t.emit=h,t.prependListener=h,t.prependOnceListener=h,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,e,n){var r=n(9),o=n(94),i=n(84),a=r.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not a constructor")}},function(t,e,n){function r(t){return function(e){return e=a(i(e)),1&t&&(e=u(e,c,"")),2&t?u(e,s,""):e}}var o=n(15),i=n(44),a=n(40),u=(n=n(154),o("".replace)),c=(o="["+n+"]",RegExp("^"+o+o+"*")),s=RegExp(o+o+"*$");t.exports={start:r(1),end:r(2),trim:r(3)}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(36),o=n(119),i=n(32),a=n(85),u=n(40),c=n(44),s=n(56),l=n(120),f=n(121);o("match",(function(t,e,n){return[function(e){var n=c(this),o=null==e?void 0:s(e,t);return o?r(o,e,n):new RegExp(e)[t](u(n))},function(t){var r=i(this),o=u(t);t=n(e,r,o);if(t.done)return t.value;if(!r.global)return f(r,o);for(var c=r.unicode,s=[],p=r.lastIndex=0;null!==(d=f(r,o));){var d=u(d[0]);""===(s[p]=d)&&(r.lastIndex=l(o,a(r.lastIndex),c)),p++}return 0===p?null:s}]}))},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return _}));var r=n(0);function o(t,e){if(void 0===e&&(e="Illegal state"),!t)throw new Error("[mobx-utils] "+e)}var i,a=function(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(a(Object.getPrototypeOf(t))||[])};function u(t){switch(this.state){case"pending":return t.pending&&t.pending(this.value);case"rejected":return t.rejected&&t.rejected(this.value);case"fulfilled":return t.fulfilled?t.fulfilled(this.value):this.value}}function c(t,e){if(o(arguments.length<=2,"fromPromise expects up to two arguments"),o("function"==typeof t||"object"==typeof t&&t&&"function"==typeof t.then,"Please pass a promise or function to fromPromise"),!0===t.isPromiseBasedObservable)return t;var n=t="function"==typeof t?new Promise(t):t;t.then(Object(r.k)("observableFromPromise-resolve",(function(t){n.value=t,n.state="fulfilled"})),Object(r.k)("observableFromPromise-reject",(function(t){n.value=t,n.state="rejected"}))),n.isPromiseBasedObservable=!0,n.case=u,t=e&&"fulfilled"===e.state?e.value:void 0;return Object(r.q)(n,{value:t,state:"pending"},{},{deep:!1}),n}function s(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;0<=u;u--)(o=t[u])&&(a=(i<3?o(a):3<i?o(e,n,a):o(e,n))||a);3<i&&a&&Object.defineProperty(e,n,a)}function l(t,e){var n=this;Object(r.G)((function(){n.current=e,n.subscription=t.subscribe(n)}))}function f(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;0<=u;u--)(o=t[u])&&(a=(i<3?o(a):3<i?o(e,n,a):o(e,n))||a);3<i&&a&&Object.defineProperty(e,n,a)}(i=c).reject=Object(r.k)("fromPromise.reject",(function(t){var e=i(Promise.reject(t));return e.state="rejected",e.value=t,e})),i.resolve=Object(r.k)("fromPromise.resolve",(function(t){void 0===t&&(t=void 0);var e=i(Promise.resolve(t));return e.state="fulfilled",e.value=t,e})),l.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},l.prototype.next=function(t){this.current=t},l.prototype.complete=function(){this.dispose()},l.prototype.error=function(t){this.current=t,this.dispose()},s([r.C.ref],l.prototype,"current",void 0),s([r.k.bound],l.prototype,"next",null),s([r.k.bound],l.prototype,"complete",null),s([r.k.bound],l.prototype,"error",null);var p,d,h,y,g=function(){return(g=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},v=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];function b(t){var e,n=this;this.model=t,this.localValues=r.C.map({}),this.localComputedValues=r.C.map({}),this.isPropertyDirty=function(t){return n.localValues.has(t)},o(Object(r.A)(t),"createViewModel expects an observable object"),(e=a(t)).filter((function(t,n){return e.indexOf(t)===n})).filter((function(t){return"constructor"!==t&&!~t.indexOf("__")})).forEach((function(e){var i;e!==r.a&&"__mobxDidRunLazyInitializers"!==e&&(o(-1===v.indexOf(e),"The propertyname "+e+" is reserved and cannot be used with viewModels"),Object(r.w)(t,e)&&(i=Object(r.h)(t,e).derivation,n.localComputedValues.set(e,Object(r.m)(i.bind(n)))),i=(i=Object.getOwnPropertyDescriptor(t,e))?{enumerable:i.enumerable}:{},Object.defineProperty(n,e,g(g({},i),{configurable:!0,get:function(){return Object(r.w)(t,e)?n.localComputedValues.get(e).get():n.isPropertyDirty(e)?n.localValues.get(e):n.model[e]},set:Object(r.k)((function(t){t!==n.model[e]?n.localValues.set(e,t):n.localValues.delete(e)}))})))}))}function m(t){if(!t)return"ROOT";for(var e=[];t.parent;)e.push(t.path),t=t.parent;return e.reverse().join("/")}function O(t){return Object(r.A)(t)||Object(r.y)(t)||Object(r.z)(t)}function _(t,e){var n=new WeakMap;function o(r){var o=n.get(r.object),u=r,c=o;switch(u.type){case"add":i(u.newValue,c,u.name);break;case"update":a(u.oldValue),i(u.newValue,c,u.name||""+u.index);break;case"remove":case"delete":a(u.oldValue);break;case"splice":u.removed.map(a),u.added.forEach((function(t,e){return i(t,c,""+(u.index+e))}));for(var s,l=u.index+u.addedCount;l<u.object.length;l++)!O(u.object[l])||(s=n.get(u.object[l]))&&(s.path=""+l)}e(r,m(o),t)}function i(t,e,a){if(O(t)){var u=n.get(t);if(u){if(u.parent!==e||u.path!==a)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+m(e)+"/"+a+"', but it already exists at '"+m(u.parent)+"/"+u.path+"'")}else{var c={parent:e,path:a,dispose:Object(r.D)(t,o)};n.set(t,c),Object(r.p)(t).forEach((function(t){var e=t[0];return i(t[1],c,e)}))}}}function a(t){var e;O(t)&&(e=n.get(t))&&(n.delete(t),e.dispose(),Object(r.L)(t).forEach(a))}return i(t,void 0,""),function(){a(t)}}function w(t,e){this.base=t,this.args=e,this.closestIdx=0,this.isDisposed=!1;for(var n=this.closest=this.root=t,r=0;r<this.args.length-1&&(n=n.get(e[r]));r++)this.closest=n;this.closestIdx=r}function x(t,e,n){n=void 0===n?{}:n;var o=n.name,i=(o=void 0===o?"ogm"+(1e3*Math.random()|0):o,n=n.keyToName,n=void 0===n?function(t){return""+t}:n,d.call(this)||this);i._keyToName=n,i._groupBy=e,i._ogmInfoKey=Symbol("ogmInfo"+o),i._base=t;for(var a=0;a<t.length;a++)i._addItem(t[a]);return i._disposeBaseObserver=Object(r.D)(i._base,(function(t){if("splice"===t.type)Object(r.J)((function(){for(var e=0,n=t.removed;e<n.length;e++){var r=n[e];i._removeItem(r)}for(var o=0,a=t.added;o<a.length;o++){var u=a[o];i._addItem(u)}}));else{if("update"!==t.type)throw new Error("illegal state");Object(r.J)((function(){i._removeItem(t.oldValue),i._addItem(t.newValue)}))}})),i}function E(){this.constructor=h}Object.defineProperty(b.prototype,"isDirty",{get:function(){return 0<this.localValues.size},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),b.prototype.submit=function(){var t=this;Object(r.B)(this.localValues).forEach((function(e){var n=t.localValues.get(e),o=t.model[e];Object(r.y)(o)?o.replace(n):Object(r.z)(o)?(o.clear(),o.merge(n)):Object(r.v)(n)||(t.model[e]=n)})),this.localValues.clear()},b.prototype.reset=function(){this.localValues.clear()},b.prototype.resetProperty=function(t){this.localValues.delete(t)},f([r.m],b.prototype,"isDirty",null),f([r.m],b.prototype,"changedValues",null),f([r.k.bound],b.prototype,"submit",null),f([r.k.bound],b.prototype,"reset",null),f([r.k.bound],b.prototype,"resetProperty",null),p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},d=r.b,p(h=x,y=d),h.prototype=null===y?Object.create(y):(E.prototype=y.prototype,new E),x.prototype.clear=function(){throw new Error("not supported")},x.prototype.delete=function(t){throw new Error("not supported")},x.prototype.set=function(t,e){throw new Error("not supported")},x.prototype.dispose=function(){this._disposeBaseObserver();for(var t=0;t<this._base.length;t++){var e=this._base[t];e[this._ogmInfoKey].reaction(),delete e[this._ogmInfoKey]}},x.prototype._getGroupArr=function(t){var e=d.prototype.get.call(this,t);return void 0===e&&(e=Object(r.C)([],{name:"GroupArray["+this._keyToName(t)+"]",deep:!1}),d.prototype.set.call(this,t,e)),e},x.prototype._removeFromGroupArr=function(t,e){var n=d.prototype.get.call(this,t);1===n.length?d.prototype.delete.call(this,t):(e!==n.length-1&&(n[e]=n[n.length-1],n[e][this._ogmInfoKey].groupArrIndex=e),n.length--)},x.prototype._addItem=function(t){var e=this,n=this._groupBy(t),o=this._getGroupArr(n);n={groupByValue:n,groupArrIndex:o.length,reaction:Object(r.F)((function(){return e._groupBy(t)}),(function(n,r){var o=t[e._ogmInfoKey],i=(e._removeFromGroupArr(o.groupByValue,o.groupArrIndex),e._getGroupArr(n)),a=i.length;i.push(t),o.groupByValue=n,o.groupArrIndex=a}))};Object.defineProperty(t,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:n}),o.push(t)},x.prototype._removeItem=function(t){var e=t[this._ogmInfoKey];this._removeFromGroupArr(e.groupByValue,e.groupArrIndex),e.reaction(),delete t[this._ogmInfoKey]},w.prototype.exists=function(){this.assertNotDisposed();var t=this.args.length;return this.closestIdx>=t-1&&this.closest.has(this.args[t-1])},w.prototype.get=function(){if(this.assertNotDisposed(),this.exists())return this.closest.get(this.args[this.args.length-1]);throw new Error("Entry doesn't exist")},w.prototype.set=function(t){this.assertNotDisposed();for(var e=this.args.length,n=this.closest,r=this.closestIdx;r<e-1;r++){var o=new Map;n.set(this.args[r],o),n=o}this.closestIdx=e-1,(this.closest=n).set(this.args[e-1],t)},w.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var t=this.args.length;this.closest.delete(this.args[t-1]);for(var e=this.root,n=[e],r=0;r<t-1;r++)e=e.get(this.args[r]),n.push(e);for(r=n.length-1;0<r;r--)0===n[r].size&&n[r-1].delete(this.args[r-1]);this.isDisposed=!0},w.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},new Set,new Set,Promise.resolve(),"undefined"==typeof queueMicrotask&&void 0!==t&&t.nextTick}).call(this,n(151))},function(t,e,n){var r="undefined"!=typeof window?window:null,o="undefined"!=typeof window?document:null;if(r){for(var i,a={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},u={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},c={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},s={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l=1;l<20;++l)a[111+l]="f"+l;for(l=0;l<=9;++l)a[l+96]=l.toString();y.prototype.bind=function(t,e,n){return t=t instanceof Array?t:[t],this._bindMultiple.call(this,t,e,n),this},y.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},y.prototype.trigger=function(t,e){return this._directMap[t+":"+e]&&this._directMap[t+":"+e]({},t),this},y.prototype.reset=function(){return this._callbacks={},this._directMap={},this},y.prototype.stopCallback=function(t,e){return!(-1<(" "+e.className+" ").indexOf(" mousetrap "))&&!function t(e,n){return null!==e&&e!==o&&(e===n||t(e.parentNode,n))}(e,this.target)&&("composedPath"in t&&"function"==typeof t.composedPath&&(n=t.composedPath()[0])!==t.target&&(e=n),"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable);var n},y.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},y.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(a[e]=t[e]);i=null},(y.init=function(){var t,e=y(o);for(t in e)"_"!==t.charAt(0)&&(y[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))})(),r.Mousetrap=y,t.exports&&(t.exports=y),void 0!==(r=function(){return y}.call(e,n,e,t))&&(t.exports=r)}function f(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function p(t){var e;return"keypress"==t.type?(e=String.fromCharCode(t.which),t.shiftKey?e:e.toLowerCase()):a[t.which]||u[t.which]||String.fromCharCode(t.which).toLowerCase()}function d(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function h(t,e){for(var n,r,o,u=[],l="+"===t?["+"]:t.replace(/\+{2}/g,"+plus").split("+"),f=0;f<l.length;++f)n=l[f],s[n]&&(n=s[n]),e&&"keypress"!=e&&c[n]&&(n=c[n],u.push("shift")),d(n)&&u.push(n);return{key:n,modifiers:u,action:(t=n,r=u,e=o="keypress"==(o=(o=e)||(function(){if(!i)for(var t in i={},a)95<t&&t<112||a.hasOwnProperty(t)&&(i[a[t]]=t);return i}()[t]?"keydown":"keypress"))&&r.length?"keydown":o)}}function y(t){var e=this;if(t=t||o,!(e instanceof y))return new y(t);e.target=t,e._callbacks={},e._directMap={};var n,r={},i=!1,a=!1,u=!1;function c(t){t=t||{};var e,n=!1;for(e in r)t[e]?n=!0:r[e]=0;n||(u=!1)}function s(t,n,o,i,a,u){var c,s=[],l=o.type;if(!e._callbacks[t])return[];for("keyup"==l&&d(t)&&(n=[t]),c=0;c<e._callbacks[t].length;++c){var f,p,h=e._callbacks[t][c];!i&&h.seq&&r[h.seq]!=h.level||l!=h.action||("keypress"!=l||o.metaKey||o.ctrlKey)&&(f=n,p=h.modifiers,f.sort().join(",")!==p.sort().join(","))||(f=!i&&h.combo==a,p=i&&h.seq==i&&h.level==u,(f||p)&&e._callbacks[t].splice(c,1),s.push(h))}return s}function l(t,n,r,o){e.stopCallback(n,n.target||n.srcElement,r,o)||!1===t(n,r)&&((o=n).preventDefault?o.preventDefault():o.returnValue=!1,(t=n).stopPropagation?t.stopPropagation():t.cancelBubble=!0)}function g(t){"number"!=typeof t.which&&(t.which=t.keyCode);var n,r=p(t);r&&("keyup"!=t.type||i!==r?e.handleKey(r,(r=[],(n=t).shiftKey&&r.push("shift"),n.altKey&&r.push("alt"),n.ctrlKey&&r.push("ctrl"),n.metaKey&&r.push("meta"),r),t):i=!1)}function v(t,e,o,a){function s(e){l(o,e,t),"keyup"!==a&&(i=p(e)),setTimeout(c,10)}for(var f=r[t]=0;f<e.length;++f){var d=f+1===e.length?s:function(e){return function(){u=e,++r[t],clearTimeout(n),n=setTimeout(c,1e3)}}(a||h(e[f+1]).action);b(e[f],d,a,t,f)}}function b(t,n,r,o,i){e._directMap[t+":"+r]=n;var a=(t=t.replace(/\s+/g," ")).split(" ");1<a.length?v(t,a,n,r):(a=h(t,r),e._callbacks[a.key]=e._callbacks[a.key]||[],s(a.key,a.modifiers,{type:a.action},o,t,i),e._callbacks[a.key][o?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:t}))}e._handleKey=function(t,e,n){for(var r=s(t,e,n),o={},i=0,f=!1,p=0;p<r.length;++p)r[p].seq&&(i=Math.max(i,r[p].level));for(p=0;p<r.length;++p)if(r[p].seq){if(r[p].level!=i)continue;f=!0,o[r[p].seq]=1,l(r[p].callback,n,r[p].combo,r[p].seq)}else f||l(r[p].callback,n,r[p].combo);e="keypress"==n.type&&a,n.type!=u||d(t)||e||c(o),a=f&&"keydown"==n.type},e._bindMultiple=function(t,e,n){for(var r=0;r<t.length;++r)b(t[r],e,n)},f(t,"keypress",g),f(t,"keydown",g),f(t,"keyup",g)}},function(t,e,n){var r=n(35),o=n(37),i=n(32),a=n(39),u=n(62);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),c=u(e),s=c.length,l=0;l<s;)o.f(t,n=c[l++],r[n]);return t}},function(t,e,n){var r=n(9),o=n(36),i=n(30),a=n(33),u=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&i(n=t.toString)&&!a(r=o(n,t)))return r;if(i(n=t.valueOf)&&!a(r=o(n,t)))return r;if("string"!==e&&i(n=t.toString)&&!a(r=o(n,t)))return r;throw u("Can't convert object to primitive value")}},function(t,e,n){n=n(49),t.exports=n("document","documentElement")},function(t,e,n){var r=n(9),o=n(30);n=n(107),r=r.WeakMap;t.exports=o(r)&&/native code/.test(n(r))},function(t,e,n){"use strict";function r(){return this}var o=n(131).IteratorPrototype,i=n(52),a=n(67),u=n(90),c=n(66);t.exports=function(t,e,n,s){return e+=" Iterator",t.prototype=i(o,{next:a(+!s,n)}),u(t,e,!1,!0),c[e]=r,t}},function(t,e,n){var r=n(9),o=n(30),i=r.String,a=r.TypeError;t.exports=function(t){if("object"==typeof t||o(t))return t;throw a("Can't set "+i(t)+" as a prototype")}},function(t,e,n){"use strict";var r=n(17),o=n(9),i=n(15),a=n(110),u=n(45),c=n(133),s=n(135),l=n(139),f=n(30),p=n(33),d=n(19),h=n(140),y=n(90),g=n(141);t.exports=function(t,e,n){function v(t){var e=i(P[t]);u(P,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(E&&!p(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return E&&!p(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(E&&!p(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})}var b,m,O,_,w,x=-1!==t.indexOf("Map"),E=-1!==t.indexOf("Weak"),j=x?"set":"add",S=o[t],P=S&&S.prototype,k=S,A={};return a(t,!f(S)||!(E||P.forEach&&!d((function(){(new S).entries().next()}))))?(k=n.getConstructor(e,t,x,j),c.enable()):a(t,!0)&&(m=(b=new k)[j](E?{}:-0,1)!=b,O=d((function(){b.has(1)})),_=h((function(t){new S(t)})),w=!E&&d((function(){for(var t=new S,e=5;e--;)t[j](e,e);return!t.has(-0)})),_||(((k=e((function(t,e){return l(t,P),t=g(new S,t,k),null!=e&&s(e,t[j],{that:t,AS_ENTRIES:x}),t}))).prototype=P).constructor=k),(O||w)&&(v("delete"),v("has"),x&&v("get")),(w||m)&&v(j),E&&P.clear&&delete P.clear),A[t]=k,r({global:!0,forced:k!=S},A),y(k,t),E||n.setStrong(k,t,x),k}},function(t,e,n){var r=n(19),o=n(33),i=n(51),a=n(167),u=Object.isExtensible;n=r((function(){u(1)}));t.exports=n||a?function(t){return!!o(t)&&(!a||"ArrayBuffer"!=i(t))&&(!u||u(t))}:u},function(t,e,n){n=n(19),t.exports=n((function(){var t;"function"==typeof ArrayBuffer&&(t=new ArrayBuffer(8),Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8}))}))},function(t,e,n){n=n(19),t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){"use strict";var r=n(37).f,o=n(52),i=n(170),a=n(91),u=n(139),c=n(135),s=n(108),l=n(171),f=n(35),p=n(133).fastKey,d=(n=n(57),n.set),h=n.getterFor;t.exports={getConstructor:function(t,e,n,s){function l(t,e,n){var r,o=v(t),i=y(t,e);return i?i.value=n:(o.last=i={index:r=p(e,!0),key:e,value:n,previous:e=o.last,next:void 0,removed:!1},o.first||(o.first=i),e&&(e.next=i),f?o.size++:t.size++,"F"!==r&&(o.index[r]=i)),t}function y(t,e){t=v(t);var n,r=p(e);if("F"!==r)return t.index[r];for(n=t.first;n;n=n.next)if(n.key==e)return n}t=t((function(t,r){u(t,g),d(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),f||(t.size=0),null!=r&&c(r,t[s],{that:t,AS_ENTRIES:n})}));var g=t.prototype,v=h(e);return i(g,{clear:function(){for(var t=v(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e,n,r=v(this);t=y(this,t);return t&&(e=t.next,n=t.previous,delete r.index[t.index],t.removed=!0,n&&(n.next=e),e&&(e.previous=n),r.first==t&&(r.first=e),r.last==t&&(r.last=n),f?r.size--:this.size--),!!t},forEach:function(t){for(var e,n=v(this),r=a(t,1<arguments.length?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!y(this,t)}}),i(g,n?{get:function(t){return t=y(this,t),t&&t.value},set:function(t,e){return l(this,0===t?0:t,e)}}:{add:function(t){return l(this,t=0===t?0:t,t)}}),f&&r(g,"size",{get:function(){return v(this).size}}),t},setStrong:function(t,e,n){var r=e+" Iterator",o=h(e),i=h(r);s(t,e,(function(t,e){d(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:t.target=void 0,done:!0}}),n?"entries":"values",!n,!0),l(e)}}},function(t,e,n){var r=n(45);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){"use strict";var r=n(49),o=n(37),i=n(27),a=n(35),u=i("species");t.exports=function(t){t=r(t);var e=o.f;a&&t&&!t[u]&&e(t,u,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(114),o=n(92);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){"use strict";var r=n(69).forEach;n=n(116)("forEach");t.exports=n?[].forEach:function(t){return r(this,t,1<arguments.length?arguments[1]:void 0)}},function(t,e,n){var r=n(9),o=n(93),i=n(94),a=n(33),u=n(27)("species"),c=r.Array;t.exports=function(t){var e;return o(t)&&(e=t.constructor,(i(e)&&(e===c||o(e.prototype))||a(e)&&null===(e=e[u]))&&(e=void 0)),void 0===e?c:e}},function(t,e,n){n=n(9),t.exports=n},function(t,e,n){"use strict";var r=n(9),o=n(91),i=n(36),a=n(38),u=n(177),c=n(136),s=n(94),l=n(43),f=n(59),p=n(137),d=n(113),h=r.Array;t.exports=function(t){var e=a(t),n=(t=s(this),arguments.length),r=1<n?arguments[1]:void 0,y=void 0!==r;y&&(r=o(r,2<n?arguments[2]:void 0));n=d(e);var g,v,b,m,O,_,w=0;if(!n||this==h&&c(n))for(g=l(e),v=t?new this(g):h(g);w<g;w++)_=y?r(e[w],w):e[w],f(v,w,_);else for(O=(m=p(e,n)).next,v=t?new this:[];!(b=i(O,m)).done;w++)_=y?u(m,r,[b.value,w],!0):b.value,f(v,w,_);return v.length=w,v}},function(t,e,n){var r=n(32),o=n(138);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){o(t,"throw",e)}}},function(t,e,n){"use strict";var r=n(32);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(19),o=n(9).RegExp;t.exports=r((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},function(t,e,n){var r=n(19),o=n(9).RegExp;t.exports=r((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},function(t,e,n){"use strict";var r=n(17),o=n(15),i=n(61),a=n(38),u=n(43),c=n(40),s=n(19),l=n(182),f=n(116),p=n(183),d=n(184),h=n(80),y=n(185),g=[],v=o(g.sort),b=o(g.push),m=(n=s((function(){g.sort(void 0)})),o=s((function(){g.sort(null)})),f=f("sort"),!s((function(){if(h)return h<70;if(!(p&&3<p)){if(d)return!0;if(y)return y<603;for(var t,e,n,r="",o=65;o<76;o++){switch(t=String.fromCharCode(o),o){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(n=0;n<47;n++)g.push({k:t+n,v:e})}for(g.sort((function(t,e){return e.v-t.v})),n=0;n<g.length;n++)t=g[n].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}})));r({target:"Array",proto:!0,forced:n||!o||!f||!m},{sort:function(t){void 0!==t&&i(t);var e=a(this);if(m)return void 0===t?v(e):v(e,t);for(var n,r,o=[],s=u(e),f=0;f<s;f++)f in e&&b(o,e[f]);for(l(o,(r=t,function(t,e){return void 0===e?-1:void 0===t?1:void 0!==r?+r(t,e)||0:c(t)>c(e)?1:-1})),n=o.length,f=0;f<n;)e[f]=o[f++];for(;f<s;)delete e[f++];return e}})},function(t,e,n){function r(t,e){var n=t.length,a=i(n/2);if(n<8){for(var u,c,s=t,l=e,f=s.length,p=1;p<f;){for(u=s[c=p];c&&0<l(s[c-1],u);)s[c]=s[--c];c!==p++&&(s[c]=u)}return s}for(var d=t,h=r(o(t,0,a),e),y=r(o(t,a),e),g=e,v=h.length,b=y.length,m=0,O=0;m<v||O<b;)d[m+O]=m<v&&O<b?g(h[m],y[O])<=0?h[m++]:y[O++]:m<v?h[m++]:y[O++];return d}var o=n(112),i=Math.floor;t.exports=r},function(t,e,n){n=n(81).match(/firefox\/(\d+)/i),t.exports=!!n&&+n[1]},function(t,e,n){n=n(81),t.exports=/MSIE|Trident/.test(n)},function(t,e,n){n=n(81).match(/AppleWebKit\/(\d+)\./),t.exports=!!n&&+n[1]},function(t,e,n){"use strict";var r=n(17),o=n(69).find,i=(n=n(76),!0);"find"in[]&&Array(1).find((function(){i=!1})),r({target:"Array",proto:!0,forced:i},{find:function(t){return o(this,t,1<arguments.length?arguments[1]:void 0)}}),n("find")},function(t,e,n){var r=n(9),o=n(150),i=r.TypeError;t.exports=function(t){if(o(t))throw i("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(27)("match");t.exports=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{return n[r]=!1,"/./"[e](n)}catch(e){}}return!1}},function(t,e,n){var r=n(32),o=n(152),i=n(27)("species");t.exports=function(t,e){t=r(t).constructor;return void 0===t||null==(t=r(t)[i])?e:o(t)}},function(t,e,n){"use strict";var r=n(17),o=n(153).trim;r({target:"String",proto:!0,forced:n(191)("trim")},{trim:function(){return o(this)}})},function(t,e,n){var r=n(88).PROPER,o=n(19),i=n(154);t.exports=function(t){return o((function(){return!!i[t]()||""!==""[t]()||r&&i[t].name!==t}))}},function(t,e,n){n=n(15),t.exports=n(1..valueOf)},function(t,e,n){var r=n(15),o=n(38),i=Math.floor,a=r("".charAt),u=r("".replace),c=r("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,f,p){var d=n+t.length,h=r.length,y=l;return void 0!==f&&(f=o(f),y=s),u(p,y,(function(o,u){var s;switch(a(u,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,n);case"'":return c(e,d);case"<":s=f[c(u,1,-1)];break;default:var l,p=+u;if(0==p)return o;if(h<p)return 0!==(l=i(p/10))&&l<=h?void 0===r[l-1]?a(u,1):r[l-1]+a(u,1):o;s=r[p-1]}return void 0===s?"":s}))}},function(t,e,n){"use strict";var r=n(9),o=n(15),i=n(61),a=n(33),u=n(34),c=n(117),s=r.Function,l=o([].concat),f=o([].join),p={};t.exports=s.bind||function(t){var e=i(this),n=e.prototype,r=c(arguments,1),o=function(){var n=l(r,c(arguments));if(this instanceof o){var i=e,a=n.length,d=n;if(!u(p,a)){for(var h=[],y=0;y<a;y++)h[y]="a["+y+"]";p[a]=s("C,a","return new C("+f(h,",")+")")}return p[a](i,d)}return e.apply(t,n)};return a(n)&&(o.prototype=n),o}},function(t,e,n){var r=n(34);t.exports=function(t){return void 0!==t&&(r(t,"value")||r(t,"writable"))}},function(t,e,n){"use strict";var r=n(35),o=n(15),i=n(36),a=n(19),u=n(62),c=n(109),s=n(87),l=n(38),f=n(74),p=Object.assign,d=Object.defineProperty,h=o([].concat);t.exports=!p||a((function(){if(r&&1!==p({b:1},p(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=p({},t)[n]||"abcdefghijklmnopqrst"!=u(p({},e)).join("")}))?function(t,e){for(var n=l(t),o=arguments.length,a=1,p=c.f,d=s.f;a<o;)for(var y,g=f(arguments[a++]),v=p?h(u(g),p(g)):u(g),b=v.length,m=0;m<b;)y=v[m++],r&&!i(d,g,y)||(n[y]=g[y]);return n}:p},function(t,e,n){var r=n(15),o=n(44),i=n(40),a=/"/g,u=r("".replace);t.exports=function(t,e,n,r){t=i(o(t));var c="<"+e;return""!==n&&(c+=" "+n+'="'+u(i(r),a,"&quot;")+'"'),c+">"+t+"</"+e+">"}},function(t,e,n){var r=n(19);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}))}},function(t,e,n){n=n(17);var r=Math.hypot,o=Math.abs,i=Math.sqrt;n({target:"Math",stat:!0,forced:!!r&&r(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,a=0,u=0,c=arguments.length,s=0;u<c;)s<(n=o(arguments[u++]))?(a=a*(r=s/n)*r+1,s=n):a+=0<n?(r=n/s)*r:n;return s===1/0?1/0:s*i(a)}})},function(t,e,n){function r(t){return function(e){for(var n,r=u(e),i=a(r),l=i.length,f=0,p=[];f<l;)n=i[f++],o&&!c(r,n)||s(p,t?[n,r[n]]:r[n]);return p}}var o=n(35),i=n(15),a=n(62),u=n(39),c=i(n(87).f),s=i([].push);t.exports={entries:r(!0),values:r(!1)}},function(t,e,n){"use strict";var r=n(38),o=n(63),i=n(43);t.exports=function(t){for(var e=r(this),n=i(e),a=arguments.length,u=o(1<a?arguments[1]:void 0,n),c=(a=2<a?arguments[2]:void 0,void 0===a?n:o(a,n));u<c;)e[u++]=t;return e}},function(t,e,n){"use strict";n.r(e),n.d(e,"observer",(function(){return Wy})),n.d(e,"LogicFlow",(function(){return Yy})),n.d(e,"h",(function(){return q.g})),n.d(e,"LogicFlowUtil",(function(){return r})),n.d(e,"BaseNode",(function(){return gp})),n.d(e,"RectNode",(function(){return xp})),n.d(e,"CircleNode",(function(){return Mp})),n.d(e,"PolygonNode",(function(){return Hp})),n.d(e,"DiamondNode",(function(){return Wp})),n.d(e,"EllipseNode",(function(){return rd})),n.d(e,"TextNode",(function(){return fd})),n.d(e,"HtmlNode",(function(){return md})),n.d(e,"BaseEdge",(function(){return lh})),n.d(e,"LineEdge",(function(){return vh})),n.d(e,"PolylineEdge",(function(){return Nh})),n.d(e,"BezierEdge",(function(){return Uh})),n.d(e,"Arrow",(function(){return Ad})),n.d(e,"BaseEdgeModel",(function(){return gi})),n.d(e,"BezierEdgeModel",(function(){return xs})),n.d(e,"LineEdgeModel",(function(){return Mi})),n.d(e,"PolylineEdgeModel",(function(){return Ui})),n.d(e,"BaseNodeModel",(function(){return Ts})),n.d(e,"CircleNodeModel",(function(){return Ks})),n.d(e,"DiamondNodeModel",(function(){return fl})),n.d(e,"EllipseNodeModel",(function(){return jl})),n.d(e,"PolygonNodeModel",(function(){return Hl})),n.d(e,"RectNodeModel",(function(){return tf})),n.d(e,"TextNodeModel",(function(){return df})),n.d(e,"HtmlNodeModel",(function(){return xf})),n.d(e,"EditConfigModel",(function(){return ar})),n.d(e,"GraphModel",(function(){return ru})),n.d(e,"SnaplineModel",(function(){return Af})),n.d(e,"Keyboard",(function(){return Cy})),n.d(e,"get",(function(){return Uc})),n.d(e,"defaults",(function(){return Vc}));var r={},o=(n.r(r),n.d(r,"createUuid",(function(){return Oo})),n.d(r,"refreshGraphId",(function(){return _o})),n.d(r,"createDrag",(function(){return Da})),n.d(r,"StepDrag",(function(){return Ua})),n(0)),i=n(10);if(!i.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!o.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var a=n(42),u=Object(a.b)("observerBatching"),c=!1;function s(t){return Object(o.t)(t)}var l,f=1e4,p=new Set;function d(){void 0===l&&(l=setTimeout(h,1e4))}function h(){l=void 0;var t=Date.now();p.forEach((function(e){var n=e.current;n&&t>=n.cleanAt&&(n.reaction.dispose(),e.current=null,p.delete(e))})),0<p.size&&d()}var y=!1,g=[],v={};function b(t){return"observer"+t}function m(t,e,n){if(void 0===e&&(e="observed"),void 0===n&&(n=v),c)return t();r=(n.useForceUpdate||a.d)();var r,u,l,h=function(){y?g.push(r):r()},m=i.d.useRef(null),O=(m.current||(u=new o.c(b(e),(function(){l.mounted?h():(u.dispose(),m.current=null)})),n=u,l={cleanAt:Date.now()+f,reaction:n},m.current=l,p.add(m),d()),m.current.reaction);i.d.useDebugValue(O,s),i.d.useEffect((function(){return p.delete(m),m.current?m.current.mounted=!0:(m.current={reaction:new o.c(b(e),(function(){h()})),cleanAt:1/0},h()),function(){m.current.reaction.dispose(),m.current=null}}),[]),y=!0,g=[];try{var _=function(){var e,n;if(O.track((function(){try{e=t()}catch(e){n=e}})),n)throw n;return e}(),w=(y=!1,0<g.length?g:void 0);return i.d.useLayoutEffect((function(){w&&w.forEach((function(t){return t()}))}),[w]),_}finally{y=!1}}var O=function(){return(O=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function _(t,e){if(c)return t;function n(e,n){return m((function(){return t(e,n)}),a)}e=O({forwardRef:!1},e);var r,o,a=t.displayName||t.name;return n.displayName=a,e=e.forwardRef?Object(i.f)(Object(i.e)(n)):Object(i.f)(n),r=t,o=e,Object.keys(r).forEach((function(t){w[t]||Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(r,t))})),e.displayName=a,e}var w={$$typeof:!0,render:!0,compare:!0,type:!0};function x(t){var e=t.children;t=t.render,e=e||t;return"function"!=typeof e?null:m(e)}function E(t,e,n,r,o){var i="function"==typeof t[e],a="function"==typeof t["children"===e?"render":"children"];return i&&a?new Error("MobX Observer: Do not use children and render in the same time in`"+n):i||a?null:new Error("Invalid prop `"+o+"` of type `"+typeof t[e]+"` supplied to `"+n+"`, expected `function`.")}x.propTypes={children:E,render:E},x.displayName="Observer",(U=i.g)||(U=function(t){t()}),Object(o.n)({reactionScheduler:U}),Object(a.a)()[u]=!0;var j=0,S={};function P(t){return S[t]||(S[t]=function(t){return"function"==typeof Symbol?Symbol(t):(t="__$mobx-react "+t+" ("+j+")",j++,t)}(t)),S[t]}function k(t,e){if(A(t,e))return 1;if("object"==typeof t&&null!==t&&"object"==typeof e&&null!==e){var n=Object.keys(t),r=Object.keys(e);if(n.length===r.length){for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(e,n[o])||!A(t[n[o]],e[n[o]]))return;return 1}}}function A(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function M(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}var D=P("patchMixins"),N=P("patchedDefinition");function T(t,e){for(var n,r=this,o=arguments.length,i=new Array(2<o?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];e.locks++;try{return n=null!=t?t.apply(this,i):n}finally{e.locks--,0===e.locks&&e.methods.forEach((function(t){t.apply(r,i)}))}}function C(t,e){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];T.call.apply(T,[this,t,e].concat(r))}}var R=o.a||"$mobx",I=P("isMobXReactObserver"),L=P("isUnmounted"),z=P("skipRender"),B=P("isForcingUpdate");function H(t){var e=t.prototype;if(t[I]?X(e):t[I]=!0,e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==i.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==F)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=F;G(e,"props"),G(e,"state");var n,r,a,u,s=e.render;return e.render=function(){return function(t){var e=this;if(!0===c)return t.call(this);M(this,z,!1),M(this,B,!1);var n=X(this),r=t.bind(this),a=!1,u=new o.c(n+".render()",(function(){if(!a&&(a=!0)!==e[L]){var t=!0;try{M(e,B,!0),e[z]||i.a.prototype.forceUpdate.call(e),t=!1}finally{M(e,B,!1),t&&u.dispose()}}}));function s(){a=!1;var t=void 0,e=void 0;if(u.track((function(){try{e=Object(o.d)(!1,r)}catch(e){t=e}})),t)throw t;return e}return u.reactComponent=this,s[R]=u,(this.render=s).call(this)}.call(this,s)},r=function(){var t;!0===c||(null!=(t=this.render[R])&&t.dispose(),this[L]=!0,this.render[R])||X(this)},(u=function(t,e){return t=t[D]=t[D]||{},t=t[e]=t[e]||{},t.locks=t.locks||0,t.methods=t.methods||[],t}(e=e,n="componentWillUnmount")).methods.indexOf(r)<0&&u.methods.push(r),(r=Object.getOwnPropertyDescriptor(e,n))&&r[N]||(a=e[n],r=function t(e,n,r,o,i){var a=C(i,o);return(i={})[N]=!0,i.get=function(){return a},i.set=function(i){this===e?a=C(i,o):(i=t(this,n,r,o,i),Object.defineProperty(this,n,i))},i.configurable=!0,i.enumerable=r,i}(e,n,r?r.enumerable:void 0,u,a),Object.defineProperty(e,n,r)),t}function X(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function F(t,e){return this.state!==e||!k(this.props,t)}function G(t,e){var n=P("reactProp_"+e+"_valueHolder"),r=P("reactProp_"+e+"_atomHolder");function i(){return this[r]||M(this,r,Object(o.o)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var t=!1;return o.f&&o.e&&(t=Object(o.f)(!0)),i.call(this).reportObserved(),o.f&&o.e&&Object(o.e)(t),this[n]},set:function(t){this[B]||k(this[n],t)?M(this,n,t):(M(this,n,t),M(this,z,!0),i.call(this).reportChanged(),M(this,z,!1))}})}var U="function"==typeof Symbol&&Symbol.for,Y=U?Symbol.for("react.forward_ref"):"function"==typeof i.e&&Object(i.e)((function(t){return null})).$$typeof,V=U?Symbol.for("react.memo"):"function"==typeof i.f&&Object(i.f)((function(t){return null})).$$typeof;function W(t){if(t.isMobxInjector,V&&t.$$typeof===V)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Y&&t.$$typeof===Y){var e=t.render;if("function"!=typeof e)throw new Error("render property of ForwardRef was not a function");return Object(i.e)((function(){var t=arguments;return Object(i.c)(x,null,(function(){return e.apply(void 0,t)}))}))}return("function"!=typeof t||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(i.a,t)?H:_)(t)}if(!i.a)throw new Error("mobx-react requires React to be available");if(!o.C)throw new Error("mobx-react requires mobx to be available");function K(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}function $(t,e){for(var n=t.length;n--;)if(Z(t[n][0],e))return n;return-1}var q=n(1),Z=(n(3),n(58),n(2),n(6),n(4),n(11),n(41),n(24),n(20),n(5),n(22),n(21),n(23),n(7),n(8),n(16),n(25),n(18),n(28),n(181),n(186),n(97),n(148),n(149),function(t,e){return t===e||t!=t&&e!=e}),J=Array.prototype.splice;function Q(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tt(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":(lt&&lt in Object(t)?ut:st)(t)}function et(t,e){return e=e,t=null==(t=t)?void 0:t[e],ft(e=t)&&!ht(e)&&(pt(e)?mt:vt).test(gt(e))?t:void 0}Q.prototype.clear=function(){this.__data__=[],this.size=0},Q.prototype.delete=function(t){var e=this.__data__;t=$(e,t);return!(t<0||(t==e.length-1?e.pop():J.call(e,t,1),--this.size,0))},Q.prototype.get=function(t){var e=this.__data__;t=$(e,t);return t<0?void 0:e[t][1]},Q.prototype.has=function(t){return-1<$(this.__data__,t)},Q.prototype.set=function(t,e){var n=this.__data__,r=$(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var nt=Q,rt=n(29),ot=(u=rt.a.Symbol,U=Object.prototype,U.hasOwnProperty),it=U.toString,at=u?u.toStringTag:void 0,ut=function(t){var e=ot.call(t,at),n=t[at];try{var r=!(t[at]=void 0)}catch(t){}var o=it.call(t);return r&&(e?t[at]=n:delete t[at]),o},ct=Object.prototype.toString,st=function(t){return ct.call(t)},lt=u?u.toStringTag:void 0,ft=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},pt=function(t){return!!ft(t)&&(t=tt(t),"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)},dt=(U=rt.a["__core-js_shared__"],(U=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+U:""),ht=function(t){return!!dt&&dt in t},yt=Function.prototype.toString,gt=function(t){if(null!=t){try{return yt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},vt=/^\[object .+?Constructor\]$/,bt=(U=Function.prototype,Object.prototype),mt=(U=U.toString,bt=bt.hasOwnProperty,RegExp("^"+U.call(bt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$")),Ot=et(rt.a,"Map"),_t=et(Object,"create"),wt=Object.prototype.hasOwnProperty,xt=Object.prototype.hasOwnProperty;function Et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function jt(t,e){return t=t.__data__,Pt(e)?t["string"==typeof e?"string":"hash"]:t.map}Et.prototype.clear=function(){this.__data__=_t?_t(null):{},this.size=0},Et.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},Et.prototype.get=function(t){var e,n=this.__data__;return _t?"__lodash_hash_undefined__"===(e=n[t])?void 0:e:wt.call(n,t)?n[t]:void 0},Et.prototype.has=function(t){var e=this.__data__;return _t?void 0!==e[t]:xt.call(e,t)},Et.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=_t&&void 0===e?"__lodash_hash_undefined__":e,this};var St=Et,Pt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};function kt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}kt.prototype.clear=function(){this.size=0,this.__data__={hash:new St,map:new(Ot||nt),string:new St}},kt.prototype.delete=function(t){return t=jt(this,t).delete(t),this.size-=t?1:0,t},kt.prototype.get=function(t){return jt(this,t).get(t)},kt.prototype.has=function(t){return jt(this,t).has(t)},kt.prototype.set=function(t,e){var n=jt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var At=kt;function Mt(t){t=this.__data__=new nt(t),this.size=t.size}Mt.prototype.clear=function(){this.__data__=new nt,this.size=0},Mt.prototype.delete=function(t){var e=this.__data__;t=e.delete(t);return this.size=e.size,t},Mt.prototype.get=function(t){return this.__data__.get(t)},Mt.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.set=function(t,e){var n=this.__data__;if(n instanceof nt){var r=n.__data__;if(!Ot||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new At(r)}return n.set(t,e),this.size=n.size,this};var Dt=Mt;function Nt(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new At;++e<n;)this.add(t[e])}function Tt(t,e,n,r,o,i){var a=1&n,u=t.length,c=e.length;if(u!=c&&!(a&&u<c))return!1;c=i.get(t);var s=i.get(e);if(c&&s)return c==e&&s==t;var l=-1,f=!0,p=2&n?new Yt:void 0;for(i.set(t,e),i.set(e,t);++l<u;){var d,h=t[l],y=e[l];if(void 0!==(d=r?a?r(y,h,l,e,t,i):r(h,y,l,t,e,i):d)){if(d)continue;f=!1;break}if(p){if(!function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}(e,(function(t,e){return!p.has(e)&&(h===t||o(h,t,n,r,i))&&p.push(e)}))){f=!1;break}}else if(h!==y&&!o(h,y,n,r,i)){f=!1;break}}return i.delete(t),i.delete(e),f}function Ct(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function Rt(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function It(t,e,n){return e=e(t),$t(t)?e:Kt(e,n(t))}function Lt(){return[]}function zt(t){return te(t)&&"[object Arguments]"==tt(t)}function Bt(t){return function(e){return t(e)}}function Ht(t,e){return function(n){return t(e(n))}}function Xt(t,e,n,r,o){return t===e||(null==t||null==e||!te(t)&&!te(e)?t!=t&&e!=e:De(t,e,n,r,Xt,o))}function Ft(t){return t==t&&!ft(t)}function Gt(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}function Ut(t,e){var n;if(!$t(t))return n=typeof t,!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Te(t))||Re.test(t)||!Ce.test(t)||null!=e&&t in Object(e)}Nt.prototype.add=Nt.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Nt.prototype.has=function(t){return this.__data__.has(t)};var Yt=Nt,Vt=rt.a.Uint8Array,Wt=(U=u?u.prototype:void 0,U?U.valueOf:void 0),Kt=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t},$t=Array.isArray,qt=Object.prototype.propertyIsEnumerable,Zt=Object.getOwnPropertySymbols,Jt=Zt?function(t){if(null==t)return[];t=Object(t);for(var e=Zt(t),n=function(e){return qt.call(t,e)},r=-1,o=null==e?0:e.length,i=0,a=[];++r<o;){var u=e[r];n(u,r,e)&&(a[i++]=u)}return a}:Lt,Qt=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},te=function(t){return null!=t&&"object"==typeof t},ee=(bt=Object.prototype,bt.hasOwnProperty),ne=bt.propertyIsEnumerable,re=zt(function(){return arguments}())?zt:function(t){return te(t)&&ee.call(t,"callee")&&!ne.call(t,"callee")},oe=n(47),ie=/^(?:0|[1-9]\d*)$/,ae=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&ie.test(t))&&-1<t&&t%1==0&&t<e},ue=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991},ce={},se=(U=(ce["[object Float32Array]"]=ce["[object Float64Array]"]=ce["[object Int8Array]"]=ce["[object Int16Array]"]=ce["[object Int32Array]"]=ce["[object Uint8Array]"]=ce["[object Uint8ClampedArray]"]=ce["[object Uint16Array]"]=ce["[object Uint32Array]"]=!0,ce["[object Arguments]"]=ce["[object Array]"]=ce["[object ArrayBuffer]"]=ce["[object Boolean]"]=ce["[object DataView]"]=ce["[object Date]"]=ce["[object Error]"]=ce["[object Function]"]=ce["[object Map]"]=ce["[object Number]"]=ce["[object Object]"]=ce["[object RegExp]"]=ce["[object Set]"]=ce["[object String]"]=ce["[object WeakMap]"]=!1,n(48)),bt=U.a&&U.a.isTypedArray,bt?Bt(bt):function(t){return te(t)&&ue(t.length)&&!!ce[tt(t)]}),le=Object.prototype.hasOwnProperty,fe=function(t,e){var n,r=$t(t),o=!r&&re(t),i=!r&&!o&&Object(oe.a)(t),a=!r&&!o&&!i&&se(t),u=r||o||i||a,c=u?Qt(t.length,String):[],s=c.length;for(n in t)!e&&!le.call(t,n)||u&&("length"==n||i&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||ae(n,s))||c.push(n);return c},pe=Object.prototype,de=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||pe)},he=Ht(Object.keys,Object),ye=Object.prototype.hasOwnProperty,ge=function(t){return null!=t&&ue(t.length)&&!pt(t)},ve=function(t){return(ge(t)?fe:function(t){if(!de(t))return he(t);var e,n=[];for(e in Object(t))ye.call(t,e)&&"constructor"!=e&&n.push(e);return n})(t)},be=function(t){return It(t,ve,Jt)},me=Object.prototype.hasOwnProperty,Oe=(bt=et(rt.a,"DataView"),et(rt.a,"Promise")),_e=et(rt.a,"Set"),we=et(rt.a,"WeakMap"),xe=gt(bt),Ee=gt(Ot),je=gt(Oe),Se=gt(_e),Pe=gt(we),ke=tt,Ae=ke=bt&&"[object DataView]"!=ke(new bt(new ArrayBuffer(1)))||Ot&&"[object Map]"!=ke(new Ot)||Oe&&"[object Promise]"!=ke(Oe.resolve())||_e&&"[object Set]"!=ke(new _e)||we&&"[object WeakMap]"!=ke(new we)?function(t){var e=tt(t);t="[object Object]"==e?t.constructor:void 0,t=t?gt(t):"";if(t)switch(t){case xe:return"[object DataView]";case Ee:return"[object Map]";case je:return"[object Promise]";case Se:return"[object Set]";case Pe:return"[object WeakMap]"}return e}:ke,Me=Object.prototype.hasOwnProperty,De=function(t,e,n,r,o,i){var a=$t(t),u=$t(e),c=a?"[object Array]":Ae(t),s=(u=u?"[object Array]":Ae(e),"[object Object]"==(c="[object Arguments]"==c?"[object Object]":c)),l="[object Object]"==(u="[object Arguments]"==u?"[object Object]":u);u=c==u;if(u&&Object(oe.a)(t)){if(!Object(oe.a)(e))return!1;s=!(a=!0)}if(u&&!s){if(i=i||new Dt,a||se(t))return Tt(t,e,n,r,o,i);var f=t,p=e;a=c;var d=n,h=r,y=o,g=i;switch(a){case"[object DataView]":if(f.byteLength!=p.byteLength||f.byteOffset!=p.byteOffset)return!1;f=f.buffer,p=p.buffer;case"[object ArrayBuffer]":return!(f.byteLength!=p.byteLength||!y(new Vt(f),new Vt(p)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Z(+f,+p);case"[object Error]":return f.name==p.name&&f.message==p.message;case"[object RegExp]":case"[object String]":return f==p+"";case"[object Map]":var v=Ct;case"[object Set]":if(v=v||Rt,f.size!=p.size&&!(1&d))return!1;var b=g.get(f);return b?b==p:(d|=2,g.set(f,p),b=Tt(v(f),v(p),d,h,y,g),g.delete(f),b);case"[object Symbol]":if(Wt)return Wt.call(f)==Wt.call(p)}return!1}return 1&n||(c=s&&Me.call(t,"__wrapped__"),a=l&&Me.call(e,"__wrapped__"),!c&&!a)?!!u&&function(t,e,n,r,o,i){var a=1&n,u=be(t),c=u.length;if(c!=be(e).length&&!a)return!1;for(var s=c;s--;){var l=u[s];if(!(a?l in e:me.call(e,l)))return!1}var f=i.get(t),p=i.get(e);if(f&&p)return f==e&&p==t;var d=!0;i.set(t,e),i.set(e,t);for(var h=a;++s<c;){var y,g=t[l=u[s]],v=e[l];if(!(void 0===(y=r?a?r(v,g,l,e,t,i):r(g,v,l,t,e,i):y)?g===v||o(g,v,n,r,i):y)){d=!1;break}h=h||"constructor"==l}return d&&!h&&(f=t.constructor)!=(p=e.constructor)&&"constructor"in t&&"constructor"in e&&!("function"==typeof f&&f instanceof f&&"function"==typeof p&&p instanceof p)&&(d=!1),i.delete(t),i.delete(e),d}(t,e,n,r,o,i=i||new Dt):o(c?t.value():t,a?e.value():e,n,r,i=i||new Dt)},Ne=function(t){var e=function(t){for(var e=ve(t),n=e.length;n--;){var r=e[n],o=t[r];e[n]=[r,o,Ft(o)]}return e}(t);return 1==e.length&&e[0][2]?Gt(e[0][0],e[0][1]):function(n){return n===t||function(t,e,n,r){var o=n.length,i=o,a=!r;if(null==t)return!i;for(t=Object(t);o--;){var u=n[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=n[o])[0],s=t[c],l=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var f,p=new Dt;if(!(void 0===(f=r?r(s,l,c,t,e,p):f)?Xt(l,s,3,r,p):f))return!1}}return!0}(n,t,e)}},Te=function(t){return"symbol"==typeof t||te(t)&&"[object Symbol]"==tt(t)},Ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Re=/^\w*$/;function Ie(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;return i.has(o)?i.get(o):(r=t.apply(this,r),n.cache=i.set(o,r)||i,r)}return n.cache=new(Ie.Cache||At),n}function Le(t){if("string"==typeof t)return t;if($t(t))return K(t,Le)+"";if(Te(t))return gn?gn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ze(t,e,n){return void 0===(t=null==t?void 0:mn(t,e))?n:t}function Be(t,e){return null!=t&&_n(t,e,On)}function He(t,e){var n=-1,r=ge(t)?Array(t.length):[];return Sn(t,(function(t,o,i){r[++n]=e(t,o,i)})),r}function Xe(t,e){return($t(t)?K:He)(t,"function"==typeof(t=e)?t:null==t?xn:"object"==typeof t?$t(t)?wn(t[0],t[1]):Ne(t):En(t))}function Fe(t,e,n,r){var o=!n;n=n||{};for(var i=-1,a=e.length;++i<a;){var u=e[i],c=r?r(n[u],t[u],u,n,t):void 0;void 0===c&&(c=t[u]),(o?kn:Mn)(n,u,c)}return n}function Ge(t){return Cn(Nn(e=function(e,n){var r=-1,o=n.length,i=1<o?n[o-1]:void 0,a=2<o?n[2]:void 0;i=3<t.length&&"function"==typeof i?(o--,i):void 0;for(a&&function(t,e,n){if(!ft(n))return!1;var r=typeof e;return!!("number"==r?ge(n)&&ae(e,n.length):"string"==r&&e in n)&&Z(n[e],t)}(n[0],n[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var u=n[r];u&&t(e,u,r,i)}return e},n,xn),e+"");var e,n}function Ue(t,e){for(var n=t,r=e,o=function(e,n){return Be(t,n)},i=-1,a=r.length,u={};++i<a;){var c=r[i],s=mn(n,c);o(s,c)&&Ln(u,vn(c,n),s)}return u}function Ye(t,e,n,r,o){var i=-1,a=t.length;for(n=n||Bn,o=o||[];++i<a;){var u=t[i];0<e&&n(u)?1<e?Ye(u,e-1,n,r,o):Kt(o,u):r||(o[o.length]=u)}return o}Ie.Cache=At;var Ve,We,Ke,$e,qe,Ze,Je,Qe,tn,en,nn,rn,on,an,un,cn,sn,ln,fn,pn,dn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hn=/\\(\\)?/g,yn=(Ve=(bt=Ie((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(dn,(function(t,n,r,o){e.push(r?o.replace(hn,"$1"):n||t)})),e}),(function(t){return 500===Ve.size&&Ve.clear(),t}))).cache,bt),gn=(Oe=u?u.prototype:void 0,Oe?Oe.toString:void 0),vn=function(t,e){return $t(t)?t:Ut(t,e)?[t]:yn(null==(e=t)?"":Le(e))},bn=function(t){if("string"==typeof t||Te(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},mn=function(t,e){for(var n=0,r=(e=vn(e,t)).length;null!=t&&n<r;)t=t[bn(e[n++])];return n&&n==r?t:void 0},On=function(t,e){return null!=t&&e in Object(t)},_n=function(t,e,n){for(var r=-1,o=(e=vn(e,t)).length,i=!1;++r<o;){var a=bn(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}return i||++r!=o?i:!!(o=null==t?0:t.length)&&ue(o)&&ae(a,o)&&($t(t)||re(t))},wn=function(t,e){return Ut(t)&&Ft(e)?Gt(bn(t),e):function(n){var r=ze(n,t);return void 0===r&&r===e?Be(n,t):Xt(e,r,3)}},xn=function(t){return t},En=function(t){return Ut(t)?(n=bn(t),function(t){return null==t?void 0:t[n]}):(e=t,function(t){return mn(t,e)});var e,n},jn=function(t,e,n){for(var r=-1,o=Object(t),i=n(t),a=i.length;a--;){var u=i[++r];if(!1===e(o[u],u,o))break}return t},Sn=function(t,e){if(null==t)return t;if(!ge(t))return r=e,(n=t)&&jn(n,r,ve);for(var n,r,o=t.length,i=-1,a=Object(t);++i<o&&!1!==e(a[i],i,a););return t},Pn=function(){try{var t=et(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),kn=function(t,e,n){"__proto__"==e&&Pn?Pn(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},An=Object.prototype.hasOwnProperty,Mn=function(t,e,n){var r=t[e];An.call(t,e)&&Z(r,n)&&(void 0!==n||e in t)||kn(t,e,n)},Dn=Math.max,Nn=function(t,e,n){return e=Dn(void 0===e?t.length-1:e,0),function(){for(var r=arguments,o=-1,i=Dn(r.length-e,0),a=Array(i);++o<i;)a[o]=r[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=r[o];u[e]=n(a);var c=t,s=this,l=u;switch(l.length){case 0:return c.call(s);case 1:return c.call(s,l[0]);case 2:return c.call(s,l[0],l[1]);case 3:return c.call(s,l[0],l[1],l[2])}return c.apply(s,l)}},Tn=Date.now,Cn=(We=Pn?function(t,e){return Pn(t,"toString",{configurable:!0,enumerable:!1,value:(n=e,function(){return n}),writable:!0});var n}:xn,$e=Ke=0,function(){var t=Tn(),e=16-(t-$e);if($e=t,0<e){if(800<=++Ke)return arguments[0]}else Ke=0;return We.apply(void 0,arguments)}),Rn=Object.prototype.hasOwnProperty,In=Ge((function(t,e){if(de(e)||ge(e))Fe(e,ve(e),t);else for(var n in e)Rn.call(e,n)&&Mn(t,n,e[n])})),Ln=function(t,e,n,r){if(!ft(t))return t;for(var o=-1,i=(e=vn(e,t)).length,a=i-1,u=t;null!=u&&++o<i;){var c,s=bn(e[o]),l=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return t;o!=a&&(c=u[s],void 0===(l=r?r(c,s,u):void 0)&&(l=ft(c)?c:ae(e[o+1])?[]:{})),Mn(u,s,l),u=u[s]}return t},zn=u?u.isConcatSpreadable:void 0,Bn=function(t){return $t(t)||re(t)||!!(zn&&t&&t[zn])},Hn=Cn(Nn(_e=function(t,e){return null==t?{}:Ue(t,e)},void 0,(function(t){return null!=t&&t.length?Ye(t,1):[]})),_e+"");function Xn(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gn(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function Un(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Yn,Vn,Wn,Kn,$n,qn,Zn,Jn,Qn,tr,er,nr,rr,or={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},ir=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],ar=(qe=Un((Fn(ur.prototype,[{key:"updateEditConfig",value:function(t){t=this.getConfigDetail(t),In(this,t)}},{key:"getConfigDetail",value:function(t){var e=t.isSilentMode,n=t.textEdit,r={};!1===e&&In(r,this.defaultConfig),!0===e&&(e=Hn(or,ir),this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},In(r,e)),!1===n&&In(r,{nodeTextEdit:!1,edgeTextEdit:!1}),e=Hn(t,ir);return In(r,e)}},{key:"getConfig",value:function(){return Hn(this,ir)}}]),we=ur).prototype,"isSilentMode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ze=Un(we.prototype,"stopZoomGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Je=Un(we.prototype,"stopScrollGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Qe=Un(we.prototype,"stopMoveGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tn=Un(we.prototype,"adjustEdge",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),en=Un(we.prototype,"adjustEdgeMiddle",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nn=Un(we.prototype,"adjustEdgeStartAndEnd",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rn=Un(we.prototype,"adjustNodePosition",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),on=Un(we.prototype,"hideAnchors",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),an=Un(we.prototype,"hoverOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),un=Un(we.prototype,"nodeSelectedOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),cn=Un(we.prototype,"edgeSelectedOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sn=Un(we.prototype,"nodeTextEdit",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ln=Un(we.prototype,"edgeTextEdit",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fn=Un(we.prototype,"nodeTextDraggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pn=Un(we.prototype,"edgeTextDraggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Un(we.prototype,"updateEditConfig",[o.k],Object.getOwnPropertyDescriptor(we.prototype,"updateEditConfig"),we.prototype),we);function ur(t){if(!(this instanceof ur))throw new TypeError("Cannot call a class as a function");Xn(this,"isSilentMode",qe,this),Xn(this,"stopZoomGraph",Ze,this),Xn(this,"stopScrollGraph",Je,this),Xn(this,"stopMoveGraph",Qe,this),Xn(this,"adjustEdge",tn,this),Xn(this,"adjustEdgeMiddle",en,this),Xn(this,"adjustEdgeStartAndEnd",nn,this),Xn(this,"adjustNodePosition",rn,this),Xn(this,"hideAnchors",on,this),Xn(this,"hoverOutline",an,this),Xn(this,"nodeSelectedOutline",un,this),Xn(this,"edgeSelectedOutline",cn,this),Xn(this,"nodeTextEdit",sn,this),Xn(this,"edgeTextEdit",ln,this),Xn(this,"nodeTextDraggable",fn,this),Xn(this,"edgeTextDraggable",pn,this),Gn(this,"multipleSelectKey",""),Gn(this,"defaultConfig",{}),In(this,this.getConfigDetail(t))}function cr(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return sr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sr(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function fr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pr(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function dr(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}n(98),(ke=Yn=Yn||{})[ke.DEFAULT=1]="DEFAULT",ke[ke.TEXT_EDIT=2]="TEXT_EDIT",ke[ke.SHOW_MENU=3]="SHOW_MENU",ke[ke.ALLOW_CONNECT=4]="ALLOW_CONNECT",ke[ke.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT",(bt=Vn=Vn||{}).NODE="node",bt.CIRCLE_NODE="circle-node",bt.POLYGON_NODE="polygon-node",bt.RECT_NODE="rect-node",bt.TEXT_NODE="text-node",bt.ELLIPSE_NODE="ellipse-node",bt.DIAMOND_NODE="diamond-node",bt.HTML_NODE="html-node",bt.EDGE="edge",bt.LINE_EDGE="line-edge",bt.POLYLINE_EDGE="polyline-edge",bt.BEZIER_EDGE="bezier-edge",bt.GRAPH="graph",(Oe=Wn=Wn||{}).NODE="node",Oe.EDGE="edge",Oe.GRAPH="graph",(_e=Kn=Kn||{}).ELEMENT_CLICK="element:click",_e.NODE_CLICK="node:click",_e.NODE_DBCLICK="node:dbclick",_e.NODE_DELETE="node:delete",_e.NODE_ADD="node:add",_e.NODE_DND_ADD="node:dnd-add",_e.NODE_DND_DRAG="node:dnd-drag",_e.NODE_MOUSEDOWN="node:mousedown",_e.NODE_DRAGSTART="node:dragstart",_e.NODE_DRAG="node:drag",_e.NODE_DROP="node:drop",_e.NODE_MOUSEUP="node:mouseup",_e.NODE_MOUSEMOVE="node:mousemove",_e.NODE_MOUSEENTER="node:mouseenter",_e.NODE_MOUSELEAVE="node:mouseleave",_e.NODE_CONTEXTMENU="node:contextmenu",_e.EDGE_DELETE="edge:delete",_e.EDGE_ADD="edge:add",_e.EDGE_CLICK="edge:click",_e.EDGE_DBCLICK="edge:dbclick",_e.EDGE_MOUSEENTER="edge:mouseenter",_e.EDGE_MOUSELEAVE="edge:mouseleave",_e.EDGE_CONTEXTMENU="edge:contextmenu",_e.EDGE_ADJUST="edge:adjust",_e.EDGE_EXCHANGE_NODE="edge:exchange-node",_e.ANCHOR_DRAGSTART="anchor:dragstart",_e.ANCHOR_DRAG="anchor:drag",_e.ANCHOR_DROP="anchor:drop",_e.BLANK_MOUSEDOWN="blank:mousedown",_e.BLANK_DRAGSTART="blank:dragstart",_e.BLANK_DRAG="blank:drag",_e.BLANK_DROP="blank:drop",_e.BLANK_MOUSEMOVE="blank:mousemove",_e.BLANK_MOUSEUP="blank:mouseup",_e.BLANK_CLICK="blank:click",_e.BLANK_CONTEXTMENU="blank:contextmenu",_e.SELECTION_MOUSEDOWN="selection:mousedown",_e.SELECTION_DRAGSTART="selection:dragstart",_e.SELECTION_DRAG="selection:drag",_e.SELECTION_DROP="selection:drop",_e.SELECTION_MOUSEMOVE="selection:mousemove",_e.SELECTION_MOUSEUP="selection:mouseup",_e.SELECTION_CONTEXTMENU="selection:contextmenu",_e.CONNECTION_NOT_ALLOWED="connection:not-allowed",_e.HISTORY_CHANGE="history:change",_e.TEXT_UPDATE="text:update",_e.GRAPH_TRANSFORM="graph:transform",_e.GRAPH_RENDERED="graph:rendered",(we=$n=$n||{}).HORIZONTAL="horizontal",we.VERTICAL="vertical",(ke=qn=qn||{})[ke.DEFAULT=0]="DEFAULT",ke[ke.INCREASE=1]="INCREASE",Zn=dr((fr(yr.prototype,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){t=cr(t,2);var e=t[0];t=t[1];return[(e-this.TRANSLATE_X)/this.SCALE_X,(t-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){t=cr(t,2);var e=t[0];t=t[1];return[e*this.SCALE_X+this.TRANSLATE_X,t*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,e,n){t=cr(t,2);var r=t[0];t=t[1];return[r+e/this.SCALE_X,t+n/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,e){return[t/this.SCALE_X,e/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],e=1<arguments.length?arguments[1]:void 0,n=this.SCALE_X,r=this.SCALE_Y;return!0===t?(n+=this.ZOOM_SIZE,r+=this.ZOOM_SIZE):!1===t?(n-=this.ZOOM_SIZE,r-=this.ZOOM_SIZE):"number"==typeof t&&(r=n=t),n<this.MINI_SCALE_SIZE||n>this.MAX_SCALE_SIZE||(e&&(this.TRANSLATE_X-=(n-this.SCALE_X)*e[0],this.TRANSLATE_Y-=(r-this.SCALE_Y)*e[1]),this.SCALE_X=n,this.SCALE_Y=r,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(Kn.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,e){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=e,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,e,n,r){t=cr(this.CanvasPointToHtmlPoint([t,e]),2),e=n/2-t[0],n=r/2-t[1],this.TRANSLATE_X+=e,this.TRANSLATE_Y+=n,this.emitGraphTransform("focusOn")}}]),bt=yr).prototype,"SCALE_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Jn=dr(bt.prototype,"SKEW_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qn=dr(bt.prototype,"SKEW_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tr=dr(bt.prototype,"SCALE_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),er=dr(bt.prototype,"TRANSLATE_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),nr=dr(bt.prototype,"TRANSLATE_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),rr=dr(bt.prototype,"ZOOM_SIZE",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),dr(bt.prototype,"zoom",[o.k],Object.getOwnPropertyDescriptor(bt.prototype,"zoom"),bt.prototype),dr(bt.prototype,"resetZoom",[o.k],Object.getOwnPropertyDescriptor(bt.prototype,"resetZoom"),bt.prototype),dr(bt.prototype,"translate",[o.k],Object.getOwnPropertyDescriptor(bt.prototype,"translate"),bt.prototype),dr(bt.prototype,"focusOn",[o.k],Object.getOwnPropertyDescriptor(bt.prototype,"focusOn"),bt.prototype);var hr=bt;function yr(t){if(!(this instanceof yr))throw new TypeError("Cannot call a class as a function");pr(this,"MINI_SCALE_SIZE",.2),pr(this,"MAX_SCALE_SIZE",16),lr(this,"SCALE_X",Zn,this),lr(this,"SKEW_Y",Jn,this),lr(this,"SKEW_X",Qn,this),lr(this,"SCALE_Y",tr,this),lr(this,"TRANSLATE_X",er,this),lr(this,"TRANSLATE_Y",nr,this),lr(this,"ZOOM_SIZE",rr,this),pr(this,"eventCenter",void 0),this.eventCenter=t}function gr(t){var e=new t.constructor(t.byteLength);return new Vt(e).set(new Vt(t)),e}var vr=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t},br=function(t,e){return t&&Fe(e,ve(e),t)},mr=Object.prototype.hasOwnProperty,Or=function(t){if(ft(t)){var e,n=de(t),r=[];for(e in t)("constructor"!=e||!n&&mr.call(t,e))&&r.push(e);return r}var o=t,i=[];if(null!=o)for(var a in Object(o))i.push(a);return i},_r=function(t){return ge(t)?fe(t,!0):Or(t)},wr=function(t,e){return t&&Fe(e,_r(e),t)},xr=n(101),Er=function(t,e){var n=-1,r=t.length;for(e=e||Array(r);++n<r;)e[n]=t[n];return e},jr=function(t,e){return Fe(t,Jt(t),e)},Sr=Ht(Object.getPrototypeOf,Object),Pr=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Kt(e,Jt(t)),t=Sr(t);return e}:Lt,kr=function(t,e){return Fe(t,Pr(t),e)},Ar=function(t){return It(t,_r,Pr)},Mr=Object.prototype.hasOwnProperty,Dr=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Mr.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Nr=/\w*$/,Tr=(Oe=u?u.prototype:void 0,Oe?Oe.valueOf:void 0),Cr=function(t,e){return e=e?gr(t.buffer):t.buffer,new t.constructor(e,t.byteOffset,t.length)},Rr=function(t,e,n){var r,o=t.constructor;switch(e){case"[object ArrayBuffer]":return gr(t);case"[object Boolean]":case"[object Date]":return new o(+t);case"[object DataView]":var i=t,a=n;return a=n?gr(i.buffer):i.buffer,new i.constructor(a,i.byteOffset,i.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Cr(t,n);case"[object Map]":return new o;case"[object Number]":case"[object String]":return new o(t);case"[object RegExp]":return(i=new(a=t).constructor(a.source,Nr.exec(a))).lastIndex=a.lastIndex,i;case"[object Set]":return new o;case"[object Symbol]":return r=t,Tr?Object(Tr.call(r)):{}}},Ir=Object.create,Lr=function(t){return ft(t)?Ir?Ir(t):(zr.prototype=t,t=new zr,zr.prototype=void 0,t):{}};function zr(){}function Br(t,e,n,r,o,i){var a,u=1&e,c=2&e,s=4&e;if(void 0!==(a=n?o?n(t,r,o,i):n(t):a))return a;if(!ft(t))return t;if(r=$t(t)){if(a=Dr(t),!u)return Er(t,a)}else{var l=Ae(t),f="[object Function]"==l||"[object GeneratorFunction]"==l;if(Object(oe.a)(t))return Object(xr.a)(t,u);if("[object Object]"==l||"[object Arguments]"==l||f&&!o){if(a=c||f?{}:Fr(t),!u)return c?kr(t,wr(a,t)):jr(t,br(a,t))}else{if(!Yr[l])return o?t:{};a=Rr(t,l,u)}}if(f=(i=i||new Dt).get(t))return f;i.set(t,a),Ur(t)?t.forEach((function(r){a.add(Br(r,e,n,r,t,i))})):Gr(t)&&t.forEach((function(r,o){a.set(o,Br(r,e,n,o,t,i))}));var p=r?void 0:(s?c?Ar:be:c?_r:ve)(t);return vr(p||t,(function(r,o){p&&(r=t[o=r]),Mn(a,o,Br(r,e,n,o,t,i))})),a}function Hr(t,e,n,r,o){t!==e&&jn(e,(function(i,a){var u,c,s,l,f,p,d,h,y,g,v,b,m;o=o||new Dt,ft(i)?(c=e,l=n,f=Hr,p=r,d=o,v=Qr(u=t,s=a),b=Qr(c,s),(m=d.get(b))||((c=void 0===(m=p?p(v,b,s+"",u,c,d):void 0))&&(y=!(h=$t(b))&&Object(oe.a)(b),g=!h&&!y&&se(b),m=b,h||y||g?m=$t(v)?v:Kr(v)?Er(v):y?(c=!1,Object(xr.a)(b,!0)):g?Cr(b,!(c=!1)):[]:Jr(b)||re(b)?re(m=v)?m=to(v):ft(v)&&!pt(v)||(m=Fr(b)):c=!1),c&&(d.set(b,m),f(m,b,l,p,d),d.delete(b))),Wr(u,s,m)):(h=r?r(Qr(t,a),i,a+"",t,e,o):void 0,Wr(t,a,h=void 0===h?i:h))}),_r)}function Xr(t){var e=Vr(no);return t?eo(e,t):e}var Fr=function(t){return"function"!=typeof t.constructor||de(t)?{}:Lr(Sr(t))},Gr=(_e=U.a&&U.a.isMap,_e?Bt(_e):function(t){return te(t)&&"[object Map]"==Ae(t)}),Ur=(we=U.a&&U.a.isSet,we?Bt(we):function(t){return te(t)&&"[object Set]"==Ae(t)}),Yr={},Vr=(Yr["[object Arguments]"]=Yr["[object Array]"]=Yr["[object ArrayBuffer]"]=Yr["[object DataView]"]=Yr["[object Boolean]"]=Yr["[object Date]"]=Yr["[object Float32Array]"]=Yr["[object Float64Array]"]=Yr["[object Int8Array]"]=Yr["[object Int16Array]"]=Yr["[object Int32Array]"]=Yr["[object Map]"]=Yr["[object Number]"]=Yr["[object Object]"]=Yr["[object RegExp]"]=Yr["[object Set]"]=Yr["[object String]"]=Yr["[object Symbol]"]=Yr["[object Uint8Array]"]=Yr["[object Uint8ClampedArray]"]=Yr["[object Uint16Array]"]=Yr["[object Uint32Array]"]=!0,Yr["[object Error]"]=Yr["[object Function]"]=Yr["[object WeakMap]"]=!1,function(t){return Br(t,5)}),Wr=function(t,e,n){(void 0===n||Z(t[e],n))&&(void 0!==n||e in t)||kn(t,e,n)},Kr=function(t){return te(t)&&ge(t)},$r=(ke=Function.prototype,bt=Object.prototype,ke.toString),qr=bt.hasOwnProperty,Zr=$r.call(Object),Jr=function(t){return!(!te(t)||"[object Object]"!=tt(t))&&(t=Sr(t),null===t||(t=qr.call(t,"constructor")&&t.constructor,"function"==typeof t&&t instanceof t&&$r.call(t)==Zr))},Qr=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},to=function(t){return Fe(t,_r(t))},eo=Ge((function(t,e,n){Hr(t,e,n)})),no={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}}};function ro(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(71),n(190),ro(io.prototype,[{key:"on",value:function(t,e,n){var r=this;return null!=t&&t.split(",").forEach((function(t){t=t.trim(),r._events[t]||(r._events[t]=[]),r._events[t].push({callback:e,once:!!n})})),this}},{key:"once",value:function(t,e){var n=this;null!=t&&t.split(",").forEach((function(t){return t=t.trim(),n.on(t,e,!0)}))}},{key:"emit",value:function(t,e){var n=this;null!=t&&t.split(",").forEach((function(t){function r(r){for(var o,i,a=r.length,u=0;u<a;u++)r[u]&&(i=(o=r[u]).callback,o.once&&(r.splice(u,1),0===r.length&&delete n._events[t],a--,u--),i.apply(n,[e]))}var o=n._events[t]||[],i=n._events["*"]||[];r(o),r(i)}))}},{key:"off",value:function(t,e){var n=this;return t||(this._events={}),t.split(",").forEach((function(t){if(e){for(var r=n._events[t]||[],o=r.length,i=0;i<o;i++)r[i].callback===e&&(r.splice(i,1),o--,i--);0===r.length&&delete n._events[t]}else delete n._events[t]})),this}},{key:"getEvents",value:function(){return this._events}}]);var oo=io;function io(){var t;if(!(this instanceof io))throw new TypeError("Cannot call a class as a function");t={},"_events"in this?Object.defineProperty(this,"_events",{value:t,enumerable:!0,configurable:!0,writable:!0}):this._events=t}function ao(t,e){return e*Math.round(t/e)||t}function uo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return co(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?co(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function co(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function so(t,e,n){var r=(t=uo(t,2))[0],o=(t=t[1],(e=uo(e,2))[0]),i=(e=e[1],(n=uo(n,2))[0]);n=n[1];return o<r&&r<i&&e<t&&t<n}function lo(t,e){var n=!1;switch(e.multipleSelectKey){case"meta":n=t.metaKey;break;case"alt":n=t.altKey;break;case"shift":n=t.shiftKey;break;default:n=!1}return n}n(72),n(155),n(122),n(73),n(12),n(13),n(14),n(46),n(31);for(var fo,po=new Uint8Array(16),ho=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,yo=[],go=0;go<256;++go)yo.push((go+256).toString(16).substr(1));function vo(t,e,n){var r=(t=t||{}).random||(t.rng||function(){if(fo=fo||"undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto))return fo(po);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=r[o];return e}return mo(r)}function bo(t,e,n){var r=t.x;t=t.y;return(r-e.x)*(r-n.x)<=0&&(t-e.y)*(t-n.y)<=0}var mo=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;t=(yo[t[e+0]]+yo[t[e+1]]+yo[t[e+2]]+yo[t[e+3]]+"-"+yo[t[e+4]]+yo[t[e+5]]+"-"+yo[t[e+6]]+yo[t[e+7]]+"-"+yo[t[e+8]]+yo[t[e+9]]+"-"+yo[t[e+10]]+yo[t[e+11]]+yo[t[e+12]]+yo[t[e+13]]+yo[t[e+14]]+yo[t[e+15]]).toLowerCase();if("string"==typeof(e=t)&&ho.test(e))return t;throw TypeError("Stringified UUID is invalid")},Oo=function(){return vo()},_o=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=t.nodes.reduce((function(t,n){return t[n.id]=e+vo(),n.id=t[n.id],t}),{});return t.edges.forEach((function(t){t.id=e+vo(),t.sourceNodeId=n[t.sourceNodeId],t.targetNodeId=n[t.targetNodeId]})),t};function wo(t){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xo(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Eo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xo(Object(n),!0).forEach((function(e){var r,o;r=t,o=n[e=e],e in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xo(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function jo(t){return t.anchors}function So(t,e){for(var n,r=e.nodes,o=r.length-1;0<=o;o--){var i,a=r[o];!ri(t,a)||(i=ni(t,a))&&(i={node:a,anchorIndex:i.index,anchor:i.anchor},n&&!ei(a,n.node,e)||(n=i))}return n}function Po(t,e,n,r){return Math.hypot(t-n,e-r)}function ko(t,e){var n=!1;e=oi(e);return t.x>=+e.minX&&t.x<=e.maxX+0&&t.y>=+e.minY&&t.y<=e.maxY+0||n}function Ao(t,e,n){u=n.x,o=n.y,i=n.width,a=n.height,n=n.radius;var r,o,i,a,u=[{x:u-i/2+n,y:o-a/2+n,r:n},{x:u+i/2-n,y:o-a/2+n,r:n},{x:u-i/2+n,y:o+a/2-n,r:n},{x:u+i/2-n,y:o+a/2-n,r:n}],c=Number.MAX_SAFE_INTEGER;return u.forEach((function(e){var n=Po(t.x,t.y,e.x,e.y);n<c&&(c=n,r=e)})),Mo(t,e,r)}function Mo(t,e,n){var r,o,i=n.x,a=n.y;n=n.r;return e===$n.HORIZONTAL?(r=i-Math.sqrt(n*n-(t.y-a)*(t.y-a)),o=i+Math.sqrt(n*n-(t.y-a)*(t.y-a)),r={x:Math.abs(r-t.x)<Math.abs(o-t.x)?r:o,y:t.y}):e===$n.VERTICAL&&(o=a-Math.sqrt(n*n-(t.x-i)*(t.x-i)),e=a+Math.sqrt(n*n-(t.x-i)*(t.x-i)),a=Math.abs(o-t.y)<Math.abs(e-t.y)?o:e,r={x:t.x,y:a}),r}function Do(t,e){var n=!1,r=e.x-e.width/2+e.radius,o=e.x+e.width/2-e.radius,i=e.y-e.height/2+e.radius,a=e.y+e.height/2-e.radius,u=e.x,c=e.y,s=e.width;e=e.height;return t.y===c+e/2||t.y===c-e/2?n=t.x>r&&t.x<o:t.x!==u+s/2&&t.x!==u-s/2||(n=t.y>i&&t.y<a),n}function No(t,e,n){var r,o,i=n.x,a=n.y,u=n.rx;n=n.ry;return e===$n.HORIZONTAL?(r=i-Math.sqrt(u*u-(t.y-a)*(t.y-a)*u*u/(n*n)),o=i+Math.sqrt(u*u-(t.y-a)*(t.y-a)*u*u/(n*n)),r={x:Math.abs(r-t.x)<Math.abs(o-t.x)?r:o,y:t.y}):e===$n.VERTICAL&&(o=a-Math.sqrt(n*n-(t.x-i)*(t.x-i)*n*n/(u*u)),e=a+Math.sqrt(n*n-(t.x-i)*(t.x-i)*n*n/(u*u)),a=Math.abs(o-t.y)<Math.abs(e-t.y)?o:e,r={x:t.x,y:a}),r}function To(t,e,n){for(var r,o=n.pointsPosition,i=Number.MAX_SAFE_INTEGER,a=[],u=0;u<o.length;u++)a.push({start:o[u],end:o[(u+1)%o.length]});return a.forEach((function(n){var o,a=n.start,u=(n=n.end,a),c=n,s=(a.x>n.x&&(u=n,c=a),{x:t.x,y:t.y});u.x===c.x&&e===$n.HORIZONTAL&&(s={x:u.x,y:t.y}),u.y===c.y&&e===$n.VERTICAL&&(s={x:t.x,y:u.y}),u.x!==c.x&&u.y!==c.y&&(o=(c.y-u.y)/(c.x-u.x),u=(u.x*c.y-c.x*u.y)/(u.x-c.x),e===$n.HORIZONTAL?s={x:(t.y-u)/o,y:t.y}:e===$n.VERTICAL&&(s={x:t.x,y:o*t.x+u})),bo(s,a,n)&&(c=Po(s.x,s.y,t.x,t.y))<i&&(i=c,r=s)})),r}function Co(t,e,n,r){var o=t.x,i=t.y;return e.x>t.x?o=t.x+n/2:e.x<t.x&&(o=t.x-n/2),e.y>t.y?i=t.y+r/2:e.y<t.y&&(i=t.y-r/2),{x:o,y:i}}function Ro(t){var e=t.rows,n=t.style,r=t.rowsLength,o=(t=t.className,document.createElement("div"));o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=t,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),1<r?e.forEach((function(t){var e=document.createElement("div");e.textContent=t,o.appendChild(e)})):o.textContent=e,document.body.appendChild(o),t=o.clientHeight;return document.body.removeChild(o),t}function Io(t){var e=t.rows,n=t.rowsLength,r=(t=t.fontSize,0);return e&&e.forEach((function(t){t=aa(t),r=r<t?t:r})),{width:Math.ceil(r/2)*t+t/4,height:n*(t+2)+t/4}}function Lo(t){return"object"!==wo(t)?{isAllPass:!!t,msg:t?"":""}:t}function zo(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}}n(99),n(199);var Bo,Ho,Xo,Fo,Go,Uo,Yo,Vo,Wo,Ko,$o,qo,Zo,Jo,Qo,ti,ei=function(t,e,n){return t.zIndex>e.zIndex||n.nodesMap[t.id].index>n.nodesMap[e.id].index},ni=function(t,e){for(var n,r=jo(e),o=Number.MAX_SAFE_INTEGER,i=0;i<r.length;i++){var a=Po(t.x,t.y,r[i].x,r[i].y);a<o&&(o=a,n={index:i,anchor:Eo(Eo({},r[i]),{},{x:r[i].x,y:r[i].y,id:r[i].id})})}return n},ri=function(t,e){var n=!1;e=oi(e);return t.x>=e.minX-5&&t.x<=e.maxX+5&&t.y>=e.minY-5&&t.y<=e.maxY+5||n},oi=function(t){var e=t.x,n=t.y,r=t.width;t=t.height;return{minX:e-r/2,minY:n-t/2,maxX:e+r/2,maxY:n+t/2,x:e,y:n,width:r,height:t,centerX:e,centerY:n}},ii={node:!1,edge:!1},ai={node:!0,edge:!0},ui={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},ci=1e3,si=999;function li(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function fi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?li(Object(n),!0).forEach((function(e){hi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pi(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function di(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hi(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function yi(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Bo=yi((di(bi.prototype,[{key:"initEdgeData",value:function(t){var e;t.properties||(t.properties={}),t.id||((e=(e=this.graphModel.idGenerator)&&e(t.type))&&(t.id=e),(e=this.createId())&&(t.id=e)),In(this,ja(t)),this.graphModel.overlapMode===qn.INCREASE&&(this.zIndex=t.zIndex||++ci)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.baseEdge;return Vr(t)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return Vr(t)}},{key:"getAnimation",value:function(){var t=this.animationData;return Vr(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return Vr(t)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t;return null==(t=this.graphModel)||null==(t=t.nodesMap[this.sourceNodeId])?void 0:t.model}},{key:"targetNode",get:function(){var t;return null==(t=this.graphModel)||null==(t=t.nodesMap[this.targetNodeId])?void 0:t.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,e){var n,r;return jo(t).forEach((function(t){var o=Sa(t,e);(!r||o<r)&&(r=o,n=t)})),n}},{key:"getEndAnchor",value:function(t){var e,n,r=this;return jo(t).forEach((function(t){var o=Sa(t,r.startPoint);(!n||o<n)&&(n=o,e=t)})),e}},{key:"getProperties",value:function(){return Object(o.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,e=t.x,n=t.y,r=(t=t.value,{id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(o.I)(this.properties)});return t&&(r.text={x:e,y:n,value:t}),this.graphModel.overlapMode===qn.INCREASE&&(r.zIndex=this.zIndex),r}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,e){this.properties[t]=zo(e),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=fi(fi({},this.properties),zo(t)),this.setAttributes()}},{key:"formatText",value:function(t){var e=this.textPosition,n=e.x;e=e.y;t.text&&"string"!=typeof t.text?"[object Object]"===Object.prototype.toString.call(t.text)&&(this.text={x:t.text.x||n,y:t.text.y||e,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:t.text||"",x:n,y:e,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var t=this.textPosition,e=t.x;t=t.y;this.text.x=e,this.text.y=t}},{key:"moveText",value:function(t,e){var n,r,o,i,a;this.text&&(n=(a=this.text).x,r=a.y,o=a.value,i=a.draggable,a=a.editable,this.text={value:o,draggable:i,x:n+t,y:r+e,editable:a})}},{key:"setText",value:function(t){t&&In(this.text,t)}},{key:"updateText",value:function(t){this.text=fi(fi({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){var t;this.sourceAnchorId&&this.startPoint||(t=this.getBeginAnchor(this.sourceNode,this.targetNode),this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)),this.targetAnchorId&&this.endPoint||(t=this.getEndAnchor(this.targetNode),this.endPoint||(this.endPoint={x:t.x,y:t.y}),this.targetAnchorId||(this.targetAnchorId=t.id))}},{key:"setSelected",value:function(){this.isSelected=!(0<arguments.length&&void 0!==arguments[0])||arguments[0]}},{key:"setHovered",value:function(){this.isHovered=!(0<arguments.length&&void 0!==arguments[0])||arguments[0]}},{key:"setHitable",value:function(){this.isHitable=!(0<arguments.length&&void 0!==arguments[0])||arguments[0]}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e}},{key:"setZIndex",value:function(){this.zIndex=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){In(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint;t=t.endPoint;this.updateStartPoint({x:e.x,y:e.y}),this.updateEndPoint({x:t.x,y:t.y})}}]),u=bi).prototype,"type",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ho=yi(u.prototype,"sourceNodeId",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Xo=yi(u.prototype,"targetNodeId",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fo=yi(u.prototype,"startPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Go=yi(u.prototype,"endPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Uo=yi(u.prototype,"text",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Yo=yi(u.prototype,"properties",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Vo=yi(u.prototype,"points",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Wo=yi(u.prototype,"pointsList",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ko=yi(u.prototype,"isSelected",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$o=yi(u.prototype,"isHovered",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qo=yi(u.prototype,"isHitable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Zo=yi(u.prototype,"draggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jo=yi(u.prototype,"visible",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qo=yi(u.prototype,"zIndex",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ti=yi(u.prototype,"state",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),yi(u.prototype,"sourceNode",[o.m],Object.getOwnPropertyDescriptor(u.prototype,"sourceNode"),u.prototype),yi(u.prototype,"targetNode",[o.m],Object.getOwnPropertyDescriptor(u.prototype,"targetNode"),u.prototype),yi(u.prototype,"textPosition",[o.m],Object.getOwnPropertyDescriptor(u.prototype,"textPosition"),u.prototype),yi(u.prototype,"setProperty",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"setProperty"),u.prototype),yi(u.prototype,"setProperties",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"setProperties"),u.prototype),yi(u.prototype,"formatText",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"formatText"),u.prototype),yi(u.prototype,"resetTextPosition",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"resetTextPosition"),u.prototype),yi(u.prototype,"moveText",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"moveText"),u.prototype),yi(u.prototype,"setText",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"setText"),u.prototype),yi(u.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"updateText"),u.prototype),yi(u.prototype,"setAnchors",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"setAnchors"),u.prototype),yi(u.prototype,"setSelected",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"setSelected"),u.prototype),yi(u.prototype,"setHovered",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"setHovered"),u.prototype),yi(u.prototype,"setHitable",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"setHitable"),u.prototype),yi(u.prototype,"setElementState",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"setElementState"),u.prototype),yi(u.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"updateStartPoint"),u.prototype),yi(u.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"moveStartPoint"),u.prototype),yi(u.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"updateEndPoint"),u.prototype),yi(u.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"moveEndPoint"),u.prototype),yi(u.prototype,"setZIndex",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"setZIndex"),u.prototype),yi(u.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"initPoints"),u.prototype),yi(u.prototype,"updateAttributes",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"updateAttributes"),u.prototype),yi(u.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"getAdjustStart"),u.prototype),yi(u.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"getAdjustEnd"),u.prototype),yi(u.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(u.prototype,"updateAfterAdjustStartAndEnd"),u.prototype);var gi=u,vi=gi;function bi(t,e){if(!(this instanceof bi))throw new TypeError("Cannot call a class as a function");hi(this,"id",Oo()),pi(this,"type",Bo,this),pi(this,"sourceNodeId",Ho,this),pi(this,"targetNodeId",Xo,this),pi(this,"startPoint",Fo,this),pi(this,"endPoint",Go,this),pi(this,"text",Uo,this),pi(this,"properties",Yo,this),pi(this,"points",Vo,this),pi(this,"pointsList",Wo,this),pi(this,"isSelected",Ko,this),pi(this,"isHovered",$o,this),pi(this,"isHitable",qo,this),pi(this,"draggable",Zo,this),pi(this,"visible",Jo,this),hi(this,"graphModel",void 0),pi(this,"zIndex",Qo,this),hi(this,"BaseType",Wn.EDGE),hi(this,"modelType",Vn.EDGE),pi(this,"state",ti,this),hi(this,"additionStateData",void 0),hi(this,"sourceAnchorId",""),hi(this,"targetAnchorId",""),hi(this,"menu",void 0),hi(this,"customTextPosition",!1),hi(this,"animationData",ui),this.graphModel=e,this.initEdgeData(t),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(t)}function mi(t){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oi(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function _i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oi(Object(n),!0).forEach((function(e){ki(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function wi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xi(){return(xi="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pi(t)););return t}(t,e);if(r)return(r=Object.getOwnPropertyDescriptor(r,e)).get?r.get.call(arguments.length<3?t:n):r.value}).apply(this,arguments)}function Ei(t,e){return(Ei=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ji(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Pi(t);e=n?(e=Pi(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===mi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Si(r)}}function Si(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pi(t){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ki(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var Ai,Mi=function(){var t=r,e=vi;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ei(t,e);var n=ji(r);function r(){var t=this,e=r;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return ki(Si(t=n.call.apply(n,[this].concat(i))),"modelType",Vn.LINE_EDGE),t}return wi(r.prototype,[{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.line;return _i(_i({},xi(Pi(r.prototype),"getEdgeStyle",this).call(this)),Vr(t))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),r}();function Di(t){return(Di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ni(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ti(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Ci(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ti(Object(n),!0).forEach((function(e){Xi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ti(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ri(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ii(){return(Ii="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Hi(t)););return t}(t,e);if(r)return(r=Object.getOwnPropertyDescriptor(r,e)).get?r.get.call(arguments.length<3?t:n):r.value}).apply(this,arguments)}function Li(t,e){return(Li=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zi(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Hi(t);e=n?(e=Hi(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===Di(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Bi(r)}}function Bi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hi(t){return(Hi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xi(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function Fi(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}function Gi(t){var e=t.start,n=t.end,r=t.offset,o=t.verticalLength,i=(t=t.type,{leftX:0,leftY:0,rightX:0,rightY:0}),a=Math.atan((n.y-e.y)/(n.x-e.x)),u=Math.atan(r/o);o=Math.sqrt(o*o+r*r);return"start"===t?n.x>=e.x?(i.leftX=e.x+o*Math.sin(a+u),i.leftY=e.y-o*Math.cos(a+u),i.rightX=e.x-o*Math.sin(a-u),i.rightY=e.y+o*Math.cos(a-u)):(i.leftX=e.x-o*Math.sin(a+u),i.leftY=e.y+o*Math.cos(a+u),i.rightX=e.x+o*Math.sin(a-u),i.rightY=e.y-o*Math.cos(a-u)):"end"===t&&(n.x>=e.x?(i.leftX=n.x+o*Math.sin(a-u),i.leftY=n.y-o*Math.cos(a-u),i.rightX=n.x-o*Math.sin(a+u),i.rightY=n.y+o*Math.cos(a+u)):(i.leftX=n.x-o*Math.sin(a-u),i.leftY=n.y+o*Math.cos(a-u),i.rightX=n.x+o*Math.sin(a+u),i.rightY=n.y-o*Math.cos(a+u))),i}Ai=Fi((Oe=function(){var t=r,e=vi;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Li(t,e);var n=zi(r);function r(){var t=this,e=r;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");for(var o,i,a,u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return Xi(Bi(t=n.call.apply(n,[this].concat(c))),"modelType",Vn.POLYLINE_EDGE),Xi(Bi(t),"draginngPointList",void 0),e=Bi(t),o="dbClickPosition",i=Ai,a=Bi(t),i&&Object.defineProperty(e,o,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0}),t}return Ri(r.prototype,[{key:"initEdgeData",value:function(t){this.offset=30,Ii(Hi(r.prototype),"initEdgeData",this).call(this,t)}},{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.polyline;return Ci(Ci({},Ii(Hi(r.prototype),"getEdgeStyle",this).call(this)),Vr(t))}},{key:"getTextPosition",value:function(){var t=null==(t=this.text)?void 0:t.value;if(this.dbClickPosition&&!t)return{x:(t=this.dbClickPosition).x,y:t.y};t=wa(this.points),t=va(t),e=2,t=function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Ni(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ni(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var e=t[0];t=t[1];return{x:(e.x+t.x)/2,y:(e.y+t.y)/2}}},{key:"getAfterAnchor",value:function(t,e,n){var r,o;return n.forEach((function(n){var i;t===$n.HORIZONTAL?i=Math.abs(e.y-n.y):t===$n.VERTICAL&&(i=Math.abs(e.x-n.x)),(!o||i<o)&&(o=i,r=n)})),r}},{key:"getCorssPoint",value:function(t,e,n){var r;return t===$n.HORIZONTAL?r={x:n.x,y:e.y}:t===$n.VERTICAL&&(r={x:e.x,y:n.y}),r}},{key:"removeCrossPoints",value:function(t,e,n){var r,o,i,a,u,c=n.map((function(t){return t}));return 1===t&&(r=c[t],i=c[e],o=c[t-1],ba(o,r,this.sourceNode)?ma(r,i,this.sourceNode)&&(i=Oa(r,i,this.sourceNode))&&(c[t]=i,c.splice(t-1,1),t--,e--):this.sourceNode.anchors.forEach((function(e){(e.x===o.x&&e.x===r.x||e.y===o.y&&e.y===r.y)&&Po(e.x,e.y,r.x,r.y)<Po(o.x,o.y,r.x,r.y)&&(c[t-1]=e)}))),e===n.length-2&&(i=c[t],a=c[e],u=c[e+1],ba(a,u,this.targetNode)?ma(i,a,this.targetNode)&&(n=Oa(i,a,this.targetNode))&&(c[e]=n,c.splice(e+1,1)):this.targetNode.anchors.forEach((function(t){(t.x===u.x&&t.x===a.x||t.y===u.y&&t.y===a.y)&&Po(t.x,t.y,a.x,a.y)<Po(u.x,u.y,a.x,a.y)&&(c[e+1]=t)}))),c}},{key:"getDragingPoints",value:function(t,e,n,r,o){return o=o.map((function(t){return t})),r=this.getAfterAnchor(t,n,r),t=this.getCorssPoint(t,n,r),"start"===e?(o.unshift(t),o.unshift(r)):(o.push(t),o.push(r)),o}},{key:"updateCrossPoints",value:function(t){var e=t.map((function(t){return t})),n=t[0],r=t[1],o=t[e.length-2],i=t[e.length-1],a=this.sourceNode,u=this.targetNode,c=(t=a.modelType,u.modelType),s=_a(n,r),l=e[0];switch(t){case Vn.RECT_NODE:0===a.radius||Do(n,a)||(l=Ao(n,s,a));break;case Vn.CIRCLE_NODE:l=Mo(n,s,a);break;case Vn.ELLIPSE_NODE:l=No(n,s,a);break;case Vn.DIAMOND_NODE:case Vn.POLYGON_NODE:l=To(n,s,a)}e[0]=l;var f=_a(o,i),p=e[e.length-1];switch(c){case Vn.RECT_NODE:0===u.radius||Do(i,u)||(p=Ao(i,f,u));break;case Vn.CIRCLE_NODE:p=Mo(i,f,u);break;case Vn.ELLIPSE_NODE:p=No(i,f,u);break;case Vn.DIAMOND_NODE:case Vn.POLYGON_NODE:p=To(i,f,u)}return e[e.length-1]=p,e}},{key:"getData",value:function(){var t=Ii(Hi(r.prototype),"getData",this).call(this),e=this.pointsList.map((function(t){return{x:t.x,y:t.y}}));return Object.assign({},t,{pointsList:e})}},{key:"initPoints",value:function(){0<this.pointsList.length?this.points=this.pointsList.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var t=ga({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=t,this.points=t.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"updateStartPoint",value:function(t){this.startPoint=t,this.updatePoints()}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e,this.updatePoints()}},{key:"updateEndPoint",value:function(t){this.endPoint=t,this.updatePoints()}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map((function(t){return t}))}},{key:"dragAppendSimple",value:function(t,e){this.isDragging=!0;var n=t.start,r=t.end,o=t.startIndex,i=t.endIndex,a=(t=t.direction,this.pointsList),u=a;return t===$n.HORIZONTAL?(a[o]={x:n.x,y:n.y+e.y},a[i]={x:r.x,y:r.y+e.y},u=this.pointsList.map((function(t){return t}))):t===$n.VERTICAL&&(a[o]={x:n.x+e.x,y:n.y},a[i]={x:r.x+e.x,y:r.y},u=this.pointsList.map((function(t){return t}))),this.updatePointsAfterDrage(u),this.draginngPointList=u,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},a[o]),end:Object.assign({},a[i]),startIndex:o,endIndex:i,direction:t}}},{key:"dragAppend",value:function(t,e){this.isDragging=!0;var n,r,o,i=t.start,a=t.end,u=t.startIndex,c=t.endIndex,s=(t=t.direction,this.pointsList);return t===$n.HORIZONTAL?(s[u]={x:i.x,y:i.y+e.y},s[c]={x:a.x,y:a.y+e.y},n=this.pointsList.map((function(t){return t})),0!==u&&c!==this.pointsList.length-1&&(n=this.removeCrossPoints(u,c,n)),0===u&&(r={x:i.x,y:i.y+e.y},ko(r,this.sourceNode)||(o=this.sourceNode.anchors,n=this.getDragingPoints(t,"start",r,o,n))),c===this.pointsList.length-1&&(r={x:a.x,y:a.y+e.y},ko(r,this.targetNode)||(o=this.targetNode.anchors,n=this.getDragingPoints(t,"end",r,o,n))),n=ya(n),this.updatePointsAfterDrage(n),this.draginngPointList=n):t===$n.VERTICAL&&(s[u]={x:i.x+e.x,y:i.y},s[c]={x:a.x+e.x,y:a.y},r=this.pointsList.map((function(t){return t})),0!==u&&c!==this.pointsList.length-1&&(r=this.removeCrossPoints(u,c,r)),0===u&&(o={x:i.x+e.x,y:i.y},ko(o,this.sourceNode)||(n=this.sourceNode.anchors,r=this.getDragingPoints(t,"start",o,n,r))),c===this.pointsList.length-1&&(i={x:a.x+e.x,y:a.y},ko(i,this.targetNode)||(o=this.targetNode.anchors,r=this.getDragingPoints(t,"end",i,o,r))),r=ya(r),this.updatePointsAfterDrage(r),this.draginngPointList=r),this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},s[u]),end:Object.assign({},s[c]),startIndex:u,endIndex:c,direction:t}}},{key:"dragAppendEnd",value:function(){var t,e;this.draginngPointList&&(t=wa(this.points),this.pointsList=t.map((function(t){return t})),this.draginngPointList=[],e=t[0],this.startPoint=Object.assign({},e),e=t[t.length-1],this.endPoint=Object.assign({},e)),this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(t){t=this.updateCrossPoints(t),this.points=t.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var t=this.pointsList;return t[t.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,n=t.endPoint,r=t.sourceNode;t=t.targetNode,e=ga({x:e.x,y:e.y},{x:n.x,y:n.y},r,t,this.offset||0);this.pointsList=e,this.initPoints()}}]),r}()).prototype,"dbClickPosition",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fi(Oe.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(Oe.prototype,"initPoints"),Oe.prototype),Fi(Oe.prototype,"updatePoints",[o.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updatePoints"),Oe.prototype),Fi(Oe.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateStartPoint"),Oe.prototype),Fi(Oe.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveStartPoint"),Oe.prototype),Fi(Oe.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateEndPoint"),Oe.prototype),Fi(Oe.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(Oe.prototype,"moveEndPoint"),Oe.prototype),Fi(Oe.prototype,"dragAppendStart",[o.k],Object.getOwnPropertyDescriptor(Oe.prototype,"dragAppendStart"),Oe.prototype),Fi(Oe.prototype,"dragAppendSimple",[o.k],Object.getOwnPropertyDescriptor(Oe.prototype,"dragAppendSimple"),Oe.prototype),Fi(Oe.prototype,"dragAppend",[o.k],Object.getOwnPropertyDescriptor(Oe.prototype,"dragAppend"),Oe.prototype),Fi(Oe.prototype,"dragAppendEnd",[o.k],Object.getOwnPropertyDescriptor(Oe.prototype,"dragAppendEnd"),Oe.prototype),Fi(Oe.prototype,"updatePointsAfterDrage",[o.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updatePointsAfterDrage"),Oe.prototype),Fi(Oe.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(Oe.prototype,"getAdjustStart"),Oe.prototype),Fi(Oe.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(Oe.prototype,"getAdjustEnd"),Oe.prototype),Fi(Oe.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(Oe.prototype,"updateAfterAdjustStartAndEnd"),Oe.prototype);var Ui=Oe;function Yi(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Vi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yi(Object(n),!0).forEach((function(e){var r,o;r=t,o=n[e=e],e in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Wi(t){return(Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ki(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||$i(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $i(t,e){if(t){if("string"==typeof t)return qi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qi(t,e):void 0}}function qi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zi(t,e){return 0===t.width&&0===t.height?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}}function Ji(t,e){return n=e,r=t,o=Math.abs(n.x-r.centerX),n=Math.abs(n.y-r.centerY),(o/r.width>n/r.height?$n.HORIZONTAL:$n.VERTICAL)===$n.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY};var n,r,o}function Qi(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),o=Math.max(t.maxX,e.maxX);t=Math.max(t.maxY,e.maxY);return{centerX:(n+o)/2,centerY:(r+t)/2,minX:n,minY:r,maxX:o,maxY:t,height:t-r,width:o-n}}function ta(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],e=1<arguments.length?arguments[1]:void 0,n=[],r=[],o=(t=(t.forEach((function(t){n.push(t.x),r.push(t.y)})),Math.min.apply(Math,n)),Math.max.apply(Math,n)),i=Math.min.apply(Math,r),a=Math.max.apply(Math,r),u=o-t,c=a-i;return e&&(u+=e,c+=e),{centerX:(t+o)/2,centerY:(i+a)/2,maxX:o,maxY:a,minX:t,minY:i,x:(t+o)/2,y:(i+a)/2,height:c,width:u}}function ea(t){var e=t.minX,n=t.minY,r=t.maxX;t=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:t},{x:e,y:t}]}function na(t,e){var n=t.x;t=t.y;return n<e.minX||n>e.maxX||t<e.minY||t>e.maxY}function ra(t,e,n,r){var o=e.x-t.x,i=(e=e.y-t.y,r.x-n.x),a=(r=r.y-n.y,(-e*(t.x-n.x)+o*(t.y-n.y))/(-i*e+o*r));t=(i*(t.y-n.y)-r*(t.x-n.x))/(-i*e+o*r);return 0<=a&&a<=1&&0<=t&&t<=1}function oa(t,e,n,r,o,i,a){var u=[],c=[e],s={},l={},f={},p=(l[e.id]=0,f[e.id]=da(e,n,e),{});for(t.forEach((function(t){p[t.id]=t}));c.length;){var d=function(){var d,h,y,g,v,b,m=void 0,O=1/0;if(c.forEach((function(t){f[t.id]<O&&(O=f[t.id],m=t)})),m===n)return function t(e,n,r,o,i){i=i||0,e.unshift(n[o]),r[o]&&r[o]!==o&&i<=100&&t(e,n,r,r[o],i+1)}(h=[],p,s,n.id),{v:h};h=m,-1<(h=(d=c).indexOf(h))&&d.splice(h,1),u.push(m),y=m,g=r,v=o,b=[],t.forEach((function(t){t===y||t.x!==y.x&&t.y!==y.y||ha(t,y,g)||ha(t,y,v)||b.push(t)})),fa(b).forEach((function(t){var r;-1===u.indexOf(t)&&(-1===c.indexOf(t)&&c.push(t),r=f[m.id]+pa(m,t),l[t.id]&&r>=l[t.id]||(s[t.id]=m.id,l[t.id]=r,f[t.id]=l[t.id]+da(t,n,e,i,a)))}))}();if("object"===Wi(d))return d.v}return[e,n]}function ia(t){return oi(t)}function aa(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=1<=r&&r<=126||65376<=r&&r<=65439?1:2}return e}function ua(t){var e=t.start,n=t.end,r=t.sourceNode,o=t.targetNode;t=t.offset,r=oi(r),o=oi(o),r=Zi(r,t),o=Zi(o,t);return{sNext:Ji(r,e),ePre:Ji(o,n)}}function ca(t){return t=t.replace(/M/g,"").replace(/C/g,",").split(","),[sa(t[0]),sa(t[1]),sa(t[2]),sa(t[3])]}function sa(t){return{x:+(t=Ki(t.replace(/(^\s*)/g,"").split(" "),2))[0],y:+t[1]}}function la(t,e){for(var n,r=t.x,o=t.y,i=wa(e),a=Number.MAX_SAFE_INTEGER,u=[],c=0;c<i.length;c++)u.push({start:i[c],end:i[(c+1)%i.length]});return u.forEach((function(t){var e,i,u=t.start;t=t.end;u.x===t.x?(i={x:u.x,y:o},bo(i,u,t)&&(e=Math.abs(u.x-r))<a&&(a=e,n=i)):u.y===t.y&&(e={x:r,y:u.y},bo(e,u,t)&&(i=Math.abs(u.y-o))<a&&(a=i,n=e))})),n||(e=(t=u[0]).start,t=t.end,n={x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2}),n}var fa=function(t){var e=[],n={};return t.forEach((function(t){var e="".concat(t.x,"-").concat(t.y);t.id=e,n[e]=t})),Object.keys(n).forEach((function(t){e.push(n[t])})),e},pa=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},da=function(t,e,n,r,o){return pa(t,e)+pa(t,n)+(i=t,a=0,[e,n,r,o].forEach((function(t){t&&(i.x===t.x&&(a+=-2),i.y===t.y&&(a+=-2))})),a);var i,a},ha=function(t,e,n){if(0===n.width&&0===n.height)return!1;n=Ki(ea(n),4);var r=n[0],o=n[1],i=n[2];n=n[3];return ra(t,e,r,o)||ra(t,e,r,n)||ra(t,e,o,i)||ra(t,e,i,n)},ya=function(t){for(var e=t,n=1;n<e.length-1;){var r=e[n-1],o=e[n],i=e[n+1];r.x===o.x&&o.x===i.x||r.y===o.y&&o.y===i.y?e.splice(n,1):n++}return e},ga=function(t,e,n,r,o){n=ia(n),r=ia(r);var i,a=Zi(n,o),u=Zi(r,o),c=(o=Ji(a,t),Ji(u,e)),s=a,l=u;if(2*Math.abs(s.centerX-l.centerX)<s.width+l.width&&2*Math.abs(s.centerY-l.centerY)<s.height+l.height)return s=xa(t,e,o,c),[t,o].concat(function(t){if(Array.isArray(t))return qi(t)}(i=s)||function(){if("undefined"!=typeof Symbol&&null!=i[Symbol.iterator]||null!=i["@@iterator"])return Array.from(i)}()||$i(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[c,e]);l=ta([o,c]),s=Qi(a,l);var f=Qi(u,l),p=(p=(p=[]).concat(ea(s))).concat(ea(f)),d={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[l,s,f].forEach((function(t){var e;p=p.concat(((e=d.x)<(t=t).minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]).concat((e=d.y)<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]).filter((function(t){return na(t,a)&&na(t,u)})))})),[{x:o.x,y:c.y},{x:c.x,y:o.y}].forEach((function(t){na(t,a)&&na(t,u)&&p.push(t)})),p.unshift(o),p.push(c),p=fa(p),l=oa(p,o,c,n,r,t,e);return l.unshift(t),l.push(e),2<l.length&&(l=ya(l)),fa(l)},va=function(t){var e;if(1===t.length)e=[t[0],t[0]];else if(2<=t.length){for(var n=t[0],r=t[1],o=Po(n.x,n.y,r.x,r.y),i=1;i<t.length-1;i++){var a=t[i],u=t[i+1],c=Po(a.x,a.y,u.x,u.y);o<c&&(o=c,n=a,r=u)}e=[n,r]}return e},ba=function(t,e,n){return t=ko(t,n),e=ko(e,n),t&&e},ma=function(t,e,n){return t=ko(t,n),e=ko(e,n),!(t&&e)&&(t||e)},Oa=function(t,e,n){n=oi(n);for(var r,o,i=ea(n),a=0;a<i.length;a++)ra(t,e,i[a],i[(a+1)%i.length])&&(o=[i[a],i[(a+1)%i.length]]);return o?function(n,r){var o=(e.y-t.y)*(r.x-n.x)-(t.x-e.x)*(n.y-r.y);if(0==o)return!1;var i=((e.x-t.x)*(r.x-n.x)*(n.y-t.y)+(e.y-t.y)*(r.x-n.x)*t.x-(r.y-n.y)*(e.x-t.x)*n.x)/o;o=-((e.y-t.y)*(r.y-n.y)*(n.x-t.x)+(e.x-t.x)*(r.y-n.y)*t.y-(r.x-n.x)*(e.y-t.y)*n.y)/o;return(i-t.x)*(i-e.x)<=0&&(o-t.y)*(o-e.y)<=0&&(i-n.x)*(i-r.x)<=0&&(o-n.y)*(o-r.y)<=0&&{x:i,y:o}}(o[0],o[1]):r},_a=function(t,e){var n;return t.x===e.x?n=$n.VERTICAL:t.y===e.y&&(n=$n.HORIZONTAL),n},wa=function(t){t=t.split(" ");var e=[];return t&&t.forEach((function(t){t=Ki(t.split(","),2);var n=t[0];t=t[1];e.push({x:Number(n),y:Number(t)})})),e},xa=function(t,e,n,r){var o,i,a,u=[];return _a(t,n)===_a(e,r)?t.y===n.y?(u.push({x:n.x,y:(n.y+r.y)/2}),u.push({x:r.x,y:(n.y+r.y)/2})):(u.push({x:(n.x+r.x)/2,y:n.y}),u.push({x:(n.x+r.x)/2,y:r.y})):(o={x:n.x,y:r.y},i=bo(o,t,n),a=bo(o,e,r),i||a?o={x:r.x,y:n.y}:(i=Ea(o,t,n),a=Ea(o,e,r),i&&a&&(o={x:r.x,y:n.y})),u.push(o)),u},Ea=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},ja=function(t){return Hn(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Sa=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},Pa=function(){};function ka(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Aa(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var Ma=window.document;function Da(t){var e=t.onDragStart,n=void 0===e?Pa:e,r=(e=t.onDraging,void 0===e?Pa:e),o=(e=t.onDragEnd,void 0===e?Pa:e),i=(e=t.step,void 0===e?1:e),a=(e=t.isStopPropagation,void 0===e||e),u=!1,c=!1,s=0,l=0,f=0,p=0;function d(t){var e,n,o,d;a&&t.stopPropagation(),c&&(u=!0,f+=t.clientX-s,p+=t.clientY-l,s=t.clientX,l=t.clientY,Math.abs(f)>i||Math.abs(p)>i)&&(o=f-(e=f%i),d=p-(n=p%i),f=e,p=n,r({deltaX:o,deltaY:d,event:t}))}function h(t){if(a&&t.stopPropagation(),c=!1,Ma.removeEventListener("mousemove",d,!1),Ma.removeEventListener("mouseup",h,!1),u)return u=!1,o({event:t})}return function(t){if(0===t.button)return a&&t.stopPropagation(),c=!0,s=t.clientX,l=t.clientY,Ma.addEventListener("mousemove",d,!1),Ma.addEventListener("mouseup",h,!1),n({event:t})}}ka(Ya.prototype,[{key:"setStep",value:function(t){this.step=t}}]);var Na,Ta,Ca,Ra,Ia,La,za,Ba,Ha,Xa,Fa,Ga,Ua=Ya;function Ya(t){var e=this,n=t.onDragStart,r=(n=void 0===n?Pa:n,t.onDraging),o=(r=void 0===r?Pa:r,t.onDragEnd),i=(o=void 0===o?Pa:o,t.eventType),a=(i=void 0===i?"":i,t.eventCenter),u=(a=void 0===a?null:a,t.step),c=(u=void 0===u?1:u,t.isStopPropagation);c=void 0===c||c,t=t.model,t=void 0===t?null:t;if(!(this instanceof Ya))throw new TypeError("Cannot call a class as a function");Aa(this,"onDragStart",void 0),Aa(this,"onDraging",void 0),Aa(this,"onDragEnd",void 0),Aa(this,"step",void 0),Aa(this,"isStopPropagation",void 0),Aa(this,"isDraging",!1),Aa(this,"isStartDraging",!1),Aa(this,"startX",0),Aa(this,"startY",0),Aa(this,"sumDeltaX",0),Aa(this,"sumDeltaY",0),Aa(this,"eventType",void 0),Aa(this,"eventCenter",void 0),Aa(this,"model",void 0),Aa(this,"startTime",void 0),Aa(this,"isGrag",void 0),Aa(this,"handleMouseDown",(function(t){var n,r;0===t.button&&(e.isStopPropagation&&t.stopPropagation(),e.isStartDraging=!0,e.startX=t.clientX,e.startY=t.clientY,Ma.addEventListener("mousemove",e.handleMouseMove,!1),Ma.addEventListener("mouseup",e.handleMouseUp,!1),r=null==(r=e.model)?void 0:r.getData(),null!=(n=e.eventCenter)&&n.emit(Kn["".concat(e.eventType,"_MOUSEDOWN")],{e:t,data:r}),e.startTime=(new Date).getTime())})),Aa(this,"handleMouseMove",(function(t){var n,r,o,i,a;e.isStopPropagation&&t.stopPropagation(),e.isStartDraging&&(e.sumDeltaX+=t.clientX-e.startX,e.sumDeltaY+=t.clientY-e.startY,e.startX=t.clientX,e.startY=t.clientY,e.step<=1||Math.abs(e.sumDeltaX)>e.step||Math.abs(e.sumDeltaY)>e.step)&&(n=e.sumDeltaX%e.step,i=e.sumDeltaY%e.step,r=e.sumDeltaX-n,o=e.sumDeltaY-i,e.sumDeltaX=n,e.sumDeltaY=i,a=null==(n=e.model)?void 0:n.getData(),e.isDraging||(null!=(i=e.eventCenter)&&i.emit(Kn["".concat(e.eventType,"_DRAGSTART")],{e:t,data:a}),e.onDragStart({event:t})),e.isDraging=!0,setTimeout((function(){var n;e.onDraging({deltaX:r,deltaY:o,event:t}),null!=(n=e.eventCenter)&&n.emit(Kn["".concat(e.eventType,"_MOUSEMOVE")],{e:t,data:a}),null!=(n=e.eventCenter)&&n.emit(Kn["".concat(e.eventType,"_DRAG")],{e:t,data:a})}),0))})),Aa(this,"handleMouseUp",(function(t){e.isStartDraging=!1,e.isStopPropagation&&t.stopPropagation(),Ma.removeEventListener("mousemove",e.handleMouseMove,!1),Ma.removeEventListener("mouseup",e.handleMouseUp,!1);var n,r=null==(r=e.model)?void 0:r.getData();null!=(n=e.eventCenter)&&n.emit(Kn["".concat(e.eventType,"_MOUSEUP")],{e:t,data:r}),e.isDraging&&(e.isDraging=!1,e.onDragEnd({event:t}),null!=(n=e.eventCenter)&&n.emit(Kn["".concat(e.eventType,"_DROP")],{e:t,data:r}))})),Aa(this,"cancelDrag",(function(){Ma.removeEventListener("mousemove",e.handleMouseMove,!1),Ma.removeEventListener("mouseup",e.handleMouseUp,!1),e.isDraging=!1})),this.onDragStart=n,this.onDraging=r,this.onDragEnd=o,this.step=u,this.isStopPropagation=c,this.eventType=i,this.eventCenter=a,this.model=t}function Va(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Wa(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Va(Object(n),!0).forEach((function(e){eu(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Va(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ka(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||qa(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $a(t){return function(t){if(Array.isArray(t))return Za(t)}(t)||function(){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}()||qa(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qa(t,e){if(t){if("string"==typeof t)return Za(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Za(t,e):void 0}}function Za(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ja(t){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qa(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function tu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eu(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function nu(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Na=nu((tu(iu.prototype,[{key:"nodesMap",get:function(){return this.nodes.reduce((function(t,e,n){return t[e.id]={index:n,model:e},t}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(t,e,n){return t[e.id]={index:n,model:e},t}),{})}},{key:"modelsMap",get:function(){return[].concat($a(this.nodes),$a(this.edges)).reduce((function(t,e){return t[e.id]=e,t}),{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach((function(e){return t.push(e)})),this.edges.forEach((function(e){return t.push(e)}));t=t.sort((function(t,e){return t.zIndex-e.zIndex}));for(var e,n=[],r=-1,o=[-200,-200],i=[this.width+200,this.height+200],a=0;a<t.length;a++){var u=t[a];u.visible&&(!this.partial||u.isSelected||this.isElementInArea(u,o,i,!1,!1))&&(9999===u.zIndex&&(r=n.length),n.push(u))}return-1!==r&&(e=n[n.length-1],n[n.length-1]=n[r],n[r]=e),n}},{key:"textEditElement",get:function(){var t=this.nodes.find((function(t){return t.state===Yn.TEXT_EDIT})),e=this.edges.find((function(t){return t.state===Yn.TEXT_EDIT}));return t||e}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach((function(e){e.isSelected&&t.set(e.id,e)})),this.edges.forEach((function(e){e.isSelected&&t.set(e.id,e)})),t}},{key:"getAreaElement",value:function(t,e){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],o=[],i=[];this.nodes.forEach((function(t){return i.push(t)})),this.edges.forEach((function(t){return i.push(t)}));for(var a=0;a<i.length;a++){var u=i[a];this.isElementInArea(u,t,e,n,r)&&o.push(u)}return o}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:null==(t=this.nodesMap[t])?void 0:t.model}},{key:"getPointByClient",value:function(t){var e=t.x,n=(t=t.y,this.rootEl.getBoundingClientRect());e={x:e-n.left,y:t-n.top},t=Ka(this.transformModel.HtmlPointToCanvasPoint([e.x,e.y]),2);return{domOverlayPosition:e,canvasOverlayPosition:{x:t[0],y:t[1]}}}},{key:"isElementInArea",value:function(t,e,n){var r=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],o=!(4<arguments.length&&void 0!==arguments[4])||arguments[4];if(t.BaseType!==Wn.NODE)return t.BaseType===Wn.EDGE&&(i=t.startPoint,a=t.endPoint,i=this.transformModel.CanvasPointToHtmlPoint([i.x,i.y]),a=this.transformModel.CanvasPointToHtmlPoint([a.x,a.y]),i=so(i,e,n),a=so(a,e,n),r?i&&a:i||a);r=oi(t);for(var i=r.minX,a=r.minY,u=(t=r.maxX,r=r.maxY,[{x:i,y:a},{x:t,y:a},{x:t,y:r},{x:i,y:r}]),c=o,s=0;s<u.length;s++){var l=u[s],f=l.x,p=(l=l.y,Ka(this.transformModel.CanvasPointToHtmlPoint([f,l]),2));f=p[0],l=p[1];if(so([f,l],e,n)!==o){c=!o;break}}return c}},{key:"graphDataToModel",value:function(t){var e=this;this.nodes=Xe(t.nodes,(function(t){var n=e.getModel(t.type);if(!n)throw new Error("".concat(t.type,""));var r=t.x,o=t.y;return r&&o&&(t.x=ao(r,e.gridSize),t.y=ao(o,e.gridSize),"object"===Ja(t.text)&&(t.text.x-=r%e.gridSize,t.text.y-=o%e.gridSize)),new n(t,e)})),this.edges=Xe(t.edges,(function(t){var n=e.getModel(t.type);if(n)return new n(t,e);throw new Error("".concat(t.type,""))}))}},{key:"modelToGraphData",value:function(){var t=[],e=(this.edges.forEach((function(e){e=e.getData(),e&&t.push(e)})),[]);return this.nodes.forEach((function(t){t=t.getData(),t&&e.push(t)})),{nodes:e,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,e=[],n=0;n<this.nodes.length;n++){var r=this.nodes[n];if(r.isDragging){t=!0;break}e.push(r.getHistoryData())}if(t)return!1;for(var o=!1,i=[],a=0;a<this.edges.length;a++){var u=this.edges[a];if(u.isDragging){o=!0;break}i.push(u.getHistoryData())}return!o&&{nodes:e,edges:i}}},{key:"getEdgeModelById",value:function(t){return null==(t=this.edgesMap[t])?void 0:t.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var e=[],n=0;n<this.edges.length;n++){var r=this.edges[n],o=this.edges[n].sourceNodeId===t,i=this.edges[n].targetNodeId===t;(o||i)&&e.push(r)}return e}},{key:"getSelectElements",value:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=this.selectElements,n={nodes:[],edges:[]};return e.forEach((function(r){var o;r.BaseType===Wn.NODE&&n.nodes.push(r.getData()),r.BaseType===Wn.EDGE&&(r=r.getData(),o=e.get(r.sourceNodeId)&&e.get(r.targetNodeId),(t||o)&&n.edges.push(r))})),n}},{key:"updateAttributes",value:function(t,e){this.getElement(t).updateAttributes(e)}},{key:"changeNodeId",value:function(t,e){return e=e||Oo(),!this.nodesMap[e]&&this.nodesMap[t]?(this.edges.forEach((function(n){n.sourceNodeId===t&&(n.sourceNodeId=e),n.targetNodeId===t&&(n.targetNodeId=e)})),this.nodesMap[t].model.id=e):""}},{key:"changeEdgeId",value:function(t,e){return e=e||Oo(),!this.edgesMap[e]&&this.edgesMap[t]?(this.edges.forEach((function(n){n.id===t&&(n.id=e)})),e):""}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,e){return this.modelMap.set(t,e)}},{key:"toFront",value:function(t){var e,n=(null==(n=this.nodesMap[t])?void 0:n.model)||(null==(n=this.edgesMap[t])?void 0:n.model);n&&(this.overlapMode===qn.DEFAULT&&(null!=(e=this.topElement)&&e.setZIndex(),n.setZIndex(9999),this.topElement=n),this.overlapMode===qn.INCREASE&&this.setElementZIndex(t,"top"))}},{key:"setElementZIndex",value:function(t,e){var n,r;t=(null==(n=this.nodesMap[t])?void 0:n.model)||(null==(n=this.edgesMap[t])?void 0:n.model);t&&("number"==typeof e&&(r=e),"top"===e&&(r=++ci),"bottom"===e&&(r=--si),t.setZIndex(r))}},{key:"deleteNode",value:function(t){var e=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(Kn.NODE_DELETE,{data:e})}},{key:"addNode",value:function(t){var e=zo(t);e.id&&this.nodesMap[t.id]&&delete e.id,t=this.getModel(e.type);if(!t)throw new Error("".concat(e.type,""));return t=new t(e,this),this.nodes.push(t),e=t.getData(),this.eventCenter.emit(Kn.NODE_ADD,{data:e}),t}},{key:"cloneNode",value:function(t){t=this.getNodeModelById(t);var e=t.getData();e.x+=30,e.y+=30,delete e.id,e.text&&(e.text.x+=30,e.text.y+=30),e=this.addNode(e);return e.setSelected(!0),t.setSelected(!1),e.getData()}},{key:"moveNode",value:function(t,e,n){var r=this.nodesMap[t];r&&r.model.move(e,n,3<arguments.length&&void 0!==arguments[3]&&arguments[3])&&this.moveEdge(t,e,n)}},{key:"moveNode2Coordinate",value:function(t,e,n){var r,o=this.nodesMap[t];o&&(r=(o=o.model).x,o=o.y,this.moveNode(t,e-r,n-o,3<arguments.length&&void 0!==arguments[3]&&arguments[3]))}},{key:"editText",value:function(t){this.setElementStateById(t,Yn.TEXT_EDIT)}},{key:"addEdge",value:function(t){t=zo(t);var e=(e=t.type)||this.edgeType,n=(t.id&&this.edgesMap[t.id]&&delete t.id,this.getModel(e));if(!n)throw new Error("".concat(e,""));return n=new n(Wa(Wa({},t),{},{type:e}),this),t=n.getData(),this.edges.push(n),this.eventCenter.emit(Kn.EDGE_ADD,{data:t}),n}},{key:"moveEdge",value:function(t,e,n){for(var r=0;r<this.edges.length;r++){var o=this.edges[r],i=o.textPosition,a=i.x,u=(i=i.y,this.edges[r].sourceNodeId===t),c=this.edges[r].targetNodeId===t;u&&o.moveStartPoint(e,n),c&&o.moveEndPoint(e,n),(u||c)&&(!0===o.customTextPosition?o.resetTextPosition():o.modelType===Vn.POLYLINE_EDGE&&null!=(u=o.text)&&u.value?(c=o.text,u=la(c,o.points),o.moveText(u.x-c.x,u.y-c.y)):(c=(u=o.textPosition).x,u=u.y,o.moveText(c-a,u-i)))}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,e){for(var n,r=0;r<this.edges.length;r++)this.edges[r].sourceNodeId===t&&this.edges[r].targetNodeId===e&&(n=this.edges[r].getData(),this.edges.splice(r,1),r--,this.eventCenter.emit(Kn.EDGE_DELETE,{data:n}))}},{key:"deleteEdgeById",value:function(t){var e;this.edgesMap[t]&&(e=this.edgesMap[t].index,t=this.edgesMap[t].model.getData(),this.edges.splice(e,1),this.eventCenter.emit(Kn.EDGE_DELETE,{data:t}))}},{key:"deleteEdgeBySource",value:function(t){for(var e,n=0;n<this.edges.length;n++)this.edges[n].sourceNodeId===t&&(e=this.edges[n].getData(),this.edges.splice(n,1),n--,this.eventCenter.emit(Kn.EDGE_DELETE,{data:e}))}},{key:"deleteEdgeByTarget",value:function(t){for(var e,n=0;n<this.edges.length;n++)this.edges[n].targetNodeId===t&&(e=this.edges[n].getData(),this.edges.splice(n,1),n--,this.eventCenter.emit(Kn.EDGE_DELETE,{data:e}))}},{key:"setElementStateById",value:function(t,e,n){this.nodes.forEach((function(r){r.id===t?r.setElementState(e,n):r.setElementState(Yn.DEFAULT)})),this.edges.forEach((function(r){r.id===t?r.setElementState(e,n):r.setElementState(Yn.DEFAULT)}))}},{key:"updateText",value:function(t,e){this.nodes.forEach((function(n){n.id===t&&n.updateText(e)})),this.edges.forEach((function(n){n.id===t&&n.updateText(e)}))}},{key:"selectNodeById",value:function(t){1<arguments.length&&void 0!==arguments[1]&&arguments[1]||this.clearSelectElements(),t=null==(t=this.nodesMap[t])?void 0:t.model,null!=t&&t.setSelected(!0)}},{key:"selectEdgeById",value:function(t){1<arguments.length&&void 0!==arguments[1]&&arguments[1]||this.clearSelectElements(),t=null==(t=this.edgesMap[t])?void 0:t.model,null!=t&&t.setSelected(!0)}},{key:"selectElementById",value:function(t){1<arguments.length&&void 0!==arguments[1]&&arguments[1]||this.clearSelectElements(),t=this.getElement(t),null!=t&&t.setSelected(!0)}},{key:"clearSelectElements",value:function(){var t;this.selectElements.forEach((function(t){null!=t&&t.setSelected(!1)})),this.selectElements.clear(),this.overlapMode===qn.DEFAULT&&null!=(t=this.topElement)&&t.setZIndex()}},{key:"moveNodes",value:function(t,e,n){var r=this,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3];t.forEach((function(t){return r.moveNode(t,e,n,o)}))}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,e){var n=this.getNodeModelById(t);if(n){n=n.getData();var r=(n.type=e,this.getModel(e));if(!r)throw new Error("".concat(e,""));var o=new r(n,this);this.nodes.splice(this.nodesMap[t].index,1,o),this.getNodeEdges(t).forEach((function(e){var n;e.sourceNodeId===t&&(n=Co(o,e.startPoint,o.width,o.height),e.updateStartPoint(n)),e.targetNodeId===t&&(n=Co(o,e.endPoint,o.width,o.height),e.updateEndPoint(n))}))}}},{key:"changeEdgeType",value:function(t,e){var n=this.getEdgeModelById(t);if(n&&n.type!==e){n=n.getData();var r=(n.type=e,this.getModel(e));if(!r)throw new Error("".concat(e,""));delete n.pointsList,e=new r(n,this),this.edges.splice(this.edgesMap[t].index,1,e)}}},{key:"getNodeIncomingEdge",value:function(t){var e=[];return this.edges.forEach((function(n){n.targetNodeId===t&&e.push(n)})),e}},{key:"getNodeOutgoingEdge",value:function(t){var e=[];return this.edges.forEach((function(n){n.sourceNodeId===t&&e.push(n)})),e}},{key:"getNodeIncomingNode",value:function(t){var e=this,n=[];return this.edges.forEach((function(r){r.targetNodeId===t&&n.push(e.nodesMap[r.sourceNodeId].model)})),n}},{key:"getNodeOutgoingNode",value:function(t){var e=this,n=[];return this.edges.forEach((function(r){r.sourceNodeId===t&&n.push(e.nodesMap[r.targetNodeId].model)})),n}},{key:"setTheme",value:function(t){this.theme=Xr(Wa(Wa({},this.theme),t))}},{key:"resize",value:function(t,e){this.width=null!=t?t:this.width,this.height=null!=e?e:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,e=[],n=[],r=(t=(t.forEach((function(t){var r=t.x,o=t.y,i=t.width,a=t.height;t=t.getNodeStyle().strokeWidth,t=void 0===t?0:t;e=e.concat([r+i/2+t,r-i/2-t]),n=n.concat([o+a/2+t,o-a/2-t])})),Math.min.apply(Math,$a(e))),Math.max.apply(Math,$a(e))),o=Math.min.apply(Math,$a(n)),i=(r=r-t||0,Math.max.apply(Math,$a(n))-o||0);return{virtualRectWidth:r,virtualRectHeight:i,virtualRectCenterPositionX:t+r/2,virtualRectCenterPositionY:o+i/2}}},{key:"translateCenter",value:function(){var t=this.nodes,e=this.width,n=this.height,r=this.rootEl,o=this.transformModel;t.length&&(t=e||r.clientWidth,e=n||r.clientHeight,r=(n=this.getVirtualRectSize()).virtualRectCenterPositionX,n=n.virtualRectCenterPositionY,o.focusOn(r,n,t,e))}},{key:"fitView",value:function(){var t,e,n,r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:20,o=this.nodes,i=this.width,a=this.height,u=this.rootEl,c=this.transformModel;o.length&&(o=i||u.clientWidth,i=a||u.clientHeight,u=(a=this.getVirtualRectSize()).virtualRectWidth,t=a.virtualRectHeight,e=a.virtualRectCenterPositionX,a=a.virtualRectCenterPositionY,n=0,n=1/Math.max((u+r)/o,(t+r)/i),c.zoom(n,[o/2,i/2]),c.focusOn(e,a,o,i))}}]),_e=iu).prototype,"width",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ta=nu(_e.prototype,"height",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ca=nu(_e.prototype,"edgeType",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ra=nu(_e.prototype,"nodes",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ia=nu(_e.prototype,"edges",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),La=nu(_e.prototype,"overlapMode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return qn.DEFAULT}}),za=nu(_e.prototype,"background",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ba=nu(_e.prototype,"transformModel",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ha=nu(_e.prototype,"editConfigModel",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xa=nu(_e.prototype,"gridSize",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Fa=nu(_e.prototype,"partial",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ga=nu(_e.prototype,"fakerNode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nu(_e.prototype,"nodesMap",[o.m],Object.getOwnPropertyDescriptor(_e.prototype,"nodesMap"),_e.prototype),nu(_e.prototype,"edgesMap",[o.m],Object.getOwnPropertyDescriptor(_e.prototype,"edgesMap"),_e.prototype),nu(_e.prototype,"modelsMap",[o.m],Object.getOwnPropertyDescriptor(_e.prototype,"modelsMap"),_e.prototype),nu(_e.prototype,"sortElements",[o.m],Object.getOwnPropertyDescriptor(_e.prototype,"sortElements"),_e.prototype),nu(_e.prototype,"textEditElement",[o.m],Object.getOwnPropertyDescriptor(_e.prototype,"textEditElement"),_e.prototype),nu(_e.prototype,"selectElements",[o.m],Object.getOwnPropertyDescriptor(_e.prototype,"selectElements"),_e.prototype),nu(_e.prototype,"setFakerNode",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"setFakerNode"),_e.prototype),nu(_e.prototype,"removeFakerNode",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"removeFakerNode"),_e.prototype),nu(_e.prototype,"setModel",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"setModel"),_e.prototype),nu(_e.prototype,"toFront",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"toFront"),_e.prototype),nu(_e.prototype,"setElementZIndex",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"setElementZIndex"),_e.prototype),nu(_e.prototype,"deleteNode",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"deleteNode"),_e.prototype),nu(_e.prototype,"addNode",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"addNode"),_e.prototype),nu(_e.prototype,"cloneNode",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"cloneNode"),_e.prototype),nu(_e.prototype,"moveNode",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"moveNode"),_e.prototype),nu(_e.prototype,"moveNode2Coordinate",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"moveNode2Coordinate"),_e.prototype),nu(_e.prototype,"editText",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"editText"),_e.prototype),nu(_e.prototype,"addEdge",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"addEdge"),_e.prototype),nu(_e.prototype,"moveEdge",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"moveEdge"),_e.prototype),nu(_e.prototype,"deleteEdgeBySourceAndTarget",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"deleteEdgeBySourceAndTarget"),_e.prototype),nu(_e.prototype,"deleteEdgeById",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"deleteEdgeById"),_e.prototype),nu(_e.prototype,"deleteEdgeBySource",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"deleteEdgeBySource"),_e.prototype),nu(_e.prototype,"deleteEdgeByTarget",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"deleteEdgeByTarget"),_e.prototype),nu(_e.prototype,"setElementStateById",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"setElementStateById"),_e.prototype),nu(_e.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"updateText"),_e.prototype),nu(_e.prototype,"selectNodeById",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"selectNodeById"),_e.prototype),nu(_e.prototype,"selectEdgeById",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"selectEdgeById"),_e.prototype),nu(_e.prototype,"selectElementById",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"selectElementById"),_e.prototype),nu(_e.prototype,"clearSelectElements",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"clearSelectElements"),_e.prototype),nu(_e.prototype,"moveNodes",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"moveNodes"),_e.prototype),nu(_e.prototype,"setDefaultEdgeType",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"setDefaultEdgeType"),_e.prototype),nu(_e.prototype,"changeNodeType",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"changeNodeType"),_e.prototype),nu(_e.prototype,"changeEdgeType",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"changeEdgeType"),_e.prototype),nu(_e.prototype,"getNodeIncomingEdge",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"getNodeIncomingEdge"),_e.prototype),nu(_e.prototype,"getNodeOutgoingEdge",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"getNodeOutgoingEdge"),_e.prototype),nu(_e.prototype,"getNodeIncomingNode",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"getNodeIncomingNode"),_e.prototype),nu(_e.prototype,"getNodeOutgoingNode",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"getNodeOutgoingNode"),_e.prototype),nu(_e.prototype,"setTheme",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"setTheme"),_e.prototype),nu(_e.prototype,"resize",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"resize"),_e.prototype),nu(_e.prototype,"clearData",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"clearData"),_e.prototype),nu(_e.prototype,"translateCenter",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"translateCenter"),_e.prototype),nu(_e.prototype,"fitView",[o.k],Object.getOwnPropertyDescriptor(_e.prototype,"fitView"),_e.prototype);var ru=_e,ou=ru;function iu(t){if(!(this instanceof iu))throw new TypeError("Cannot call a class as a function");eu(this,"rootEl",void 0),Qa(this,"width",Na,this),Qa(this,"height",Ta,this),eu(this,"theme",void 0),eu(this,"eventCenter",void 0),eu(this,"modelMap",new Map),eu(this,"topElement",void 0),eu(this,"animation",void 0),eu(this,"idGenerator",void 0),eu(this,"nodeMoveRules",[]),Qa(this,"edgeType",Ca,this),Qa(this,"nodes",Ra,this),Qa(this,"edges",Ia,this),Qa(this,"overlapMode",La,this),Qa(this,"background",za,this),Qa(this,"transformModel",Ba,this),Qa(this,"editConfigModel",Ha,this),Qa(this,"gridSize",Xa,this),Qa(this,"partial",Fa,this),Qa(this,"fakerNode",Ga,this);var e=t.container,n=t.background,r=t.grid,o=t.width,i=t.height,a=t.idGenerator,u=t.animation;this.background=void 0===n?{}:n,"object"===Ja(r)&&(this.gridSize=r.size),this.rootEl=e,this.editConfigModel=new ar(t),this.eventCenter=new oo,this.transformModel=new hr(this.eventCenter),this.theme=Xr(t.style),this.edgeType=t.edgeType||"polyline",this.width=null!=o?o:e.getBoundingClientRect().width,this.height=null!=i?i:e.getBoundingClientRect().height,this.animation=(n=u)&&"boolean"!=typeof n?eo(Vr(ii),n):Vr(!0===n?ai:ii),this.partial=t.partial,this.overlapMode=t.overlapMode||0,this.idGenerator=a}function au(t){return(au="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uu(){return(uu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function cu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function su(t,e){return(su=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lu(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=pu(t);e=n?(e=pu(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===au(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fu(r)}}function fu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pu(t){return(pu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function du(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var hu=Wy(U=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&su(e,t);var n=lu(r);function r(t){var e;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");du(fu(e=n.call(this)),"stepDrag",void 0),du(fu(e),"stepScrollX",0),du(fu(e),"stepScrollY",0),du(fu(e),"onDraging",(function(t){var n=t.deltaX,r=(t=t.deltaY,e.setState({isDraging:!0}),e.props.graphModel),o=r.transformModel;r.editConfigModel.stopMoveGraph||o.translate(n,t)})),du(fu(e),"onDragEnd",(function(){e.setState({isDraging:!1})})),du(fu(e),"zoomHandler",(function(t){var n=e.props,r=n.graphModel,o=r.editConfigModel,i=r.transformModel,a=(r=r.gridSize,n=n.graphModel,t.deltaX),u=t.deltaY;o.stopScrollGraph||!0===t.ctrlKey?o.stopZoomGraph||(t.preventDefault(),n=(o=n.getPointByClient({x:t.clientX,y:t.clientY}).canvasOverlayPosition).x,o=o.y,i.zoom(t.deltaY<0,[n,o])):(t.preventDefault(),e.stepScrollX+=a,e.stepScrollY+=u,Math.abs(e.stepScrollX)>=r&&(n=e.stepScrollX%r,o=e.stepScrollX-n,i.translate(-o*i.SCALE_X,0),e.stepScrollX=n),Math.abs(e.stepScrollY)>=r&&(t=e.stepScrollY%r,a=e.stepScrollY-t,i.translate(0,-a*i.SCALE_Y),e.stepScrollY=t))})),du(fu(e),"clickHandler",(function(t){var n;"canvas-overlay"===t.target.getAttribute("name")&&(0<(n=e.props.graphModel).selectElements.size&&n.clearSelectElements(),n.eventCenter.emit(Kn.BLANK_CLICK,{e:t}))})),du(fu(e),"handleContextMenu",(function(t){var n,r;"canvas-overlay"===t.target.getAttribute("name")&&(t.preventDefault(),r=(n=e.props.graphModel).getPointByClient({x:t.clientX,y:t.clientY}),n.eventCenter.emit(Kn.BLANK_CONTEXTMENU,{e:t,position:r}))})),du(fu(e),"mouseDownHandler",(function(t){var n=e.props.graphModel,r=n.eventCenter,o=n.editConfigModel,i=n.transformModel.SCALE_X,a=(n=n.gridSize,t.target),u=!o.adjustEdge&&!o.adjustNodePosition;"canvas-overlay"!==a.getAttribute("name")&&!u||(o.stopMoveGraph?r.emit(Kn.BLANK_MOUSEDOWN,{e:t}):(e.stepDrag.setStep(n*i),e.stepDrag.handleMouseDown(t)),e.clickHandler(t))}));t=t.graphModel;var o=t.gridSize;t=t.eventCenter;return e.stepDrag=new Ua({onDraging:e.onDraging,onDragEnd:e.onDragEnd,step:o,eventType:"BLANK",isStopPropagation:!1,eventCenter:t,model:null}),e.state={isDraging:!1},e}return cu(r.prototype,[{key:"render",value:function(){var t=this.props.graphModel.transformModel.getTransformStyle().transform,e=this.props,n=e.children,r=(e=e.dnd,this.state.isDraging);return Object(q.g)("svg",uu({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:r?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},e.eventMap()),Object(q.g)("g",{transform:t},n))}}]),r}(q.a))||U;function yu(t){return(yu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function gu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vu(t,e){return(vu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bu(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Ou(t);e=n?(e=Ou(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===yu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return mu(r)}}function mu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ou(t){return(Ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _u=Wy(we=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vu(e,t);var n=bu(r);function r(){var t,e=this,o=r;if(!(e instanceof o))throw new TypeError("Cannot call a class as a function");for(var i,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return e=mu(t=n.call.apply(n,[this].concat(u))),o=function(e){var n=t.props.tool.getInstance();n.components.forEach((function(t){return t(n,e)})),n.components=[]},(i="setToolOverlayRef")in e?Object.defineProperty(e,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[i]=o,t}return gu(r.prototype,[{key:"getTools",value:function(){var t=this.props,e=t.tool,n=t.graphModel;t=e.getTools().map((function(t){return Object(q.g)(t,{graphModel:n,logicFlow:e.instance})}));return e.components=t}},{key:"render",value:function(){return Object(q.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}]),r}(q.a))||we;function wu(t){return(wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Eu(t,e){return(Eu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ju(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Su(t);e=n?(e=Su(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===wu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function Su(t){return(Su=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Pu=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Eu(e,t);var n=ju(r);function r(){var t=this,e=r;if(t instanceof e)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return xu(r.prototype,[{key:"render",value:function(){var t=this.props.background;return Object(q.g)("div",{className:"lf-background"},Object(q.g)("div",{style:t,className:"lf-background-area"}))}}]),r}(q.a);function ku(t){return(ku="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Au(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mu(t,e){return(Mu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Du(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Tu(t);e=n?(e=Tu(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===ku(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Nu(r)}}function Nu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tu(t){return(Tu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Cu=Wy(ke=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mu(e,t);var n=Du(r);function r(){var t=this,e=r;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");for(var o,i,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return e=Nu(t=n.call.apply(n,[this].concat(u))),o="id",i=Oo(),o in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,t}return Au(r.prototype,[{key:"renderDot",value:function(){var t=this.props,e=t.config,n=e.color,r=(e=e.thickness,t.size);t=t.visible,e=Math.min(Math.max(2,void 0===e?2:e),r/2),r=t?1:0;return Object(q.g)("rect",{width:e,height:e,rx:e/2,ry:e/2,fill:n,opacity:r})}},{key:"renderMesh",value:function(){var t=this.props,e=t.config,n=e.color,r=(e=e.thickness,t.size);t=t.visible,e=Math.min(Math.max(1,void 0===e?1:e),r/2),r="M ".concat(r," 0 H0 M0 0 V0 ").concat(r),t=t?1:0;return Object(q.g)("path",{d:r,stroke:n,strokeWidth:e,opacity:t})}},{key:"render",value:function(){var t=this.props,e=t.type,n=t.size;t=t.graphModel.transformModel,t=[t.SCALE_X,t.SKEW_Y,t.SKEW_X,t.SCALE_Y,t.TRANSLATE_X,t.TRANSLATE_Y].join(","),t="matrix(".concat(t,")");return Object(q.g)("div",{className:"lf-grid"},Object(q.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(q.g)("defs",null,Object(q.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:t,x:"0",y:"0",width:n,height:n},"dot"===e&&this.renderDot(),"mesh"===e&&this.renderMesh())),Object(q.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),r}(q.a))||ke;function Ru(t){return(Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Iu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lu(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach((function(t){n=2;t=function(t){if(Array.isArray(t))return t}(t=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(t,e){if(t){if("string"==typeof t)return Iu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Iu(t,e):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var n=t[0];t=t[1];"object"!==Ru(t)&&(e[n]=t)})),Object(q.g)("line",e)}function zu(t){return(zu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bu(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Hu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bu(Object(n),!0).forEach((function(e){var r,o;r=t,o=n[e=e],e in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Xu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fu(t,e){return(Fu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gu(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Uu(t);e=n?(e=Uu(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===zu(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function Uu(t){return(Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Cu.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},n(50);var Yu=Wy(bt=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fu(e,t);var n=Gu(r);function r(){var t=this,e=r;if(t instanceof e)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return Xu(r.prototype,[{key:"render",value:function(){var t=this.props.snaplineModel,e=t.position,n=t.isShowHorizontal,r=t.isShowVertical,o=(t=t.getStyle(),e.x);o=void 0===o?0:o,e=e.y,e=void 0===e?0:e,e=Hu(Hu({x1:-1e5,y1:e,x2:1e5,y2:e},t),{},{stroke:n?t.stroke:"none"}),n=Hu(Hu({x1:o,y1:-1e5,x2:o,y2:1e5},t),{},{stroke:r?t.stroke:"none"});return Object(q.g)("g",{className:"lf-snapline"},Object(q.g)(Lu,e),Object(q.g)(Lu,n))}}]),r}(q.a))||bt;function Vu(t){return(Vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ku(t){var e=t.x,n=t.y,r=t.width,o=t.height,i=t.className,a=t.radius,u=(e=e-r/2,r=n-o/2,{});return Object.entries(t).forEach((function(t){e=2;t=function(t){if(Array.isArray(t))return t}(t=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Wu(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wu(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var e=t[0];t=t[1];"object"!==Vu(t)&&(u[e]=t)})),u.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",a&&(u.rx=a,u.ry=a),u.x=e,u.y=r,Object(q.g)("rect",u)}function $u(t){return($u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qu(){return(qu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Zu(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Ju(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zu(Object(n),!0).forEach((function(e){var r,o;r=t,o=n[e=e],e in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zu(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Qu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tc(t,e){return(tc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ec(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=nc(t);e=n?(e=nc(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===$u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function nc(t){return(nc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Ku.defaultProps={className:"",radius:""};var rc=Wy(u=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tc(e,t);var n=ec(r);function r(){var t=this,e=r;if(t instanceof e)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return Qu(r.prototype,[{key:"getNodesOutline",value:function(){var t=this.props.graphModel,e=t.nodes,n=(t=t.editConfigModel,t.hoverOutline),r=t.nodeSelectedOutline,o=[];return e.forEach((function(t){var e,i,a,u,c,s,l,f;(t.isHovered||t.isSelected)&&(e=t.isHovered,l=t.isSelected,i=t.x,a=t.y,u=t.width,c=t.height,(r&&l||n&&e)&&(s=t.getOutlineStyle(),f={},Object.keys(s).forEach((function(t){"hover"!==t&&(f[t]=s[t])})),e&&(l=s.hover,f=Ju(Ju({},f),l)),o.push(Object(q.g)(Ku,qu({className:"lf-outline-node",x:i,y:a,width:u+10,height:c+10},f)))))})),o}},{key:"getEdgeOutline",value:function(){for(var t=this.props.graphModel,e=t.edges,n=(t=t.editConfigModel,t.edgeSelectedOutline),r=t.hoverOutline,o=[],i=0;i<e.length;i++){var a=e[i];(n&&a.isSelected||r&&a.isHovered)&&(a.modelType===Vn.LINE_EDGE?o.push(this.getLineOutline(a)):a.modelType===Vn.POLYLINE_EDGE?o.push(this.getPolylineOutline(a)):a.modelType===Vn.BEZIER_EDGE&&o.push(this.getBezierOutline(a)))}return o}},{key:"getLineOutline",value:function(t){var e=t.startPoint,n=t.endPoint,r=(e.x+n.x)/2,o=(e.y+n.y)/2,i=Math.abs(e.x-n.x)+10;e=Math.abs(e.y-n.y)+10,n=t.getOutlineStyle();return Object(q.g)(Ku,qu({className:"lf-outline-edge",x:r,y:o,width:i,height:e},n))}},{key:"getPolylineOutline",value:function(t){var e=t.points,n=(e=wa(e),e=ta(e,8),e.x),r=e.y,o=e.width;e=e.height,t=t.getOutlineStyle();return Object(q.g)(Ku,qu({className:"lf-outline",x:n,y:r,width:o,height:e},t))}},{key:"getBezierOutline",value:function(t){var e=t.path,n=(e=ca(e),e=ta(e,8),e.x),r=e.y,o=e.width;e=e.height,t=t.getOutlineStyle();return Object(q.g)(Ku,qu({className:"lf-outline",x:n,y:r,width:o,height:e},t))}},{key:"render",value:function(){return Object(q.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),r}(q.a))||u;function oc(t){return(oc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ic(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ac(t){var e=t.x,n=t.y,r=t.r,o=t.className,i={cx:void 0===e?0:e,cy:void 0===n?0:n,r:void 0===r?4:r,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach((function(t){e=2;t=function(t){if(Array.isArray(t))return t}(t=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ic(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ic(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var e=t[0];t=t[1];"object"!==oc(t)&&(i[e]=t)})),i.className=o?"lf-basic-shape ".concat(o):"lf-basic-shape",Object(q.g)("circle",i)}function uc(t){return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sc(){return(sc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function lc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pc(t,e,n){e&&fc(t.prototype,e),n&&fc(t,n)}function dc(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hc(t,e)}function hc(t,e){return(hc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yc(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=vc(t);e=n?(e=vc(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===uc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gc(r)}}function gc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vc(t){return(vc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bc(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}dc(Ec,q.a),Oc=yc(Ec),pc(Ec,[{key:"render",value:function(){var t=this,e=this.props.position,n=e.x,r=(e=e.y,this.props.bezierModel.getEdgeStyle().adjustAnchor);return Object(q.g)(ac,sc({className:"lf-bezier-adjust-anchor",x:n,y:e},r,{onMouseDown:function(e){t.dragHandler.handleMouseDown(e)}}))}}]);var mc,Oc,_c=Ec,wc=Wy((dc(xc,q.a),mc=yc(xc),pc(xc,[{key:"getBezierAdjust",value:function(t,e){var n=t.path,r=t.id,o=(n=(n=ca(n),o=4,function(t){if(Array.isArray(t))return t}(n)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(n,o)||function(t,e){if(t){if("string"==typeof t)return cc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?cc(t,e):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),n[0]),i=n[1],a=n[2],u=(n=n[3],t.getEdgeStyle().adjustLine),c=[];return c.push(Object(q.g)(Lu,sc({x1:o.x,y1:o.y,x2:i.x,y2:i.y},u))),c.push(Object(q.g)(_c,{position:i,bezierModel:t,graphModel:e,key:"".concat(r,"_ePre"),type:"sNext"})),c.push(Object(q.g)(Lu,sc({x1:n.x,y1:n.y,x2:a.x,y2:a.y},u))),c.push(Object(q.g)(_c,{position:a,bezierModel:t,graphModel:e,key:"".concat(r,"_sNext"),type:"ePre"})),c}},{key:"selectedBezierEdge",value:function(){for(var t=this.props.graphModel,e=t.edges,n=[],r=0;r<e.length;r++){var o=e[r];o.isSelected&&o.modelType===Vn.BEZIER_EDGE&&o.draggable&&n.push(this.getBezierAdjust(o,t))}return n}},{key:"render",value:function(){return Object(q.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),Oe=xc))||Oe;function xc(){return lc(this,xc),mc.apply(this,arguments)}function Ec(){var t;return lc(this,Ec),bc(gc(t=Oc.call(this)),"dragHandler",void 0),bc(gc(t),"onDraging",(function(e){e=e.event;var n=t.props,r=n.graphModel,o=n.bezierModel;n=n.type,r=r.getPointByClient({x:e.clientX,y:e.clientY}).canvasOverlayPosition,e=r.x,r=r.y;o.updateAdjustAnchor({x:e,y:r},n)})),bc(gc(t),"onDragEnd",(function(){t.props.bezierModel.isDragging=!1})),t.dragHandler=new Ua({onDraging:t.onDraging,onDragEnd:t.onDragEnd}),t}function jc(t){return(jc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pc(t,e){return(Pc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kc(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Ac(t);e=n?(e=Ac(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===jc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function Ac(t){return(Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mc=Wy(_e=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pc(e,t);var n=kc(r);function r(){var t=this,e=r;if(t instanceof e)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return Sc(r.prototype,[{key:"render",value:function(){var t=this.props.graphModel.transformModel.getTransformStyle().transform,e=this.props.children;return Object(q.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(q.g)("g",{transform:t},e))}}]),r}(q.a))||_e;function Dc(t){return(Dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nc(){return(Nc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Tc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cc(t,e){return(Cc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rc(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Ic(t);e=n?(e=Ic(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===Dc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function Ic(t){return(Ic=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Lc=Wy(U=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Cc(e,t);var n=Rc(r);function r(){var t=this,e=r;if(t instanceof e)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return Tc(r.prototype,[{key:"getComponent",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas-overlay",r=(0,this.props.getView)(t.type);return Object(q.g)(r,{key:t.id,model:t,graphModel:e,overlay:n})}},{key:"render",value:function(){var t=this,e=this.props,n=e.graphModel,r=e.tool,o=e.options,i=e.dnd,a=(e=e.snaplineModel,{}),u=(o.width&&(a.width="".concat(n.width,"px")),o.height&&(a.height="".concat(n.height,"px")),n.fakerNode),c=n.editConfigModel.adjustEdge;return Object(q.g)("div",{className:"lf-graph",style:a},Object(q.g)(hu,{graphModel:n,dnd:i},Object(q.g)("g",{className:"lf-base"},Xe(n.sortElements,(function(e){return t.getComponent(e,n)}))),u?this.getComponent(u,n):""),Object(q.g)(Mc,{graphModel:n},Object(q.g)(rc,{graphModel:n}),c?Object(q.g)(wc,{graphModel:n}):"",o.isSilentMode||!1===o.snapline?"":Object(q.g)(Yu,{snaplineModel:e})),Object(q.g)(_u,{graphModel:n,tool:r}),o.background&&Object(q.g)(Pu,{background:o.background}),o.grid&&Object(q.g)(Cu,Nc({},o.grid,{graphModel:n})))}}]),r}(q.a))||U;function zc(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Bc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zc(Object(n),!0).forEach((function(e){Xc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Hc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xc(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}Hc(Gc.prototype,[{key:"clientToLocalPoint",value:function(t){var e=t.x,n=(t=t.y,ze(this.lf.options,["grid","size"]));e=this.lf.graphModel.getPointByClient({x:e,y:t}).canvasOverlayPosition,t=e.x,e=e.y;return{x:ao(t,n),y:ao(e,n)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]);var Fc=Gc;function Gc(t){var e=this;if(!(this instanceof Gc))throw new TypeError("Cannot call a class as a function");Xc(this,"nodeConfig",void 0),Xc(this,"lf",void 0),Xc(this,"fakerNode",void 0),Xc(this,"stopDrag",(function(){e.nodeConfig=null,window.document.removeEventListener("mouseup",e.stopDrag)})),Xc(this,"dragEnter",(function(t){e.nodeConfig&&!e.fakerNode&&(e.fakerNode=e.lf.createFakerNode(Bc(Bc({},e.nodeConfig),e.clientToLocalPoint({x:t.clientX,y:t.clientY}))))})),Xc(this,"onDragOver",(function(t){var n;return t.preventDefault(),e.fakerNode&&(n=(t=e.clientToLocalPoint({x:t.clientX,y:t.clientY})).x,t=t.y,e.fakerNode.moveTo(n,t),n=e.fakerNode.getData(),e.lf.setNodeSnapLine(n),e.lf.graphModel.eventCenter.emit(Kn.NODE_DND_DRAG,{data:n})),!1})),Xc(this,"onDragLeave",(function(){e.fakerNode&&(e.lf.removeNodeSnapLine(),e.lf.graphModel.removeFakerNode(),e.fakerNode=null)})),Xc(this,"onDrop",(function(t){var n;e.lf.graphModel&&t&&e.nodeConfig&&(n=e.lf.addNode(Bc(Bc({},e.nodeConfig),e.clientToLocalPoint({x:t.clientX,y:t.clientY}))),t.preventDefault(),t.stopPropagation(),e.nodeConfig=null,e.lf.removeNodeSnapLine(),e.lf.graphModel.removeFakerNode(),e.fakerNode=null,t=n.getData(),e.lf.graphModel.eventCenter.emit(Kn.NODE_DND_ADD,{data:t}))})),t=t.lf,this.lf=t}function Uc(t){var e=t.container,n=t.grid,r=t.width,o=t.height;if(!e)throw new Error(" container ");if("string"==typeof r||"string"==typeof o)throw new Error("widthheight");return n&&(t.grid=In({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),In({},Vc,t)}var Yc,Vc={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Wc(t){return(Wc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return $c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qc(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Zc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qc(Object(n),!0).forEach((function(e){os(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qc(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Jc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qc(){return(Qc="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=rs(t)););return t}(t,e);if(r)return(r=Object.getOwnPropertyDescriptor(r,e)).get?r.get.call(arguments.length<3?t:n):r.value}).apply(this,arguments)}function ts(t,e){return(ts=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function es(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=rs(t);e=n?(e=rs(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===Wc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ns(r)}}function ns(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rs(t){return(rs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function os(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function is(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Yc=is((we=function(){var t=r,e=vi;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ts(t,e);var n=es(r);function r(){var t=this,e=r;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");for(var o,i,a,u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return os(ns(t=n.call.apply(n,[this].concat(c))),"modelType",Vn.BEZIER_EDGE),e=ns(t),o="path",i=Yc,a=ns(t),i&&Object.defineProperty(e,o,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0}),t}return Jc(r.prototype,[{key:"initEdgeData",value:function(t){this.offset=100,Qc(rs(r.prototype),"initEdgeData",this).call(this,t)}},{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.bezier;return Zc(Zc({},Qc(rs(r.prototype),"getEdgeStyle",this).call(this)),Vr(t))}},{key:"getTextPosition",value:function(){var t,e;return this.pointsList&&0<this.pointsList.length?(e=t=0,this.pointsList.forEach((function(n){var r=n.x;n=n.y;t+=r,e+=n})),{x:t/this.pointsList.length,y:e/this.pointsList.length}):{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var t=Qc(rs(r.prototype),"getData",this).call(this),e=this.pointsList.map((function(t){return{x:t.x,y:t.y}}));return Zc(Zc({},t),{},{pointsList:e})}},{key:"getControls",value:function(){var t=this.startPoint,e=this.endPoint;return ua({start:t,end:e,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(t){t=Kc(t,4);var e=t[0],n=t[1],r=t[2];t=t[3];return"M ".concat(e.x," ").concat(e.y,"\n    C ").concat(n.x," ").concat(n.y,",\n    ").concat(r.x," ").concat(r.y,",\n    ").concat(t.x," ").concat(t.y)}},{key:"initPoints",value:function(){0<this.pointsList.length?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var t=this.getControls(),e=t.sNext;t=t.ePre;this.updatePath(e,t)}},{key:"updatePath",value:function(t,e){var n,r={x:this.startPoint.x,y:this.startPoint.y},o={x:this.endPoint.x,y:this.endPoint.y};t&&e||(t=(n=this.getControls()).sNext,e=n.ePre),this.pointsList=[r,t,e,o],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(t){this.startPoint=t,this.updatePoints()}},{key:"updateEndPoint",value:function(t){this.endPoint=t,this.updatePoints()}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e;var n=Kc(this.pointsList,3),r=n[1];n=n[2];r.x+=t,r.y+=e,this.updatePath(r,n)}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e;var n=Kc(this.pointsList,3),r=n[1];n=n[2];n.x+=t,n.y+=e,this.updatePath(r,n)}},{key:"updateAdjustAnchor",value:function(t,e){"sNext"===e?this.pointsList[1]=t:"ePre"===e&&(this.pointsList[2]=t),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var t=this.pointsList;return t[t.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,n=t.endPoint,r=t.sourceNode;t=t.targetNode,r=ua({start:e,end:n,sourceNode:r,targetNode:t,offset:this.offset}),t=r.sNext,r=r.ePre;this.pointsList=[e,t,r,n],this.initPoints()}}]),r}()).prototype,"path",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),is(we.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(we.prototype,"initPoints"),we.prototype),is(we.prototype,"updatePoints",[o.k],Object.getOwnPropertyDescriptor(we.prototype,"updatePoints"),we.prototype),is(we.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(we.prototype,"updateStartPoint"),we.prototype),is(we.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(we.prototype,"updateEndPoint"),we.prototype),is(we.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(we.prototype,"moveStartPoint"),we.prototype),is(we.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(we.prototype,"moveEndPoint"),we.prototype),is(we.prototype,"updateAdjustAnchor",[o.k],Object.getOwnPropertyDescriptor(we.prototype,"updateAdjustAnchor"),we.prototype),is(we.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(we.prototype,"getAdjustStart"),we.prototype),is(we.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(we.prototype,"getAdjustEnd"),we.prototype),is(we.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(we.prototype,"updateAfterAdjustStartAndEnd"),we.prototype);var as,us,cs,ss,ls,fs,ps,ds,hs,ys,gs,vs,bs,ms,Os,_s,ws,xs=we;function Es(t){return(Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function js(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ss(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Ps(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ss(Object(n),!0).forEach((function(e){Ms(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ss(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ks(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function As(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ms(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ds(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}as=Ds((As(Cs.prototype,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){var e;t.properties||(t.properties={}),t.id||((e=(e=this.graphModel.idGenerator)&&e(t.type))&&(t.id=e),(e=this.createId())&&(t.id=e)),this.formatText(t),In(this,Hn(t,["id","type","x","y","text","properties"])),this.graphModel.overlapMode===qn.INCREASE&&(this.zIndex=t.zIndex||++ci)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&"string"==typeof t.text?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&void 0===t.text.editable&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,e=t.x,n=t.y,r=(t=t.value,this.properties);Object(o.x)(r)&&(r=Object(o.I)(r)),r={id:this.id,type:this.type,x:this.x,y:this.y,properties:r};return this.graphModel.overlapMode===qn.INCREASE&&(r.zIndex=this.zIndex),t&&(r.text={x:e,y:n,value:t}),r}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(o.I)(this.properties)}},{key:"getNodeStyle",value:function(){return Ps({},this.graphModel.theme.baseNode)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return Vr(t)}},{key:"getAnchorStyle",value:function(t){var e=this.graphModel.theme.anchor;return Vr(e)}},{key:"getAnchorLineStyle",value:function(){var t=this.graphModel.theme.anchorLine;return Vr(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return Vr(t)}},{key:"isAllowConnectedAsSource",value:function(t,e,n){for(var r,o=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules(),i=this.hasSetSourceRules=!0,a=0;a<o.length;a++){var u=o[a];if(!u.validate.call(this,this,t,e,n)){i=!1,r=u.message;break}}return{isAllPass:i,msg:r}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,e,n){for(var r,o=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules(),i=this.hasSetTargetRules=!0,a=0;a<o.length;a++){var u=o[a];if(!u.validate.call(this,t,this,e,n)){i=!1,r=u.message;break}}return{isAllPass:i,msg:r}}},{key:"isAllowMoveNode",value:function(t,e){var n,r=!0,o=!0,i=function(t,e){var n,r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t){if(t){if("string"==typeof t)return js(t,void 0);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?js(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length)return r&&(t=r),n=0,{s:e=function(){},n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:e};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){a=!0,o=t},f:function(){try{i||null==r.return||r.return()}finally{if(a)throw o}}}}(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(i.s();!(n=i.n()).done;){var a=(0,n.value)(this,t,e);if(!a)return!1;if("object"===Es(a)){var u=a;if(!1===u.x&&!1===u.y)return!1;r=r&&u.x,o=o&&u.y}}}catch(t){i.e(t)}finally{i.f()}return{x:r,y:o}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,e=this.id,n=this.x,r=this.y;return t&&0<t.length?t.map((function(t,o){return t.length?{id:"".concat(e,"_").concat(o),x:n+t[0],y:r+t[1]}:Ps(Ps({},t),{},{x:n+t.x,y:r+t.y,id:t.id||"".concat(e,"_").concat(o)})})):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(null!=t)for(var e=0;e<this.anchors.length;e++){var n=this.anchors[e];if(n.id===t)return n}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,e){var n,r=!1,o=!1;return o=2<arguments.length&&void 0!==arguments[2]&&arguments[2]?r=!0:"boolean"==typeof(n=this.isAllowMoveNode(t,e))?r=n:(r=n.x,n.y),r&&(n=this.x+t,this.x=n,this.text&&this.moveText(t,0)),o&&(n=this.y+e,this.y=n,this.text&&this.moveText(0,e)),r||o}},{key:"moveTo",value:function(t,e){var n=t-this.x,r=e-this.y;return!(!(2<arguments.length&&void 0!==arguments[2]&&arguments[2])&&!this.isAllowMoveNode(n,r)||(this.text&&this.text&&this.moveText(n,r),this.x=t,this.y=e,0))}},{key:"moveText",value:function(t,e){var n=this.text,r=n.x,o=n.y,i=n.value,a=n.draggable;n=n.editable;this.text={value:i,editable:n,draggable:a,x:r+t,y:o+e}}},{key:"updateText",value:function(t){this.text=Ps(Ps({},this.text),{},{value:t})}},{key:"setSelected",value:function(){this.isSelected=!(0<arguments.length&&void 0!==arguments[0])||arguments[0]}},{key:"setHovered",value:function(){this.isHovered=!(0<arguments.length&&void 0!==arguments[0])||arguments[0]}},{key:"setHitable",value:function(){this.isHitable=!(0<arguments.length&&void 0!==arguments[0])||arguments[0]}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"setProperty",value:function(t,e){this.properties=Ps(Ps({},this.properties),{},Ms({},t,zo(e))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Ps(Ps({},this.properties),zo(t)),this.setAttributes()}},{key:"setZIndex",value:function(){this.zIndex=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1}},{key:"updateAttributes",value:function(t){In(this,t)}}]),ke=Cs).prototype,"type",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),us=Ds(ke.prototype,"x",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cs=Ds(ke.prototype,"y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ss=Ds(ke.prototype,"text",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),ls=Ds(ke.prototype,"properties",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),fs=Ds(ke.prototype,"_width",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),ps=Ds(ke.prototype,"_height",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),ds=Ds(ke.prototype,"anchorsOffset",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),hs=Ds(ke.prototype,"isSelected",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ys=Ds(ke.prototype,"isHovered",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gs=Ds(ke.prototype,"isDragging",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vs=Ds(ke.prototype,"isHitable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),bs=Ds(ke.prototype,"draggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ms=Ds(ke.prototype,"visible",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Os=Ds(ke.prototype,"zIndex",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_s=Ds(ke.prototype,"state",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ws=Ds(ke.prototype,"autoToFront",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ds(ke.prototype,"incoming",[o.m],Object.getOwnPropertyDescriptor(ke.prototype,"incoming"),ke.prototype),Ds(ke.prototype,"outgoing",[o.m],Object.getOwnPropertyDescriptor(ke.prototype,"outgoing"),ke.prototype),Ds(ke.prototype,"addNodeMoveRules",[o.k],Object.getOwnPropertyDescriptor(ke.prototype,"addNodeMoveRules"),ke.prototype),Ds(ke.prototype,"move",[o.k],Object.getOwnPropertyDescriptor(ke.prototype,"move"),ke.prototype),Ds(ke.prototype,"moveTo",[o.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveTo"),ke.prototype),Ds(ke.prototype,"moveText",[o.k],Object.getOwnPropertyDescriptor(ke.prototype,"moveText"),ke.prototype),Ds(ke.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateText"),ke.prototype),Ds(ke.prototype,"setSelected",[o.k],Object.getOwnPropertyDescriptor(ke.prototype,"setSelected"),ke.prototype),Ds(ke.prototype,"setHovered",[o.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHovered"),ke.prototype),Ds(ke.prototype,"setHitable",[o.k],Object.getOwnPropertyDescriptor(ke.prototype,"setHitable"),ke.prototype),Ds(ke.prototype,"setElementState",[o.k],Object.getOwnPropertyDescriptor(ke.prototype,"setElementState"),ke.prototype),Ds(ke.prototype,"setProperty",[o.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperty"),ke.prototype),Ds(ke.prototype,"setProperties",[o.k],Object.getOwnPropertyDescriptor(ke.prototype,"setProperties"),ke.prototype),Ds(ke.prototype,"setZIndex",[o.k],Object.getOwnPropertyDescriptor(ke.prototype,"setZIndex"),ke.prototype),Ds(ke.prototype,"updateAttributes",[o.k],Object.getOwnPropertyDescriptor(ke.prototype,"updateAttributes"),ke.prototype);var Ns,Ts=ke;function Cs(t,e){if(!(this instanceof Cs))throw new TypeError("Cannot call a class as a function");Ms(this,"id",Oo()),ks(this,"type",as,this),ks(this,"x",us,this),ks(this,"y",cs,this),ks(this,"text",ss,this),ks(this,"properties",ls,this),ks(this,"_width",fs,this),ks(this,"_height",ps,this),ks(this,"anchorsOffset",ds,this),ks(this,"isSelected",hs,this),ks(this,"isHovered",ys,this),ks(this,"isDragging",gs,this),ks(this,"isHitable",vs,this),ks(this,"draggable",bs,this),ks(this,"visible",ms,this),Ms(this,"graphModel",void 0),ks(this,"zIndex",Os,this),ks(this,"state",_s,this),ks(this,"autoToFront",ws,this),Ms(this,"BaseType",Wn.NODE),Ms(this,"modelType",Vn.NODE),Ms(this,"additionStateData",void 0),Ms(this,"targetRules",[]),Ms(this,"sourceRules",[]),Ms(this,"moveRules",[]),Ms(this,"hasSetTargetRules",!1),Ms(this,"hasSetSourceRules",!1),this.graphModel=e,this.initNodeData(t),this.setAttributes()}function Rs(t){return(Rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Is(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Ls(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Is(Object(n),!0).forEach((function(e){Us(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Is(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function zs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bs(){return(Bs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Gs(t)););return t}(t,e);if(r)return(r=Object.getOwnPropertyDescriptor(r,e)).get?r.get.call(arguments.length<3?t:n):r.value}).apply(this,arguments)}function Hs(t,e){return(Hs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xs(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Gs(t);e=n?(e=Gs(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===Rs(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fs(r)}}function Fs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gs(t){return(Gs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Us(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function Ys(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Ns=Ys((bt=function(){var t=r,e=Ts;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hs(t,e);var n=Xs(r);function r(){var t=this,e=r;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");for(var o,i,a,u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return Us(Fs(t=n.call.apply(n,[this].concat(c))),"modelType",Vn.CIRCLE_NODE),e=Fs(t),o="r",i=Ns,a=Fs(t),i&&Object.defineProperty(e,o,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0}),t}return zs(r.prototype,[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var t=Bs(Gs(r.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.circle;return Ls(Ls({},t),Vr(e))}},{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.r;return[{x:t,y:e-n,id:"".concat(this.id,"_0")},{x:t+n,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+n,id:"".concat(this.id,"_2")},{x:t-n,y:e,id:"".concat(this.id,"_3")}]}}]),r}()).prototype,"r",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Ys(bt.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(bt.prototype,"width"),bt.prototype),Ys(bt.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(bt.prototype,"height"),bt.prototype);var Vs,Ws,Ks=bt;function $s(t){return($s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qs(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Zs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zs(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Js(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Qs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Js(Object(n),!0).forEach((function(e){ul(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Js(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function tl(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function el(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nl(){return(nl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=al(t)););return t}(t,e);if(r)return(r=Object.getOwnPropertyDescriptor(r,e)).get?r.get.call(arguments.length<3?t:n):r.value}).apply(this,arguments)}function rl(t,e){return(rl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ol(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=al(t);e=n?(e=al(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===$s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return il(r)}}function il(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function al(t){return(al=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ul(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function cl(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}n(123),Vs=cl((u=function(){var t=r,e=Ts;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rl(t,e);var n=ol(r);function r(){var t=this,e=r;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return ul(il(t=n.call.apply(n,[this].concat(i))),"modelType",Vn.DIAMOND_NODE),tl(il(t),"rx",Vs,il(t)),tl(il(t),"ry",Ws,il(t)),t}return el(r.prototype,[{key:"getNodeStyle",value:function(){var t=nl(al(r.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.diamond;return Qs(Qs({},t),Vr(e))}},{key:"points",get:function(){var t=this.x,e=this.y,n=this.rx,r=this.ry;return[[t,e-r],[t+n,e],[t,e+r],[t-n,e]]}},{key:"pointsPosition",get:function(){return this.points.map((function(t){return{x:t[0],y:t[1]}}))}},{key:"width",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){n=qs(n,1)[0],n<t&&(t=n),e<n&&(e=n)})),e-t}},{key:"height",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){n=qs(n,2)[1],n<t&&(t=n),e<n&&(e=n)})),e-t}},{key:"getDefaultAnchor",value:function(){var t=this;return this.points.map((function(e,n){return e=qs(e,2),{x:e[0],y:e[1],id:"".concat(t.id,"_").concat(n)}}))}}]),r}()).prototype,"rx",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Ws=cl(u.prototype,"ry",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),cl(u.prototype,"points",[o.m],Object.getOwnPropertyDescriptor(u.prototype,"points"),u.prototype),cl(u.prototype,"pointsPosition",[o.m],Object.getOwnPropertyDescriptor(u.prototype,"pointsPosition"),u.prototype),cl(u.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(u.prototype,"width"),u.prototype),cl(u.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(u.prototype,"height"),u.prototype);var sl,ll,fl=u;function pl(t){return(pl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dl(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function hl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dl(Object(n),!0).forEach((function(e){wl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yl(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function gl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vl(){return(vl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_l(t)););return t}(t,e);if(r)return(r=Object.getOwnPropertyDescriptor(r,e)).get?r.get.call(arguments.length<3?t:n):r.value}).apply(this,arguments)}function bl(t,e){return(bl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ml(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=_l(t);e=n?(e=_l(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===pl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ol(r)}}function Ol(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _l(t){return(_l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wl(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function xl(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}sl=xl((Oe=function(){var t=r,e=Ts;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bl(t,e);var n=ml(r);function r(){var t=this,e=r;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return wl(Ol(t=n.call.apply(n,[this].concat(i))),"modelType",Vn.ELLIPSE_NODE),yl(Ol(t),"rx",sl,Ol(t)),yl(Ol(t),"ry",ll,Ol(t)),t}return gl(r.prototype,[{key:"getNodeStyle",value:function(){var t=vl(_l(r.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.ellipse;return hl(hl({},t),Vr(e))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.rx,r=this.ry;return[{x:t,y:e-r,id:"".concat(this.id,"_0")},{x:t+n,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+r,id:"".concat(this.id,"_2")},{x:t-n,y:e,id:"".concat(this.id,"_3")}]}}]),r}()).prototype,"rx",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),ll=xl(Oe.prototype,"ry",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),xl(Oe.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(Oe.prototype,"width"),Oe.prototype),xl(Oe.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(Oe.prototype,"height"),Oe.prototype);var El,jl=Oe;function Sl(t){return(Sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return kl(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kl(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kl(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Al(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Ml(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Al(Object(n),!0).forEach((function(e){Ll(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Dl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nl(){return(Nl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Il(t)););return t}(t,e);if(r)return(r=Object.getOwnPropertyDescriptor(r,e)).get?r.get.call(arguments.length<3?t:n):r.value}).apply(this,arguments)}function Tl(t,e){return(Tl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Cl(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Il(t);e=n?(e=Il(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===Sl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Rl(r)}}function Rl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Il(t){return(Il=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ll(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function zl(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}El=zl((_e=function(){var t=r,e=Ts;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Tl(t,e);var n=Cl(r);function r(){var t=this,e=r;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");for(var o,i,a,u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return Ll(Rl(t=n.call.apply(n,[this].concat(c))),"modelType",Vn.POLYGON_NODE),e=Rl(t),o="points",i=El,a=Rl(t),i&&Object.defineProperty(e,o,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0}),t}return Dl(r.prototype,[{key:"getNodeStyle",value:function(){var t=Nl(Il(r.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.polygon;return Ml(Ml({},t),Vr(e))}},{key:"pointsPosition",get:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return this.points.map((function(o){return{x:o[0]+t-n/2,y:o[1]+e-r/2}}))}},{key:"width",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){n=Pl(n,1)[0],n<t&&(t=n),e<n&&(e=n)})),e-t}},{key:"height",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(n){n=Pl(n,2)[1],n<t&&(t=n),e<n&&(e=n)})),e-t}},{key:"getDefaultAnchor",value:function(){var t=this,e=this.x,n=this.y,r=this.width,o=this.height;return this.points.map((function(i,a){i=Pl(i,2);var u=i[0];i=i[1];return{x:e+u-r/2,y:n+i-o/2,id:"".concat(t.id,"_").concat(a)}}))}}]),r}()).prototype,"points",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),zl(_e.prototype,"pointsPosition",[o.m],Object.getOwnPropertyDescriptor(_e.prototype,"pointsPosition"),_e.prototype),zl(_e.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(_e.prototype,"width"),_e.prototype),zl(_e.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(_e.prototype,"height"),_e.prototype);var Bl,Hl=_e;function Xl(t){return(Xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fl(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Gl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fl(Object(n),!0).forEach((function(e){ql(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ul(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yl(){return(Yl="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=$l(t)););return t}(t,e);if(r)return(r=Object.getOwnPropertyDescriptor(r,e)).get?r.get.call(arguments.length<3?t:n):r.value}).apply(this,arguments)}function Vl(t,e){return(Vl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wl(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=$l(t);e=n?(e=$l(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===Xl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Kl(r)}}function Kl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $l(t){return($l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ql(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}Zl=(U=function(){var t=r,e=Ts;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Vl(t,e);var n=Wl(r);function r(){var t=this,e=r;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");for(var o,i,a,u=arguments.length,c=new Array(u),s=0;s<u;s++)c[s]=arguments[s];return ql(Kl(t=n.call.apply(n,[this].concat(c))),"modelType",Vn.RECT_NODE),e=Kl(t),o="radius",i=Bl,a=Kl(t),i&&Object.defineProperty(e,o,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(a):void 0}),t}return Ul(r.prototype,[{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return[{x:t,y:e-r/2,id:"".concat(this.id,"_0")},{x:t+n/2,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+r/2,id:"".concat(this.id,"_2")},{x:t-n/2,y:e,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var t=Yl($l(r.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.rect;return Gl(Gl({},t),Vr(e))}}]),r}()).prototype,we=[o.C],Jl={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}},Ql={},Object.keys(Jl).forEach((function(t){Ql[t]=Jl[t]})),Ql.enumerable=!!Ql.enumerable,Ql.configurable=!!Ql.configurable,("value"in Ql||Ql.initializer)&&(Ql.writable=!0),void 0===(Ql=we.slice().reverse().reduce((function(t,e){return e(Zl,"radius",t)||t}),Ql)).initializer&&(Object.defineProperty(Zl,"radius",Ql),Ql=null),Bl=Ql;var Zl,Jl,Ql,tf=U;function ef(t){return(ef="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nf(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function rf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nf(Object(n),!0).forEach((function(e){ff(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function of(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function af(){return(af="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=lf(t)););return t}(t,e);if(r)return(r=Object.getOwnPropertyDescriptor(r,e)).get?r.get.call(arguments.length<3?t:n):r.value}).apply(this,arguments)}function uf(t,e){return(uf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cf(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=lf(t);e=n?(e=lf(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===ef(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return sf(r)}}function sf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lf(t){return(lf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ff(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function pf(t,e,n,r,o){var i={};Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null)}pf((ke=function(){var t=r,e=Ts;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&uf(t,e);var n=cf(r);function r(){var t=this,e=r;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return ff(sf(t=n.call.apply(n,[this].concat(i))),"modelType",Vn.TEXT_NODE),t}return of(r.prototype,[{key:"getTextStyle",value:function(){var t=af(lf(r.prototype),"getTextStyle",this).call(this),e=this.graphModel.theme.text;return rf(rf({},t),Vr(e))}},{key:"width",get:function(){var t=String(this.text.value).split(/[\r\n]/g),e=this.getTextStyle().fontSize;return Io({rows:t,fontSize:e,rowsLength:t.length}).width}},{key:"height",get:function(){var t=String(this.text.value).split(/[\r\n]/g),e=this.getTextStyle().fontSize;return Io({rows:t,fontSize:e,rowsLength:t.length}).height}}]),r}()).prototype,"width",[o.m],Object.getOwnPropertyDescriptor(ke.prototype,"width"),ke.prototype),pf(ke.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(ke.prototype,"height"),ke.prototype);var df=ke;function hf(t){return(hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gf(t,e){return(gf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vf(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=mf(t);e=n?(e=mf(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===hf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return bf(r)}}function bf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mf(t){return(mf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Of,_f,wf,xf=function(){var t=r,e=Ts;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gf(t,e);var n=vf(r);function r(){var t=this,e=r;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");for(var o,i,a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];return e=bf(t=n.call.apply(n,[this].concat(u))),o="modelType",i=Vn.HTML_NODE,o in e?Object.defineProperty(e,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[o]=i,t}return yf(r.prototype,[{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,n=this.width,r=this.height;return[{x:t,y:e-r/2,id:"".concat(this.id,"_0")},{x:t+n/2,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+r/2,id:"".concat(this.id,"_2")},{x:t-n/2,y:e,id:"".concat(this.id,"_3")}]}}]),r}();function Ef(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function jf(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Sf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pf(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function kf(t,e,n,r,o){var i={};return Object.keys(r).forEach((function(t){i[t]=r[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=n.slice().reverse().reduce((function(n,r){return r(t,e,n)||n}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}Of=kf((Sf(Mf.prototype,[{key:"getStyle",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ef(Object(n),!0).forEach((function(e){Pf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ef(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,e){for(var n=t.x,r=t.y,o=!1,i=!1,a=0;a<e.length;a++){var u=e[a];if(u.id!==t.id&&(n===u.x&&(o=!0),r===u.y&&(i=!0),o&&i))break}return{isShowVertical:o,isShowHorizontal:i,position:{x:n,y:r}}}},{key:"getHorizontalSnapline",value:function(t,e){var n,r,o,i=!1,a=t.id;a&&((r=this.graphModel.fakerNode)&&r.id===a||(r=this.graphModel.getNodeModelById(a)),o=oi(r));for(var u=0;u<e.length;u++){var c=e[u];if(c.id!==t.id){if(c=oi(c),c.minY===o.minY||c.maxY===o.minY){i=!0,n=o.minY;break}if(c.minY===o.maxY||c.maxY===o.maxY){i=!0,n=o.maxY;break}}}return In({isShowHorizontal:i,position:{y:n}})}},{key:"getVerticalSnapline",value:function(t,e){var n,r,o,i=!1,a=t.id;a&&((r=this.graphModel.fakerNode)&&r.id===a||(r=this.graphModel.getNodeModelById(a)),o=oi(r));for(var u=0;u<e.length;u++){var c=e[u];if(c.id!==t.id){if(c=oi(c),c.minX===o.minX||c.maxX===o.minX){i=!0,n=o.minX;break}if(c.minX===o.maxX||c.maxX===o.maxX){i=!0,n=o.maxX;break}}}return In({isShowVertical:i,position:{x:n}})}},{key:"getSnapLinePosition",value:function(t,e){var n=this.getCenterSnapLine(t,e),r=n.isShowHorizontal,o=n.isShowVertical;return r||(r=this.getHorizontalSnapline(t,e)).isShowHorizontal&&(n.isShowHorizontal=r.isShowHorizontal,n.position.y=r.position.y),o||(r=this.getVerticalSnapline(t,e)).isShowVertical&&(n.isShowVertical=r.isShowVertical,n.position.x=r.position.x),n}},{key:"setSnaplineInfo",value:function(t){var e=t.isShowHorizontal,n=t.isShowVertical;t=t.position;this.position=t,this.isShowHorizontal=e,this.isShowVertical=n}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var e=this.graphModel.nodes;t=this.getSnapLinePosition(t,e);this.setSnaplineInfo(t)}}]),bt=Mf).prototype,"isShowHorizontal",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_f=kf(bt.prototype,"isShowVertical",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wf=kf(bt.prototype,"position",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kf(bt.prototype,"clearSnapline",[o.k],Object.getOwnPropertyDescriptor(bt.prototype,"clearSnapline"),bt.prototype),kf(bt.prototype,"setNodeSnapLine",[o.k],Object.getOwnPropertyDescriptor(bt.prototype,"setNodeSnapLine"),bt.prototype);var Af=bt;function Mf(t){if(!(this instanceof Mf))throw new TypeError("Cannot call a class as a function");Pf(this,"graphModel",void 0),jf(this,"isShowHorizontal",Of,this),jf(this,"isShowVertical",_f,this),jf(this,"position",wf,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=t}function Df(t){return(Df="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nf(){return(Nf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Tf(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Cf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tf(Object(n),!0).forEach((function(e){Xf(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Tf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Rf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function If(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lf(t,e){return(Lf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zf(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Hf(t);e=n?(e=Hf(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===Df(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Bf(r)}}function Bf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hf(t){return(Hf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Xf(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var Ff=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Lf(e,t);var n=zf(r);function r(){var t;if(this instanceof r)return Xf(Bf(t=n.call(this)),"preTargetNode",void 0),Xf(Bf(t),"sourceRuleResults",void 0),Xf(Bf(t),"targetRuleResults",void 0),Xf(Bf(t),"dragHandler",void 0),Xf(Bf(t),"t",void 0),Xf(Bf(t),"onDragStart",(function(e){e=e.event;var n=t.props,r=n.anchorData,o=n.nodeModel,i=(n=n.graphModel,n.overlapMode);n.selectNodeById(o.id),i!==qn.INCREASE&&o.autoToFront&&n.toFront(o.id),n.eventCenter.emit(Kn.ANCHOR_DRAGSTART,{data:r,e:e,nodeModel:o}),t.setState({startX:r.x,startY:r.y,endX:r.x,endY:r.y})})),Xf(Bf(t),"onDraging",(function(e){e=e.event;var n=t.props,r=n.graphModel,o=n.nodeModel,i=(n=n.anchorData,r.transformModel),a=r.eventCenter,u=r.width,c=r.height,s=r.editConfigModel,l=e.clientX,f=e.clientY,p=(r=r.getPointByClient({x:l,y:f}),l=r.domOverlayPosition,f=l.x,l=l.y,r=r.canvasOverlayPosition,r.x),d=(r=r.y,t.t&&clearInterval(t.t),[]);f<10?d=[10,0]:u<f+10?d=[-10,0]:l<10?d=[0,10]:c<l+10&&(d=[0,-10]),t.setState({endX:p,endY:r,draging:!0}),t.moveAnchorEnd(p,r),0<d.length&&!s.stopMoveGraph&&(t.t=setInterval((function(){n=2;var e=function(t){if(Array.isArray(t))return t}(e=d)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return Rf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rf(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=e[0],r=(e=e[1],i.translate(n,e),t.state),o=r.endX;r=r.endY;t.setState({endX:o-n,endY:r-e}),t.moveAnchorEnd(o-n,r-e)}),50)),a.emit(Kn.ANCHOR_DRAG,{data:n,e:e,nodeModel:o})})),Xf(Bf(t),"onDragEnd",(function(e){t.t&&clearInterval(t.t),t.checkEnd(),t.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),t.sourceRuleResults.clear(),t.targetRuleResults.clear();var n=t.props,r=n.graphModel,o=n.nodeModel;n=n.anchorData;r.eventCenter.emit(Kn.ANCHOR_DROP,{data:n,e:e,nodeModel:o})})),Xf(Bf(t),"checkEnd",(function(){var e,n,r,o=t.props,i=o.graphModel,a=o.nodeModel,u=(o=o.anchorData,o.x),c=o.y,s=(o=o.id,i.edgeType),l=t.state,f=l.endX,p=l.endY;l=l.draging,f=So({x:f,y:p},i);t.preTargetNode&&t.preTargetNode.state!==Yn.DEFAULT&&t.preTargetNode.setElementState(Yn.DEFAULT),l&&f&&f.node&&(p=f.node,l=f.anchor.id,l="".concat(a.id,"_").concat(p.id,"_").concat(l,"_").concat(o),r=(e=t.sourceRuleResults.get(l)||{}).isAllPass,e=e.msg,n=(l=t.targetRuleResults.get(l)||{}).isAllPass,l=l.msg,r&&n?(p.setElementState(Yn.DEFAULT),i.addEdge({type:s,sourceNodeId:a.id,sourceAnchorId:o,startPoint:{x:u,y:c},targetNodeId:f.node.id,targetAnchorId:f.anchor.id,endPoint:{x:f.anchor.x,y:f.anchor.y}})):(r=p.getData(),i.eventCenter.emit(Kn.CONNECTION_NOT_ALLOWED,{data:r,msg:l||e})))})),t.sourceRuleResults=new Map,t.targetRuleResults=new Map,t.state={startX:0,startY:0,endX:0,endY:0,draging:!1},t.dragHandler=new Ua({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd}),t;throw new TypeError("Cannot call a class as a function")}return If(r.prototype,[{key:"getAnchorShape",value:function(){var t=this.props,e=t.anchorData,n=t.style;t=t.node.getAnchorShape(e);if(t)return t;t=e.x,e=e.y;var r=Cf(Cf({},n),n.hover);return Object(q.g)("g",null,Object(q.g)(ac,Nf({className:"lf-node-anchor-hover"},r,{x:t,y:e})),Object(q.g)(ac,Nf({className:"lf-node-anchor"},n,{x:t,y:e})))}},{key:"moveAnchorEnd",value:function(t,e){var n,r=this.props,o=r.graphModel,i=r.nodeModel;r=r.anchorData,t=So({x:t,y:e},o);t?(e=t.node,o=t.anchor.id,this.preTargetNode&&this.preTargetNode!==t.node&&this.preTargetNode.setElementState(Yn.DEFAULT),r.id!==o&&(this.preTargetNode=e,o="".concat(i.id,"_").concat(e.id,"_").concat(o,"_").concat(r.id),this.targetRuleResults.has(o)||(t=t.anchor,n=i.isAllowConnectedAsSource(e,r,t),i=e.isAllowConnectedAsTarget(i,r,t),this.sourceRuleResults.set(o,Lo(n)),this.targetRuleResults.set(o,Lo(i))),r=this.sourceRuleResults.get(o).isAllPass,t=this.targetRuleResults.get(o).isAllPass,r&&t?e.setElementState(Yn.ALLOW_CONNECT):e.setElementState(Yn.NOT_ALLOW_CONNECT))):this.preTargetNode&&this.preTargetNode.state!==Yn.DEFAULT&&this.preTargetNode.setElementState(Yn.DEFAULT)}},{key:"isShowLine",value:function(){var t=this.state,e=t.startX,n=t.startY,r=t.endX;t=t.endY;return 10<Po(e,n,r,t)}},{key:"render",value:function(){var t=this,e=this.state,n=e.startX,r=e.startY,o=e.endX,i=(e=e.endY,this.props),a=i.anchorData.edgeAddable;i=i.edgeStyle;return Object(q.g)("g",{className:"lf-anchor"},Object(q.g)("g",{onMouseDown:function(e){!1!==a&&t.dragHandler.handleMouseDown(e)}},this.getAnchorShape()),this.isShowLine()&&Object(q.g)(Lu,Nf({x1:n,y1:r,x2:o,y2:e},i,{"pointer-events":"none"})))}}]),r}(q.a);function Gf(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Uf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gf(Object(n),!0).forEach((function(e){var r,o;r=t,o=n[e=e],e in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gf(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Yf(t){return(Yf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wf(t){var e,n,r,o,i,a,u,c,s=t.x,l=void 0===s?0:s,f=(s=t.y,void 0===s?0:s),p=(s=t.value,t.fontSize),d=t.fill,h=t.overflowMode,y=(h=void 0===h?"default":h,t.textWidth),g=(y=void 0===y?"":y,t.model),v={textAnchor:"middle","dominant-baseline":"middle",x:l,y:f,fill:void 0===d?"currentColor":d};if(Object.entries(t).forEach((function(t){e=2;t=function(t){if(Array.isArray(t))return t}(t=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Vf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vf(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var e=t[0];t=t[1];"object"!==Yf(t)&&(v[e]=t)})),s){d=String(s).split(/[\r\n]/g);var b,m=d.length;if("default"!==h){h=g.BaseType,g=g.modelType;if(h===Wn.NODE&&g!==Vn.TEXT_NODE||h===Wn.EDGE&&y)return h=(g=t).value,y=g.fontSize,t=g.model,e=void 0===(e=g.fontFamily)?"":e,n=g.lineHeight,r=void 0===(r=g.wrapPadding)?"0, 0":r,o=g.overflowMode,i=g.x,a=g.y,u=t.width,c=t.textHeight,u=g.textWidth||u,h=String(h).split(/[\r\n]/g),b=h.length,y=Ro({rows:h,style:{fontSize:"".concat(y,"px"),width:"".concat(u,"px"),fontFamily:e,lineHeight:n,padding:r},rowsLength:b,className:"lf-get-text-height"}),e=t.height>y?t.height:y,c&&(e=c),n="ellipsis"===o,Object(q.g)("g",null,Object(q.g)("foreignObject",{width:u,height:e,x:i-u/2,y:a-e/2},Object(q.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:e,width:u,padding:r}},Object(q.g)("div",{className:n?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:Uf({},g)},h.map((function(t){return Object(q.g)("div",{className:"lf-node-text--auto-wrap-inner"},t)}))))))}return 1<m?(b=d.map((function(t,e){return e=(e-(m-1)/2)*(p+2),Object(q.g)("tspan",{className:"lf-text-tspan",x:l,y:f+e},t)})),Object(q.g)("text",v,b)):Object(q.g)("text",v,s)}}function Kf(t){return(Kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $f(){return($f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function qf(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Jf(t,e){return(Jf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qf(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=ep(t);e=n?(e=ep(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===Kf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return tp(r)}}function tp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ep(t){return(ep=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function np(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function rp(t){var e=ap.get(t);e&&(window.cancelAnimationFrame(e),ap.delete(t))}n(60);var op=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jf(e,t);var n=Qf(r);function r(t){var e;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");np(tp(e=n.call(this)),"dragHandler",void 0),np(tp(e),"sumDeltaX",0),np(tp(e),"sumDeltaY",0),np(tp(e),"stepDrag",void 0),np(tp(e),"onDraging",(function(t){var n=t.deltaX,r=(t=t.deltaY,e.props),o=r.model;r=r.graphModel.transformModel.fixDeltaXY(n,t),n=2,t=function(t){if(Array.isArray(t))return t}(r)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(r,n)||function(t,e){if(t){if("string"==typeof t)return qf(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qf(t,e):void 0}}(r,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),r=t[0],n=t[1];o.moveText(r,n)})),np(tp(e),"dblClickHandler",(function(){e.props.editable&&e.props.model.setElementState(Yn.TEXT_EDIT)})),np(tp(e),"mouseDownHandle",(function(t){var n=e.props,r=n.draggable;n=n.graphModel.editConfigModel.nodeTextDraggable;(r||n)&&e.stepDrag.handleMouseDown(t)}));var o=t.model;t=t.draggable;return e.stepDrag=new Ua({onDraging:e.onDraging,step:1,model:o,isStopPropagation:t}),e}return Zf(r.prototype,[{key:"getShape",value:function(){var t=this.props,e=t.model,n=(t=t.graphModel,e.text),r=(t=t.editConfigModel,n.value),o=n.x,i=n.y,a=n.editable;n=n.draggable,o={x:o,y:i,className:"",value:r},a?o.className="lf-element-text":n||t.nodeTextDraggable?o.className="lf-text-draggable":o.className="lf-text-disabled",i=e.getTextStyle();return Object(q.g)(Wf,$f({},o,i,{model:e}))}},{key:"render",value:function(){if(this.props.model.text)return Object(q.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),r}(q.a),ip=null!==window.navigator.userAgent.match(/MSIE|Trident/),ap=new Map;function up(t){return(up="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return sp(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sp(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fp(t,e){return(fp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pp(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=hp(t);e=n?(e=hp(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===up(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return dp(r)}}function dp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hp(t){return(hp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yp(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var gp=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fp(e,t);var n=pp(r);function r(t){var e;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");yp(dp(e=n.call(this)),"t",void 0),yp(dp(e),"moveOffset",void 0),yp(dp(e),"stepDrag",void 0),yp(dp(e),"contextMenuTime",void 0),yp(dp(e),"startTime",void 0),yp(dp(e),"clickTimer",void 0),yp(dp(e),"onDragStart",(function(t){t=t.event;var n=t.clientX,r=(t=t.clientY,e.props),o=r.model;r=r.graphModel.getPointByClient({x:n,y:t}).canvasOverlayPosition,n=r.x,t=r.y;e.moveOffset={x:o.x-n,y:o.y-t}})),yp(dp(e),"onDraging",(function(t){t=t.event;var n,r,o,i=e.props,a=i.model,u=i.graphModel,c=(i=u.editConfigModel,u.transformModel),s=u.width,l=u.height,f=u.gridSize,p=(a.isDragging=!0,t.clientX),d=(t=t.clientY,p=u.getPointByClient({x:p,y:t}).canvasOverlayPosition,t=p.x,p=p.y,cp(c.CanvasPointToHtmlPoint([t,p]),2)),h=d[0];d=d[1];h<0||d<0||s<h||l<d||(t+=e.moveOffset.x,p+=e.moveOffset.y,h=(s=cp(c.CanvasPointToHtmlPoint([t-a.width/2,p-a.height/2]),2))[0],l=s[1],s=(d=cp(c.CanvasPointToHtmlPoint([t+a.width/2,p+a.height/2]),2))[0],d=d[1],f=Math.max(f,20),o=[],h<0?o=[f,0]:s>u.width?o=[-f,0]:l<0?o=[0,f]:d>u.height&&(o=[0,-f]),e.t&&rp(e.t),0<o.length&&!i.stopMoveGraph?e.t=(n=function(){var t=cp(o,2),e=t[0];t=t[1];c.translate(e,t),u.moveNode(a.id,-e/c.SCALE_X,-t/c.SCALE_X)},r=Oo(),h=window.requestAnimationFrame((function t(){var e;n(),ap.get(r)&&(e=window.requestAnimationFrame(t),ap.set(r,e))})),ap.set(r,h),r):u.moveNode2Coordinate(a.id,t,p))})),yp(dp(e),"onDragEnd",(function(){e.t&&rp(e.t),e.props.model.isDragging=!1})),yp(dp(e),"handleClick",(function(t){var n,r,o,i,a;!e.startTime||200<(new Date).getTime()-e.startTime||(n=(r=e.props).model,r=r.graphModel,o={data:n.getData(),e:t,position:r.getPointByClient({x:t.clientX,y:t.clientY})},a=2===t.button,i=2===t.detail,a||(a=r.editConfigModel,r.selectNodeById(n.id,lo(t,a)),e.toFront(),i?(a.nodeTextEdit&&n.text.editable&&(n.setSelected(!1),r.setElementStateById(n.id,Yn.TEXT_EDIT)),r.eventCenter.emit(Kn.NODE_DBCLICK,o)):(r.eventCenter.emit(Kn.ELEMENT_CLICK,o),r.eventCenter.emit(Kn.NODE_CLICK,o))))})),yp(dp(e),"handleContextMenu",(function(t){t.preventDefault();var n=e.props,r=n.model,o=(n=n.graphModel,r.getData()),i=n.getPointByClient({x:t.clientX,y:t.clientY});n.setElementStateById(r.id,Yn.SHOW_MENU,i.domOverlayPosition),n.selectNodeById(r.id),n.eventCenter.emit(Kn.NODE_CONTEXTMENU,{data:o,e:t,position:i}),e.toFront()})),yp(dp(e),"handleMouseDown",(function(t){var n=e.props,r=n.model;n=n.graphModel;e.toFront(),e.startTime=(new Date).getTime(),n.editConfigModel.adjustNodePosition&&r.draggable&&e.stepDrag&&e.stepDrag.handleMouseDown(t)})),yp(dp(e),"setHoverON",(function(t){var n,r,o;e.state.isHovered||(e.setState({isHovered:!0}),n=(r=e.props).model,r=r.graphModel,o=n.getData(),n.setHovered(!0),r.eventCenter.emit(Kn.NODE_MOUSEENTER,{data:o,e:t}))})),yp(dp(e),"setHoverOFF",(function(t){e.setState({isHovered:!1});var n=e.props,r=n.model,o=(n=n.graphModel,r.getData());r.setHovered(!1),n.eventCenter.emit(Kn.NODE_MOUSELEAVE,{data:o,e:t})})),yp(dp(e),"onMouseOut",(function(t){ip&&e.setHoverOFF(t)}));var o=t.graphModel,i=o.gridSize;o=o.eventCenter,t=t.model;return e.stepDrag=new Ua({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd,step:i,eventType:"NODE",isStopPropagation:!1,eventCenter:o,model:t}),e.state={isHovered:!1},e}return e=[{key:"getModel",value:function(t){return t}}],lp((t=r).prototype,[{key:"getAnchorShape",value:function(t){return null}},{key:"getAnchors",value:function(){var t,e=this,n=this.props,r=n.model,o=n.graphModel,i=(n=r.isSelected,r.isHitable),a=r.isDragging,u=this.state.isHovered;return i&&(n||u)&&!a?(t=r.getAnchorLineStyle(),Xe(r.anchors,(function(n,i){var a=r.getAnchorStyle(n);return Object(q.g)(Ff,{anchorData:n,node:e,style:a,edgeStyle:t,anchorIndex:i,nodeModel:r,graphModel:o,setHoverOFF:e.setHoverOFF})}))):[]}},{key:"getText",value:function(){var t,e,n=this.props,r=n.model;n=n.graphModel;return r.state===Yn.TEXT_EDIT?"":r.text?(t=n.editConfigModel,e=!1,(r.text.draggable||t.nodeTextDraggable)&&(e=!0),Object(q.g)(op,{editable:t.nodeTextEdit&&r.text.editable,model:r,graphModel:n,draggable:e})):void 0}},{key:"getStateClassName",value:function(){var t=this.props.model,e=t.state,n=(t=t.isDraging,"lf-node");switch(e){case Yn.ALLOW_CONNECT:n+=" lf-node-allow";break;case Yn.NOT_ALLOW_CONNECT:n+=" lf-node-not-allow";break;default:n+=" lf-node-default"}return t&&(n+=" lf-isDragging"),n}},{key:"toFront",value:function(){var t=this.props,e=t.model;t=t.graphModel;t.overlapMode!==qn.INCREASE&&e.autoToFront&&t.toFront(e.id)}},{key:"render",value:function(){var t=this.props,e=t.model,n=(t=t.graphModel,t.editConfigModel),r=n.hideAnchors,o=(n=n.adjustNodePosition,t.gridSize),i=(t=t.transformModel.SCALE_X,e.isHitable);e=e.draggable,r=Object(q.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),r?null:this.getAnchors()),i=i?(n&&e&&this.stepDrag.setStep(o*t),Object(q.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},r)):Object(q.g)("g",{className:this.getStateClassName()},r);return i}}]),lp(t,e),r}(q.a);function vp(t){return(vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bp(){return(bp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function mp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Op(t,e){return(Op=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _p(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=wp(t);e=n?(e=wp(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===vp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function wp(t){return(wp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xp=function(){var t=r,e=gp;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Op(t,e);var n=_p(r);function r(){var t=this,e=r;if(t instanceof e)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return mp(r.prototype,[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(q.g)(Ku,bp({},e,{x:t.x,y:t.y,width:t.width,height:t.height,radius:t.radius}))}}]),r}();function Ep(t){return(Ep="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jp(){return(jp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Sp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pp(t,e){return(Pp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kp(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Ap(t);e=n?(e=Ap(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===Ep(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function Ap(t){return(Ap=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Mp=function(){var t=r,e=gp;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pp(t,e);var n=kp(r);function r(){var t=this,e=r;if(t instanceof e)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return Sp(r.prototype,[{key:"getShape",value:function(){var t=this.props.model,e=t.x,n=t.y,r=t.r;t=t.getNodeStyle();return Object(q.g)(ac,jp({},t,{x:e,y:n,r:r}))}}]),r}();function Dp(t){return(Dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Np(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tp(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach((function(t){e=2;t=function(t){if(Array.isArray(t))return t}(t=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Np(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Np(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var e=t[0];t=t[1];"object"!==Dp(t)&&(r[e]=t)})),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=e.map((function(t){return t.join(",")})).join(" "),Object(q.g)("polygon",r)}function Cp(t){return(Cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rp(){return(Rp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Ip(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lp(t,e){return(Lp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zp(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Bp(t);e=n?(e=Bp(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===Cp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function Bp(t){return(Bp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Hp=function(){var t=r,e=gp;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lp(t,e);var n=zp(r);function r(){var t=this,e=r;if(t instanceof e)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return Ip(r.prototype,[{key:"getShape",value:function(){var t=this.props.model,e=t.x,n=t.y,r=t.width,o=t.height,i=t.points;t=t.getNodeStyle(),r={transform:"matrix(1 0 0 1 ".concat(e-r/2," ").concat(n-o/2,")")};return Object(q.g)("g",r,Object(q.g)(Tp,Rp({},t,{points:i,x:e,y:n})))}}]),r}();function Xp(t){return(Xp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fp(){return(Fp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Gp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Up(t,e){return(Up=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yp(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Vp(t);e=n?(e=Vp(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===Xp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function Vp(t){return(Vp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wp=function(){var t=r,e=gp;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Up(t,e);var n=Yp(r);function r(){var t=this,e=r;if(t instanceof e)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return Gp(r.prototype,[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(q.g)("g",null,Object(q.g)(Tp,Fp({},e,{points:t.points,x:t.x,y:t.y})))}}]),r}();function Kp(t){return(Kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qp(t){var e=t.x,n=t.y,r=t.rx,o=t.ry,i=t.className,a={cx:void 0===e?0:e,cy:void 0===n?0:n,rx:void 0===r?4:r,ry:void 0===o?4:o,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach((function(t){e=2;t=function(t){if(Array.isArray(t))return t}(t=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return $p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$p(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var e=t[0];t=t[1];"object"!==Kp(t)&&(a[e]=t)})),a.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",Object(q.g)("ellipse",a)}function Zp(t){return(Zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jp(){return(Jp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Qp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function td(t,e){return(td=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ed(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=nd(t);e=n?(e=nd(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===Zp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function nd(t){return(nd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var rd=function(){var t=r,e=gp;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&td(t,e);var n=ed(r);function r(){var t=this,e=r;if(t instanceof e)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return Qp(r.prototype,[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(q.g)(qp,Jp({},e,{x:t.x,y:t.y,rx:t.rx,ry:t.ry}))}}]),r}();function od(t){return(od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function id(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function ad(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?id(Object(n),!0).forEach((function(e){var r,o;r=t,o=n[e=e],e in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):id(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ud(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cd(t,e){return(cd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sd(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=ld(t);e=n?(e=ld(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===od(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function ld(t){return(ld=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fd=function(){var t=r,e=gp;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cd(t,e);var n=sd(r);function r(){var t=this,e=r;if(t instanceof e)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return ud(r.prototype,[{key:"getBackgroud",value:function(){var t,e,n=this.props.model,r=n.getTextStyle(),o=n.text;if(o&&o.value&&r.background&&"transparnet"!==r.background.fill)return t=o.x,o=o.y,e=n.width,n=n.height,r=ad(ad({},r.background),{},{x:t,y:o-1,width:e,height:n}),Object(q.g)(Ku,r)}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getBackgroud())}}]),r}();function pd(t){return(pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function dd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hd(t,e){return(hd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yd(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=vd(t);e=n?(e=vd(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===pd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return gd(r)}}function gd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vd(t){return(vd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function bd(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var md=function(){var t=r,e=gp;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hd(t,e);var n=yd(r);function r(){var t,e=this,o=r;if(!(e instanceof o))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return bd(gd(t=n.call.apply(n,[this].concat(a))),"ref",void 0),bd(gd(t),"currrentProperties",void 0),bd(gd(t),"preProperties",void 0),bd(gd(t),"setRef",(function(e){t.ref=e})),t}return dd(r.prototype,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(t){t.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var t=this.props.model,e=t.x,n=t.y,r=t.height,o=t.width;return this.currrentProperties=JSON.stringify(t.properties),Object(q.g)("foreignObject",{x:e-o/2,y:n-r/2,width:o,height:r,ref:this.setRef})}}]),r}();function Od(t){return(Od="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wd(t){var e={d:""};return Object.entries(t).forEach((function(t){n=2;t=function(t){if(Array.isArray(t))return t}(t=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(t,e){if(t){if("string"==typeof t)return _d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_d(t,e):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var n=t[0];t=t[1];"object"!==Od(t)&&(e[n]=t)})),Object(q.g)("path",e)}function xd(t){return(xd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ed(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function jd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Sd(t,e){return(Sd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pd(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=kd(t);e=n?(e=kd(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===xd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function kd(t){return(kd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ad=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sd(e,t);var n=Pd(r);function r(){var t=this,e=r;if(t instanceof e)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return jd(r.prototype,[{key:"getArrowAttributes",value:function(){var t=this.props,e=t.arrowInfo,n=(t=t.style,e.start),r=(e=e.end,n={start:n,end:e,offset:t.offset,verticalLength:t.verticalLength,type:"end"},n=Gi(n),n.leftX),o=n.leftY,i=n.rightX;n=n.rightY;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ed(Object(n),!0).forEach((function(e){var r,o;r=t,o=n[e=e],e in r?Object.defineProperty(r,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[e]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ed(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({d:"M".concat(r," ").concat(o," L").concat(e.x," ").concat(e.y," L").concat(i," ").concat(n," z")},t)}},{key:"getShape",value:function(){var t=this.getArrowAttributes(),e=t.d,n=t.strokeWidth,r=t.stroke;t=t.fill;return Object(q.g)(wd,{d:e,fill:t,strokeWidth:n,stroke:r})}},{key:"render",value:function(){return Object(q.g)("g",{className:"lf-arrow"},this.getShape())}}]),r}(q.a);function Md(t){return(Md="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Dd(){return(Dd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Nd(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Td(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nd(Object(n),!0).forEach((function(e){Bd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nd(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Cd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rd(t,e){return(Rd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Id(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=zd(t);e=n?(e=zd(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===Md(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ld(r)}}function Ld(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zd(t){return(zd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Bd(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var Hd,Xd=function(){var t=r,e=op;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rd(t,e);var n=Id(r);function r(t){var e;if(this instanceof r)return Bd(Ld(e=n.call(this,t)),"setHoverON",(function(){e.setState({isHoverd:!0})})),Bd(Ld(e),"setHoverOFF",(function(){e.setState({isHoverd:!1})})),e.state={isHoverd:!1},e;throw new TypeError("Cannot call a class as a function")}return Cd(r.prototype,[{key:"getBackgroud",value:function(){var t,e,n,r,o,i,a,u=this.props.model,c=u.getTextStyle(),s=(u=u.text,c.background||{});if(this.state.isHoverd&&c.hover&&c.hover.background&&(s=Td(Td({},s),c.hover.background)),u&&u.value&&"transparnet"!==s.fill)return t=c.fontSize,o=c.overflowMode,i=c.lineHeight,a=c.wrapPadding,c=c.textWidth,n=u.value,e=u.x,u=u.y,r=(n=String(n).split(/[\r\n]/g)).length,o="autoWrap"===o&&c?(o=Ro({rows:n,style:{fontSize:"".concat(t,"px"),width:"".concat(c,"px"),lineHeight:i,padding:a},rowsLength:r,className:"lf-get-text-height"}),Td(Td({},s),{},{x:e-1,y:u-1,width:c,height:o})):(n&&n.forEach((function(t){t=aa(t)})),a=(i=Io({rows:n,fontSize:t,rowsLength:r})).width,c=i.height,Td(Td({},s),{},{x:e-1,y:u-1,width:a,height:c})),Object(q.g)(Ku,o)}},{key:"getShape",value:function(){var t=this.props.model,e=t.text,n=e.value,r=e.x;e=e.y;if(n)return r=Td({x:r,y:e,className:"lf-element-text",value:n},t.getTextStyle()),Object(q.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(q.g)(Wf,Dd({},r,{model:t})))}}]),r}();function Fd(t){return(Fd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gd(){return(Gd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Ud(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Yd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ud(Object(n),!0).forEach((function(e){Jd(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ud(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Vd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Kd(t,e){return(Kd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $d(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Zd(t);e=n?(e=Zd(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===Fd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qd(r)}}function qd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zd(t){return(Zd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jd(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(u=Hd=Hd||{}).SOURCE="SOURCE",u.TARGET="TARGET";var Qd=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kd(e,t);var n=$d(r);function r(){var t;if(this instanceof r)return Jd(qd(t=n.call(this)),"dragHandler",void 0),Jd(qd(t),"oldEdge",void 0),Jd(qd(t),"preTargetNode",void 0),Jd(qd(t),"targetRuleResults",void 0),Jd(qd(t),"sourceRuleResults",void 0),Jd(qd(t),"onDragStart",(function(){var e=t.props,n=e.x,r=e.y,o=(e=e.edgeModel,e.startPoint),i=e.endPoint,a=e.pointsList;t.oldEdge={startPoint:o,endPoint:i,pointsList:a},t.setState({endX:n,endY:r,draging:!0}),e.isHitable=!1})),Jd(qd(t),"onDraging",(function(e){var n,r,o,i=e.deltaX,a=(e=e.deltaY,t.state),u=a.endX,c=(a=a.endY,t.props),s=c.graphModel,l=(c=c.type,i=(i=s.transformModel.moveCanvasPointByHtml([u,a],i,e),e=2,function(t){if(Array.isArray(t))return t}(i)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(i,e)||function(t,e){if(t){if("string"==typeof t)return Vd(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vd(t,e):void 0}}(i,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),e=i[0],i=i[1],t.setState({endX:e,endY:i,draging:!0}),t.props.edgeModel);u=So({x:u,y:a},s);u&&u.node&&t.isAllowAdjust(u)?(a=l.startPoint,s=l.endPoint,r=l.sourceNode,o=l.targetNode,c===Hd.SOURCE?n={startPoint:{x:u.anchor.x,y:u.anchor.y},endPoint:{x:s.x,y:s.y},sourceNode:u.node,targetNode:o}:c===Hd.TARGET&&(n={startPoint:{x:a.x,y:a.y},endPoint:{x:u.anchor.x,y:u.anchor.y},sourceNode:r,targetNode:u.node}),l.updateAfterAdjustStartAndEnd(n)):c===Hd.SOURCE?l.updateStartPoint({x:e,y:i}):c===Hd.TARGET&&l.updateEndPoint({x:e,y:i})})),Jd(qd(t),"onDragEnd",(function(){t.setState({draging:!1});var e=t.props,n=e.graphModel,r=e.edgeModel,o=(e=e.type,r.isHitable=!0,t.state),i=o.endX,a=o.endY;o=o.draging,i=So({x:i,y:a},n);o&&(i&&i.node&&t.isAllowAdjust(i)?(a=Yd(Yd({},a=r.getData()),{},{sourceAnchorId:"",targetAnchorId:"",text:(null==a||null==(o=a.text)?void 0:o.value)||""}),e===Hd.SOURCE?a=Yd(Yd({},a),{},{sourceNodeId:i.node.id,sourceAnchorId:i.anchor.id,startPoint:{x:i.anchor.x,y:i.anchor.y},targetNodeId:r.targetNodeId,endPoint:Yd({},r.endPoint)}):e===Hd.TARGET&&(a=Yd(Yd({},a),{},{sourceNodeId:r.sourceNodeId,startPoint:Yd({},r.startPoint),targetNodeId:i.node.id,targetAnchorId:i.anchor.id,endPoint:{x:i.anchor.x,y:i.anchor.y}})),n.deleteEdgeById(r.id),o=n.addEdge(Yd({},a)),n.eventCenter.emit(Kn.EDGE_EXCHANGE_NODE,{data:{newEdge:o.getData(),oldEdge:r.getData()}})):t.recoveryEdge(),null!=(e=t.preTargetNode)&&e.setElementState(Yn.DEFAULT))})),Jd(qd(t),"recoveryEdge",(function(){var e=t.props.edgeModel,n=t.oldEdge,r=n.startPoint,o=n.endPoint;n=n.pointsList;e.updateStartPoint(r),e.updateEndPoint(o),e.modelType!==Vn.LINE_EDGE&&(e.pointsList=n,e.initPoints())})),Jd(qd(t),"getAdjustPointStyle",(function(){return t.props.graphModel.theme.edgeAdjust})),t.state={draging:!1,endX:0,endY:0},t.targetRuleResults=new Map,t.sourceRuleResults=new Map,t.dragHandler=Da({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd}),t;throw new TypeError("Cannot call a class as a function")}return Wd(r.prototype,[{key:"isAllowAdjust",value:function(t){var e=this.props,n=e.edgeModel,r=(n.id,n.sourceNode),o=n.targetNode,i=n.sourceAnchorId,a=(n=n.targetAnchorId,e=e.type,null),u=null,c=null,s=null;return e===Hd.SOURCE?(a=t.node,c=t.anchor,s=(u=o).getAnchorInfo(n)):(u=t.node,s=t.anchor,c=(a=r).getAnchorInfo(i)),this.preTargetNode&&this.preTargetNode!==t.node&&this.preTargetNode.setElementState(Yn.DEFAULT),this.preTargetNode=t.node,s.id!==c.id&&(o="".concat(a.id,"_").concat(u.id,"_").concat(c.id,"_").concat(s.id),this.targetRuleResults.has(o)||(n=a.isAllowConnectedAsSource(u,c,s),r=u.isAllowConnectedAsTarget(a,c,s),this.sourceRuleResults.set(o,Lo(n)),this.targetRuleResults.set(o,Lo(r))),i=this.sourceRuleResults.get(o).isAllPass,t=this.targetRuleResults.get(o).isAllPass,c=i&&t?Yn.ALLOW_CONNECT:Yn.NOT_ALLOW_CONNECT,(e===Hd.SOURCE?a:u).setElementState(c),i&&t)}},{key:"render",value:function(){var t=this.props,e=t.x,n=(t=t.y,this.state.draging),r=this.getAdjustPointStyle();return Object(q.g)("g",null,Object(q.g)(ac,Gd({className:"lf-edge-adjust-point"},r,{x:e,y:t,onMouseDown:this.dragHandler,"pointer-events":n?"none":""})))}}]),r}(q.a);function th(t){return(th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function eh(){return(eh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function nh(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function rh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nh(Object(n),!0).forEach((function(e){sh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function oh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ih(t,e){return(ih=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ah(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=ch(t);e=n?(e=ch(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===th(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return uh(r)}}function uh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ch(t){return(ch=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function sh(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var lh=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ih(e,t);var n=ah(r);function r(){var t,e=this,o=r;if(!(e instanceof o))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return sh(uh(t=n.call.apply(n,[this].concat(a))),"startTime",void 0),sh(uh(t),"contextMenuTime",void 0),sh(uh(t),"clickTimer",void 0),sh(uh(t),"handleHover",(function(e,n){var r=t.props,o=r.model;r=r.graphModel.eventCenter,o.setHovered(e),e=e?Kn.EDGE_MOUSEENTER:Kn.EDGE_MOUSELEAVE,o=o.getData();r.emit(e,{data:o,e:n})})),sh(uh(t),"setHoverON",(function(e){t.handleHover(!0,e)})),sh(uh(t),"setHoverOFF",(function(e){t.handleHover(!1,e)})),sh(uh(t),"handleContextMenu",(function(e){e.preventDefault(),t.contextMenuTime=(new Date).getTime(),t.clickTimer&&clearTimeout(t.clickTimer);var n=t.props,r=n.model,o=(n=n.graphModel,n.getPointByClient({x:e.clientX,y:e.clientY}));n.setElementStateById(r.id,Yn.SHOW_MENU,o.domOverlayPosition),t.toFront(),n.selectEdgeById(r.id),r=null==r?void 0:r.getData();n.eventCenter.emit(Kn.EDGE_CONTEXTMENU,{data:r,e:e,position:o})})),sh(uh(t),"handleMouseDown",(function(e){e.stopPropagation(),t.startTime=(new Date).getTime()})),sh(uh(t),"handleMouseUp",(function(e){var n,r,o,i,a,u,c;t.startTime&&!(200<(new Date).getTime()-t.startTime||2===e.button)&&(c=2===e.detail,n=(r=t.props).model,r=r.graphModel,o=null==n?void 0:n.getData(),i=r.getPointByClient({x:e.clientX,y:e.clientY}),c?(c=r.editConfigModel,(a=r.textEditElement)&&a.id===n.id&&r.setElementStateById(n.id,Yn.DEFAULT),c.edgeTextEdit&&n.text.editable&&r.setElementStateById(n.id,Yn.TEXT_EDIT),n.modelType===Vn.POLYLINE_EDGE&&(a=n,u=(c=r.getPointByClient({x:e.x,y:e.y}).canvasOverlayPosition).x,c=c.y,u=la({x:u,y:c},a.points),a.dbClickPosition=u),r.eventCenter.emit(Kn.EDGE_DBCLICK,{data:o,e:e,position:i})):(r.eventCenter.emit(Kn.ELEMENT_CLICK,{data:o,e:e,position:i}),r.eventCenter.emit(Kn.EDGE_CLICK,{data:o,e:e,position:i})),c=r.editConfigModel,r.selectEdgeById(n.id,lo(e,c)),t.toFront())})),sh(uh(t),"getIsDraging",(function(){return!1})),t}return oh(r.prototype,[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var t=this.props,e=t.model;t=t.graphModel;if(e.state===Yn.TEXT_EDIT)return"";var n=!1,r=t.editConfigModel;return(e.text.draggable||r.edgeTextDraggable)&&(n=!0),Object(q.g)(Xd,{editable:r.edgeTextEdit&&e.text.editable,model:e,graphModel:t,draggable:n})}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=t.startPoint,n=t.endPoint;t=t.isSelected;return{start:e,end:n,hover:this.state.hover,isSelected:t}}},{key:"getArrowStyle",value:function(){var t=this.props,e=t.model;t=t.graphModel,e=e.getEdgeStyle(),t=t.theme.arrow;return rh(rh({},e),{},{fill:e.stroke},t)}},{key:"getArrow",value:function(){var t=this.getArrowInfo(),e=t.start,n=t.end;if(e&&n&&(e.x!==n.x||e.y!==n.y))return e=this.getArrowStyle(),Object(q.g)(Ad,{arrowInfo:t,style:e})}},{key:"getAdjustPoints",value:function(){var t=this.props,e=t.model,n=(t=t.graphModel,e.getAdjustStart()),r=e.getAdjustEnd();return Object(q.g)("g",null,Object(q.g)(Qd,eh({type:"SOURCE"},n,{edgeModel:e,graphModel:t})),Object(q.g)(Qd,eh({type:"TARGET"},r,{edgeModel:e,graphModel:t})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(q.g)("g",null)}},{key:"getAppend",value:function(){return Object(q.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var t=this.props,e=t.graphModel;t=t.model;e.overlapMode!==qn.INCREASE&&e.toFront(t.id)}},{key:"render",value:function(){var t=this.props,e=t.model,n=e.isSelected,r=(e=e.isHitable,t=t.graphModel,this.getIsDraging()),o=t.editConfigModel.adjustEdgeStartAndEnd,i=t.animation;i=n&&i.edge&&1===t.getSelectElements().edges.length;return Object(q.g)("g",null,Object(q.g)("g",{className:e?"lf-edge":"lf-edge pointer-none",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),i&&this.getAnimation(),this.getText(),this.getArrow()),o&&n&&!r?this.getAdjustPoints():"")}}]),r}(q.a);function fh(t){return(fh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ph(){return(ph=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function dh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hh(t,e){return(hh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yh(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=gh(t);e=n?(e=gh(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===fh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function gh(t){return(gh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vh=function(){var t=r,e=lh;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&hh(t,e);var n=yh(r);function r(){var t=this,e=r;if(t instanceof e)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return dh(r.prototype,[{key:"getEdge",value:function(){var t=this.props.model,e=t.startPoint,n=t.endPoint;t=t.getEdgeStyle();return Object(q.g)(Lu,ph({},t,{x1:e.x,y1:e.y,x2:n.x,y2:n.y}))}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var t=this.props.model,e=t.getAnimation(),n=e.stroke,r=e.className,o=(e=e.strokeDasharray,t.startPoint),i=t.endPoint;t=t.getEdgeStyle();return Object(q.g)("g",null,Object(q.g)(Lu,ph({},t,{x1:o.x,y1:o.y,x2:i.x,y2:i.y,className:r,strokeDasharray:e,stroke:n})))}},{key:"getAppendWidth",value:function(){var t=this.props.model,e=(t=(t={start:t.startPoint,end:t.endPoint},e=t.start,t=t.end,{d:e.x===t.x&&e.y===t.y?"":(t=Gi(Vi(Vi({},e={start:e,end:t,offset:10,verticalLength:5}),{},{type:"start"})),e=Gi(Vi(Vi({},e),{},{type:"end"})),"M".concat(t.leftX," ").concat(t.leftY," \n    L").concat(t.rightX," ").concat(t.rightY," \n    L").concat(e.rightX," ").concat(e.rightY,"\n    L").concat(e.leftX," ").concat(e.leftY," z")),fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}),t.d),n=t.strokeWidth,r=t.fill,o=t.strokeDasharray;t=t.stroke;return Object(q.g)(wd,{d:e,fill:r,strokeWidth:n,stroke:t,strokeDasharray:o})}}]),r}();function bh(t){return(bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oh(t){var e={points:"",fill:"none"};return Object.entries(t).forEach((function(t){n=2;t=function(t){if(Array.isArray(t))return t}(t=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,n)||function(t,e){if(t){if("string"==typeof t)return mh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mh(t,e):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();var n=t[0];t=t[1];"object"!==bh(t)&&(e[n]=t)})),Object(q.g)("polyline",e)}function _h(t){return(_h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function wh(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function xh(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wh(Object(n),!0).forEach((function(e){Dh(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wh(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Eh(){return(Eh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function jh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ph(t,e){return(Ph=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kh(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Mh(t);e=n?(e=Mh(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===_h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ah(r)}}function Ah(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mh(t){return(Mh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Dh(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var Nh=function(){var t=r,e=lh;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ph(t,e);var n=kh(r);function r(){var t;if(this instanceof r)return Dh(Ah(t=n.call(this)),"drag",void 0),Dh(Ah(t),"isDraging",void 0),Dh(Ah(t),"appendInfo",void 0),Dh(Ah(t),"dragHandler",void 0),Dh(Ah(t),"onDragStart",(function(){t.props.model.dragAppendStart()})),Dh(Ah(t),"onDraging",(function(e){var n=e.deltaX,r=(e=e.deltaY,t.props),o=r.model,i=(r=r.graphModel,t.isDraging=!0,r.transformModel);r=r.editConfigModel,i=i.fixDeltaXY(n,e),n=2,e=function(t){if(Array.isArray(t))return t}(i)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(i,n)||function(t,e){if(t){if("string"==typeof t)return jh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jh(t,e):void 0}}(i,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=e[0],n=e[1],e=o,o=r.adjustEdgeMiddle;t.appendInfo=o?e.dragAppendSimple(t.appendInfo,{x:i,y:n}):e.dragAppend(t.appendInfo,{x:i,y:n})})),Dh(Ah(t),"onDragEnd",(function(){var e=t.props,n=e.model;e=e.graphModel.eventCenter;n.dragAppendEnd(),t.isDraging=!1,t.appendInfo=void 0,e.emit(Kn.EDGE_ADJUST,{data:n.getData()})})),Dh(Ah(t),"beforeDragStart",(function(e,n){n.dragAble&&t.dragHandler(e),t.appendInfo=n})),Dh(Ah(t),"getIsDraging",(function(){return t.isDraging})),t.drag=Da({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd,isStopPropagation:!1}),t;throw new TypeError("Cannot call a class as a function")}return Sh(r.prototype,[{key:"getEdge",value:function(){var t=this.props.model,e=t.getEdgeStyle();return Object(q.g)(Oh,Eh({points:t.points},e))}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var t=this.props.model,e=t.getAnimation(),n=e.stroke,r=e.className,o=(e=e.strokeDasharray,t.getEdgeStyle());return Object(q.g)("g",null,Object(q.g)(Oh,Eh({points:t.points},o,{className:r,strokeDasharray:e,stroke:n})))}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=t.points;t=t.isSelected,t={start:null,end:null,hover:this.state.hover,isSelected:t},e=wa(e);return 2<=e.length&&(t.start=e[e.length-2],t.end=e[e.length-1]),t}},{key:"getAppendAttributes",value:function(t){var e=t.start;t=t.end;return{d:e.x===t.x&&e.y===t.y?"":(t=Gi(xh(xh({},e={start:e,end:t,offset:10,verticalLength:5}),{},{type:"start"})),e=Gi(xh(xh({},e),{},{type:"end"})),"M".concat(t.leftX," ").concat(t.leftY," \n      L").concat(t.rightX," ").concat(t.rightY," \n      L").concat(e.rightX," ").concat(e.rightY,"\n      L").concat(e.leftX," ").concat(e.leftY," z")),fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(t){t=this.getAppendAttributes(t);var e=t.d,n=t.strokeWidth,r=t.fill,o=t.strokeDasharray;t=t.stroke;return Object(q.g)(wd,{d:e,fill:r,strokeWidth:n,stroke:t,strokeDasharray:o})}},{key:"getAppendWidth",value:function(){for(var t=this,e=this.props,n=e.model,r=e.graphModel,o=n.pointsList,i=n.draggable,a=[],u=o.length,c=0;c<u-1;c++)!function(e){var n,c="lf-polyline-append",s={start:{x:o[e].x,y:o[e].y},end:{x:o[e+1].x,y:o[e+1].y},startIndex:e,endIndex:e+1,direction:"",dragAble:!0},l=(e=Object(q.g)("g",{className:c},t.getAppendShape(s)),r.editConfigModel),f=l.adjustEdge;l=l.adjustEdgeMiddle;f&&i?(t.dragHandler=t.drag,f=s.startIndex,n=s.endIndex,s.dragAble=!(l&&(0===f||n===u-1)),s.start.x===s.end.x?(s.dragAble&&(c+="-ew-resize"),s.direction=$n.VERTICAL):s.start.y===s.end.y&&(s.dragAble&&(c+="-ns-resize"),s.direction=$n.HORIZONTAL),e=Object(q.g)("g",{className:t.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(e){return t.beforeDragStart(e,s)}},Object(q.g)("g",{className:c},t.getAppendShape(s)))):t.dragHandler=function(){},a.push(e)}(c);return Object(q.g)("g",null,a)}}]),r}();function Th(t){return(Th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ch(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rh(){return(Rh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,r=arguments[e];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Ih(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Lh(t,e){return(Lh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zh(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Bh(t);e=n?(e=Bh(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===Th(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=r))throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}}function Bh(t){return(Bh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hh(t,e){return Xt(t,e)}function Xh(){return rt.a.Date.now()}function Fh(t){if("number"==typeof t)return t;if(Te(t))return NaN;if(ft(t)&&(e="function"==typeof t.valueOf?t.valueOf():t,t=ft(e)?e+"":e),"string"!=typeof t)return 0===t?t:+t;t=Wh(t);var e=$h.test(t);return e||qh.test(t)?Zh(t.slice(2),e?2:8):Kh.test(t)?NaN:+t}function Gh(t,e,n){var r,o,i,a,u,c,s=0,l=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var n=r,i=o;return r=o=void 0,s=e,a=t.apply(i,n)}function h(t){var n=t-c;return void 0===c||e<=n||n<0||f&&i<=t-s}function y(){var t,n=Xh();if(h(n))return g(n);u=setTimeout(y,(t=e-(n-c),f?Qh(t,i-(n-s)):t))}function g(t){return u=void 0,p&&r?d(t):(r=o=void 0,a)}function v(){var t=Xh(),n=h(t);if(r=arguments,o=this,c=t,n){if(void 0===u)return s=t=c,u=setTimeout(y,e),l?d(t):a;if(f)return clearTimeout(u),u=setTimeout(y,e),d(c)}return void 0===u&&(u=setTimeout(y,e)),a}return e=Fh(e)||0,ft(n)&&(l=!!n.leading,i=(f="maxWait"in n)?Jh(Fh(n.maxWait)||0,e):i,p="trailing"in n?!!n.trailing:p),v.cancel=function(){void 0!==u&&clearTimeout(u),r=c=o=u=void(s=0)},v.flush=function(){return void 0===u?a:g(Xh())},v}var Uh=function(){var t=r,e=lh;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lh(t,e);var n=zh(r);function r(){var t=this,e=r;if(t instanceof e)return n.apply(this,arguments);throw new TypeError("Cannot call a class as a function")}return Ih(r.prototype,[{key:"getEdge",value:function(){var t=this.props.model,e=t.getEdgeStyle();return Object(q.g)(wd,Rh({d:t.path},e))}},{key:"getShape",value:function(){return Object(q.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var t=this.props.model,e=t.getAnimation(),n=e.stroke,r=e.className,o=(e=e.strokeDasharray,t.getEdgeStyle());return Object(q.g)("g",null,Object(q.g)(wd,Rh({d:t.path},o,{className:r,strokeDasharray:e,stroke:n})))}},{key:"getAppendWidth",value:function(){var t=this.props.model.path;return Object(q.g)(wd,{d:t,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var t,e=this.props.model,n=this.state.hover,r=e.path;e=e.isSelected,r=ca(r),r=[r[2],r[3]],t=2,r=function(t){if(Array.isArray(t))return t}(r)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(r,t)||function(t,e){if(t){if("string"==typeof t)return Ch(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ch(t,e):void 0}}(r,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return{start:r[0],end:r[1],hover:n,isSelected:e}}}]),r}(),Yh=/\s/,Vh=/^\s+/,Wh=function(t){return t&&t.slice(0,function(t){for(var e=t.length;e--&&Yh.test(t.charAt(e)););return e}(t)+1).replace(Vh,"")},Kh=/^[-+]0x[0-9a-f]+$/i,$h=/^0b[01]+$/i,qh=/^0o[0-7]+$/i,Zh=parseInt,Jh=Math.max,Qh=Math.min,ty=n(157);function ey(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ny(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}ey(oy.prototype,[{key:"add",value:function(t){var e,n;Hh((e=this.undos,(n=null==e?0:e.length)?e[n-1]:void 0),t)||(this.undos.push(t),Hh(this.curData,t)||(this.redos=[]),this.eventCenter.emit(Kn.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:1<this.undos.length,redoAble:0<this.redos.length}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return 1<this.undos.length}},{key:"undo",value:function(){var t;if(this.undoAble())return t=this.undos.pop(),this.redos.push(t),t=this.undos.pop(),this.curData=Vr(t),t}},{key:"redoAble",value:function(){return 0<this.redos.length}},{key:"redo",value:function(){var t;if(this.redoAble())return t=this.redos.pop(),this.curData=Vr(t),t}},{key:"watch",value:function(t){var e=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(ty.a)(t,Gh((function(){var n=t.modelToHistoryData();n&&e.add(n)}),this.waitTime))}}]);var ry=oy;function oy(t){if(!(this instanceof oy))throw new TypeError("Cannot call a class as a function");ny(this,"undos",[]),ny(this,"redos",[]),ny(this,"callbacks",[]),ny(this,"stopWatch",null),ny(this,"curData",null),ny(this,"maxSize",50),ny(this,"waitTime",100),ny(this,"eventCenter",void 0),this.eventCenter=t}function iy(t){return(iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ay(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function uy(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function cy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?uy(Object(n),!0).forEach((function(e){hy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function sy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ly(t,e){return(ly=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fy(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=dy(t);e=n?(e=dy(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===iy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return py(r)}}function py(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dy(t){return(dy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function hy(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var yy=Wy((_e=Oe=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ly(e,t);var n=fy(r);function r(){var t;if(this instanceof r)return hy(py(t=n.call(this)),"ref",Object(q.f)()),hy(py(t),"__prevText",{type:"",text:"",id:""}),hy(py(t),"keyupHandler",(function(e){var n=t.props.graphModel.textEditElement;"Enter"===e.key&&e.altKey&&n.setElementState(0)})),hy(py(t),"inputHandler",(function(e){e=e.target.innerText;var n=t.props.graphModel.textEditElement;t.__prevText={type:n.type,text:e.replace(/(\r\n)+$|(\n)+$/,""),id:n.id}})),t.state={style:{left:0,top:0}},t;throw new TypeError("Cannot call a class as a function")}return e=[{key:"getDerivedStateFromProps",value:function(t){t=t.graphModel;var e,n,r,o,i,a,u,c=t.transformModel,s=t.theme;t=t.textEditElement;if(t)return null!=(u=t.text)&&u.value||t.BaseType===Wn.EDGE&&(u=t.text,i=(r=t.textPosition).x,r=r.y,u.x=i,u.y=r,t.setText(u)),i={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"},t.BaseType===Wn.EDGE?(u=(r=s.edgeText).overflowMode,a=r.lineHeight,n=r.wrapPadding,(r=r.textWidth)&&"autoWrap"===u&&(e=cy(cy({},i),{},{width:r,minWidth:r,lineHeight:a,padding:n}))):t.BaseType===Wn.NODE&&(r=(u=s.nodeText).overflowMode,a=u.lineHeight,n=u.wrapPadding,s=u.textWidth,u=t.width,((o=t.modelType)!==Vn.TEXT_NODE&&"autoWrap"===r||o===Vn.TEXT_NODE&&s)&&(e=cy(cy({},i),{},{width:s||u,minWidth:s||u,lineHeight:a,padding:n}))),o=(r=t.text).x,i=r.y,s=c.CanvasPointToHtmlPoint([o,i]),u=2,{style:cy({left:(a=function(t){if(Array.isArray(t))return t}(s)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(s,u)||function(t,e){if(t){if("string"==typeof t)return ay(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ay(t,e):void 0}}(s,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],top:a[1]},e)}}}],sy((t=r).prototype,[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var t=this.props.graphModel,e=t.eventCenter,n=t.editConfigModel,r=n.edgeTextEdit;n=n.nodeTextEdit;(r||n)&&e.on("".concat(Kn.GRAPH_TRANSFORM,",").concat(Kn.NODE_CLICK,",").concat(Kn.BLANK_CLICK," "),(function(){t.textEditElement&&t.textEditElement.setElementState(Yn.DEFAULT)}))}},{key:"componentDidUpdate",value:function(){var t,e,n=this.props.graphModel;this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id&&(t=(e=this.__prevText).text,e=e.id,n.updateText(e,t),n.eventCenter.emit(Kn.TEXT_UPDATE,cy({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type="")}},{key:"placeCaretAtEnd",value:function(t){var e;void 0!==window.getSelection&&void 0!==document.createRange&&((e=document.createRange()).selectNodeContents(t),e.collapse(!1),(t=window.getSelection()).removeAllRanges(),t.addRange(e))}},{key:"render",value:function(){var t=this.props.graphModel.textEditElement,e=this.state.style;return t?Object(q.g)("div",{contentEditable:!0,className:"lf-text-input",style:e,ref:this.ref,key:t.id,onKeyUp:this.keyupHandler,onInput:this.inputHandler},null==(e=t.text)?void 0:e.value):null}}]),sy(t,e),r}(q.a),hy(Oe,"toolName","textEdit"),we=_e))||we;function gy(t){return(gy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(t,e)||by(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function by(t,e){if(t){if("string"==typeof t)return my(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?my(t,e):void 0}}function my(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _y(t,e){return(_y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wy(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,r=Ey(t);e=n?(e=Ey(this).constructor,Reflect.construct(r,arguments,e)):r.apply(this,arguments),r=this;if(e&&("object"===gy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xy(r)}}function xy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ey(t){return(Ey=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jy(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var Sy=Wy((ke=U=function(t){var e=r;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_y(e,t);var n=wy(r);function r(t){var e;if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");jy(xy(e=n.call(this)),"stepDrag",void 0),jy(xy(e),"handleMouseDown",(function(t){e.stepDrag.handleMouseDown(t)})),jy(xy(e),"onDraging",(function(t){var n=t.deltaX,r=(t=t.deltaY,e.props.graphModel),o=r.getSelectElements(!0);r.moveNodes(o.nodes.map((function(t){return t.id})),n,t)})),jy(xy(e),"handleContextMenu",(function(t){t.preventDefault();var n,r=e.props,o=r.graphModel,i=(r=r.graphModel,r.eventCenter),a=(r=r.selectElements,o=o.getPointByClient({x:t.clientX,y:t.clientY}),{nodes:[],edges:[]});(function(t){if(Array.isArray(t))return my(t)}(n=r.values())||function(){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}()||by(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t){t.BaseType===Wn.NODE&&a.nodes.push(t.getData()),t.BaseType===Wn.EDGE&&a.edges.push(t.getData())})),i.emit(Kn.SELECTION_CONTEXTMENU,{data:a,e:t,position:o})}));t=t.graphModel;var o=t.gridSize;t=t.eventCenter;return e.stepDrag=new Ua({onDraging:e.onDraging,step:o,eventType:"SELECTION",eventCenter:t}),e}return Oy(r.prototype,[{key:"render",value:function(){var t,e,n,r,o=this.props.graphModel,i=o.selectElements;o=o.transformModel;if(!(i.size<=1))return t=Number.MAX_SAFE_INTEGER,e=Number.MAX_SAFE_INTEGER,n=Number.MIN_SAFE_INTEGER,r=Number.MIN_SAFE_INTEGER,i.forEach((function(o){var i,a,u,c,s,l,f,p,d,h={x:0,y:0,x1:0,y1:0};o.BaseType===Wn.NODE&&(l=o.x,f=o.y,p=o.width,d=o.height,h={x:l-p/2,y:f-d/2,x1:l+p/2,y1:f+d/2}),o.BaseType===Wn.EDGE&&(h=(l=o).modelType===Vn.LINE_EDGE?(i=l.startPoint,a=l.endPoint,u=(i.x+a.x)/2,c=(i.y+a.y)/2,s=Math.abs(i.x-a.x)+10,i=Math.abs(i.y-a.y)+10,{x:u-s/2,y:c-i/2,x1:u+s/2,y1:c+i/2}):l.modelType===Vn.POLYLINE_EDGE?(a=l.points,a=wa(a),a=ta(a,8),u=a.x,s=a.y,c=a.width,a=a.height,{x:u-c/2,y:s-a/2,x1:u+c/2,y1:s+a/2}):l.modelType===Vn.BEZIER_EDGE?(i=l.path,i=ca(i),i=ta(i,8),l=i.x,p=i.y,f=i.width,i=i.height,{x:l-f/2,y:p-i/2,x1:l+f/2,y1:p+i/2}):void 0),t=Math.min(t,h.x),e=Math.min(e,h.y),n=Math.max(n,h.x1),r=Math.max(r,h.y1)})),i=vy(o.CanvasPointToHtmlPoint([t,e]),2),t=i[0],e=i[1],i=vy(o.CanvasPointToHtmlPoint([n,r]),2),n=i[0],r=i[1],o={left:"".concat(t-10,"px"),top:"".concat(e-10,"px"),width:"".concat(n-t+20,"px"),height:"".concat(r-e+20,"px")},Object(q.g)("div",{className:"lf-multiple-select",style:o,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}]),r}(q.a),jy(U,"toolName","multipleSelect"),bt=ke))||bt;function Py(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ky(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}Py(Dy.prototype,[{key:"isDisabledTool",value:function(t){return-1!==this.instance.options.disabledTools.indexOf(t)}},{key:"registerTool",value:function(t,e){this.toolMap.set(t,e)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]);var Ay=Dy,My=(u=n(158),n.n(u));function Dy(t){if(!(this instanceof Dy))throw new TypeError("Cannot call a class as a function");ky(this,"tools",void 0),ky(this,"components",void 0),ky(this,"toolMap",new Map),ky(this,"instance",void 0),this.instance=t,this.isDisabledTool(yy.toolName)||this.registerTool(yy.toolName,yy),this.isDisabledTool(Sy.toolName)||this.registerTool(Sy.toolName,Sy)}function Ny(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ty(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}Ny(Ly.prototype,[{key:"initShortcuts",value:function(){var t,e,n=this,r=this.options.keyboard.shortcuts;r&&($t(r)?r.forEach((function(t){var e=t.keys,r=t.callback;t=t.action;return n.on(e,r,t)})):(t=r.keys,e=r.callback,r=r.action,this.on(t,e,r)))}},{key:"on",value:function(t,e,n){this.mousetrap.bind(this.getKeys(t),e,n)}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}},{key:"off",value:function(t,e){this.mousetrap.unbind(this.getKeys(t),e)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var e=this;return(Array.isArray(t)?t:[t]).map((function(t){return e.formatkey(t)}))}},{key:"formatkey",value:function(t){return t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}]);var Cy=Ly,Ry=Cy,Iy=null;function Ly(t){if(!(this instanceof Ly))throw new TypeError("Cannot call a class as a function");Ty(this,"mousetrap",void 0),Ty(this,"options",void 0),Ty(this,"target",void 0),t.keyboard||(t.keyboard={enabled:!1});var e=(this.options=t).lf;this.target=e.container,this.mousetrap=new My.a(this.target),t.keyboard.enabled&&this.enable(!0)}function zy(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function By(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&0<t.pointsList.length&&t.pointsList.forEach((function(t){t.x+=e,t.y+=e})),t.text&&(t.text.x+=e,t.text.y+=e),t}function Hy(t){return(Hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xy(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)),r}function Fy(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xy(Object(n),!0).forEach((function(e){Uy(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xy(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Gy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uy(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}Oe=[{key:"use",value:function(t){var e=(e=t.pluginName)||t.name,n=this.extensions.get(e);n&&n.destroy&&n.destroy(),this.extensions.set(e,t)}}],Gy((_e=Vy).prototype,[{key:"register",value:function(t,e){var n,r,o=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];"string"==typeof t?(n={BaseEdge:lh,BaseEdgeModel:gi,BaseNode:gp,BaseNodeModel:Ts,RectNode:xp,RectNodeModel:tf,CircleNode:Mp,CircleNodeModel:Ks,PolygonNode:Hp,PolygonNodeModel:Hl,TextNode:fd,TextNodeModel:df,LineEdge:vh,LineEdgeModel:Mi,DiamondNode:Wp,DiamondNodeModel:fl,PolylineEdge:Nh,PolylineEdgeModel:Ui,BezierEdge:Uh,BezierEdgeModel:xs,EllipseNode:rd,EllipseNodeModel:jl,HtmlNode:md,HtmlNodeModel:xf,h:q.g,type:t},this.viewMap.forEach((function(t){var e=t.extendKey;e&&(n[e]=t)})),this.graphModel.modelMap.forEach((function(t){var e=t.extendKey;e&&(n[e]=t)})),r=(e=e(n)).view,e=e.model,r=r,o&&!r.isObervered&&(r.isObervered=!0,r=W(r)),this.setView(t,r),this.graphModel.setModel(t,e)):this.registerElement(t)}},{key:"registerElement",value:function(t){var e=t.view;!1===t.isObserverView||e.isObervered||(e.isObervered=!0,e=W(e)),this.setView(t.type,e),this.graphModel.setModel(t.type,t.model)}},{key:"defaultRegister",value:function(){this.registerElement({view:xp,model:tf,type:"rect"}),this.registerElement({type:"circle",view:Mp,model:Ks}),this.registerElement({type:"polygon",view:Hp,model:Hl}),this.registerElement({type:"line",view:vh,model:Mi}),this.registerElement({type:"polyline",view:Nh,model:Ui}),this.registerElement({type:"bezier",view:Uh,model:xs}),this.registerElement({type:"text",view:fd,model:df}),this.registerElement({type:"ellipse",view:rd,model:jl}),this.registerElement({type:"diamond",view:Wp,model:fl}),this.registerElement({type:"html",view:md,model:xf})}},{key:"selectElementById",value:function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];this.graphModel.selectElementById(t,e),e||this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var e=this.graphModel.transformModel,n=t.coordinate;t=t.id;n||((r=this.getNodeModelById(t))&&(n=r.getData()),(r=this.getEdgeModelById(t))&&(n=r.textPosition));t=n.x;var r=n.y;e.focusOn(t,r,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,e){this.options.width=null!=t?t:this.options.width,this.options.height=null!=e?e:this.options.height,this.graphModel.resize(t,e)}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,e){this.graphModel.updateText(t,e)}},{key:"deleteElement",value:function(t){var e,n=this.getModelById(t);return!!n&&null!=(n=null===(Uy(e={},Wn.NODE,this.deleteNode),Uy(e,Wn.EDGE,this.deleteEdge),e=e[n.BaseType])||void 0===e?void 0:e.call(this,t))&&n}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,e){this.graphModel.changeNodeType(t,e)}},{key:"changeEdgeType",value:function(t,e){this.graphModel.changeEdgeType(t,e)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var e=this.graphModel.getNodeModelById(t);if(!e)return!1;e=e.getData();var n=this.options.guards;n=!n||!n.beforeDelete||n.beforeDelete(e);return n&&this.graphModel.deleteNode(t),n}},{key:"cloneNode",value:function(t){var e=this.graphModel.getNodeModelById(t).getData(),n=this.options.guards;if(!n||!n.beforeClone||n.beforeClone(e))return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,e){return this.graphModel.changeNodeId(t,e)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var e=this.options.guards,n=this.graphModel.edgesMap[t];return!!n&&(n=n.model.getData(),e=!e||!e.beforeDelete||e.beforeDelete(n),e&&this.graphModel.deleteEdgeById(t),e)}},{key:"deleteEdgeByNodeId",value:function(t){var e=t.sourceNodeId;t=t.targetNodeId;e&&t?this.graphModel.deleteEdgeBySourceAndTarget(e,t):e?this.graphModel.deleteEdgeBySource(e):t&&this.graphModel.deleteEdgeByTarget(t)}},{key:"changeEdgeId",value:function(t,e){return this.graphModel.changeEdgeId(t,e)}},{key:"getEdgeModelById",value:function(t){return null==(t=this.graphModel.edgesMap[t])?void 0:t.model}},{key:"getEdgeModels",value:function(t){var e,n,r,o=this.graphModel.edges,i=t.sourceNodeId,a=t.targetNodeId;return i&&a?(e=[],o.forEach((function(t){t.sourceNodeId===i&&t.targetNodeId===a&&e.push(t)})),e):i?(n=[],o.forEach((function(t){t.sourceNodeId===i&&n.push(t)})),n):a?(r=[],o.forEach((function(t){t.targetNodeId===a&&r.push(t)})),r):[]}},{key:"getEdgeDataById",value:function(t){return null==(t=this.getEdgeModelById(t))?void 0:t.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,e){null!=(t=this.graphModel.getElement(t))&&t.setProperties(zo(e))}},{key:"getProperties",value:function(t){return null==(t=this.graphModel.getElement(t))?void 0:t.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,e){return this.graphModel.setElementZIndex(t,e)}},{key:"addElements",value:function(t){for(var e=this,n=t.nodes,r=(t=t.edges,{}),o={nodes:[],edges:[]},i=0;i<n.length;i++){var a=n[i],u=a.id;a=this.addNode(a);if(!a)return;u&&(r[u]=a.id),o.nodes.push(a)}return t.forEach((function(t){var n=t.sourceNodeId,i=t.targetNodeId;r[n]&&(t.sourceNodeId=r[n]),r[i]&&(t.targetNodeId=r[i]),n=e.graphModel.addEdge(t);o.edges.push(n)})),o}},{key:"getAreaElement",value:function(t,e){return this.graphModel.getAreaElement(t,e,!(2<arguments.length&&void 0!==arguments[2])||arguments[2],!(3<arguments.length&&void 0!==arguments[3])||arguments[3]).map((function(t){return t.getData()}))}},{key:"getSelectElements",value:function(){return this.graphModel.getSelectElements(!(0<arguments.length&&void 0!==arguments[0])||arguments[0])}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,e){return this.graphModel.getPointByClient({x:t,y:e})}},{key:"undo",value:function(){var t;this.history.undoAble()&&(t=zo(this.history.undo()),this.clearSelectElements(),this.graphModel.graphDataToModel(t))}},{key:"redo",value:function(){var t;this.history.redoAble()&&(t=zo(this.history.redo()),this.clearSelectElements(),this.graphModel.graphDataToModel(t))}},{key:"zoom",value:function(t,e){return this.graphModel.transformModel.zoom(t,e)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(t){this.graphModel.transformModel.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){this.graphModel.transformModel.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel;return{SCALE_X:t.SCALE_X,SCALE_Y:t.SCALE_Y,TRANSLATE_X:t.TRANSLATE_X,TRANSLATE_Y:t.TRANSLATE_Y}}},{key:"translate",value:function(t,e){this.graphModel.transformModel.translate(t,e)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,e=t.TRANSLATE_X;t=t.TRANSLATE_Y;this.translate(-e,-t)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t){this.graphModel.fitView(t)}},{key:"on",value:function(t,e){this.graphModel.eventCenter.on(t,e)}},{key:"off",value:function(t,e){this.graphModel.eventCenter.off(t,e)}},{key:"once",value:function(t,e){this.graphModel.eventCenter.once(t,e)}},{key:"emit",value:function(t,e){this.graphModel.eventCenter.emit(t,e)}},{key:"installPlugins",value:function(){var t,e=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];(null!=(t=this.plugins)?t:Vy.extensions).forEach((function(t){var r=t.pluginName||t.name;-1===n.indexOf(r)&&e.installPlugin(t)}))}},{key:"installPlugin",value:function(t){if("object"===Hy(t))return e=t.install,n=t.render,e&&e.call(t,this,Vy),n&&this.components.push(n.bind(t)),void(this.extension[t.pluginName]=t);var e=t,n=new e({lf:this,LogicFlow:Vy});n.render&&this.components.push(n.render.bind(n)),this.extension[e.pluginName]=n}},{key:"updateAttributes",value:function(t,e){this.graphModel.updateAttributes(t,e)}},{key:"createFakerNode",value:function(t){var e=this.graphModel.modelMap.get(t.type);if(e)return e=new e(Fy(Fy({},t),{},{virtual:!0}),this.graphModel),this.graphModel.setFakerNode(e),e}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,e){this.viewMap.set(t,e)}},{key:"render",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.graphModel.graphDataToModel(zo(t)),this.options.isSilentMode||!1===this.options.history||this.history.watch(this.graphModel),Object(q.j)(Object(q.g)(Lc,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(Kn.GRAPH_RENDERED,this.graphModel.modelToGraphData())}}]),Gy(_e,Oe);var Yy=Vy;function Vy(t){var e,n,r,o,i,a=this;if(!(this instanceof Vy))throw new TypeError("Cannot call a class as a function");Uy(this,"container",void 0),Uy(this,"width",void 0),Uy(this,"height",void 0),Uy(this,"graphModel",void 0),Uy(this,"history",void 0),Uy(this,"viewMap",new Map),Uy(this,"tool",void 0),Uy(this,"keyboard",void 0),Uy(this,"dnd",void 0),Uy(this,"options",void 0),Uy(this,"snaplineModel",void 0),Uy(this,"components",[]),Uy(this,"plugins",void 0),Uy(this,"extension",{}),Uy(this,"adapterIn",void 0),Uy(this,"adapterOut",void 0),Uy(this,"getView",(function(t){return a.viewMap.get(t)})),t=Uc(t),this.options=t,this.container=t.container,this.plugins=t.plugins,this.graphModel=new ou(Fy({},t)),this.tool=new Ay(this),this.history=new ry(this.graphModel.eventCenter),this.dnd=new Fc({lf:this}),this.keyboard=new Ry({lf:this,keyboard:t.keyboard}),t.isSilentMode||!1===t.snapline||(this.snaplineModel=new Af(this.graphModel),o=this.graphModel.eventCenter,e=this.snaplineModel,o.on("node:mousemove",(function(t){t=t.data,e.setNodeSnapLine(t)})),o.on("node:mouseup",(function(){e.clearSnapline()}))),r=(n=this).graphModel,o=n.keyboard,i=o.options.keyboard,o.on(["cmd + c","ctrl + c"],(function(){var t,e;if(i.enabled&&!r.textEditElement)return t=n.options.guards,e=r.getSelectElements(!1),t&&t.beforeClone&&!t.beforeClone(e)?Iy=null:((Iy=e).nodes.forEach((function(t){return zy(t,40)})),Iy.edges.forEach((function(t){return By(t,40)}))),!1})),o.on(["cmd + v","ctrl + v"],(function(){if(i.enabled&&!r.textEditElement){if(Iy&&(Iy.nodes||Iy.edges)){n.clearSelectElements();var t=n.addElements(Iy);if(!t)return;t.nodes.forEach((function(t){return n.selectElementById(t.id,!0)})),t.edges.forEach((function(t){return n.selectElementById(t.id,!0)})),Iy.nodes.forEach((function(t){return zy(t,40)})),Iy.edges.forEach((function(t){return By(t,40)}))}return!1}})),o.on(["cmd + z","ctrl + z"],(function(){if(i.enabled&&!r.textEditElement)return n.undo(),!1})),o.on(["cmd + y","ctrl + y"],(function(){if(i.enabled&&!r.textEditElement)return n.redo(),!1})),o.on(["backspace"],(function(){var t;if(i.enabled&&!r.textEditElement)return t=r.getSelectElements(!0),n.clearSelectElements(),t.edges.forEach((function(t){return n.deleteEdge(t.id)})),t.nodes.forEach((function(t){return n.deleteNode(t.id)})),!1})),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(t.disabledPlugins)}function Wy(t){return W(t)}Uy(Yy,"extensions",new Map),e.default=Yy}],i={},r.m=o,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=202))},"69ab":function(t,e,n){"use strict";var r=n("5e90");class o extends r.RectNode{getLabelShape(){const t=this.props["model"];var{x:e,y:n,width:o,height:i}=t,a=t.getNodeStyle();return Object(r.h)("svg",{x:e-o/2+5,y:n-i/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},[Object(r.h)("path",{fill:a.stroke,d:"M690.366075 350.568358c0-98.876614-79.937349-179.048571-178.558027-179.048571-98.59935 0-178.515371 80.150629-178.515371 179.048571 0 98.833958 79.916021 178.963259 178.515371 178.963259C610.428726 529.531617 690.366075 449.380988 690.366075 350.568358M376.140632 350.568358c0-75.159877 60.72082-136.072649 135.667416-136.072649 74.989253 0 135.667416 60.912772 135.667416 136.072649 0 75.117221-60.678164 136.029993-135.667416 136.029993C436.861451 486.577022 376.140632 425.664251 376.140632 350.568358M197.284012 762.923936 197.284012 778.472049l15.526785 0 291.255186 0.127968L819.784387 778.472049l15.569441 0 0-15.548113c0-139.783721-136.413897-285.581938-311.026243-273.275681-10.002833 0.703824-24.740482 9.128385-34.658002 9.938849-8.573857 0.74648 13.692577 8.232609 14.396401 16.827793 9.021745-0.789136 6.313088 13.095393 15.505457 13.095393 150.597017 0 263.14488 103.07823 263.14488 224.62651l15.441473-15.590769-285.816546-0.042656-278.991585 1.81288 15.526785 15.612097c0-82.752645 75.095893-152.70849 136.861785-191.824044 7.25152-4.58552 8.659169-17.659585 4.862784-22.906273-6.846288-9.426977-19.877697-8.701825-28.046322-6.014496C285.262018 560.521203 197.284012 667.758394 197.284012 762.923936"}),Object(r.h)("path",{fill:a.stroke,d:"M512.31992 1.535616c-282.766642 0-512.021328 228.89211-512.021328 511.210864 0 282.46805 229.254686 511.25352 512.021328 511.25352 117.431975 0 228.828126-39.606098 318.810964-111.204199 10.791969-8.488545 12.540865-24.22861 3.988336-34.99925-8.616513-10.770641-24.356578-12.540865-35.127218-3.94568-81.174373 64.538532-181.586603 100.241606-287.650754 100.241606-255.210864 0-462.028493-206.561693-462.028493-461.367325 0-254.762976 206.817629-461.303341 462.028493-461.303341 255.210864 0 462.092477 206.561693 462.092477 461.303341 0 87.380821-24.33525 171.093227-69.614596 243.651087-7.272848 11.645089-3.668416 27.086562 8.040657 34.35941 11.709073 7.272848 27.10789 3.62576 34.402066-7.976672 50.184787-80.406565 77.143381-173.247355 77.143381-270.055153C1024.383904 230.427726 795.10789 1.535616 512.31992 1.535616z"})])}getShape(){const t=this.props["model"];var{x:e,y:n,width:o,height:i,radius:a}=t,u=t.getNodeStyle();return Object(r.h)("g",{},[Object(r.h)("rect",{...u,x:e-o/2,y:n-i/2,rx:a,ry:a,width:o,height:i}),this.getLabelShape()])}}class i extends r.RectNodeModel{setAttributes(){this.width=100,this.height=60,this.radius=3}getTextStyle(){const t=super.getTextStyle();return t.fontSize=14,this.properties,t}getNodeStyle(){const t=super.getNodeStyle();return this.properties.disabled,t.stroke="rgb(24, 125, 255)",t}getAnchorStyle(){const t=super.getAnchorStyle();return t.stroke="rgb(24, 125, 255)",t}getAnchorLineStyle(){const t=super.getAnchorLineStyle();return t.stroke="red",t}getOutlineStyle(){const t=super.getOutlineStyle();return t.stroke="red",t.hover.stroke="red",t}}e.a={type:"UserTask",view:o,model:i}},"752b":function(t,e,n){"use strict";n=n("5e90");class r extends n.DiamondNode{}class o extends n.DiamondNodeModel{initNodeData(t){super.initNodeData(t),this.rx=20,this.ry=32,this.text.value=""}getTextStyle(){const t=super.getTextStyle();return t.fontSize=14,this.properties,t}getNodeStyle(){const t=super.getNodeStyle();return this.properties.disabled,t.stroke="rgb(24, 125, 255)",t}getAnchorStyle(){const t=super.getAnchorStyle();return t.stroke="rgb(24, 125, 255)",t}getAnchorLineStyle(){const t=super.getAnchorLineStyle();return t.stroke="red",t}getOutlineStyle(){const t=super.getOutlineStyle();return t.stroke="red",t.hover.stroke="red",t}}e.a={type:"UserDiamond",view:r,model:o}},7692:function(t,e,n){},eb21:function(t,e,n){"use strict";n.d(e,"a",(function(){return ot})),n.d(e,"b",(function(){return _t})),n.d(e,"e",(function(){return At})),n.d(e,"d",(function(){return Dt})),n.d(e,"f",(function(){return Tt})),n.d(e,"c",(function(){return Wt}));var r=n("5e90");(function(t){var e=t.exports=function(t,n){if(n=n||16,(t=void 0===t?128:t)<=0)return"0";for(var r=Math.log(Math.pow(2,t))/Math.log(n),o=2;r===1/0;o*=2)r=Math.log(Math.pow(2,t/o))/Math.log(n)*o;var i=r-Math.floor(r),a="";for(o=0;o<Math.floor(r);o++)a=Math.floor(Math.random()*n).toString(n)+a;return i&&(i=Math.pow(n,i),a=Math.floor(Math.random()*i).toString(n)+a),i=parseInt(a,n),i!==1/0&&i>=Math.pow(2,t)?e(t,n):a};e.rack=function(t,n,r){function o(o){var a=0;do{if(10<a++){if(!r)throw new Error("too many ID collisions, use more bits");t+=r}var u=e(t,n)}while(Object.hasOwnProperty.call(i,u));return i[u]=o,u}var i=o.hats={};return o.get=function(t){return o.hats[t]},o.set=function(t,e){return o.hats[t]=e,o},o.bits=t||128,o.base=n||16,o}})(e={exports:{}});var o=e.exports;function i(t){if(!(this instanceof i))return new i(t);this._seed=(t=t||[128,36,1]).length?o.rack(t[0],t[1],t[2]):t}i.prototype.next=function(t){return this._seed(t||!0)},i.prototype.nextPrefixed=function(t,e){for(var n;n=t+this.next(!0),this.assigned(n););return this.claim(n,e),n},i.prototype.claim=function(t,e){this._seed.set(t,e||!0)},i.prototype.assigned=function(t){return this._seed.get(t)||!1},i.prototype.unclaim=function(t){delete this._seed.hats[t]},i.prototype.clear=function(){for(var t in this._seed.hats)this.unclaim(t)};n=i;var a=new n([32,32,1]);function u(){return a.next()}c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};e=function(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var c,s,l,f=(s=r.CircleNodeModel,e(p,s),p.prototype.setAttributes=function(){this.r=18},p.prototype.getConnectedTargetRules=function(){var t=s.prototype.getConnectedTargetRules.call(this);return t.push({message:"",validate:function(){return!1}}),t},p.extendKey="StartEventModel",p);function p(t,e){return t.id||(t.id="Event_"+u()),t.text||(t.text=""),t.text&&"string"==typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),s.call(this,t,e)||this}function d(){return null!==l&&l.apply(this,arguments)||this}l=r.CircleNode,e(d,l),d.extendKey="StartEventNode";var h,y,g,v={type:"bpmn:startEvent",view:d,model:f},b=(e=(h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),function(){return(b=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)});y=r.CircleNodeModel,e(m,y),m.prototype.setAttributes=function(){this.r=18},m.prototype.getConnectedSourceRules=function(){var t=y.prototype.getConnectedSourceRules.call(this);return t.push({message:"",validate:function(){return!1}}),t},m.extendKey="EndEventModel",f=m;function m(t,e){return t.id||(t.id="Event_"+u()),t.text||(t.text=""),t.text&&"string"==typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),y.call(this,t,e)||this}function O(){return null!==g&&g.apply(this,arguments)||this}g=r.CircleNode,e(O,g),O.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},O.prototype.getShape=function(){var t=this.props.model,e=t.getNodeStyle(),n=t.x,o=t.y,i=(t=t.r,g.prototype.getShape.call(this));return Object(r.h)("g",{},i,Object(r.h)("circle",b(b({},e),{cx:n,cy:o,r:t-5})))},O.extendKey="EndEventView";var _,w,x,E={type:"bpmn:endEvent",view:O,model:f},j=(e=(_=function(t,e){return(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}_(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),function(){return(j=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)});w=r.PolygonNodeModel,e(S,w),S.extendKey="ExclusiveGatewayModel",f=S;function S(t,e){var n=this;return t.id||(t.id="Gateway_"+u()),t.text||(t.text=""),t.text&&"string"==typeof t.text&&(t.text={value:t.text,x:t.x,y:t.y+40}),(n=w.call(this,t,e)||this).points=[[25,0],[50,25],[25,50],[0,25]],n}function P(){return null!==x&&x.apply(this,arguments)||this}x=r.PolygonNode,e(P,x),P.prototype.getShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height,a=t.points;t=t.getNodeStyle();return Object(r.h)("g",{transform:"matrix(1 0 0 1 "+(e-o/2)+" "+(n-i/2)+")"},Object(r.h)("polygon",j(j({},t),{x:e,y:n,points:a})),Object(r.h)("path",j({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},t)))},P.extendKey="ExclusiveGatewayNode";var k,A,M,D={type:"bpmn:exclusiveGateway",view:P,model:f},N=(e=(k=function(t,e){return(k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}k(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),function(){return(N=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)});A=r.RectNodeModel,e(T,A),T.extendKey="UserTaskModel",f=T;function T(t,e){return t.id||(t.id="Activity_"+u()),A.call(this,t,e)||this}function C(){return null!==M&&M.apply(this,arguments)||this}M=r.RectNode,e(C,M),C.prototype.getLabelShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height;t=t.getNodeStyle();return Object(r.h)("svg",{x:e-o/2+5,y:n-i/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Object(r.h)("path",{fill:t.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},C.prototype.getShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height,a=t.radius;t=t.getNodeStyle();return Object(r.h)("g",{},[Object(r.h)("rect",N(N({},t),{x:e-o/2,y:n-i/2,rx:a,ry:a,width:o,height:i})),this.getLabelShape()])},C.extendKey="UserTaskNode";var R,I,L,z={type:"bpmn:userTask",view:C,model:f},B=(e=(R=function(t,e){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}R(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),function(){return(B=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)});I=r.RectNodeModel,e(H,I),H.extendKey="ServiceTaskModel",f=H;function H(t,e){return t.id||(t.id="Activity_"+u()),I.call(this,t,e)||this}function X(){return null!==L&&L.apply(this,arguments)||this}L=r.RectNode,e(X,L),X.prototype.getLabelShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height;t=t.getNodeStyle();return Object(r.h)("svg",{x:e-o/2+5,y:n-i/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Object(r.h)("path",{fill:t.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},X.prototype.getShape=function(){var t=this.props.model,e=t.x,n=t.y,o=t.width,i=t.height,a=t.radius;t=t.getNodeStyle();return Object(r.h)("g",{},[Object(r.h)("rect",B({x:e-o/2,y:n-i/2,rx:a,ry:a,width:o,height:i},t)),this.getLabelShape()])},X.extendKey="ServiceTaskNode";var F,G,U,Y={type:"bpmn:serviceTask",view:X,model:f};F=function(t,e){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},e=function(t,e){function n(){this.constructor=t}F(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},G=r.PolylineEdgeModel,e(V,G),V.extendKey="SequenceFlowModel",f=V;function V(t,e){return t.id||(t.id="Flow_"+u()),G.call(this,t,e)||this}function W(){return null!==U&&U.apply(this,arguments)||this}U=r.PolylineEdge,e(W,U),W.extendKey="SequenceFlowEdge";var K={type:"bpmn:sequenceFlow",view:W,model:f},$=(e=40,f=40,40),q=40,Z=40,J=40,Q=100,tt=80,et=100,nt=80,rt={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},ot=(it.pluginName="bpmnElement",it);function it(t){t=t.lf,t.setTheme(rt),t.register(v),t.register(E),t.register(D),t.register(z),t.register(Y),t.options.customBpmnEdge||(t.register(K),t.setDefaultEdgeType("bpmn:sequenceFlow"))}var at=new n([32,32,1]);function ut(){return at.next()}function ct(){}(ct.ObjTree=function(){return this}).VERSION="0.23",ct.ObjTree.prototype.xmlDecl='<?xml version="1.0" encoding="UTF-8" ?>\n',ct.ObjTree.prototype.attr_prefix="-",ct.ObjTree.prototype.parseXML=function(t){if(window.DOMParser){var e=new DOMParser,n=e.parseFromString(t,"application/xml");if(!n)return;n=n.documentElement}else window.ActiveXObject&&((e=new ActiveXObject("Microsoft.XMLDOM")).async=!1,e.loadXML(t),n=e.documentElement);if(n)return this.parseDOM(n)},ct.ObjTree.prototype.parseHTTP=function(t,e,n){var r,o,i,a,u,c,s={};for(r in e)s[r]=e[r];return s.method||(void 0===s.postBody&&void 0===s.postbody&&void 0===s.parameters?s.method="get":s.method="post"),n?(s.asynchronous=!0,o=this,i=n,a=s.onComplete,s.onComplete=function(t){var e;t&&t.responseXML&&t.responseXML.documentElement&&(e=o.parseDOM(t.responseXML.documentElement)),i(e,t),a&&a(t)}):s.asynchronous=!1,"undefined"!=typeof HTTP&&HTTP.Request?(s.uri=t,(c=new HTTP.Request(s))&&(u=c.transport)):"undefined"!=typeof Ajax&&Ajax.Request&&(c=new Ajax.Request(t,s))&&(u=c.transport),n?u:u&&u.responseXML&&u.responseXML.documentElement?this.parseDOM(u.responseXML.documentElement):void 0},ct.ObjTree.prototype.parseDOM=function(t){if(t){if(this.__force_array={},this.force_array)for(var e=0;e<this.force_array.length;e++)this.__force_array[this.force_array[e]]=1;var n,r=this.parseElement(t);return this.__force_array[t.nodeName]&&(r=[r]),11!=t.nodeType&&((n={})[t.nodeName]=r,r=n),r}},ct.ObjTree.prototype.parseElement=function(t){if(7!=t.nodeType){if(3==t.nodeType||4==t.nodeType)return null==t.nodeValue.match(/[^\x00-\x20]/)?void 0:t.nodeValue;var e={};if(t.attributes&&t.attributes.length)for(var n={},r=0;r<t.attributes.length;r++)"string"==typeof(a=t.attributes[r].nodeName)&&(u=t.attributes[r].nodeValue)&&(void 0===e[a=this.attr_prefix+a]&&(e[a]=0),e[a]++,this.addNode(n,a,e[a],u));if(t.childNodes&&t.childNodes.length){var o=!0;for(n&&(o=!1),r=0;r<t.childNodes.length&&o;r++){var i=t.childNodes[r].nodeType;3!=i&&4!=i&&(o=!1)}if(o)for(n=n||"",r=0;r<t.childNodes.length;r++)n+=t.childNodes[r].nodeValue;else{n=n||{};var a,u;for(r=0;r<t.childNodes.length;r++)"string"==typeof(a=t.childNodes[r].nodeName)&&(u=this.parseElement(t.childNodes[r]))&&(void 0===e[a]&&(e[a]=0),e[a]++,this.addNode(n,a,e[a],u))}}return n}},ct.ObjTree.prototype.addNode=function(t,e,n,r){this.__force_array[e]?(1==n&&(t[e]=[]),t[e][t[e].length]=r):1==n?t[e]=r:2==n?t[e]=[t[e],r]:t[e][t[e].length]=r},ct.ObjTree.prototype.writeXML=function(t){return t=this.hash_to_xml(null,t),this.xmlDecl+t},ct.ObjTree.prototype.hash_to_xml=function(t,e){var n,r,o=[],i=[];for(n in e)e.hasOwnProperty(n)&&(r=e[n],n.charAt(0)!=this.attr_prefix?void 0===r||null==r?o[o.length]="<"+n+" />":"object"==typeof r&&r.constructor==Array?o[o.length]=this.array_to_xml(n,r):o[o.length]="object"==typeof r?this.hash_to_xml(n,r):this.scalar_to_xml(n,r):i[i.length]=" "+n.substring(1)+'="'+this.xml_escape(r)+'"');var a=i.join(""),u=o.join("");return void 0!==t&&null!=t?0<o.length?u.match(/\n/)?"<"+t+a+">\n"+u+"</"+t+">\n":"<"+t+a+">"+u+"</"+t+">\n":"<"+t+a+" />\n":u},ct.ObjTree.prototype.array_to_xml=function(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r];void 0===o||null==o?n[n.length]="<"+t+" />":"object"==typeof o&&o.constructor==Array?n[n.length]=this.array_to_xml(t,o):n[n.length]="object"==typeof o?this.hash_to_xml(t,o):this.scalar_to_xml(t,o)}return n.join("")},ct.ObjTree.prototype.scalar_to_xml=function(t,e){return"#text"==t?this.xml_escape(e):"<"+t+">"+this.xml_escape(e)+"</"+t+">\n"},ct.ObjTree.prototype.xml_escape=function(t){return t.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var st,lt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},ft=((n=st=st||{}).START="bpmn:startEvent",n.END="bpmn:endEvent",n.GATEWAY="bpmn:exclusiveGateway",n.USER="bpmn:userTask",n.SYSTEM="bpmn:serviceTask",n.FLOW="bpmn:sequenceFlow",["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"]);function pt(t){var e={};return Object.entries(t).forEach((function(t){t=lt(t,2);var n=t[0];t=t[1];"object"!=typeof t?0===n.indexOf("-")?e[n]=t:e["-"+n]=t:e[n]=pt(t)})),e}function dt(t){var e={};return Object.entries(t).forEach((function(t){t=lt(t,2);var n=t[0];t=t[1];"string"==typeof t?0===n.indexOf("-")?e[n.substr(1)]=t:e[n]=t:e[n]="object"==typeof t?dt(t):t})),e}function ht(t){var e,n=[],r=[],o=t["bpmn:definitions"];return o&&(e=o["bpmn:process"],Object.keys(e).forEach((function(t){var i,a;0===t.indexOf("bpmn:")&&(i=e[t],t===st.FLOW?(a=o["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"],r=function(t,e){var n,r=[];return Array.isArray(t)?t.forEach((function(t){var n=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e;r.push(gt(n,t))})):(n=void 0,n=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,r.push(gt(n,t))),r}(i,a)):(a=o["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"],n=n.concat(function(t,e,n){var r,o=[];return Array.isArray(t)?t.forEach((function(t){var r=Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e;r=yt(r,n,t);o.push(r)})):(r=yt(Array.isArray(e)?e.find((function(e){return e["-bpmnElement"]===t["-id"]})):e,n,t),o.push(r)),o}(i,a,t))))}))),{nodes:n,edges:r}}function yt(t,e,n){var r,o,i=Number(t["dc:Bounds"]["-x"]),a=Number(t["dc:Bounds"]["-y"]),u=n["-name"],c=bt.shapeConfigMap.get(e);c&&(i+=c.width/2,a+=c.height/2),Object.entries(n).forEach((function(t){t=lt(t,2);var e=t[0];t=t[1];-1===ft.indexOf(e)&&((r=r||{})[e]=t)})),r=r&&dt(r),u&&(o={x:i,y:a,value:u},t["bpmndi:BPMNLabel"]&&t["bpmndi:BPMNLabel"]["dc:Bounds"]&&(c=t["bpmndi:BPMNLabel"]["dc:Bounds"],o.x=Number(c["-x"])+Number(c["-width"])/2,o.y=Number(c["-y"])+Number(c["-height"])/2)),n={id:t["-bpmnElement"],type:e,x:i,y:a,properties:r};return o&&(n.text=o),n}function gt(t,e){var n,r,o,i=e["-name"];i&&(n=t["bpmndi:BPMNLabel"]["dc:Bounds"],r=0,i.split("\n").forEach((function(t){r<t.length&&(r=t.length)})),n={value:i,x:Number(n["-x"])+10*r/2,y:Number(n["-y"])+7}),Object.entries(e).forEach((function(t){t=lt(t,2);var e=t[0];t=t[1];-1===ft.indexOf(e)&&((o=o||{})[e]=t)})),o=o&&dt(o),i={id:e["-id"],type:st.FLOW,pointsList:t["di:waypoint"].map((function(t){return{x:Number(t["-x"]),y:Number(t["-y"])}})),sourceNodeId:e["-sourceRef"],targetNodeId:e["-targetRef"],properties:o};return n&&(i.text=n),i}var vt,bt={pluginName:"bpmn-adapter",install:function(t){t.adapterIn=this.adapterIn,t.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(t,e){this.shapeConfigMap.set(t,e)},adapterOut:function(t){var e,n,r,o={"-id":"Process_"+ut(),"-isExecutable":"false"},i=(e=o,i=t,n=new Map,i.nodes.forEach((function(t){var r,o={"-id":t.id};null!=(r=t.text)&&r.value&&(o["-name"]=t.text.value),t.properties&&(r=pt(t.properties),Object.assign(o,r)),n.set(t.id,o),e[t.type]?Array.isArray(e[t.type])?e[t.type].push(o):e[t.type]=[e[t.type],o]:e[t.type]=o})),i=i.edges.map((function(t){var e,r=n.get(t.targetNodeId);r["bpmn:incoming"]?Array.isArray(r["bpmn:incoming"])?r["bpmn:incoming"].push(t.id):r["bpmn:incoming"]=[r["bpmn:incoming"],t.id]:r["bpmn:incoming"]=t.id,r=n.get(t.sourceNodeId),r["bpmn:outgoing"]?Array.isArray(r["bpmn:outgoing"])?r["bpmn:outgoing"].push(t.id):r["bpmn:outgoing"]=[r["bpmn:outgoing"],t.id]:r["bpmn:outgoing"]=t.id,r={"-id":t.id,"-sourceRef":t.sourceNodeId,"-targetRef":t.targetNodeId};return null!=(e=t.text)&&e.value&&(r["-name"]=null==(e=t.text)?void 0:e.value),t.properties&&(e=pt(t.properties),Object.assign(r,e)),r})),e[st.FLOW]=i,{"-id":"BPMNPlane_1","-bpmnElement":o["-id"]});return(r=i)["bpmndi:BPMNEdge"]=(t=t).edges.map((function(t){var e,n=t.id;n={"-id":n+"_di","-bpmnElement":n,"di:waypoint":t.pointsList.map((function(t){return{"-x":t.x,"-y":t.y}}))};return null!=(e=t.text)&&e.value&&(n["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-10*t.text.value.length/2,"-y":t.text.y-7,"-width":10*t.text.value.length,"-height":14}}),n})),r["bpmndi:BPMNShape"]=t.nodes.map((function(t){var e=t.id,n=100,r=80,o=t.x,i=t.y,a=bt.shapeConfigMap.get(t.type);a&&(n=a.width,r=a.height),a={"-id":e+"_di","-bpmnElement":e,"dc:Bounds":{"-x":o-=n/2,"-y":i-=r/2,"-width":n,"-height":r}};return null!=(e=t.text)&&e.value&&(a["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":t.text.x-10*t.text.value.length/2,"-y":t.text.y-7,"-width":10*t.text.value.length,"-height":14}}),a})),{"bpmn:definitions":{"-id":"Definitions_"+ut(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":o,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":i}}}},adapterIn:function(t){if(t)return ht(t)}};bt.shapeConfigMap.set(st.START,{width:e,height:f}),bt.shapeConfigMap.set(st.END,{width:$,height:q}),bt.shapeConfigMap.set(st.GATEWAY,{width:Z,height:J}),bt.shapeConfigMap.set(st.SYSTEM,{width:Q,height:tt}),bt.shapeConfigMap.set(st.USER,{width:et,height:nt}),(n=vt=vt||{})[n.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",n[n.START_EVENT=2]="START_EVENT",n[n.END_EVENT=3]="END_EVENT",n[n.USER_TASK=4]="USER_TASK",n[n.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY",new Map,(e=fn=fn||{}).HORIZONTAL="horizontal",e.VERTICAL="vertical";var mt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Ot=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(mt(arguments[e]));return t},_t=(wt.prototype.render=function(t,e){this.destroy();var n=this.getControlTool();this.toolEl=n,e.appendChild(n),this.domContainer=e},wt.prototype.destroy=function(){this.domContainer&&this.toolEl&&this.domContainer.contains(this.toolEl)&&this.domContainer.removeChild(this.toolEl)},wt.prototype.addItem=function(t){this.controlItems.push(t)},wt.prototype.removeItem=function(t){var e=this.controlItems.findIndex((function(e){return e.key===t}));return this.controlItems.splice(e,1)[0]},wt.prototype.getControlTool=function(){var t=this,e="lf-control-item",n="lf-control-item disabled",r=document.createElement("div"),o=[];return r.className="lf-control",this.controlItems.forEach((function(r){var i=document.createElement("div"),a=document.createElement("i"),u=document.createElement("span");switch(i.className=n,r.onClick&&(i.onclick=r.onClick.bind(null,t.lf)),r.onMouseEnter&&(i.onmouseenter=r.onMouseEnter.bind(null,t.lf)),r.onMouseLeave&&(i.onmouseleave=r.onMouseLeave.bind(null,t.lf)),a.className=r.iconClass,u.className="lf-control-text",u.title=r.title,u.innerText=r.text,i.append(a,u),r.text){case"":t.lf.on("history:change",(function(t){t=t.data.undoAble,i.className=t?e:n}));break;case"":t.lf.on("history:change",(function(t){t=t.data.redoAble,i.className=t?e:n}));break;default:i.className=e}o.push(i)})),r.append.apply(r,Ot(o)),r},wt.pluginName="control",wt);function wt(t){var e=this;t=t.lf;this.controlItems=[{key:"zoom-out",iconClass:"lf-control-zoomOut",title:"",text:"",onClick:function(){e.lf.zoom(!1)}},{key:"zoom-in",iconClass:"lf-control-zoomIn",title:"",text:"",onClick:function(){e.lf.zoom(!0)}},{key:"reset",iconClass:"lf-control-fit",title:"",text:"",onClick:function(){e.lf.resetZoom()}},{key:"undo",iconClass:"lf-control-undo",title:"",text:"",onClick:function(){e.lf.undo()}},{key:"redo",iconClass:"lf-control-redo",title:"",text:"",onClick:function(){e.lf.redo()}}],this.lf=t}var xt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},Et=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(xt(arguments[e]));return t},jt="lf:defaultNodeMenu",St="lf:defaultEdgeMenu",Pt="lf:defaultGraphMenu",kt="lf:defaultSelectionMenu",At=(Mt.prototype.init=function(){var t=this,e=(this.menuTypeMap.set(jt,[{text:"",callback:function(e){t.lf.deleteNode(e.id)}},{text:"",callback:function(e){t.lf.graphModel.editText(e.id)}},{text:"",callback:function(e){t.lf.cloneNode(e.id)}}]),[{text:"",callback:function(e){t.lf.deleteEdge(e.id)}},{text:"",callback:function(e){t.lf.graphModel.editText(e.id)}}]);this.menuTypeMap.set(St,e),this.menuTypeMap.set(Pt,[]),e=[{text:"",callback:function(e){t.lf.clearSelectElements(),e.edges.forEach((function(e){return t.lf.deleteEdge(e.id)})),e.nodes.forEach((function(e){return t.lf.deleteNode(e.id)}))}}];this.menuTypeMap.set(kt,e)},Mt.prototype.render=function(t,e){var n=this;this.__container=e,this.__currentData=null,this.__menuDOM.className="lf-menu",e.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",(function(t){t.stopPropagation();for(var e=t.target;-1===Array.from(e.classList).indexOf("lf-menu-item")&&-1===Array.from(e.classList).indexOf("lf-menu");)e=e.parentElement;-1<Array.from(e.classList).indexOf("lf-menu-item")&&(e.onclickCallback(n.__currentData),n.__menuDOM.style.display="none",n.__currentData=null)}),!0),this.lf.on("node:contextmenu",(function(t){var e=t.data,r=(t=t.position.domOverlayPosition,t.x),o=(t=t.y,e.id),i=(o=n.lf.graphModel.getNodeModelById(o),[]),a=n.menuTypeMap.get(o.type);i=o&&o.menu&&Array.isArray(o.menu)?o.menu:a||n.menuTypeMap.get(jt);n.__currentData=e,n.showMenu(r,t,i)})),this.lf.on("edge:contextmenu",(function(t){var e=t.data,r=(t=t.position.domOverlayPosition,t.x),o=(t=t.y,e.id),i=(o=n.lf.graphModel.getEdgeModelById(o),[]),a=n.menuTypeMap.get(o.type);i=o&&o.menu&&Array.isArray(o.menu)?o.menu:a||n.menuTypeMap.get(St);n.__currentData=e,n.showMenu(r,t,i)})),this.lf.on("blank:contextmenu",(function(t){t=t.position;var e=n.menuTypeMap.get(Pt),r=(t=t.domOverlayPosition,t.x);t=t.y;n.showMenu(r,t,e)})),this.lf.on("selection:contextmenu",(function(t){var e=t.data,r=(t=t.position,n.menuTypeMap.get(kt)),o=(t=t.domOverlayPosition,t.x);t=t.y;n.__currentData=e,n.showMenu(o,t,r)})),this.lf.on("node:mousedown",(function(){n.__menuDOM.style.display="none"})),this.lf.on("edge:click",(function(){n.__menuDOM.style.display="none"})),this.lf.on("blank:click",(function(){n.__menuDOM.style.display="none"}))},Mt.prototype.destroy=function(){var t;null!=(t=null==this?void 0:this.__container)&&t.removeChild(this.__menuDOM),this.__menuDOM=null},Mt.prototype.showMenu=function(t,e,n){var r;n&&n.length&&((r=this.__menuDOM).innerHTML="",r.append.apply(r,Et(this.__getMenuDom(n))),r.children.length&&(r.style.display="block",r.style.top=e+"px",r.style.left=t+"px"))},Mt.prototype.setMenuByType=function(t){t.type&&t.menu&&this.menuTypeMap.set(t.type,t.menu)},Mt.prototype.__getMenuDom=function(t){var e=[];return t&&0<t.length&&t.forEach((function(t){var n=document.createElement("li"),r=(t.className?n.className="lf-menu-item "+t.className:n.className="lf-menu-item",!0===t.icon&&((r=document.createElement("span")).className="lf-menu-item-icon",n.appendChild(r)),document.createElement("span"));r.className="lf-menu-item-text",t.text&&(r.innerText=t.text),n.appendChild(r),n.onclickCallback=t.callback,e.push(n)})),e},Mt.prototype.setMenuConfig=function(t){t&&(void 0!==t.nodeMenu&&this.menuTypeMap.set(jt,t.nodeMenu||[]),void 0!==t.edgeMenu&&this.menuTypeMap.set(St,t.edgeMenu||[]),void 0!==t.graphMenu&&this.menuTypeMap.set(Pt,t.graphMenu||[]))},Mt.prototype.addMenuConfig=function(t){var e;t&&(Array.isArray(t.nodeMenu)&&(e=this.menuTypeMap.get(jt),this.menuTypeMap.set(jt,e.concat(t.nodeMenu))),Array.isArray(t.edgeMenu)&&(e=this.menuTypeMap.get(St),this.menuTypeMap.set(St,e.concat(t.edgeMenu))),Array.isArray(t.graphMenu)&&(e=this.menuTypeMap.get(Pt),this.menuTypeMap.set(Pt,e.concat(t.graphMenu))))},Mt.prototype.changeMenuItem=function(t,e){if("add"===t)this.addMenuConfig(e);else{if("reset"!==t)throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'");this.setMenuConfig(e)}},Mt.pluginName="menu",Mt);function Mt(t){var e=this;t=t.lf;this.__menuDOM=document.createElement("ul"),this.lf=t,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(t){e.setMenuConfig(t)},this.lf.addMenuConfig=function(t){e.addMenuConfig(t)},this.lf.setMenuByType=function(t){e.setMenuByType(t)}}Nt.prototype.render=function(t,e){var n=this;this.destroy(),this.shapeList&&0!==this.shapeList.length&&(this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach((function(t){n.panelEl.appendChild(n.createDndItem(t))})),e.appendChild(this.panelEl)),this.domContainer=e},Nt.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},Nt.prototype.setPatternItems=function(t){this.shapeList=t,this.domContainer&&this.render(this.lf,this.domContainer)},Nt.prototype.createDndItem=function(t){var e=this,n=document.createElement("div"),r=(n.className=t.className?"lf-dnd-item "+t.className:"lf-dnd-item",document.createElement("div"));return r.className="lf-dnd-shape",t.icon&&(r.style.backgroundImage="url("+t.icon+")"),n.appendChild(r),t.label&&((r=document.createElement("div")).innerText=t.label,r.className="lf-dnd-text",n.appendChild(r)),n.onmousedown=function(){t.type&&e.lf.dnd.startDrag({type:t.type,properties:t.properties,text:t.text}),t.callback&&t.callback(e.lf,e.domContainer)},n},Nt.pluginName="dndPanel";var Dt=Nt;function Nt(t){var e=this;t=t.lf;this.lf=t,this.lf.setPatternItems=function(t){e.setPatternItems(t)}}Ct.prototype.render=function(t,e){var n=this;this.__domContainer=e,t.on("blank:mousedown",(function(r){var o;r=r.e;t.getEditConfig().stopMoveGraph&&!n.__disabled&&(o=(r=t.getPointByClient(r.clientX,r.clientY).domOverlayPosition).x,r=r.y,n.startPoint={x:o,y:r},n.endPoint={x:o,y:r},(o=document.createElement("div")).className="lf-selection-select",o.style.top=n.startPoint.y+"px",o.style.left=n.startPoint.x+"px",e.appendChild(o),n.wrapper=o,document.addEventListener("mousemove",n.__draw),document.addEventListener("mouseup",n.__drawOff))}))},Ct.prototype.setSelectionSense=function(t,e){void 0===e&&(e=!0),this.isWholeEdge=t=void 0===t||t,this.isWholeNode=e},Ct.prototype.openSelectionSelect=function(){this.lf.getEditConfig().stopMoveGraph||(this.isDefalutStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},Ct.prototype.closeSelectionSelect=function(){this.isDefalutStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},Ct.prototype.open=function(){this.__disabled=!1},Ct.prototype.close=function(){this.__disabled=!0},Ct.pluginName="selectionSelect";var Tt=Ct;function Ct(t){var e=this,n=(t=t.lf,this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(t){t=e.lf.getPointByClient(t.clientX,t.clientY).domOverlayPosition;var n=t.x,r=(t=t.y,e.endPoint={x:n,y:t},e.startPoint),o=r.x,i=(r=r.y,e.wrapper.style),a=o,u=r,c=n-o,s=t-r;n<o&&(c=o-(a=n)),t<r&&(s=r-(u=t)),i.left=a+"px",i.top=u+"px",i.width=c+"px",i.height=s+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",e.__draw),document.removeEventListener("mouseup",e.__drawOff),e.__domContainer.removeChild(e.wrapper);var t,n=e.startPoint,r=n.x,o=(n=n.y,e.endPoint),i=o.x;o=o.y;Math.abs(i-r)<10&&Math.abs(o-n)<10||(t=[Math.min(r,i),Math.min(n,o)],r=[Math.max(r,i),Math.max(n,o)],(i=e.lf.getAreaElement(t,r,e.isWholeEdge,e.isWholeNode)).forEach((function(t){e.lf.selectElementById(t.id,!0)})),e.lf.emit("selection:selected",i))},(this.lf=t).getEditConfig().stopMoveGraph);this.isDefalutStopMoveGraph=n,t.openSelectionSelect=function(){e.openSelectionSelect()},t.closeSelectionSelect=function(){e.closeSelectionSelect()}}Rt=function(t,e){return(Rt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};f=function(t,e){function n(){this.constructor=t}Rt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var Rt,It,Lt=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},zt=(It=r.PolylineEdge,f(Bt,It),Bt.prototype.getEdge=function(){for(var t=this.props.model.getEdgeStyle(),e=t.strokeWidth,n=t.stroke,o=(t=t.strokeDashArray,this.props.model.points.split(" ").map((function(t){return t.split(",").map((function(t){return Number(t)}))}))),i=Lt(o[0],2),a="M"+i[0]+" "+i[1],u=1;u<o.length-1;u++){var c=Lt(o[u-1],2),s=c[0],l=(c=c[1],Lt(o[u],2)),f=l[0],p=(l=l[1],Lt(o[u+1],2)),d=p[0];p=p[1];f===s&&l!==c&&(a=a+" L "+f+" "+(c<l?l-5:l+5)),a=(a=l===c&&f!==s?a+" L "+(s<f?f-5:f+5)+" "+l:a)+" Q "+f+" "+l,f===d&&l!==p&&(a=a+" "+f+" "+(p<l?l-5:l+5)),l===p&&f!==d&&(a=a+" "+(d<f?f-5:f+5)+" "+l)}return i=Lt(o[o.length-1],2),a=a+" L "+i[0]+" "+i[1],Object(r.h)("path",{d:a,strokeWidth:e,stroke:n,fill:"none",strokeDashArray:t})},Bt.extendKey="curvedEdge",Bt);function Bt(){return null!==It&&It.apply(this,arguments)||this}Ht=r.PolylineEdgeModel,f(Ft,Ht);var Ht,Xt=Ft;function Ft(){return null!==Ht&&Ht.apply(this,arguments)||this}var Gt,Ut,Yt,Vt,Wt={pluginName:"curved-edge",curvedSpace:5,init:function(t){t=t.curvedSpace,Wt.curvedSpace=t},install:function(t){t.register({type:"curved-edge",view:zt,model:Xt})}},Kt={},$t=[],qt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Zt(t,e){for(var n in e)t[n]=e[n];return t}function Jt(t){var e=t.parentNode;e&&e.removeChild(t)}function Qt(t,e,n){var r,o,i,a={};for(i in e)"key"==i?r=e[i]:"ref"==i?o=e[i]:a[i]=e[i];if(2<arguments.length&&(a.children=3<arguments.length?Gt.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(i in t.defaultProps)void 0===a[i]&&(a[i]=t.defaultProps[i]);return te(t,a,r,o,null)}function te(t,e,n,r,o){return t={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++Yt:o},null==o&&null!=Ut.vnode&&Ut.vnode(t),t}function ee(t){return t.children}function ne(t,e){this.props=t,this.context=e}function re(t,e){if(null==e)return t.__?re(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?re(t):null}function oe(t){(!t.__d&&(t.__d=!0)&&ve.push(t)&&!ie.__r++||Vt!==Ut.debounceRendering)&&((Vt=Ut.debounceRendering)||be)(ie)}function ie(){for(var t;ie.__r=ve.length;)t=ve.sort((function(t,e){return t.__v.__b-e.__v.__b})),ve=[],t.some((function(t){var e,n,r,o,i;t.__d&&(o=(r=(t=t).__v).__e,(i=t.__P)&&(e=[],(n=Zt({},r)).__v=r.__v+1,pe(i,r,n,t.__n,void 0!==i.ownerSVGElement,null!=r.__h?[o]:null,e,null==o?re(r):o,r.__h),de(e,r),r.__e!=o&&function t(e){var n,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(r=e.__k[n])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return t(e)}}(r)))}))}function ae(t,e,n,r,o,i,a,u,c,s){var l,f,p,d,h,y,g,v=r&&r.__k||$t,b=v.length;for(n.__k=[],l=0;l<e.length;l++)if(null!=(d=n.__k[l]=null==(d=e[l])||"boolean"==typeof d?null:"string"==typeof d||"number"==typeof d||"bigint"==typeof d?te(null,d,null,null,d):Array.isArray(d)?te(ee,{children:d},null,null,null):0<d.__b?te(d.type,d.props,d.key,null,d.__v):d)){if(d.__=n,d.__b=n.__b+1,null===(p=v[l])||p&&d.key==p.key&&d.type===p.type)v[l]=void 0;else for(f=0;f<b;f++){if((p=v[f])&&d.key==p.key&&d.type===p.type){v[f]=void 0;break}p=null}pe(t,d,p=p||Kt,o,i,a,u,c,s),h=d.__e,(f=d.ref)&&p.ref!=f&&(g=g||[],p.ref&&g.push(p.ref,null,d),g.push(f,d.__c||h,d)),null!=h?(null==y&&(y=h),"function"==typeof d.type&&d.__k===p.__k?d.__d=c=function t(e,n,r){for(var o,i=e.__k,a=0;i&&a<i.length;a++)(o=i[a])&&(o.__=e,n="function"==typeof o.type?t(o,n,r):ue(r,o,o,i,o.__e,n));return n}(d,c,t):c=ue(t,d,p,v,h,c),"function"==typeof n.type&&(n.__d=c)):c&&p.__e==c&&c.parentNode!=t&&(c=re(p))}for(n.__e=y,l=b;l--;)null!=v[l]&&("function"==typeof n.type&&null!=v[l].__e&&v[l].__e==n.__d&&(n.__d=re(r,l+1)),function t(e,n,r){var o,i;if(Ut.unmount&&Ut.unmount(e),!(o=e.ref)||o.current&&o.current!==e.__e||he(o,null,n),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){Ut.__e(e,n)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&t(o[i],n,"function"!=typeof e.type);r||null==e.__e||Jt(e.__e),e.__e=e.__d=void 0}(v[l],v[l]));if(g)for(l=0;l<g.length;l++)he(g[l],g[++l],g[++l])}function ue(t,e,n,r,o,i){var a,u,c;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(null==n||o!=i||null==o.parentNode)t:if(null==i||i.parentNode!==t)t.appendChild(o),a=null;else{for(u=i,c=0;(u=u.nextSibling)&&c<r.length;c+=2)if(u==o)break t;t.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function ce(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||qt.test(e)?n:n+"px"}function se(t,e,n,r,o){var i;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof r&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||ce(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||ce(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/Capture$/,"")),e=(e.toLowerCase()in t?e.toLowerCase():e).slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r||t.addEventListener(e,i?fe:le,i):t.removeEventListener(e,i?fe:le,i);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch(t){}"function"!=typeof n&&(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function le(t){this.l[t.type+!1](Ut.event?Ut.event(t):t)}function fe(t){this.l[t.type+!0](Ut.event?Ut.event(t):t)}function pe(t,e,n,r,o,i,a,u,c){var s,l,f,p,d,h,y,g,v,b,m,O=e.type;if(void 0===e.constructor){null!=n.__h&&(c=n.__h,u=e.__e=n.__e,e.__h=null,i=[u]),(s=Ut.__b)&&s(e);try{t:if("function"==typeof O){if(g=e.props,v=(s=O.contextType)&&r[s.__c],b=s?v?v.props.value:s.__:r,n.__c?y=(l=e.__c=n.__c).__=l.__E:("prototype"in O&&O.prototype.render?e.__c=l=new O(g,b):(e.__c=l=new ne(g,b),l.constructor=O,l.render=ye),v&&v.sub(l),l.props=g,l.state||(l.state={}),l.context=b,l.__n=r,f=l.__d=!0,l.__h=[]),null==l.__s&&(l.__s=l.state),null!=O.getDerivedStateFromProps&&(l.__s==l.state&&(l.__s=Zt({},l.__s)),Zt(l.__s,O.getDerivedStateFromProps(g,l.__s))),p=l.props,d=l.state,f)null==O.getDerivedStateFromProps&&null!=l.componentWillMount&&l.componentWillMount(),null!=l.componentDidMount&&l.__h.push(l.componentDidMount);else{if(null==O.getDerivedStateFromProps&&g!==p&&null!=l.componentWillReceiveProps&&l.componentWillReceiveProps(g,b),!l.__e&&null!=l.shouldComponentUpdate&&!1===l.shouldComponentUpdate(g,l.__s,b)||e.__v===n.__v){l.props=g,l.state=l.__s,e.__v!==n.__v&&(l.__d=!1),(l.__v=e).__e=n.__e,e.__k=n.__k,e.__k.forEach((function(t){t&&(t.__=e)})),l.__h.length&&a.push(l);break t}null!=l.componentWillUpdate&&l.componentWillUpdate(g,l.__s,b),null!=l.componentDidUpdate&&l.__h.push((function(){l.componentDidUpdate(p,d,h)}))}l.context=b,l.props=g,l.state=l.__s,(s=Ut.__r)&&s(e),l.__d=!1,l.__v=e,l.__P=t,s=l.render(l.props,l.state,l.context),l.state=l.__s,null!=l.getChildContext&&(r=Zt(Zt({},r),l.getChildContext())),f||null==l.getSnapshotBeforeUpdate||(h=l.getSnapshotBeforeUpdate(p,d)),m=null!=s&&s.type===ee&&null==s.key?s.props.children:s,ae(t,Array.isArray(m)?m:[m],e,n,r,o,i,a,u,c),l.base=e.__e,e.__h=null,l.__h.length&&a.push(l),y&&(l.__E=l.__=null),l.__e=!1}else null==i&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=function(t,e,n,r,o,i,a,u){var c,s,l,f=n.props,p=e.props,d=e.type,h=0;if("svg"===d&&(o=!0),null!=i)for(;h<i.length;h++)if((c=i[h])&&"setAttribute"in c==!!d&&(d?c.localName===d:3===c.nodeType)){t=c,i[h]=null;break}if(null==t){if(null===d)return document.createTextNode(p);t=o?document.createElementNS("http://www.w3.org/2000/svg",d):document.createElement(d,p.is&&p),i=null,u=!1}if(null===d)f===p||u&&t.data===p||(t.data=p);else{if(i=i&&Gt.call(t.childNodes),s=(f=n.props||Kt).dangerouslySetInnerHTML,l=p.dangerouslySetInnerHTML,!u){if(null!=i)for(f={},h=0;h<t.attributes.length;h++)f[t.attributes[h].name]=t.attributes[h].value;!l&&!s||l&&(s&&l.__html==s.__html||l.__html===t.innerHTML)||(t.innerHTML=l&&l.__html||"")}if(function(t,e,n,r,o){for(var i in n)"children"===i||"key"===i||i in e||se(t,i,null,n[i],r);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===e[i]||se(t,i,e[i],n[i],r)}(t,p,f,o,u),l)e.__k=[];else if(h=e.props.children,ae(t,Array.isArray(h)?h:[h],e,n,r,o&&"foreignObject"!==d,i,a,i?i[0]:n.__k&&re(n,0),u),null!=i)for(h=i.length;h--;)null!=i[h]&&Jt(i[h]);u||("value"in p&&void 0!==(h=p.value)&&(h!==t.value||"progress"===d&&!h||"option"===d&&h!==f.value)&&se(t,"value",h,f.value,!1),"checked"in p&&void 0!==(h=p.checked)&&h!==t.checked&&se(t,"checked",h,f.checked,!1))}return t}(n.__e,e,n,r,o,i,a,c);(s=Ut.diffed)&&s(e)}catch(t){e.__v=null,!c&&null==i||(e.__e=u,e.__h=!!c,i[i.indexOf(u)]=null),Ut.__e(t,e,n)}}}function de(t,e){Ut.__c&&Ut.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){Ut.__e(t,e.__v)}}))}function he(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){Ut.__e(t,n)}}function ye(t,e,n){return this.constructor(t,n)}Gt=$t.slice,Ut={__e:function(t,e,n,r){for(var o,i,a;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(t)),a=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(t,r||{}),a=o.__d),a)return o.__E=o}catch(e){t=e}throw t}},Yt=0,ne.prototype.setState=function(t,e){var n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Zt({},this.state);(t="function"==typeof t?t(Zt({},n),this.props):t)&&Zt(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),oe(this))},ne.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),oe(this))},ne.prototype.render=ee;var ge,ve=[],be="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,me=(ie.__r=0,function(){return(me=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)});function Oe(t){var e=t.x,n=t.y,o=t.width,i=t.height,a=t.radius,u=t.className;e-=o/2,o=n-i/2,n=me(me({width:10,height:10,cx:0,cy:0,rx:a||0,ry:a||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+u},t),{x:e,y:o});return Object(r.h)("rect",me({},n))}function _e(t){var e=t.x,n=t.y,r=t.width;t=t.height;return{minX:e-r/2,minY:n-t/2,maxX:e+r/2,maxY:n+t/2}}function we(t){var e=_e(t),n=(t=t.radius,e.minX),r=e.minY,o=e.maxX;e=e.maxY;return[{x:n+t,y:r+t},{x:o-t,y:r+t},{x:o-t,y:e-t},{x:n+t,y:e-t}]}function xe(t){var e,n,r,o=t.point,i=t.beforeNode,a=(t=t.afterNode,o.x),u=(o=o.y,{x:a,y:o}),c=i.radius,s=_e(i),l=_e(t);return a===s.minX?(u.x=l.minX,e=(o-i.y)/(i.height/2-c),u.y=e?t.y+(t.height/2-c)*e:t.y):a===s.maxX?(u.x=l.maxX,e=(o-i.y)/(i.height/2-c),u.y=e?t.y+(t.height/2-c)*e:t.y):o===s.minY?(u.y=l.minY,e=(a-i.x)/(i.width/2-c),u.x=e?t.x+(t.width/2-c)*e:t.x):o===s.maxY?(u.y=l.maxY,e=(a-i.x)/(i.width/2-c),u.x=e?t.x+(t.width/2-c)*e:t.x):(s=we(i),l=we(t),t=(e=_e(i)).minX,i=e.minY,r=e.maxX,e=e.maxY,n=-1,a-t<c&&o-i<c?n=0:r-a<c&&o-i<c?n=1:r-a<c&&e-o<c?n=2:a-t<c&&i-o<c&&(n=3),-1<n&&(r=Math.atan2(o-s[n].y,a-s[n].x),u.x=l[n].x+c*Math.cos(r),u.y=l[n].y+c*Math.sin(r))),u}function Ee(t){var e,n=t.point,r=t.beforeNode,o=(t=t.afterNode,t.rx),i=t.ry,a=(n.y-r.y)/(n.x-r.x);n=1/0<=a?(e=0,i):a<=-1/0?(e=0,-i):0<n.x-r.x?(e=o*i/Math.sqrt(i*i+o*o*a*a),o*i*a/Math.sqrt(i*i+o*o*a*a)):(e=-o*i/Math.sqrt(i*i+o*o*a*a),-o*i*a/Math.sqrt(i*i+o*o*a*a));return{x:e+t.x,y:n+t.y}}function je(t){var e=t.point,n=t.beforeNode,r=(t=t.afterNode,e.x-n.x),o=(e=e.y-n.y,n.rx),i=(n=n.ry,o=Math.sqrt((o-Math.abs(r))*(o-Math.abs(r))+e*e)/Math.sqrt(o*o+n*n),n=t.rx,t.ry);o=Math.sqrt((n*n+i*i)*o*o*(n*n/(n*n+i*i))),i=o*(i/n),r=0<=r?n-o:o-n,o=0<e?i:-i;return{x:r+t.x,y:o+t.y}}Oe.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""},($=ge=ge||{}).NODE="node",$.CIRCLE_NODE="circle-node",$.POLYGON_NODE="polygon-node",$.RECT_NODE="rect-node",$.HTML_NODE="html-node",$.TEXT_NODE="text-node",$.ELLIPSE_NODE="ellipse-node",$.DIAMOND_NODE="diamond-node",$.EDGE="edge",$.LINE_EDGE="line-edge",$.POLYLINE_EDGE="polyline-edge",$.BEZIER_EDGE="bezier-edge",$.GRAPH="graph",Se=function(t,e){return(Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};q=function(t,e){function n(){this.constructor=t}Se(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var Se,Pe,ke=function(){return(ke=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Ae=r.LogicFlowUtil.StepDrag;function Me(t){var e=Pe.call(this)||this;e.updatePosition=function(t){var n=t.deltaX,r=(t=t.deltaY,e.nodeModel),o=r.x;r=r.y;e.nodeModel.x=o+n/2,e.nodeModel.y=r+t/2,e.nodeModel.moveText(n/2,t/2)},e.getResize=function(t){var e=t.index,n=t.deltaX,r=t.deltaY,o=t.width,i=t.height,a=(t=t.pct,void 0===t?1:t),u={width:o,height:i};switch(e){case 0:u.width=o-n*a,u.height=i-r*a;break;case 1:u.width=o+n*a,u.height=i-r*a;break;case 2:u.width=o+n,u.height=i+r*a;break;case 3:u.width=o-n*a,u.height=i+r*a}return u},e.updateRect=function(t){var n,r,o=t.deltaX,i=(t=t.deltaY,e.nodeModel),a=i.id,u=i.x,c=i.y,s=i.width,l=i.height,f=(i=i.radius,e.index),p=(f=e.getResize({index:f,deltaX:o,deltaY:t,width:s,height:l,pct:1}),e.nodeModel),d=p.minWidth,h=p.minHeight,y=p.maxWidth;p=p.maxHeight;f.width<d||f.width>y||f.height<h||f.height>p?e.dragHandler.cancelDrag():(e.updatePosition({deltaX:o,deltaY:t}),e.nodeModel.width=f.width,e.nodeModel.height=f.height,e.nodeModel.setProperties({nodeSize:{width:f.width,height:f.height}}),d=e.getNodeEdges(a),y={x:e.nodeModel.x,y:e.nodeModel.y,width:e.nodeModel.width,height:e.nodeModel.height,radius:i},n={point:"",beforeNode:h={x:u,y:c,width:s,height:l,radius:i},afterNode:y},d.sourceEdges.forEach((function(t){n.point=t.startPoint,r=xe(n),t.updateStartPoint(r)})),d.targetEdges.forEach((function(t){n.point=t.endPoint,r=xe(n),t.updateEndPoint(r)})),e.eventEmit({beforeNode:h,afterNode:y}))},e.updateEllipse=function(t){var n,r,o=t.deltaX,i=(t=t.deltaY,e.nodeModel),a=i.id,u=i.rx,c=i.ry,s=i.x,l=(i=i.y,e.index),f=(l=e.getResize({index:l,deltaX:o,deltaY:t,width:u,height:c,pct:.5}),e.nodeModel),p=f.minWidth,d=f.minHeight,h=f.maxWidth;f=f.maxHeight;l.width<p/2||l.width>h/2||l.height<d/2||l.height>f/2?e.dragHandler.cancelDrag():(e.updatePosition({deltaX:o,deltaY:t}),e.nodeModel.rx=e.nodeModel.rx+o/2,e.nodeModel.ry=e.nodeModel.ry+t/2,e.nodeModel.setProperties({nodeSize:{rx:l.width,ry:l.height}}),p=e.getNodeEdges(a),h={rx:l.width,ry:l.height,x:e.nodeModel.x,y:e.nodeModel.y},n={point:{},beforeNode:d={x:s,y:i},afterNode:h},p.sourceEdges.forEach((function(t){n.point=t.startPoint,r=Ee(n),t.updateStartPoint(r)})),p.targetEdges.forEach((function(t){n.point=t.endPoint,r=Ee(n),t.updateEndPoint(r)})),e.eventEmit({beforeNode:ke(ke({},d),{rx:u,ry:c}),afterNode:h}))},e.updateDiamond=function(t){var n,r,o=t.deltaX,i=(t=t.deltaY,e.nodeModel),a=i.id,u=i.rx,c=i.ry,s=i.x,l=(i=i.y,e.index),f=(l=e.getResize({index:l,deltaX:o,deltaY:t,width:u,height:c,pct:.5}),e.nodeModel),p=f.minWidth,d=f.minHeight,h=f.maxWidth;f=f.maxHeight;l.width<p/2||l.width>h/2||l.height<d/2||l.height>f/2?e.dragHandler.cancelDrag():(e.updatePosition({deltaX:o,deltaY:t}),e.nodeModel.rx=e.nodeModel.rx+o/2,e.nodeModel.ry=e.nodeModel.ry+t/2,e.nodeModel.setProperties({nodeSize:{rx:l.width,ry:l.height}}),p={rx:l.width,ry:l.height,x:e.nodeModel.x,y:e.nodeModel.y},n={point:{},beforeNode:h={x:s,y:i,rx:u,ry:c},afterNode:p},(d=e.getNodeEdges(a)).sourceEdges.forEach((function(t){n.point=t.startPoint,r=je(n),t.updateStartPoint(r)})),d.targetEdges.forEach((function(t){n.point=t.endPoint,r=je(n),t.updateEndPoint(r)})),e.eventEmit({beforeNode:h,afterNode:p}))},e.eventEmit=function(t){var n=t.beforeNode,r=(t=t.afterNode,e.nodeModel),o=r.id,i=r.modelType;r=r.type,n=ke({id:o,modelType:i,type:r},n),o=ke({id:o,modelType:i,type:r},t);e.graphModel.eventCenter.emit("node:resize",{oldNodeSize:n,newNodeSize:o})},e.onDraging=function(t){var n=t.deltaX,r=(t=t.deltaY,e.nodeModel.modelType);r===ge.RECT_NODE||r===ge.HTML_NODE?e.updateRect({deltaX:n,deltaY:t}):r===ge.ELLIPSE_NODE?e.updateEllipse({deltaX:n,deltaY:t}):r===ge.DIAMOND_NODE&&e.updateDiamond({deltaX:n,deltaY:t})},e.index=t.index,e.nodeModel=t.model,e.graphModel=t.graphModel,t=e.graphModel.gridSize,t=1<t?2*t:2;return e.nodeModel.gridSize&&(t=2*e.nodeModel.gridSize),e.state={},e.dragHandler=new Ae({onDraging:e.onDraging,step:t}),e}q(Me,Pe=ne),Me.prototype.getNodeEdges=function(t){for(var e=this.graphModel.edges,n=[],r=[],o=0;o<e.length;o++){var i=e[o];i.sourceNodeId===t?n.push(i):e[o].targetNodeId===t&&r.push(i)}return{sourceEdges:n,targetEdges:r}},Me.prototype.render=function(){var t=this.props,e=t.x,n=t.y,r=t.index;t=t.model.getControlPointStyle();return Qt("g",{className:"lf-resize-control-"+r},Qt(Oe,ke({className:"lf-node-control"},{x:e,y:n},t,{onMouseDown:this.dragHandler.handleMouseDown})))};var De,Ne=Me,Te=function(){return(Te=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Ce(){var t=De.call(this)||this;return t.state={},t}var Re=Ce;Z=De=ne;function Ie(){this.constructor=Re}(function(t,e){(Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)})(Re,Z),Re.prototype=null===Z?Object.create(Z):(Ie.prototype=Z.prototype,new Ie),Ce.prototype.getResizeControl=function(){var t=this.props,e=t.model,n=t.graphModel,r=(t=e.x,e.y),o=e.width,i=e.height;t={minX:t-o/2,minY:r-i/2,maxX:t+o/2,maxY:r+i/2},o=t.minX,r=t.minY,i=t.maxX,t=t.maxY;return[{x:o,y:r},{x:i,y:r},{x:i,y:t},{x:o,y:t}].map((function(t,r){return Qt(Ne,Te({index:r},t,{model:e,graphModel:n}))}))},Ce.prototype.getGroupSolid=function(){var t=this.props.model,e=t.x,n=t.y,r=t.width,o=t.height;t=t.getResizeOutlineStyle();return Qt(Oe,Te({fill:"none"},t,{x:e,y:n,width:r,height:o}))},Ce.prototype.render=function(){return Qt("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())};var Le,ze,Be,He=Ce;Le=function(t,e){return(Le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},J=function(t,e){function n(){this.constructor=t}Le(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ze=r.RectNodeModel,J(Xe,ze),Xe.prototype.initNodeData=function(t){ze.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},Xe.prototype.getOutlineStyle=function(){var t=ze.prototype.getOutlineStyle.call(this);return t.stroke="none",t.hover&&(t.hover.stroke="none"),t},Xe.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},Xe.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},Xe.prototype.resize=function(t,e){},Q=Xe;function Xe(t,e){return t=ze.call(this,t,e)||this,e=t.properties.nodeSize,e&&(t.width=e.width,t.height=e.height),t}function Fe(){return null!==Be&&Be.apply(this,arguments)||this}Be=r.RectNode,J(Fe,Be),Fe.prototype.getControlGroup=function(){var t=this.props,e=t.model;t=t.graphModel;return Object(r.h)(He,{model:e,graphModel:t})},Fe.prototype.getResizeShape=function(){return Be.prototype.getShape.call(this)},Fe.prototype.getShape=function(){var t=this.props.model.isSelected;return Object(r.h)("g",null,this.getResizeShape(),t?this.getControlGroup():"")};var Ge,Ue,Ye;tt={type:"rect",view:Fe,model:Q},Ge=function(t,e){return(Ge=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},et=function(t,e){function n(){this.constructor=t}Ge(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};function Ve(t,e){return t=Ue.call(this,t,e)||this,e=t.properties.nodeSize,e&&(t.rx=e.rx,t.ry=e.ry),t}function We(){return null!==Ye&&Ye.apply(this,arguments)||this}Ue=r.EllipseNodeModel,et(Ve,Ue),Ve.prototype.initNodeData=function(t){Ue.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},Ve.prototype.getOutlineStyle=function(){var t=Ue.prototype.getOutlineStyle.call(this);return t.stroke="none",t.hover&&(t.hover.stroke="none"),t},Ve.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},Ve.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},Ye=r.EllipseNode,et(We,Ye),We.prototype.getControlGroup=function(){var t=this.props,e=t.model;t=t.graphModel;return Object(r.h)(He,{model:e,graphModel:t})},We.prototype.getResizeShape=function(){return Ye.prototype.getShape.call(this)},We.prototype.getShape=function(){var t=this.props.model;return Object(r.h)("g",null,this.getResizeShape(),t.isSelected?this.getControlGroup():"")};var Ke=function(){return(Ke=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function $e(t){var e=t.fillOpacity,n=t.strokeWidth,o=t.strokeOpacity,i=t.fill,a=t.stroke,u=t.points;t=t.className,i={fill:void 0===i?"transparent":i,fillOpacity:void 0===e?1:e,strokeWidth:void 0===n?1:n,stroke:void 0===a?"#000":a,strokeOpacity:void 0===o?1:o,points:"",className:void 0===t?"lf-basic-shape":t};return i.points=u.map((function(t){return t.join(",")})).join(" "),Object(r.h)("polygon",Ke({},i))}qe=function(t,e){return(qe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};nt=function(t,e){function n(){this.constructor=t}qe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};var qe,Ze,Je,Qe=function(){return(Qe=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function tn(t,e){return t=Ze.call(this,t,e)||this,e=t.properties.nodeSize,e&&(t.rx=e.rx,t.ry=e.ry),t}function en(){return null!==Je&&Je.apply(this,arguments)||this}Ze=r.DiamondNodeModel,nt(tn,Ze),tn.prototype.initNodeData=function(t){Ze.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},tn.prototype.getOutlineStyle=function(){var t=Ze.prototype.getOutlineStyle.call(this);return t.stroke="none",t.hover&&(t.hover.stroke="none"),t},tn.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},tn.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},Je=r.DiamondNode,nt(en,Je),en.prototype.getControlGroup=function(){var t=this.props,e=t.model;t=t.graphModel;return Object(r.h)(He,{model:e,graphModel:t})},en.prototype.getResizeShape=function(){var t=this.props.model,e=t.points;t=t.getNodeStyle();return Object(r.h)("g",null,Object(r.h)($e,Qe({},t,{points:e})))},en.prototype.getShape=function(){var t=this.props.model.isSelected;return Object(r.h)("g",null,this.getResizeShape(),t?this.getControlGroup():"")},nn=function(t,e){return(nn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var nn,rn,on;n=function(t,e){function n(){this.constructor=t}nn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};function an(t,e){return t=rn.call(this,t,e)||this,e=t.properties.nodeSize,e&&(t.width=e.width,t.height=e.height),t}function un(){return null!==on&&on.apply(this,arguments)||this}rn=r.HtmlNodeModel,n(an,rn),an.prototype.initNodeData=function(t){rn.prototype.initNodeData.call(this,t),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},an.prototype.getOutlineStyle=function(){var t=rn.prototype.getOutlineStyle.call(this);return t.stroke="none",t.hover&&(t.hover.stroke="none"),t},an.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},an.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},on=r.HtmlNode,n(un,on),un.prototype.getControlGroup=function(){var t=this.props,e=t.model;t=t.graphModel;return Object(r.h)(He,{model:e,graphModel:t})},un.prototype.getResizeShape=function(){return on.prototype.getShape.call(this)},un.prototype.getShape=function(){var t=this.props.model.isSelected;return Object(r.h)("g",null,this.getResizeShape(),t?this.getControlGroup():"")},cn=function(t,e){return(cn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var cn,sn,ln,fn=function(t,e){function n(){this.constructor=t}cn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},pn=function(){return(pn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},dn=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||0<e--)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},hn=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(dn(arguments[e]));return t};fn(yn,sn=tt.model),yn.prototype.initNodeData=function(t){var e=this,n=(sn.prototype.initNodeData.call(this,t),[]);Array.isArray(t.children)&&(n=t.children),this.children=new Set(n),this.width=500,this.height=300,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,void 0===this.properties.isFolded&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout((function(){e.isFolded&&e.foldGroup(e.isFolded)}))},yn.prototype.getResizeOutlineStyle=function(){var t=sn.prototype.getResizeOutlineStyle.call(this);return t.stroke="none",t},yn.prototype.foldGroup=function(t){var e=this,n=(this.setProperty("isFolded",t),(this.isFolded=t)?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2),this.incoming.edges.concat(this.outgoing.edges));this.children.forEach((function(r){r=e.graphModel.getElement(r),r.visible=!t,n=n.concat(r.incoming.edges.concat(r.outgoing.edges))})),this.foldEdge(t,n)},yn.prototype.getAnchorStyle=function(t){return t=sn.prototype.getAnchorStyle.call(this,t),t.stroke="transparent",t.fill="transparent",t.hover.fill="transparent",t.hover.stroke="transparent",t},yn.prototype.foldEdge=function(t,e){var n=this;e.forEach((function(e,r){var o=e.id,i=e.sourceNodeId,a=e.targetNodeId,u=e.startPoint,c=e.endPoint,s=e.type,l=e.properties,f=e.text;o={id:o+"__"+r,sourceNodeId:i,targetNodeId:a,startPoint:u,endPoint:c,type:s,properties:l,text:null==f?void 0:f.value};e.virtual&&n.graphModel.deleteEdgeById(e.id),r=(r=n.graphModel.group.getNodeGroup(a))||n.graphModel.getNodeModelById(a),u=(u=n.graphModel.group.getNodeGroup(i))||n.graphModel.getNodeModelById(i),t&&!1!==e.visible&&(n.children.has(i)||n.id===i?(o.startPoint=void 0,o.sourceNodeId=n.id):(o.endPoint=void 0,o.targetNodeId=n.id),r.id===n.id&&u.id===n.id||n.createVirtualEdge(o),e.visible=!1),t||!1!==e.visible||(r&&r.isGroup&&r.isFolded?(o.targetNodeId=r.id,o.endPoint=void 0,n.createVirtualEdge(o)):u&&u.isGroup&&u.isFolded?(o.sourceNodeId=u.id,o.startPoint=void 0,n.createVirtualEdge(o)):e.visible=!0)}))},yn.prototype.createVirtualEdge=function(t){t.pointsList=void 0,t=this.graphModel.addEdge(t),t.virtual=!0,t.getData=function(){return null},t.text.editable=!1,t.isFoldedEdge=!0},yn.prototype.isInRange=function(t){var e=t.x1,n=t.y1,r=t.x2;t=t.y2;return e>=this.x-this.width/2&&r<=this.x+this.width/2&&n>=this.y-this.height/2&&t<=this.y+this.height/2},yn.prototype.isAllowMoveTo=function(t){var e=t.x1,n=t.y1,r=t.x2;t=t.y2;return{x:e>=this.x-this.width/2&&r<=this.x+this.width/2,y:n>=this.y-this.height/2&&t<=this.y+this.height/2}},yn.prototype.setAllowAppendChild=function(t){this.setProperty("groupAddable",t)},yn.prototype.addChild=function(t){this.children.add(t)},yn.prototype.removeChild=function(t){this.children.delete(t)},yn.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},yn.prototype.getData=function(){var t=sn.prototype.getData.call(this),e=(t.children=hn(this.children),t.properties);return delete e.groupAddable,delete e.isFolded,t},yn.prototype.getHistoryData=function(){var t=sn.prototype.getData.call(this),e=(t.children=hn(this.children),t.properties);return delete e.groupAddable,e.isFolded&&(t.x=t.x+this.unfoldedWidth/2-this.foldedWidth/2,t.y=t.y+this.unfoldedHight/2-this.foldedHeight/2),t},e=yn;function yn(){var t=null!==sn&&sn.apply(this,arguments)||this;return t.isGroup=!0,t.unfoldedWidth=500,t.unfoldedHight=300,t}function gn(){return null!==ln&&ln.apply(this,arguments)||this}fn(gn,ln=tt.view),gn.prototype.getControlGroup=function(){var t=this.props.model,e=t.resizable;t=t.properties;return e&&!t.isFolded?ln.prototype.getControlGroup.call(this):null},gn.prototype.getAddedableShape=function(){var t=this.props.model,e=t.width,n=t.height,o=t.x,i=t.y,a=t.radius;if(!t.properties.groupAddable)return null;t=this.props.model.getNodeStyle().strokeWidth;var u=this.props.model.getAddableOutlineStyle();e=e+t+8,n=n+t+8;return Object(r.h)("rect",pn(pn({},u),{width:e,height:n,x:o-e/2,y:i-n/2,rx:a,ry:a}))},gn.prototype.getFoldIcon=function(){var t=this.props.model,e=t.x-t.width/2+5,n=t.y-t.height/2+5;return t.foldable?(e=Object(r.h)("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:t.properties.isFolded?"M "+(3+e)+","+(6+n)+" "+(11+e)+","+(6+n)+" M"+(7+e)+","+(2+n)+" "+(7+e)+","+(10+n):"M "+(3+e)+","+(6+n)+" "+(11+e)+","+(6+n)+" "}),Object(r.h)("g",{},[Object(r.h)("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:t.x-t.width/2+5,y:t.y-t.height/2+5,onClick:function(){t.foldGroup(!t.properties.isFolded)}}),e])):null},gn.prototype.getResizeShape=function(){return Object(r.h)("g",{},[this.getAddedableShape(),ln.prototype.getResizeShape.call(this),this.getFoldIcon()])}}}]);