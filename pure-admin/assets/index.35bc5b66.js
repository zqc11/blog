var Lw=Object.defineProperty,zw=Object.defineProperties;var Bw=Object.getOwnPropertyDescriptors;var vv=Object.getOwnPropertySymbols;var Fw=Object.prototype.hasOwnProperty,Hw=Object.prototype.propertyIsEnumerable;var gv=(g,v,s)=>v in g?Lw(g,v,{enumerable:!0,configurable:!0,writable:!0,value:s}):g[v]=s,bv=(g,v)=>{for(var s in v||(v={}))Fw.call(v,s)&&gv(g,s,v[s]);if(vv)for(var s of vv(v))Hw.call(v,s)&&gv(g,s,v[s]);return g},mv=(g,v)=>zw(g,Bw(v));import{ch as _v,d as Ja,Y as Ov,p as qr,aN as wv,y as yt,o as Xn,l as Sr,n as Zr,F as xv,x as Ev,X as Sv,P as jv,a9 as Pv,A as kv,t as Av,q as Tv,cj as Xw,ck as Uw,c as Dv,r as Mv,a as Qa,w as Nv,B as Vw,C as Ww}from"./vendor.316a9354.js";import{_ as ys}from"./index.47cd80a7.js";var Ae={exports:{}};(function(g,v){(function(s,p){g.exports=p()})(window,function(){return function(s){var p={};function u(f){if(p[f])return p[f].exports;var d=p[f]={i:f,l:!1,exports:{}};return s[f].call(d.exports,d,d.exports,u),d.l=!0,d.exports}return u.m=s,u.c=p,u.d=function(f,d,y){u.o(f,d)||Object.defineProperty(f,d,{enumerable:!0,get:y})},u.r=function(f){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})},u.t=function(f,d){if(1&d&&(f=u(f)),8&d||4&d&&typeof f=="object"&&f&&f.__esModule)return f;var y=Object.create(null);if(u.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:f}),2&d&&typeof f!="string")for(var x in f)u.d(y,x,function(E){return f[E]}.bind(null,x));return y},u.n=function(f){var d=f&&f.__esModule?function(){return f.default}:function(){return f};return u.d(d,"a",d),d},u.o=function(f,d){return Object.prototype.hasOwnProperty.call(f,d)},u.p="",u(u.s=184)}([function(s,p,u){(function(f,d){u.d(p,"a",function(){return Bt}),u.d(p,"b",function(){return Br}),u.d(p,"c",function(){return Gn}),u.d(p,"d",function(){return lu}),u.d(p,"e",function(){return zi}),u.d(p,"f",function(){return xn}),u.d(p,"g",function(){return Re}),u.d(p,"h",function(){return Fo}),u.d(p,"i",function(){return _n}),u.d(p,"j",function(){return ao}),u.d(p,"k",function(){return ur}),u.d(p,"l",function(){return Wi}),u.d(p,"m",function(){return ie}),u.d(p,"n",function(){return Qi}),u.d(p,"o",function(){return Yi}),u.d(p,"p",function(){return Ki}),u.d(p,"q",function(){return dn}),u.d(p,"r",function(){return ca}),u.d(p,"s",function(){return Vi}),u.d(p,"t",function(){return Zi}),u.d(p,"u",function(){return hu}),u.d(p,"v",function(){return $n}),u.d(p,"w",function(){return Vt}),u.d(p,"x",function(){return Wt}),u.d(p,"y",function(){return hn}),u.d(p,"z",function(){return Kn}),u.d(p,"A",function(){return tt}),u.d(p,"B",function(){return lr}),u.d(p,"C",function(){return ln}),u.d(p,"D",function(){return Go}),u.d(p,"E",function(){return Ui}),u.d(p,"F",function(){return Hi}),u.d(p,"G",function(){return uo}),u.d(p,"H",function(){return ft}),u.d(p,"I",function(){return Tr}),u.d(p,"J",function(){return qn}),u.d(p,"K",function(){return ta});var y=[];Object.freeze(y);var x={};Object.freeze(x);var E={};function S(){return typeof window!="undefined"?window:f!==void 0?f:typeof self!="undefined"?self:E}function P(){return++ge.mobxGuid}function k(b){throw O(!1,b),"X"}function O(b,m){if(!b)throw new Error("[mobx] "+(m||"An invariant failed, however the error is obfuscated because this is an production build."))}function z(b){var m=!1;return function(){if(!m)return m=!0,b.apply(this,arguments)}}var G=function(){};function q(b){return b!==null&&typeof b=="object"}function Y(b){if(b===null||typeof b!="object")return!1;var m=Object.getPrototypeOf(b);return m===Object.prototype||m===null}function U(b,m,w){Object.defineProperty(b,m,{enumerable:!1,writable:!0,configurable:!0,value:w})}function L(b,m,w){Object.defineProperty(b,m,{enumerable:!1,writable:!1,configurable:!0,value:w})}function H(b,m){var w="isMobX"+b;return m.prototype[w]=!0,function(T){return q(T)&&T[w]===!0}}function $(b){return S().Map!==void 0&&b instanceof S().Map}function N(b){return b instanceof Set}function I(b){for(var m=[];;){var w=b.next();if(w.done)break;m.push(w.value)}return m}function C(){return typeof Symbol=="function"&&Symbol.toPrimitive||"@@toPrimitive"}function F(b){return b===null?null:typeof b=="object"?""+b:b}function B(b,m){for(var w=b.next();!w.done;)m(w.value),w=b.next()}function R(){return typeof Symbol=="function"&&Symbol.iterator||"@@iterator"}function V(b,m){L(b,R(),m)}function K(b){return b[R()]=se,b}function ne(){return typeof Symbol=="function"&&Symbol.toStringTag||"@@toStringTag"}function se(){return this}var he=function(){function b(m){m===void 0&&(m="Atom@"+P()),this.name=m,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Le.NOT_TRACKING}return b.prototype.onBecomeUnobserved=function(){},b.prototype.onBecomeObserved=function(){},b.prototype.reportObserved=function(){return Cr(this)},b.prototype.reportChanged=function(){Ct(),function(m){if(m.lowestObserverState!==Le.STALE){m.lowestObserverState=Le.STALE;for(var w=m.observers,T=w.length;T--;){var D=w[T];D.dependenciesState===Le.UP_TO_DATE&&(D.isTracing!==Pt.NONE&&Uo(D,m),D.onBecomeStale()),D.dependenciesState=Le.STALE}}}(this),Qt()},b.prototype.toString=function(){return this.name},b}(),pe=H("Atom",he);function ie(b,m,w){m===void 0&&(m=G),w===void 0&&(w=G);var T,D=new he(b);return $o("onBecomeObserved",D,m,T),ln(D,w),D}function ce(b,m){return b===m}var ae={identity:ce,structural:function(b,m){return ni(b,m)},default:function(b,m){return function(w,T){return typeof w=="number"&&typeof T=="number"&&isNaN(w)&&isNaN(T)}(b,m)||ce(b,m)},shallow:function(b,m){return ni(b,m,1)}},ue=function(b,m){return(ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,T){w.__proto__=T}||function(w,T){for(var D in T)T.hasOwnProperty(D)&&(w[D]=T[D])})(b,m)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ve(b,m){function w(){this.constructor=b}ue(b,m),b.prototype=m===null?Object.create(m):(w.prototype=m.prototype,new w)}var be=function(){return(be=Object.assign||function(b){for(var m,w=1,T=arguments.length;w<T;w++)for(var D in m=arguments[w])Object.prototype.hasOwnProperty.call(m,D)&&(b[D]=m[D]);return b}).apply(this,arguments)};function we(b,m){var w=typeof Symbol=="function"&&b[Symbol.iterator];if(!w)return b;var T,D,W=w.call(b),te=[];try{for(;(m===void 0||m-- >0)&&!(T=W.next()).done;)te.push(T.value)}catch(de){D={error:de}}finally{try{T&&!T.done&&(w=W.return)&&w.call(W)}finally{if(D)throw D.error}}return te}function Ce(){for(var b=[],m=0;m<arguments.length;m++)b=b.concat(we(arguments[m]));return b}var Pe={},ot={};function xt(b,m){var w=m?Pe:ot;return w[b]||(w[b]={configurable:!0,enumerable:m,get:function(){return Be(this),this[b]},set:function(T){Be(this),this[b]=T}})}function Be(b){if(b.__mobxDidRunLazyInitializers!==!0){var m=b.__mobxDecorators;if(m)for(var w in U(b,"__mobxDidRunLazyInitializers",!0),m){var T=m[w];T.propertyCreator(b,T.prop,T.descriptor,T.decoratorTarget,T.decoratorArguments)}}}function Te(b,m){return function(){var w,T=function(D,W,te,de){if(de===!0)return m(D,W,te,D,w),null;if(!Object.prototype.hasOwnProperty.call(D,"__mobxDecorators")){var Oe=D.__mobxDecorators;U(D,"__mobxDecorators",be({},Oe))}return D.__mobxDecorators[W]={prop:W,propertyCreator:m,descriptor:te,decoratorTarget:D,decoratorArguments:w},xt(W,b)};return We(arguments)?(w=y,T.apply(null,arguments)):(w=Array.prototype.slice.call(arguments),T)}}function We(b){return(b.length===2||b.length===3)&&typeof b[1]=="string"||b.length===4&&b[3]===!0}function lt(b,m,w){return $n(b)?b:Array.isArray(b)?tt.array(b,{name:w}):Y(b)?tt.object(b,void 0,{name:w}):$(b)?tt.map(b,{name:w}):N(b)?tt.set(b,{name:w}):b}function Ht(b){return b}function Dt(b){O(b);var m=Te(!0,function(T,D,W,te,de){bu(T,D,W?W.initializer?W.initializer.call(T):W.value:void 0,b)}),w=(d!==void 0&&d.env,m);return w.enhancer=b,w}var ir={deep:!0,name:void 0,defaultDecorator:void 0},eo={deep:!1,name:void 0,defaultDecorator:void 0};function gt(b){return b==null?ir:typeof b=="string"?{name:b,deep:!0}:b}function qt(b){return b.defaultDecorator?b.defaultDecorator.enhancer:b.deep===!1?Ht:lt}Object.freeze(ir),Object.freeze(eo);var Zt=Dt(lt),Pr=Dt(function(b,m,w){return b==null||hn(b)||Vt(b)||Wt(b)||Lt(b)?b:Array.isArray(b)?tt.array(b,{name:w,deep:!1}):Y(b)?tt.object(b,void 0,{name:w,deep:!1}):$(b)?tt.map(b,{name:w,deep:!1}):N(b)?tt.set(b,{name:w,deep:!1}):k(!1)}),kr=Dt(Ht),ar=Dt(function(b,m,w){return ni(b,m)?m:b}),Pn={box:function(b,m){arguments.length>2&&Mt("box");var w=gt(m);return new bn(b,qt(w),w.name,!0,w.equals)},shallowBox:function(b,m){return arguments.length>2&&Mt("shallowBox"),tt.box(b,{name:m,deep:!1})},array:function(b,m){arguments.length>2&&Mt("array");var w=gt(m);return new It(b,qt(w),w.name)},shallowArray:function(b,m){return arguments.length>2&&Mt("shallowArray"),tt.array(b,{name:m,deep:!1})},map:function(b,m){arguments.length>2&&Mt("map");var w=gt(m);return new Br(b,qt(w),w.name)},shallowMap:function(b,m){return arguments.length>2&&Mt("shallowMap"),tt.map(b,{name:m,deep:!1})},set:function(b,m){arguments.length>2&&Mt("set");var w=gt(m);return new wn(b,qt(w),w.name)},object:function(b,m,w){typeof arguments[1]=="string"&&Mt("object");var T=gt(w);return Yi({},b,m,T)},shallowObject:function(b,m){return typeof arguments[1]=="string"&&Mt("shallowObject"),tt.object(b,{},{name:m,deep:!1})},ref:kr,shallow:Pr,deep:Zt,struct:ar},tt=function(b,m,w){if(typeof arguments[1]=="string")return Zt.apply(null,arguments);if($n(b))return b;var T=Y(b)?tt.object(b,m,w):Array.isArray(b)?tt.array(b,m):$(b)?tt.map(b,m):N(b)?tt.set(b,m):b;if(T!==b)return T;k(!1)};function Mt(b){k("Expected one or two arguments to observable."+b+". Did you accidentally try to use observable."+b+" as decorator?")}Object.keys(Pn).forEach(function(b){return tt[b]=Pn[b]});var Le,Pt,cn=Te(!1,function(b,m,w,T,D){var W=w.get,te=w.set,de=D[0]||{};(function(Oe,De,xe){var Xe=ti(Oe);xe.name=Xe.name+"."+De,xe.context=Oe,Xe.values[De]=new mn(xe),Object.defineProperty(Oe,De,function(Ue){return pn[Ue]||(pn[Ue]={configurable:ge.computedConfigurable,enumerable:!1,get:function(){return zt(this).read(this,Ue)},set:function(Ve){zt(this).write(this,Ue,Ve)}})}(De))})(b,m,be({get:W,set:te},de))}),Ar=cn({equals:ae.structural}),ur=function(b,m,w){if(typeof m=="string"||b!==null&&typeof b=="object"&&arguments.length===1)return cn.apply(null,arguments);var T=typeof m=="object"?m:{};return T.get=b,T.set=typeof m=="function"?m:T.set,T.name=T.name||b.name||"",new mn(T)};ur.struct=Ar,function(b){b[b.NOT_TRACKING=-1]="NOT_TRACKING",b[b.UP_TO_DATE=0]="UP_TO_DATE",b[b.POSSIBLY_STALE=1]="POSSIBLY_STALE",b[b.STALE=2]="STALE"}(Le||(Le={})),function(b){b[b.NONE=0]="NONE",b[b.LOG=1]="LOG",b[b.BREAK=2]="BREAK"}(Pt||(Pt={}));var sn=function(b){this.cause=b};function _e(b){return b instanceof sn}function Ee(b){switch(b.dependenciesState){case Le.UP_TO_DATE:return!1;case Le.NOT_TRACKING:case Le.STALE:return!0;case Le.POSSIBLY_STALE:for(var m=to(!0),w=Xt(),T=b.observing,D=T.length,W=0;W<D;W++){var te=T[W];if(Yn(te)){if(ge.disableErrorBoundaries)te.get();else try{te.get()}catch{return Jt(w),gn(m),!0}if(b.dependenciesState===Le.STALE)return Jt(w),gn(m),!0}}return zo(b),Jt(w),gn(m),!1}}function Re(){return ge.trackingDerivation!==null}function Ie(b){var m=b.observers.length>0;ge.computationDepth>0&&m&&k(!1),ge.allowStateChanges||!m&&ge.enforceActions!=="strict"||k(!1)}function at(b,m,w){var T=to(!0);zo(b),b.newObserving=new Array(b.observing.length+100),b.unboundDepsCount=0,b.runId=++ge.runId;var D,W=ge.trackingDerivation;if(ge.trackingDerivation=b,ge.disableErrorBoundaries===!0)D=m.call(w);else try{D=m.call(w)}catch(te){D=new sn(te)}return ge.trackingDerivation=W,function(te){for(var de=te.observing,Oe=te.observing=te.newObserving,De=Le.UP_TO_DATE,xe=0,Xe=te.unboundDepsCount,Ue=0;Ue<Xe;Ue++)(Ve=Oe[Ue]).diffValue===0&&(Ve.diffValue=1,xe!==Ue&&(Oe[xe]=Ve),xe++),Ve.dependenciesState>De&&(De=Ve.dependenciesState);for(Oe.length=xe,te.newObserving=null,Xe=de.length;Xe--;)(Ve=de[Xe]).diffValue===0&&Xo(Ve,te),Ve.diffValue=0;for(;xe--;){var Ve;(Ve=Oe[xe]).diffValue===1&&(Ve.diffValue=0,ro(Ve,te))}De!==Le.UP_TO_DATE&&(te.dependenciesState=De,te.onBecomeStale())}(b),b.observing.length,gn(T),D}function Wn(b){var m=b.observing;b.observing=[];for(var w=m.length;w--;)Xo(m[w],b);b.dependenciesState=Le.NOT_TRACKING}function Tr(b){var m=Xt(),w=b();return Jt(m),w}function Xt(){var b=ge.trackingDerivation;return ge.trackingDerivation=null,b}function Jt(b){ge.trackingDerivation=b}function to(b){var m=ge.allowStateReads;return ge.allowStateReads=b,m}function gn(b){ge.allowStateReads=b}function zo(b){if(b.dependenciesState!==Le.UP_TO_DATE){b.dependenciesState=Le.UP_TO_DATE;for(var m=b.observing,w=m.length;w--;)m[w].lowestObserverState=Le.UP_TO_DATE}}var no=0,su=1,Bo=Object.getOwnPropertyDescriptor(function(){},"name");Bo&&Bo.configurable;function kn(b,m){var w=function(){return Li(b,m,this,arguments)};return w.isMobxAction=!0,w}function Li(b,m,w,T){var D=Fo(b,w,T);try{return m.apply(w,T)}catch(W){throw D.error=W,W}finally{zi(D)}}function Fo(b,m,w){var T=bt()&&!!b,D=0;if(T){D=Date.now();var W=w&&w.length||0,te=new Array(W);if(W>0)for(var de=0;de<W;de++)te[de]=w[de];en({type:"action",name:b,object:m,arguments:te})}var Oe=Xt();Ct();var De={prevDerivation:Oe,prevAllowStateChanges:Dr(!0),prevAllowStateReads:to(!0),notifySpy:T,startTime:D,actionId:su++,parentActionId:no};return no=De.actionId,De}function zi(b){no!==b.actionId&&k("invalid action stack. did you forget to finish an action?"),no=b.parentActionId,b.error!==void 0&&(ge.suppressReactionErrors=!0),cr(b.prevAllowStateChanges),gn(b.prevAllowStateReads),Qt(),Jt(b.prevDerivation),b.notifySpy&&Ut({time:Date.now()-b.startTime}),ge.suppressReactionErrors=!1}function lu(b,m){var w,T=Dr(b);try{w=m()}finally{cr(T)}return w}function Dr(b){var m=ge.allowStateChanges;return ge.allowStateChanges=b,m}function cr(b){ge.allowStateChanges=b}var bn=function(b){function m(w,T,D,W,te){D===void 0&&(D="ObservableValue@"+P()),W===void 0&&(W=!0),te===void 0&&(te=ae.default);var de=b.call(this,D)||this;return de.enhancer=T,de.name=D,de.equals=te,de.hasUnreportedChange=!1,de.value=T(w,void 0,D),W&&bt()&&An({type:"create",name:de.name,newValue:""+de.value}),de}return ve(m,b),m.prototype.dehanceValue=function(w){return this.dehancer!==void 0?this.dehancer(w):w},m.prototype.set=function(w){var T=this.value;if((w=this.prepareNewValue(w))!==ge.UNCHANGED){var D=bt();D&&en({type:"update",name:this.name,newValue:w,oldValue:T}),this.setNewValue(w),D&&Ut()}},m.prototype.prepareNewValue=function(w){if(Ie(this),tn(this)){var T=fn(this,{object:this,type:"update",newValue:w});if(!T)return ge.UNCHANGED;w=T.newValue}return w=this.enhancer(w,this.value,this.name),this.equals(this.value,w)?ge.UNCHANGED:w},m.prototype.setNewValue=function(w){var T=this.value;this.value=w,this.reportChanged(),Rt(this)&&pt(this,{type:"update",object:this,newValue:w,oldValue:T})},m.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},m.prototype.intercept=function(w){return fr(this,w)},m.prototype.observe=function(w,T){return T&&w({object:this,type:"update",newValue:this.value,oldValue:void 0}),pr(this,w)},m.prototype.toJSON=function(){return this.get()},m.prototype.toString=function(){return this.name+"["+this.value+"]"},m.prototype.valueOf=function(){return F(this.get())},m}(he);bn.prototype[C()]=bn.prototype.valueOf;var Bi=H("ObservableValue",bn),mn=function(){function b(m){this.dependenciesState=Le.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Le.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+P(),this.value=new sn(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Pt.NONE,O(m.get,"missing option for computed: get"),this.derivation=m.get,this.name=m.name||"ComputedValue@"+P(),m.set&&(this.setter=kn(this.name+"-setter",m.set)),this.equals=m.equals||(m.compareStructural||m.struct?ae.structural:ae.default),this.scope=m.context,this.requiresReaction=!!m.requiresReaction,this.keepAlive=!!m.keepAlive}return b.prototype.onBecomeStale=function(){(function(m){if(m.lowestObserverState===Le.UP_TO_DATE){m.lowestObserverState=Le.POSSIBLY_STALE;for(var w=m.observers,T=w.length;T--;){var D=w[T];D.dependenciesState===Le.UP_TO_DATE&&(D.dependenciesState=Le.POSSIBLY_STALE,D.isTracing!==Pt.NONE&&Uo(D,m),D.onBecomeStale())}}})(this)},b.prototype.onBecomeUnobserved=function(){},b.prototype.onBecomeObserved=function(){},b.prototype.get=function(){this.isComputing&&k("Cycle detected in computation "+this.name+": "+this.derivation),ge.inBatch!==0||this.observers.length!==0||this.keepAlive?(Cr(this),Ee(this)&&this.trackAndCompute()&&function(w){if(w.lowestObserverState!==Le.STALE){w.lowestObserverState=Le.STALE;for(var T=w.observers,D=T.length;D--;){var W=T[D];W.dependenciesState===Le.POSSIBLY_STALE?W.dependenciesState=Le.STALE:W.dependenciesState===Le.UP_TO_DATE&&(w.lowestObserverState=Le.UP_TO_DATE)}}}(this)):Ee(this)&&(this.warnAboutUntrackedRead(),Ct(),this.value=this.computeValue(!1),Qt());var m=this.value;if(_e(m))throw m.cause;return m},b.prototype.peek=function(){var m=this.computeValue(!1);if(_e(m))throw m.cause;return m},b.prototype.set=function(m){if(this.setter){O(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,m)}finally{this.isRunningSetter=!1}}else O(!1,!1)},b.prototype.trackAndCompute=function(){bt()&&An({object:this.scope,type:"compute",name:this.name});var m=this.value,w=this.dependenciesState===Le.NOT_TRACKING,T=this.computeValue(!0),D=w||_e(m)||_e(T)||!this.equals(m,T);return D&&(this.value=T),D},b.prototype.computeValue=function(m){var w;if(this.isComputing=!0,ge.computationDepth++,m)w=at(this,this.derivation,this.scope);else if(ge.disableErrorBoundaries===!0)w=this.derivation.call(this.scope);else try{w=this.derivation.call(this.scope)}catch(T){w=new sn(T)}return ge.computationDepth--,this.isComputing=!1,w},b.prototype.suspend=function(){this.keepAlive||(Wn(this),this.value=void 0)},b.prototype.observe=function(m,w){var T=this,D=!0,W=void 0;return ao(function(){var te=T.get();if(!D||w){var de=Xt();m({type:"update",object:T,newValue:te,oldValue:W}),Jt(de)}D=!1,W=te})},b.prototype.warnAboutUntrackedRead=function(){},b.prototype.toJSON=function(){return this.get()},b.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},b.prototype.valueOf=function(){return F(this.get())},b}();mn.prototype[C()]=mn.prototype.valueOf;var Yn=H("ComputedValue",mn),sr=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Mr=!0,Ho=!1,ge=function(){var b=S();return b.__mobxInstanceCount>0&&!b.__mobxGlobals&&(Mr=!1),b.__mobxGlobals&&b.__mobxGlobals.version!==new sr().version&&(Mr=!1),Mr?b.__mobxGlobals?(b.__mobxInstanceCount+=1,b.__mobxGlobals.UNCHANGED||(b.__mobxGlobals.UNCHANGED={}),b.__mobxGlobals):(b.__mobxInstanceCount=1,b.__mobxGlobals=new sr):(setTimeout(function(){Ho||k("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new sr)}();function ro(b,m){var w=b.observers.length;w&&(b.observersIndexes[m.__mapid]=w),b.observers[w]=m,b.lowestObserverState>m.dependenciesState&&(b.lowestObserverState=m.dependenciesState)}function Xo(b,m){if(b.observers.length===1)b.observers.length=0,Nr(b);else{var w=b.observers,T=b.observersIndexes,D=w.pop();if(D!==m){var W=T[m.__mapid]||0;W?T[D.__mapid]=W:delete T[D.__mapid],w[W]=D}delete T[m.__mapid]}}function Nr(b){b.isPendingUnobservation===!1&&(b.isPendingUnobservation=!0,ge.pendingUnobservations.push(b))}function Ct(){ge.inBatch++}function Qt(){if(--ge.inBatch==0){Rr();for(var b=ge.pendingUnobservations,m=0;m<b.length;m++){var w=b[m];w.isPendingUnobservation=!1,w.observers.length===0&&(w.isBeingObserved&&(w.isBeingObserved=!1,w.onBecomeUnobserved()),w instanceof mn&&w.suspend())}ge.pendingUnobservations=[]}}function Cr(b){var m=ge.trackingDerivation;return m!==null?(m.runId!==b.lastAccessedBy&&(b.lastAccessedBy=m.runId,m.newObserving[m.unboundDepsCount++]=b,b.isBeingObserved||(b.isBeingObserved=!0,b.onBecomeObserved())),!0):(b.observers.length===0&&ge.inBatch>0&&Nr(b),!1)}function Uo(b,m){if(console.log("[mobx.trace] '"+b.name+"' is invalidated due to a change in: '"+m.name+"'"),b.isTracing===Pt.BREAK){var w=[];(function W(te,de,Oe){if(de.length>=1e3)return void de.push("(and many more)");de.push(""+new Array(Oe).join("	")+te.name),te.dependencies&&te.dependencies.forEach(function(De){return W(De,de,Oe+1)})})((T=b,Ko(dn(T,D))),w,1),new Function(`debugger;
/*
Tracing '`+b.name+`'

You are entering this break point because derivation '`+b.name+"' is being traced and '"+m.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(b instanceof mn?b.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+w.join(`
`)+`
*/
    `)()}var T,D}var Gn=function(){function b(m,w,T,D){m===void 0&&(m="Reaction@"+P()),D===void 0&&(D=!1),this.name=m,this.onInvalidate=w,this.errorHandler=T,this.requiresObservable=D,this.observing=[],this.newObserving=[],this.dependenciesState=Le.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+P(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Pt.NONE}return b.prototype.onBecomeStale=function(){this.schedule()},b.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,ge.pendingReactions.push(this),Rr())},b.prototype.isScheduled=function(){return this._isScheduled},b.prototype.runReaction=function(){if(!this.isDisposed){if(Ct(),this._isScheduled=!1,Ee(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&bt()&&An({name:this.name,type:"scheduled-reaction"})}catch(m){this.reportExceptionInDerivation(m)}}Qt()}},b.prototype.track=function(m){Ct();var w,T=bt();T&&(w=Date.now(),en({name:this.name,type:"reaction"})),this._isRunning=!0;var D=at(this,m,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Wn(this),_e(D)&&this.reportExceptionInDerivation(D.cause),T&&Ut({time:Date.now()-w}),Qt()},b.prototype.reportExceptionInDerivation=function(m){var w=this;if(this.errorHandler)this.errorHandler(m,this);else{if(ge.disableErrorBoundaries)throw m;var T="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";ge.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(T,m),bt()&&An({type:"error",name:this.name,message:T,error:""+m}),ge.globalReactionErrorHandlers.forEach(function(D){return D(m,w)})}},b.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Ct(),Wn(this),Qt()))},b.prototype.getDisposer=function(){var m=this.dispose.bind(this);return m.$mobx=this,m},b.prototype.toString=function(){return"Reaction["+this.name+"]"},b.prototype.trace=function(m){m===void 0&&(m=!1),function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var D=!1;typeof w[w.length-1]=="boolean"&&(D=w.pop());var W=ea(w);if(!W)return k(!1);W.isTracing===Pt.NONE&&console.log("[mobx.trace] '"+W.name+"' tracing enabled"),W.isTracing=D?Pt.BREAK:Pt.LOG}(this,m)},b}(),oo=function(b){return b()};function Rr(){ge.inBatch>0||ge.isRunningReactions||oo(Ke)}function Ke(){ge.isRunningReactions=!0;for(var b=ge.pendingReactions,m=0;b.length>0;){++m==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+b[0]),b.splice(0));for(var w=b.splice(0),T=0,D=w.length;T<D;T++)w[T].runReaction()}ge.isRunningReactions=!1}var io=H("Reaction",Gn);function Fi(b){var m=oo;oo=function(w){return b(function(){return m(w)})}}function bt(){return!!ge.spyListeners.length}function An(b){if(ge.spyListeners.length)for(var m=ge.spyListeners,w=0,T=m.length;w<T;w++)m[w](b)}function en(b){An(be(be({},b),{spyReportStart:!0}))}var fu={spyReportEnd:!0};function Ut(b){An(b?be(be({},b),{spyReportEnd:!0}):fu)}function Hi(b){return ge.spyListeners.push(b),z(function(){ge.spyListeners=ge.spyListeners.filter(function(m){return m!==b})})}function pu(){k(!1)}function Vo(b){return function(m,w,T){if(T){if(T.value)return{value:kn(b,T.value),enumerable:!1,configurable:!0,writable:!0};var D=T.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return kn(b,D.call(this))}}}return Xi(b).apply(this,arguments)}}function Xi(b){return function(m,w,T){Object.defineProperty(m,w,{configurable:!0,enumerable:!1,get:function(){},set:function(D){U(this,w,_n(b,D))}})}}var _n=function(b,m,w,T){return arguments.length===1&&typeof b=="function"?kn(b.name||"<unnamed action>",b):arguments.length===2&&typeof m=="function"?kn(b,m):arguments.length===1&&typeof b=="string"?Vo(b):T!==!0?Vo(m).apply(null,arguments):void(b[m]=kn(b.name||m,w.value))};function Ui(b,m){return Li(typeof b=="string"?b:b.name||"<unnamed action>",typeof b=="function"?b:m,this,void 0)}function Vi(b){return typeof b=="function"&&b.isMobxAction===!0}function Tn(b,m,w){U(b,m,kn(m,w.bind(b)))}function ao(b,m){m===void 0&&(m=x);var w,T=m&&m.name||b.name||"Autorun@"+P();if(!m.scheduler&&!m.delay)w=new Gn(T,function(){this.track(te)},m.onError,m.requiresObservable);else{var D=Yo(m),W=!1;w=new Gn(T,function(){W||(W=!0,D(function(){W=!1,w.isDisposed||w.track(te)}))},m.onError,m.requiresObservable)}function te(){b(w)}return w.schedule(),w.getDisposer()}_n.bound=function(b,m,w,T){return T===!0?(Tn(b,m,w.value),null):w?{configurable:!0,enumerable:!1,get:function(){return Tn(this,m,w.value||w.initializer.call(this)),this[m]},set:pu}:{enumerable:!1,configurable:!0,set:function(D){Tn(this,m,D)},get:function(){}}};var Wo=function(b){return b()};function Yo(b){return b.scheduler?b.scheduler:b.delay?function(m){return setTimeout(m,b.delay)}:Wo}function Go(b,m,w){w===void 0&&(w=x),typeof w=="boolean"&&(w={fireImmediately:w});var T,D,W,te=w.name||"Reaction@"+P(),de=_n(te,w.onError?(T=w.onError,D=m,function(){try{return D.apply(this,arguments)}catch(Ye){T.call(this,Ye)}}):m),Oe=!w.scheduler&&!w.delay,De=Yo(w),xe=!0,Xe=!1,Ue=w.compareStructural?ae.structural:w.equals||ae.default,Ve=new Gn(te,function(){xe||Oe?Qe():Xe||(Xe=!0,De(Qe))},w.onError,w.requiresObservable);function Qe(){if(Xe=!1,!Ve.isDisposed){var Ye=!1;Ve.track(function(){var it=b(Ve);Ye=xe||!Ue(W,it),W=it}),xe&&w.fireImmediately&&de(W,Ve),xe||Ye!==!0||de(W,Ve),xe&&(xe=!1)}}return Ve.schedule(),Ve.getDisposer()}function ln(b,m,w){return $o("onBecomeUnobserved",b,m,w)}function $o(b,m,w,T){var D=typeof T=="function"?dn(m,w):dn(m),W=typeof T=="function"?T:w,te=D[b];return typeof te!="function"?k(!1):(D[b]=function(){te.call(this),W.call(this)},function(){D[b]=te})}function Wi(b){var m=b.enforceActions,w=b.computedRequiresReaction,T=b.computedConfigurable,D=b.disableErrorBoundaries,W=b.arrayBuffer,te=b.reactionScheduler,de=b.reactionRequiresObservable,Oe=b.observableRequiresReaction;if(b.isolateGlobalState===!0&&((ge.pendingReactions.length||ge.inBatch||ge.isRunningReactions)&&k("isolateGlobalState should be called before MobX is running any reactions"),Ho=!0,Mr&&(--S().__mobxInstanceCount==0&&(S().__mobxGlobals=void 0),ge=new sr)),m!==void 0){var De=void 0;switch(m){case!0:case"observed":De=!0;break;case!1:case"never":De=!1;break;case"strict":case"always":De="strict";break;default:k("Invalid value for 'enforceActions': '"+m+"', expected 'never', 'always' or 'observed'")}ge.enforceActions=De,ge.allowStateChanges=De!==!0&&De!=="strict"}w!==void 0&&(ge.computedRequiresReaction=!!w),de!==void 0&&(ge.reactionRequiresObservable=!!de),Oe!==void 0&&(ge.observableRequiresReaction=!!Oe,ge.allowStateReads=!ge.observableRequiresReaction),T!==void 0&&(ge.computedConfigurable=!!T),D!==void 0&&(D===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),ge.disableErrorBoundaries=!!D),typeof W=="number"&&ei(W),te&&Fi(te)}function Yi(b,m,w,T){var D=(T=gt(T)).defaultDecorator||(T.deep===!1?kr:Zt);Be(b),ti(b,T.name,D.enhancer),Ct();try{for(var W=Object.getOwnPropertyNames(m),te=0,de=W.length;te<de;te++){var Oe=W[te],De=Object.getOwnPropertyDescriptor(m,Oe),xe=(w&&Oe in w?w[Oe]:De.get?cn:D)(b,Oe,De,!0);xe&&Object.defineProperty(b,Oe,xe)}}finally{Qt()}return b}function Ko(b){var m,w,T={name:b.name};return b.observing&&b.observing.length>0&&(T.dependencies=(m=b.observing,w=[],m.forEach(function(D){w.indexOf(D)===-1&&w.push(D)}),w).map(Ko)),T}var Gi=0;function $i(){this.message="FLOW_CANCELLED"}function Ki(b){arguments.length!==1&&k("Flow expects one 1 argument and cannot be used as decorator");var m=b.name||"<unnamed flow>";return function(){var w,T=this,D=arguments,W=++Gi,te=_n(m+" - runid: "+W+" - init",b).apply(T,D),de=void 0,Oe=new Promise(function(De,xe){var Xe=0;function Ue(Ye){var it;de=void 0;try{it=_n(m+" - runid: "+W+" - yield "+Xe++,te.next).call(te,Ye)}catch(mt){return xe(mt)}Qe(it)}function Ve(Ye){var it;de=void 0;try{it=_n(m+" - runid: "+W+" - yield "+Xe++,te.throw).call(te,Ye)}catch(mt){return xe(mt)}Qe(it)}function Qe(Ye){if(!Ye||typeof Ye.then!="function")return Ye.done?De(Ye.value):(de=Promise.resolve(Ye.value)).then(Ue,Ve);Ye.then(Qe,xe)}w=xe,Ue(void 0)});return Oe.cancel=_n(m+" - runid: "+W+" - cancel",function(){try{de&&qo(de);var De=te.return(void 0),xe=Promise.resolve(De.value);xe.then(G,G),qo(xe),w(new $i)}catch(Xe){w(Xe)}}),Oe}}function qo(b){typeof b.cancel=="function"&&b.cancel()}function qi(b,m){if(b==null)return!1;if(m!==void 0){if(hn(b)===!1||!b.$mobx.values[m])return!1;var w=dn(b,m);return Yn(w)}return Yn(b)}function Zi(b){return arguments.length>1?k(!1):qi(b)}function hu(b,m){return typeof m!="string"?k(!1):qi(b,m)}function Ji(b,m){if(b==null)return!1;if(m!==void 0){if(hn(b)){var w=b.$mobx;return w.values&&!!w.values[m]}return!1}return hn(b)||!!b.$mobx||pe(b)||io(b)||Yn(b)}function $n(b){return arguments.length!==1&&k(!1),Ji(b)}function Kn(b){return hn(b)?b.$mobx.getKeys():Wt(b)||Lt(b)?I(b.keys()):Vt(b)?b.map(function(m,w){return w}):k(!1)}function qn(b){return hn(b)?Kn(b).map(function(m){return b[m]}):Wt(b)?Kn(b).map(function(m){return b.get(m)}):Lt(b)?I(b.values()):Vt(b)?b.slice():k(!1)}function Qi(b){return hn(b)?Kn(b).map(function(m){return[m,b[m]]}):Wt(b)?Kn(b).map(function(m){return[m,b.get(m)]}):Lt(b)?I(b.entries()):Vt(b)?b.map(function(m,w){return[w,m]}):k(!1)}function lr(b,m,w,T){return typeof w=="function"?function(D,W,te,de){return xn(D,W).observe(te,de)}(b,m,w,T):function(D,W,te){return xn(D).observe(W,te)}(b,m,w)}$i.prototype=Object.create(Error.prototype);var Zo={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function On(b,m,w,T){return T.detectCycles&&b.set(m,w),w}function uo(b,m){var w;return typeof m=="boolean"&&(m={detectCycles:m}),m||(m=Zo),m.detectCycles=m.detectCycles===void 0?m.recurseEverything===!0:m.detectCycles===!0,m.detectCycles&&(w=new Map),function T(D,W,te){if(!W.recurseEverything&&!$n(D)||typeof D!="object")return D;if(D===null)return null;if(D instanceof Date)return D;if(Bi(D))return T(D.get(),W,te);if($n(D)&&Kn(D),W.detectCycles===!0&&D!==null&&te.has(D))return te.get(D);if(Vt(D)||Array.isArray(D)){var de=On(te,D,[],W),Oe=D.map(function(mt){return T(mt,W,te)});de.length=Oe.length;for(var De=0,xe=Oe.length;De<xe;De++)de[De]=Oe[De];return de}if(Lt(D)||Object.getPrototypeOf(D)===Set.prototype){if(W.exportMapsAsObjects===!1){var Xe=On(te,D,new Set,W);return D.forEach(function(mt){Xe.add(T(mt,W,te))}),Xe}var Ue=On(te,D,[],W);return D.forEach(function(mt){Ue.push(T(mt,W,te))}),Ue}if(Wt(D)||Object.getPrototypeOf(D)===Map.prototype){if(W.exportMapsAsObjects===!1){var Ve=On(te,D,new Map,W);return D.forEach(function(mt,oi){Ve.set(oi,T(mt,W,te))}),Ve}var Qe=On(te,D,{},W);return D.forEach(function(mt,oi){Qe[oi]=T(mt,W,te)}),Qe}var Ye=On(te,D,{},W);for(var it in D)Ye[it]=T(D[it],W,te);return Ye}(b,m,w)}function ea(b){switch(b.length){case 0:return ge.trackingDerivation;case 1:return dn(b[0]);case 2:return dn(b[0],b[1])}}function ft(b,m){m===void 0&&(m=void 0),Ct();try{return b.apply(m)}finally{Qt()}}function ta(b,m,w){return arguments.length===1||m&&typeof m=="object"?du(b,m):Jo(b,m,w||{})}function Jo(b,m,w){var T;typeof w.timeout=="number"&&(T=setTimeout(function(){if(!W.$mobx.isDisposed){W();var te=new Error("WHEN_TIMEOUT");if(!w.onError)throw te;w.onError(te)}},w.timeout)),w.name=w.name||"When@"+P();var D=kn(w.name+"-effect",m),W=ao(function(te){b()&&(te.dispose(),T&&clearTimeout(T),D())},w);return W}function du(b,m){var w,T=new Promise(function(D,W){var te=Jo(b,D,be(be({},m),{onError:W}));w=function(){te(),W("WHEN_CANCELLED")}});return T.cancel=w,T}function tn(b){return b.interceptors!==void 0&&b.interceptors.length>0}function fr(b,m){var w=b.interceptors||(b.interceptors=[]);return w.push(m),z(function(){var T=w.indexOf(m);T!==-1&&w.splice(T,1)})}function fn(b,m){var w=Xt();try{var T=b.interceptors;if(T)for(var D=0,W=T.length;D<W&&(O(!(m=T[D](m))||m.type,"Intercept handlers should return nothing or a change object"),m);D++);return m}finally{Jt(w)}}function Rt(b){return b.changeListeners!==void 0&&b.changeListeners.length>0}function pr(b,m){var w=b.changeListeners||(b.changeListeners=[]);return w.push(m),z(function(){var T=w.indexOf(m);T!==-1&&w.splice(T,1)})}function pt(b,m){var w=Xt(),T=b.changeListeners;if(T){for(var D=0,W=(T=T.slice()).length;D<W;D++)T[D](m);Jt(w)}}var Ir,co,hr,Lr,na=(Ir=!1,co={},Object.defineProperty(co,"0",{set:function(){Ir=!0}}),Object.create(co)[0]=1,Ir===!1),Qo=0,zr=function(){};hr=zr,Lr=Array.prototype,Object.setPrototypeOf!==void 0?Object.setPrototypeOf(hr.prototype,Lr):hr.prototype.__proto__!==void 0?hr.prototype.__proto__=Lr:hr.prototype=Lr,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(b){Object.defineProperty(zr.prototype,b,{configurable:!0,writable:!0,value:Array.prototype[b]})});var so=function(){function b(m,w,T,D){this.array=T,this.owned=D,this.values=[],this.lastKnownLength=0,this.atom=new he(m||"ObservableArray@"+P()),this.enhancer=function(W,te){return w(W,te,m+"[..]")}}return b.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},b.prototype.dehanceValues=function(m){return this.dehancer!==void 0&&m.length>0?m.map(this.dehancer):m},b.prototype.intercept=function(m){return fr(this,m)},b.prototype.observe=function(m,w){return w===void 0&&(w=!1),w&&m({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),pr(this,m)},b.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},b.prototype.setArrayLength=function(m){if(typeof m!="number"||m<0)throw new Error("[mobx.array] Out of range: "+m);var w=this.values.length;if(m!==w)if(m>w){for(var T=new Array(m-w),D=0;D<m-w;D++)T[D]=void 0;this.spliceWithArray(w,0,T)}else this.spliceWithArray(m,w-m)},b.prototype.updateArrayLength=function(m,w){if(m!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=w,w>0&&m+w+1>Qo&&ei(m+w+1)},b.prototype.spliceWithArray=function(m,w,T){var D=this;Ie(this.atom);var W=this.values.length;if(m===void 0?m=0:m>W?m=W:m<0&&(m=Math.max(0,W+m)),w=arguments.length===1?W-m:w==null?0:Math.max(0,Math.min(w,W-m)),T===void 0&&(T=y),tn(this)){var te=fn(this,{object:this.array,type:"splice",index:m,removedCount:w,added:T});if(!te)return y;w=te.removedCount,T=te.added}var de=(T=T.length===0?T:T.map(function(De){return D.enhancer(De,void 0)})).length-w;this.updateArrayLength(W,de);var Oe=this.spliceItemsIntoValues(m,w,T);return w===0&&T.length===0||this.notifyArraySplice(m,T,Oe),this.dehanceValues(Oe)},b.prototype.spliceItemsIntoValues=function(m,w,T){var D;if(T.length<1e4)return(D=this.values).splice.apply(D,Ce([m,w],T));var W=this.values.slice(m,m+w);return this.values=this.values.slice(0,m).concat(T,this.values.slice(m+w)),W},b.prototype.notifyArrayChildUpdate=function(m,w,T){var D=!this.owned&&bt(),W=Rt(this),te=W||D?{object:this.array,type:"update",index:m,newValue:w,oldValue:T}:null;D&&en(be(be({},te),{name:this.atom.name})),this.atom.reportChanged(),W&&pt(this,te),D&&Ut()},b.prototype.notifyArraySplice=function(m,w,T){var D=!this.owned&&bt(),W=Rt(this),te=W||D?{object:this.array,type:"splice",index:m,removed:T,added:w,removedCount:T.length,addedCount:w.length}:null;D&&en(be(be({},te),{name:this.atom.name})),this.atom.reportChanged(),W&&pt(this,te),D&&Ut()},b}(),It=function(b){function m(w,T,D,W){D===void 0&&(D="ObservableArray@"+P()),W===void 0&&(W=!1);var te=b.call(this)||this,de=new so(D,T,te,W);if(L(te,"$mobx",de),w&&w.length){var Oe=Dr(!0);te.spliceWithArray(0,0,w),cr(Oe)}return na&&Object.defineProperty(de.array,"0",yu),te}return ve(m,b),m.prototype.intercept=function(w){return this.$mobx.intercept(w)},m.prototype.observe=function(w,T){return T===void 0&&(T=!1),this.$mobx.observe(w,T)},m.prototype.clear=function(){return this.splice(0)},m.prototype.concat=function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),w.map(function(D){return Vt(D)?D.peek():D}))},m.prototype.replace=function(w){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,w)},m.prototype.toJS=function(){return this.slice()},m.prototype.toJSON=function(){return this.toJS()},m.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},m.prototype.find=function(w,T,D){D===void 0&&(D=0);var W=this.findIndex.apply(this,arguments);return W===-1?void 0:this.get(W)},m.prototype.findIndex=function(w,T,D){D===void 0&&(D=0);for(var W=this.peek(),te=W.length,de=D;de<te;de++)if(w.call(T,W[de],de,this))return de;return-1},m.prototype.splice=function(w,T){for(var D=[],W=2;W<arguments.length;W++)D[W-2]=arguments[W];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(w);case 2:return this.$mobx.spliceWithArray(w,T)}return this.$mobx.spliceWithArray(w,T,D)},m.prototype.spliceWithArray=function(w,T,D){return this.$mobx.spliceWithArray(w,T,D)},m.prototype.push=function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var D=this.$mobx;return D.spliceWithArray(D.values.length,0,w),D.values.length},m.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},m.prototype.shift=function(){return this.splice(0,1)[0]},m.prototype.unshift=function(){for(var w=[],T=0;T<arguments.length;T++)w[T]=arguments[T];var D=this.$mobx;return D.spliceWithArray(0,0,w),D.values.length},m.prototype.reverse=function(){var w=this.slice();return w.reverse.apply(w,arguments)},m.prototype.sort=function(w){var T=this.slice();return T.sort.apply(T,arguments)},m.prototype.remove=function(w){var T=this.$mobx.dehanceValues(this.$mobx.values).indexOf(w);return T>-1&&(this.splice(T,1),!0)},m.prototype.move=function(w,T){function D(de){if(de<0)throw new Error("[mobx.array] Index out of bounds: "+de+" is negative");var Oe=this.$mobx.values.length;if(de>=Oe)throw new Error("[mobx.array] Index out of bounds: "+de+" is not smaller than "+Oe)}if(D.call(this,w),D.call(this,T),w!==T){var W,te=this.$mobx.values;W=w<T?Ce(te.slice(0,w),te.slice(w+1,T+1),[te[w]],te.slice(T+1)):Ce(te.slice(0,T),[te[w]],te.slice(T,w),te.slice(w+1)),this.replace(W)}},m.prototype.get=function(w){var T=this.$mobx;if(T){if(w<T.values.length)return T.atom.reportObserved(),T.dehanceValue(T.values[w]);console.warn("[mobx.array] Attempt to read an array index ("+w+") that is out of bounds ("+T.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},m.prototype.set=function(w,T){var D=this.$mobx,W=D.values;if(w<W.length){Ie(D.atom);var te=W[w];if(tn(D)){var de=fn(D,{type:"update",object:this,index:w,newValue:T});if(!de)return;T=de.newValue}(T=D.enhancer(T,te))!==te&&(W[w]=T,D.notifyArrayChildUpdate(w,T,te))}else{if(w!==W.length)throw new Error("[mobx.array] Index out of bounds, "+w+" is larger than "+W.length);D.spliceWithArray(w,0,[T])}},m}(zr);V(It.prototype,function(){this.$mobx.atom.reportObserved();var b=this,m=0;return K({next:function(){return m<b.length?{value:b[m++],done:!1}:{done:!0,value:void 0}}})}),Object.defineProperty(It.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(b){this.$mobx.setArrayLength(b)}}),U(It.prototype,ne(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(b){var m=Array.prototype[b];O(typeof m=="function","Base function not defined on Array prototype: '"+b+"'"),U(It.prototype,b,function(){return m.apply(this.peek(),arguments)})}),["every","filter","forEach","map","some"].forEach(function(b){O(typeof Array.prototype[b]=="function","Base function not defined on Array prototype: '"+b+"'"),U(It.prototype,b,function(m,w){var T=this,D=this.$mobx;return D.atom.reportObserved(),D.dehanceValues(D.values)[b](function(W,te){return m.call(w,W,te,T)},w)})}),["reduce","reduceRight"].forEach(function(b){U(It.prototype,b,function(){var m=this,w=this.$mobx;w.atom.reportObserved();var T=arguments[0];return arguments[0]=function(D,W,te){return W=w.dehanceValue(W),T(D,W,te,m)},w.values[b].apply(w.values,arguments)})}),function(b,m){for(var w=0;w<m.length;w++)U(b,m[w],b[m[w]])}(It.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var yu=ra(0);function ra(b){return{enumerable:!1,configurable:!1,get:function(){return this.get(b)},set:function(m){this.set(b,m)}}}function oa(b){Object.defineProperty(It.prototype,""+b,ra(b))}function ei(b){for(var m=Qo;m<b;m++)oa(m);Qo=b}ei(1e3);var lo=H("ObservableArrayAdministration",so);function Vt(b){return q(b)&&lo(b.$mobx)}var vu={},Br=function(){function b(m,w,T){if(w===void 0&&(w=lt),T===void 0&&(T="ObservableMap@"+P()),this.enhancer=w,this.name=T,this.$mobx=vu,this._keysAtom=ie(this.name+".keys()"),typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(m)}return b.prototype._has=function(m){return this._data.has(m)},b.prototype.has=function(m){var w=this;if(!ge.trackingDerivation)return this._has(m);var T=this._hasMap.get(m);if(!T){var D=T=new bn(this._has(m),Ht,this.name+"."+fo(m)+"?",!1);this._hasMap.set(m,D),ln(D,function(){return w._hasMap.delete(m)})}return T.get()},b.prototype.set=function(m,w){var T=this._has(m);if(tn(this)){var D=fn(this,{type:T?"update":"add",object:this,newValue:w,name:m});if(!D)return this;w=D.newValue}return T?this._updateValue(m,w):this._addValue(m,w),this},b.prototype.delete=function(m){var w=this;if(Ie(this._keysAtom),tn(this)&&!(W=fn(this,{type:"delete",object:this,name:m})))return!1;if(this._has(m)){var T=bt(),D=Rt(this),W=D||T?{type:"delete",object:this,oldValue:this._data.get(m).value,name:m}:null;return T&&en(be(be({},W),{name:this.name,key:m})),ft(function(){w._keysAtom.reportChanged(),w._updateHasMapEntry(m,!1),w._data.get(m).setNewValue(void 0),w._data.delete(m)}),D&&pt(this,W),T&&Ut(),!0}return!1},b.prototype._updateHasMapEntry=function(m,w){var T=this._hasMap.get(m);T&&T.setNewValue(w)},b.prototype._updateValue=function(m,w){var T=this._data.get(m);if((w=T.prepareNewValue(w))!==ge.UNCHANGED){var D=bt(),W=Rt(this),te=W||D?{type:"update",object:this,oldValue:T.value,name:m,newValue:w}:null;D&&en(be(be({},te),{name:this.name,key:m})),T.setNewValue(w),W&&pt(this,te),D&&Ut()}},b.prototype._addValue=function(m,w){var T=this;Ie(this._keysAtom),ft(function(){var de=new bn(w,T.enhancer,T.name+"."+fo(m),!1);T._data.set(m,de),w=de.value,T._updateHasMapEntry(m,!0),T._keysAtom.reportChanged()});var D=bt(),W=Rt(this),te=W||D?{type:"add",object:this,name:m,newValue:w}:null;D&&en(be(be({},te),{name:this.name,key:m})),W&&pt(this,te),D&&Ut()},b.prototype.get=function(m){return this.has(m)?this.dehanceValue(this._data.get(m).get()):this.dehanceValue(void 0)},b.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},b.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},b.prototype.values=function(){var m=this,w=this.keys();return K({next:function(){var T=w.next(),D=T.done,W=T.value;return{done:D,value:D?void 0:m.get(W)}}})},b.prototype.entries=function(){var m=this,w=this.keys();return K({next:function(){var T=w.next(),D=T.done,W=T.value;return{done:D,value:D?void 0:[W,m.get(W)]}}})},b.prototype.forEach=function(m,w){var T=this;this._keysAtom.reportObserved(),this._data.forEach(function(D,W){return m.call(w,T.get(W),W,T)})},b.prototype.merge=function(m){var w=this;return Wt(m)&&(m=m.toJS()),ft(function(){var T=Dr(!0);try{Y(m)?Object.keys(m).forEach(function(D){return w.set(D,m[D])}):Array.isArray(m)?m.forEach(function(D){var W=we(D,2),te=W[0],de=W[1];return w.set(te,de)}):$(m)?m.constructor!==Map?k("Cannot initialize from classes that inherit from Map: "+m.constructor.name):m.forEach(function(D,W){return w.set(W,D)}):m!=null&&k("Cannot initialize map from "+m)}finally{cr(T)}}),this},b.prototype.clear=function(){var m=this;ft(function(){Tr(function(){m._data.forEach(function(w,T){return m.delete(T)})})})},b.prototype.replace=function(m){var w=this;return ft(function(){var T=function(xe){if($(xe)||Wt(xe))return xe;if(Array.isArray(xe))return new Map(xe);if(Y(xe)){var Xe=new Map;for(var Ue in xe)Xe.set(Ue,xe[Ue]);return Xe}return k("Cannot convert to map from '"+xe+"'")}(m),D=new Map,W=!1;if(B(w._data.keys(),function(xe){if(!T.has(xe))if(w.delete(xe))W=!0;else{var Xe=w._data.get(xe);D.set(xe,Xe)}}),B(T.entries(),function(xe){var Xe=we(xe,2),Ue=Xe[0],Ve=Xe[1],Qe=w._data.has(Ue);if(w.set(Ue,Ve),w._data.has(Ue)){var Ye=w._data.get(Ue);D.set(Ue,Ye),Qe||(W=!0)}}),!W)if(w._data.size!==D.size)w._keysAtom.reportChanged();else for(var te=w._data.keys(),de=D.keys(),Oe=te.next(),De=de.next();!Oe.done;){if(Oe.value!==De.value){w._keysAtom.reportChanged();break}Oe=te.next(),De=de.next()}w._data=D}),this},Object.defineProperty(b.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),b.prototype.toPOJO=function(){var m=this,w={};return this.forEach(function(T,D){return w[typeof D=="symbol"?D:fo(D)]=m.get(D)}),w},b.prototype.toJS=function(){return new Map(this)},b.prototype.toJSON=function(){return this.toPOJO()},b.prototype.toString=function(){var m=this;return this.name+"[{ "+I(this.keys()).map(function(w){return fo(w)+": "+m.get(w)}).join(", ")+" }]"},b.prototype.observe=function(m,w){return pr(this,m)},b.prototype.intercept=function(m){return fr(this,m)},b}();function fo(b){return b&&b.toString?b.toString():new String(b).toString()}V(Br.prototype,function(){return this.entries()}),L(Br.prototype,ne(),"Map");var Wt=H("ObservableMap",Br),gu={},wn=function(){function b(m,w,T){if(w===void 0&&(w=lt),T===void 0&&(T="ObservableSet@"+P()),this.name=T,this.$mobx=gu,this._data=new Set,this._atom=ie(this.name),typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(D,W){return w(D,W,T)},m&&this.replace(m)}return b.prototype.dehanceValue=function(m){return this.dehancer!==void 0?this.dehancer(m):m},b.prototype.clear=function(){var m=this;ft(function(){Tr(function(){m._data.forEach(function(w){m.delete(w)})})})},b.prototype.forEach=function(m,w){var T=this;this._atom.reportObserved(),this._data.forEach(function(D){m.call(w,D,D,T)})},Object.defineProperty(b.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),b.prototype.add=function(m){var w=this;if(Ie(this._atom),tn(this)&&!(W=fn(this,{type:"add",object:this,newValue:m})))return this;if(!this.has(m)){ft(function(){w._data.add(w.enhancer(m,void 0)),w._atom.reportChanged()});var T=bt(),D=Rt(this),W=D||T?{type:"add",object:this,newValue:m}:null;D&&pt(this,W)}return this},b.prototype.delete=function(m){var w=this;if(tn(this)&&!(W=fn(this,{type:"delete",object:this,oldValue:m})))return!1;if(this.has(m)){var T=bt(),D=Rt(this),W=D||T?{type:"delete",object:this,oldValue:m}:null;return ft(function(){w._atom.reportChanged(),w._data.delete(m)}),D&&pt(this,W),!0}return!1},b.prototype.has=function(m){return this._atom.reportObserved(),this._data.has(this.dehanceValue(m))},b.prototype.entries=function(){var m=0,w=I(this.keys()),T=I(this.values());return K({next:function(){var D=m;return m+=1,D<T.length?{value:[w[D],T[D]],done:!1}:{done:!0}}})},b.prototype.keys=function(){return this.values()},b.prototype.values=function(){this._atom.reportObserved();var m,w=this,T=0;return this._data.values!==void 0?m=I(this._data.values()):(m=[],this._data.forEach(function(D){return m.push(D)})),K({next:function(){return T<m.length?{value:w.dehanceValue(m[T++]),done:!1}:{done:!0}}})},b.prototype.replace=function(m){var w=this;return Lt(m)&&(m=m.toJS()),ft(function(){var T=Dr(!0);try{Array.isArray(m)||N(m)?(w.clear(),m.forEach(function(D){return w.add(D)})):m!=null&&k("Cannot initialize set from "+m)}finally{cr(T)}}),this},b.prototype.observe=function(m,w){return pr(this,m)},b.prototype.intercept=function(m){return fr(this,m)},b.prototype.toJS=function(){return new Set(this)},b.prototype.toString=function(){return this.name+"[ "+I(this.keys()).join(", ")+" ]"},b}();V(wn.prototype,function(){return this.values()}),L(wn.prototype,ne(),"Set");var Lt=H("ObservableSet",wn),ia=function(){function b(m,w,T){this.target=m,this.name=w,this.defaultEnhancer=T,this.values={}}return b.prototype.read=function(m,w){if(this.target===m||(this.illegalAccess(m,w),this.values[w]))return this.values[w].get()},b.prototype.write=function(m,w,T){var D=this.target;D!==m&&this.illegalAccess(m,w);var W=this.values[w];if(W instanceof mn)W.set(T);else{if(tn(this)){if(!(Oe=fn(this,{type:"update",object:D,name:w,newValue:T})))return;T=Oe.newValue}if((T=W.prepareNewValue(T))!==ge.UNCHANGED){var te=Rt(this),de=bt(),Oe=te||de?{type:"update",object:D,oldValue:W.value,name:w,newValue:T}:null;de&&en(be(be({},Oe),{name:this.name,key:w})),W.setNewValue(T),te&&pt(this,Oe),de&&Ut()}}},b.prototype.remove=function(m){if(this.values[m]){var w=this.target;if(tn(this)&&!(te=fn(this,{object:w,name:m,type:"remove"})))return;try{Ct();var T=Rt(this),D=bt(),W=this.values[m].get();this.keys&&this.keys.remove(m),delete this.values[m],delete this.target[m];var te=T||D?{type:"remove",object:w,oldValue:W,name:m}:null;D&&en(be(be({},te),{name:this.name,key:m})),T&&pt(this,te),D&&Ut()}finally{Qt()}}},b.prototype.illegalAccess=function(m,w){console.warn("Property '"+w+"' of '"+m+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},b.prototype.observe=function(m,w){return pr(this,m)},b.prototype.intercept=function(m){return fr(this,m)},b.prototype.getKeys=function(){var m=this;return this.keys===void 0&&(this.keys=new It(Object.keys(this.values).filter(function(w){return m.values[w]instanceof bn}),Ht,"keys("+this.name+")",!0)),this.keys.slice()},b}();function ti(b,m,w){m===void 0&&(m=""),w===void 0&&(w=lt);var T=b.$mobx;return T||(Y(b)||(m=(b.constructor.name||"ObservableObject")+"@"+P()),m||(m="ObservableObject@"+P()),L(b,"$mobx",T=new ia(b,m,w)),T)}function bu(b,m,w,T){var D=ti(b);if(tn(D)){var W=fn(D,{object:b,name:m,type:"add",newValue:w});if(!W)return;w=W.newValue}w=(D.values[m]=new bn(w,T,D.name+"."+m,!1)).value,Object.defineProperty(b,m,function(te){return aa[te]||(aa[te]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,te)},set:function(de){this.$mobx.write(this,te,de)}})}(m)),D.keys&&D.keys.push(m),function(te,de,Oe,De){var xe=Rt(te),Xe=bt(),Ue=xe||Xe?{type:"add",object:de,name:Oe,newValue:De}:null;Xe&&en(be(be({},Ue),{name:te.name,key:Oe})),xe&&pt(te,Ue),Xe&&Ut()}(D,b,m,w)}var aa=Object.create(null),pn=Object.create(null);function zt(b){var m=b.$mobx;return m||(Be(b),b.$mobx)}var ua=H("ObservableObjectAdministration",ia);function hn(b){return!!q(b)&&(Be(b),ua(b.$mobx))}function dn(b,m){if(typeof b=="object"&&b!==null){if(Vt(b))return m!==void 0&&k(!1),b.$mobx.atom;if(Lt(b))return b.$mobx;if(Wt(b)){var w=b;return m===void 0?w._keysAtom:((T=w._data.get(m)||w._hasMap.get(m))||k(!1),T)}var T;if(Be(b),m&&!b.$mobx&&b[m],hn(b))return m?((T=b.$mobx.values[m])||k(!1),T):k(!1);if(pe(b)||Yn(b)||io(b))return b}else if(typeof b=="function"&&io(b.$mobx))return b.$mobx;return k(!1)}function xn(b,m){return b||k("Expecting some object"),m!==void 0?xn(dn(b,m)):pe(b)||Yn(b)||io(b)||Wt(b)||Lt(b)?b:(Be(b),b.$mobx?b.$mobx:void k(!1))}function ca(b,m){return(m!==void 0?dn(b,m):hn(b)||Wt(b)||Lt(b)?xn(b):dn(b)).name}var sa=Object.prototype.toString;function ni(b,m,w){return w===void 0&&(w=-1),function T(D,W,te,de,Oe){if(D===W)return D!==0||1/D==1/W;if(D==null||W==null)return!1;if(D!=D)return W!=W;var De=typeof D;if(De!=="function"&&De!=="object"&&typeof W!="object")return!1;D=ri(D),W=ri(W);var xe=sa.call(D);if(xe!==sa.call(W))return!1;switch(xe){case"[object RegExp]":case"[object String]":return""+D==""+W;case"[object Number]":return+D!=+D?+W!=+W:+D==0?1/+D==1/W:+D==+W;case"[object Date]":case"[object Boolean]":return+D==+W;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(D)===Symbol.valueOf.call(W)}var Xe=xe==="[object Array]";if(!Xe){if(typeof D!="object"||typeof W!="object")return!1;var Ue=D.constructor,Ve=W.constructor;if(Ue!==Ve&&!(typeof Ue=="function"&&Ue instanceof Ue&&typeof Ve=="function"&&Ve instanceof Ve)&&"constructor"in D&&"constructor"in W)return!1}if(te===0)return!1;te<0&&(te=-1),Oe=Oe||[];for(var Qe=(de=de||[]).length;Qe--;)if(de[Qe]===D)return Oe[Qe]===W;if(de.push(D),Oe.push(W),Xe){if((Qe=D.length)!==W.length)return!1;for(;Qe--;)if(!T(D[Qe],W[Qe],te-1,de,Oe))return!1}else{var Ye=Object.keys(D),it=void 0;if(Qe=Ye.length,Object.keys(W).length!==Qe)return!1;for(;Qe--;)if(it=Ye[Qe],!dr(W,it)||!T(D[it],W[it],te-1,de,Oe))return!1}return de.pop(),Oe.pop(),!0}(b,m,w)}function ri(b){return Vt(b)?b.peek():$(b)||Wt(b)||N(b)||Lt(b)?I(b.entries()):b}function dr(b,m){return Object.prototype.hasOwnProperty.call(b,m)}var Bt="$mobx";typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Hi,extras:{getDebugName:ca},$mobx:Bt})}).call(this,u(85),u(104))},function(s,p,u){var f=u(34),d=u(66),y=u(56),x=u(51),E=u(90),S=x.set,P=x.getterFor("Array Iterator");s.exports=E(Array,"Array",function(k,O){S(this,{type:"Array Iterator",target:f(k),index:0,kind:O})},function(){var k=P(this),O=k.target,z=k.kind,G=k.index++;return!O||G>=O.length?(k.target=void 0,{value:void 0,done:!0}):z=="keys"?{value:G,done:!1}:z=="values"?{value:O[G],done:!1}:{value:[G,O[G]],done:!1}},"values"),y.Arguments=y.Array,d("keys"),d("values"),d("entries")},function(s,p,u){var f=u(14),d=u(23),y=u(45),x=u(68),E=u(28),S=u(88),P=u(16),k=u(27),O=u(80),z=u(24),G=u(53),q=u(25),Y=u(30),U=u(34),L=u(72),H=u(33),$=u(57),N=u(46),I=u(54),C=u(58),F=u(117),B=u(91),R=u(47),V=u(29),K=u(75),ne=u(40),se=u(43),he=u(67),pe=u(74),ie=u(55),ce=u(69),ae=u(21),ue=u(128),ve=u(129),be=u(77),we=u(51),Ce=u(60).forEach,Pe=pe("hidden"),ot=ae("toPrimitive"),xt=we.set,Be=we.getterFor("Symbol"),Te=Object.prototype,We=d.Symbol,lt=y("JSON","stringify"),Ht=R.f,Dt=V.f,ir=F.f,eo=K.f,gt=he("symbols"),qt=he("op-symbols"),Zt=he("string-to-symbol-registry"),Pr=he("symbol-to-string-registry"),kr=he("wks"),ar=d.QObject,Pn=!ar||!ar.prototype||!ar.prototype.findChild,tt=E&&P(function(){return N(Dt({},"a",{get:function(){return Dt(this,"a",{value:7}).a}})).a!=7})?function(_e,Ee,Re){var Ie=Ht(Te,Ee);Ie&&delete Te[Ee],Dt(_e,Ee,Re),Ie&&_e!==Te&&Dt(Te,Ee,Ie)}:Dt,Mt=function(_e,Ee){var Re=gt[_e]=N(We.prototype);return xt(Re,{type:"Symbol",tag:_e,description:Ee}),E||(Re.description=Ee),Re},Le=function(_e,Ee,Re){_e===Te&&Le(qt,Ee,Re),q(_e);var Ie=L(Ee);return q(Re),k(gt,Ie)?(Re.enumerable?(k(_e,Pe)&&_e[Pe][Ie]&&(_e[Pe][Ie]=!1),Re=N(Re,{enumerable:$(0,!1)})):(k(_e,Pe)||Dt(_e,Pe,$(1,{})),_e[Pe][Ie]=!0),tt(_e,Ie,Re)):Dt(_e,Ie,Re)},Pt=function(_e,Ee){q(_e);var Re=U(Ee),Ie=I(Re).concat(sn(Re));return Ce(Ie,function(at){E&&!cn.call(Re,at)||Le(_e,at,Re[at])}),_e},cn=function(_e){var Ee=L(_e),Re=eo.call(this,Ee);return!(this===Te&&k(gt,Ee)&&!k(qt,Ee))&&(!(Re||!k(this,Ee)||!k(gt,Ee)||k(this,Pe)&&this[Pe][Ee])||Re)},Ar=function(_e,Ee){var Re=U(_e),Ie=L(Ee);if(Re!==Te||!k(gt,Ie)||k(qt,Ie)){var at=Ht(Re,Ie);return!at||!k(gt,Ie)||k(Re,Pe)&&Re[Pe][Ie]||(at.enumerable=!0),at}},ur=function(_e){var Ee=ir(U(_e)),Re=[];return Ce(Ee,function(Ie){k(gt,Ie)||k(ie,Ie)||Re.push(Ie)}),Re},sn=function(_e){var Ee=_e===Te,Re=ir(Ee?qt:U(_e)),Ie=[];return Ce(Re,function(at){!k(gt,at)||Ee&&!k(Te,at)||Ie.push(gt[at])}),Ie};S||(se((We=function(){if(this instanceof We)throw TypeError("Symbol is not a constructor");var _e=arguments.length&&arguments[0]!==void 0?H(arguments[0]):void 0,Ee=ce(_e),Re=function(Ie){this===Te&&Re.call(qt,Ie),k(this,Pe)&&k(this[Pe],Ee)&&(this[Pe][Ee]=!1),tt(this,Ee,$(1,Ie))};return E&&Pn&&tt(Te,Ee,{configurable:!0,set:Re}),Mt(Ee,_e)}).prototype,"toString",function(){return Be(this).tag}),se(We,"withoutSetter",function(_e){return Mt(ce(_e),_e)}),K.f=cn,V.f=Le,R.f=Ar,C.f=F.f=ur,B.f=sn,ue.f=function(_e){return Mt(ae(_e),_e)},E&&(Dt(We.prototype,"description",{configurable:!0,get:function(){return Be(this).description}}),x||se(Te,"propertyIsEnumerable",cn,{unsafe:!0}))),f({global:!0,wrap:!0,forced:!S,sham:!S},{Symbol:We}),Ce(I(kr),function(_e){ve(_e)}),f({target:"Symbol",stat:!0,forced:!S},{for:function(_e){var Ee=H(_e);if(k(Zt,Ee))return Zt[Ee];var Re=We(Ee);return Zt[Ee]=Re,Pr[Re]=Ee,Re},keyFor:function(_e){if(!G(_e))throw TypeError(_e+" is not a symbol");if(k(Pr,_e))return Pr[_e]},useSetter:function(){Pn=!0},useSimple:function(){Pn=!1}}),f({target:"Object",stat:!0,forced:!S,sham:!E},{create:function(_e,Ee){return Ee===void 0?N(_e):Pt(N(_e),Ee)},defineProperty:Le,defineProperties:Pt,getOwnPropertyDescriptor:Ar}),f({target:"Object",stat:!0,forced:!S},{getOwnPropertyNames:ur,getOwnPropertySymbols:sn}),f({target:"Object",stat:!0,forced:P(function(){B.f(1)})},{getOwnPropertySymbols:function(_e){return B.f(Y(_e))}}),lt&&f({target:"JSON",stat:!0,forced:!S||P(function(){var _e=We();return lt([_e])!="[null]"||lt({a:_e})!="{}"||lt(Object(_e))!="{}"})},{stringify:function(_e,Ee,Re){for(var Ie,at=[_e],Wn=1;arguments.length>Wn;)at.push(arguments[Wn++]);if(Ie=Ee,(z(Ee)||_e!==void 0)&&!G(_e))return O(Ee)||(Ee=function(Tr,Xt){if(typeof Ie=="function"&&(Xt=Ie.call(this,Tr,Xt)),!G(Xt))return Xt}),at[1]=Ee,lt.apply(null,at)}}),We.prototype[ot]||ne(We.prototype,ot,We.prototype.valueOf),be(We,"Symbol"),ie[Pe]=!0},function(s,p,u){var f=u(95),d=u(43),y=u(153);f||d(Object.prototype,"toString",y,{unsafe:!0})},function(s,p,u){var f=u(23),d=u(127),y=u(1),x=u(40),E=u(21),S=E("iterator"),P=E("toStringTag"),k=y.values;for(var O in d){var z=f[O],G=z&&z.prototype;if(G){if(G[S]!==k)try{x(G,S,k)}catch{G[S]=k}if(G[P]||x(G,P,O),d[O]){for(var q in y)if(G[q]!==y[q])try{x(G,q,y[q])}catch{G[q]=y[q]}}}}},function(s,p,u){var f=u(126).charAt,d=u(33),y=u(51),x=u(90),E=y.set,S=y.getterFor("String Iterator");x(String,"String",function(P){E(this,{type:"String Iterator",string:d(P),index:0})},function(){var P,k=S(this),O=k.string,z=k.index;return z>=O.length?{value:void 0,done:!0}:(P=f(O,z),k.index+=P.length,{value:P,done:!1})})},function(s,p,u){var f=u(14),d=u(28),y=u(23),x=u(27),E=u(24),S=u(29).f,P=u(112),k=y.Symbol;if(d&&typeof k=="function"&&(!("description"in k.prototype)||k().description!==void 0)){var O={},z=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),H=this instanceof z?new k(L):L===void 0?k():k(L);return L===""&&(O[H]=!0),H};P(z,k);var G=z.prototype=k.prototype;G.constructor=z;var q=G.toString,Y=String(k("test"))=="Symbol(test)",U=/^Symbol\((.*)\)[^)]+$/;S(G,"description",{configurable:!0,get:function(){var L=E(this)?this.valueOf():this,H=q.call(L);if(x(O,L))return"";var $=Y?H.slice(7,-1):H.replace(U,"$1");return $===""?void 0:$}}),f({global:!0,forced:!0},{Symbol:z})}},function(s,p,u){u(129)("iterator")},function(s,p,u){var f=u(23),d=u(127),y=u(154),x=u(40);for(var E in d){var S=f[E],P=S&&S.prototype;if(P&&P.forEach!==y)try{x(P,"forEach",y)}catch{P.forEach=y}}},function(s,p,u){u(14)({target:"Object",stat:!0},{setPrototypeOf:u(93)})},function(s,p,u){var f=u(14),d=u(16),y=u(30),x=u(76),E=u(115);f({target:"Object",stat:!0,forced:d(function(){x(1)}),sham:!E},{getPrototypeOf:function(S){return x(y(S))}})},function(s,p,u){var f=u(14),d=u(45),y=u(59),x=u(25),E=u(24),S=u(46),P=u(172),k=u(16),O=d("Reflect","construct"),z=k(function(){function Y(){}return!(O(function(){},[],Y)instanceof Y)}),G=!k(function(){O(function(){})}),q=z||G;f({target:"Reflect",stat:!0,forced:q,sham:q},{construct:function(Y,U){y(Y),x(U);var L=arguments.length<3?Y:y(arguments[2]);if(G&&!z)return O(Y,U,L);if(Y==L){switch(U.length){case 0:return new Y;case 1:return new Y(U[0]);case 2:return new Y(U[0],U[1]);case 3:return new Y(U[0],U[1],U[2]);case 4:return new Y(U[0],U[1],U[2],U[3])}var H=[null];return H.push.apply(H,U),new(P.apply(Y,H))}var $=L.prototype,N=S(E($)?$:Object.prototype),I=Function.apply.call(Y,N,U);return E(I)?I:N}})},function(s,p,u){var f=u(14),d=u(30),y=u(54);f({target:"Object",stat:!0,forced:u(16)(function(){y(1)})},{keys:function(x){return y(d(x))}})},function(s,p,u){var f=u(14),d=u(16),y=u(34),x=u(47).f,E=u(28),S=d(function(){x(1)});f({target:"Object",stat:!0,forced:!E||S,sham:!E},{getOwnPropertyDescriptor:function(P,k){return x(y(P),k)}})},function(s,p,u){var f=u(23),d=u(47).f,y=u(40),x=u(43),E=u(87),S=u(112),P=u(92);s.exports=function(k,O){var z,G,q,Y,U,L=k.target,H=k.global,$=k.stat;if(z=H?f:$?f[L]||E(L,{}):(f[L]||{}).prototype)for(G in O){if(Y=O[G],q=k.noTargetGet?(U=d(z,G))&&U.value:z[G],!P(H?G:L+($?".":"#")+G,k.forced)&&q!==void 0){if(typeof Y==typeof q)continue;S(Y,q)}(k.sham||q&&q.sham)&&y(Y,"sham",!0),x(z,G,Y,k)}}},function(s,p,u){var f=u(14),d=u(24),y=u(80),x=u(73),E=u(32),S=u(34),P=u(62),k=u(21),O=u(61)("slice"),z=k("species"),G=[].slice,q=Math.max;f({target:"Array",proto:!0,forced:!O},{slice:function(Y,U){var L,H,$,N=S(this),I=E(N.length),C=x(Y,I),F=x(U===void 0?I:U,I);if(y(N)&&(typeof(L=N.constructor)!="function"||L!==Array&&!y(L.prototype)?d(L)&&(L=L[z])===null&&(L=void 0):L=void 0,L===Array||L===void 0))return G.call(N,C,F);for(H=new(L===void 0?Array:L)(q(F-C,0)),$=0;C<F;C++,$++)C in N&&P(H,$,N[C]);return H.length=$,H}})},function(s,p){s.exports=function(u){try{return!!u()}catch{return!0}}},function(s,p,u){var f=u(28),d=u(29).f,y=Function.prototype,x=y.toString,E=/^\s*function ([^ (]*)/;f&&!("name"in y)&&d(y,"name",{configurable:!0,get:function(){try{return x.call(this).match(E)[1]}catch{return""}}})},function(s,p,u){var f=u(14),d=u(157);f({target:"Array",stat:!0,forced:!u(124)(function(y){Array.from(y)})},{from:d})},function(s,p,u){var f=u(14),d=u(60).filter;f({target:"Array",proto:!0,forced:!u(61)("filter")},{filter:function(y){return d(this,y,arguments.length>1?arguments[1]:void 0)}})},function(s,p,u){var f=u(14),d=u(28),y=u(113),x=u(34),E=u(47),S=u(62);f({target:"Object",stat:!0,sham:!d},{getOwnPropertyDescriptors:function(P){for(var k,O,z=x(P),G=E.f,q=y(z),Y={},U=0;q.length>U;)(O=G(z,k=q[U++]))!==void 0&&S(Y,k,O);return Y}})},function(s,p,u){var f=u(23),d=u(67),y=u(27),x=u(69),E=u(88),S=u(105),P=d("wks"),k=f.Symbol,O=S?k:k&&k.withoutSetter||x;s.exports=function(z){return y(P,z)&&(E||typeof P[z]=="string")||(E&&y(k,z)?P[z]=k[z]:P[z]=O("Symbol."+z)),P[z]}},function(s,p,u){var f=u(84),d=typeof self=="object"&&self&&self.Object===Object&&self,y=f.a||d||Function("return this")();p.a=y},function(s,p,u){(function(f){var d=function(y){return y&&y.Math==Math&&y};s.exports=d(typeof globalThis=="object"&&globalThis)||d(typeof window=="object"&&window)||d(typeof self=="object"&&self)||d(typeof f=="object"&&f)||function(){return this}()||Function("return this")()}).call(this,u(85))},function(s,p){s.exports=function(u){return typeof u=="object"?u!==null:typeof u=="function"}},function(s,p,u){var f=u(24);s.exports=function(d){if(!f(d))throw TypeError(String(d)+" is not an object");return d}},,function(s,p,u){var f=u(30),d={}.hasOwnProperty;s.exports=Object.hasOwn||function(y,x){return d.call(f(y),x)}},function(s,p,u){var f=u(16);s.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(s,p,u){var f=u(28),d=u(106),y=u(25),x=u(72),E=Object.defineProperty;p.f=f?E:function(S,P,k){if(y(S),P=x(P),y(k),d)try{return E(S,P,k)}catch{}if("get"in k||"set"in k)throw TypeError("Accessors not supported");return"value"in k&&(S[P]=k.value),S}},function(s,p,u){var f=u(37);s.exports=function(d){return Object(f(d))}},function(s,p,u){var f=u(14),d=u(16),y=u(80),x=u(24),E=u(30),S=u(32),P=u(62),k=u(96),O=u(61),z=u(21),G=u(70),q=z("isConcatSpreadable"),Y=G>=51||!d(function(){var H=[];return H[q]=!1,H.concat()[0]!==H}),U=O("concat"),L=function(H){if(!x(H))return!1;var $=H[q];return $!==void 0?!!$:y(H)};f({target:"Array",proto:!0,forced:!Y||!U},{concat:function(H){var $,N,I,C,F,B=E(this),R=k(B,0),V=0;for($=-1,I=arguments.length;$<I;$++)if(L(F=$===-1?B:arguments[$])){if(V+(C=S(F.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(N=0;N<C;N++,V++)N in F&&P(R,V,F[N])}else{if(V>=9007199254740991)throw TypeError("Maximum allowed index exceeded");P(R,V++,F)}return R.length=V,R}})},function(s,p,u){var f=u(50),d=Math.min;s.exports=function(y){return y>0?d(f(y),9007199254740991):0}},function(s,p,u){var f=u(53);s.exports=function(d){if(f(d))throw TypeError("Cannot convert a Symbol value to a string");return String(d)}},function(s,p,u){var f=u(65),d=u(37);s.exports=function(y){return f(d(y))}},function(s,p,u){var f=u(14),d=u(60).map;f({target:"Array",proto:!0,forced:!u(61)("map")},{map:function(y){return d(this,y,arguments.length>1?arguments[1]:void 0)}})},function(s,p,u){var f=u(14),d=u(24),y=u(25),x=u(177),E=u(47),S=u(76);f({target:"Reflect",stat:!0},{get:function P(k,O){var z,G,q=arguments.length<3?k:arguments[2];return y(k)===q?k[O]:(z=E.f(k,O))?x(z)?z.value:z.get===void 0?void 0:z.get.call(q):d(G=S(k))?P(G,O,q):void 0}})},function(s,p){s.exports=function(u){if(u==null)throw TypeError("Can't call method on "+u);return u}},function(s,p,u){var f=u(14),d=u(173);f({target:"Object",stat:!0,forced:Object.assign!==d},{assign:d})},function(s,p,u){var f=u(14),d=u(181),y=u(66);f({target:"Array",proto:!0},{fill:d}),y("fill")},function(s,p,u){var f=u(28),d=u(29),y=u(57);s.exports=f?function(x,E,S){return d.f(x,E,y(1,S))}:function(x,E,S){return x[E]=S,x}},function(s,p,u){var f=u(14),d=u(82);f({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})},function(s,p,u){(function(f){var d=u(84),y=v&&!v.nodeType&&v,x=y&&typeof f=="object"&&f&&!f.nodeType&&f,E=x&&x.exports===y&&d.a.process,S=function(){try{var P=x&&x.require&&x.require("util").types;return P||E&&E.binding&&E.binding("util")}catch{}}();p.a=S}).call(this,u(98)(s))},function(s,p,u){var f=u(23),d=u(40),y=u(27),x=u(87),E=u(111),S=u(51),P=S.get,k=S.enforce,O=String(String).split("String");(s.exports=function(z,G,q,Y){var U,L=!!Y&&!!Y.unsafe,H=!!Y&&!!Y.enumerable,$=!!Y&&!!Y.noTargetGet;typeof q=="function"&&(typeof G!="string"||y(q,"name")||d(q,"name",G),(U=k(q)).source||(U.source=O.join(typeof G=="string"?G:""))),z!==f?(L?!$&&z[G]&&(H=!0):delete z[G],H?z[G]=q:d(z,G,q)):H?z[G]=q:x(G,q)})(Function.prototype,"toString",function(){return typeof this=="function"&&P(this).source||E(this)})},function(s,p,u){var f=u(14),d=u(180).entries;f({target:"Object",stat:!0},{entries:function(y){return d(y)}})},function(s,p,u){var f=u(23),d=function(y){return typeof y=="function"?y:void 0};s.exports=function(y,x){return arguments.length<2?d(f[y]):f[y]&&f[y][x]}},function(s,p,u){var f,d=u(25),y=u(142),x=u(89),E=u(55),S=u(144),P=u(107),k=u(74),O=k("IE_PROTO"),z=function(){},G=function(U){return"<script>"+U+"<\/script>"},q=function(U){U.write(G("")),U.close();var L=U.parentWindow.Object;return U=null,L},Y=function(){try{f=new ActiveXObject("htmlfile")}catch{}var U,L;Y=typeof document!="undefined"?document.domain&&f?q(f):((L=P("iframe")).style.display="none",S.appendChild(L),L.src=String("javascript:"),(U=L.contentWindow.document).open(),U.write(G("document.F=Object")),U.close(),U.F):q(f);for(var H=x.length;H--;)delete Y.prototype[x[H]];return Y()};E[O]=!0,s.exports=Object.create||function(U,L){var H;return U!==null?(z.prototype=d(U),H=new z,z.prototype=null,H[O]=U):H=Y(),L===void 0?H:y(H,L)}},function(s,p,u){var f=u(28),d=u(75),y=u(57),x=u(34),E=u(72),S=u(27),P=u(106),k=Object.getOwnPropertyDescriptor;p.f=f?k:function(O,z){if(O=x(O),z=E(z),P)try{return k(O,z)}catch{}if(S(O,z))return y(!d.f.call(O,z),O[z])}},function(s,p,u){(function(f){var d=u(22),y=u(138),x=v&&!v.nodeType&&v,E=x&&typeof f=="object"&&f&&!f.nodeType&&f,S=E&&E.exports===x?d.a.Buffer:void 0,P=(S?S.isBuffer:void 0)||y.a;p.a=P}).call(this,u(98)(s))},function(s,p){var u={}.toString;s.exports=function(f){return u.call(f).slice(8,-1)}},function(s,p){var u=Math.ceil,f=Math.floor;s.exports=function(d){return isNaN(d=+d)?0:(d>0?f:u)(d)}},function(s,p,u){var f,d,y,x=u(145),E=u(23),S=u(24),P=u(40),k=u(27),O=u(86),z=u(74),G=u(55),q=E.WeakMap;if(x||O.state){var Y=O.state||(O.state=new q),U=Y.get,L=Y.has,H=Y.set;f=function(N,I){if(L.call(Y,N))throw new TypeError("Object already initialized");return I.facade=N,H.call(Y,N,I),I},d=function(N){return U.call(Y,N)||{}},y=function(N){return L.call(Y,N)}}else{var $=z("state");G[$]=!0,f=function(N,I){if(k(N,$))throw new TypeError("Object already initialized");return I.facade=N,P(N,$,I),I},d=function(N){return k(N,$)?N[$]:{}},y=function(N){return k(N,$)}}s.exports={set:f,get:d,has:y,enforce:function(N){return y(N)?d(N):f(N,{})},getterFor:function(N){return function(I){var C;if(!S(I)||(C=d(I)).type!==N)throw TypeError("Incompatible receiver, "+N+" required");return C}}}},function(s,p,u){var f=u(99),d=u(132),y=u(25),x=u(37),E=u(170),S=u(100),P=u(32),k=u(33),O=u(101),z=u(82),G=u(133),q=u(16),Y=G.UNSUPPORTED_Y,U=[].push,L=Math.min;f("split",function(H,$,N){var I;return I="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(C,F){var B=k(x(this)),R=F===void 0?4294967295:F>>>0;if(R===0)return[];if(C===void 0)return[B];if(!d(C))return $.call(B,C,R);for(var V,K,ne,se=[],he=(C.ignoreCase?"i":"")+(C.multiline?"m":"")+(C.unicode?"u":"")+(C.sticky?"y":""),pe=0,ie=new RegExp(C.source,he+"g");(V=z.call(ie,B))&&!((K=ie.lastIndex)>pe&&(se.push(B.slice(pe,V.index)),V.length>1&&V.index<B.length&&U.apply(se,V.slice(1)),ne=V[0].length,pe=K,se.length>=R));)ie.lastIndex===V.index&&ie.lastIndex++;return pe===B.length?!ne&&ie.test("")||se.push(""):se.push(B.slice(pe)),se.length>R?se.slice(0,R):se}:"0".split(void 0,0).length?function(C,F){return C===void 0&&F===0?[]:$.call(this,C,F)}:$,[function(C,F){var B=x(this),R=C==null?void 0:C[H];return R!==void 0?R.call(C,B,F):I.call(k(B),C,F)},function(C,F){var B=y(this),R=k(C),V=N(I,B,R,F,I!==$);if(V.done)return V.value;var K=E(B,RegExp),ne=B.unicode,se=(B.ignoreCase?"i":"")+(B.multiline?"m":"")+(B.unicode?"u":"")+(Y?"g":"y"),he=new K(Y?"^(?:"+B.source+")":B,se),pe=F===void 0?4294967295:F>>>0;if(pe===0)return[];if(R.length===0)return O(he,R)===null?[R]:[];for(var ie=0,ce=0,ae=[];ce<R.length;){he.lastIndex=Y?0:ce;var ue,ve=O(he,Y?R.slice(ce):R);if(ve===null||(ue=L(P(he.lastIndex+(Y?ce:0)),R.length))===ie)ce=S(R,ce,ne);else{if(ae.push(R.slice(ie,ce)),ae.length===pe)return ae;for(var be=1;be<=ve.length-1;be++)if(ae.push(ve[be]),ae.length===pe)return ae;ce=ie=ue}}return ae.push(R.slice(ie)),ae}]},!!q(function(){var H=/(?:)/,$=H.exec;H.exec=function(){return $.apply(this,arguments)};var N="ab".split(H);return N.length!==2||N[0]!=="a"||N[1]!=="b"}),Y)},function(s,p,u){var f=u(45),d=u(105);s.exports=d?function(y){return typeof y=="symbol"}:function(y){var x=f("Symbol");return typeof x=="function"&&Object(y)instanceof x}},function(s,p,u){var f=u(109),d=u(89);s.exports=Object.keys||function(y){return f(y,d)}},function(s,p){s.exports={}},function(s,p){s.exports={}},function(s,p){s.exports=function(u,f){return{enumerable:!(1&u),configurable:!(2&u),writable:!(4&u),value:f}}},function(s,p,u){var f=u(109),d=u(89).concat("length","prototype");p.f=Object.getOwnPropertyNames||function(y){return f(y,d)}},function(s,p){s.exports=function(u){if(typeof u!="function")throw TypeError(String(u)+" is not a function");return u}},function(s,p,u){var f=u(79),d=u(65),y=u(30),x=u(32),E=u(96),S=[].push,P=function(k){var O=k==1,z=k==2,G=k==3,q=k==4,Y=k==6,U=k==7,L=k==5||Y;return function(H,$,N,I){for(var C,F,B=y(H),R=d(B),V=f($,N,3),K=x(R.length),ne=0,se=I||E,he=O?se(H,K):z||U?se(H,0):void 0;K>ne;ne++)if((L||ne in R)&&(F=V(C=R[ne],ne,B),k))if(O)he[ne]=F;else if(F)switch(k){case 3:return!0;case 5:return C;case 6:return ne;case 2:S.call(he,C)}else switch(k){case 4:return!1;case 7:S.call(he,C)}return Y?-1:G||q?q:he}};s.exports={forEach:P(0),map:P(1),filter:P(2),some:P(3),every:P(4),find:P(5),findIndex:P(6),filterReject:P(7)}},function(s,p,u){var f=u(16),d=u(21),y=u(70),x=d("species");s.exports=function(E){return y>=51||!f(function(){var S=[];return(S.constructor={})[x]=function(){return{foo:1}},S[E](Boolean).foo!==1})}},function(s,p,u){var f=u(72),d=u(29),y=u(57);s.exports=function(x,E,S){var P=f(E);P in x?d.f(x,P,y(0,S)):x[P]=S}},function(s,p,u){var f=u(28),d=u(23),y=u(92),x=u(43),E=u(27),S=u(49),P=u(125),k=u(53),O=u(108),z=u(16),G=u(46),q=u(58).f,Y=u(47).f,U=u(29).f,L=u(134).trim,H=d.Number,$=H.prototype,N=S(G($))=="Number",I=function(V){if(k(V))throw TypeError("Cannot convert a Symbol value to a number");var K,ne,se,he,pe,ie,ce,ae,ue=O(V,"number");if(typeof ue=="string"&&ue.length>2){if((K=(ue=L(ue)).charCodeAt(0))===43||K===45){if((ne=ue.charCodeAt(2))===88||ne===120)return NaN}else if(K===48){switch(ue.charCodeAt(1)){case 66:case 98:se=2,he=49;break;case 79:case 111:se=8,he=55;break;default:return+ue}for(ie=(pe=ue.slice(2)).length,ce=0;ce<ie;ce++)if((ae=pe.charCodeAt(ce))<48||ae>he)return NaN;return parseInt(pe,se)}}return+ue};if(y("Number",!H(" 0o1")||!H("0b1")||H("+0x1"))){for(var C,F=function(V){var K=arguments.length<1?0:V,ne=this;return ne instanceof F&&(N?z(function(){$.valueOf.call(ne)}):S(ne)!="Number")?P(new H(I(K)),ne,F):I(K)},B=f?q(H):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),R=0;B.length>R;R++)E(H,C=B[R])&&!E(F,C)&&U(F,C,Y(H,C));F.prototype=$,$.constructor=F,x(d,"Number",F)}},function(s,p,u){u(14)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(s,p,u){var f=u(16),d=u(49),y="".split;s.exports=f(function(){return!Object("z").propertyIsEnumerable(0)})?function(x){return d(x)=="String"?y.call(x,""):Object(x)}:Object},function(s,p,u){var f=u(21),d=u(46),y=u(29),x=f("unscopables"),E=Array.prototype;E[x]==null&&y.f(E,x,{configurable:!0,value:d(null)}),s.exports=function(S){E[x][S]=!0}},function(s,p,u){var f=u(68),d=u(86);(s.exports=function(y,x){return d[y]||(d[y]=x!==void 0?x:{})})("versions",[]).push({version:"3.17.2",mode:f?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(s,p){s.exports=!1},function(s,p){var u=0,f=Math.random();s.exports=function(d){return"Symbol("+String(d===void 0?"":d)+")_"+(++u+f).toString(36)}},function(s,p,u){var f,d,y=u(23),x=u(71),E=y.process,S=y.Deno,P=E&&E.versions||S&&S.version,k=P&&P.v8;k?d=(f=k.split("."))[0]<4?1:f[0]+f[1]:x&&(!(f=x.match(/Edge\/(\d+)/))||f[1]>=74)&&(f=x.match(/Chrome\/(\d+)/))&&(d=f[1]),s.exports=d&&+d},function(s,p,u){var f=u(45);s.exports=f("navigator","userAgent")||""},function(s,p,u){var f=u(108),d=u(53);s.exports=function(y){var x=f(y,"string");return d(x)?x:String(x)}},function(s,p,u){var f=u(50),d=Math.max,y=Math.min;s.exports=function(x,E){var S=f(x);return S<0?d(S+E,0):y(S,E)}},function(s,p,u){var f=u(67),d=u(69),y=f("keys");s.exports=function(x){return y[x]||(y[x]=d(x))}},function(s,p,u){var f={}.propertyIsEnumerable,d=Object.getOwnPropertyDescriptor,y=d&&!f.call({1:2},1);p.f=y?function(x){var E=d(this,x);return!!E&&E.enumerable}:f},function(s,p,u){var f=u(27),d=u(30),y=u(74),x=u(115),E=y("IE_PROTO"),S=Object.prototype;s.exports=x?Object.getPrototypeOf:function(P){return P=d(P),f(P,E)?P[E]:typeof P.constructor=="function"&&P instanceof P.constructor?P.constructor.prototype:P instanceof Object?S:null}},function(s,p,u){var f=u(29).f,d=u(27),y=u(21)("toStringTag");s.exports=function(x,E,S){x&&!d(x=S?x:x.prototype,y)&&f(x,y,{configurable:!0,value:E})}},function(s,p,u){var f=u(148),d=u(150);s.exports=f("Map",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},d)},function(s,p,u){var f=u(59);s.exports=function(d,y,x){if(f(d),y===void 0)return d;switch(x){case 0:return function(){return d.call(y)};case 1:return function(E){return d.call(y,E)};case 2:return function(E,S){return d.call(y,E,S)};case 3:return function(E,S,P){return d.call(y,E,S,P)}}return function(){return d.apply(y,arguments)}}},function(s,p,u){var f=u(49);s.exports=Array.isArray||function(d){return f(d)=="Array"}},function(s,p,u){var f=u(14),d=u(73),y=u(50),x=u(32),E=u(30),S=u(96),P=u(62),k=u(61)("splice"),O=Math.max,z=Math.min;f({target:"Array",proto:!0,forced:!k},{splice:function(G,q){var Y,U,L,H,$,N,I=E(this),C=x(I.length),F=d(G,C),B=arguments.length;if(B===0?Y=U=0:B===1?(Y=0,U=C-F):(Y=B-2,U=z(O(y(q),0),C-F)),C+Y-U>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(L=S(I,U),H=0;H<U;H++)($=F+H)in I&&P(L,H,I[$]);if(L.length=U,Y<U){for(H=F;H<C-U;H++)N=H+Y,($=H+U)in I?I[N]=I[$]:delete I[N];for(H=C;H>C-U+Y;H--)delete I[H-1]}else if(Y>U)for(H=C-U;H>F;H--)N=H+Y-1,($=H+U-1)in I?I[N]=I[$]:delete I[N];for(H=0;H<Y;H++)I[H+F]=arguments[H+2];return I.length=C-U+Y,L}})},function(s,p,u){var f,d,y=u(33),x=u(167),E=u(133),S=u(67),P=u(46),k=u(51).get,O=u(168),z=u(169),G=RegExp.prototype.exec,q=S("native-string-replace",String.prototype.replace),Y=G,U=(f=/a/,d=/b*/g,G.call(f,"a"),G.call(d,"a"),f.lastIndex!==0||d.lastIndex!==0),L=E.UNSUPPORTED_Y||E.BROKEN_CARET,H=/()??/.exec("")[1]!==void 0;(U||H||L||O||z)&&(Y=function($){var N,I,C,F,B,R,V,K=this,ne=k(K),se=y($),he=ne.raw;if(he)return he.lastIndex=K.lastIndex,N=Y.call(he,se),K.lastIndex=he.lastIndex,N;var pe=ne.groups,ie=L&&K.sticky,ce=x.call(K),ae=K.source,ue=0,ve=se;if(ie&&((ce=ce.replace("y","")).indexOf("g")===-1&&(ce+="g"),ve=se.slice(K.lastIndex),K.lastIndex>0&&(!K.multiline||K.multiline&&se.charAt(K.lastIndex-1)!==`
`)&&(ae="(?: "+ae+")",ve=" "+ve,ue++),I=new RegExp("^(?:"+ae+")",ce)),H&&(I=new RegExp("^"+ae+"$(?!\\s)",ce)),U&&(C=K.lastIndex),F=G.call(ie?I:K,ve),ie?F?(F.input=F.input.slice(ue),F[0]=F[0].slice(ue),F.index=K.lastIndex,K.lastIndex+=F[0].length):K.lastIndex=0:U&&F&&(K.lastIndex=K.global?F.index+F[0].length:C),H&&F&&F.length>1&&q.call(F[0],I,function(){for(B=1;B<arguments.length-2;B++)arguments[B]===void 0&&(F[B]=void 0)}),F&&pe)for(F.groups=R=P(null),B=0;B<pe.length;B++)R[(V=pe[B])[0]]=F[V[1]];return F}),s.exports=Y},function(s,p,u){var f=u(14),d=u(65),y=u(34),x=u(97),E=[].join,S=d!=Object,P=x("join",",");f({target:"Array",proto:!0,forced:S||!P},{join:function(k){return E.call(y(this),k===void 0?",":k)}})},function(s,p,u){(function(f){var d=typeof f=="object"&&f&&f.Object===Object&&f;p.a=d}).call(this,u(85))},function(s,p){var u;u=function(){return this}();try{u=u||new Function("return this")()}catch{typeof window=="object"&&(u=window)}s.exports=u},function(s,p,u){var f=u(23),d=u(87),y=f["__core-js_shared__"]||d("__core-js_shared__",{});s.exports=y},function(s,p,u){var f=u(23);s.exports=function(d,y){try{Object.defineProperty(f,d,{value:y,configurable:!0,writable:!0})}catch{f[d]=y}return y}},function(s,p,u){var f=u(70),d=u(16);s.exports=!!Object.getOwnPropertySymbols&&!d(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&f&&f<41})},function(s,p){s.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(s,p,u){var f=u(14),d=u(146),y=u(76),x=u(93),E=u(77),S=u(40),P=u(43),k=u(21),O=u(68),z=u(56),G=u(114),q=G.IteratorPrototype,Y=G.BUGGY_SAFARI_ITERATORS,U=k("iterator"),L=function(){return this};s.exports=function(H,$,N,I,C,F,B){d(N,$,I);var R,V,K,ne=function(ue){if(ue===C&&ce)return ce;if(!Y&&ue in pe)return pe[ue];switch(ue){case"keys":case"values":case"entries":return function(){return new N(this,ue)}}return function(){return new N(this)}},se=$+" Iterator",he=!1,pe=H.prototype,ie=pe[U]||pe["@@iterator"]||C&&pe[C],ce=!Y&&ie||ne(C),ae=$=="Array"&&pe.entries||ie;if(ae&&(R=y(ae.call(new H)),q!==Object.prototype&&R.next&&(O||y(R)===q||(x?x(R,q):typeof R[U]!="function"&&S(R,U,L)),E(R,se,!0,!0),O&&(z[se]=L))),C=="values"&&ie&&ie.name!=="values"&&(he=!0,ce=function(){return ie.call(this)}),O&&!B||pe[U]===ce||S(pe,U,ce),z[$]=ce,C)if(V={values:ne("values"),keys:F?ce:ne("keys"),entries:ne("entries")},B)for(K in V)(Y||he||!(K in pe))&&P(pe,K,V[K]);else f({target:$,proto:!0,forced:Y||he},V);return V}},function(s,p){p.f=Object.getOwnPropertySymbols},function(s,p,u){var f=u(16),d=/#|\.prototype\./,y=function(k,O){var z=E[x(k)];return z==P||z!=S&&(typeof O=="function"?f(O):!!O)},x=y.normalize=function(k){return String(k).replace(d,".").toLowerCase()},E=y.data={},S=y.NATIVE="N",P=y.POLYFILL="P";s.exports=y},function(s,p,u){var f=u(25),d=u(147);s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var y,x=!1,E={};try{(y=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(E,[]),x=E instanceof Array}catch{}return function(S,P){return f(S),d(P),x?y.call(S,P):S.__proto__=P,S}}():void 0)},function(s,p,u){var f=u(121),d=u(56),y=u(21)("iterator");s.exports=function(x){if(x!=null)return x[y]||x["@@iterator"]||d[f(x)]}},function(s,p,u){var f={};f[u(21)("toStringTag")]="z",s.exports=String(f)==="[object z]"},function(s,p,u){var f=u(155);s.exports=function(d,y){return new(f(d))(y===0?0:y)}},function(s,p,u){var f=u(16);s.exports=function(d,y){var x=[][d];return!!x&&f(function(){x.call(null,y||function(){throw 1},1)})}},function(s,p){s.exports=function(u){if(!u.webpackPolyfill){var f=Object.create(u);f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),Object.defineProperty(f,"exports",{enumerable:!0}),f.webpackPolyfill=1}return f}},function(s,p,u){u(41);var f=u(43),d=u(82),y=u(16),x=u(21),E=u(40),S=x("species"),P=RegExp.prototype;s.exports=function(k,O,z,G){var q=x(k),Y=!y(function(){var $={};return $[q]=function(){return 7},""[k]($)!=7}),U=Y&&!y(function(){var $=!1,N=/a/;return k==="split"&&((N={}).constructor={},N.constructor[S]=function(){return N},N.flags="",N[q]=/./[q]),N.exec=function(){return $=!0,null},N[q](""),!$});if(!Y||!U||z){var L=/./[q],H=O(q,""[k],function($,N,I,C,F){var B=N.exec;return B===d||B===P.exec?Y&&!F?{done:!0,value:L.call(N,I,C)}:{done:!0,value:$.call(I,N,C)}:{done:!1}});f(String.prototype,k,H[0]),f(P,q,H[1])}G&&E(P[q],"sham",!0)}},function(s,p,u){var f=u(126).charAt;s.exports=function(d,y,x){return y+(x?f(d,y).length:1)}},function(s,p,u){var f=u(49),d=u(82);s.exports=function(y,x){var E=y.exec;if(typeof E=="function"){var S=E.call(y,x);if(typeof S!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return S}if(f(y)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return d.call(y,x)}},function(s,p,u){var f=u(14),d=u(174);f({target:"String",proto:!0,forced:u(175)("anchor")},{anchor:function(y){return d(this,"a","name",y)}})},function(s,p,u){u(14)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(s,p){var u,f,d=s.exports={};function y(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}function E(U){if(u===setTimeout)return setTimeout(U,0);if((u===y||!u)&&setTimeout)return u=setTimeout,setTimeout(U,0);try{return u(U,0)}catch{try{return u.call(null,U,0)}catch{return u.call(this,U,0)}}}(function(){try{u=typeof setTimeout=="function"?setTimeout:y}catch{u=y}try{f=typeof clearTimeout=="function"?clearTimeout:x}catch{f=x}})();var S,P=[],k=!1,O=-1;function z(){k&&S&&(k=!1,S.length?P=S.concat(P):O=-1,P.length&&G())}function G(){if(!k){var U=E(z);k=!0;for(var L=P.length;L;){for(S=P,P=[];++O<L;)S&&S[O].run();O=-1,L=P.length}S=null,k=!1,function(H){if(f===clearTimeout)return clearTimeout(H);if((f===x||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(H);try{f(H)}catch{try{return f.call(null,H)}catch{return f.call(this,H)}}}(U)}}function q(U,L){this.fun=U,this.array=L}function Y(){}d.nextTick=function(U){var L=new Array(arguments.length-1);if(arguments.length>1)for(var H=1;H<arguments.length;H++)L[H-1]=arguments[H];P.push(new q(U,L)),P.length!==1||k||E(G)},q.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=Y,d.addListener=Y,d.once=Y,d.off=Y,d.removeListener=Y,d.removeAllListeners=Y,d.emit=Y,d.prependListener=Y,d.prependOnceListener=Y,d.listeners=function(U){return[]},d.binding=function(U){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(U){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(s,p,u){var f=u(88);s.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(s,p,u){var f=u(28),d=u(16),y=u(107);s.exports=!f&&!d(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},function(s,p,u){var f=u(23),d=u(24),y=f.document,x=d(y)&&d(y.createElement);s.exports=function(E){return x?y.createElement(E):{}}},function(s,p,u){var f=u(24),d=u(53),y=u(143),x=u(21)("toPrimitive");s.exports=function(E,S){if(!f(E)||d(E))return E;var P,k=E[x];if(k!==void 0){if(S===void 0&&(S="default"),P=k.call(E,S),!f(P)||d(P))return P;throw TypeError("Can't convert object to primitive value")}return S===void 0&&(S="number"),y(E,S)}},function(s,p,u){var f=u(27),d=u(34),y=u(110).indexOf,x=u(55);s.exports=function(E,S){var P,k=d(E),O=0,z=[];for(P in k)!f(x,P)&&f(k,P)&&z.push(P);for(;S.length>O;)f(k,P=S[O++])&&(~y(z,P)||z.push(P));return z}},function(s,p,u){var f=u(34),d=u(32),y=u(73),x=function(E){return function(S,P,k){var O,z=f(S),G=d(z.length),q=y(k,G);if(E&&P!=P){for(;G>q;)if((O=z[q++])!=O)return!0}else for(;G>q;q++)if((E||q in z)&&z[q]===P)return E||q||0;return!E&&-1}};s.exports={includes:x(!0),indexOf:x(!1)}},function(s,p,u){var f=u(86),d=Function.toString;typeof f.inspectSource!="function"&&(f.inspectSource=function(y){return d.call(y)}),s.exports=f.inspectSource},function(s,p,u){var f=u(27),d=u(113),y=u(47),x=u(29);s.exports=function(E,S){for(var P=d(S),k=x.f,O=y.f,z=0;z<P.length;z++){var G=P[z];f(E,G)||k(E,G,O(S,G))}}},function(s,p,u){var f=u(45),d=u(58),y=u(91),x=u(25);s.exports=f("Reflect","ownKeys")||function(E){var S=d.f(x(E)),P=y.f;return P?S.concat(P(E)):S}},function(s,p,u){var f,d,y,x=u(16),E=u(76),S=u(40),P=u(27),k=u(21),O=u(68),z=k("iterator"),G=!1;[].keys&&("next"in(y=[].keys())?(d=E(E(y)))!==Object.prototype&&(f=d):G=!0);var q=f==null||x(function(){var Y={};return f[z].call(Y)!==Y});q&&(f={}),O&&!q||P(f,z)||S(f,z,function(){return this}),s.exports={IteratorPrototype:f,BUGGY_SAFARI_ITERATORS:G}},function(s,p,u){var f=u(16);s.exports=!f(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},function(s,p,u){var f=u(14),d=u(55),y=u(24),x=u(27),E=u(29).f,S=u(58),P=u(117),k=u(69),O=u(149),z=!1,G=k("meta"),q=0,Y=Object.isExtensible||function(){return!0},U=function(H){E(H,G,{value:{objectID:"O"+q++,weakData:{}}})},L=s.exports={enable:function(){L.enable=function(){},z=!0;var H=S.f,$=[].splice,N={};N[G]=1,H(N).length&&(S.f=function(I){for(var C=H(I),F=0,B=C.length;F<B;F++)if(C[F]===G){$.call(C,F,1);break}return C},f({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:P.f}))},fastKey:function(H,$){if(!y(H))return typeof H=="symbol"?H:(typeof H=="string"?"S":"P")+H;if(!x(H,G)){if(!Y(H))return"F";if(!$)return"E";U(H)}return H[G].objectID},getWeakData:function(H,$){if(!x(H,G)){if(!Y(H))return!0;if(!$)return!1;U(H)}return H[G].weakData},onFreeze:function(H){return O&&z&&Y(H)&&!x(H,G)&&U(H),H}};d[G]=!0},function(s,p,u){var f=u(34),d=u(58).f,y={}.toString,x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];s.exports.f=function(E){return x&&y.call(E)=="[object Window]"?function(S){try{return d(S)}catch{return x.slice()}}(E):d(f(E))}},function(s,p,u){var f=u(25),d=u(119),y=u(32),x=u(79),E=u(120),S=u(94),P=u(122),k=function(O,z){this.stopped=O,this.result=z};s.exports=function(O,z,G){var q,Y,U,L,H,$,N,I=G&&G.that,C=!(!G||!G.AS_ENTRIES),F=!(!G||!G.IS_ITERATOR),B=!(!G||!G.INTERRUPTED),R=x(z,I,1+C+B),V=function(ne){return q&&P(q,"normal",ne),new k(!0,ne)},K=function(ne){return C?(f(ne),B?R(ne[0],ne[1],V):R(ne[0],ne[1])):B?R(ne,V):R(ne)};if(F)q=O;else{if(typeof(Y=S(O))!="function")throw TypeError("Target is not iterable");if(d(Y)){for(U=0,L=y(O.length);L>U;U++)if((H=K(O[U]))&&H instanceof k)return H;return new k(!1)}q=E(O,Y)}for($=q.next;!(N=$.call(q)).done;){try{H=K(N.value)}catch(ne){P(q,"throw",ne)}if(typeof H=="object"&&H&&H instanceof k)return H}return new k(!1)}},function(s,p,u){var f=u(21),d=u(56),y=f("iterator"),x=Array.prototype;s.exports=function(E){return E!==void 0&&(d.Array===E||x[y]===E)}},function(s,p,u){var f=u(25),d=u(94);s.exports=function(y,x){var E=arguments.length<2?d(y):x;if(typeof E!="function")throw TypeError(String(y)+" is not iterable");return f(E.call(y))}},function(s,p,u){var f=u(95),d=u(49),y=u(21)("toStringTag"),x=d(function(){return arguments}())=="Arguments";s.exports=f?d:function(E){var S,P,k;return E===void 0?"Undefined":E===null?"Null":typeof(P=function(O,z){try{return O[z]}catch{}}(S=Object(E),y))=="string"?P:x?d(S):(k=d(S))=="Object"&&typeof S.callee=="function"?"Arguments":k}},function(s,p,u){var f=u(25);s.exports=function(d,y,x){var E,S;f(d);try{if((E=d.return)===void 0){if(y==="throw")throw x;return x}E=E.call(d)}catch(P){S=!0,E=P}if(y==="throw")throw x;if(S)throw E;return f(E),x}},function(s,p){s.exports=function(u,f,d){if(!(u instanceof f))throw TypeError("Incorrect "+(d?d+" ":"")+"invocation");return u}},function(s,p,u){var f=u(21)("iterator"),d=!1;try{var y=0,x={next:function(){return{done:!!y++}},return:function(){d=!0}};x[f]=function(){return this},Array.from(x,function(){throw 2})}catch{}s.exports=function(E,S){if(!S&&!d)return!1;var P=!1;try{var k={};k[f]=function(){return{next:function(){return{done:P=!0}}}},E(k)}catch{}return P}},function(s,p,u){var f=u(24),d=u(93);s.exports=function(y,x,E){var S,P;return d&&typeof(S=x.constructor)=="function"&&S!==E&&f(P=S.prototype)&&P!==E.prototype&&d(y,P),y}},function(s,p,u){var f=u(50),d=u(33),y=u(37),x=function(E){return function(S,P){var k,O,z=d(y(S)),G=f(P),q=z.length;return G<0||G>=q?E?"":void 0:(k=z.charCodeAt(G))<55296||k>56319||G+1===q||(O=z.charCodeAt(G+1))<56320||O>57343?E?z.charAt(G):k:E?z.slice(G,G+2):O-56320+(k-55296<<10)+65536}};s.exports={codeAt:x(!1),charAt:x(!0)}},function(s,p){s.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(s,p,u){var f=u(21);p.f=f},function(s,p,u){var f=u(156),d=u(27),y=u(128),x=u(29).f;s.exports=function(E){var S=f.Symbol||(f.Symbol={});d(S,E)||x(S,E,{value:y.f(E)})}},function(s,p,u){var f=u(14),d=u(110).includes,y=u(66);f({target:"Array",proto:!0},{includes:function(x){return d(this,x,arguments.length>1?arguments[1]:void 0)}}),y("includes")},function(s,p,u){var f=u(14),d=u(165),y=u(37),x=u(33);f({target:"String",proto:!0,forced:!u(166)("includes")},{includes:function(E){return!!~x(y(this)).indexOf(x(d(E)),arguments.length>1?arguments[1]:void 0)}})},function(s,p,u){var f=u(24),d=u(49),y=u(21)("match");s.exports=function(x){var E;return f(x)&&((E=x[y])!==void 0?!!E:d(x)=="RegExp")}},function(s,p,u){var f=u(16),d=u(23).RegExp;p.UNSUPPORTED_Y=f(function(){var y=d("a","y");return y.lastIndex=2,y.exec("abcd")!=null}),p.BROKEN_CARET=f(function(){var y=d("^r","gy");return y.lastIndex=2,y.exec("str")!=null})},function(s,p,u){var f=u(37),d=u(33),y="["+u(135)+"]",x=RegExp("^"+y+y+"*"),E=RegExp(y+y+"*$"),S=function(P){return function(k){var O=d(f(k));return 1&P&&(O=O.replace(x,"")),2&P&&(O=O.replace(E,"")),O}};s.exports={start:S(1),end:S(2),trim:S(3)}},function(s,p){s.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(s,p,u){var f=u(99),d=u(25),y=u(32),x=u(33),E=u(37),S=u(100),P=u(101);f("match",function(k,O,z){return[function(G){var q=E(this),Y=G==null?void 0:G[k];return Y!==void 0?Y.call(G,q):new RegExp(G)[k](x(q))},function(G){var q=d(this),Y=x(G),U=z(O,q,Y);if(U.done)return U.value;if(!q.global)return P(q,Y);var L=q.unicode;q.lastIndex=0;for(var H,$=[],N=0;(H=P(q,Y))!==null;){var I=x(H[0]);$[N]=I,I===""&&(q.lastIndex=S(Y,y(q.lastIndex),L)),N++}return N===0?null:$}]})},function(s,p,u){var f=u(99),d=u(16),y=u(25),x=u(50),E=u(32),S=u(33),P=u(37),k=u(100),O=u(171),z=u(101),G=u(21)("replace"),q=Math.max,Y=Math.min,U="a".replace(/./,"$0")==="$0",L=!!/./[G]&&/./[G]("a","$0")==="";f("replace",function(H,$,N){var I=L?"$":"$0";return[function(C,F){var B=P(this),R=C==null?void 0:C[G];return R!==void 0?R.call(C,B,F):$.call(S(B),C,F)},function(C,F){var B=y(this),R=S(C);if(typeof F=="string"&&F.indexOf(I)===-1&&F.indexOf("$<")===-1){var V=N($,B,R,F);if(V.done)return V.value}var K=typeof F=="function";K||(F=S(F));var ne=B.global;if(ne){var se=B.unicode;B.lastIndex=0}for(var he=[];;){var pe=z(B,R);if(pe===null||(he.push(pe),!ne))break;S(pe[0])===""&&(B.lastIndex=k(R,E(B.lastIndex),se))}for(var ie,ce="",ae=0,ue=0;ue<he.length;ue++){pe=he[ue];for(var ve=S(pe[0]),be=q(Y(x(pe.index),R.length),0),we=[],Ce=1;Ce<pe.length;Ce++)we.push((ie=pe[Ce])===void 0?ie:String(ie));var Pe=pe.groups;if(K){var ot=[ve].concat(we,be,R);Pe!==void 0&&ot.push(Pe);var xt=S(F.apply(void 0,ot))}else xt=O(ve,R,be,we,Pe,F);be>=ae&&(ce+=R.slice(ae,be)+xt,ae=be+ve.length)}return ce+R.slice(ae)}]},!!d(function(){var H=/./;return H.exec=function(){var $=[];return $.groups={a:"7"},$},"".replace(H,"$<a>")!=="7"})||!U||L)},function(s,p,u){p.a=function(){return!1}},function(s,p,u){(function(f){var d=u(22),y=v&&!v.nodeType&&v,x=y&&typeof f=="object"&&f&&!f.nodeType&&f,E=x&&x.exports===y?d.a.Buffer:void 0,S=E?E.allocUnsafe:void 0;p.a=function(P,k){if(k)return P.slice();var O=P.length,z=S?S(O):new P.constructor(O);return P.copy(z),z}}).call(this,u(98)(s))},function(s,p,u){(function(f){u.d(p,"a",function(){return L});var d=u(0);function y(N){throw new Error("[mobx-utils] "+N)}function x(N,I){I===void 0&&(I="Illegal state"),N||y(I)}var E=function(N){return N&&N!==Object.prototype&&Object.getOwnPropertyNames(N).concat(E(Object.getPrototypeOf(N))||[])},S=function(N){return function(I){var C=E(I);return C.filter(function(F,B){return C.indexOf(F)===B})}(N).filter(function(I){return I!=="constructor"&&!~I.indexOf("__")})};function P(N){switch(this.state){case"pending":return N.pending&&N.pending(this.value);case"rejected":return N.rejected&&N.rejected(this.value);case"fulfilled":return N.fulfilled?N.fulfilled(this.value):this.value}}function k(N,I){if(x(arguments.length<=2,"fromPromise expects up to two arguments"),x(typeof N=="function"||typeof N=="object"&&N&&typeof N.then=="function","Please pass a promise or function to fromPromise"),N.isPromiseBasedObservable===!0)return N;typeof N=="function"&&(N=new Promise(N));var C=N;N.then(Object(d.i)("observableFromPromise-resolve",function(B){C.value=B,C.state="fulfilled"}),Object(d.i)("observableFromPromise-reject",function(B){C.value=B,C.state="rejected"})),C.isPromiseBasedObservable=!0,C.case=P;var F=I&&I.state==="fulfilled"?I.value:void 0;return Object(d.o)(C,{value:F,state:"pending"},{},{deep:!1}),C}(function(N){N.reject=Object(d.i)("fromPromise.reject",function(I){var C=N(Promise.reject(I));return C.state="rejected",C.value=I,C}),N.resolve=Object(d.i)("fromPromise.resolve",function(I){I===void 0&&(I=void 0);var C=N(Promise.resolve(I));return C.state="fulfilled",C.value=I,C})})(k||(k={}));var O=function(N,I,C,F){var B,R=arguments.length,V=R<3?I:F===null?F=Object.getOwnPropertyDescriptor(I,C):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(N,I,C,F);else for(var K=N.length-1;K>=0;K--)(B=N[K])&&(V=(R<3?B(V):R>3?B(I,C,V):B(I,C))||V);return R>3&&V&&Object.defineProperty(I,C,V),V};(function(){function N(I,C){var F=this;Object(d.E)(function(){F.current=C,F.subscription=I.subscribe(F)})}N.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},N.prototype.next=function(I){this.current=I},N.prototype.complete=function(){this.dispose()},N.prototype.error=function(I){this.current=I,this.dispose()},O([d.A.ref],N.prototype,"current",void 0),O([d.i.bound],N.prototype,"next",null),O([d.i.bound],N.prototype,"complete",null),O([d.i.bound],N.prototype,"error",null)})();var z=function(){return(z=Object.assign||function(N){for(var I,C=1,F=arguments.length;C<F;C++)for(var B in I=arguments[C])Object.prototype.hasOwnProperty.call(I,B)&&(N[B]=I[B]);return N}).apply(this,arguments)},G=function(N,I,C,F){var B,R=arguments.length,V=R<3?I:F===null?F=Object.getOwnPropertyDescriptor(I,C):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(N,I,C,F);else for(var K=N.length-1;K>=0;K--)(B=N[K])&&(V=(R<3?B(V):R>3?B(I,C,V):B(I,C))||V);return R>3&&V&&Object.defineProperty(I,C,V),V},q=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function N(I){var C=this;this.model=I,this.localValues=d.A.map({}),this.localComputedValues=d.A.map({}),this.isPropertyDirty=function(F){return C.localValues.has(F)},x(Object(d.y)(I),"createViewModel expects an observable object"),S(I).forEach(function(F){if(F!==d.a&&F!=="__mobxDidRunLazyInitializers"){if(x(q.indexOf(F)===-1,"The propertyname "+F+" is reserved and cannot be used with viewModels"),Object(d.u)(I,F)){var B=Object(d.f)(I,F).derivation;C.localComputedValues.set(F,Object(d.k)(B.bind(C)))}var R=Object.getOwnPropertyDescriptor(I,F),V=R?{enumerable:R.enumerable}:{};Object.defineProperty(C,F,z(z({},V),{configurable:!0,get:function(){return Object(d.u)(I,F)?C.localComputedValues.get(F).get():C.isPropertyDirty(F)?C.localValues.get(F):C.model[F]},set:Object(d.i)(function(K){K!==C.model[F]?C.localValues.set(F,K):C.localValues.delete(F)})}))}})}Object.defineProperty(N.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),N.prototype.submit=function(){var I=this;Object(d.z)(this.localValues).forEach(function(C){var F=I.localValues.get(C),B=I.model[C];Object(d.w)(B)?B.replace(F):Object(d.x)(B)?(B.clear(),B.merge(F)):Object(d.t)(F)||(I.model[C]=F)}),this.localValues.clear()},N.prototype.reset=function(){this.localValues.clear()},N.prototype.resetProperty=function(I){this.localValues.delete(I)},G([d.k],N.prototype,"isDirty",null),G([d.k],N.prototype,"changedValues",null),G([d.i.bound],N.prototype,"submit",null),G([d.i.bound],N.prototype,"reset",null),G([d.i.bound],N.prototype,"resetProperty",null)})();function Y(N){if(!N)return"ROOT";for(var I=[];N.parent;)I.push(N.path),N=N.parent;return I.reverse().join("/")}function U(N){return Object(d.y)(N)||Object(d.w)(N)||Object(d.x)(N)}function L(N,I){var C=new WeakMap;function F(V){var K=C.get(V.object);(function(ne,se){switch(ne.type){case"add":B(ne.newValue,se,ne.name);break;case"update":R(ne.oldValue),B(ne.newValue,se,ne.name||""+ne.index);break;case"remove":case"delete":R(ne.oldValue);break;case"splice":ne.removed.map(R),ne.added.forEach(function(ie,ce){return B(ie,se,""+(ne.index+ce))});for(var he=ne.index+ne.addedCount;he<ne.object.length;he++)if(U(ne.object[he])){var pe=C.get(ne.object[he]);pe&&(pe.path=""+he)}}})(V,K),I(V,Y(K),N)}function B(V,K,ne){if(U(V)){var se=C.get(V);if(se){if(se.parent!==K||se.path!==ne)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+Y(K)+"/"+ne+"', but it already exists at '"+Y(se.parent)+"/"+se.path+"'")}else{var he={parent:K,path:ne,dispose:Object(d.B)(V,F)};C.set(V,he),Object(d.n)(V).forEach(function(pe){var ie=pe[0];return B(pe[1],he,ie)})}}}function R(V){if(U(V)){var K=C.get(V);if(!K)return;C.delete(V),K.dispose(),Object(d.J)(V).forEach(R)}}return B(N,void 0,""),function(){R(N)}}var H,$=(H=function(N,I){return(H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,F){C.__proto__=F}||function(C,F){for(var B in F)F.hasOwnProperty(B)&&(C[B]=F[B])})(N,I)},function(N,I){function C(){this.constructor=N}H(N,I),N.prototype=I===null?Object.create(I):(C.prototype=I.prototype,new C)});(function(N){function I(C,F,B){var R=B===void 0?{}:B,V=R.name,K=V===void 0?"ogm"+(1e3*Math.random()|0):V,ne=R.keyToName,se=ne===void 0?function(ie){return""+ie}:ne,he=N.call(this)||this;he._keyToName=se,he._groupBy=F,he._ogmInfoKey=Symbol("ogmInfo"+K),he._base=C;for(var pe=0;pe<C.length;pe++)he._addItem(C[pe]);return he._disposeBaseObserver=Object(d.B)(he._base,function(ie){if(ie.type==="splice")Object(d.H)(function(){for(var ce=0,ae=ie.removed;ce<ae.length;ce++){var ue=ae[ce];he._removeItem(ue)}for(var ve=0,be=ie.added;ve<be.length;ve++){var we=be[ve];he._addItem(we)}});else{if(ie.type!=="update")throw new Error("illegal state");Object(d.H)(function(){he._removeItem(ie.oldValue),he._addItem(ie.newValue)})}}),he}$(I,N),I.prototype.clear=function(){throw new Error("not supported")},I.prototype.delete=function(C){throw new Error("not supported")},I.prototype.set=function(C,F){throw new Error("not supported")},I.prototype.dispose=function(){this._disposeBaseObserver();for(var C=0;C<this._base.length;C++){var F=this._base[C];F[this._ogmInfoKey].reaction(),delete F[this._ogmInfoKey]}},I.prototype._getGroupArr=function(C){var F=N.prototype.get.call(this,C);return F===void 0&&(F=Object(d.A)([],{name:"GroupArray["+this._keyToName(C)+"]",deep:!1}),N.prototype.set.call(this,C,F)),F},I.prototype._removeFromGroupArr=function(C,F){var B=N.prototype.get.call(this,C);B.length===1?N.prototype.delete.call(this,C):(F===B.length-1||(B[F]=B[B.length-1],B[F][this._ogmInfoKey].groupArrIndex=F),B.length--)},I.prototype._addItem=function(C){var F=this,B=this._groupBy(C),R=this._getGroupArr(B),V={groupByValue:B,groupArrIndex:R.length,reaction:Object(d.D)(function(){return F._groupBy(C)},function(K,ne){var se=C[F._ogmInfoKey];F._removeFromGroupArr(se.groupByValue,se.groupArrIndex);var he=F._getGroupArr(K),pe=he.length;he.push(C),se.groupByValue=K,se.groupArrIndex=pe})};Object.defineProperty(C,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:V}),R.push(C)},I.prototype._removeItem=function(C){var F=C[this._ogmInfoKey];this._removeFromGroupArr(F.groupByValue,F.groupArrIndex),F.reaction(),delete C[this._ogmInfoKey]}})(d.b),function(){function N(I,C){this.base=I,this.args=C,this.closestIdx=0,this.isDisposed=!1;for(var F=this.closest=this.root=I,B=0;B<this.args.length-1&&(F=F.get(C[B]));B++)this.closest=F;this.closestIdx=B}return N.prototype.exists=function(){this.assertNotDisposed();var I=this.args.length;return this.closestIdx>=I-1&&this.closest.has(this.args[I-1])},N.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},N.prototype.set=function(I){this.assertNotDisposed();for(var C=this.args.length,F=this.closest,B=this.closestIdx;B<C-1;B++){var R=new Map;F.set(this.args[B],R),F=R}this.closestIdx=C-1,this.closest=F,F.set(this.args[C-1],I)},N.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var I=this.args.length;this.closest.delete(this.args[I-1]);for(var C=this.root,F=[C],B=0;B<I-1;B++)C=C.get(this.args[B]),F.push(C);for(B=F.length-1;B>0;B--)F[B].size===0&&F[B-1].delete(this.args[B-1]);this.isDisposed=!0},N.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},N}(),Promise.resolve(),typeof queueMicrotask!="undefined"||f!==void 0&&f.nextTick}).call(this,u(104))},function(s,p,u){var f;(function(d,y,x){if(d){for(var E,S={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},P={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},k={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},O={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},z=1;z<20;++z)S[111+z]="f"+z;for(z=0;z<=9;++z)S[z+96]=z.toString();H.prototype.bind=function($,N,I){return $=$ instanceof Array?$:[$],this._bindMultiple.call(this,$,N,I),this},H.prototype.unbind=function($,N){return this.bind.call(this,$,function(){},N)},H.prototype.trigger=function($,N){return this._directMap[$+":"+N]&&this._directMap[$+":"+N]({},$),this},H.prototype.reset=function(){return this._callbacks={},this._directMap={},this},H.prototype.stopCallback=function($,N){if((" "+N.className+" ").indexOf(" mousetrap ")>-1||function C(F,B){return F!==null&&F!==y&&(F===B||C(F.parentNode,B))}(N,this.target))return!1;if("composedPath"in $&&typeof $.composedPath=="function"){var I=$.composedPath()[0];I!==$.target&&(N=I)}return N.tagName=="INPUT"||N.tagName=="SELECT"||N.tagName=="TEXTAREA"||N.isContentEditable},H.prototype.handleKey=function(){var $=this;return $._handleKey.apply($,arguments)},H.addKeycodes=function($){for(var N in $)$.hasOwnProperty(N)&&(S[N]=$[N]);E=null},H.init=function(){var $=H(y);for(var N in $)N.charAt(0)!=="_"&&(H[N]=function(I){return function(){return $[I].apply($,arguments)}}(N))},H.init(),d.Mousetrap=H,s.exports&&(s.exports=H),(f=function(){return H}.call(p,u,p,s))===void 0||(s.exports=f)}function G($,N,I){$.addEventListener?$.addEventListener(N,I,!1):$.attachEvent("on"+N,I)}function q($){if($.type=="keypress"){var N=String.fromCharCode($.which);return $.shiftKey||(N=N.toLowerCase()),N}return S[$.which]?S[$.which]:P[$.which]?P[$.which]:String.fromCharCode($.which).toLowerCase()}function Y($){return $=="shift"||$=="ctrl"||$=="alt"||$=="meta"}function U($,N,I){return I||(I=function(){if(!E)for(var C in E={},S)C>95&&C<112||S.hasOwnProperty(C)&&(E[S[C]]=C);return E}()[$]?"keydown":"keypress"),I=="keypress"&&N.length&&(I="keydown"),I}function L($,N){var I,C,F,B=[];for(I=function(R){return R==="+"?["+"]:(R=R.replace(/\+{2}/g,"+plus")).split("+")}($),F=0;F<I.length;++F)C=I[F],O[C]&&(C=O[C]),N&&N!="keypress"&&k[C]&&(C=k[C],B.push("shift")),Y(C)&&B.push(C);return{key:C,modifiers:B,action:N=U(C,B,N)}}function H($){var N=this;if($=$||y,!(N instanceof H))return new H($);N.target=$,N._callbacks={},N._directMap={};var I,C={},F=!1,B=!1,R=!1;function V(ie){ie=ie||{};var ce,ae=!1;for(ce in C)ie[ce]?ae=!0:C[ce]=0;ae||(R=!1)}function K(ie,ce,ae,ue,ve,be){var we,Ce,Pe,ot,xt=[],Be=ae.type;if(!N._callbacks[ie])return[];for(Be=="keyup"&&Y(ie)&&(ce=[ie]),we=0;we<N._callbacks[ie].length;++we)if(Ce=N._callbacks[ie][we],(ue||!Ce.seq||C[Ce.seq]==Ce.level)&&Be==Ce.action&&(Be=="keypress"&&!ae.metaKey&&!ae.ctrlKey||(Pe=ce,ot=Ce.modifiers,Pe.sort().join(",")===ot.sort().join(",")))){var Te=!ue&&Ce.combo==ve,We=ue&&Ce.seq==ue&&Ce.level==be;(Te||We)&&N._callbacks[ie].splice(we,1),xt.push(Ce)}return xt}function ne(ie,ce,ae,ue){N.stopCallback(ce,ce.target||ce.srcElement,ae,ue)||ie(ce,ae)===!1&&(function(ve){ve.preventDefault?ve.preventDefault():ve.returnValue=!1}(ce),function(ve){ve.stopPropagation?ve.stopPropagation():ve.cancelBubble=!0}(ce))}function se(ie){typeof ie.which!="number"&&(ie.which=ie.keyCode);var ce=q(ie);ce&&(ie.type!="keyup"||F!==ce?N.handleKey(ce,function(ae){var ue=[];return ae.shiftKey&&ue.push("shift"),ae.altKey&&ue.push("alt"),ae.ctrlKey&&ue.push("ctrl"),ae.metaKey&&ue.push("meta"),ue}(ie),ie):F=!1)}function he(ie,ce,ae,ue){function ve(Pe){return function(){R=Pe,++C[ie],clearTimeout(I),I=setTimeout(V,1e3)}}function be(Pe){ne(ae,Pe,ie),ue!=="keyup"&&(F=q(Pe)),setTimeout(V,10)}C[ie]=0;for(var we=0;we<ce.length;++we){var Ce=we+1===ce.length?be:ve(ue||L(ce[we+1]).action);pe(ce[we],Ce,ue,ie,we)}}function pe(ie,ce,ae,ue,ve){N._directMap[ie+":"+ae]=ce;var be,we=(ie=ie.replace(/\s+/g," ")).split(" ");we.length>1?he(ie,we,ce,ae):(be=L(ie,ae),N._callbacks[be.key]=N._callbacks[be.key]||[],K(be.key,be.modifiers,{type:be.action},ue,ie,ve),N._callbacks[be.key][ue?"unshift":"push"]({callback:ce,modifiers:be.modifiers,action:be.action,seq:ue,level:ve,combo:ie}))}N._handleKey=function(ie,ce,ae){var ue,ve=K(ie,ce,ae),be={},we=0,Ce=!1;for(ue=0;ue<ve.length;++ue)ve[ue].seq&&(we=Math.max(we,ve[ue].level));for(ue=0;ue<ve.length;++ue)if(ve[ue].seq){if(ve[ue].level!=we)continue;Ce=!0,be[ve[ue].seq]=1,ne(ve[ue].callback,ae,ve[ue].combo,ve[ue].seq)}else Ce||ne(ve[ue].callback,ae,ve[ue].combo);var Pe=ae.type=="keypress"&&B;ae.type!=R||Y(ie)||Pe||V(be),B=Ce&&ae.type=="keydown"},N._bindMultiple=function(ie,ce,ae){for(var ue=0;ue<ie.length;++ue)pe(ie[ue],ce,ae)},G($,"keypress",se),G($,"keydown",se),G($,"keyup",se)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(s,p,u){var f=u(28),d=u(29),y=u(25),x=u(54);s.exports=f?Object.defineProperties:function(E,S){y(E);for(var P,k=x(S),O=k.length,z=0;O>z;)d.f(E,P=k[z++],S[P]);return E}},function(s,p,u){var f=u(24);s.exports=function(d,y){var x,E;if(y==="string"&&typeof(x=d.toString)=="function"&&!f(E=x.call(d))||typeof(x=d.valueOf)=="function"&&!f(E=x.call(d))||y!=="string"&&typeof(x=d.toString)=="function"&&!f(E=x.call(d)))return E;throw TypeError("Can't convert object to primitive value")}},function(s,p,u){var f=u(45);s.exports=f("document","documentElement")},function(s,p,u){var f=u(23),d=u(111),y=f.WeakMap;s.exports=typeof y=="function"&&/native code/.test(d(y))},function(s,p,u){var f=u(114).IteratorPrototype,d=u(46),y=u(57),x=u(77),E=u(56),S=function(){return this};s.exports=function(P,k,O){var z=k+" Iterator";return P.prototype=d(f,{next:y(1,O)}),x(P,z,!1,!0),E[z]=S,P}},function(s,p,u){var f=u(24);s.exports=function(d){if(!f(d)&&d!==null)throw TypeError("Can't set "+String(d)+" as a prototype");return d}},function(s,p,u){var f=u(14),d=u(23),y=u(92),x=u(43),E=u(116),S=u(118),P=u(123),k=u(24),O=u(16),z=u(124),G=u(77),q=u(125);s.exports=function(Y,U,L){var H=Y.indexOf("Map")!==-1,$=Y.indexOf("Weak")!==-1,N=H?"set":"add",I=d[Y],C=I&&I.prototype,F=I,B={},R=function(pe){var ie=C[pe];x(C,pe,pe=="add"?function(ce){return ie.call(this,ce===0?0:ce),this}:pe=="delete"?function(ce){return!($&&!k(ce))&&ie.call(this,ce===0?0:ce)}:pe=="get"?function(ce){return $&&!k(ce)?void 0:ie.call(this,ce===0?0:ce)}:pe=="has"?function(ce){return!($&&!k(ce))&&ie.call(this,ce===0?0:ce)}:function(ce,ae){return ie.call(this,ce===0?0:ce,ae),this})};if(y(Y,typeof I!="function"||!($||C.forEach&&!O(function(){new I().entries().next()}))))F=L.getConstructor(U,Y,H,N),E.enable();else if(y(Y,!0)){var V=new F,K=V[N]($?{}:-0,1)!=V,ne=O(function(){V.has(1)}),se=z(function(pe){new I(pe)}),he=!$&&O(function(){for(var pe=new I,ie=5;ie--;)pe[N](ie,ie);return!pe.has(-0)});se||((F=U(function(pe,ie){P(pe,F,Y);var ce=q(new I,pe,F);return ie!=null&&S(ie,ce[N],{that:ce,AS_ENTRIES:H}),ce})).prototype=C,C.constructor=F),(ne||he)&&(R("delete"),R("has"),H&&R("get")),(he||K)&&R(N),$&&C.clear&&delete C.clear}return B[Y]=F,f({global:!0,forced:F!=I},B),G(F,Y),$||L.setStrong(F,Y,H),F}},function(s,p,u){var f=u(16);s.exports=!f(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(s,p,u){var f=u(29).f,d=u(46),y=u(151),x=u(79),E=u(123),S=u(118),P=u(90),k=u(152),O=u(28),z=u(116).fastKey,G=u(51),q=G.set,Y=G.getterFor;s.exports={getConstructor:function(U,L,H,$){var N=U(function(B,R){E(B,N,L),q(B,{type:L,index:d(null),first:void 0,last:void 0,size:0}),O||(B.size=0),R!=null&&S(R,B[$],{that:B,AS_ENTRIES:H})}),I=Y(L),C=function(B,R,V){var K,ne,se=I(B),he=F(B,R);return he?he.value=V:(se.last=he={index:ne=z(R,!0),key:R,value:V,previous:K=se.last,next:void 0,removed:!1},se.first||(se.first=he),K&&(K.next=he),O?se.size++:B.size++,ne!=="F"&&(se.index[ne]=he)),B},F=function(B,R){var V,K=I(B),ne=z(R);if(ne!=="F")return K.index[ne];for(V=K.first;V;V=V.next)if(V.key==R)return V};return y(N.prototype,{clear:function(){for(var B=I(this),R=B.index,V=B.first;V;)V.removed=!0,V.previous&&(V.previous=V.previous.next=void 0),delete R[V.index],V=V.next;B.first=B.last=void 0,O?B.size=0:this.size=0},delete:function(B){var R=I(this),V=F(this,B);if(V){var K=V.next,ne=V.previous;delete R.index[V.index],V.removed=!0,ne&&(ne.next=K),K&&(K.previous=ne),R.first==V&&(R.first=K),R.last==V&&(R.last=ne),O?R.size--:this.size--}return!!V},forEach:function(B){for(var R,V=I(this),K=x(B,arguments.length>1?arguments[1]:void 0,3);R=R?R.next:V.first;)for(K(R.value,R.key,this);R&&R.removed;)R=R.previous},has:function(B){return!!F(this,B)}}),y(N.prototype,H?{get:function(B){var R=F(this,B);return R&&R.value},set:function(B,R){return C(this,B===0?0:B,R)}}:{add:function(B){return C(this,B=B===0?0:B,B)}}),O&&f(N.prototype,"size",{get:function(){return I(this).size}}),N},setStrong:function(U,L,H){var $=L+" Iterator",N=Y(L),I=Y($);P(U,L,function(C,F){q(this,{type:$,target:C,state:N(C),kind:F,last:void 0})},function(){for(var C=I(this),F=C.kind,B=C.last;B&&B.removed;)B=B.previous;return C.target&&(C.last=B=B?B.next:C.state.first)?F=="keys"?{value:B.key,done:!1}:F=="values"?{value:B.value,done:!1}:{value:[B.key,B.value],done:!1}:(C.target=void 0,{value:void 0,done:!0})},H?"entries":"values",!H,!0),k(L)}}},function(s,p,u){var f=u(43);s.exports=function(d,y,x){for(var E in y)f(d,E,y[E],x);return d}},function(s,p,u){var f=u(45),d=u(29),y=u(21),x=u(28),E=y("species");s.exports=function(S){var P=f(S),k=d.f;x&&P&&!P[E]&&k(P,E,{configurable:!0,get:function(){return this}})}},function(s,p,u){var f=u(95),d=u(121);s.exports=f?{}.toString:function(){return"[object "+d(this)+"]"}},function(s,p,u){var f=u(60).forEach,d=u(97)("forEach");s.exports=d?[].forEach:function(y){return f(this,y,arguments.length>1?arguments[1]:void 0)}},function(s,p,u){var f=u(24),d=u(80),y=u(21)("species");s.exports=function(x){var E;return d(x)&&(typeof(E=x.constructor)!="function"||E!==Array&&!d(E.prototype)?f(E)&&(E=E[y])===null&&(E=void 0):E=void 0),E===void 0?Array:E}},function(s,p,u){var f=u(23);s.exports=f},function(s,p,u){var f=u(79),d=u(30),y=u(158),x=u(119),E=u(32),S=u(62),P=u(120),k=u(94);s.exports=function(O){var z,G,q,Y,U,L,H=d(O),$=typeof this=="function"?this:Array,N=arguments.length,I=N>1?arguments[1]:void 0,C=I!==void 0,F=k(H),B=0;if(C&&(I=f(I,N>2?arguments[2]:void 0,2)),F==null||$==Array&&x(F))for(G=new $(z=E(H.length));z>B;B++)L=C?I(H[B],B):H[B],S(G,B,L);else for(U=(Y=P(H,F)).next,G=new $;!(q=U.call(Y)).done;B++)L=C?y(Y,I,[q.value,B],!0):q.value,S(G,B,L);return G.length=B,G}},function(s,p,u){var f=u(25),d=u(122);s.exports=function(y,x,E,S){try{return S?x(f(E)[0],E[1]):x(E)}catch(P){d(y,"throw",P)}}},function(s,p,u){var f=u(14),d=u(59),y=u(30),x=u(32),E=u(33),S=u(16),P=u(160),k=u(97),O=u(161),z=u(162),G=u(70),q=u(163),Y=[],U=Y.sort,L=S(function(){Y.sort(void 0)}),H=S(function(){Y.sort(null)}),$=k("sort"),N=!S(function(){if(G)return G<70;if(!(O&&O>3)){if(z)return!0;if(q)return q<603;var I,C,F,B,R="";for(I=65;I<76;I++){switch(C=String.fromCharCode(I),I){case 66:case 69:case 70:case 72:F=3;break;case 68:case 71:F=4;break;default:F=2}for(B=0;B<47;B++)Y.push({k:C+B,v:F})}for(Y.sort(function(V,K){return K.v-V.v}),B=0;B<Y.length;B++)C=Y[B].k.charAt(0),R.charAt(R.length-1)!==C&&(R+=C);return R!=="DGBEFHACIJK"}});f({target:"Array",proto:!0,forced:L||!H||!$||!N},{sort:function(I){I!==void 0&&d(I);var C=y(this);if(N)return I===void 0?U.call(C):U.call(C,I);var F,B,R=[],V=x(C.length);for(B=0;B<V;B++)B in C&&R.push(C[B]);for(F=(R=P(R,function(K){return function(ne,se){return se===void 0?-1:ne===void 0?1:K!==void 0?+K(ne,se)||0:E(ne)>E(se)?1:-1}}(I))).length,B=0;B<F;)C[B]=R[B++];for(;B<V;)delete C[B++];return C}})},function(s,p){var u=Math.floor,f=function(x,E){var S=x.length,P=u(S/2);return S<8?d(x,E):y(f(x.slice(0,P),E),f(x.slice(P),E),E)},d=function(x,E){for(var S,P,k=x.length,O=1;O<k;){for(P=O,S=x[O];P&&E(x[P-1],S)>0;)x[P]=x[--P];P!==O++&&(x[P]=S)}return x},y=function(x,E,S){for(var P=x.length,k=E.length,O=0,z=0,G=[];O<P||z<k;)O<P&&z<k?G.push(S(x[O],E[z])<=0?x[O++]:E[z++]):G.push(O<P?x[O++]:E[z++]);return G};s.exports=f},function(s,p,u){var f=u(71).match(/firefox\/(\d+)/i);s.exports=!!f&&+f[1]},function(s,p,u){var f=u(71);s.exports=/MSIE|Trident/.test(f)},function(s,p,u){var f=u(71).match(/AppleWebKit\/(\d+)\./);s.exports=!!f&&+f[1]},function(s,p,u){var f=u(14),d=u(60).find,y=u(66),x=!0;"find"in[]&&Array(1).find(function(){x=!1}),f({target:"Array",proto:!0,forced:x},{find:function(E){return d(this,E,arguments.length>1?arguments[1]:void 0)}}),y("find")},function(s,p,u){var f=u(132);s.exports=function(d){if(f(d))throw TypeError("The method doesn't accept regular expressions");return d}},function(s,p,u){var f=u(21)("match");s.exports=function(d){var y=/./;try{"/./"[d](y)}catch{try{return y[f]=!1,"/./"[d](y)}catch{}}return!1}},function(s,p,u){var f=u(25);s.exports=function(){var d=f(this),y="";return d.global&&(y+="g"),d.ignoreCase&&(y+="i"),d.multiline&&(y+="m"),d.dotAll&&(y+="s"),d.unicode&&(y+="u"),d.sticky&&(y+="y"),y}},function(s,p,u){var f=u(16),d=u(23).RegExp;s.exports=f(function(){var y=d(".","s");return!(y.dotAll&&y.exec(`
`)&&y.flags==="s")})},function(s,p,u){var f=u(16),d=u(23).RegExp;s.exports=f(function(){var y=d("(?<a>b)","g");return y.exec("b").groups.a!=="b"||"b".replace(y,"$<a>c")!=="bc"})},function(s,p,u){var f=u(25),d=u(59),y=u(21)("species");s.exports=function(x,E){var S,P=f(x).constructor;return P===void 0||(S=f(P)[y])==null?E:d(S)}},function(s,p,u){var f=u(30),d=Math.floor,y="".replace,x=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,E=/\$([$&'`]|\d{1,2})/g;s.exports=function(S,P,k,O,z,G){var q=k+S.length,Y=O.length,U=E;return z!==void 0&&(z=f(z),U=x),y.call(G,U,function(L,H){var $;switch(H.charAt(0)){case"$":return"$";case"&":return S;case"`":return P.slice(0,k);case"'":return P.slice(q);case"<":$=z[H.slice(1,-1)];break;default:var N=+H;if(N===0)return L;if(N>Y){var I=d(N/10);return I===0?L:I<=Y?O[I-1]===void 0?H.charAt(1):O[I-1]+H.charAt(1):L}$=O[N-1]}return $===void 0?"":$})}},function(s,p,u){var f=u(59),d=u(24),y=[].slice,x={},E=function(S,P,k){if(!(P in x)){for(var O=[],z=0;z<P;z++)O[z]="a["+z+"]";x[P]=Function("C,a","return new C("+O.join(",")+")")}return x[P](S,k)};s.exports=Function.bind||function(S){var P=f(this),k=y.call(arguments,1),O=function(){var z=k.concat(y.call(arguments));return this instanceof O?E(P,z.length,z):P.apply(S,z)};return d(P.prototype)&&(O.prototype=P.prototype),O}},function(s,p,u){var f=u(28),d=u(16),y=u(54),x=u(91),E=u(75),S=u(30),P=u(65),k=Object.assign,O=Object.defineProperty;s.exports=!k||d(function(){if(f&&k({b:1},k(O({},"a",{enumerable:!0,get:function(){O(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var z={},G={},q=Symbol();return z[q]=7,"abcdefghijklmnopqrst".split("").forEach(function(Y){G[Y]=Y}),k({},z)[q]!=7||y(k({},G)).join("")!="abcdefghijklmnopqrst"})?function(z,G){for(var q=S(z),Y=arguments.length,U=1,L=x.f,H=E.f;Y>U;)for(var $,N=P(arguments[U++]),I=L?y(N).concat(L(N)):y(N),C=I.length,F=0;C>F;)$=I[F++],f&&!H.call(N,$)||(q[$]=N[$]);return q}:k},function(s,p,u){var f=u(37),d=u(33),y=/"/g;s.exports=function(x,E,S,P){var k=d(f(x)),O="<"+E;return S!==""&&(O+=" "+S+'="'+d(P).replace(y,"&quot;")+'"'),O+">"+k+"</"+E+">"}},function(s,p,u){var f=u(16);s.exports=function(d){return f(function(){var y=""[d]('"');return y!==y.toLowerCase()||y.split('"').length>3})}},function(s,p,u){var f=u(14),d=Math.hypot,y=Math.abs,x=Math.sqrt;f({target:"Math",stat:!0,forced:!!d&&d(1/0,NaN)!==1/0},{hypot:function(E,S){for(var P,k,O=0,z=0,G=arguments.length,q=0;z<G;)q<(P=y(arguments[z++]))?(O=O*(k=q/P)*k+1,q=P):O+=P>0?(k=P/q)*k:P;return q===1/0?1/0:q*x(O)}})},function(s,p,u){var f=u(27);s.exports=function(d){return d!==void 0&&(f(d,"value")||f(d,"writable"))}},function(s,p,u){u(14)({target:"String",proto:!0},{repeat:u(179)})},function(s,p,u){var f=u(50),d=u(33),y=u(37);s.exports=function(x){var E=d(y(this)),S="",P=f(x);if(P<0||P==1/0)throw RangeError("Wrong number of repetitions");for(;P>0;(P>>>=1)&&(E+=E))1&P&&(S+=E);return S}},function(s,p,u){var f=u(28),d=u(54),y=u(34),x=u(75).f,E=function(S){return function(P){for(var k,O=y(P),z=d(O),G=z.length,q=0,Y=[];G>q;)k=z[q++],f&&!x.call(O,k)||Y.push(S?[k,O[k]]:O[k]);return Y}};s.exports={entries:E(!0),values:E(!1)}},function(s,p,u){var f=u(30),d=u(73),y=u(32);s.exports=function(x){for(var E=f(this),S=y(E.length),P=arguments.length,k=d(P>1?arguments[1]:void 0,S),O=P>2?arguments[2]:void 0,z=O===void 0?S:d(O,S);z>k;)E[k++]=x;return E}},function(s,p,u){var f=u(14),d=u(134).trim;f({target:"String",proto:!0,forced:u(183)("trim")},{trim:function(){return d(this)}})},function(s,p,u){var f=u(16),d=u(135);s.exports=function(y){return f(function(){return!!d[y]()||"\u200B\x85\u180E"[y]()!="\u200B\x85\u180E"||d[y].name!==y})}},function(s,p,u){u.r(p),u.d(p,"observer",function(){return Fn}),u.d(p,"LogicFlow",function(){return hs}),u.d(p,"h",function(){return L}),u.d(p,"LogicFlowUtil",function(){return f}),u.d(p,"BaseNode",function(){return tr}),u.d(p,"RectNode",function(){return Hc}),u.d(p,"CircleNode",function(){return Uc}),u.d(p,"PolygonNode",function(){return Wc}),u.d(p,"DiamondNode",function(){return Gc}),u.d(p,"EllipseNode",function(){return $c}),u.d(p,"TextNode",function(){return qc}),u.d(p,"HtmlNode",function(){return Qc}),u.d(p,"BaseEdge",function(){return Ei}),u.d(p,"LineEdge",function(){return is}),u.d(p,"PolylineEdge",function(){return as}),u.d(p,"BezierEdge",function(){return us}),u.d(p,"Arrow",function(){return xy}),u.d(p,"BaseEdgeModel",function(){return Ku}),u.d(p,"BezierEdgeModel",function(){return bc}),u.d(p,"LineEdgeModel",function(){return Ju}),u.d(p,"PolylineEdgeModel",function(){return ec}),u.d(p,"BaseNodeModel",function(){return Qn}),u.d(p,"CircleNodeModel",function(){return _c}),u.d(p,"DiamondNodeModel",function(){return wc}),u.d(p,"EllipseNodeModel",function(){return Ec}),u.d(p,"PolygonNodeModel",function(){return Pc}),u.d(p,"RectNodeModel",function(){return Ac}),u.d(p,"TextNodeModel",function(){return Mc}),u.d(p,"HtmlNodeModel",function(){return Cc}),u.d(p,"EditConfigModel",function(){return ml}),u.d(p,"GraphModel",function(){return lp}),u.d(p,"SnaplineModel",function(){return Sd}),u.d(p,"Keyboard",function(){return cv}),u.d(p,"get",function(){return rh}),u.d(p,"defaults",function(){return ih});var f={};u.r(f),u.d(f,"createUuid",function(){return _o}),u.d(f,"refreshGraphId",function(){return Xm}),u.d(f,"createDrag",function(){return Na}),u.d(f,"StepDrag",function(){return di});var d,y,x,E,S,P,k,O=u(0),z={},G=[],q=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Y(t,e){for(var n in e)t[n]=e[n];return t}function U(t){var e=t.parentNode;e&&e.removeChild(t)}function L(t,e,n){var r,i,o,a={};for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];if(arguments.length>2&&(a.children=arguments.length>3?d.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(o in t.defaultProps)a[o]===void 0&&(a[o]=t.defaultProps[o]);return H(t,a,r,i,null)}function H(t,e,n,r,i){var o={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i==null?++x:i};return y.vnode!=null&&y.vnode(o),o}function $(){return{current:null}}function N(t){return t.children}function I(t,e){this.props=t,this.context=e}function C(t,e){if(e==null)return t.__?C(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?C(t):null}function F(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return F(t)}}function B(t){(!t.__d&&(t.__d=!0)&&E.push(t)&&!R.__r++||P!==y.debounceRendering)&&((P=y.debounceRendering)||S)(R)}function R(){for(var t;R.__r=E.length;)t=E.sort(function(e,n){return e.__v.__b-n.__v.__b}),E=[],t.some(function(e){var n,r,i,o,a,c;e.__d&&(a=(o=(n=e).__v).__e,(c=n.__P)&&(r=[],(i=Y({},o)).__v=o.__v+1,ae(c,o,i,n.__n,c.ownerSVGElement!==void 0,o.__h!=null?[a]:null,r,a==null?C(o):a,o.__h),ue(r,o),o.__e!=a&&F(o)))})}function V(t,e,n,r,i,o,a,c,l,h){var _,j,A,M,X,J,Z,ee=r&&r.__k||G,Q=ee.length;for(n.__k=[],_=0;_<e.length;_++)if((M=n.__k[_]=(M=e[_])==null||typeof M=="boolean"?null:typeof M=="string"||typeof M=="number"||typeof M=="bigint"?H(null,M,null,null,M):Array.isArray(M)?H(N,{children:M},null,null,null):M.__b>0?H(M.type,M.props,M.key,null,M.__v):M)!=null){if(M.__=n,M.__b=n.__b+1,(A=ee[_])===null||A&&M.key==A.key&&M.type===A.type)ee[_]=void 0;else for(j=0;j<Q;j++){if((A=ee[j])&&M.key==A.key&&M.type===A.type){ee[j]=void 0;break}A=null}ae(t,M,A=A||z,i,o,a,c,l,h),X=M.__e,(j=M.ref)&&A.ref!=j&&(Z||(Z=[]),A.ref&&Z.push(A.ref,null,M),Z.push(j,M.__c||X,M)),X!=null?(J==null&&(J=X),typeof M.type=="function"&&M.__k!=null&&M.__k===A.__k?M.__d=l=K(M,l,t):l=se(t,M,A,ee,X,l),h||n.type!=="option"?typeof n.type=="function"&&(n.__d=l):t.value=""):l&&A.__e==l&&l.parentNode!=t&&(l=C(A))}for(n.__e=J,_=Q;_--;)ee[_]!=null&&(typeof n.type=="function"&&ee[_].__e!=null&&ee[_].__e==n.__d&&(n.__d=C(r,_+1)),we(ee[_],ee[_]));if(Z)for(_=0;_<Z.length;_++)be(Z[_],Z[++_],Z[++_])}function K(t,e,n){var r,i;for(r=0;r<t.__k.length;r++)(i=t.__k[r])&&(i.__=t,e=typeof i.type=="function"?K(i,e,n):se(n,i,i,t.__k,i.__e,e));return e}function ne(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){ne(n,e)}):e.push(t)),e}function se(t,e,n,r,i,o){var a,c,l;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(n==null||i!=o||i.parentNode==null)e:if(o==null||o.parentNode!==t)t.appendChild(i),a=null;else{for(c=o,l=0;(c=c.nextSibling)&&l<r.length;l+=2)if(c==i)break e;t.insertBefore(i,o),a=o}return a!==void 0?a:i.nextSibling}function he(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=n==null?"":typeof n!="number"||q.test(e)?n:n+"px"}function pe(t,e,n,r,i){var o;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||he(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||he(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")o=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+o]=n,n?r||t.addEventListener(e,o?ce:ie,o):t.removeEventListener(e,o?ce:ie,o);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n==null?"":n;break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,n):t.removeAttribute(e))}}function ie(t){this.l[t.type+!1](y.event?y.event(t):t)}function ce(t){this.l[t.type+!0](y.event?y.event(t):t)}function ae(t,e,n,r,i,o,a,c,l){var h,_,j,A,M,X,J,Z,ee,Q,oe,fe=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,c=e.__e=n.__e,e.__h=null,o=[c]),(h=y.__b)&&h(e);try{e:if(typeof fe=="function"){if(Z=e.props,ee=(h=fe.contextType)&&r[h.__c],Q=h?ee?ee.props.value:h.__:r,n.__c?J=(_=e.__c=n.__c).__=_.__E:("prototype"in fe&&fe.prototype.render?e.__c=_=new fe(Z,Q):(e.__c=_=new I(Z,Q),_.constructor=fe,_.render=Ce),ee&&ee.sub(_),_.props=Z,_.state||(_.state={}),_.context=Q,_.__n=r,j=_.__d=!0,_.__h=[]),_.__s==null&&(_.__s=_.state),fe.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=Y({},_.__s)),Y(_.__s,fe.getDerivedStateFromProps(Z,_.__s))),A=_.props,M=_.state,j)fe.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(fe.getDerivedStateFromProps==null&&Z!==A&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(Z,Q),!_.__e&&_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(Z,_.__s,Q)===!1||e.__v===n.__v){_.props=Z,_.state=_.__s,e.__v!==n.__v&&(_.__d=!1),_.__v=e,e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(le){le&&(le.__=e)}),_.__h.length&&a.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(Z,_.__s,Q),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(A,M,X)})}_.context=Q,_.props=Z,_.state=_.__s,(h=y.__r)&&h(e),_.__d=!1,_.__v=e,_.__P=t,h=_.render(_.props,_.state,_.context),_.state=_.__s,_.getChildContext!=null&&(r=Y(Y({},r),_.getChildContext())),j||_.getSnapshotBeforeUpdate==null||(X=_.getSnapshotBeforeUpdate(A,M)),oe=h!=null&&h.type===N&&h.key==null?h.props.children:h,V(t,Array.isArray(oe)?oe:[oe],e,n,r,i,o,a,c,l),_.base=e.__e,e.__h=null,_.__h.length&&a.push(_),J&&(_.__E=_.__=null),_.__e=!1}else o==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=ve(n.__e,e,n,r,i,o,a,l);(h=y.diffed)&&h(e)}catch(le){e.__v=null,(l||o!=null)&&(e.__e=c,e.__h=!!l,o[o.indexOf(c)]=null),y.__e(le,e,n)}}function ue(t,e){y.__c&&y.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){y.__e(r,n.__v)}})}function ve(t,e,n,r,i,o,a,c){var l,h,_,j=n.props,A=e.props,M=e.type,X=0;if(M==="svg"&&(i=!0),o!=null){for(;X<o.length;X++)if((l=o[X])&&(l===t||(M?l.localName==M:l.nodeType==3))){t=l,o[X]=null;break}}if(t==null){if(M===null)return document.createTextNode(A);t=i?document.createElementNS("http://www.w3.org/2000/svg",M):document.createElement(M,A.is&&A),o=null,c=!1}if(M===null)j===A||c&&t.data===A||(t.data=A);else{if(o=o&&d.call(t.childNodes),h=(j=n.props||z).dangerouslySetInnerHTML,_=A.dangerouslySetInnerHTML,!c){if(o!=null)for(j={},X=0;X<t.attributes.length;X++)j[t.attributes[X].name]=t.attributes[X].value;(_||h)&&(_&&(h&&_.__html==h.__html||_.__html===t.innerHTML)||(t.innerHTML=_&&_.__html||""))}if(function(J,Z,ee,Q,oe){var fe;for(fe in ee)fe==="children"||fe==="key"||fe in Z||pe(J,fe,null,ee[fe],Q);for(fe in Z)oe&&typeof Z[fe]!="function"||fe==="children"||fe==="key"||fe==="value"||fe==="checked"||ee[fe]===Z[fe]||pe(J,fe,Z[fe],ee[fe],Q)}(t,A,j,i,c),_)e.__k=[];else if(X=e.props.children,V(t,Array.isArray(X)?X:[X],e,n,r,i&&M!=="foreignObject",o,a,o?o[0]:n.__k&&C(n,0),c),o!=null)for(X=o.length;X--;)o[X]!=null&&U(o[X]);c||("value"in A&&(X=A.value)!==void 0&&(X!==t.value||M==="progress"&&!X)&&pe(t,"value",X,j.value,!1),"checked"in A&&(X=A.checked)!==void 0&&X!==t.checked&&pe(t,"checked",X,j.checked,!1))}return t}function be(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){y.__e(r,n)}}function we(t,e,n){var r,i;if(y.unmount&&y.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||be(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){y.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&we(r[i],e,typeof t.type!="function");n||t.__e==null||U(t.__e),t.__e=t.__d=void 0}function Ce(t,e,n){return this.constructor(t,n)}function Pe(t,e,n){var r,i,o;y.__&&y.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,o=[],ae(e,t=(!r&&n||e).__k=L(N,null,[t]),i||z,z,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?d.call(e.childNodes):null,o,!r&&n?n:i?i.__e:e.firstChild,r),ue(o,t)}function ot(t,e){Pe(t,e,ot)}function xt(t,e,n){var r,i,o,a=Y({},t.props);for(o in e)o=="key"?r=e[o]:o=="ref"?i=e[o]:a[o]=e[o];return arguments.length>2&&(a.children=arguments.length>3?d.call(arguments,2):n),H(t.type,a,r||t.key,i||t.ref,null)}d=G.slice,y={__e:function(t,e){for(var n,r,i;e=e.__;)if((n=e.__c)&&!n.__)try{if((r=n.constructor)&&r.getDerivedStateFromError!=null&&(n.setState(r.getDerivedStateFromError(t)),i=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t),i=n.__d),i)return n.__E=n}catch(o){t=o}throw t}},x=0,I.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Y({},this.state),typeof t=="function"&&(t=t(Y({},n),this.props)),t&&Y(n,t),t!=null&&this.__v&&(e&&this.__h.push(e),B(this))},I.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),B(this))},I.prototype.render=N,E=[],S=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,R.__r=0,k=0;var Be,Te,We,lt=0,Ht=[],Dt=y.__b,ir=y.__r,eo=y.diffed,gt=y.__c,qt=y.unmount;function Zt(t,e){y.__h&&y.__h(Te,t,lt||e),lt=0;var n=Te.__H||(Te.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function Pr(t){return lt=1,kr(Ar,t)}function kr(t,e,n){var r=Zt(Be++,2);return r.t=t,r.__c||(r.__=[n?n(e):Ar(void 0,e),function(i){var o=r.t(r.__[0],i);r.__[0]!==o&&(r.__=[o,r.__[1]],r.__c.setState({}))}],r.__c=Te),r.__}function ar(t,e){var n=Zt(Be++,4);!y.__s&&cn(n.__H,e)&&(n.__=t,n.__H=e,Te.__h.push(n))}function Pn(t,e){var n=Zt(Be++,7);return cn(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function tt(){Ht.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(Le),t.__H.__h.forEach(Pt),t.__H.__h=[]}catch(e){t.__H.__h=[],y.__e(e,t.__v)}}),Ht=[]}y.__b=function(t){Te=null,Dt&&Dt(t)},y.__r=function(t){ir&&ir(t),Be=0;var e=(Te=t.__c).__H;e&&(e.__h.forEach(Le),e.__h.forEach(Pt),e.__h=[])},y.diffed=function(t){eo&&eo(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(Ht.push(e)!==1&&We===y.requestAnimationFrame||((We=y.requestAnimationFrame)||function(n){var r,i=function(){clearTimeout(o),Mt&&cancelAnimationFrame(r),setTimeout(n)},o=setTimeout(i,100);Mt&&(r=requestAnimationFrame(i))})(tt)),Te=void 0},y.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Le),n.__h=n.__h.filter(function(r){return!r.__||Pt(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],y.__e(r,n.__v)}}),gt&&gt(t,e)},y.unmount=function(t){qt&&qt(t);var e=t.__c;if(e&&e.__H)try{e.__H.__.forEach(Le)}catch(n){y.__e(n,e.__v)}};var Mt=typeof requestAnimationFrame=="function";function Le(t){var e=Te;typeof t.__c=="function"&&t.__c(),Te=e}function Pt(t){var e=Te;t.__c=t.__(),Te=e}function cn(t,e){return!t||t.length!==e.length||e.some(function(n,r){return n!==t[r]})}function Ar(t,e){return typeof e=="function"?e(t):e}function ur(t,e){for(var n in e)t[n]=e[n];return t}function sn(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function _e(t){this.props=t}(_e.prototype=new I).isPureReactComponent=!0,_e.prototype.shouldComponentUpdate=function(t,e){return sn(this.props,t)||sn(this.state,e)};var Ee=y.__b;y.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Ee&&Ee(t)};var Re=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ie(t){function e(n,r){var i=ur({},n);return delete i.ref,t(i,(r=n.ref||r)&&(typeof r!="object"||"current"in r)?r:null)}return e.$$typeof=Re,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var at=function(t,e){return t==null?null:ne(ne(t).map(e))},Wn={map:at,forEach:at,count:function(t){return t?ne(t).length:0},only:function(t){var e=ne(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:ne},Tr=y.__e;y.__e=function(t,e,n){if(t.then){for(var r,i=e;i=i.__;)if((r=i.__c)&&r.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),r.__c(t,e)}Tr(t,e,n)};var Xt=y.unmount;function Jt(){this.__u=0,this.t=null,this.__b=null}function to(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function gn(){this.u=null,this.o=null}y.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),Xt&&Xt(t)},(Jt.prototype=new I).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=to(r.__v),o=!1,a=function(){o||(o=!0,n.__R=null,i?i(c):c())};n.__R=a;var c=function(){if(!--r.__u){if(r.state.__e){var h=r.state.__e;r.__v.__k[0]=function j(A,M,X){return A&&(A.__v=null,A.__k=A.__k&&A.__k.map(function(J){return j(J,M,X)}),A.__c&&A.__c.__P===M&&(A.__e&&X.insertBefore(A.__e,A.__d),A.__c.__e=!0,A.__c.__P=X)),A}(h,h.__c.__P,h.__c.__O)}var _;for(r.setState({__e:r.__b=null});_=r.t.pop();)_.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__e:r.__b=r.__v.__k[0]}),t.then(a,a)},Jt.prototype.componentWillUnmount=function(){this.t=[]},Jt.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=function o(a,c,l){return a&&(a.__c&&a.__c.__H&&(a.__c.__H.__.forEach(function(h){typeof h.__c=="function"&&h.__c()}),a.__c.__H=null),(a=ur({},a)).__c!=null&&(a.__c.__P===l&&(a.__c.__P=c),a.__c=null),a.__k=a.__k&&a.__k.map(function(h){return o(h,c,l)})),a}(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__e&&L(N,null,t.fallback);return i&&(i.__h=null),[L(N,null,e.__e?null:t.children),i]};var zo=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function no(t){return this.getChildContext=function(){return t.context},t.children}function su(t){var e=this,n=t.i;e.componentWillUnmount=function(){Pe(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Pe(L(no,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}(gn.prototype=new I).__e=function(t){var e=this,n=to(e.__v),r=e.o.get(t);return r[0]++,function(i){var o=function(){e.props.revealOrder?(r.push(i),zo(e,t,r)):i()};n?n(o):o()}},gn.prototype.render=function(t){this.u=null,this.o=new Map;var e=ne(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},gn.prototype.componentDidUpdate=gn.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){zo(t,n,e)})};var Bo=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,kn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Li=function(t){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};I.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(I.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var Fo=y.event;function zi(){}function lu(){return this.cancelBubble}function Dr(){return this.defaultPrevented}y.event=function(t){return Fo&&(t=Fo(t)),t.persist=zi,t.isPropagationStopped=lu,t.isDefaultPrevented=Dr,t.nativeEvent=t};var cr,bn={configurable:!0,get:function(){return this.class}},Bi=y.vnode;y.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){for(var i in r={},n){var o=n[i];i==="value"&&"defaultValue"in n&&o==null||(i==="defaultValue"&&"value"in n&&n.value==null?i="value":i==="download"&&o===!0?o="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!Li(n.type)?i="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():kn.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():o===null&&(o=void 0),r[i]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=ne(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=ne(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r}e&&n.class!=n.className&&(bn.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",bn)),t.$$typeof=Bo,Bi&&Bi(t)};var mn=y.__r;y.__r=function(t){mn&&mn(t),cr=t.__c};function Yn(t){return!!t&&t.$$typeof===Bo}function sr(t){return t&&(t.base||t.nodeType===1&&t)||null}var Mr=function(t,e){return t(e)},Ho={useState:Pr,useReducer:kr,useEffect:function(t,e){var n=Zt(Be++,3);!y.__s&&cn(n.__H,e)&&(n.__=t,n.__H=e,Te.__H.__h.push(n))},useLayoutEffect:ar,useRef:function(t){return lt=5,Pn(function(){return{current:t}},[])},useImperativeHandle:function(t,e,n){lt=6,ar(function(){typeof t=="function"?t(e()):t&&(t.current=e())},n==null?n:n.concat(t))},useMemo:Pn,useCallback:function(t,e){return lt=8,Pn(function(){return t},e)},useContext:function(t){var e=Te.context[t.__c],n=Zt(Be++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(Te)),e.props.value):t.__},useDebugValue:function(t,e){y.useDebugValue&&y.useDebugValue(e?e(t):t)},version:"17.0.2",Children:Wn,render:function(t,e,n){return e.__k==null&&(e.textContent=""),Pe(t,e),typeof n=="function"&&n(),t?t.__c:null},hydrate:function(t,e,n){return ot(t,e),typeof n=="function"&&n(),t?t.__c:null},unmountComponentAtNode:function(t){return!!t.__k&&(Pe(null,t),!0)},createPortal:function(t,e){return L(su,{__v:t,i:e})},createElement:L,createContext:function(t,e){var n={__c:e="__cC"+k++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,o;return this.getChildContext||(i=[],(o={})[e]=this,this.getChildContext=function(){return o},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&i.some(B)},this.sub=function(a){i.push(a);var c=a.componentWillUnmount;a.componentWillUnmount=function(){i.splice(i.indexOf(a),1),c&&c.call(a)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n},createFactory:function(t){return L.bind(null,t)},cloneElement:function(t){return Yn(t)?xt.apply(null,arguments):t},createRef:$,Fragment:N,isValidElement:Yn,findDOMNode:sr,Component:I,PureComponent:_e,memo:function(t,e){function n(i){var o=this.props.ref,a=o==i.ref;return!a&&o&&(o.call?o(null):o.current=null),e?!e(this.props,i)||!a:sn(this.props,i)}function r(i){return this.shouldComponentUpdate=n,L(t,i)}return r.displayName="Memo("+(t.displayName||t.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r},forwardRef:Ie,flushSync:function(t,e){return t(e)},unstable_batchedUpdates:Mr,StrictMode:N,Suspense:Jt,SuspenseList:gn,lazy:function(t){var e,n,r;function i(o){if(e||(e=t()).then(function(a){n=a.default||a},function(a){r=a}),r)throw r;if(!n)throw e;return L(n,o)}return i.displayName="Lazy",i.__f=!0,i},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:{current:{readContext:function(t){return cr.__n[t.__c].props.value}}}}};/** @license mobx-react v5.4.4
 * index.module.js
 *
 * Copyright (c) 2015 Michel Weststrate.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function ge(t){return(ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ro(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Nr(t,e,n){return e&&Xo(t.prototype,e),n&&Xo(t,n),t}function Ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Uo(t,e)}function Cr(t){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Uo(t,e){return(Uo=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Gn(t,e){return!e||typeof e!="object"&&typeof e!="function"?function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t):e}function oo(t,e){return t(e={exports:{}},e.exports),e.exports}var Rr,Ke=oo(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,h=n?Symbol.for("react.context"):60110,_=n?Symbol.for("react.async_mode"):60111,j=n?Symbol.for("react.concurrent_mode"):60111,A=n?Symbol.for("react.forward_ref"):60112,M=n?Symbol.for("react.suspense"):60113,X=n?Symbol.for("react.memo"):60115,J=n?Symbol.for("react.lazy"):60116;function Z(Q){if(typeof Q=="object"&&Q!==null){var oe=Q.$$typeof;switch(oe){case r:switch(Q=Q.type){case _:case j:case o:case c:case a:return Q;default:switch(Q=Q&&Q.$$typeof){case h:case A:case l:return Q;default:return oe}}case i:return oe}}}function ee(Q){return Z(Q)===j}e.typeOf=Z,e.AsyncMode=_,e.ConcurrentMode=j,e.ContextConsumer=h,e.ContextProvider=l,e.Element=r,e.ForwardRef=A,e.Fragment=o,e.Profiler=c,e.Portal=i,e.StrictMode=a,e.isValidElementType=function(Q){return typeof Q=="string"||typeof Q=="function"||Q===o||Q===j||Q===c||Q===a||Q===M||typeof Q=="object"&&Q!==null&&(Q.$$typeof===J||Q.$$typeof===X||Q.$$typeof===l||Q.$$typeof===h||Q.$$typeof===A)},e.isAsyncMode=function(Q){return ee(Q)||Z(Q)===_},e.isConcurrentMode=ee,e.isContextConsumer=function(Q){return Z(Q)===h},e.isContextProvider=function(Q){return Z(Q)===l},e.isElement=function(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===r},e.isForwardRef=function(Q){return Z(Q)===A},e.isFragment=function(Q){return Z(Q)===o},e.isProfiler=function(Q){return Z(Q)===c},e.isPortal=function(Q){return Z(Q)===i},e.isStrictMode=function(Q){return Z(Q)===a}});(Rr=Ke)&&Rr.__esModule&&Object.prototype.hasOwnProperty.call(Rr,"default")&&Rr.default,Ke.typeOf,Ke.AsyncMode,Ke.ConcurrentMode,Ke.ContextConsumer,Ke.ContextProvider,Ke.Element,Ke.ForwardRef,Ke.Fragment,Ke.Profiler,Ke.Portal,Ke.StrictMode,Ke.isValidElementType,Ke.isAsyncMode,Ke.isConcurrentMode,Ke.isContextConsumer,Ke.isContextProvider,Ke.isElement,Ke.isForwardRef,Ke.isFragment,Ke.isProfiler,Ke.isPortal,Ke.isStrictMode;var io=oo(function(t){t.exports=Ke}),Fi={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},bt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},An={};An[io.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var en=Object.defineProperty,fu=Object.getOwnPropertyNames,Ut=Object.getOwnPropertySymbols,Hi=Object.getOwnPropertyDescriptor,pu=Object.getPrototypeOf,Vo=Object.prototype,Xi=function t(e,n,r){if(typeof n!="string"){if(Vo){var i=pu(n);i&&i!==Vo&&t(e,i,r)}var o=fu(n);Ut&&(o=o.concat(Ut(n)));for(var a=An[e.$$typeof]||Fi,c=An[n.$$typeof]||Fi,l=0;l<o.length;++l){var h=o[l];if(!(bt[h]||r&&r[h]||c&&c[h]||a&&a[h])){var _=Hi(n,h);try{en(e,h,_)}catch{}}}return e}return e},_n=function(){function t(){ro(this,t),this.listeners=[]}return Nr(t,[{key:"on",value:function(e){var n=this;return this.listeners.push(e),function(){var r=n.listeners.indexOf(e);r!==-1&&n.listeners.splice(r,1)}}},{key:"emit",value:function(e){this.listeners.forEach(function(n){return n(e)})}}]),t}();function Ui(t){function e(r,i,o,a,c,l){for(var h=arguments.length,_=new Array(h>6?h-6:0),j=6;j<h;j++)_[j-6]=arguments[j];return Object(O.I)(function(){if(a=a||"<<anonymous>>",l=l||o,i[o]==null){if(r){var A=i[o]===null?"null":"undefined";return new Error("The "+c+" `"+l+"` is marked as required in `"+a+"`, but its value is `"+A+"`.")}return null}return t.apply(void 0,[i,o,a,c,l].concat(_))})}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n}function Vi(t){var e=ge(t);return Array.isArray(t)?"array":t instanceof RegExp?"object":function(n,r){return n==="symbol"||r["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&r instanceof Symbol}(e,t)?"symbol":e}function Tn(t,e){return Ui(function(n,r,i,o,a){return Object(O.I)(function(){if(t&&Vi(n[r])===e.toLowerCase())return null;var c;switch(e){case"Array":c=O.w;break;case"Object":c=O.y;break;case"Map":c=O.x;break;default:throw new Error("Unexpected mobxType: ".concat(e))}var l=n[r];if(!c(l)){var h=function(j){var A=Vi(j);if(A==="object"){if(j instanceof Date)return"date";if(j instanceof RegExp)return"regexp"}return A}(l),_=t?" or javascript `"+e.toLowerCase()+"`":"";return new Error("Invalid prop `"+a+"` of type `"+h+"` supplied to `"+i+"`, expected `mobx.Observable"+e+"`"+_+".")}return null})})}function ao(t,e){return Ui(function(n,r,i,o,a){for(var c=arguments.length,l=new Array(c>5?c-5:0),h=5;h<c;h++)l[h-5]=arguments[h];return Object(O.I)(function(){if(typeof e!="function")return new Error("Property `"+a+"` of component `"+i+"` has invalid PropType notation.");var _=Tn(t,"Array")(n,r,i);if(_ instanceof Error)return _;for(var j=n[r],A=0;A<j.length;A++)if((_=e.apply(void 0,[j,A,i,o,a+"["+A+"]"].concat(l)))instanceof Error)return _;return null})})}Tn(!1,"Array"),ao.bind(null,!1),Tn(!1,"Map"),Tn(!1,"Object"),Tn(!0,"Array"),ao.bind(null,!0);var Wo=Tn(!0,"Object"),Yo=0,Go={};function ln(t){return Go[t]||(Go[t]=function(e){if(typeof Symbol=="function")return Symbol(e);var n="__$mobx-react ".concat(e," (").concat(Yo,")");return Yo++,n}(t)),Go[t]}var $o=ln("patchMixins"),Wi=ln("patchedDefinition");function Yi(t,e){var n=t[$o]=t[$o]||{},r=n[e]=n[e]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function Ko(t,e){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];e.locks++;try{var a;return t!=null&&(a=t.apply(this,i)),a}finally{e.locks--,e.locks===0&&e.methods.forEach(function(c){c.apply(n,i)})}}function Gi(t,e){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Ko.call.apply(Ko,[this,t,e].concat(r))}}function $i(t,e){for(var n=Yi(t,e),r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];for(var a=0;a<i.length;a++){var c=i[a];n.methods.indexOf(c)<0&&n.methods.push(c)}var l=Object.getOwnPropertyDescriptor(t,e);if(!l||!l[Wi]){var h=t[e],_=Ki(t,e,l?l.enumerable:void 0,n,h);Object.defineProperty(t,e,_)}}function Ki(t,e,n,r,i){var o,a=Gi(i,r);return Ct(o={},Wi,!0),Ct(o,"get",function(){return a}),Ct(o,"set",function(c){if(this===t)a=Gi(c,r);else{var l=Ki(this,e,n,r,c);Object.defineProperty(this,e,l)}}),Ct(o,"configurable",!0),Ct(o,"enumerable",n),o}var qo={mobxStores:Wo};Object.seal(qo);var qi={contextTypes:{get:function(){return qo},set:function(t){console.warn("Mobx Injector: you are trying to attach `contextTypes` on an component decorated with `inject` (or `observer`) HOC. Please specify the contextTypes on the wrapped component instead. It is accessible through the `wrappedComponent`")},configurable:!0,enumerable:!1},isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function Zi(t,e,n){var r="inject-"+(e.displayName||e.name||e.constructor&&e.constructor.name||"Unknown");n&&(r+="-with-"+n);var i=function(o){function a(){var c,l;ro(this,a);for(var h=arguments.length,_=new Array(h),j=0;j<h;j++)_[j]=arguments[j];return(l=Gn(this,(c=Cr(a)).call.apply(c,[this].concat(_)))).storeRef=function(A){l.wrappedInstance=A},l}return Qt(a,o),Nr(a,[{key:"render",value:function(){var c={};for(var l in this.props)this.props.hasOwnProperty(l)&&(c[l]=this.props[l]);var h=t(this.context.mobxStores||{},c,this.context)||{};for(var _ in h)c[_]=h[_];return function(j){return!(j.prototype&&j.prototype.render)}(e)||(c.ref=this.storeRef),L(e,c)}}]),a}(I);return i.displayName=r,Xi(i,e),i.wrappedComponent=e,Object.defineProperties(i,qi),i}function hu(t){return function(e,n){return t.forEach(function(r){if(!(r in n)){if(!(r in e))throw new Error("MobX injector: Store '"+r+"' is not available! Make sure it is provided by some Provider");n[r]=e[r]}}),n}}function Ji(){var t;if(typeof arguments[0]=="function")return t=arguments[0],function(r){var i=Zi(t,r);return i.isMobxInjector=!1,(i=pt(i)).isMobxInjector=!0,i};for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t=hu(e),function(r){return Zi(t,r,e.join("-"))}}var $n=O.a||"$mobx",Kn=ln("isUnmounted"),qn=!1,Qi=!1,lr=typeof WeakMap!="undefined"?new WeakMap:void 0,Zo=new _n,On=ln("skipRender"),uo=ln("isForcingUpdate"),ea=Ie(function(t,e){}).$$typeof;function ft(t,e,n){Object.hasOwnProperty.call(t,e)?t[e]=n:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:n})}function ta(t){if(sr)try{return sr(t)}catch{return null}return null}function Jo(t){var e=ta(t);e&&lr&&lr.set(e,t),Zo.emit({event:"render",renderTime:t.__$mobRenderEnd-t.__$mobRenderStart,totalTime:Date.now()-t.__$mobRenderStart,component:t,node:e})}var du=new _n;function tn(t,e){if(fr(t,e))return!0;if(ge(t)!=="object"||t===null||ge(e)!=="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!hasOwnProperty.call(e,n[i])||!fr(t[n[i]],e[n[i]]))return!1;return!0}function fr(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function fn(t){var e=this;function n(){var l=this;a=!1;var h=void 0,_=void 0;if(c.track(function(){qn&&(l.__$mobRenderStart=Date.now());try{_=Object(O.d)(!1,o)}catch(j){h=j}qn&&(l.__$mobRenderEnd=Date.now())}),h)throw du.emit(h),h;return _}var r=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",i=this._reactInternalInstance&&this._reactInternalInstance._rootNodeID||this._reactInternalInstance&&this._reactInternalInstance._debugID||this._reactInternalFiber&&this._reactInternalFiber._debugID;ft(this,On,!1),ft(this,uo,!1);var o=t.bind(this),a=!1,c=new O.c("".concat(r,"#").concat(i,".render()"),function(){if(!a&&(a=!0,typeof e.componentWillReact=="function"&&e.componentWillReact(),e[Kn]!==!0)){var l=!0;try{ft(e,uo,!0),e[On]||I.prototype.forceUpdate.call(e),l=!1}finally{ft(e,uo,!1),l&&c.dispose()}}});return c.reactComponent=this,n[$n]=c,this.render=n,n.call(this)}var Rt={componentWillUnmount:function(){if(this.render[$n]&&this.render[$n].dispose(),this[Kn]=!0,qn){var t=ta(this);t&&lr&&lr.delete(t),Zo.emit({event:"destroy",component:this,node:t})}},componentDidMount:function(){qn&&Jo(this)},componentDidUpdate:function(){qn&&Jo(this)},shouldComponentUpdate:function(t,e){return this.state!==e||!tn(this.props,t)}};function pr(t,e){var n=ln("reactProp_".concat(e,"_valueHolder")),r=ln("reactProp_".concat(e,"_atomHolder"));function i(){return this[r]||ft(this,r,Object(O.m)("reactive "+e)),this[r]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return i.call(this).reportObserved(),this[n]},set:function(o){this[uo]||tn(this[n],o)?ft(this,n,o):(ft(this,n,o),ft(this,On,!0),i.call(this).reportChanged(),ft(this,On,!1))}})}function pt(t,e){if(typeof t=="string")throw new Error("Store names should be provided as array");if(Array.isArray(t))return Qi||(Qi=!0,console.warn('Mobx observer: Using observer to inject stores is deprecated since 4.0. Use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))` instead of `@observer(["store1", "store2"]) ComponentClass`')),e?Ji.apply(null,t)(pt(e)):function(h){return pt(t,h)};var n=t;if(n.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n.__proto__===_e&&console.warn("Mobx observer: You are using 'observer' on React.PureComponent. These two achieve two opposite goals and should not be used together"),ea&&n.$$typeof===ea){var r=n.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Ie(function(){var h=arguments;return Ho.createElement(Ir,null,function(){return r.apply(void 0,h)})})}if(!(typeof n!="function"||n.prototype&&n.prototype.render||n.isReactClass||I.isPrototypeOf(n))){var i,o,a=pt((o=i=function(h){function _(){return ro(this,_),Gn(this,Cr(_).apply(this,arguments))}return Qt(_,h),Nr(_,[{key:"render",value:function(){return n.call(this,this.props,this.context)}}]),_}(I),i.displayName=n.displayName||n.name,i.contextTypes=n.contextTypes,i.propTypes=n.propTypes,i.defaultProps=n.defaultProps,o));return Xi(a,n),a}if(!n)throw new Error("Please pass a valid component to 'observer'");var c=n.prototype||n;(function(h){["componentDidMount","componentWillUnmount","componentDidUpdate"].forEach(function(_){(function(j,A){$i(j,A,Rt[A])})(h,_)}),h.shouldComponentUpdate?h.shouldComponentUpdate!==Rt.shouldComponentUpdate&&console.warn("Use `shouldComponentUpdate` in an `observer` based component breaks the behavior of `observer` and might lead to unexpected results. Manually implementing `sCU` should not be needed when using mobx-react."):h.shouldComponentUpdate=Rt.shouldComponentUpdate})(c),n.isMobXReactObserver=!0,pr(c,"props"),pr(c,"state");var l=c.render;return c.render=function(){return fn.call(this,l)},n}var Ir=pt(function(t){var e=t.children,n=t.inject,r=t.render,i=e||r;if(i===void 0)return null;if(!n)return i();console.warn("<Observer inject=.../> is no longer supported. Please use inject on the enclosing component instead");var o=Ji(n)(i);return Ho.createElement(o,null)});Ir.displayName="Observer";var co=function(t,e,n,r,i){var o=e==="children"?"render":"children";return typeof t[e]=="function"&&typeof t[o]=="function"?new Error("Invalid prop,do not use children and render in the same time in`"+n):typeof t[e]!="function"&&typeof t[o]!="function"?new Error("Invalid prop `"+i+"` of type `"+ge(t[e])+"` supplied to `"+n+"`, expected `function`."):void 0};function hr(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function Lr(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return n!=null?n:null}.bind(this))}function na(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Ir.propTypes={render:co,children:co},hr.__suppressDeprecationWarning=!0,Lr.__suppressDeprecationWarning=!0,na.__suppressDeprecationWarning=!0;var Qo={children:!0,key:!0,ref:!0},zr=function(t){function e(n,r){var i;return ro(this,e),(i=Gn(this,Cr(e).call(this,n,r))).state={},so(n,i.state),i}return Qt(e,t),Nr(e,[{key:"render",value:function(){return Wn.only(this.props.children)}},{key:"getChildContext",value:function(){var n={};return so(this.context.mobxStores,n),so(this.props,n),{mobxStores:n}}}],[{key:"getDerivedStateFromProps",value:function(n,r){if(!n)return null;if(!r)return n;if(Object.keys(n).filter(It).length!==Object.keys(r).filter(It).length&&console.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!n.suppressChangedStoreWarning)for(var i in n)It(i)&&r[i]!==n[i]&&console.warn("MobX Provider: Provided store '"+i+"' has changed. Please avoid replacing stores as the change might not propagate to all children");return n}}]),e}(I);function so(t,e){if(t)for(var n in t)It(n)&&(e[n]=t[n])}function It(t){return!Qo[t]&&t!=="suppressChangedStoreWarning"}if(zr.contextTypes={mobxStores:Wo},zr.childContextTypes={mobxStores:Wo.isRequired},function(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=t.displayName||t.name,a=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+a+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=hr,e.componentWillReceiveProps=Lr),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=na;var c=e.componentDidUpdate;e.componentDidUpdate=function(l,h,_){var j=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:_;c.call(this,l,h,j)}}}(zr),ln("disposeOnUnmount"),!I)throw new Error("mobx-react requires React to be available");if(!O.F)throw new Error("mobx-react requires mobx to be available");if(Object(O.l)({reactionScheduler:Mr}),(typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="undefined"?"undefined":ge(__MOBX_DEVTOOLS_GLOBAL_HOOK__))==="object"){var yu={spy:O.F,extras:{getDebugName:O.r}},ra={renderReporter:Zo,componentByNodeRegistry:lr,componentByNodeRegistery:lr,trackComponents:function(){if(typeof WeakMap=="undefined")throw new Error("[mobx-react] tracking components is not supported in this browser.");qn||(qn=!0)}};__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobxReact(ra,yu)}u(1),u(78),u(3),u(5),u(4),u(8),u(17),u(35),u(12),u(2),u(19),u(13),u(20),u(6),u(7),u(15),u(18),u(159),u(164),u(81),u(130),u(131);var oa=function(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i},ei=function(){this.__data__=[],this.size=0},lo=function(t,e){return t===e||t!=t&&e!=e},Vt=function(t,e){for(var n=t.length;n--;)if(lo(t[n][0],e))return n;return-1},vu=Array.prototype.splice,Br=function(t){var e=this.__data__,n=Vt(e,t);return!(n<0)&&(n==e.length-1?e.pop():vu.call(e,n,1),--this.size,!0)},fo=function(t){var e=this.__data__,n=Vt(e,t);return n<0?void 0:e[n][1]},Wt=function(t){return Vt(this.__data__,t)>-1},gu=function(t,e){var n=this.__data__,r=Vt(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};function wn(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wn.prototype.clear=ei,wn.prototype.delete=Br,wn.prototype.get=fo,wn.prototype.has=Wt,wn.prototype.set=gu;var Lt=wn,ia=function(){this.__data__=new Lt,this.size=0},ti=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},bu=function(t){return this.__data__.get(t)},aa=function(t){return this.__data__.has(t)},pn=u(22),zt=pn.a.Symbol,ua=Object.prototype,hn=ua.hasOwnProperty,dn=ua.toString,xn=zt?zt.toStringTag:void 0,ca=function(t){var e=hn.call(t,xn),n=t[xn];try{t[xn]=void 0;var r=!0}catch{}var i=dn.call(t);return r&&(e?t[xn]=n:delete t[xn]),i},sa=Object.prototype.toString,ni=function(t){return sa.call(t)},ri=zt?zt.toStringTag:void 0,dr=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":ri&&ri in Object(t)?ca(t):ni(t)},Bt=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},b,m=function(t){if(!Bt(t))return!1;var e=dr(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},w=pn.a["__core-js_shared__"],T=(b=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",D=function(t){return!!T&&T in t},W=Function.prototype.toString,te=function(t){if(t!=null){try{return W.call(t)}catch{}try{return t+""}catch{}}return""},de=/^\[object .+?Constructor\]$/,Oe=Function.prototype,De=Object.prototype,xe=Oe.toString,Xe=De.hasOwnProperty,Ue=RegExp("^"+xe.call(Xe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=function(t){return!(!Bt(t)||D(t))&&(m(t)?Ue:de).test(te(t))},Qe=function(t,e){return t==null?void 0:t[e]},Ye=function(t,e){var n=Qe(t,e);return Ve(n)?n:void 0},it=Ye(pn.a,"Map"),mt=Ye(Object,"create"),oi=function(){this.__data__=mt?mt(null):{},this.size=0},Pg=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},kg=Object.prototype.hasOwnProperty,Ag=function(t){var e=this.__data__;if(mt){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return kg.call(e,t)?e[t]:void 0},Tg=Object.prototype.hasOwnProperty,Dg=function(t){var e=this.__data__;return mt?e[t]!==void 0:Tg.call(e,t)},Mg=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mt&&e===void 0?"__lodash_hash_undefined__":e,this};function po(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}po.prototype.clear=oi,po.prototype.delete=Pg,po.prototype.get=Ag,po.prototype.has=Dg,po.prototype.set=Mg;var Ns=po,Ng=function(){this.size=0,this.__data__={hash:new Ns,map:new(it||Lt),string:new Ns}},Cg=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},la=function(t,e){var n=t.__data__;return Cg(e)?n[typeof e=="string"?"string":"hash"]:n.map},Rg=function(t){var e=la(this,t).delete(t);return this.size-=e?1:0,e},Ig=function(t){return la(this,t).get(t)},Lg=function(t){return la(this,t).has(t)},zg=function(t,e){var n=la(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};function ho(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ho.prototype.clear=Ng,ho.prototype.delete=Rg,ho.prototype.get=Ig,ho.prototype.has=Lg,ho.prototype.set=zg;var fa=ho,Bg=function(t,e){var n=this.__data__;if(n instanceof Lt){var r=n.__data__;if(!it||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new fa(r)}return n.set(t,e),this.size=n.size,this};function yo(t){var e=this.__data__=new Lt(t);this.size=e.size}yo.prototype.clear=ia,yo.prototype.delete=ti,yo.prototype.get=bu,yo.prototype.has=aa,yo.prototype.set=Bg;var ii=yo,Fg=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Hg=function(t){return this.__data__.has(t)};function pa(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new fa;++e<n;)this.add(t[e])}pa.prototype.add=pa.prototype.push=Fg,pa.prototype.has=Hg;var Xg=pa,Ug=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1},Vg=function(t,e){return t.has(e)},Cs=function(t,e,n,r,i,o){var a=1&n,c=t.length,l=e.length;if(c!=l&&!(a&&l>c))return!1;var h=o.get(t),_=o.get(e);if(h&&_)return h==e&&_==t;var j=-1,A=!0,M=2&n?new Xg:void 0;for(o.set(t,e),o.set(e,t);++j<c;){var X=t[j],J=e[j];if(r)var Z=a?r(J,X,j,e,t,o):r(X,J,j,t,e,o);if(Z!==void 0){if(Z)continue;A=!1;break}if(M){if(!Ug(e,function(ee,Q){if(!Vg(M,Q)&&(X===ee||i(X,ee,n,r,o)))return M.push(Q)})){A=!1;break}}else if(X!==J&&!i(X,J,n,r,o)){A=!1;break}}return o.delete(t),o.delete(e),A},ha=pn.a.Uint8Array,Wg=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n},Yg=function(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n},Rs=zt?zt.prototype:void 0,mu=Rs?Rs.valueOf:void 0,Gg=function(t,e,n,r,i,o,a){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new ha(t),new ha(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return lo(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=Wg;case"[object Set]":var l=1&r;if(c||(c=Yg),t.size!=e.size&&!l)return!1;var h=a.get(t);if(h)return h==e;r|=2,a.set(t,e);var _=Cs(c(t),c(e),r,i,o,a);return a.delete(t),_;case"[object Symbol]":if(mu)return mu.call(t)==mu.call(e)}return!1},_u=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t},nn=Array.isArray,Is=function(t,e,n){var r=e(t);return nn(t)?r:_u(r,n(t))},$g=function(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o},Ls=function(){return[]},Kg=Object.prototype.propertyIsEnumerable,zs=Object.getOwnPropertySymbols,Ou=zs?function(t){return t==null?[]:(t=Object(t),$g(zs(t),function(e){return Kg.call(t,e)}))}:Ls,qg=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},yr=function(t){return t!=null&&typeof t=="object"},Bs=function(t){return yr(t)&&dr(t)=="[object Arguments]"},Fs=Object.prototype,Zg=Fs.hasOwnProperty,Jg=Fs.propertyIsEnumerable,wu=Bs(function(){return arguments}())?Bs:function(t){return yr(t)&&Zg.call(t,"callee")&&!Jg.call(t,"callee")},da=u(48),Qg=/^(?:0|[1-9]\d*)$/,ya=function(t,e){var n=typeof t;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&Qg.test(t))&&t>-1&&t%1==0&&t<e},xu=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},et={};et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Arguments]"]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object Boolean]"]=et["[object DataView]"]=et["[object Date]"]=et["[object Error]"]=et["[object Function]"]=et["[object Map]"]=et["[object Number]"]=et["[object Object]"]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object WeakMap]"]=!1;var eb=function(t){return yr(t)&&xu(t.length)&&!!et[dr(t)]},Eu=function(t){return function(e){return t(e)}},vo=u(42),Hs=vo.a&&vo.a.isTypedArray,Xs=Hs?Eu(Hs):eb,tb=Object.prototype.hasOwnProperty,Us=function(t,e){var n=nn(t),r=!n&&wu(t),i=!n&&!r&&Object(da.a)(t),o=!n&&!r&&!i&&Xs(t),a=n||r||i||o,c=a?qg(t.length,String):[],l=c.length;for(var h in t)!e&&!tb.call(t,h)||a&&(h=="length"||i&&(h=="offset"||h=="parent")||o&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||ya(h,l))||c.push(h);return c},nb=Object.prototype,va=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||nb)},Vs=function(t,e){return function(n){return t(e(n))}},rb=Vs(Object.keys,Object),ob=Object.prototype.hasOwnProperty,ib=function(t){if(!va(t))return rb(t);var e=[];for(var n in Object(t))ob.call(t,n)&&n!="constructor"&&e.push(n);return e},go=function(t){return t!=null&&xu(t.length)&&!m(t)},bo=function(t){return go(t)?Us(t):ib(t)},Su=function(t){return Is(t,bo,Ou)},ab=Object.prototype.hasOwnProperty,ub=function(t,e,n,r,i,o){var a=1&n,c=Su(t),l=c.length;if(l!=Su(e).length&&!a)return!1;for(var h=l;h--;){var _=c[h];if(!(a?_ in e:ab.call(e,_)))return!1}var j=o.get(t),A=o.get(e);if(j&&A)return j==e&&A==t;var M=!0;o.set(t,e),o.set(e,t);for(var X=a;++h<l;){var J=t[_=c[h]],Z=e[_];if(r)var ee=a?r(Z,J,_,e,t,o):r(J,Z,_,t,e,o);if(!(ee===void 0?J===Z||i(J,Z,n,r,o):ee)){M=!1;break}X||(X=_=="constructor")}if(M&&!X){var Q=t.constructor,oe=e.constructor;Q==oe||!("constructor"in t)||!("constructor"in e)||typeof Q=="function"&&Q instanceof Q&&typeof oe=="function"&&oe instanceof oe||(M=!1)}return o.delete(t),o.delete(e),M},ju=Ye(pn.a,"DataView"),Pu=Ye(pn.a,"Promise"),ku=Ye(pn.a,"Set"),Au=Ye(pn.a,"WeakMap"),cb=te(ju),sb=te(it),lb=te(Pu),fb=te(ku),pb=te(Au),Fr=dr;(ju&&Fr(new ju(new ArrayBuffer(1)))!="[object DataView]"||it&&Fr(new it)!="[object Map]"||Pu&&Fr(Pu.resolve())!="[object Promise]"||ku&&Fr(new ku)!="[object Set]"||Au&&Fr(new Au)!="[object WeakMap]")&&(Fr=function(t){var e=dr(t),n=e=="[object Object]"?t.constructor:void 0,r=n?te(n):"";if(r)switch(r){case cb:return"[object DataView]";case sb:return"[object Map]";case lb:return"[object Promise]";case fb:return"[object Set]";case pb:return"[object WeakMap]"}return e});var ai=Fr,Ws=Object.prototype.hasOwnProperty,hb=function(t,e,n,r,i,o){var a=nn(t),c=nn(e),l=a?"[object Array]":ai(t),h=c?"[object Array]":ai(e),_=(l=l=="[object Arguments]"?"[object Object]":l)=="[object Object]",j=(h=h=="[object Arguments]"?"[object Object]":h)=="[object Object]",A=l==h;if(A&&Object(da.a)(t)){if(!Object(da.a)(e))return!1;a=!0,_=!1}if(A&&!_)return o||(o=new ii),a||Xs(t)?Cs(t,e,n,r,i,o):Gg(t,e,l,n,r,i,o);if(!(1&n)){var M=_&&Ws.call(t,"__wrapped__"),X=j&&Ws.call(e,"__wrapped__");if(M||X){var J=M?t.value():t,Z=X?e.value():e;return o||(o=new ii),i(J,Z,n,r,o)}}return!!A&&(o||(o=new ii),ub(t,e,n,r,i,o))},Tu=function t(e,n,r,i,o){return e===n||(e==null||n==null||!yr(e)&&!yr(n)?e!=e&&n!=n:hb(e,n,r,i,t,o))},db=function(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var c=n[i];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var l=(c=n[i])[0],h=t[l],_=c[1];if(a&&c[2]){if(h===void 0&&!(l in t))return!1}else{var j=new ii;if(r)var A=r(h,_,l,t,e,j);if(!(A===void 0?Tu(_,h,3,r,j):A))return!1}}return!0},Ys=function(t){return t==t&&!Bt(t)},yb=function(t){for(var e=bo(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ys(i)]}return e},Gs=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},vb=function(t){var e=yb(t);return e.length==1&&e[0][2]?Gs(e[0][0],e[0][1]):function(n){return n===t||db(n,t,e)}},ga=function(t){return typeof t=="symbol"||yr(t)&&dr(t)=="[object Symbol]"},gb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bb=/^\w*$/,Du=function(t,e){if(nn(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!ga(t))||bb.test(t)||!gb.test(t)||e!=null&&t in Object(e)};function Mu(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Mu.Cache||fa),n}Mu.Cache=fa;var mb=Mu,_b=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ob=/\\(\\)?/g,wb=function(t){var e=mb(t,function(r){return n.size===500&&n.clear(),r}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(_b,function(n,r,i,o){e.push(i?o.replace(Ob,"$1"):r||n)}),e}),$s=zt?zt.prototype:void 0,Ks=$s?$s.toString:void 0,xb=function t(e){if(typeof e=="string")return e;if(nn(e))return oa(e,t)+"";if(ga(e))return Ks?Ks.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},Eb=function(t){return t==null?"":xb(t)},ba=function(t,e){return nn(t)?t:Du(t,e)?[t]:wb(Eb(t))},ui=function(t){if(typeof t=="string"||ga(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Nu=function(t,e){for(var n=0,r=(e=ba(e,t)).length;t!=null&&n<r;)t=t[ui(e[n++])];return n&&n==r?t:void 0},qs=function(t,e,n){var r=t==null?void 0:Nu(t,e);return r===void 0?n:r},Sb=function(t,e){return t!=null&&e in Object(t)},jb=function(t,e,n){for(var r=-1,i=(e=ba(e,t)).length,o=!1;++r<i;){var a=ui(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=t==null?0:t.length)&&xu(i)&&ya(a,i)&&(nn(t)||wu(t))},Zs=function(t,e){return t!=null&&jb(t,e,Sb)},Pb=function(t,e){return Du(t)&&Ys(e)?Gs(ui(t),e):function(n){var r=qs(n,t);return r===void 0&&r===e?Zs(n,t):Tu(e,r,3)}},Cu=function(t){return t},kb=function(t){return function(e){return e==null?void 0:e[t]}},Ab=function(t){return function(e){return Nu(e,t)}},Tb=function(t){return Du(t)?kb(ui(t)):Ab(t)},Db=function(t){return typeof t=="function"?t:t==null?Cu:typeof t=="object"?nn(t)?Pb(t[0],t[1]):vb(t):Tb(t)},Mb=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),c=a.length;c--;){var l=a[t?c:++i];if(n(o[l],l,o)===!1)break}return e}}(),Nb=function(t,e){return function(n,r){if(n==null)return n;if(!go(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}(function(t,e){return t&&Mb(t,e,bo)}),Cb=function(t,e){var n=-1,r=go(t)?Array(t.length):[];return Nb(t,function(i,o,a){r[++n]=e(i,o,a)}),r},ma=function(t,e){return(nn(t)?oa:Cb)(t,Db(e))},_a=function(){try{var t=Ye(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Js=function(t,e,n){e=="__proto__"&&_a?_a(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Rb=Object.prototype.hasOwnProperty,Oa=function(t,e,n){var r=t[e];Rb.call(t,e)&&lo(r,n)&&(n!==void 0||e in t)||Js(t,e,n)},ci=function(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var c=e[o],l=r?r(n[c],t[c],c,n,t):void 0;l===void 0&&(l=t[c]),i?Js(n,c,l):Oa(n,c,l)}return n},Ib=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Qs=Math.max,el=function(t,e,n){return e=Qs(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=Qs(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var c=Array(e+1);++i<e;)c[i]=r[i];return c[e]=n(a),Ib(t,this,c)}},Lb=function(t){return function(){return t}},zb=_a?function(t,e){return _a(t,"toString",{configurable:!0,enumerable:!1,value:Lb(e),writable:!0})}:Cu,Bb=Date.now,tl=function(t){var e=0,n=0;return function(){var r=Bb(),i=16-(r-n);if(n=r,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(zb),Fb=function(t,e){return tl(el(t,e,Cu),t+"")},Hb=function(t,e,n){if(!Bt(n))return!1;var r=typeof e;return!!(r=="number"?go(n)&&ya(e,n.length):r=="string"&&e in n)&&lo(n[e],t)},Xb=function(t){return Fb(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,a=i>2?n[2]:void 0;for(o=t.length>3&&typeof o=="function"?(i--,o):void 0,a&&Hb(n[0],n[1],a)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var c=n[r];c&&t(e,c,r,o)}return e})},Ub=Object.prototype.hasOwnProperty,ut=Xb(function(t,e){if(va(e)||go(e))ci(e,bo(e),t);else for(var n in e)Ub.call(e,n)&&Oa(t,n,e[n])}),Vb=function(t,e,n,r){if(!Bt(t))return t;for(var i=-1,o=(e=ba(e,t)).length,a=o-1,c=t;c!=null&&++i<o;){var l=ui(e[i]),h=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=a){var _=c[l];(h=r?r(_,l,c):void 0)===void 0&&(h=Bt(_)?_:ya(e[i+1])?[]:{})}Oa(c,l,h),c=c[l]}return t},Wb=function(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],c=Nu(t,a);n(c,a)&&Vb(o,ba(a,t),c)}return o},Yb=function(t,e){return Wb(t,e,function(n,r){return Zs(t,r)})},nl=zt?zt.isConcatSpreadable:void 0,Gb=function(t){return nn(t)||wu(t)||!!(nl&&t&&t[nl])},$b=function t(e,n,r,i,o){var a=-1,c=e.length;for(r||(r=Gb),o||(o=[]);++a<c;){var l=e[a];n>0&&r(l)?n>1?t(l,n-1,r,i,o):_u(o,l):i||(o[o.length]=l)}return o},Kb=function(t){return(t==null?0:t.length)?$b(t,1):[]},Et,rl,ol,il,al,ul,cl,sl,ll,fl,pl,hl,dl,yl,vl,Dn=function(t){return tl(el(t,void 0,Kb),t+"")}(function(t,e){return t==null?{}:Yb(t,e)});function Yt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function qb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ft(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var $e,bl,He,_t,Fe,ct,Zb={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustNodePosition:!1,hideAnchors:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1,metaKeyMultipleSelected:!1},Ru=["stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustNodePosition","hideAnchors","hoverOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","metaKeyMultipleSelected","extraConf"],ml=(rl=Ft((Et=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),Yt(this,"stopZoomGraph",rl,this),Yt(this,"stopScrollGraph",ol,this),Yt(this,"stopMoveGraph",il,this),Yt(this,"adjustEdge",al,this),Yt(this,"adjustNodePosition",ul,this),Yt(this,"hideAnchors",cl,this),Yt(this,"hoverOutline",sl,this),Yt(this,"nodeSelectedOutline",ll,this),Yt(this,"edgeSelectedOutline",fl,this),Yt(this,"nodeTextEdit",pl,this),Yt(this,"edgeTextEdit",hl,this),Yt(this,"nodeTextDraggable",dl,this),Yt(this,"edgeTextDraggable",yl,this),Yt(this,"metaKeyMultipleSelected",vl,this),gl(this,"extraConf",{}),gl(this,"defaultConfig",{}),ut(this,this.getConfigDetail(r))}var e,n;return e=t,(n=[{key:"updateEditConfig",value:function(r){var i=this.getConfigDetail(r);ut(this,i)}},{key:"getConfigDetail",value:function(r){var i=r.isSilentMode,o=r.textEdit,a={};if(i===!1&&ut(a,this.defaultConfig),i===!0){var c=Dn(Zb,Ru);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,metaKeyMultipleSelected:this.metaKeyMultipleSelected},ut(a,c)}o===!1&&ut(a,{nodeTextEdit:!1,edgeTextEdit:!1});var l=Dn(r,Ru);return ut(a,l)}},{key:"getConfig",value:function(){return Dn(this,Ru)}}])&&qb(e.prototype,n),t}()).prototype,"stopZoomGraph",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ol=Ft(Et.prototype,"stopScrollGraph",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),il=Ft(Et.prototype,"stopMoveGraph",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),al=Ft(Et.prototype,"adjustEdge",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ul=Ft(Et.prototype,"adjustNodePosition",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),cl=Ft(Et.prototype,"hideAnchors",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),sl=Ft(Et.prototype,"hoverOutline",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ll=Ft(Et.prototype,"nodeSelectedOutline",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),fl=Ft(Et.prototype,"edgeSelectedOutline",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),pl=Ft(Et.prototype,"nodeTextEdit",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),hl=Ft(Et.prototype,"edgeTextEdit",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),dl=Ft(Et.prototype,"nodeTextDraggable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yl=Ft(Et.prototype,"edgeTextDraggable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),vl=Ft(Et.prototype,"metaKeyMultipleSelected",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ft(Et.prototype,"updateEditConfig",[O.i],Object.getOwnPropertyDescriptor(Et.prototype,"updateEditConfig"),Et.prototype),Et);(function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})($e||($e={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(bl||(bl={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(He||(He={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(_t||(_t={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform"}(Fe||(Fe={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(ct||(ct={}));var Mn,ht,_l,Ol,wl,xl,El,Sl,jl;function wa(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Pl(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Pl(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Hr(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Jb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Iu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function En(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}(function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"})(Mn||(Mn={}));var Qb=(_l=En((ht=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),Iu(this,"MINI_SCALE_SIZE",.2),Iu(this,"MAX_SCALE_SIZE",16),Hr(this,"SCALE_X",_l,this),Hr(this,"SKEW_Y",Ol,this),Hr(this,"SKEW_X",wl,this),Hr(this,"SCALE_Y",xl,this),Hr(this,"TRANSLATE_X",El,this),Hr(this,"TRANSLATE_Y",Sl,this),Hr(this,"ZOOM_SIZE",jl,this),Iu(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var i=wa(r,2),o=i[0],a=i[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var i=wa(r,2),o=i[0],a=i[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,i,o){var a=wa(r,2),c=a[0],l=a[1];return[c+i/this.SCALE_X,l+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,i){return[r/this.SCALE_X,i/this.SCALE_Y]}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0,o=r?this.ZOOM_SIZE:-this.ZOOM_SIZE;return!(o<0&&this.SCALE_X<=this.MINI_SCALE_SIZE||o>0&&this.SCALE_X>=this.MAX_SCALE_SIZE||(this.SCALE_X+=o,this.SCALE_Y+=o,i&&(this.TRANSLATE_X-=o*i[0],this.TRANSLATE_Y-=o*i[1]),this.emitGraphTransform("zoom"),0))}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(Fe.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,i){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=i,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,i,o,a){var c=wa(this.CanvasPointToHtmlPoint([r,i]),2),l=o/2-c[0],h=a/2-c[1];this.TRANSLATE_X+=l,this.TRANSLATE_Y+=h,this.emitGraphTransform("focusOn")}}])&&Jb(e.prototype,n),t}()).prototype,"SCALE_X",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Ol=En(ht.prototype,"SKEW_Y",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wl=En(ht.prototype,"SKEW_X",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xl=En(ht.prototype,"SCALE_Y",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),El=En(ht.prototype,"TRANSLATE_X",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sl=En(ht.prototype,"TRANSLATE_Y",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),jl=En(ht.prototype,"ZOOM_SIZE",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),En(ht.prototype,"zoom",[O.i],Object.getOwnPropertyDescriptor(ht.prototype,"zoom"),ht.prototype),En(ht.prototype,"resetZoom",[O.i],Object.getOwnPropertyDescriptor(ht.prototype,"resetZoom"),ht.prototype),En(ht.prototype,"translate",[O.i],Object.getOwnPropertyDescriptor(ht.prototype,"translate"),ht.prototype),En(ht.prototype,"focusOn",[O.i],Object.getOwnPropertyDescriptor(ht.prototype,"focusOn"),ht.prototype),ht),em=function(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t},tm=function(t,e){return t&&ci(e,bo(e),t)},nm=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e},rm=Object.prototype.hasOwnProperty,om=function(t){if(!Bt(t))return nm(t);var e=va(t),n=[];for(var r in t)(r!="constructor"||!e&&rm.call(t,r))&&n.push(r);return n},Lu=function(t){return go(t)?Us(t,!0):om(t)},im=function(t,e){return t&&ci(e,Lu(e),t)},am=u(139),um=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e},cm=function(t,e){return ci(t,Ou(t),e)},kl=Vs(Object.getPrototypeOf,Object),Al=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)_u(e,Ou(t)),t=kl(t);return e}:Ls,sm=function(t,e){return ci(t,Al(t),e)},lm=function(t){return Is(t,Lu,Al)},fm=Object.prototype.hasOwnProperty,pm=function(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&fm.call(t,"index")&&(n.index=t.index,n.input=t.input),n},zu=function(t){var e=new t.constructor(t.byteLength);return new ha(e).set(new ha(t)),e},hm=function(t,e){var n=e?zu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},dm=/\w*$/,ym=function(t){var e=new t.constructor(t.source,dm.exec(t));return e.lastIndex=t.lastIndex,e},Tl=zt?zt.prototype:void 0,Dl=Tl?Tl.valueOf:void 0,vm=function(t){return Dl?Object(Dl.call(t)):{}},gm=function(t,e){var n=e?zu(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},bm=function(t,e,n){var r=t.constructor;switch(e){case"[object ArrayBuffer]":return zu(t);case"[object Boolean]":case"[object Date]":return new r(+t);case"[object DataView]":return hm(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return gm(t,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(t);case"[object RegExp]":return ym(t);case"[object Set]":return new r;case"[object Symbol]":return vm(t)}},Ml=Object.create,mm=function(){function t(){}return function(e){if(!Bt(e))return{};if(Ml)return Ml(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),_m=function(t){return typeof t.constructor!="function"||va(t)?{}:mm(kl(t))},Om=function(t){return yr(t)&&ai(t)=="[object Map]"},Nl=vo.a&&vo.a.isMap,wm=Nl?Eu(Nl):Om,xm=function(t){return yr(t)&&ai(t)=="[object Set]"},Cl=vo.a&&vo.a.isSet,Em=Cl?Eu(Cl):xm,qe={};qe["[object Arguments]"]=qe["[object Array]"]=qe["[object ArrayBuffer]"]=qe["[object DataView]"]=qe["[object Boolean]"]=qe["[object Date]"]=qe["[object Float32Array]"]=qe["[object Float64Array]"]=qe["[object Int8Array]"]=qe["[object Int16Array]"]=qe["[object Int32Array]"]=qe["[object Map]"]=qe["[object Number]"]=qe["[object Object]"]=qe["[object RegExp]"]=qe["[object Set]"]=qe["[object String]"]=qe["[object Symbol]"]=qe["[object Uint8Array]"]=qe["[object Uint8ClampedArray]"]=qe["[object Uint16Array]"]=qe["[object Uint32Array]"]=!0,qe["[object Error]"]=qe["[object Function]"]=qe["[object WeakMap]"]=!1;var Sm=function t(e,n,r,i,o,a){var c,l=1&n,h=2&n,_=4&n;if(r&&(c=o?r(e,i,o,a):r(e)),c!==void 0)return c;if(!Bt(e))return e;var j=nn(e);if(j){if(c=pm(e),!l)return um(e,c)}else{var A=ai(e),M=A=="[object Function]"||A=="[object GeneratorFunction]";if(Object(da.a)(e))return Object(am.a)(e,l);if(A=="[object Object]"||A=="[object Arguments]"||M&&!o){if(c=h||M?{}:_m(e),!l)return h?sm(e,im(c,e)):cm(e,tm(c,e))}else{if(!qe[A])return o?e:{};c=bm(e,A,l)}}a||(a=new ii);var X=a.get(e);if(X)return X;a.set(e,c),Em(e)?e.forEach(function(Z){c.add(t(Z,n,r,Z,e,a))}):wm(e)&&e.forEach(function(Z,ee){c.set(ee,t(Z,n,r,ee,e,a))});var J=j?void 0:(_?h?lm:Su:h?Lu:bo)(e);return em(J||e,function(Z,ee){J&&(Z=e[ee=Z]),Oa(c,ee,t(Z,n,r,ee,e,a))}),c},Bu=function(t){return Sm(t,5)};function Rl(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rl(Object(n),!0).forEach(function(r){jm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jm(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mo={fill:"#FFFFFF",stroke:"#000000",strokeWidth:2,fillOpacity:1,strokeOpacity:1,opacity:1,outlineColor:"#000000",outlineStrokeDashArray:"3,3",hoverOutlineColor:"#000000",hoverOutlineStrokeDashArray:"3,3"},Pm=St(St({},mo),{},{width:100,height:80,radius:0}),km=St(St({},mo),{},{r:50}),Am=St(St({},mo),{},{rx:55,ry:45}),Tm=St(St({},mo),{},{rx:50,ry:50}),Dm=St({},mo),Mm=St(St({},mo),{},{stroke:"#000000",strokeWidth:1,r:4}),Fu={stroke:"#000000",strokeWidth:2,hoverStroke:"#000000",selectedStroke:"#000000",strokeDashArray:"1,0",outlineColor:"#000000",outlineStrokeDashArray:"3,3"},Nm=St({},Fu),Cm=St(St({},Fu),{},{offset:30}),Rm=St(St({},Fu),{},{offset:100,adjustLineColor:"#4169E1",adjustAnchorStroke:"#4169E1",adjustAnchorFill:"#1E90FF",adjustAnchorFillOpacity:.5}),Il={color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:""},Gt={rect:Pm,circle:km,diamond:Tm,ellipse:Am,polygon:Dm,anchor:Mm,text:Il,nodeText:St(St({},Il),{},{autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"}),edgeText:{color:"#000000",fontSize:12,fontWeight:"normal",fontFamily:"",background:{fill:"transparent",height:20,stroke:"transparent",radius:0},hoverBackground:null,autoWrap:!1,lineHeight:1.2,wrapPadding:"2px 3px"},line:Nm,polyline:Cm,bezier:Rm,arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},anchorHover:{fill:"#1E90FF",fillOpacity:.5,stroke:"#4169E1",strokeWidth:1,r:10},snapline:{stroke:"#1E90FF",strokeWidth:1}};function Ll(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ll(Object(n),!0).forEach(function(r){Im(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ll(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Im(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bl=function(t){var e=Bu(Gt);return t&&Object.keys(t).forEach(function(n){e[n]=zl(zl({},e[n]),t[n])}),e};function xa(t,e){return e*Math.round(t/e)||t}function Fl(t,e){return t%e}function Hu(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Hl(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hl(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hl(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Xu,Uu=function(t,e,n){var r=Hu(t,2),i=r[0],o=r[1],a=Hu(e,2),c=a[0],l=a[1],h=Hu(n,2),_=h[0],j=h[1];return i>c&&i<_&&o>l&&o<j},Lm=(u(31),u(41),u(52),u(63),u(136),u(137),u(64),u(9),u(10),u(11),u(38),new Uint8Array(16));function zm(){if(!Xu&&!(Xu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xu(Lm)}for(var Bm=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Fm=function(t){return typeof t=="string"&&Bm.test(t)},kt=[],Vu=0;Vu<256;++Vu)kt.push((Vu+256).toString(16).substr(1));var Hm=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(kt[t[e+0]]+kt[t[e+1]]+kt[t[e+2]]+kt[t[e+3]]+"-"+kt[t[e+4]]+kt[t[e+5]]+"-"+kt[t[e+6]]+kt[t[e+7]]+"-"+kt[t[e+8]]+kt[t[e+9]]+"-"+kt[t[e+10]]+kt[t[e+11]]+kt[t[e+12]]+kt[t[e+13]]+kt[t[e+14]]+kt[t[e+15]]).toLowerCase();if(!Fm(n))throw TypeError("Stringified UUID is invalid");return n},Wu=function(t,e,n){var r=(t=t||{}).random||(t.rng||zm)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return Hm(r)},_o=function(){return Wu()},Xm=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=t.nodes.reduce(function(r,i){return r[i.id]=e+Wu(),i.id=r[i.id],r},{});return t.edges.forEach(function(r){r.id=e+Wu(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),t},si=(u(102),u(176),function(t,e,n){var r=t.x,i=t.y;return(r-e.x)*(r-n.x)<=0&&(i-e.y)*(i-n.y)<=0});function Xl(t){return(Xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var ye,Ul,Vl,Wl,Yl,Gl,$l,Kl,ql,Zl,Jl,Ql,ef,tf,nf,rf,of,af,uf,cf,sf,lf,ff,pf,Yu=function(t){return t.anchors},hf=function(t,e){for(var n,r=e.length-1;r>=0;r--)if(Vm(t,e[r])){var i=Um(t,e[r]);if(i){n={node:e[r],anchorIndex:i.index,anchor:i.anchor};break}}return n},Um=function(t,e){for(var n,r=Yu(e),i=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var a=Nn(t.x,t.y,r[o].x,r[o].y);a<i&&(i=a,n={index:o,anchor:{x:r[o].x,y:r[o].y,id:r[o].id}})}return n},Nn=function(t,e,n,r){return Math.hypot(t-n,e-r)},vr=function(t,e){var n=!1,r=rn(e);return t.x>=r.minX-0&&t.x<=r.maxX+0&&t.y>=r.minY-0&&t.y<=r.maxY+0&&(n=!0),n},Vm=function(t,e){var n=!1,r=rn(e);return t.x>=r.minX-5&&t.x<=r.maxX+5&&t.y>=r.minY-5&&t.y<=r.maxY+5&&(n=!0),n},rn=function(t){var e=t.x,n=t.y,r=t.width,i=t.height;return{minX:e-r/2,minY:n-i/2,maxX:e+r/2,maxY:n+i/2,x:e,y:n,width:r,height:i,centerX:e,centerY:n}},df=function(t,e,n){var r,i=function(a){var c=a,l=c.x,h=c.y,_=c.width,j=c.height,A=c.radius;return[{x:l-_/2+A,y:h-j/2+A,r:A},{x:l+_/2-A,y:h-j/2+A,r:A},{x:l-_/2+A,y:h+j/2-A,r:A},{x:l+_/2-A,y:h+j/2-A,r:A}]}(n),o=Number.MAX_SAFE_INTEGER;return i.forEach(function(a){var c=Nn(t.x,t.y,a.x,a.y);c<o&&(o=c,r=a)}),Gu(t,e,r)},Gu=function(t,e,n){var r,i=n,o=i.x,a=i.y,c=i.r;if(e===ct.HORIZONTAL){var l=o-Math.sqrt(c*c-(t.y-a)*(t.y-a)),h=o+Math.sqrt(c*c-(t.y-a)*(t.y-a));r={x:Math.abs(l-t.x)<Math.abs(h-t.x)?l:h,y:t.y}}else if(e===ct.VERTICAL){var _=a-Math.sqrt(c*c-(t.x-o)*(t.x-o)),j=a+Math.sqrt(c*c-(t.x-o)*(t.x-o)),A=Math.abs(_-t.y)<Math.abs(j-t.y)?_:j;r={x:t.x,y:A}}return r},yf=function(t,e){var n=e,r=!1,i=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,a=n.y-n.height/2+n.radius,c=n.y+n.height/2-n.radius,l=n.x,h=n.y,_=n.width,j=n.height;return t.y===h+j/2||t.y===h-j/2?r=t.x>i&&t.x<o:t.x!==l+_/2&&t.x!==l-_/2||(r=t.y>a&&t.y<c),r},vf=function(t,e,n){var r,i=n,o=i.x,a=i.y,c=i.rx,l=i.ry;if(e===ct.HORIZONTAL){var h=o-Math.sqrt(c*c-(t.y-a)*(t.y-a)*c*c/(l*l)),_=o+Math.sqrt(c*c-(t.y-a)*(t.y-a)*c*c/(l*l));r={x:Math.abs(h-t.x)<Math.abs(_-t.x)?h:_,y:t.y}}else if(e===ct.VERTICAL){var j=a-Math.sqrt(l*l-(t.x-o)*(t.x-o)*l*l/(c*c)),A=a+Math.sqrt(l*l-(t.x-o)*(t.x-o)*l*l/(c*c)),M=Math.abs(j-t.y)<Math.abs(A-t.y)?j:A;r={x:t.x,y:M}}return r},gf=function(t,e,n){for(var r,i=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,a=[],c=0;c<i.length;c++)a.push({start:i[c],end:i[(c+1)%i.length]});return a.forEach(function(l){var h=l.start,_=l.end,j=h,A=_;h.x>_.x&&(j=_,A=h);var M,X=(A.y-j.y)/(A.x-j.x),J=(j.x*A.y-A.x*j.y)/(j.x-A.x);if(X>Number.MAX_SAFE_INTEGER||J>Number.MAX_SAFE_INTEGER?M={x:t.x,y:t.y}:e===ct.HORIZONTAL?M={x:(t.y-J)/X,y:t.y}:e===ct.VERTICAL&&(M={x:t.x,y:X*t.x+J}),si(M,h,_)){var Z=Nn(M.x,M.y,t.x,t.y);Z<o&&(o=Z,r=M)}}),r},bf=function(t,e,n,r){var i=t.x,o=t.y;return e.x>t.x?i=t.x+n/2:e.x<t.x&&(i=t.x-n/2),e.y>t.y?o=t.y+r/2:e.y<t.y&&(o=t.y-r/2),{x:i,y:o}},mf=function(t){var e=t.rows,n=t.style,r=t.rowsLength,i=t.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=i,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?e.forEach(function(c){var l=document.createElement("div");l.textContent=c,o.appendChild(l)}):o.textContent=e,document.body.appendChild(o);var a=o.clientHeight;return document.body.removeChild(o),a},Ea=function(t){var e=t.rows,n=t.rowsLength,r=t.fontSize,i=0;return e&&e.forEach(function(o){var a=ac(o);i=a>i?a:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},_f=function(t){return Xl(t)!=="object"?{isAllPass:!!t,msg:t?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:t},Sn=function(t){try{return JSON.parse(JSON.stringify(t))}catch{return t}},Wm=1e3,Ym=999,$u=function(){return++Wm};function Of(t){return(Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function rt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Gm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Me(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}function wf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var st=function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wf(Object(n),!0).forEach(function(r){Cn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wf(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}({sourceNodeId:"",sourceAnchorId:"",targetNodeId:"",targetAnchorId:"",startPoint:null,endPoint:null,zIndex:0,isSelected:!1,isHovered:!1,text:{value:"",x:0,y:0,draggable:!1,editable:!0},points:"",pointsList:[],strokeOpacity:1},Gt.line),Ku=(Ul=Me((ye=function(){function t(r,i,o){(function(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),Cn(this,"id",_o()),Cn(this,"BaseType",_t.EDGE),rt(this,"state",Ul,this),Cn(this,"modelType",He.EDGE),Cn(this,"additionStateData",void 0),Cn(this,"graphModel",void 0),Cn(this,"menu",void 0),Cn(this,"sourceAnchorId",st.sourceAnchorId),Cn(this,"targetAnchorId",st.targetAnchorId),Cn(this,"customTextPosition",!1),rt(this,"text",Vl,this),rt(this,"type",Wl,this),rt(this,"properties",Yl,this),rt(this,"sourceNodeId",Gl,this),rt(this,"targetNodeId",$l,this),rt(this,"startPoint",Kl,this),rt(this,"endPoint",ql,this),rt(this,"strokeWidth",Zl,this),rt(this,"stroke",Jl,this),rt(this,"strokeDashArray",Ql,this),rt(this,"outlineColor",ef,this),rt(this,"outlineStrokeDashArray",tf,this),rt(this,"strokeOpacity",nf,this),rt(this,"zIndex",rf,this),rt(this,"isSelected",of,this),rt(this,"isHovered",af,this),rt(this,"isHitable",uf,this),rt(this,"hoverStroke",cf,this),rt(this,"selectedStroke",sf,this),rt(this,"points",lf,this),rt(this,"pointsList",ff,this),rt(this,"draggable",pf,this),this.graphModel=i,this.setStyleFromTheme(o,i),this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var e,n;return e=t,(n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i();o&&(r.id=o);var a=this.createId();a&&(r.id=a)}ut(this,u0(r)),this.graphModel.overlapMode===Mn.INCREASE&&(this.zIndex=r.zIndex||$u())}},{key:"createId",value:function(){return null}},{key:"setAttributes",value:function(){}},{key:"sourceNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.sourceNodeId])===null||i===void 0?void 0:i.model}},{key:"targetNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.targetNodeId])===null||i===void 0?void 0:i.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"move",value:function(){}},{key:"getBeginAnchor",value:function(r,i){var o,a;return Yu(r).forEach(function(c){var l=Uf(c,i);a?l<a&&(a=l,o=c):(a=l,o=c)}),o}},{key:"getEndAnchor",value:function(r){var i,o,a=this;return Yu(r).forEach(function(c){var l=Uf(c,a.startPoint);o?l<o&&(o=l,i=c):(o=l,i=c)}),i}},{key:"getProperties",value:function(){return Object(O.G)(this.properties)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,a=r.value,c={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(O.G)(this.properties)};return a&&(c.text={x:i,y:o,value:a}),this.graphModel.overlapMode===Mn.INCREASE&&(c.zIndex=this.zIndex),c}},{key:"setProperty",value:function(r,i){this.properties[r]=Sn(i)}},{key:"setProperties",value:function(r){this.properties=Object.assign(this.properties,r)}},{key:"updateData",value:function(r){var i=Sn(Dn(r,"type","sourceNodeId","targetNodeId","startPoint","endPoint","text","properties")),o=this.text,a=o.x,c=o.y,l=o.draggable,h=o.editable;if(i.text&&typeof i.text=="string"){var _={value:i.text,draggable:l,editable:h},j=this.textPosition;i.text=a||c?Object.assign({},_,{x:a,y:c}):Object.assign({},_,j)}else if(Of(i.text)==="object"){var A=Object.assign({},this.text,i.text);i.text=Dn(A,"x","y","value","draggable","editable")}ut(this,i)}},{key:"formatText",value:function(r){var i=this.textPosition,o=i.x,a=i.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||a,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,i=r.x,o=r.y;this.text.x=i,this.text.y=o}},{key:"moveText",value:function(r,i){if(this.text){var o=this.text,a=o.x,c=o.y,l=o.value,h=o.draggable,_=o.editable;this.text={value:l,draggable:h,x:a+r,y:c+i,editable:_}}}},{key:"setText",value:function(r){r&&(this.text=ut(this.text,r))}},{key:"updateText",value:function(r){var i=this.text,o=i.x,a=i.y,c=i.draggable,l=i.editable;this.text={x:o,y:a,draggable:c,editable:l,value:r}}},{key:"setAnchors",value:function(){if(!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint=r}if(!this.endPoint){var i=this.getEndAnchor(this.targetNode);this.endPoint=i}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStroke",value:function(r){this.stroke=r}},{key:"updateStrokeWidth",value:function(r){this.strokeWidth=r}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"setStyleFromTheme",value:function(r,i){var o=i.theme;o[r]&&ut(this,o[r])}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:st.zIndex;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){ut(this,r)}}])&&Gm(e.prototype,n),t}()).prototype,"state",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Vl=Me(ye.prototype,"text",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.text}}),Wl=Me(ye.prototype,"type",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Yl=Me(ye.prototype,"properties",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Gl=Me(ye.prototype,"sourceNodeId",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.sourceNodeId}}),$l=Me(ye.prototype,"targetNodeId",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.targetNodeId}}),Kl=Me(ye.prototype,"startPoint",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.startPoint}}),ql=Me(ye.prototype,"endPoint",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.endPoint}}),Zl=Me(ye.prototype,"strokeWidth",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.strokeWidth}}),Jl=Me(ye.prototype,"stroke",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.stroke}}),Ql=Me(ye.prototype,"strokeDashArray",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.strokeDashArray}}),ef=Me(ye.prototype,"outlineColor",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.outlineColor}}),tf=Me(ye.prototype,"outlineStrokeDashArray",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.outlineStrokeDashArray}}),nf=Me(ye.prototype,"strokeOpacity",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.strokeOpacity}}),rf=Me(ye.prototype,"zIndex",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.zIndex}}),of=Me(ye.prototype,"isSelected",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.isSelected}}),af=Me(ye.prototype,"isHovered",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.isHovered}}),uf=Me(ye.prototype,"isHitable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),cf=Me(ye.prototype,"hoverStroke",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.hoverStroke}}),sf=Me(ye.prototype,"selectedStroke",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.selectedStroke}}),lf=Me(ye.prototype,"points",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.points}}),ff=Me(ye.prototype,"pointsList",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return st.pointsList}}),pf=Me(ye.prototype,"draggable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Me(ye.prototype,"sourceNode",[O.k],Object.getOwnPropertyDescriptor(ye.prototype,"sourceNode"),ye.prototype),Me(ye.prototype,"targetNode",[O.k],Object.getOwnPropertyDescriptor(ye.prototype,"targetNode"),ye.prototype),Me(ye.prototype,"textPosition",[O.k],Object.getOwnPropertyDescriptor(ye.prototype,"textPosition"),ye.prototype),Me(ye.prototype,"setProperty",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setProperty"),ye.prototype),Me(ye.prototype,"setProperties",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setProperties"),ye.prototype),Me(ye.prototype,"updateData",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"updateData"),ye.prototype),Me(ye.prototype,"formatText",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"formatText"),ye.prototype),Me(ye.prototype,"resetTextPosition",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"resetTextPosition"),ye.prototype),Me(ye.prototype,"moveText",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"moveText"),ye.prototype),Me(ye.prototype,"setText",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setText"),ye.prototype),Me(ye.prototype,"updateText",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"updateText"),ye.prototype),Me(ye.prototype,"setAnchors",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setAnchors"),ye.prototype),Me(ye.prototype,"setSelected",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setSelected"),ye.prototype),Me(ye.prototype,"setHovered",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setHovered"),ye.prototype),Me(ye.prototype,"setHitable",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setHitable"),ye.prototype),Me(ye.prototype,"setElementState",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setElementState"),ye.prototype),Me(ye.prototype,"updateStroke",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"updateStroke"),ye.prototype),Me(ye.prototype,"updateStrokeWidth",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"updateStrokeWidth"),ye.prototype),Me(ye.prototype,"updateStartPoint",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"updateStartPoint"),ye.prototype),Me(ye.prototype,"updateEndPoint",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"updateEndPoint"),ye.prototype),Me(ye.prototype,"setStyleFromTheme",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setStyleFromTheme"),ye.prototype),Me(ye.prototype,"setZIndex",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"setZIndex"),ye.prototype),Me(ye.prototype,"initPoints",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"initPoints"),ye.prototype),Me(ye.prototype,"updateAttributes",[O.i],Object.getOwnPropertyDescriptor(ye.prototype,"updateAttributes"),ye.prototype),ye),qu=Ku;function xf(t){return(xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function $m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ef(t,e){return(Ef=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Km(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Zu(t);if(e){var i=Zu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qm(this,n)}}function qm(t,e){if(e&&(xf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sf(t)}function Sf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zu(t){return(Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Ze,jf,Ju=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ef(o,a)})(i,t);var e,n,r=Km(i);function i(o,a){var c,l,h,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),c=r.call(this,o,a,"line"),l=Sf(c),h="modelType",_=He.LINE_EDGE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,c}return e=i,(n=[{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&$m(e.prototype,n),i}(qu);u(36),u(83);function Pf(t){return(Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Zm(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return kf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return kf(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function kf(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Af(t,e,n){return(Af=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=li(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function Tf(t,e){return(Tf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Qm(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=li(t);if(e){var i=li(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return e0(this,n)}}function e0(t,e){if(e&&(Pf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oo(t)}function Oo(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function li(t){return(li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Qu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zn(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var ec=(jf=Zn((Ze=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Tf(o,a)})(i,t);var e,n,r=Qm(i);function i(o,a){var c;return function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}(this,i),Qu(Oo(c=r.call(this,o,a,"polyline")),"modelType",He.POLYLINE_EDGE),Qu(Oo(c),"offset",Gt.polyline.offset),Qu(Oo(c),"draginngPointList",void 0),function(l,h,_,j){_&&Object.defineProperty(l,h,{enumerable:_.enumerable,configurable:_.configurable,writable:_.writable,value:_.initializer?_.initializer.call(j):void 0})}(Oo(c),"dbClickPosition",jf,Oo(c)),c}return e=i,(n=[{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var c=this.dbClickPosition;return{x:c.x,y:c.y}}var l=wo(this.points),h=Zm(i0(l),2),_=h[0],j=h[1];return{x:(_.x+j.x)/2,y:(_.y+j.y)/2}}},{key:"getAfterAnchor",value:function(o,a,c){var l,h;return c.forEach(function(_){var j;o===ct.HORIZONTAL?j=Math.abs(a.y-_.y):o===ct.VERTICAL&&(j=Math.abs(a.x-_.x)),(!h||h>j)&&(h=j,l=_)}),l}},{key:"getCorssPoint",value:function(o,a,c){var l;return o===ct.HORIZONTAL?l={x:c.x,y:a.y}:o===ct.VERTICAL&&(l={x:a.x,y:c.y}),l}},{key:"removeCrossPoints",value:function(o,a,c){var l=c.map(function(ee){return ee});if(o===1){var h=l[o],_=l[a],j=l[o-1];if(zf(j,h,this.sourceNode)){if(Bf(h,_,this.sourceNode)){var A=Ff(h,_,this.sourceNode);A&&(l[o]=A,l.splice(o-1,1),o--,a--)}}else this.sourceNode.anchors.forEach(function(ee){(ee.x===j.x&&ee.x===h.x||ee.y===j.y&&ee.y===h.y)&&Nn(ee.x,ee.y,h.x,h.y)<Nn(j.x,j.y,h.x,h.y)&&(l[o-1]=ee)})}if(a===c.length-2){var M=l[o],X=l[a],J=l[a+1];if(zf(X,J,this.targetNode)){if(Bf(M,X,this.targetNode)){var Z=Ff(M,X,this.targetNode);Z&&(l[a]=Z,l.splice(a+1,1))}}else this.targetNode.anchors.forEach(function(ee){(ee.x===J.x&&ee.x===X.x||ee.y===J.y&&ee.y===X.y)&&Nn(ee.x,ee.y,X.x,X.y)<Nn(J.x,J.y,X.x,X.y)&&(l[a+1]=ee)})}return l}},{key:"getDragingPoints",value:function(o,a,c,l,h){var _=h.map(function(M){return M}),j=this.getAfterAnchor(o,c,l),A=this.getCorssPoint(o,c,j);return a==="start"?(_.unshift(A),_.unshift(j)):(_.push(A),_.push(j)),_}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(oe){return oe}),c=o[0],l=o[1],h=o[a.length-2],_=o[a.length-1],j=this.sourceNode,A=this.targetNode,M=j.modelType,X=A.modelType,J=Ta(c,l),Z=a[0];switch(M){case He.RECT_NODE:j.radius!==0&&(yf(c,j)||(Z=df(c,J,j)));break;case He.CIRCLE_NODE:Z=Gu(c,J,j);break;case He.ELLIPSE_NODE:Z=vf(c,J,j);break;case He.DIAMOND_NODE:case He.POLYGON_NODE:Z=gf(c,J,j)}a[0]=Z;var ee=Ta(h,_),Q=a[a.length-1];switch(X){case He.RECT_NODE:A.radius!==0&&(yf(_,A)||(Q=df(_,ee,A)));break;case He.CIRCLE_NODE:Q=Gu(_,ee,A);break;case He.ELLIPSE_NODE:Q=vf(_,ee,A);break;case He.DIAMOND_NODE:case He.POLYGON_NODE:Q=gf(_,ee,A)}return a[a.length-1]=Q,a}},{key:"getData",value:function(){var o=Af(li(i.prototype),"getData",this).call(this),a=this.pointsList.map(function(c){return{x:c.x,y:c.y}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=o0({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppend",value:function(o,a){var c=o.start,l=o.end,h=o.startIndex,_=o.endIndex,j=o.direction,A=this.pointsList;if(j===ct.HORIZONTAL){A[h]={x:c.x,y:c.y+a.y},A[_]={x:l.x,y:l.y+a.y};var M=this.pointsList.map(function(ke){return ke});if(h!==0&&_!==this.pointsList.length-1&&(M=this.removeCrossPoints(h,_,M)),h===0){var X={x:c.x,y:c.y+a.y};if(!vr(X,this.sourceNode)){var J=this.sourceNode.anchors;M=this.getDragingPoints(j,"start",X,J,M)}}if(_===this.pointsList.length-1){var Z={x:l.x,y:l.y+a.y};if(!vr(Z,this.targetNode)){var ee=this.targetNode.anchors;M=this.getDragingPoints(j,"end",Z,ee,M)}}M=ic(M),this.updatePointsAfterDrage(M),this.draginngPointList=M}else if(j===ct.VERTICAL){A[h]={x:c.x+a.x,y:c.y},A[_]={x:l.x+a.x,y:l.y};var Q=this.pointsList.map(function(ke){return ke});if(h!==0&&_!==this.pointsList.length-1&&(Q=this.removeCrossPoints(h,_,Q)),h===0){var oe={x:c.x+a.x,y:c.y};if(!vr(oe,this.sourceNode)){var fe=this.sourceNode.anchors;Q=this.getDragingPoints(j,"start",oe,fe,Q)}}if(_===this.pointsList.length-1){var le={x:l.x+a.x,y:l.y};if(!vr(le,this.targetNode)){var je=this.targetNode.anchors;Q=this.getDragingPoints(j,"end",le,je,Q)}}Q=ic(Q),this.updatePointsAfterDrage(Q),this.draginngPointList=Q}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},A[h]),end:Object.assign({},A[_]),startIndex:h,endIndex:_,direction:j}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=wo(this.points);this.pointsList=o.map(function(l){return l}),this.draginngPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var c=o[o.length-1];this.endPoint=Object.assign({},c)}}},{key:"updatePointsAfterDrage",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(c){return"".concat(c.x,",").concat(c.y)}).join(" ")}}])&&Jm(e.prototype,n),i}(qu)).prototype,"dbClickPosition",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zn(Ze.prototype,"initPoints",[O.i],Object.getOwnPropertyDescriptor(Ze.prototype,"initPoints"),Ze.prototype),Zn(Ze.prototype,"updatePoints",[O.i],Object.getOwnPropertyDescriptor(Ze.prototype,"updatePoints"),Ze.prototype),Zn(Ze.prototype,"updateStartPoint",[O.i],Object.getOwnPropertyDescriptor(Ze.prototype,"updateStartPoint"),Ze.prototype),Zn(Ze.prototype,"updateEndPoint",[O.i],Object.getOwnPropertyDescriptor(Ze.prototype,"updateEndPoint"),Ze.prototype),Zn(Ze.prototype,"dragAppendStart",[O.i],Object.getOwnPropertyDescriptor(Ze.prototype,"dragAppendStart"),Ze.prototype),Zn(Ze.prototype,"dragAppend",[O.i],Object.getOwnPropertyDescriptor(Ze.prototype,"dragAppend"),Ze.prototype),Zn(Ze.prototype,"dragAppendEnd",[O.i],Object.getOwnPropertyDescriptor(Ze.prototype,"dragAppendEnd"),Ze.prototype),Zn(Ze.prototype,"updatePointsAfterDrage",[O.i],Object.getOwnPropertyDescriptor(Ze.prototype,"updatePointsAfterDrage"),Ze.prototype),Ze),fi=function(t){var e=t.start,n=t.end,r=t.offset,i=t.verticalLength,o=t.type,a={leftX:0,leftY:0,rightX:0,rightY:0},c=Math.atan((n.y-e.y)/(n.x-e.x)),l=Math.atan(r/i),h=Math.sqrt(i*i+r*r);return o==="start"?n.x>=e.x?(a.leftX=e.x+h*Math.sin(c+l),a.leftY=e.y-h*Math.cos(c+l),a.rightX=e.x-h*Math.sin(c-l),a.rightY=e.y+h*Math.cos(c-l)):(a.leftX=e.x-h*Math.sin(c+l),a.leftY=e.y+h*Math.cos(c+l),a.rightX=e.x+h*Math.sin(c-l),a.rightY=e.y-h*Math.cos(c-l)):o==="end"&&(n.x>=e.x?(a.leftX=n.x+h*Math.sin(c-l),a.leftY=n.y-h*Math.cos(c-l),a.rightX=n.x-h*Math.sin(c+l),a.rightY=n.y+h*Math.cos(c+l)):(a.leftX=n.x-h*Math.sin(c-l),a.leftY=n.y+h*Math.cos(c-l),a.rightX=n.x+h*Math.sin(c+l),a.rightY=n.y-h*Math.cos(c+l))),a};function Df(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Df(Object(n),!0).forEach(function(r){t0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Df(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n0(t){return function(e){if(Array.isArray(e))return nc(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Nf(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Mf(t){return(Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function tc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||Nf(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Nf(t,e){if(t){if(typeof t=="string")return nc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nc(t,e):void 0}}function nc(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rc=function(t){var e=[],n={};return t.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,n[i]=r}),Object.keys(n).forEach(function(r){e.push(n[r])}),e},ja=function(t,e){return t.width===0&&t.height===0?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Pa=function(t,e){return function(n,r){var i=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY);return i/r.width>o/r.height?ct.HORIZONTAL:ct.VERTICAL}(e,t)===ct.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Cf=function(t,e){var n=Math.min(t.minX,e.minX),r=Math.min(t.minY,e.minY),i=Math.max(t.maxX,e.maxX),o=Math.max(t.maxY,e.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},pi=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=[],r=[];t.forEach(function(_){n.push(_.x),r.push(_.y)});var i=Math.min.apply(Math,n),o=Math.max.apply(Math,n),a=Math.min.apply(Math,r),c=Math.max.apply(Math,r),l=o-i,h=c-a;return e&&(l+=e,h+=e),{centerX:(i+o)/2,centerY:(a+c)/2,maxX:o,maxY:c,minX:i,minY:a,x:(i+o)/2,y:(a+c)/2,height:h,width:l}},ka=function(t){var e=t.minX,n=t.minY,r=t.maxX,i=t.maxY;return[{x:e,y:n},{x:r,y:n},{x:r,y:i},{x:e,y:i}]},Aa=function(t,e){var n=t.x,r=t.y;return n<e.minX||n>e.maxX||r<e.minY||r>e.maxY},oc=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Rf=function(t,e,n,r,i){return oc(t,e)+oc(t,n)+function(o,a){var c=0;return a.forEach(function(l){l&&(o.x===l.x&&(c+=-2),o.y===l.y&&(c+=-2))}),c}(t,[e,n,r,i])},hi=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,a=r.x-n.x,c=r.y-n.y,l=(-o*(t.x-n.x)+i*(t.y-n.y))/(-a*o+i*c),h=(a*(t.y-n.y)-c*(t.x-n.x))/(-a*o+i*c);return l>=0&&l<=1&&h>=0&&h<=1},If=function(t,e,n){if(n.width===0&&n.height===0)return!1;var r=tc(ka(n),4),i=r[0],o=r[1],a=r[2],c=r[3];return hi(t,e,i,o)||hi(t,e,i,c)||hi(t,e,o,a)||hi(t,e,a,c)},r0=function(t,e,n,r,i,o,a){var c=[],l=[e],h={},_={},j={};_[e.id]=0,j[e.id]=Rf(e,n,e);var A={};t.forEach(function(J){A[J.id]=J});for(var M=function(){var J,Z,ee,Q=void 0,oe=1/0;if(l.forEach(function(le){j[le.id]<oe&&(oe=j[le.id],Q=le)}),Q===n){var fe=[];return function le(je,ke,Ne,Ge,Je){Je||(Je=0),je.unshift(ke[Ge]),Ne[Ge]&&Ne[Ge]!==Ge&&Je<=100&&le(je,ke,Ne,Ne[Ge],Je+1)}(fe,A,h,n.id),{v:fe}}Z=Q,(ee=(J=l).indexOf(Z))>-1&&J.splice(ee,1),c.push(Q),function(le,je,ke,Ne){var Ge=[];return le.forEach(function(Je){Je!==je&&(Je.x!==je.x&&Je.y!==je.y||If(Je,je,ke)||If(Je,je,Ne)||Ge.push(Je))}),rc(Ge)}(t,Q,r,i).forEach(function(le){if(c.indexOf(le)===-1){l.indexOf(le)===-1&&l.push(le);var je=j[Q.id]+oc(Q,le);_[le.id]&&je>=_[le.id]||(h[le.id]=Q.id,_[le.id]=je,j[le.id]=_[le.id]+Rf(le,n,e,o,a))}})};l.length;){var X=M();if(Mf(X)==="object")return X.v}return[e,n]},Lf=function(t){return rn(t)},ic=function(t){for(var e=t,n=1;n<e.length-1;){var r=e[n-1],i=e[n],o=e[n+1];r.x===i.x&&i.x===o.x||r.y===i.y&&i.y===o.y?e.splice(n,1):n++}return e},o0=function(t,e,n,r,i){var o,a,c=Lf(n),l=Lf(r),h=ja(c,i),_=ja(l,i),j=Pa(h,t),A=Pa(_,e);if(o=h,a=_,2*Math.abs(o.centerX-a.centerX)<o.width+a.width&&2*Math.abs(o.centerY-a.centerY)<o.height+a.height){var M=a0(t,e,j,A);return[t,j].concat(n0(M),[A,e])}var X=pi([j,A]),J=Cf(h,X),Z=Cf(_,X),ee=[];ee=(ee=ee.concat(ka(J))).concat(ka(Z));var Q={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[X,J,Z].forEach(function(fe){ee=ee.concat(function(le,je){return function(ke,Ne){return Ne<ke.minX||Ne>ke.maxX?[]:[{x:Ne,y:ke.minY},{x:Ne,y:ke.maxY}]}(le,je.x).concat(function(ke,Ne){return Ne<ke.minY||Ne>ke.maxY?[]:[{x:ke.minX,y:Ne},{x:ke.maxX,y:Ne}]}(le,je.y))}(fe,Q).filter(function(le){return Aa(le,h)&&Aa(le,_)}))}),[{x:j.x,y:A.y},{x:A.x,y:j.y}].forEach(function(fe){Aa(fe,h)&&Aa(fe,_)&&ee.push(fe)}),ee.unshift(j),ee.push(A),ee=rc(ee);var oe=r0(ee,j,A,c,l,t,e);return oe.unshift(t),oe.push(e),oe.length>2&&(oe=ic(oe)),rc(oe)},i0=function(t){var e;if(t.length===1)e=[t[0],t[0]];else if(t.length>=2){for(var n=t[0],r=t[1],i=Nn(n.x,n.y,r.x,r.y),o=1;o<t.length-1;o++){var a=t[o],c=t[o+1],l=Nn(a.x,a.y,c.x,c.y);l>i&&(i=l,n=a,r=c)}e=[n,r]}return e},zf=function(t,e,n){var r=vr(t,n),i=vr(e,n);return r&&i},Bf=function(t,e,n){var r=vr(t,n),i=vr(e,n);return!(r&&i)&&(r||i)},Ff=function(t,e,n){for(var r,i,o=rn(n),a=ka(o),c=0;c<a.length;c++)hi(t,e,a[c],a[(c+1)%a.length])&&(i=[a[c],a[(c+1)%a.length]]);return i&&(r=function(l,h,_,j){var A=(h.y-l.y)*(j.x-_.x)-(l.x-h.x)*(_.y-j.y);if(A===0)return!1;var M=((h.x-l.x)*(j.x-_.x)*(_.y-l.y)+(h.y-l.y)*(j.x-_.x)*l.x-(j.y-_.y)*(h.x-l.x)*_.x)/A,X=-((h.y-l.y)*(j.y-_.y)*(_.x-l.x)+(h.x-l.x)*(j.y-_.y)*l.y-(j.x-_.x)*(h.y-l.y)*_.y)/A;return(M-l.x)*(M-h.x)<=0&&(X-l.y)*(X-h.y)<=0&&(M-_.x)*(M-j.x)<=0&&(X-_.y)*(X-j.y)<=0&&{x:M,y:X}}(t,e,i[0],i[1])),r},Ta=function(t,e){var n;return t.x===e.x?n=ct.VERTICAL:t.y===e.y&&(n=ct.HORIZONTAL),n},wo=function(t){var e=t.split(" "),n=[];return e&&e.forEach(function(r){var i=tc(r.split(","),2),o=i[0],a=i[1];n.push({x:Number(o),y:Number(a)})}),n},a0=function(t,e,n,r){var i=[];if(Ta(t,n)===Ta(e,r))t.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},a=si(o,t,n),c=si(o,e,r);if(a||c)o={x:r.x,y:n.y};else{var l=Hf(o,t,n),h=Hf(o,e,r);l&&h&&(o={x:r.x,y:n.y})}i.push(o)}return i},Hf=function(t,e,n){return t.x===e.x&&t.x===n.x||t.y===e.y&&t.y===n.y},ac=function(t){if(!t)return 0;for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);t.match(/[A-Z]/)?e+=1.5:e+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return e},Da=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[Ma(e[0]),Ma(e[1]),Ma(e[2]),Ma(e[3])]},Ma=function(t){var e=tc(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},Xf=function(t,e){for(var n,r=t.x,i=t.y,o=wo(e),a=Number.MAX_SAFE_INTEGER,c=[],l=0;l<o.length;l++)c.push({start:o[l],end:o[(l+1)%o.length]});if(c.forEach(function(A){var M=A.start,X=A.end;if(M.x===X.x){var J={x:M.x,y:i};if(si(J,M,X)){var Z=Math.abs(M.x-r);Z<a&&(a=Z,n=J)}}else if(M.y===X.y){var ee={x:r,y:M.y};if(si(ee,M,X)){var Q=Math.abs(M.y-i);Q<a&&(a=Q,n=ee)}}}),!n){var h=c[0],_=h.start,j=h.end;n={x:_.x+(j.x-_.x)/2,y:_.y+(j.y-_.y)/2}}return n},u0=function(t){return Dn(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},Uf=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},xo=function(){};function c0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gr=window.document;function Na(t){var e=t.onDragStart,n=e===void 0?xo:e,r=t.onDraging,i=r===void 0?xo:r,o=t.onDragEnd,a=o===void 0?xo:o,c=t.step,l=c===void 0?1:c,h=t.isStopPropagation,_=h===void 0||h,j=!1,A=!1,M=0,X=0,J=0,Z=0;function ee(oe){if(_&&oe.stopPropagation(),A&&(j=!0,J+=oe.clientX-M,Z+=oe.clientY-X,M=oe.clientX,X=oe.clientY,Math.abs(J)>l||Math.abs(Z)>l)){var fe=J%l,le=Z%l,je=J-fe,ke=Z-le;J=fe,Z=le,i({deltaX:je,deltaY:ke,event:oe})}}function Q(oe){if(_&&oe.stopPropagation(),A=!1,gr.removeEventListener("mousemove",ee,!1),gr.removeEventListener("mouseup",Q,!1),j)return j=!1,a({event:oe})}return function(oe){if(oe.button===0)return _&&oe.stopPropagation(),A=!0,M=oe.clientX,X=oe.clientY,gr.addEventListener("mousemove",ee,!1),gr.addEventListener("mouseup",Q,!1),n({event:oe})}}var re,Vf,Wf,Yf,Gf,$f,Kf,qf,Zf,Jf,Qf,ep,tp,np,rp,op,ip,ap,di=function(){function t(r){var i=this,o=r.onDragStart,a=o===void 0?xo:o,c=r.onDraging,l=c===void 0?xo:c,h=r.onDragEnd,_=h===void 0?xo:h,j=r.eventType,A=j===void 0?"":j,M=r.eventCenter,X=M===void 0?null:M,J=r.step,Z=J===void 0?1:J,ee=r.isStopPropagation,Q=ee===void 0||ee,oe=r.model,fe=oe===void 0?null:oe;(function(le,je){if(!(le instanceof je))throw new TypeError("Cannot call a class as a function")})(this,t),Ot(this,"onDragStart",void 0),Ot(this,"onDraging",void 0),Ot(this,"onDragEnd",void 0),Ot(this,"step",void 0),Ot(this,"isStopPropagation",void 0),Ot(this,"isDraging",!1),Ot(this,"isStartDraging",!1),Ot(this,"startX",0),Ot(this,"startY",0),Ot(this,"sumDeltaX",0),Ot(this,"sumDeltaY",0),Ot(this,"eventType",void 0),Ot(this,"eventCenter",void 0),Ot(this,"model",void 0),Ot(this,"startTime",void 0),Ot(this,"isGrag",void 0),Ot(this,"handleMouseDown",function(le){var je,ke,Ne;if(le.button===0){i.isStopPropagation&&le.stopPropagation(),i.isStartDraging=!0,i.startX=le.clientX,i.startY=le.clientY,gr.addEventListener("mousemove",i.handleMouseMove,!1),gr.addEventListener("mouseup",i.handleMouseUp,!1),i.onDragStart({event:le});var Ge=(je=i.model)===null||je===void 0?void 0:je.getData();(ke=i.eventCenter)===null||ke===void 0||ke.emit(Fe["".concat(i.eventType,"_MOUSEDOWN")],{e:le,data:Ge}),(Ne=i.eventCenter)===null||Ne===void 0||Ne.emit(Fe["".concat(i.eventType,"_DRAGSTART")],{e:le,data:Ge}),i.startTime=new Date().getTime()}}),Ot(this,"handleMouseMove",function(le){if(i.isStopPropagation&&le.stopPropagation(),i.isStartDraging&&(i.isDraging=!0,i.sumDeltaX+=le.clientX-i.startX,i.sumDeltaY+=le.clientY-i.startY,i.startX=le.clientX,i.startY=le.clientY,Math.abs(i.sumDeltaX)>i.step||Math.abs(i.sumDeltaY)>i.step)){var je,ke,Ne,Ge=i.sumDeltaX%i.step,Je=i.sumDeltaY%i.step,Hn=i.sumDeltaX-Ge,$r=i.sumDeltaY-Je;i.sumDeltaX=Ge,i.sumDeltaY=Je,i.onDraging({deltaX:Hn,deltaY:$r,event:le});var xr=(je=i.model)===null||je===void 0?void 0:je.getData();(ke=i.eventCenter)===null||ke===void 0||ke.emit(Fe["".concat(i.eventType,"_MOUSEMOVE")],{e:le,data:xr}),(Ne=i.eventCenter)===null||Ne===void 0||Ne.emit(Fe["".concat(i.eventType,"_DRAG")],{e:le,data:xr})}}),Ot(this,"handleMouseUp",function(le){var je,ke,Ne;if(i.isStartDraging=!1,i.isStopPropagation&&le.stopPropagation(),gr.removeEventListener("mousemove",i.handleMouseMove,!1),gr.removeEventListener("mouseup",i.handleMouseUp,!1),i.isDraging){i.isDraging=!1,i.onDragEnd({event:le});var Ge=(je=i.model)===null||je===void 0?void 0:je.getData();(ke=i.eventCenter)===null||ke===void 0||ke.emit(Fe["".concat(i.eventType,"_MOUSEUP")],{e:le,data:Ge}),(Ne=i.eventCenter)===null||Ne===void 0||Ne.emit(Fe["".concat(i.eventType,"_DROP")],{e:le,data:Ge})}}),this.onDragStart=a,this.onDraging=l,this.onDragEnd=_,this.step=Z,this.isStopPropagation=Q,this.eventType=A,this.eventCenter=X,this.model=fe}var e,n;return e=t,(n=[{key:"setStep",value:function(r){this.step=r}}])&&c0(e.prototype,n),t}();function up(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?up(Object(n),!0).forEach(function(r){on(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):up(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cp(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return sp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return sp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function sp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function At(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function s0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function on(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Se(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var lp=(Vf=Se((re=function(){function t(r){(function(X,J){if(!(X instanceof J))throw new TypeError("Cannot call a class as a function")})(this,t),on(this,"BaseType",_t.GRAPH),on(this,"modelType",He.GRAPH),on(this,"rootEl",void 0),on(this,"theme",void 0),on(this,"eventCenter",void 0),on(this,"modelMap",new Map),on(this,"width",void 0),on(this,"height",void 0),on(this,"topElement",void 0),on(this,"selectElement",void 0),on(this,"idGenerator",void 0),on(this,"nodeMoveRules",[]),At(this,"edgeType",Vf,this),At(this,"nodes",Wf,this),At(this,"activeElement",Yf,this),At(this,"activeElementState",Gf,this),At(this,"state",$f,this),At(this,"additionStateData",Kf,this),At(this,"edges",qf,this),At(this,"isSlient",Zf,this),At(this,"overlapMode",Jf,this),At(this,"plugins",Qf,this),At(this,"tools",ep,this),At(this,"background",tp,this),At(this,"transformMatrix",np,this),At(this,"editConfig",rp,this),At(this,"gridSize",op,this),At(this,"partial",ip,this),At(this,"fakerNode",ap,this);var i=r.container,o=r.background,a=o===void 0?{}:o,c=r.grid,l=(c=c===void 0?{}:c).size,h=l===void 0?1:l,_=r.isSilentMode,j=_!==void 0&&_,A=r.eventCenter,M=r.idGenerator;this.background=a,this.isSlient=j,this.gridSize=h,this.rootEl=i,this.editConfig=new ml(r),this.eventCenter=A,this.transformMatrix=new Qb(A),this.theme=Bl(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=M}var e,n;return e=t,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(j){return r.push(j)}),this.edges.forEach(function(j){return r.push(j)}),r=r.sort(function(j,A){return j.zIndex-A.zIndex});for(var i=[],o=-1,a=[-200,-200],c=[this.width+200,this.height+200],l=0;l<r.length;l++){var h=r[l];this.partial&&!this.isElementInArea(h,a,c,!1)||(h.zIndex===9999&&(o=i.length),i.push(h))}if(o!==-1){var _=i[i.length-1];i[i.length-1]=i[o],i[o]=_}return i}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===$e.TEXT_EDIT}),i=this.edges.find(function(o){return o.state===$e.TEXT_EDIT});return r||i}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(i){i.isSelected&&r.set(i.id,i)}),this.edges.forEach(function(i){i.isSelected&&r.set(i.id,i)}),r}},{key:"getAreaElement",value:function(r,i){var o=[],a=[];this.nodes.forEach(function(h){return a.push(h)}),this.edges.forEach(function(h){return a.push(h)});for(var c=0;c<a.length;c++){var l=a[c];this.isElementInArea(l,r,i)&&o.push(l)}return o}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModel",value:function(r){var i;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(i=this.nodesMap[r])===null||i===void 0?void 0:i.model}},{key:"getPointByClient",value:function(r){var i=r.x,o=r.y,a=this.rootEl.getBoundingClientRect(),c={x:i-a.left,y:o-a.top},l=cp(this.transformMatrix.HtmlPointToCanvasPoint([c.x,c.y]),2);return{domOverlayPosition:c,canvasOverlayPosition:{x:l[0],y:l[1]}}}},{key:"isElementInArea",value:function(r,i,o){var a=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];if(r.BaseType===_t.NODE){for(var c=rn(r=r),l=c.minX,h=c.minY,_=c.maxX,j=c.maxY,A=[{x:l,y:h},{x:_,y:h},{x:_,y:j},{x:l,y:j}],M=!0,X=0;X<A.length;X++){var J=A[X],Z=J.x,ee=J.y,Q=this.transformMatrix.CanvasPointToHtmlPoint([Z,ee]),oe=cp(Q,2);if(Z=oe[0],ee=oe[1],!Uu([Z,ee],i,o)){M=!1;break}}return M}if(r.BaseType===_t.EDGE){var fe=r=r,le=fe.startPoint,je=fe.endPoint,ke=this.transformMatrix.CanvasPointToHtmlPoint([le.x,le.y]),Ne=this.transformMatrix.CanvasPointToHtmlPoint([je.x,je.y]),Ge=Uu(ke,i,o),Je=Uu(Ne,i,o);return a?Ge&&Je:Ge||Je}return!1}},{key:"graphDataToModel",value:function(r){var i=this;this.nodes=ma(r.nodes,function(o){var a=i.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var c=o.x,l=o.y;return c&&l&&(o.x=xa(c,i.gridSize),o.y=xa(l,i.gridSize),Object.prototype.toString.call(o.text)==="[object Object]"&&(o.text.x-=Fl(c,i.gridSize),o.text.y-=Fl(l,i.gridSize))),new a(o,i)}),this.edges=ma(r.edges,function(o){var a=i.getModel(o.type);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new a(o,i)})}},{key:"modelToGraphData",value:function(){var r=this.edges.map(function(i){return i.getData()});return{nodes:this.nodes.map(function(i){return i.getData()}),edges:r}}},{key:"getEdgeModel",value:function(r){var i;return(i=this.edgesMap[r])===null||i===void 0?void 0:i.model}},{key:"getElement",value:function(r){var i=this.getNodeModel(r);return i||this.getEdgeModel(r)}},{key:"getNodeEdges",value:function(r){for(var i=[],o=0;o<this.edges.length;o++){var a=this.edges[o],c=this.edges[o].sourceNodeId===r,l=this.edges[o].targetNodeId===r;(c||l)&&i.push(a)}return i}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=this.selectElements,o={nodes:[],edges:[]};return i.forEach(function(a){if(a.BaseType===_t.NODE&&o.nodes.push(a.getData()),a.BaseType===_t.EDGE){var c=a.getData(),l=i.get(c.sourceNodeId)&&i.get(c.targetNodeId);(r||l)&&o.edges.push(c)}}),o}},{key:"updateAttributes",value:function(r,i){this.getElement(r).updateAttributes(i)}},{key:"changeNodeId",value:function(r,i){return i||(i=_o()),this.nodesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1):this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=i),o.targetNodeId===r&&(o.targetNodeId=i)}),this.nodesMap[r].model.id=i,i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1)}},{key:"changeEdgeId",value:function(r,i){return i||(i=_o()),this.edgesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FDE\u7EBF: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1):this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=i)}),i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FDE\u7EBF: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),!1)}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,i){return this.modelMap.set(r,i)}},{key:"updateEdgeByIndex",value:function(r,i){this.edges[r]=Eo(Eo({},this.edges[r]),i)}},{key:"toFront",value:function(r){var i,o,a,c=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);c&&((a=this.topElement)===null||a===void 0||a.setZIndex(),this.topElement=c,c.setZIndex(9999))}},{key:"setElementZIndex",value:function(r,i){var o,a,c,l=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[r])===null||a===void 0?void 0:a.model);l&&(typeof i=="number"&&(c=i),i==="top"&&(c=$u()),i==="bottom"&&(c=--Ym),l.setZIndex(c))}},{key:"deleteNode",value:function(r){var i=this.nodesMap[r].model.getData();this.removeEdgeBySource(r),this.removeEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(Fe.NODE_DELETE,{data:i})}},{key:"addNode",value:function(r){var i=Sn(r);i.id&&this.nodesMap[r.id]&&delete i.id;var o=this.getModel(i.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var a=new o(i,this);this.nodes.push(a);var c=a.getData();return this.eventCenter.emit(Fe.NODE_ADD,{data:c}),a}},{key:"cloneNode",value:function(r){var i=this.getNodeModel(r),o=i.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),i.setSelected(!1),a.getData()}},{key:"moveNode",value:function(r,i,o){var a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],c=this.nodesMap[r];if(c){var l=c.model;l.move(i,o,a),this.moveEdge(r,i,o)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(r,i,o){var a=this.nodesMap[r];if(a){var c=a.model,l=i-c.x,h=o-c.y;this.moveNode(r,l,h)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"setTextEditable",value:function(r){this.setElementStateById(r,$e.TEXT_EDIT)}},{key:"createEdge",value:function(r){var i=Sn(r),o=i.type;o||(o=this.edgeType),i.id&&this.edgesMap[i.id]&&delete i.id;var a=this.getModel(o);if(!a)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FDE\u7EBF\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FDE\u7EBF\u3002"));var c=new a(Eo(Eo({},i),{},{type:o}),this),l=c.getData();return this.edges.push(c),this.eventCenter.emit(Fe.EDGE_ADD,{data:l}),c}},{key:"moveEdge",value:function(r,i,o){for(var a=0;a<this.edges.length;a++){var c,l=this.edges[a],h=l.textPosition,_=h.x,j=h.y,A=this.edges[a].sourceNodeId===r,M=this.edges[a].targetNodeId===r;if(A&&l.updateStartPoint({x:l.startPoint.x+i,y:l.startPoint.y+o}),M&&l.updateEndPoint({x:l.endPoint.x+i,y:l.endPoint.y+o}),A||M)if(l.customTextPosition===!0)l.resetTextPosition();else if(l.modelType===He.POLYLINE_EDGE&&(c=l.text)!==null&&c!==void 0&&c.value){var X=l.text,J=Xf(X,l.points);l.moveText(J.x-X.x,J.y-X.y)}else{var Z=l.textPosition,ee=Z.x,Q=Z.y;l.moveText(ee-_,Q-j)}}}},{key:"removeEdge",value:function(r,i){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===i){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(Fe.EDGE_DELETE,{data:a})}}},{key:"removeEdgeById",value:function(r){var i=this.edgesMap[r].index;if(this.edgesMap[r]){var o=this.edgesMap[r].model.getData();this.edges.splice(i,1),this.eventCenter.emit(Fe.EDGE_DELETE,{data:o})}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8FB9"))}},{key:"removeEdgeBySource",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Fe.EDGE_DELETE,{data:o})}}},{key:"removeEdgeByTarget",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].targetNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Fe.EDGE_DELETE,{data:o})}}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"setElementStateById",value:function(r,i,o){this.resetElementState(),this.nodes.forEach(function(a){a.id===r?a.setElementState(i,o):a.setElementState($e.DEFAULT)}),this.edges.forEach(function(a){a.id===r?a.setElementState(i,o):a.setElementState($e.DEFAULT)})}},{key:"setElementTextById",value:function(r,i){this.nodes.forEach(function(o){o.id===r&&o.updateText(i)}),this.edges.forEach(function(o){o.id===r&&o.updateText(i)})}},{key:"resetElementState",value:function(){}},{key:"selectNodeById",value:function(r){var i,o,a,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||((a=this.selectElement)===null||a===void 0||a.setSelected(!1),this.clearSelectElements()),this.selectElement=(i=this.nodesMap[r])===null||i===void 0?void 0:i.model,(o=this.selectElement)===null||o===void 0||o.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var i,o,a,c=arguments.length>1&&arguments[1]!==void 0&&arguments[1];c||((a=this.selectElement)===null||a===void 0||a.setSelected(!1),this.clearSelectElements()),this.selectElement=(i=this.edgesMap[r])===null||i===void 0?void 0:i.model,(o=this.selectElement)===null||o===void 0||o.setSelected(!0)}},{key:"selectElementById",value:function(r){var i,o,a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];a||((o=this.selectElement)===null||o===void 0||o.setSelected(!1),this.clearSelectElements()),this.selectElement=this.getElement(r),(i=this.selectElement)===null||i===void 0||i.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(i){i==null||i.setSelected(!1)}),this.selectElements.clear(),this.overlapMode!==Mn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveElements",value:function(r,i,o){var a=this;r.nodes.forEach(function(c){return a.moveNode(c.id,i,o)})}},{key:"moveNodes",value:function(r,i,o){var a=this,c=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(l){return a.moveNode(l,i,o,c)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"changeEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,i){var o=this.getNodeModel(r);if(o){var a=o.getData();a.type=i;var c=this.getModel(i);if(!c)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var l=new c(a,this);this.nodes.splice(this.nodesMap[r].index,1,l),this.getNodeEdges(r).forEach(function(h){if(h.sourceNodeId===r){var _=bf(l,h.startPoint,l.width,l.height);h.updateStartPoint(_)}if(h.targetNodeId===r){var j=bf(l,h.endPoint,l.width,l.height);h.updateEndPoint(j)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"setTheme",value:function(r){this.theme=Bl(Eo(Eo({},this.theme),r))}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}}])&&s0(e.prototype,n),t}()).prototype,"edgeType",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wf=Se(re.prototype,"nodes",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yf=Se(re.prototype,"activeElement",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gf=Se(re.prototype,"activeElementState",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$f=Se(re.prototype,"state",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kf=Se(re.prototype,"additionStateData",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qf=Se(re.prototype,"edges",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Zf=Se(re.prototype,"isSlient",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Jf=Se(re.prototype,"overlapMode",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Qf=Se(re.prototype,"plugins",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ep=Se(re.prototype,"tools",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),tp=Se(re.prototype,"background",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),np=Se(re.prototype,"transformMatrix",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rp=Se(re.prototype,"editConfig",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),op=Se(re.prototype,"gridSize",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ip=Se(re.prototype,"partial",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ap=Se(re.prototype,"fakerNode",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se(re.prototype,"nodesMap",[O.k],Object.getOwnPropertyDescriptor(re.prototype,"nodesMap"),re.prototype),Se(re.prototype,"edgesMap",[O.k],Object.getOwnPropertyDescriptor(re.prototype,"edgesMap"),re.prototype),Se(re.prototype,"sortElements",[O.k],Object.getOwnPropertyDescriptor(re.prototype,"sortElements"),re.prototype),Se(re.prototype,"textEditElement",[O.k],Object.getOwnPropertyDescriptor(re.prototype,"textEditElement"),re.prototype),Se(re.prototype,"selectElements",[O.k],Object.getOwnPropertyDescriptor(re.prototype,"selectElements"),re.prototype),Se(re.prototype,"setFakerNode",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"setFakerNode"),re.prototype),Se(re.prototype,"removeFakerNode",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"removeFakerNode"),re.prototype),Se(re.prototype,"setModel",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"setModel"),re.prototype),Se(re.prototype,"updateEdgeByIndex",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"updateEdgeByIndex"),re.prototype),Se(re.prototype,"toFront",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"toFront"),re.prototype),Se(re.prototype,"setElementZIndex",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"setElementZIndex"),re.prototype),Se(re.prototype,"deleteNode",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"deleteNode"),re.prototype),Se(re.prototype,"addNode",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"addNode"),re.prototype),Se(re.prototype,"cloneNode",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"cloneNode"),re.prototype),Se(re.prototype,"moveNode",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"moveNode"),re.prototype),Se(re.prototype,"moveNode2Coordinate",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"moveNode2Coordinate"),re.prototype),Se(re.prototype,"setTextEditable",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"setTextEditable"),re.prototype),Se(re.prototype,"createEdge",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"createEdge"),re.prototype),Se(re.prototype,"moveEdge",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"moveEdge"),re.prototype),Se(re.prototype,"removeEdge",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"removeEdge"),re.prototype),Se(re.prototype,"removeEdgeById",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"removeEdgeById"),re.prototype),Se(re.prototype,"removeEdgeBySource",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"removeEdgeBySource"),re.prototype),Se(re.prototype,"removeEdgeByTarget",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"removeEdgeByTarget"),re.prototype),Se(re.prototype,"setElementState",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"setElementState"),re.prototype),Se(re.prototype,"setElementStateById",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"setElementStateById"),re.prototype),Se(re.prototype,"setElementTextById",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"setElementTextById"),re.prototype),Se(re.prototype,"resetElementState",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"resetElementState"),re.prototype),Se(re.prototype,"selectNodeById",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"selectNodeById"),re.prototype),Se(re.prototype,"selectEdgeById",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"selectEdgeById"),re.prototype),Se(re.prototype,"selectElementById",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"selectElementById"),re.prototype),Se(re.prototype,"clearSelectElements",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"clearSelectElements"),re.prototype),Se(re.prototype,"moveElements",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"moveElements"),re.prototype),Se(re.prototype,"moveNodes",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"moveNodes"),re.prototype),Se(re.prototype,"changeEdgeType",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"changeEdgeType"),re.prototype),Se(re.prototype,"changeNodeType",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"changeNodeType"),re.prototype),Se(re.prototype,"setTheme",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"setTheme"),re.prototype),Se(re.prototype,"clearData",[O.i],Object.getOwnPropertyDescriptor(re.prototype,"clearData"),re.prototype),re),l0=lp;function fp(t){return(fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function pp(){return(pp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function f0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hp(t,e){return(hp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function h0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=uc(t);if(e){var i=uc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d0(this,n)}}function d0(t,e){if(e&&(fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function uc(t){return(uc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function dp(t){return(dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function yp(){return(yp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function y0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function vp(t,e){return(vp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function v0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=cc(t);if(e){var i=cc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g0(this,n)}}function g0(t,e){if(e&&(dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rn(t)}function Rn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cc(t){return(cc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Jn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gp,bp,b0=Fn((gp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&vp(o,a)})(i,t);var e,n,r=v0(i);function i(o){var a;(function(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")})(this,i),Jn(Rn(a=r.call(this)),"stepDrag",void 0),Jn(Rn(a),"stepScrollX",0),Jn(Rn(a),"stepScrollY",0),Jn(Rn(a),"onDraging",function(h){var _=h.deltaX,j=h.deltaY;a.setState({isDraging:!0});var A=a.props.graphModel,M=A.transformMatrix;A.editConfig.stopMoveGraph||M.translate(_,j)}),Jn(Rn(a),"onDragEnd",function(){a.setState({isDraging:!1})}),Jn(Rn(a),"zoomHandler",function(h){var _=a.props,j=_.graphModel,A=j.editConfig,M=j.transformMatrix,X=j.gridSize,J=_.graphModel,Z=h.deltaX,ee=h.deltaY;if(A.stopScrollGraph||h.ctrlKey===!0){if(!A.stopZoomGraph){h.preventDefault();var Q=J.getPointByClient({x:h.clientX,y:h.clientY}).canvasOverlayPosition,oe=Q.x,fe=Q.y;M.zoom(h.deltaY<0,[oe,fe])}}else{if(h.preventDefault(),a.stepScrollX+=Z,a.stepScrollY+=ee,Math.abs(a.stepScrollX)>=X){var le=a.stepScrollX%X,je=a.stepScrollX-le;M.translate(-je*M.SCALE_X,0),a.stepScrollX=le}if(Math.abs(a.stepScrollY)>=X){var ke=a.stepScrollY%X,Ne=a.stepScrollY-ke;M.translate(0,-Ne*M.SCALE_Y),a.stepScrollY=ke}}}),Jn(Rn(a),"clickHandler",function(h){if(h.target.getAttribute("name")==="canvas-overlay"){var _=a.props,j=_.graphModel,A=_.eventCenter,M=j.textEditElement;j.selectElements.size>0&&j.clearSelectElements(),M&&M.setElementState($e.DEFAULT),A.emit(Fe.BLANK_CLICK,{e:h})}}),Jn(Rn(a),"handleContextMenu",function(h){if(h.target.getAttribute("name")==="canvas-overlay"){h.preventDefault();var _=a.props,j=_.graphModel,A=_.eventCenter,M=j.getPointByClient({x:h.clientX,y:h.clientY});j.setElementState($e.SHOW_MENU,M.domOverlayPosition),A.emit(Fe.BLANK_CONTEXTMENU,{e:h,position:M})}}),Jn(Rn(a),"mouseDownHandler",function(h){var _=a.props,j=_.eventCenter,A=_.graphModel,M=A.editConfig,X=A.transformMatrix.SCALE_X,J=A.gridSize;M.stopMoveGraph?j.emit(Fe.BLANK_MOUSEDOWN,{e:h}):(a.stepDrag.setStep(J*X),a.stepDrag.handleMouseDown(h)),a.clickHandler(h)});var c=o.graphModel.gridSize,l=o.eventCenter;return a.stepDrag=new di({onDraging:a.onDraging,onDragEnd:a.onDragEnd,step:c,eventType:"BLANK",eventCenter:l,model:null}),a.state={isDraging:!1},a}return e=i,(n=[{key:"InjectedProps",get:function(){return this.props}},{key:"render",value:function(){var o=this.InjectedProps.transformStyle.transform,a=this.props,c=a.children,l=a.dnd,h=this.state.isDraging;return L("svg",yp({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:h?"lf-dragging":"lf-drag-able"},l.eventMap()),L("g",{transform:o},c))}}])&&y0(e.prototype,n),i}(I),function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&hp(o,a)})(i,t);var e,n,r=h0(i);function i(){return f0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getMatrixString",value:function(){var o=this.props.graphModel.transformMatrix,a=[o.SCALE_X,o.SKEW_Y,o.SKEW_X,o.SCALE_Y,o.TRANSLATE_X,o.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(a,")"),transformOrigin:"left top"}}},{key:"render",value:function(){return L(gp,pp({},this.props,{transformStyle:this.getMatrixString()}))}}])&&p0(e.prototype,n),i}(I)));function mp(t){return(mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function m0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _p(t,e){return(_p=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function O0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=sc(t);if(e){var i=sc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w0(this,n)}}function w0(t,e){if(e&&(mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Op(t)}function Op(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sc(t){return(sc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function x0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E0=Fn(bp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&_p(o,a)})(i,t);var e,n,r=O0(i);function i(){var o;m0(this,i);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return x0(Op(o=r.call.apply(r,[this].concat(c))),"setToolOverlayRef",function(h){var _=o.props.tool.getInstance();_.components.forEach(function(j){return j(_,h)}),_.components=[]}),o}return e=i,(n=[{key:"getTools",value:function(){var o=this.props,a=o.tool,c=o.graphModel,l=a.getTools().map(function(h){return L(h,{graphModel:c,logicFlow:a.instance})});return a.components=l,l}},{key:"render",value:function(){return L("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&_0(e.prototype,n),i}(I))||bp;u(178);function wp(t){return(wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function S0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xp(t,e){return(xp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function P0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=lc(t);if(e){var i=lc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k0(this,n)}}function k0(t,e){if(e&&(wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function lc(t){return(lc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Ep,A0=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&xp(o,a)})(i,t);var e,n,r=P0(i);function i(){return S0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.background,a=o.image,c=a===void 0?"":a,l=o.color,h=l===void 0?"":l,_=o.repeat,j=_===void 0?"no-repeat":_,A=o.position,M=A===void 0?"center":A,X=o.size,J=X===void 0?"auto auto":X,Z=o.opacity,ee=Z===void 0?1:Z;return h?{color:h,opacity:ee,image:"none"}:c?{image:"url(".concat(c,")"),repeat:j,position:M,size:J,opacity:ee}:{}}},{key:"getShape",value:function(){var o=this.getAttributes(),a=o.image,c=o.color,l=o.repeat,h=o.size;return L("div",{className:"lf-background"},L("div",{style:{backgroundImage:a,backgroundColor:c,backgroundRepeat:l,backgroundPosition:o.position,backgroundSize:h,opacity:o.opacity},className:"lf-background-area"}))}},{key:"render",value:function(){return this.getShape()}}])&&j0(e.prototype,n),i}(I);function Sp(t){return(Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function T0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jp(t,e){return(jp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function M0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fc(t);if(e){var i=fc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return N0(this,n)}}function N0(t,e){if(e&&(Sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pp(t)}function Pp(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fc(t){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function C0(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kp=Fn(Ep=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&jp(o,a)})(i,t);var e,n,r=M0(i);function i(){var o;T0(this,i);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return C0(Pp(o=r.call.apply(r,[this].concat(c))),"id",_o()),o}return e=i,(n=[{key:"renderDot",value:function(){var o=this.props,a=o.config,c=a.color,l=a.thickness,h=l===void 0?2:l,_=o.size,j=o.visible,A=Math.min(Math.max(2,h),_/2),M=1;return j||(M=0),L("rect",{width:A,height:A,rx:A/2,ry:A/2,fill:c,opacity:M})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,c=a.color,l=a.thickness,h=l===void 0?1:l,_=o.size,j=o.visible,A=Math.min(Math.max(1,h),_/2),M=1;return j||(M=0),L("path",{d:"M ".concat(_," 0 H0 M0 0 V0 ").concat(_),stroke:c,strokeWidth:A,opacity:M})}},{key:"render",value:function(){var o=this.props,a=o.type,c=o.size,l=o.graphModel.transformMatrix,h=[l.SCALE_X,l.SKEW_Y,l.SKEW_X,l.SCALE_Y,l.TRANSLATE_X,l.TRANSLATE_Y].join(","),_="matrix(".concat(h,")");return L("div",{className:"lf-grid"},L("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},L("defs",null,L("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:_,x:"0",y:"0",width:c,height:c,style:{transition:"all 0.1s ease"}},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),L("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&D0(e.prototype,n),i}(I))||Ep;kp.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},u(44);function Ap(t){return(Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function R0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Tp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Tp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Dp,So=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach(function(n){var r=R0(n,2),i=r[0],o=r[1];Ap(o)!=="object"&&(e[i]=o)}),L("line",e)};function Mp(t){return(Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function I0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Np(t,e){return(Np=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function z0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=pc(t);if(e){var i=pc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return B0(this,n)}}function B0(t,e){if(e&&(Mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function pc(t){return(pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Cp,F0=Fn(Dp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Np(o,a)})(i,t);var e,n,r=z0(i);function i(){return I0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,c=o.isShowHorizontal,l=o.isShowVertical,h=o.stroke,_=o.strokeWidth,j=a.x,A=j===void 0?0:j,M=a.y,X=M===void 0?0:M,J={x1:A,y1:-1e5,x2:A,y2:1e5,stroke:l?h:"none",strokeWidth:_};return L("g",{className:"lf-snapline"},L(So,{x1:-1e5,y1:X,x2:1e5,y2:X,stroke:c?h:"none",strokeWidth:_}),L(So,J))}}])&&L0(e.prototype,n),i}(I))||Dp;function Rp(t){return(Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function H0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Ip(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ip(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ip(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function br(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=t.radius,a=t.className,c=e-r/2,l=n-i/2,h={width:10,height:10,cx:0,cy:0,rx:o||0,ry:o||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape ".concat(a),x:0,y:0};return Object.entries(t).forEach(function(_){var j=H0(_,2),A=j[0],M=j[1];Rp(M)!=="object"&&(h[A]=M)}),h.x=c,h.y=l,L("rect",h)}function Lp(t){return(Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function X0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function zp(t,e){return(zp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function V0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=hc(t);if(e){var i=hc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return W0(this,n)}}function W0(t,e){if(e&&(Lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function hc(t){return(hc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}br.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Bp,Y0=Fn(Cp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&zp(o,a)})(i,t);var e,n,r=V0(i);function i(){return X0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getNodeOutline",value:function(){var o=this.props.graphModel,a=o.selectElements,c=o.editConfig,l=c.hoverOutline,h=c.nodeSelectedOutline,_=[];return a.forEach(function(j){if(j.BaseType===_t.NODE){var A=j.isHovered,M=j.isSelected,X=j.x,J=j.y,Z=j.width,ee=j.height,Q=j.outlineColor,oe=j.hoverOutlineColor,fe=j.outlineStrokeDashArray,le=j.hoverOutlineStrokeDashArray;if(h||l&&A){var je=M?Q:oe,ke=M?fe:le;_.push(L(br,{className:"lf-outline-node",x:X,y:J,width:Z+10,height:ee+10,radius:0,fill:"none",stroke:je,strokeDasharray:ke}))}}}),_}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,c=o.editConfig.edgeSelectedOutline,l=[],h=0;h<a.length;h++){var _=a[h];_.isSelected&&c&&(_.modelType===He.LINE_EDGE?l.push(this.getLineOutline(_)):_.modelType===He.POLYLINE_EDGE?l.push(this.getPolylineOutline(_)):_.modelType===He.BEZIER_EDGE&&l.push(this.getBezierOutline(_)))}return l}},{key:"getLineOutline",value:function(o){var a=o.startPoint,c=o.endPoint,l=(a.x+c.x)/2,h=(a.y+c.y)/2,_=Math.abs(a.x-c.x)+10,j=Math.abs(a.y-c.y)+10,A=this.props.graphModel.theme.line;return L(br,{className:"lf-outline-edge",x:l,y:h,width:_,height:j,radius:0,fill:"none",stroke:A.outlineColor,strokeDasharray:A.outlineStrokeDashArray})}},{key:"getPolylineOutline",value:function(o){var a=o.points,c=wo(a),l=pi(c,8),h=l.x,_=l.y,j=l.width,A=l.height,M=this.props.graphModel.theme.polyline;return L(br,{className:"lf-outline",x:h,y:_,width:j,height:A,radius:0,fill:"none",stroke:M.outlineColor,strokeDasharray:M.outlineStrokeDashArray})}},{key:"getBezierOutline",value:function(o){var a=o.path,c=Da(a),l=pi(c,8),h=l.x,_=l.y,j=l.width,A=l.height,M=this.props.graphModel.theme.bezier;return L(br,{className:"lf-outline",x:h,y:_,width:j,height:A,radius:0,fill:"none",stroke:M.outlineColor,strokeDasharray:M.outlineStrokeDashArray})}},{key:"render",value:function(){return L("g",{className:"lf-outline"},this.getNodeOutline(),this.getEdgeOutline())}}])&&U0(e.prototype,n),i}(I))||Cp;function Fp(t){return(Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function G0(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Hp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ca(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.r,a={cx:n,cy:i,r:o===void 0?4:o,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape"};return Object.entries(t).forEach(function(c){var l=G0(c,2),h=l[0],_=l[1];Fp(_)!=="object"&&(a[h]=_)}),L("circle",a)}function Xp(t){return(Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Up(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Vp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Vp(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vp(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gp(t,e,n){return e&&Yp(t.prototype,e),n&&Yp(t,n),t}function $p(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kp(t,e)}function Kp(t,e){return(Kp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function qp(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=dc(t);if(e){var i=dc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $0(this,n)}}function $0(t,e){if(e&&(Xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ra(t)}function Ra(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dc(t){return(dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function yc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zp,Jp=function(t){$p(n,t);var e=qp(n);function n(r){var i;Wp(this,n),yc(Ra(i=e.call(this)),"dragHandler",void 0),yc(Ra(i),"onDraging",function(a){var c=a.deltaX,l=a.deltaY,h=i.props,_=h.graphModel,j=h.bezierModel,A=h.type,M=_.transformMatrix,X=i.state,J=X.endX,Z=X.endY,ee=Up(M.moveCanvasPointByHtml([J,Z],c,l),2),Q=ee[0],oe=ee[1];i.setState({endX:Q,endY:oe}),j.updateAdjustAnchor({x:Q,y:oe},A)}),yc(Ra(i),"onDragEnd",function(){var a=i.state,c=a.endX,l=a.endY,h=i.props,_=h.bezierModel,j=h.type;_.updateAdjustAnchor({x:c,y:l},j)}),i.dragHandler=Na({onDraging:i.onDraging,onDragEnd:i.onDragEnd});var o=r.position;return i.state={endX:o.x,endY:o.y},i}return Gp(n,[{key:"render",value:function(){var r,i,o,a=this.props.position,c=a.x,l=a.y,h=(r=this.props)===null||r===void 0||(i=r.graphModel)===null||i===void 0||(o=i.theme)===null||o===void 0?void 0:o.bezier;return L(Ca,{className:"lf-bezier-adjust-anchor",x:c,y:l,r:4,stroke:h.adjustAnchorStroke,fill:h.adjustAnchorFill,fillOpacity:h.adjustAnchorFillOpacity,onMouseDown:this.dragHandler})}}]),n}(I),K0=Fn(Bp=function(t){$p(n,t);var e=qp(n);function n(){return Wp(this,n),e.apply(this,arguments)}return Gp(n,[{key:"getBezierAdjust",value:function(r,i){var o=r.path,a=r.id,c=Up(Da(o),4),l=c[0],h=c[1],_=c[2],j=c[3],A=i.theme.bezier.adjustLineColor,M=[];return M.push(L(So,{x1:l.x,y1:l.y,x2:h.x,y2:h.y,stroke:A})),M.push(L(Jp,{position:h,bezierModel:r,graphModel:i,key:"".concat(a,"_ePre"),type:"sNext"})),M.push(L(So,{x1:j.x,y1:j.y,x2:_.x,y2:_.y,stroke:A})),M.push(L(Jp,{position:_,bezierModel:r,graphModel:i,key:"".concat(a,"_sNext"),type:"ePre"})),M}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,i=r.edges,o=[],a=0;a<i.length;a++){var c=i[a];c.isSelected&&c.modelType===He.BEZIER_EDGE&&c.draggable&&o.push(this.getBezierAdjust(c,r))}return o}},{key:"render",value:function(){return L("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(I))||Bp;function Qp(t){return(Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function eh(){return(eh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function q0(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Z0(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function th(t,e){return(th=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function J0(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=vc(t);if(e){var i=vc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Q0(this,n)}}function Q0(t,e){if(e&&(Qp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function vc(t){return(vc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var e_=Fn(Zp=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&th(o,a)})(i,t);var e,n,r=J0(i);function i(){return q0(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getComponent",value:function(o,a,c){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"canvas-overlay",h=this.props.getView,_=h(o.type);return L(_,{key:o.id,model:o,graphModel:a,overlay:l,eventCenter:c})}},{key:"render",value:function(){var o=this,a=this.props,c=a.graphModel,l=a.tool,h=a.options,_=a.eventCenter,j=a.dnd,A=a.snaplineModel,M={};h.width&&(M.width="".concat(h.width,"px")),h.height&&(M.height="".concat(h.height,"px"));var X=c.fakerNode,J=c.editConfig.adjustEdge;return L("div",{className:"lf-graph",style:M},L(b0,{graphModel:c,eventCenter:_,dnd:j},L("g",{className:"lf-base"},ma(c.sortElements,function(Z){return o.getComponent(Z,c,_)})),X?this.getComponent(X,c,_):"",h.hideOutline?"":L(Y0,{graphModel:c}),J?L(K0,{graphModel:c}):"",h.isSilentMode||h.snapline===!1?"":L(F0,{snaplineModel:A})),L(E0,{graphModel:c,tool:l}),h.background&&L(A0,{background:h.background}),h.grid&&L(kp,eh({},h.grid,{graphModel:c})))}}])&&Z0(e.prototype,n),i}(I))||Zp;function nh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nh(Object(n),!0).forEach(function(r){In(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function In(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var n_=function(){function t(r){var i=this;(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),In(this,"nodeConfig",void 0),In(this,"lf",void 0),In(this,"options",void 0),In(this,"fakerNode",void 0),In(this,"stopDrag",function(){i.nodeConfig=null,window.document.removeEventListener("mouseup",i.stopDrag)}),In(this,"dragEnter",function(c){i.nodeConfig&&!i.fakerNode&&(i.fakerNode=i.lf.createFakerNode(Ia(Ia({},i.nodeConfig),i.clientToLocalPoint({x:c.clientX,y:c.clientY}))))}),In(this,"onDragOver",function(c){if(c.preventDefault(),i.fakerNode){var l=i.clientToLocalPoint({x:c.clientX,y:c.clientY}),h=l.x,_=l.y;i.fakerNode.moveTo(h,_);var j=i.fakerNode.getData();i.lf.setNodeSnapLine(j),i.lf.eventCenter.emit(Fe.NODE_DND_DRAG,{data:j})}return!1}),In(this,"onDragLeave",function(){i.fakerNode&&(i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)}),In(this,"onDrop",function(c){if(i.lf.graphModel&&c&&i.nodeConfig){var l=i.lf.addNode(Ia(Ia({},i.nodeConfig),i.clientToLocalPoint({x:c.clientX,y:c.clientY})));c.preventDefault(),c.stopPropagation(),i.nodeConfig=null,i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null;var h=l.getData();i.lf.eventCenter.emit(Fe.NODE_DND_ADD,{data:h})}});var o=r.options,a=r.lf;this.lf=a,this.options=o}var e,n;return e=t,(n=[{key:"clientToLocalPoint",value:function(r){var i=r.x,o=r.y,a=qs(this.lf.options,["grid","size"]),c=this.lf.graphModel.getPointByClient({x:i,y:o}).canvasOverlayPosition,l=c.x,h=c.y;return{x:xa(l,a),y:xa(h,a)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&t_(e.prototype,n),t}();function rh(t){var e=t.container,n=t.grid;if(!e)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");return n&&(t.grid=ut({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),ut({},ih,t)}var dt,oh,ih={background:!1,grid:!1,textEdit:!0};function ah(t){return(ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function uh(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ch(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ch(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ch(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sh(Object(n),!0).forEach(function(r){gc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fh(t,e,n){return(fh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=vi(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function ph(t,e){return(ph=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function o_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=vi(t);if(e){var i=vi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return i_(this,n)}}function i_(t,e){if(e&&(ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yi(t)}function yi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vi(t){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function gc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var me,hh,dh,yh,vh,gh,bh,mh,_h,Oh,wh,xh,Eh,Sh,jh,Ph,kh,Ah,Th,Dh,Mh,Nh,Ch,Rh,Ih,bc=(oh=Xr((dt=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&ph(o,a)})(i,t);var e,n,r=o_(i);function i(o,a){var c;return function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}(this,i),gc(yi(c=r.call(this,o,a,"bezier")),"modelType",He.BEZIER_EDGE),gc(yi(c),"offset",Gt.bezier.offset),function(l,h,_,j){_&&Object.defineProperty(l,h,{enumerable:_.enumerable,configurable:_.configurable,writable:_.writable,value:_.initializer?_.initializer.call(j):void 0})}(yi(c),"path",oh,yi(c)),c}return e=i,(n=[{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(c){var l=c.x,h=c.y;o+=l,a+=h}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=fh(vi(i.prototype),"getData",this).call(this),a=this.pointsList.map(function(c){return{x:c.x,y:c.y}});return lh(lh({},o),{},{pointsList:a})}},{key:"getControls",value:function(){return function(o){var a=o.start,c=o.end,l=o.sourceNode,h=o.targetNode,_=o.offset,j=rn(l),A=rn(h),M=ja(j,_),X=ja(A,_);return{sNext:Pa(M,a),ePre:Pa(X,c)}}({start:this.startPoint,end:this.endPoint,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var a=uh(o,4),c=a[0],l=a[1],h=a[2],_=a[3];return"M ".concat(c.x," ").concat(c.y,`
    C `).concat(l.x," ").concat(l.y,`,
    `).concat(h.x," ").concat(h.y,`,
    `).concat(_.x," ").concat(_.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},a={x:this.endPoint.x,y:this.endPoint.y},c=this.getControls(),l=c.sNext,h=c.ePre;this.pointsList=[o,l,h,a],this.path=this.getPath(this.pointsList)}},{key:"updatePath",value:function(){var o={x:this.startPoint.x,y:this.startPoint.y},a={x:this.endPoint.x,y:this.endPoint.y},c=uh(this.pointsList,3),l=c[1],h=c[2];this.pointsList=[o,l,h,a],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePath()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePath()}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}}])&&r_(e.prototype,n),i}(qu)).prototype,"path",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Xr(dt.prototype,"initPoints",[O.i],Object.getOwnPropertyDescriptor(dt.prototype,"initPoints"),dt.prototype),Xr(dt.prototype,"updatePoints",[O.i],Object.getOwnPropertyDescriptor(dt.prototype,"updatePoints"),dt.prototype),Xr(dt.prototype,"updatePath",[O.i],Object.getOwnPropertyDescriptor(dt.prototype,"updatePath"),dt.prototype),Xr(dt.prototype,"updateStartPoint",[O.i],Object.getOwnPropertyDescriptor(dt.prototype,"updateStartPoint"),dt.prototype),Xr(dt.prototype,"updateEndPoint",[O.i],Object.getOwnPropertyDescriptor(dt.prototype,"updateEndPoint"),dt.prototype),Xr(dt.prototype,"updateAdjustAnchor",[O.i],Object.getOwnPropertyDescriptor(dt.prototype,"updateAdjustAnchor"),dt.prototype),dt);u(39);function Lh(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lh(Object(n),!0).forEach(function(r){yn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lh(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zh(t){return(zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Bh(t,e){var n=typeof Symbol!="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(l,h){if(!!l){if(typeof l=="string")return Fh(l,h);var _=Object.prototype.toString.call(l).slice(8,-1);if(_==="Object"&&l.constructor&&(_=l.constructor.name),_==="Map"||_==="Set")return Array.from(l);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return Fh(l,h)}}(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,a=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return a=l.done,l},e:function(l){c=!0,o=l},f:function(){try{a||n.return==null||n.return()}finally{if(c)throw o}}}}function Fh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nt(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function a_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ze(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var jn,Hh,Tt=ut({x:0,y:0,zIndex:1,text:{value:"",x:0,y:0,draggable:!1,editable:!0}},Gt.rect,Gt.circle),Qn=(hh=ze((me=function(){function t(r,i,o){(function(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),yn(this,"id",""),yn(this,"BaseType",_t.NODE),yn(this,"modelType",He.NODE),yn(this,"additionStateData",void 0),yn(this,"targetRules",[]),yn(this,"sourceRules",[]),yn(this,"moveRules",[]),yn(this,"hasSetTargetRules",!1),yn(this,"hasSetSourceRules",!1),nt(this,"properties",hh,this),nt(this,"type",dh,this),nt(this,"x",yh,this),nt(this,"y",vh,this),nt(this,"_width",gh,this),yn(this,"graphModel",void 0),nt(this,"_height",bh,this),nt(this,"fill",mh,this),nt(this,"fillOpacity",_h,this),nt(this,"strokeWidth",Oh,this),nt(this,"stroke",wh,this),nt(this,"strokeOpacity",xh,this),nt(this,"opacity",Eh,this),nt(this,"outlineColor",Sh,this),nt(this,"hoverOutlineColor",jh,this),nt(this,"outlineStrokeDashArray",Ph,this),nt(this,"hoverOutlineStrokeDashArray",kh,this),nt(this,"isSelected",Ah,this),nt(this,"isHovered",Th,this),nt(this,"isHitable",Dh,this),nt(this,"zIndex",Mh,this),nt(this,"anchorsOffset",Nh,this),nt(this,"state",Ch,this),nt(this,"text",Rh,this),nt(this,"draggable",Ih,this),this.graphModel=i,this.setStyleFromTheme(o,i),this.initNodeData(r),this.setAttributes()}var e,n;return e=t,(n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i();o&&(r.id=o),r.id=this.createId()}this.formatText(r),ut(this,function(a){return Dn(a,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===Mn.INCREASE&&(this.zIndex=r.zIndex||$u())}},{key:"createId",value:function(){return _o()}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"setAttributes",value:function(){}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,a=r.value,c=this.properties;Object(O.v)(c)&&(c=Object(O.G)(c));var l={id:this.id,type:this.type,x:this.x,y:this.y,properties:c};return this.graphModel.overlapMode===Mn.INCREASE&&(l.zIndex=this.zIndex),a&&(l.text={x:i,y:o,value:a}),l}},{key:"getProperties",value:function(){return Object(O.G)(this.properties)}},{key:"isAllowConnectedAsSource",value:function(r){var i=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var o,a=!0,c=0;c<i.length;c++){var l=i[c];if(!l.validate.call(this,this,r)){a=!1,o=l.message;break}}return{isAllPass:a,msg:o}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r){var i=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var o,a=!0,c=0;c<i.length;c++){var l=i[c];if(!l.validate.call(this,r,this)){a=!1,o=l.message;break}}return{isAllPass:a,msg:o}}},{key:"isAllowMoveNode",value:function(r,i){var o,a=Bh(this.moveRules);try{for(a.s();!(o=a.n()).done;)if(!(0,o.value)(this,r,i))return!1}catch(h){a.e(h)}finally{a.f()}var c,l=Bh(this.graphModel.nodeMoveRules);try{for(l.s();!(c=l.n()).done;)if(!(0,c.value)(this,r,i))return!1}catch(h){l.e(h)}finally{l.f()}return!0}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,i=this.x,o=this.y,a=this.id;return r.map(function(c,l){return c.length?{id:"".concat(a,"_").concat(l),x:i+c[0],y:o+c[1]}:{x:i+c.x,y:o+c.y,id:c.id||"".concat(a,"_").concat(l)}})}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){var r=this.anchorsOffset;return r&&r.length>0?this.getAnchorsByOffset():[]}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o||this.isAllowMoveNode(r,i)){var a=this.x+r,c=this.y+i;this.x=a,this.y=c,this.text&&this.moveText(r,i)}}},{key:"moveTo",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=r-this.x,c=i-this.y;(o||this.isAllowMoveNode(a,c))&&(this.text&&this.text&&this.moveText(a,c),this.x=r,this.y=i)}},{key:"moveText",value:function(r,i){var o=this.text,a=o.x,c=o.y,l=o.value,h=o.draggable,_=o.editable;this.text={value:l,editable:_,draggable:h,x:a+r,y:c+i}}},{key:"updateText",value:function(r){this.text.value=r}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStroke",value:function(r){this.stroke=r}},{key:"updateData",value:function(r){var i=Sn(Dn(r,"type","x","y","text","properties")),o=this.text,a=o.x,c=o.y,l=o.draggable,h=o.editable;if(i.text&&typeof i.text=="string")i.text={x:a,y:c,value:i.text,draggable:l,editable:h};else if(zh(i.text)==="object"){var _=jo(jo({},this.text),i.text);i.text=Dn(_,"x","y","value","draggable","editable")}ut(this,i)}},{key:"setProperty",value:function(r,i){this.properties=jo(jo({},this.properties),{},yn({},r,Sn(i))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=jo(jo({},this.properties),Sn(r)),this.setAttributes()}},{key:"setStyleFromTheme",value:function(r,i){var o=i.theme;o[r]&&ut(this,o[r])}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Tt.zIndex;this.zIndex=r}},{key:"updateAttributes",value:function(r){ut(this,r)}}])&&a_(e.prototype,n),t}()).prototype,"properties",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),dh=ze(me.prototype,"type",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),yh=ze(me.prototype,"x",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.x}}),vh=ze(me.prototype,"y",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.y}}),gh=ze(me.prototype,"_width",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.width}}),bh=ze(me.prototype,"_height",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.height}}),mh=ze(me.prototype,"fill",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.fill}}),_h=ze(me.prototype,"fillOpacity",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.fillOpacity}}),Oh=ze(me.prototype,"strokeWidth",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.strokeWidth}}),wh=ze(me.prototype,"stroke",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.stroke}}),xh=ze(me.prototype,"strokeOpacity",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.strokeOpacity}}),Eh=ze(me.prototype,"opacity",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.opacity}}),Sh=ze(me.prototype,"outlineColor",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.outlineColor}}),jh=ze(me.prototype,"hoverOutlineColor",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.hoverOutlineColor}}),Ph=ze(me.prototype,"outlineStrokeDashArray",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.outlineStrokeDashArray}}),kh=ze(me.prototype,"hoverOutlineStrokeDashArray",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.hoverOutlineStrokeDashArray}}),Ah=ze(me.prototype,"isSelected",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Th=ze(me.prototype,"isHovered",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Dh=ze(me.prototype,"isHitable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mh=ze(me.prototype,"zIndex",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.zIndex}}),Nh=ze(me.prototype,"anchorsOffset",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ch=ze(me.prototype,"state",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Rh=ze(me.prototype,"text",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Tt.text}}),Ih=ze(me.prototype,"draggable",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ze(me.prototype,"addNodeMoveRules",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"addNodeMoveRules"),me.prototype),ze(me.prototype,"move",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"move"),me.prototype),ze(me.prototype,"moveTo",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"moveTo"),me.prototype),ze(me.prototype,"moveText",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"moveText"),me.prototype),ze(me.prototype,"updateText",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"updateText"),me.prototype),ze(me.prototype,"setSelected",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"setSelected"),me.prototype),ze(me.prototype,"setHovered",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"setHovered"),me.prototype),ze(me.prototype,"setHitable",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"setHitable"),me.prototype),ze(me.prototype,"setElementState",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"setElementState"),me.prototype),ze(me.prototype,"updateStroke",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"updateStroke"),me.prototype),ze(me.prototype,"updateData",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"updateData"),me.prototype),ze(me.prototype,"setProperty",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"setProperty"),me.prototype),ze(me.prototype,"setProperties",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"setProperties"),me.prototype),ze(me.prototype,"setStyleFromTheme",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"setStyleFromTheme"),me.prototype),ze(me.prototype,"setZIndex",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"setZIndex"),me.prototype),ze(me.prototype,"updateAttributes",[O.i],Object.getOwnPropertyDescriptor(me.prototype,"updateAttributes"),me.prototype),me);function Xh(t){return(Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function u_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Uh(t,e){return(Uh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function c_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=mc(t);if(e){var i=mc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s_(this,n)}}function s_(t,e){if(e&&(Xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return La(t)}function La(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mc(t){return(mc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function za(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var jt,Vh,Wh,_c=(Hh=za((jn=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Uh(o,a)})(i,t);var e,n,r=c_(i);function i(o,a){var c,l,h,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),c=r.call(this,o,a,"circle"),l=La(c),h="modelType",_=He.CIRCLE_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,function(j,A,M,X){M&&Object.defineProperty(j,A,{enumerable:M.enumerable,configurable:M.configurable,writable:M.writable,value:M.initializer?M.initializer.call(X):void 0})}(La(c),"r",Hh,La(c)),c}return e=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,c=this.y,l=this.r;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:c-l,id:"".concat(this.id,"_0")},{x:a+l,y:c,id:"".concat(this.id,"_1")},{x:a,y:c+l,id:"".concat(this.id,"_2")},{x:a-l,y:c,id:"".concat(this.id,"_3")}]}}])&&u_(e.prototype,n),i}(Qn)).prototype,"r",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.circle.r}}),za(jn.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(jn.prototype,"width"),jn.prototype),za(jn.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(jn.prototype,"height"),jn.prototype),za(jn.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(jn.prototype,"anchors"),jn.prototype),jn);u(103);function Yh(t){return(Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Oc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Gh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Gh(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$h(Object(n),!0).forEach(function(r){Qh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$h(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qh(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function l_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zh(t,e,n){return(Zh=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=gi(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function Jh(t,e){return(Jh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function f_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=gi(t);if(e){var i=gi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p_(this,n)}}function p_(t,e){if(e&&(Yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Po(t)}function Po(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gi(t){return(gi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Qh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ur(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var vn,ed,td,wc=(Vh=Ur((jt=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Jh(o,a)})(i,t);var e,n,r=f_(i);function i(o,a){var c;return function(l,h){if(!(l instanceof h))throw new TypeError("Cannot call a class as a function")}(this,i),Qh(Po(c=r.call(this,o,a,"diamond")),"modelType",He.DIAMOND_NODE),qh(Po(c),"rx",Vh,Po(c)),qh(Po(c),"ry",Wh,Po(c)),c}return e=i,(n=[{key:"getData",value:function(){var o=this.rx,a=this.ry;return Kh(Kh({},Zh(gi(i.prototype),"getData",this).call(this)),{},{rx:o,ry:a})}},{key:"points",get:function(){var o=this.x,a=this.y,c=this.rx,l=this.ry;return[[o,a-l],[o+c,a],[o,a+l],[o-c,a]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(c){var l=Oc(c,1)[0];l<o&&(o=l),l>a&&(a=l)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(c){var l=Oc(c,2)[1];l<o&&(o=l),l>a&&(a=l)}),a-o}},{key:"anchors",get:function(){var o=this,a=this.anchorsOffset,c=this.points;return a&&a.length>0?this.getAnchorsByOffset():c.map(function(l,h){var _=Oc(l,2);return{x:_[0],y:_[1],id:"".concat(o.id,"_").concat(h)}})}}])&&l_(e.prototype,n),i}(Qn)).prototype,"rx",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wh=Ur(jt.prototype,"ry",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ur(jt.prototype,"points",[O.k],Object.getOwnPropertyDescriptor(jt.prototype,"points"),jt.prototype),Ur(jt.prototype,"pointsPosition",[O.k],Object.getOwnPropertyDescriptor(jt.prototype,"pointsPosition"),jt.prototype),Ur(jt.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(jt.prototype,"width"),jt.prototype),Ur(jt.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(jt.prototype,"height"),jt.prototype),Ur(jt.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(jt.prototype,"anchors"),jt.prototype),jt);function nd(t){return(nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function rd(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function od(t,e){return(od=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function d_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=xc(t);if(e){var i=xc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y_(this,n)}}function y_(t,e){if(e&&(nd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ko(t)}function ko(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xc(t){return(xc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function bi(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var $t,id,Ec=(ed=bi((vn=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&od(o,a)})(i,t);var e,n,r=d_(i);function i(o,a){var c,l,h,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),c=r.call(this,o,a,"ellipse"),l=ko(c),h="modelType",_=He.ELLIPSE_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,rd(ko(c),"rx",ed,ko(c)),rd(ko(c),"ry",td,ko(c)),c}return e=i,(n=[{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,c=this.y,l=this.rx,h=this.ry;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:c-h,id:"".concat(this.id,"_0")},{x:a+l,y:c,id:"".concat(this.id,"_1")},{x:a,y:c+h,id:"".concat(this.id,"_2")},{x:a-l,y:c,id:"".concat(this.id,"_3")}]}}])&&h_(e.prototype,n),i}(Qn)).prototype,"rx",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.ellipse.rx}}),td=bi(vn.prototype,"ry",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.ellipse.ry}}),bi(vn.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(vn.prototype,"width"),vn.prototype),bi(vn.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(vn.prototype,"height"),vn.prototype),bi(vn.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(vn.prototype,"anchors"),vn.prototype),vn);function ad(t){return(ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Sc(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return ud(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ud(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ud(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cd(t,e){return(cd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function g_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=jc(t);if(e){var i=jc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b_(this,n)}}function b_(t,e){if(e&&(ad(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ba(t)}function Ba(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jc(t){return(jc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function mi(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var _i,sd,Pc=(id=mi(($t=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&cd(o,a)})(i,t);var e,n,r=g_(i);function i(o,a){var c,l,h,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),c=r.call(this,o,a,"polygon"),l=Ba(c),h="modelType",_=He.POLYGON_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,function(j,A,M,X){M&&Object.defineProperty(j,A,{enumerable:M.enumerable,configurable:M.configurable,writable:M.writable,value:M.initializer?M.initializer.call(X):void 0})}(Ba(c),"points",id,Ba(c)),c}return e=i,(n=[{key:"pointsPosition",get:function(){var o=this.x,a=this.y,c=this.width,l=this.height;return this.points.map(function(h){return{x:h[0]+o-c/2,y:h[1]+a-l/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(c){var l=Sc(c,1)[0];l<o&&(o=l),l>a&&(a=l)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(c){var l=Sc(c,2)[1];l<o&&(o=l),l>a&&(a=l)}),a-o}},{key:"anchors",get:function(){var o=this,a=this.anchorsOffset,c=this.x,l=this.y,h=this.width,_=this.height,j=this.points;return a&&a.length>0?this.getAnchorsByOffset():j.map(function(A,M){var X=Sc(A,2),J=X[0],Z=X[1];return{x:c+J-h/2,y:l+Z-_/2,id:"".concat(o.id,"_").concat(M)}})}}])&&v_(e.prototype,n),i}(Qn)).prototype,"points",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),mi($t.prototype,"pointsPosition",[O.k],Object.getOwnPropertyDescriptor($t.prototype,"pointsPosition"),$t.prototype),mi($t.prototype,"width",[O.k],Object.getOwnPropertyDescriptor($t.prototype,"width"),$t.prototype),mi($t.prototype,"height",[O.k],Object.getOwnPropertyDescriptor($t.prototype,"height"),$t.prototype),mi($t.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor($t.prototype,"anchors"),$t.prototype),$t);function ld(t){return(ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function m_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fd(t,e){return(fd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function __(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=kc(t);if(e){var i=kc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O_(this,n)}}function O_(t,e){if(e&&(ld(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fa(t)}function Fa(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kc(t){return(kc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function pd(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ln,hd,dd,yd,Ac=(sd=pd((_i=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&fd(o,a)})(i,t);var e,n,r=__(i);function i(o,a){var c,l,h,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),c=r.call(this,o,a,"rect"),l=Fa(c),h="modelType",_=He.RECT_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,function(j,A,M,X){M&&Object.defineProperty(j,A,{enumerable:M.enumerable,configurable:M.configurable,writable:M.writable,value:M.initializer?M.initializer.call(X):void 0})}(Fa(c),"radius",sd,Fa(c)),c}return e=i,(n=[{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,c=this.y,l=this.width,h=this.height;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:c-h/2,id:"".concat(this.id,"_0")},{x:a+l/2,y:c,id:"".concat(this.id,"_1")},{x:a,y:c+h/2,id:"".concat(this.id,"_2")},{x:a-l/2,y:c,id:"".concat(this.id,"_3")}]}}])&&m_(e.prototype,n),i}(Qn)).prototype,"radius",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.rect.radius}}),pd(_i.prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(_i.prototype,"anchors"),_i.prototype),_i);function vd(t){return(vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Tc(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function w_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gd(t,e){return(gd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function x_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Dc(t);if(e){var i=Dc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E_(this,n)}}function E_(t,e){if(e&&(vd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mr(t)}function mr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dc(t){return(Dc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Oi(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ha,Mc=(hd=Oi((Ln=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&gd(o,a)})(i,t);var e,n,r=x_(i);function i(o,a){var c,l,h,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),c=r.call(this,o,a,"text"),l=mr(c),h="modelType",_=He.TEXT_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,Tc(mr(c),"fontSize",hd,mr(c)),Tc(mr(c),"fontFamily",dd,mr(c)),Tc(mr(c),"fontWeight",yd,mr(c)),c}return e=i,(n=[{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=Ea({rows:o,fontSize:this.fontSize,rowsLength:o.length}).width;return a>100?a:100}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=Ea({rows:o,fontSize:this.fontSize,rowsLength:o.length}).height;return a>20?a:20}}])&&w_(e.prototype,n),i}(Qn)).prototype,"fontSize",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.text.fontSize}}),dd=Oi(Ln.prototype,"fontFamily",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.text.fontFamily}}),yd=Oi(Ln.prototype,"fontWeight",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Gt.text.fontWeight}}),Oi(Ln.prototype,"width",[O.k],Object.getOwnPropertyDescriptor(Ln.prototype,"width"),Ln.prototype),Oi(Ln.prototype,"height",[O.k],Object.getOwnPropertyDescriptor(Ln.prototype,"height"),Ln.prototype),Ln);function bd(t){return(bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function S_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function md(t,e){return(md=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function j_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Nc(t);if(e){var i=Nc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return P_(this,n)}}function P_(t,e){if(e&&(bd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _d(t)}function _d(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nc(t){return(Nc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Nt,Od,wd,xd,Cc=(function(t,e,n,r,i){var o={};Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null)}((Ha=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&md(o,a)})(i,t);var e,n,r=j_(i);function i(o,a){var c,l,h,_;return function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")}(this,i),c=r.call(this,o,a,"html"),l=_d(c),h="modelType",_=He.HTML_NODE,h in l?Object.defineProperty(l,h,{value:_,enumerable:!0,configurable:!0,writable:!0}):l[h]=_,c}return e=i,(n=[{key:"anchors",get:function(){var o=this.anchorsOffset,a=this.x,c=this.y,l=this.width,h=this.height;return o&&o.length>0?this.getAnchorsByOffset():[{x:a,y:c-h/2,id:"".concat(this.id,"_0")},{x:a+l/2,y:c,id:"".concat(this.id,"_1")},{x:a,y:c+h/2,id:"".concat(this.id,"_2")},{x:a-l/2,y:c,id:"".concat(this.id,"_3")}]}}])&&S_(e.prototype,n),i}(Qn)).prototype,"anchors",[O.k],Object.getOwnPropertyDescriptor(Ha.prototype,"anchors"),Ha.prototype),Ha);function Rc(t,e,n,r){n&&Object.defineProperty(t,e,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function k_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vr(t,e,n,r,i){var o={};return Object.keys(r).forEach(function(a){o[a]=r[a]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(a,c){return c(t,e,a)||a},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(t,e,o),o=null),o}var Ed=Gt.snapline,Sd=(Od=Vr((Nt=function(){function t(r){var i,o,a;(function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")})(this,t),a=void 0,(o="graphModel")in(i=this)?Object.defineProperty(i,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[o]=a,Rc(this,"isShowHorizontal",Od,this),Rc(this,"isShowVertical",wd,this),Rc(this,"position",xd,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var e,n;return e=t,(n=[{key:"stroke",get:function(){return this.graphModel.theme.snapline.stroke||Ed.stroke}},{key:"strokeWidth",get:function(){return this.graphModel.theme.snapline.strokeWidth||Ed.strokeWidth}},{key:"getCenterSnapLine",value:function(r,i){for(var o=r.x,a=r.y,c=!1,l=!1,h=0;h<i.length;h++){var _=i[h];if(_.id!==r.id&&(o===_.x&&(c=!0),a===_.y&&(l=!0),c&&l))break}return{isShowVertical:c,isShowHorizontal:l,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(r,i){var o,a,c=!1,l=r.id;if(l){var h=this.graphModel.fakerNode;if(h&&h.id===l)a=rn(h);else{var _=this.graphModel.getNodeModel(l);a=rn(_)}}for(var j=0;j<i.length;j++){var A=i[j];if(A.id!==r.id){var M=rn(A);if(M.minY===a.minY||M.maxY===a.minY){c=!0,o=a.minY;break}if(M.minY===a.maxY||M.maxY===a.maxY){c=!0,o=a.maxY;break}}}return ut({isShowHorizontal:c,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,i){var o,a,c=!1,l=r.id;if(l){var h=this.graphModel.fakerNode;if(h&&h.id===l)a=rn(h);else{var _=this.graphModel.getNodeModel(l);a=rn(_)}}for(var j=0;j<i.length;j++){var A=i[j];if(A.id!==r.id){var M=rn(A);if(M.minX===a.minX||M.maxX===a.minX){c=!0,o=a.minX;break}if(M.minX===a.maxX||M.maxX===a.maxX){c=!0,o=a.maxX;break}}}return ut({isShowVertical:c,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,i){var o=this.getCenterSnapLine(r,i),a=o.isShowHorizontal,c=o.isShowVertical;if(!a){var l=this.getHorizontalSnapline(r,i);l.isShowHorizontal&&(o.isShowHorizontal=l.isShowHorizontal,o.position.y=l.position.y)}if(!c){var h=this.getVerticalSnapline(r,i);h.isShowVertical&&(o.isShowVertical=h.isShowVertical,o.position.x=h.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var i=r.isShowHorizontal,o=r.isShowVertical,a=r.position;this.position=a,this.isShowHorizontal=i,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var i=this.graphModel.nodes,o=this.getSnapLinePosition(r,i);this.setSnaplineInfo(o)}}])&&k_(e.prototype,n),t}()).prototype,"isShowHorizontal",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wd=Vr(Nt.prototype,"isShowVertical",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xd=Vr(Nt.prototype,"position",[O.A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vr(Nt.prototype,"stroke",[O.k],Object.getOwnPropertyDescriptor(Nt.prototype,"stroke"),Nt.prototype),Vr(Nt.prototype,"strokeWidth",[O.k],Object.getOwnPropertyDescriptor(Nt.prototype,"strokeWidth"),Nt.prototype),Vr(Nt.prototype,"clearSnapline",[O.i],Object.getOwnPropertyDescriptor(Nt.prototype,"clearSnapline"),Nt.prototype),Vr(Nt.prototype,"setNodeSnapLine",[O.i],Object.getOwnPropertyDescriptor(Nt.prototype,"setNodeSnapLine"),Nt.prototype),Nt);function jd(t){return(jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Xa(){return(Xa=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function A_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Pd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Pd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Pd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function T_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kd(t,e){return(kd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function D_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ic(t);if(e){var i=Ic(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M_(this,n)}}function M_(t,e){if(e&&(jd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return er(t)}function er(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ic(t){return(Ic=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function _r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N_=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&kd(o,a)})(i,t);var e,n,r=D_(i);function i(){var o;return function(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i),_r(er(o=r.call(this)),"preTargetNode",void 0),_r(er(o),"dragHandler",void 0),_r(er(o),"sourceRuleResults",void 0),_r(er(o),"targetRuleResults",void 0),_r(er(o),"onDragStart",function(){var a=o.props,c=a.x,l=a.y,h=a.nodeModel,_=a.graphModel,j=_.overlapMode;_.selectNodeById(h.id),j!==Mn.INCREASE&&_.toFront(h.id),o.setState({startX:c,startY:l,endX:c,endY:l})}),_r(er(o),"onDraging",function(a){var c=a.deltaX,l=a.deltaY,h=o.state,_=h.endX,j=h.endY,A=o.props,M=A.graphModel,X=A.nodeModel,J=M.transformMatrix,Z=M.nodes,ee=A_(J.moveCanvasPointByHtml([_,j],c,l),2),Q=ee[0],oe=ee[1];o.setState({endX:Q,endY:oe,draging:!0});var fe=hf({x:_,y:j},Z);if(fe){var le=fe.node;if(o.preTargetNode=le,!o.targetRuleResults.has(le.id)){var je=X.isAllowConnectedAsSource(le),ke=le.isAllowConnectedAsTarget(X);o.sourceRuleResults.set(le.id,_f(je)),o.targetRuleResults.set(le.id,_f(ke))}var Ne=o.sourceRuleResults.get(le.id).isAllPass,Ge=o.targetRuleResults.get(le.id).isAllPass;Ne&&Ge?le.setElementState($e.ALLOW_CONNECT):le.setElementState($e.NOT_ALLOW_CONNECT)}else o.preTargetNode&&o.preTargetNode.state!==$e.DEFAULT&&o.preTargetNode.setElementState($e.DEFAULT)}),_r(er(o),"onDragEnd",function(){o.checkEnd(),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1})}),_r(er(o),"checkEnd",function(){var a=o.props,c=a.graphModel,l=a.nodeModel,h=a.x,_=a.y,j=a.eventCenter,A=a.id,M=c.nodes,X=c.edgeType,J=o.state,Z=J.endX,ee=J.endY,Q=J.draging,oe=hf({x:Z,y:ee},M);if(o.preTargetNode&&o.preTargetNode.state!==$e.DEFAULT&&o.preTargetNode.setElementState($e.DEFAULT),Q&&oe&&oe.node){var fe=oe.node,le=o.sourceRuleResults.get(fe.id)||{},je=le.isAllPass,ke=le.msg,Ne=o.targetRuleResults.get(fe.id)||{},Ge=Ne.isAllPass,Je=Ne.msg;if(je&&Ge)fe.setElementState($e.ALLOW_CONNECT),h===oe.anchor.x&&_===oe.anchor.y||c.createEdge({type:X,sourceNodeId:l.id,sourceAnchorId:A,startPoint:{x:h,y:_},targetNodeId:oe.node.id,targetAnchorId:oe.anchor.id,endPoint:{x:oe.anchor.x,y:oe.anchor.y}});else{var Hn=fe.getData();j.emit(Fe.CONNECTION_NOT_ALLOWED,{data:Hn,msg:Je||ke})}}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=Na({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return e=i,(n=[{key:"isShowLine",value:function(){var o=this.state,a=o.startX,c=o.startY,l=o.endX,h=o.endY;return Nn(a,c,l,h)>10}},{key:"render",value:function(){var o=this.state,a=o.startX,c=o.startY,l=o.endX,h=o.endY,_=this.props,j=_.x,A=_.y,M=_.style,X=_.edgeStyle;return L("g",{className:"lf-anchor"},L(Ca,Xa({className:"lf-node-anchor-hover",x:j,y:A},_.hoverStyle,{onMouseDown:this.dragHandler})),L(Ca,Xa({className:"lf-node-anchor",x:j,y:A},M,{onMouseDown:this.dragHandler})),this.isShowLine()&&L(So,Xa({x1:a,y1:c,x2:l,y2:h,"pointer-events":"none"},X)))}}])&&T_(e.prototype,n),i}(I);function Ad(t){return(Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function C_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Td(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Td(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Td(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lc(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.value,a=t.color,c=a===void 0?"#000000":a,l=t.fontSize,h=t.fill,_=h===void 0?"currentColor":h,j=t.model,A=t.fontFamily,M=A===void 0?"":A,X=t.lineHeight,J=t.autoWrap,Z=J!==void 0&&J,ee=t.wrapPadding,Q=ee===void 0?"0, 0":ee,oe={textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:_};if(Object.entries(t).forEach(function(Er){var Kr=C_(Er,2),ds=Kr[0],Za=Kr[1];Ad(Za)!=="object"&&(oe[ds]=Za)}),o){var fe=String(o).split(/[\r\n]/g),le=fe.length,je=j.BaseType,ke=j.width,Ne=j.textWidth,Ge=j.modelType;if(je===_t.NODE&&Ge!==He.TEXT_NODE&&Z||je===_t.EDGE&&Z&&Ne){var Je=Ne||ke,Hn=mf({rows:fe,style:{fontSize:"".concat(l,"px"),width:"".concat(Je,"px"),fontFamily:M,lineHeight:X,padding:Q},rowsLength:le,className:"lf-get-text-height"}),$r=j.height>Hn?j.height:Hn;return L("g",null,L("foreignObject",{width:Je,height:$r,x:oe.x-Je/2,y:oe.y-$r/2},L("div",{className:"lf-node-text-auto-wrap",style:{boxSizing:"border-box",display:"flex",justifyContent:"center",alignItems:"center",border:"1px solid transparent",minHeight:j.height,width:Je,color:c,padding:Q}},L("div",{className:"lf-node-text-auto-wrap-content",style:{fontSize:l,fontFamily:M,lineHeight:X,background:"transparent",textAlign:"center",wordBreak:"break-all"}},fe.map(function(Er){return L("div",null,Er)})))))}if(le>1){var xr=fe.map(function(Er,Kr){return L("tspan",{className:"lf-text-tspan",x:n,y:i+(Kr-(le-1)/2)*(l+2)},Er)});return L("text",oe,xr)}return L("text",oe,o)}}function Dd(t){return(Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Md(){return(Md=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function R_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Nd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Nd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Nd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function I_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cd(t,e){return(Cd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function L_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=zc(t);if(e){var i=zc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return z_(this,n)}}function z_(t,e){if(e&&(Dd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Or(t)}function Or(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zc(t){return(zc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Wr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Rd=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Cd(o,a)})(i,t);var e,n,r=L_(i);function i(o){var a;(function(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")})(this,i),Wr(Or(a=r.call(this)),"dragHandler",void 0),Wr(Or(a),"sumDeltaX",0),Wr(Or(a),"sumDeltaY",0),Wr(Or(a),"stepDrag",void 0),Wr(Or(a),"onDraging",function(h){var _=h.deltaX,j=h.deltaY,A=a.props,M=A.model,X=R_(A.graphModel.transformMatrix.fixDeltaXY(_,j),2),J=X[0],Z=X[1];M.moveText(J,Z)}),Wr(Or(a),"dblClickHandler",function(){a.props.editable&&a.props.model.setElementState($e.TEXT_EDIT)}),Wr(Or(a),"mouseDownHandle",function(h){var _=a.props,j=_.draggable,A=_.graphModel.editConfig.nodeTextDraggable;(j||A)&&a.stepDrag.handleMouseDown(h)});var c=o.model,l=o.draggable;return a.stepDrag=new di({onDraging:a.onDraging,step:1,model:c,isStopPropagation:l}),a}return e=i,(n=[{key:"getShape",value:function(){var o=this.props,a=o.model,c=o.style,l=a.text,h=l.value;return L(Lc,Md({},{x:l.x,y:l.y,className:"lf-element-text",value:h},c,{model:a}))}},{key:"render",value:function(){if(this.props.model.text)return L("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&I_(e.prototype,n),i}(I),B_=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Id(t){return(Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ld(){return(Ld=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function zd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zd(Object(n),!0).forEach(function(r){un(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Bd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Bd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hd(t,e){return(Hd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function H_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Bc(t);if(e){var i=Bc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return X_(this,n)}}function X_(t,e){if(e&&(Id(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return an(t)}function an(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bc(t){return(Bc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function un(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tr=function(t){(function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),c&&Hd(a,c)})(o,t);var e,n,r,i=H_(o);function o(a){var c;(function(j,A){if(!(j instanceof A))throw new TypeError("Cannot call a class as a function")})(this,o),un(an(c=i.call(this)),"stepDrag",void 0),un(an(c),"contextMenuTime",void 0),un(an(c),"startTime",void 0),un(an(c),"clickTimer",void 0),un(an(c),"onDraging",function(j){var A=j.deltaX,M=j.deltaY,X=c.props,J=X.model,Z=X.graphModel;c.state.isDraging||c.setState({isDraging:!0});var ee=F_(Z.transformMatrix.fixDeltaXY(A,M),2),Q=ee[0],oe=ee[1];Z.moveNode(J.id,Q,oe)}),un(an(c),"onDragEnd",function(){c.setState({isDraging:!1})}),un(an(c),"handleClick",function(j){if(c.startTime&&!(new Date().getTime()-c.startTime>200)){var A=c.props,M=A.model,X=A.eventCenter,J=A.graphModel,Z={data:M.getData(),e:j,position:J.getPointByClient({x:j.clientX,y:j.clientY})},ee=j.button===2,Q=j.detail===2;if(!ee){var oe=J.editConfig.metaKeyMultipleSelected;J.selectNodeById(M.id,j.metaKey&&oe),c.toFront(),Q?(J.editConfig.nodeTextEdit&&M.text.editable&&(M.setSelected(!1),J.setElementStateById(M.id,$e.TEXT_EDIT)),X.emit(Fe.NODE_DBCLICK,Z)):(X.emit(Fe.ELEMENT_CLICK,Z),X.emit(Fe.NODE_CLICK,Z))}}}),un(an(c),"handleContextMenu",function(j){j.preventDefault();var A=c.props,M=A.model,X=A.eventCenter,J=A.graphModel,Z=M.getData(),ee=J.getPointByClient({x:j.clientX,y:j.clientY});J.setElementStateById(M.id,$e.SHOW_MENU,ee.domOverlayPosition),J.selectNodeById(M.id),X.emit(Fe.NODE_CONTEXTMENU,{data:Z,e:j,position:ee}),c.toFront()}),un(an(c),"handleMouseDown",function(j){var A=c.props,M=A.model,X=A.graphModel;c.toFront(),c.startTime=new Date().getTime(),X.editConfig.adjustNodePosition&&M.draggable&&c.stepDrag&&c.stepDrag.handleMouseDown(j)}),un(an(c),"setHoverON",function(j){if(!c.state.isHovered){c.setState({isHovered:!0});var A=c.props,M=A.model,X=A.eventCenter,J=M.getData();M.setHovered(!0),X.emit(Fe.NODE_MOUSEENTER,{data:J,e:j})}}),un(an(c),"setHoverOFF",function(j){c.setState({isHovered:!1});var A=c.props,M=A.model,X=A.eventCenter,J=M.getData();M.setHovered(!1),X.emit(Fe.NODE_MOUSELEAVE,{data:J,e:j})}),un(an(c),"onMouseOut",function(j){B_&&c.setHoverOFF(j)});var l=a.graphModel.gridSize,h=a.eventCenter,_=a.model;return c.stepDrag=new di({onDraging:c.onDraging,onDragEnd:c.onDragEnd,step:l,eventType:"NODE",eventCenter:h,model:_}),c.state={isDraging:!1,isHovered:!1},c}return e=o,r=[{key:"getModel",value:function(a){return a}}],(n=[{key:"getShapeStyle",value:function(){var a=this.props.model;return{width:a.width,height:a.height,fill:a.fill,fillOpacity:a.fillOpacity,strokeWidth:a.strokeWidth,stroke:a.stroke,strokeOpacity:a.strokeOpacity,opacity:a.opacity,outlineColor:a.outlineColor}}},{key:"getAttributes",value:function(){var a=this.props.model,c=a.id,l=a.properties,h=l===void 0?{}:l,_=a.type,j=a.x,A=a.y,M=a.isSelected,X=a.isHovered,J=a.text,Z=this.getShapeStyle();return Yr({id:c,properties:Yr({},h),type:_,x:j,y:A,isSelected:M,isHovered:X,text:Yr({},J)},Z)}},{key:"getProperties",value:function(){return this.props.model.getProperties()}},{key:"getAnchorStyle",value:function(){return Yr({},this.props.graphModel.theme.anchor)}},{key:"getAnchorHoverStyle",value:function(){return Yr({},this.props.graphModel.theme.anchorHover)}},{key:"getNewEdgeStyle",value:function(){return Yr({},this.props.graphModel.theme.anchorLine)}},{key:"getAnchors",value:function(){var a=this,c=this.props,l=c.model,h=c.graphModel,_=c.eventCenter,j=l.isSelected,A=l.isHitable,M=this.state,X=M.isHovered,J=M.isDraging;if(A&&(j||X)){var Z=this.getAnchorStyle(),ee=this.getAnchorHoverStyle(),Q=this.getNewEdgeStyle();return ma(l.anchors,function(oe,fe){return L(N_,Ld({},oe,{nodeDraging:J,style:Z,hoverStyle:ee,edgeStyle:Q,anchorIndex:fe,nodeModel:l,eventCenter:_,graphModel:h,setHoverOFF:a.setHoverOFF}))})}return[]}},{key:"getTextStyle",value:function(){return Yr({},this.props.graphModel.theme.nodeText)}},{key:"getText",value:function(){var a=this.props,c=a.model,l=a.graphModel;if(c.state===$e.TEXT_EDIT)return"";var h=this.getTextStyle();if(c.text){var _=l.editConfig,j=!1;return(c.text.draggable||_.nodeTextDraggable)&&(j=!0),L(Rd,{editable:_.nodeTextEdit&&c.text.editable,style:h,model:c,graphModel:l,draggable:j})}}},{key:"getStateClassName",value:function(){var a="lf-node";switch(this.props.model.state){case $e.ALLOW_CONNECT:a+=" lf-node-allow";break;case $e.NOT_ALLOW_CONNECT:a+=" lf-node-not-allow";break;default:a+=" lf-node-default"}return this.state.isDraging&&(a+=" lf-dragging"),a}},{key:"toFront",value:function(){var a=this.props,c=a.model,l=a.graphModel;l.overlapMode!==Mn.INCREASE&&l.toFront(c.id)}},{key:"render",value:function(){var a,c=this.props,l=c.model,h=c.graphModel,_=h.editConfig,j=_.hideAnchors,A=_.adjustNodePosition,M=h.gridSize,X=h.transformMatrix.SCALE_X,J=l.isHitable,Z=l.draggable,ee=L("g",{className:"lf-node-content"},this.getShape(),this.getText(),j?null:this.getAnchors());return J?(A&&Z&&this.stepDrag.setStep(M*X),a=L("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},ee)):a=L("g",{className:this.getStateClassName()},ee),a}}])&&Fd(e.prototype,n),r&&Fd(e,r),o}(I);function Xd(t){return(Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ud(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ud(Object(n),!0).forEach(function(r){U_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ud(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Fc(t,e,n){return(Fc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=Ao(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function Vd(t,e){return(Vd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Y_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Ao(t);if(e){var i=Ao(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return G_(this,n)}}function G_(t,e){if(e&&(Xd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Ao(t){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Hc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Vd(o,a)})(i,t);var e,n,r=Y_(i);function i(){return V_(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Fc(Ao(i.prototype),"getShapeStyle",this).call(this),a=this.props.model.radius;return Ua(Ua({},o),{},{radius:a})}},{key:"getAttributes",value:function(){var o=Fc(Ao(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return Ua(Ua({},o),a)}},{key:"getShape",value:function(){return L(br,this.getAttributes())}}])&&W_(e.prototype,n),i}(tr);function Wd(t){return(Wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Yd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Va(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Yd(Object(n),!0).forEach(function(r){$_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Yd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $_(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K_(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q_(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xc(t,e,n){return(Xc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=To(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function Gd(t,e){return(Gd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function Z_(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=To(t);if(e){var i=To(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return J_(this,n)}}function J_(t,e){if(e&&(Wd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function To(t){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Uc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Gd(o,a)})(i,t);var e,n,r=Z_(i);function i(){return K_(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Xc(To(i.prototype),"getShapeStyle",this).call(this),a=this.props.model.r;return Va(Va({},o),{},{r:a})}},{key:"getAttributes",value:function(){var o=Xc(To(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return Va(Va({},o),a)}},{key:"getShape",value:function(){return L(Ca,this.getAttributes())}}])&&q_(e.prototype,n),i}(tr);function $d(t){return($d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Q_(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Kd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Kd(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Kd(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qd(t){var e=t.points,n=t.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:"",className:"lf-basic-shape ".concat(n)};return Object.entries(t).forEach(function(i){var o=Q_(i,2),a=o[0],c=o[1];$d(c)!=="object"&&(r[a]=c)}),r.points=e.map(function(i){return i.join(",")}).join(" "),L("polygon",r)}function Zd(t){return(Zd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Jd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Jd(Object(n),!0).forEach(function(r){eO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jd(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Vc(t,e,n){return(Vc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=Do(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function Qd(t,e){return(Qd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function rO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Do(t);if(e){var i=Do(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return oO(this,n)}}function oO(t,e){if(e&&(Zd(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Do(t){return(Do=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Wc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Qd(o,a)})(i,t);var e,n,r=rO(i);function i(){return tO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=Vc(Do(i.prototype),"getShapeStyle",this).call(this),a=this.props.model.points;return Wa(Wa({},o),{},{points:a})}},{key:"getAttributes",value:function(){var o=Vc(Do(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return Wa(Wa({},o),a)}},{key:"getShape",value:function(){var o=this.getAttributes(),a=o.width,c=o.height,l=o.x,h=o.y,_=o.fill,j=o.fillOpacity,A=o.strokeWidth,M=o.stroke,X=o.strokeOpacity,J=o.points;return L("g",{transform:"matrix(1 0 0 1 ".concat(l-a/2," ").concat(h-c/2,")")},L(qd,{fill:_,fillOpacity:j,strokeWidth:A,stroke:M,strokeOpacity:X,points:J}))}}])&&nO(e.prototype,n),i}(tr);function ey(t){return(ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ty(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ya(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ty(Object(n),!0).forEach(function(r){iO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ty(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Yc(t,e,n){return(Yc=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=Mo(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function ny(t,e){return(ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function cO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Mo(t);if(e){var i=Mo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sO(this,n)}}function sO(t,e){if(e&&(ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Mo(t){return(Mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var Gc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&ny(o,a)})(i,t);var e,n,r=cO(i);function i(){return aO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getShapeStyle",value:function(){var o=this.props.model.points;return Ya(Ya({},Yc(Mo(i.prototype),"getShapeStyle",this).call(this)),{},{points:o})}},{key:"getAttributes",value:function(){var o=Yc(Mo(i.prototype),"getAttributes",this).call(this),a=this.getShapeStyle();return Ya(Ya({},o),a)}},{key:"getShape",value:function(){var o=this.props.model.points,a=this.getAttributes();return L("g",null,L(qd,{fill:a.fill,fillOpacity:a.fillOpacity,strokeWidth:a.strokeWidth,stroke:a.stroke,strokeOpacity:a.strokeOpacity,points:o}))}}])&&uO(e.prototype,n),i}(tr);function ry(t){return(ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function lO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return oy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return oy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function oy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fO(t){var e=t.x,n=e===void 0?0:e,r=t.y,i=r===void 0?0:r,o=t.rx,a=o===void 0?4:o,c=t.ry,l={cx:n,cy:i,rx:a,ry:c===void 0?4:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach(function(h){var _=lO(h,2),j=_[0],A=_[1];ry(A)!=="object"&&(l[j]=A)}),L("ellipse",l)}function iy(t){return(iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function ay(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ay(Object(n),!0).forEach(function(r){pO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ay(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function cy(t,e,n){return(cy=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=wi(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function sy(t,e){return(sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function yO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wi(t);if(e){var i=wi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return vO(this,n)}}function vO(t,e){if(e&&(iy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function wi(t){return(wi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var $c=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&sy(o,a)})(i,t);var e,n,r=yO(i);function i(){return hO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=cy(wi(i.prototype),"getAttributes",this).call(this),a=this.props.model,c=a.rx,l=a.ry;return uy(uy({},o),{},{rx:c,ry:l})}},{key:"getShape",value:function(){return L(fO,this.getAttributes())}}])&&dO(e.prototype,n),i}(tr);function ly(t){return(ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function fy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fy(Object(n),!0).forEach(function(r){gO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function hy(t,e){return(hy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function _O(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Kc(t);if(e){var i=Kc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return OO(this,n)}}function OO(t,e){if(e&&(ly(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Kc(t){return(Kc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var qc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&hy(o,a)})(i,t);var e,n,r=_O(i);function i(){return bO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getBackgroud",value:function(){var o=this.getAttributes().text,a=this.getTextStyle();if(o&&o.value&&a.backgroundStyle&&a.backgroundStyle.fill!=="transparnet"){var c=a.fontSize,l=o.value,h=o.x,_=o.y,j=String(l).split(/[\r\n]/g),A=j.length;j&&j.forEach(function(Z){ac(Z)});var M=Ea({rows:j,fontSize:c,rowsLength:A}),X=M.width,J=M.height;return L(br,py(py({},a.backgroundStyle),{},{x:h-1,y:_-1,width:X,height:J}))}}},{key:"getShape",value:function(){var o=this.getAttributes();return L("g",null,this.getBackgroud(),L(Lc,o))}}])&&mO(e.prototype,n),i}(tr);function dy(t){return(dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function wO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function yy(t,e){return(yy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function EO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Jc(t);if(e){var i=Jc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return SO(this,n)}}function SO(t,e){if(e&&(dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zc(t)}function Zc(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jc(t){return(Jc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function vy(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qc=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&yy(o,a)})(i,t);var e,n,r=EO(i);function i(){var o;wO(this,i);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return vy(Zc(o=r.call.apply(r,[this].concat(c))),"ref",void 0),vy(Zc(o),"setRef",function(h){o.ref=h}),o}return e=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"componentDidMount",value:function(){this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.getAttributes(),a=o.x,c=o.y,l=o.width,h=o.height;return L("foreignObject",{x:a-l/2,y:c-h/2,width:l,height:h,ref:this.setRef})}}])&&xO(e.prototype,n),i}(tr);function gy(t){return(gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function jO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return by(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return by(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function by(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function my(t){var e={d:""};return Object.entries(t).forEach(function(n){var r=jO(n,2),i=r[0],o=r[1];gy(o)!=="object"&&(e[i]=o)}),L("path",e)}my.defaultProps={strokeDasharray:""};var xi=my;function _y(t){return(_y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Oy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wy(t,e){return(wy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function TO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=es(t);if(e){var i=es(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return DO(this,n)}}function DO(t,e){if(e&&(_y(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function es(t){return(es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var xy=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&wy(o,a)})(i,t);var e,n,r=TO(i);function i(){return kO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getArrowAttibutes",value:function(){var o=this.props,a=o.arrowInfo,c=o.style,l=a.start,h=a.end,_={start:l,end:h,offset:c.offset,verticalLength:c.verticalLength,type:"end"},j=fi(_),A=j.leftX,M=j.leftY,X=j.rightX,J=j.rightY;return function(Z){for(var ee=1;ee<arguments.length;ee++){var Q=arguments[ee]!=null?arguments[ee]:{};ee%2?Oy(Object(Q),!0).forEach(function(oe){PO(Z,oe,Q[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(Q)):Oy(Object(Q)).forEach(function(oe){Object.defineProperty(Z,oe,Object.getOwnPropertyDescriptor(Q,oe))})}return Z}({d:"M".concat(A," ").concat(M," L").concat(h.x," ").concat(h.y," L").concat(X," ").concat(J," z")},c)}},{key:"getShape",value:function(){var o=this.getArrowAttibutes(),a=o.d,c=o.strokeWidth,l=o.stroke,h=o.fill;return L(xi,{d:a,fill:h,strokeWidth:c,stroke:l})}},{key:"render",value:function(){return L("g",{className:"lf-arrow"},this.getShape())}}])&&AO(e.prototype,n),i}(I);function Ey(t){return(Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Sy(){return(Sy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function jy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jy(Object(n),!0).forEach(function(r){rs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Py(t,e){return(Py=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function NO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ns(t);if(e){var i=ns(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return CO(this,n)}}function CO(t,e){if(e&&(Ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ts(t)}function ts(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ns(t){return(ns=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function rs(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var RO=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Py(o,a)})(i,t);var e,n,r=NO(i);function i(o){var a;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,i),rs(ts(a=r.call(this,o)),"setHoverON",function(){a.setState({isHoverd:!0})}),rs(ts(a),"setHoverOFF",function(){a.setState({isHoverd:!1})}),a.state={isHoverd:!1},a}return e=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,a=this.props.style,c=o.text,l=o.textWidth,h=Dn(a.background,"fill","stroke","radius","height");if(this.state.isHoverd&&a.hoverBackground&&(h=Gr(Gr({},h),a.hoverBackground)),c&&c.value&&h.fill!=="transparnet"){var _,j=a.fontSize,A=a.autoWrap,M=a.lineHeight,X=a.wrapPadding,J=c.value,Z=c.x,ee=c.y,Q=String(J).split(/[\r\n]/g),oe=Q.length;if(A&&l){var fe=mf({rows:Q,style:{fontSize:"".concat(j,"px"),width:"".concat(l,"px"),lineHeight:M,padding:X},rowsLength:oe,className:"lf-get-text-height"});_=Gr(Gr({},h),{},{x:Z-1,y:ee-1,width:l,height:fe})}else{Q&&Q.forEach(function(Ne){ac(Ne)});var le=Ea({rows:Q,fontSize:j,rowsLength:oe}),je=le.width,ke=le.height;_=Gr(Gr({},h),{},{x:Z-1,y:ee-1,width:je,height:ke})}return L(br,_)}}},{key:"getShape",value:function(){var o=this.props,a=o.model,c=o.style,l=a.text,h=l.value,_=Gr({x:l.x,y:l.y,className:"lf-element-text",value:h},c);return L("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),L(Lc,Sy({},_,{model:a})))}}])&&MO(e.prototype,n),i}(Rd);function ky(t){return(ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ay(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ay(Object(n),!0).forEach(function(r){Bn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ay(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ty(t,e){return(Ty=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function BO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=os(t);if(e){var i=os(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return FO(this,n)}}function FO(t,e){if(e&&(ky(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zn(t)}function zn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function os(t){return(os=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Bn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ei=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ty(o,a)})(i,t);var e,n,r=BO(i);function i(){var o;LO(this,i);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return Bn(zn(o=r.call.apply(r,[this].concat(c))),"startTime",void 0),Bn(zn(o),"contextMenuTime",void 0),Bn(zn(o),"clickTimer",void 0),Bn(zn(o),"handleHover",function(h,_){var j=o.props,A=j.model,M=j.eventCenter;A.setHovered(h);var X=h?Fe.EDGE_MOUSEENTER:Fe.EDGE_MOUSELEAVE,J=A.getData();M.emit(X,{data:J,e:_})}),Bn(zn(o),"setHoverON",function(h){o.handleHover(!0,h)}),Bn(zn(o),"setHoverOFF",function(h){o.handleHover(!1,h)}),Bn(zn(o),"handleContextMenu",function(h){h.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var _=o.props,j=_.model,A=_.graphModel,M=_.eventCenter,X=A.getPointByClient({x:h.clientX,y:h.clientY});A.setElementStateById(j.id,$e.SHOW_MENU,X.domOverlayPosition),o.toFront(),A.selectEdgeById(j.id);var J=j==null?void 0:j.getData();M.emit(Fe.EDGE_CONTEXTMENU,{data:J,e:h,position:X})}),Bn(zn(o),"handleMouseDown",function(h){h.stopPropagation(),o.startTime=new Date().getTime()}),Bn(zn(o),"handleMouseUp",function(h){if(o.startTime&&!(new Date().getTime()-o.startTime>200||h.button===2)){var _=h.detail===2,j=o.props,A=j.model,M=j.graphModel,X=j.eventCenter,J=A==null?void 0:A.getData(),Z=M.getPointByClient({x:h.clientX,y:h.clientY});if(_){var ee=M.editConfig,Q=M.textEditElement;if(Q&&Q.id===A.id&&M.setElementStateById(A.id,$e.DEFAULT),ee.edgeTextEdit&&A.text.editable&&M.setElementStateById(A.id,$e.TEXT_EDIT),A.modelType===He.POLYLINE_EDGE){var oe=A,fe=M.getPointByClient({x:h.x,y:h.y}).canvasOverlayPosition,le=fe.x,je=fe.y,ke=Xf({x:le,y:je},oe.points);oe.dbClickPosition=ke}X.emit(Fe.EDGE_DBCLICK,{data:J,e:h,position:Z})}else X.emit(Fe.ELEMENT_CLICK,{data:J,e:h,position:Z}),X.emit(Fe.EDGE_CLICK,{data:J,e:h,position:Z});var Ne=M.editConfig.metaKeyMultipleSelected;M.selectEdgeById(A.id,h.metaKey&&Ne),o.toFront()}}),o}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.model,a=o.strokeWidth,c=o.strokeOpacity,l=o.strokeDashArray,h=o.isSelected,_=o.isHovered,j=o.hoverStroke,A=o.selectedStroke,M=o.properties,X=this.props.model.stroke;return _?X=j:h&&(X=A),{stroke:X,strokeWidth:a,strokeOpacity:c,strokeDashArray:l,isSelected:h,isHovered:_,hoverStroke:j,selectedStroke:A,properties:IO({},M)}}},{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,c=o.graphModel;if(a.state===$e.TEXT_EDIT)return"";var l=c.theme.edgeText,h=this.getTextStyle(),_=ut({},l,h),j=!1,A=c.editConfig;return(a.text.draggable||A.edgeTextDraggable)&&(j=!0),L(RO,{editable:A.edgeTextEdit&&a.text.editable,model:a,graphModel:c,style:_,draggable:j})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,c=o.endPoint,l=o.isSelected;return{start:a,end:c,hover:this.state.hover,isSelected:l}}},{key:"getArrowStyle",value:function(){var o=this.getAttributes().stroke,a=this.props.graphModel.theme.arrow;return{stroke:o,strokeWidth:1,fill:o,offset:a.offset,verticalLength:a.verticalLength}}},{key:"getArrow",value:function(){var o=this.getArrowInfo(),a=o.start,c=o.end;if(a&&c&&(a.x!==c.x||a.y!==c.y)){var l=this.getArrowStyle();return L(xy,{arrowInfo:o,style:l})}}},{key:"getAppendWidth",value:function(){return L("g",null)}},{key:"getAppend",value:function(){return L("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,c=o.model;a.overlapMode!==Mn.INCREASE&&a.toFront(c.id)}},{key:"render",value:function(){return L("g",{className:"lf-edge",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow())}}])&&zO(e.prototype,n),i}(I);function Dy(t){return(Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function My(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ny(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?My(Object(n),!0).forEach(function(r){HO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):My(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Cy(t,e,n){return(Cy=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=Si(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function Ry(t,e){return(Ry=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function VO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Si(t);if(e){var i=Si(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return WO(this,n)}}function WO(t,e){if(e&&(Dy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Si(t){return(Si=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var is=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Ry(o,a)})(i,t);var e,n,r=VO(i);function i(){return XO(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=this.props.model,a=o.startPoint,c=o.endPoint;return Ny(Ny({},Cy(Si(i.prototype),"getAttributes",this).call(this)),{},{startPoint:a,endPoint:c})}},{key:"getEdge",value:function(){var o=this.getAttributes(),a=o.stroke,c=o.startPoint,l=o.endPoint,h=o.strokeWidth,_=o.strokeOpacity,j=o.strokeDashArray;return L(So,{x1:c.x,y1:c.y,x2:l.x,y2:l.y,strokeOpacity:_,strokeWidth:h,stroke:a,strokeDasharray:j})}},{key:"getShape",value:function(){return L("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=function(A){var M,X=A.start,J=A.end;if(X.x===J.x&&X.y===J.y)M="";else{var Z={start:X,end:J,offset:10,verticalLength:5},ee=fi(Sa(Sa({},Z),{},{type:"start"})),Q=fi(Sa(Sa({},Z),{},{type:"end"}));M="M".concat(ee.leftX," ").concat(ee.leftY,` 
    L`).concat(ee.rightX," ").concat(ee.rightY,` 
    L`).concat(Q.rightX," ").concat(Q.rightY,`
    L`).concat(Q.leftX," ").concat(Q.leftY," z")}return{d:M,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),c=a.d,l=a.strokeWidth,h=a.fill,_=a.strokeDasharray,j=a.stroke;return L(xi,{d:c,fill:h,strokeWidth:l,stroke:j,strokeDasharray:_})}}])&&UO(e.prototype,n),i}(Ei);function Iy(t){return(Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function YO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Ly(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ly(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var GO=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach(function(n){var r=YO(n,2),i=r[0],o=r[1];Iy(o)!=="object"&&(e[i]=o)}),L("polyline",e)};function zy(t){return(zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function By(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function No(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?By(Object(n),!0).forEach(function(r){rr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):By(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $O(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Fy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Fy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Fy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Hy(t,e,n){return(Hy=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=ji(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function Xy(t,e){return(Xy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function qO(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ji(t);if(e){var i=ji(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ZO(this,n)}}function ZO(t,e){if(e&&(zy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nr(t)}function nr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ji(t){return(ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function rr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var as=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&Xy(o,a)})(i,t);var e,n,r=qO(i);function i(){var o;return function(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i),rr(nr(o=r.call(this)),"drag",void 0),rr(nr(o),"isDraging",void 0),rr(nr(o),"appendInfo",void 0),rr(nr(o),"dragHandler",void 0),rr(nr(o),"onDragStart",function(){o.props.model.dragAppendStart()}),rr(nr(o),"onDraging",function(a){var c=a.deltaX,l=a.deltaY,h=o.props,_=h.model,j=h.graphModel;o.isDraging=!0;var A=$O(j.transformMatrix.fixDeltaXY(c,l),2),M=A[0],X=A[1],J=_;o.appendInfo=J.dragAppend(o.appendInfo,{x:M,y:X})}),rr(nr(o),"onDragEnd",function(){o.props.model.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0}),rr(nr(o),"beforeDragStart",function(a,c){o.dragHandler(a),o.appendInfo=c}),o.drag=Na({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return e=i,(n=[{key:"getAttributes",value:function(){var o=Hy(ji(i.prototype),"getAttributes",this).call(this),a=this.props.model.points;return No(No({},o),{},{points:a})}},{key:"getEdge",value:function(){var o=this.getAttributes(),a=o.points,c=o.strokeWidth,l=o.stroke,h=o.strokeDashArray;return L(GO,{points:a,strokeWidth:c,stroke:l,strokeDasharray:h})}},{key:"getShape",value:function(){return L("g",null,this.getEdge())}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,c=o.isSelected,l={start:null,end:null,hover:this.state.hover,isSelected:c},h=wo(a);return h.length>=2&&(l.start=h[h.length-2],l.end=h[h.length-1]),l}},{key:"getAppendAttibutes",value:function(o){var a,c=o.start,l=o.end;if(c.x===l.x&&c.y===l.y)a="";else{var h={start:c,end:l,offset:10,verticalLength:5},_=fi(No(No({},h),{},{type:"start"})),j=fi(No(No({},h),{},{type:"end"}));a="M".concat(_.leftX," ").concat(_.leftY,` 
      L`).concat(_.rightX," ").concat(_.rightY,` 
      L`).concat(j.rightX," ").concat(j.rightY,`
      L`).concat(j.leftX," ").concat(j.leftY," z")}return{d:a,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttibutes(o),c=a.d,l=a.strokeWidth,h=a.fill,_=a.strokeDasharray,j=a.stroke;return L(xi,{d:c,fill:h,strokeWidth:l,stroke:j,strokeDasharray:_})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,c=a.model,l=a.graphModel,h=c.pointsList,_=c.draggable,j=[],A=function(X){var J="lf-polyline-append",Z={start:{x:h[X].x,y:h[X].y},end:{x:h[X+1].x,y:h[X+1].y},startIndex:X,endIndex:X+1,direction:""},ee=L("g",{className:J},o.getAppendShape(Z));l.editConfig.adjustEdge&&_?(o.dragHandler=o.drag,Z.start.x===Z.end.x?(J+="-ew-resize",Z.direction=ct.VERTICAL):Z.start.y===Z.end.y&&(J+="-ns-resize",Z.direction=ct.HORIZONTAL),ee=L("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(Q){return o.beforeDragStart(Q,Z)}},L("g",{className:J},o.getAppendShape(Z)))):o.dragHandler=function(){},j.push(ee)},M=0;M<h.length-1;M++)A(M);return L("g",null,j)}}])&&KO(e.prototype,n),i}(Ei);function Uy(t){return(Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function JO(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Vy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Vy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wy(Object(n),!0).forEach(function(r){QO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wy(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QO(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ew(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gy(t,e,n){return(Gy=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(r,i,o){var a=function(l,h){for(;!Object.prototype.hasOwnProperty.call(l,h)&&(l=Pi(l))!==null;);return l}(r,i);if(a){var c=Object.getOwnPropertyDescriptor(a,i);return c.get?c.get.call(o):c.value}})(t,e,n||t)}function $y(t,e){return($y=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function nw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Pi(t);if(e){var i=Pi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rw(this,n)}}function rw(t,e){if(e&&(Uy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Pi(t){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}var us=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&$y(o,a)})(i,t);var e,n,r=nw(i);function i(){return ew(this,i),r.apply(this,arguments)}return e=i,(n=[{key:"getAttributes",value:function(){var o=Gy(Pi(i.prototype),"getAttributes",this).call(this),a=this.props.model.path;return Yy(Yy({},o),{},{path:a})}},{key:"getEdge",value:function(){var o=this.getAttributes(),a=o.path,c=o.strokeWidth,l=o.stroke,h=o.strokeDashArray;return L(xi,{d:a,strokeWidth:c,stroke:l,fill:"none",strokeDasharray:h})}},{key:"getShape",value:function(){return L("g",null,this.getEdge())}},{key:"getAppendWidth",value:function(){var o=this.getAttributes().path;return L(xi,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state.hover,c=o,l=c.path,h=c.isSelected,_=JO(function(j){var A=Da(j);return[A[2],A[3]]}(l),2);return{start:_[0],end:_[1],hover:a,isSelected:h}}}])&&tw(e.prototype,n),i}(Ei),Ky=function(t,e){return Tu(t,e)},ow=function(t){var e=t==null?0:t.length;return e?t[e-1]:void 0},cs=function(){return pn.a.Date.now()},iw=/\s/,aw=function(t){for(var e=t.length;e--&&iw.test(t.charAt(e)););return e},uw=/^\s+/,cw=function(t){return t&&t.slice(0,aw(t)+1).replace(uw,"")},sw=/^[-+]0x[0-9a-f]+$/i,lw=/^0b[01]+$/i,fw=/^0o[0-7]+$/i,pw=parseInt,qy=function(t){if(typeof t=="number")return t;if(ga(t))return NaN;if(Bt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Bt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=cw(t);var n=lw.test(t);return n||fw.test(t)?pw(t.slice(2),n?2:8):sw.test(t)?NaN:+t},hw=Math.max,dw=Math.min,yw=function(t,e,n){var r,i,o,a,c,l,h=0,_=!1,j=!1,A=!0;if(typeof t!="function")throw new TypeError("Expected a function");function M(oe){var fe=r,le=i;return r=i=void 0,h=oe,a=t.apply(le,fe)}function X(oe){return h=oe,c=setTimeout(Z,e),_?M(oe):a}function J(oe){var fe=oe-l;return l===void 0||fe>=e||fe<0||j&&oe-h>=o}function Z(){var oe=cs();if(J(oe))return ee(oe);c=setTimeout(Z,function(fe){var le=e-(fe-l);return j?dw(le,o-(fe-h)):le}(oe))}function ee(oe){return c=void 0,A&&r?M(oe):(r=i=void 0,a)}function Q(){var oe=cs(),fe=J(oe);if(r=arguments,i=this,l=oe,fe){if(c===void 0)return X(l);if(j)return clearTimeout(c),c=setTimeout(Z,e),M(l)}return c===void 0&&(c=setTimeout(Z,e)),a}return e=qy(e)||0,Bt(n)&&(_=!!n.leading,o=(j="maxWait"in n)?hw(qy(n.maxWait)||0,e):o,A="trailing"in n?!!n.trailing:A),Q.cancel=function(){c!==void 0&&clearTimeout(c),h=0,r=l=i=c=void 0},Q.flush=function(){return c===void 0?a:ee(cs())},Q},vw=u(140);function gw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Zy,bw=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),wr(this,"undos",[]),wr(this,"redos",[]),wr(this,"callbacks",[]),wr(this,"stopWatch",null),wr(this,"curData",null),wr(this,"maxSize",50),wr(this,"waitTime",100),wr(this,"eventCenter",void 0),this.eventCenter=r}var e,n;return e=t,(n=[{key:"add",value:function(r){Ky(ow(this.undos),r)||(this.undos.push(r),Ky(this.curData,r)||(this.redos=[]),this.eventCenter.emit(Fe.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var i=this.undos.pop();return this.curData=Bu(i),i}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Bu(r),r}}},{key:"watch",value:function(r){var i=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(vw.a)(r,yw(function(){var o=r.modelToGraphData();i.add(o)},this.waitTime))}}])&&gw(e.prototype,n),t}();function Jy(t){return(Jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function mw(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||function(n,r){if(!!n){if(typeof n=="string")return Qy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Qy(n,r)}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qy(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ev(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ev(Object(n),!0).forEach(function(r){$a(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ev(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nv(t,e){return(nv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function _w(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=ss(t);if(e){var i=ss(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ow(this,n)}}function Ow(t,e){if(e&&(Jy(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ga(t)}function Ga(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ss(t){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function $a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rv,ww=Fn(Zy=function(t){(function(a,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),c&&nv(a,c)})(o,t);var e,n,r,i=_w(o);function o(){var a;return function(c,l){if(!(c instanceof l))throw new TypeError("Cannot call a class as a function")}(this,o),$a(Ga(a=i.call(this)),"ref",{current:null}),$a(Ga(a),"__prevText",{type:"",text:"",id:""}),$a(Ga(a),"keyupHandler",function(c){var l=c.target.innerText,h=a.props.graphModel.textEditElement;c.keyCode===13&&c.altKey&&h.setElementState(0),a.__prevText={type:h.type,text:l,id:h.id}}),a.state={style:{left:0,top:0}},a}return e=o,r=[{key:"getDerivedStateFromProps",value:function(a){var c,l=a.graphModel,h=l.transformMatrix,_=l.theme,j=l.textEditElement;if(j){var A;if((A=j.text)===null||A===void 0||!A.value)if(j.BaseType===_t.EDGE){var M=(j=j).text,X=j.textPosition,J=X.x,Z=X.y;M.x=J,M.y=Z,j.setText(M)}else j=j;var ee={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(j.BaseType===_t.EDGE){var Q=_.edgeText,oe=Q.autoWrap,fe=Q.lineHeight,le=Q.wrapPadding,je=j.textWidth;oe&&je&&(c=Co(Co({},ee),{},{width:je,minWidth:je,lineHeight:fe,padding:le}))}else if(j.BaseType===_t.NODE){var ke=_.nodeText,Ne=ke.autoWrap,Ge=ke.lineHeight,Je=ke.wrapPadding,Hn=j,$r=Hn.width,xr=Hn.textWidth,Er=Hn.modelType;(Er!==He.TEXT_NODE&&Ne||Er===He.TEXT_NODE&&Ne&&xr)&&(c=Co(Co({},ee),{},{width:xr||$r,minWidth:xr||$r,lineHeight:Ge,padding:Je}))}var Kr=j.text,ds=Kr.x,Za=Kr.y,yv=mw(h.CanvasPointToHtmlPoint([ds,Za]),2);return{style:Co({left:yv[0],top:yv[1]},c)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var a=this.props.graphModel,c=a.eventCenter,l=a.editConfig,h=l.edgeTextEdit,_=l.nodeTextEdit;(h||_)&&c.on(Fe.GRAPH_TRANSFORM,function(){a.textEditElement&&a.textEditElement.setElementState($e.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var a=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var c=this.__prevText,l=c.text,h=c.id;a.setElementTextById(h,l),a.eventCenter.emit(Fe.TEXT_UPDATE,Co({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(a){if(window.getSelection!==void 0&&document.createRange!==void 0){var c=document.createRange();c.selectNodeContents(a),c.collapse(!1);var l=window.getSelection();l.removeAllRanges(),l.addRange(c)}}},{key:"render",value:function(){var a,c=this.props.graphModel.textEditElement,l=this.state.style;return c?L("div",{contentEditable:!0,className:"lf-text-input",style:l,ref:this.ref,key:c.id,onKeyUp:this.keyupHandler},(a=c.text)===null||a===void 0?void 0:a.value):null}}])&&tv(e.prototype,n),r&&tv(e,r),o}(I))||Zy,xw=function(t){return t.modelType===He.LINE_EDGE?function(e){var n=e.startPoint,r=e.endPoint,i=(n.x+r.x)/2,o=(n.y+r.y)/2,a=Math.abs(n.x-r.x)+10,c=Math.abs(n.y-r.y)+10;return{x:i-a/2,y:o-c/2,x1:i+a/2,y1:o+c/2}}(t):t.modelType===He.POLYLINE_EDGE?function(e){var n=e.points,r=wo(n),i=pi(r,8),o=i.x,a=i.y,c=i.width,l=i.height;return{x:o-c/2,y:a-l/2,x1:o+c/2,y1:a+l/2}}(t):t.modelType===He.BEZIER_EDGE?function(e){var n=e.path,r=Da(n),i=pi(r,8),o=i.x,a=i.y,c=i.width,l=i.height;return{x:o-c/2,y:a-l/2,x1:o+c/2,y1:a+l/2}}(t):void 0};function ov(t){return(ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function iv(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,a,c=[],l=!0,h=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(c.push(o.value),!r||c.length!==r);l=!0);}catch(_){h=!0,a=_}finally{try{l||i.return==null||i.return()}finally{if(h)throw a}}return c}}(t,e)||av(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ew(t){return function(e){if(Array.isArray(e))return ls(e)}(t)||function(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||av(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function av(t,e){if(t){if(typeof t=="string")return ls(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ls(t,e):void 0}}function ls(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function uv(t,e){return(uv=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(t,e)}function jw(t){var e=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=fs(t);if(e){var i=fs(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pw(this,n)}}function Pw(t,e){if(e&&(ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ki(t)}function ki(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fs(t){return(fs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function Ka(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kw=Fn(rv=function(t){(function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),a&&uv(o,a)})(i,t);var e,n,r=jw(i);function i(o){var a;(function(h,_){if(!(h instanceof _))throw new TypeError("Cannot call a class as a function")})(this,i),Ka(ki(a=r.call(this)),"stepDrag",void 0),Ka(ki(a),"handleMouseDown",function(h){a.stepDrag.handleMouseDown(h)}),Ka(ki(a),"onDraging",function(h){var _=h.deltaX,j=h.deltaY,A=a.props.graphModel;A.moveElements(A.getSelectElements(!0),_,j)}),Ka(ki(a),"handleContextMenu",function(h){h.preventDefault();var _=a.props,j=_.graphModel,A=_.graphModel,M=A.eventCenter,X=A.selectElements,J=j.getPointByClient({x:h.clientX,y:h.clientY}),Z={nodes:[],edges:[]};Ew(X.values()).forEach(function(ee){ee.BaseType===_t.NODE&&Z.nodes.push(ee.getData()),ee.BaseType===_t.EDGE&&Z.edges.push(ee.getData())}),M.emit(Fe.SELECTION_CONTEXTMENU,{data:Z,e:h,position:J})});var c=o.graphModel.gridSize,l=o.eventCenter;return a.stepDrag=new di({onDraging:a.onDraging,step:c,eventType:"multiple:select",eventCenter:l}),a}return e=i,(n=[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,c=o.transformMatrix;if(!(a.size<=1)){var l=Number.MAX_SAFE_INTEGER,h=Number.MAX_SAFE_INTEGER,_=Number.MIN_SAFE_INTEGER,j=Number.MIN_SAFE_INTEGER;a.forEach(function(X){var J={x:0,y:0,x1:0,y1:0};X.BaseType===_t.NODE&&(J=function(Z){var ee=Z.x,Q=Z.y,oe=Z.width,fe=Z.height;return{x:ee-oe/2,y:Q-fe/2,x1:ee+oe/2,y1:Q+fe/2}}(X)),X.BaseType===_t.EDGE&&(J=xw(X)),l=Math.min(l,J.x),h=Math.min(h,J.y),_=Math.max(_,J.x1),j=Math.max(j,J.y1)});var A=iv(c.CanvasPointToHtmlPoint([l,h]),2);l=A[0],h=A[1];var M=iv(c.CanvasPointToHtmlPoint([_,j]),2);return _=M[0],j=M[1],L("div",{className:"lf-multiple-select",style:{left:"".concat(l-10,"px"),top:"".concat(h-10,"px"),width:"".concat(_-l+20,"px"),height:"".concat(j-h+20,"px")},onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&Sw(e.prototype,n),i}(I))||rv;function Aw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tw=function(){function t(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,t),qa(this,"tools",void 0),qa(this,"components",void 0),qa(this,"toolMap",new Map),qa(this,"instance",void 0),this.instance=r,this.registerTool("textEdit",ww),this.registerTool("multipleSelect",kw)}var e,n;return e=t,(n=[{key:"registerTool",value:function(r,i){this.toolMap.set(r,i)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&Aw(e.prototype,n),t}();u(182);function Dw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Mw=function(){function t(){var r,i,o;(function(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function")})(this,t),o={},(i="_events")in(r=this)?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}var e,n;return e=t,(n=[{key:"on",value:function(r,i,o){var a=this;return r.split(",").forEach(function(c){c=c.trim(),a._events[c]||(a._events[c]=[]),a._events[c].push({callback:i,once:!!o})}),this}},{key:"once",value:function(r,i){return this.on(r,i,!0)}},{key:"emit",value:function(r,i){var o=this,a=this._events[r]||[],c=this._events["*"]||[],l=function(h){for(var _=h.length,j=0;j<_;j++)if(h[j]){var A=h[j],M=A.callback;A.once&&(h.splice(j,1),h.length===0&&delete o._events[r],_--,j--),M.apply(o,[i])}};l(a),l(c)}},{key:"off",value:function(r,i){if(r)if(i){for(var o=this._events[r]||[],a=o.length,c=0;c<a;c++)o[c].callback===i&&(o.splice(c,1),a--,c--);o.length===0&&delete this._events[r]}else delete this._events[r];else this._events={};return this}},{key:"getEvents",value:function(){return this._events}}])&&Dw(e.prototype,n),t}(),Nw=u(141),Cw=u.n(Nw);function Rw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ps(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var cv=function(){function t(r){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,t),ps(this,"mousetrap",void 0),ps(this,"options",void 0),ps(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var i=r.lf;this.target=i.container,this.mousetrap=new Cw.a(this.target),r.keyboard.enabled&&this.enable(!0)}var e,n;return e=t,(n=[{key:"initShortcuts",value:function(){var r=this,i=this.options.keyboard.shortcuts;if(i)if(nn(i))i.forEach(function(l){var h=l.keys,_=l.callback,j=l.action;return r.on(h,_,j)});else{var o=i.keys,a=i.callback,c=i.action;this.on(o,a,c)}}},{key:"on",value:function(r,i,o){this.mousetrap.bind(this.getKeys(r),i,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,i){this.mousetrap.unbind(this.getKeys(r),i)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var i=this;return(Array.isArray(r)?r:[r]).map(function(o){return i.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&Rw(e.prototype,n),t}(),Iw=cv,or=null;function sv(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function lv(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach(function(n){n.x+=e,n.y+=e}),t.text&&(t.text.x+=e,t.text.y+=e),t}function fv(t){return(fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function pv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pv(Object(n),!0).forEach(function(r){wt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hs=function(){function t(i){var o=this;(function(J,Z){if(!(J instanceof Z))throw new TypeError("Cannot call a class as a function")})(this,t),wt(this,"container",void 0),wt(this,"width",void 0),wt(this,"height",void 0),wt(this,"graphModel",void 0),wt(this,"history",void 0),wt(this,"viewMap",new Map),wt(this,"tool",void 0),wt(this,"keyboard",void 0),wt(this,"dnd",void 0),wt(this,"options",void 0),wt(this,"getSnapshot",void 0),wt(this,"eventCenter",void 0),wt(this,"snaplineModel",void 0),wt(this,"components",[]),wt(this,"adapterIn",void 0),wt(this,"adapterOut",void 0),wt(this,"getView",function(J){return o.viewMap.get(J)});var a,c,l=i.container,h=i.width,_=i.height,j=i.dndOptions,A=i.keyboard,M=i.isSilentMode,X=i.snapline;this.options=rh(i),this.container=l,this.width=h||l.getBoundingClientRect().width,this.height=_||l.getBoundingClientRect().height,this.tool=new Tw(this),this.eventCenter=new Mw,this.history=new bw(this.eventCenter),this.dnd=new n_({options:j,lf:this}),this.keyboard=new Iw({lf:this,keyboard:A}),this.graphModel=new l0(hv(hv({},this.options),{},{eventCenter:this.eventCenter,rootEl:this.container,width:this.width,height:this.height})),M||X===!1||(this.snaplineModel=new Sd(this.graphModel),a=this.eventCenter,c=this.snaplineModel,a.on("node:mousemove",function(J){var Z=J.data;c.setNodeSnapLine(Z)}),a.on("node:mouseup",function(){c.clearSnapline()})),this.defaultRegister(),this.installPlugins(i.disabledPlugins),function(J,Z){var ee=J.keyboard,Q=ee.options.keyboard;ee.on(["cmd + c","ctrl + c"],function(){if(Q.enabled&&!Z.textEditElement){var oe=J.options.guards,fe=Z.getSelectElements(!1);return oe&&oe.beforeClone&&!oe.beforeClone(fe)?(or=null,!1):((or=fe).nodes.forEach(function(le){return sv(le,40)}),or.edges.forEach(function(le){return lv(le,40)}),!1)}}),ee.on(["cmd + v","ctrl + v"],function(){if(Q.enabled&&!Z.textEditElement){if(or&&(or.nodes||or.edges)){J.clearSelectElements();var oe=J.addElements(or);if(!oe)return;oe.nodes.forEach(function(fe){return J.select(fe.id,!0)}),oe.edges.forEach(function(fe){return J.select(fe.id,!0)}),or.nodes.forEach(function(fe){return sv(fe,40)}),or.edges.forEach(function(fe){return lv(fe,40)})}return!1}}),ee.on(["cmd + z","ctrl + z"],function(){if(Q.enabled&&!Z.textEditElement)return J.undo(),!1}),ee.on(["cmd + y","ctrl + y"],function(){if(Q.enabled&&!Z.textEditElement)return J.redo(),!1}),ee.on(["backspace"],function(){if(Q.enabled&&!Z.textEditElement){var oe=Z.getSelectElements(!0);return J.clearSelectElements(),oe.edges.forEach(function(fe){return J.deleteEdge(fe.id)}),oe.nodes.forEach(function(fe){return J.deleteNode(fe.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts()}var e,n,r;return e=t,r=[{key:"use",value:function(i){var o=i.pluginName;o||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(i.name||i.constructor.name,"\u6307\u5B9ApluginName!")),o=i.name);var a=this.extensions.get(o);a&&a.destroy&&a.destroy(),this.extensions.set(o,i)}}],(n=[{key:"on",value:function(i,o){this.eventCenter.on(i,o)}},{key:"off",value:function(i,o){this.eventCenter.off(i,o)}},{key:"once",value:function(i,o){this.eventCenter.once(i,o)}},{key:"emit",value:function(i,o){this.eventCenter.emit(i,o)}},{key:"installPlugins",value:function(){var i=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.extensions.forEach(function(a){var c=a.pluginName||a.name;o.indexOf(c)===-1&&i.__installPlugin(a)})}},{key:"__installPlugin",value:function(i){if(fv(i)==="object"){var o=i.install,a=i.render;return o&&o.call(i,this,t),void(a&&this.components.push(a.bind(i)))}var c=new i({lf:this,LogicFlow:t});c.render&&this.components.push(c.render.bind(c))}},{key:"register",value:function(i,o){var a=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof i=="string"){var c={BaseEdge:Ei,BaseEdgeModel:Ku,BaseNode:tr,BaseNodeModel:Qn,RectNode:Hc,RectNodeModel:Ac,CircleNode:Uc,CircleNodeModel:_c,PolygonNode:Wc,PolygonNodeModel:Pc,TextNode:qc,TextNodeModel:Mc,LineEdge:is,LineEdgeModel:Ju,DiamondNode:Gc,DiamondNodeModel:wc,PolylineEdge:as,PolylineEdgeModel:ec,BezierEdge:us,BezierEdgeModel:bc,EllipseNode:$c,EllipseNodeModel:Ec,HtmlNode:Qc,HtmlNodeModel:Cc,h:L,type:i};this.viewMap.forEach(function(A){var M=A.extendKey;M&&(c[M]=A)}),this.graphModel.modelMap.forEach(function(A){var M=A.extendKey;M&&(c[M]=A)});var l=o(c),h=l.view,_=l.model,j=h;a&&!j.isObervered&&(j.isObervered=!0,j=pt(j)),this.setView(i,j),this.graphModel.setModel(i,_)}else this._registerElement(i)}},{key:"_registerElement",value:function(i){var o=i.view;i.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=pt(o)),this.setView(i.type,o),this.graphModel.setModel(i.type,i.model)}},{key:"defaultRegister",value:function(){this._registerElement({view:Hc,model:Ac,type:"rect"}),this._registerElement({type:"circle",view:Uc,model:_c}),this._registerElement({type:"polygon",view:Wc,model:Pc}),this._registerElement({type:"line",view:is,model:Ju}),this._registerElement({type:"polyline",view:as,model:ec}),this._registerElement({type:"bezier",view:us,model:bc}),this._registerElement({type:"text",view:qc,model:Mc}),this._registerElement({type:"ellipse",view:$c,model:Ec}),this._registerElement({type:"diamond",view:Gc,model:wc}),this._registerElement({type:"html",view:Qc,model:Cc})}},{key:"undo",value:function(){if(this.history.undoAble()){var i=Sn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"redo",value:function(){if(this.history.redoAble()){var i=Sn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"zoom",value:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=this.graphModel.transformMatrix;return o.zoom(i),"".concat(100*o.SCALE_X,"%")}},{key:"resetZoom",value:function(){this.graphModel.transformMatrix.resetZoom()}},{key:"setZoomMiniSize",value:function(i){this.graphModel.transformMatrix.setZoomMiniSize(i)}},{key:"setZoomMaxSize",value:function(i){this.graphModel.transformMatrix.setZoomMaxSize(i)}},{key:"getTransform",value:function(){var i=this.graphModel.transformMatrix;return{SCALE_X:i.SCALE_X,SCALE_Y:i.SCALE_Y,TRANSLATE_X:i.TRANSLATE_X,TRANSLATE_Y:i.TRANSLATE_Y}}},{key:"translate",value:function(i,o){this.graphModel.transformMatrix.translate(i,o)}},{key:"resetTranslate",value:function(){var i=this.graphModel.transformMatrix,o=i.TRANSLATE_X,a=i.TRANSLATE_Y;this.translate(-o,-a)}},{key:"select",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(i,o)}},{key:"focusOn",value:function(i){var o=this.graphModel.transformMatrix,a=i.coordinate,c=i.id;if(!a){var l=this.getNodeModel(c);l&&(a=l.getData());var h=this.getEdgeModelById(c);h&&(a=h.textPosition)}var _=a,j=_.x,A=_.y;o.focusOn(j,A,this.width,this.height)}},{key:"setTheme",value:function(i){this.graphModel.setTheme(i)}},{key:"setDefaultEdgeType",value:function(i){this.options.edgeType=i,this.graphModel.changeEdgeType(i)}},{key:"updateText",value:function(i,o){this.graphModel.setElementTextById(i,o)}},{key:"changeNodeType",value:function(i,o){this.graphModel.changeNodeType(i,o)}},{key:"getNodeEdges",value:function(i){return this.graphModel.getNodeEdges(i)}},{key:"addNode",value:function(i){return this.graphModel.addNode(i)}},{key:"deleteNode",value:function(i){var o=this.graphModel.getNodeModel(i).getData(),a=this.options.guards;(!a||!a.beforeDelete||a.beforeDelete(o))&&this.graphModel.deleteNode(i)}},{key:"editNodeText",value:function(i){this.graphModel.setTextEditable(i)}},{key:"cloneNode",value:function(i){var o=this.graphModel.getNodeModel(i).getData(),a=this.options.guards;if(!a||!a.beforeClone||a.beforeClone(o))return this.graphModel.cloneNode(i)}},{key:"createEdge",value:function(i){this.graphModel.createEdge(i)}},{key:"deleteEdge",value:function(i){var o=this.options.guards,a=this.graphModel.edgesMap[i];if(a){var c=a.model.getData();(!o||!o.beforeDelete||o.beforeDelete(c))&&this.graphModel.removeEdgeById(i)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(i,"\u7684\u8FB9"))}},{key:"removeEdge",value:function(i){var o=i.sourceNodeId,a=i.targetNodeId;o&&a?this.graphModel.removeEdge(o,a):o?this.graphModel.removeEdgeBySource(o):a&&this.graphModel.removeEdgeByTarget(a)}},{key:"getNodeModel",value:function(i){return this.graphModel.getNodeModel(i)}},{key:"getNodeData",value:function(i){return this.graphModel.getNodeModel(i).getData()}},{key:"setNodeData",value:function(i){var o=i.id;this.graphModel.getNodeModel(o).updateData(i)}},{key:"getEdgeModel",value:function(i){return this.getEdge(i)}},{key:"getEdgeModelById",value:function(i){var o;return(o=this.graphModel.edgesMap[i])===null||o===void 0?void 0:o.model}},{key:"getEdge",value:function(i){var o=this.graphModel,a=o.edges,c=o.edgesMap,l=i.id,h=i.sourceNodeId,_=i.targetNodeId;if(l)return c[l]?[c[l].model]:void console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(l,"\u7684\u8FB9"));if(h&&_){var j=[];return a.forEach(function(X){X.sourceNodeId===h&&X.targetNodeId===_&&j.push(X)}),j}if(h){var A=[];return a.forEach(function(X){X.sourceNodeId===h&&A.push(X)}),A}if(_){var M=[];return a.forEach(function(X){X.targetNodeId===_&&M.push(X)}),M}return[]}},{key:"getEdgeData",value:function(i){var o;return(o=this.getEdgeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"setEdgeData",value:function(i){var o,a=i.id;return(o=this.getEdgeModelById(a))===null||o===void 0?void 0:o.updateData(i)}},{key:"getGraphData",value:function(){var i=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(i):i}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"setProperties",value:function(i,o){var a;(a=this.graphModel.getElement(i))===null||a===void 0||a.setProperties(Sn(o))}},{key:"getProperties",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getProperties()}},{key:"changeNodeId",value:function(i,o){return this.graphModel.changeNodeId(i,o)}},{key:"changeEdgeId",value:function(i,o){return this.graphModel.changeEdgeId(i,o)}},{key:"updateEditConfig",value:function(i){this.graphModel.editConfig.updateEditConfig(i)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfig.getConfig()}},{key:"getPointByClient",value:function(i,o){return this.graphModel.getPointByClient({x:i,y:o})}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(i)}},{key:"updateAttributes",value:function(i,o){this.graphModel.updateAttributes(i,o)}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"setElementZIndex",value:function(i,o){return this.graphModel.setElementZIndex(i,o)}},{key:"addElements",value:function(i){for(var o=this,a=i.nodes,c=i.edges,l={},h={nodes:[],edges:[]},_=0;_<a.length;_++){var j=a[_],A=j.id,M=this.addNode(j);if(!M)return;A&&(l[A]=M.id),h.nodes.push(M)}return c.forEach(function(X){var J=X.sourceNodeId,Z=X.targetNodeId;l[J]&&(X.sourceNodeId=l[J]),l[Z]&&(X.targetNodeId=l[Z]);var ee=o.graphModel.createEdge(X);h.edges.push(ee)}),h}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"createFakerNode",value:function(i){var o=this.graphModel.modelMap.get(i.type);if(o){var a=new o(i,this.graphModel);return this.graphModel.setFakerNode(a),a}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(i.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(i){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(i)}},{key:"getAreaElement",value:function(i,o){return this.graphModel.getAreaElement(i,o).map(function(a){return a.getData()})}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(i,o){this.viewMap.set(i,o)}},{key:"render",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(i=this.adapterIn(i)),this.graphModel.graphDataToModel(Sn(i)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Pe(L(e_,{eventCenter:this.eventCenter,getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container)}}])&&dv(e.prototype,n),r&&dv(e,r),t}();function Fn(t){return pt(t)}wt(hs,"extensions",new Map),p.default=hs}])})})(Ae,Ae.exports);var eu=_v(Ae.exports);function Yw(g,v){return v={exports:{}},g(v,v.exports),v.exports}var Gw=Yw(function(g){var v=g.exports=function(s,p){if(p||(p=16),s===void 0&&(s=128),s<=0)return"0";for(var u=Math.log(Math.pow(2,s))/Math.log(p),f=2;u===1/0;f*=2)u=Math.log(Math.pow(2,s/f))/Math.log(p)*f;for(var d=u-Math.floor(u),y="",f=0;f<Math.floor(u);f++){var x=Math.floor(Math.random()*p).toString(p);y=x+y}if(d){var E=Math.pow(p,d),x=Math.floor(Math.random()*E).toString(p);y=x+y}var S=parseInt(y,p);return S!==1/0&&S>=Math.pow(2,s)?v(s,p):y};v.rack=function(s,p,u){var f=function(y){var x=0;do{if(x++>10)if(u)s+=u;else throw new Error("too many ID collisions, use more bits");var E=v(s,p)}while(Object.hasOwnProperty.call(d,E));return d[E]=y,E},d=f.hats={};return f.get=function(y){return f.hats[y]},f.set=function(y,x){return f.hats[y]=x,f},f.bits=s||128,f.base=p||16,f}});function Un(g){if(!(this instanceof Un))return new Un(g);g=g||[128,36,1],this._seed=g.length?Gw.rack(g[0],g[1],g[2]):g}Un.prototype.next=function(g){return this._seed(g||!0)};Un.prototype.nextPrefixed=function(g,v){var s;do s=g+this.next(!0);while(this.assigned(s));return this.claim(s,v),s};Un.prototype.claim=function(g,v){this._seed.set(g,v||!0)};Un.prototype.assigned=function(g){return this._seed.get(g)||!1};Un.prototype.unclaim=function(g){delete this._seed.hats[g]};Un.prototype.clear=function(){var g=this._seed.hats,v;for(v in g)this.unclaim(v)};var $w=new Un([32,32,1]);function Ro(){return $w.next()}var Cv=globalThis&&globalThis.__extends||function(){var g=function(v,s){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,s)};return function(v,s){g(v,s);function p(){this.constructor=v}v.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),vs=globalThis&&globalThis.__assign||function(){return vs=Object.assign||function(g){for(var v,s=1,p=arguments.length;s<p;s++){v=arguments[s];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},vs.apply(this,arguments)},Kw=function(g){Cv(v,g);function v(s,p){var u=this;return s.id||(s.id="Event_"+Ro()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),u=g.call(this,s,p)||this,u}return v.prototype.getConnectedTargetRules=function(){var s=g.prototype.getConnectedTargetRules.call(this),p={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FDE\u7EBF\u7684\u7EC8\u70B9",validate:function(){return!1}};return s.push(p),s},v.extendKey="StartEventModel",v}(Ae.exports.CircleNodeModel),qw=function(g){Cv(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getAttributes=function(){var s=g.prototype.getAttributes.call(this);return vs({},s)},v.extendKey="StartEventNode",v}(Ae.exports.CircleNode),Zw={type:"bpmn:startEvent",view:qw,model:Kw},Rv=globalThis&&globalThis.__extends||function(){var g=function(v,s){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,s)};return function(v,s){g(v,s);function p(){this.constructor=v}v.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Jw=function(g){Rv(v,g);function v(s,p){var u=this;return s.id||(s.id="Event_"+Ro()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),u=g.call(this,s,p)||this,u}return v.prototype.getConnectedSourceRules=function(){var s=g.prototype.getConnectedSourceRules.call(this),p={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FDE\u7EBF\u7684\u8D77\u70B9",validate:function(){return!1}};return s.push(p),s},v.extendKey="EndEventModel",v}(Ae.exports.CircleNodeModel),Qw=function(g){Rv(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},v.prototype.getShape=function(){var s=this.getAttributes(),p=s.x,u=s.y,f=s.fill,d=s.stroke,y=s.strokeWidth,x=s.r,E=g.prototype.getShape.call(this);return Ae.exports.h("g",{},E,Ae.exports.h("circle",{cx:p,cy:u,fill:f,stroke:d,strokeWidth:y,r:x-5}))},v.extendKey="EndEventView",v}(Ae.exports.CircleNode),e1={type:"bpmn:endEvent",view:Qw,model:Jw},Iv=globalThis&&globalThis.__extends||function(){var g=function(v,s){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,s)};return function(v,s){g(v,s);function p(){this.constructor=v}v.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),t1=function(g){Iv(v,g);function v(s,p){var u=this;return s.id||(s.id="Gateway_"+Ro()),s.text||(s.text=""),s.text&&typeof s.text=="string"&&(s.text={value:s.text,x:s.x,y:s.y+40}),u=g.call(this,s,p)||this,u.points=[[25,0],[50,25],[25,50],[0,25]],u}return v.extendKey="ExclusiveGatewayModel",v}(Ae.exports.PolygonNodeModel),n1=function(g){Iv(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getShape=function(){var s=g.prototype.getAttributes.call(this),p=s.x,u=s.y,f=s.fill,d=s.stroke,y=s.strokeWidth,x=s.width,E=s.height,S=s.points;return Ae.exports.h("g",{transform:"matrix(1 0 0 1 "+(p-x/2)+" "+(u-E/2)+")"},Ae.exports.h("polygon",{fill:f,x:p,y:u,stroke:d,strokeWidth:y,points:S}),Ae.exports.h("path",{fill:f,stroke:d,strokeWidth:y,d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"}))},v.extendKey="ExclusiveGatewayNode",v}(Ae.exports.PolygonNode),r1={type:"bpmn:exclusiveGateway",view:n1,model:t1},Lv=globalThis&&globalThis.__extends||function(){var g=function(v,s){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,s)};return function(v,s){g(v,s);function p(){this.constructor=v}v.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),o1=function(g){Lv(v,g);function v(s,p){var u=this;return s.id||(s.id="Activity_"+Ro()),u=g.call(this,s,p)||this,u}return v.extendKey="UserTaskModel",v}(Ae.exports.RectNodeModel),i1=function(g){Lv(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var s=g.prototype.getAttributes.call(this),p=s.x,u=s.y,f=s.width,d=s.height,y=s.stroke;return Ae.exports.h("svg",{x:p-f/2+5,y:u-d/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Ae.exports.h("path",{fill:y,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},v.prototype.getShape=function(){var s=g.prototype.getAttributes.call(this),p=s.x,u=s.y,f=s.width,d=s.height,y=s.fill,x=s.stroke,E=s.strokeWidth,S=s.radius;return Ae.exports.h("g",{},[Ae.exports.h("rect",{x:p-f/2,y:u-d/2,rx:S,ry:S,fill:y,stroke:x,strokeWidth:E,width:f,height:d}),this.getLabelShape()])},v.extendKey="UserTaskNode",v}(Ae.exports.RectNode),a1={type:"bpmn:userTask",view:i1,model:o1},zv=globalThis&&globalThis.__extends||function(){var g=function(v,s){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,s)};return function(v,s){g(v,s);function p(){this.constructor=v}v.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),u1=function(g){zv(v,g);function v(s,p){var u=this;return s.id||(s.id="Activity_"+Ro()),u=g.call(this,s,p)||this,u}return v.extendKey="ServiceTaskModel",v}(Ae.exports.RectNodeModel),c1=function(g){zv(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var s=g.prototype.getAttributes.call(this),p=s.x,u=s.y,f=s.width,d=s.height,y=s.stroke;return Ae.exports.h("svg",{x:p-f/2+5,y:u-d/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Ae.exports.h("path",{fill:y,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},v.prototype.getShape=function(){var s=g.prototype.getAttributes.call(this),p=s.x,u=s.y,f=s.width,d=s.height,y=s.fill,x=s.stroke,E=s.strokeWidth,S=s.radius;return Ae.exports.h("g",{},[Ae.exports.h("rect",{x:p-f/2,y:u-d/2,rx:S,ry:S,fill:y,stroke:x,strokeWidth:E,width:f,height:d}),this.getLabelShape()])},v.extendKey="ServiceTaskNode",v}(Ae.exports.RectNode),s1={type:"bpmn:serviceTask",view:c1,model:u1},Bv=globalThis&&globalThis.__extends||function(){var g=function(v,s){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,s)};return function(v,s){g(v,s);function p(){this.constructor=v}v.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),l1=function(g){Bv(v,g);function v(s,p){var u=this;return s.id||(s.id="Flow_"+Ro()),u=g.call(this,s,p)||this,u}return v.extendKey="SequenceFlowModel",v}(Ae.exports.PolylineEdgeModel),f1=function(g){Bv(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.extendKey="SequenceFlowEdge",v}(Ae.exports.PolylineEdge),p1={type:"bpmn:sequenceFlow",view:f1,model:l1},Fv={width:40,height:40},Hv={width:40,height:40},Xv={width:40,height:40},Uv={width:100,height:80},Vv={width:100,height:80},h1={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},d1=function(){function g(v){var s=v.lf;s.setTheme(h1),s.register(Zw),s.register(e1),s.register(r1),s.register(a1),s.register(s1),s.register(p1),s.setDefaultEdgeType("bpmn:sequenceFlow")}return g.pluginName="BpmnElement",g}(),y1={pluginName:"snapshot",install:function(g){var v=this;this.lf=g,this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,g.getSnapshot=function(s,p){v.fileName=s||"logic-flow."+Date.now()+".png";var u=v.getSvgRootElement(g);v.downloadSvg(u,v.fileName,p)},g.getSnapshotBlob=function(s){var p=v.getSvgRootElement(g);return v.getBlob(p,s)},g.getSnapshotBase64=function(s){var p=v.getSvgRootElement(g);return v.getBase64(p,s)}},getSvgRootElement:function(g){var v=this;g.graphModel.nodes.forEach(function(p){var u=p.x,f=p.width,d=p.y,y=p.height,x=u-f/2,E=d-y/2;x<v.offsetX&&(v.offsetX=x-5),E<v.offsetY&&(v.offsetY=E-5)}),g.graphModel.edges.forEach(function(p){p.pointsList&&p.pointsList.forEach(function(u){var f=u.x,d=u.y;f<v.offsetX&&(v.offsetX=f-5),d<v.offsetY&&(v.offsetY=d-5)})});var s=g.container.querySelector("svg");return s},triggerDownload:function(g){var v=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),s=document.createElement("a");s.setAttribute("download",this.fileName),s.setAttribute("href",g),s.setAttribute("target","_blank"),s.dispatchEvent(v)},removeAnchor:function(g){for(var v=g.childNodes,s=g.childNodes&&g.childNodes.length,p=0;p<s;p++){var u=v[p],f=u.classList&&Array.from(u.classList)||[];f.indexOf("lf-anchor")>-1&&(g.removeChild(g.childNodes[p]),s--,p--)}},downloadSvg:function(g,v,s){var p=this;this.getCanvasData(g,s).then(function(u){var f=u.toDataURL("image/png").replace("image/png","image/octet-stream");p.triggerDownload(f,v)})},getBase64:function(g,v){var s=this;return new Promise(function(p){s.getCanvasData(g,v).then(function(u){var f=u.toDataURL("image/png");p({data:f,width:u.width,height:u.height})})})},getBlob:function(g,v){var s=this;return new Promise(function(p){s.getCanvasData(g,v).then(function(u){u.toBlob(function(f){p({data:f,width:u.width,height:u.height})},"image/png")})})},getCanvasData:function(g,v){var s=this,p=g.cloneNode(!0),u=p.lastChild,f=u.childNodes&&u.childNodes.length;if(f)for(var d=0;d<f;d++){var y=u.childNodes[d],x=y.classList&&Array.from(y.classList);if(x&&x.indexOf("lf-base")<0)u.removeChild(u.childNodes[d]),f--,d--;else{var E=u.childNodes[d];E&&E.childNodes.forEach(function(N){var I=N;s.removeAnchor(I.firstChild)})}}p.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var S=window.devicePixelRatio||1,P=document.createElement("canvas"),k=document.getElementsByClassName("lf-base")[0],O=k.getBoundingClientRect(),z=this.lf.graphModel,G=z.transformMatrix,q=G.SCALE_X,Y=G.SCALE_Y,U=Math.ceil(O.width/q),L=Math.ceil(O.height/Y);P.style.width=U+"px",P.style.height=L+"px",P.width=U*S+80,P.height=L*S+80;var H=P.getContext("2d");H.scale(S,S),v?(H.fillStyle=v,H.fillRect(0,0,U*S+80,L*S+80)):H.clearRect(0,0,U,L);var $=new Image;return new Promise(function(N){$.onload=function(){H.drawImage($,0,0),N(P)};var I="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(p),C=I.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");$.src=C})}},v1=new Un([32,32,1]);function Wv(){return v1.next()}var Kt=function(){};Kt.ObjTree=function(){return this};Kt.ObjTree.VERSION="0.23";Kt.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;Kt.ObjTree.prototype.attr_prefix="-";Kt.ObjTree.prototype.parseXML=function(g){var v;if(window.DOMParser){var s=new DOMParser,p=s.parseFromString(g,"application/xml");if(!p)return;v=p.documentElement}else window.ActiveXObject&&(s=new ActiveXObject("Microsoft.XMLDOM"),s.async=!1,s.loadXML(g),v=s.documentElement);if(!!v)return this.parseDOM(v)};Kt.ObjTree.prototype.parseHTTP=function(g,v,s){var p={};for(var u in v)p[u]=v[u];if(p.method||(typeof p.postBody=="undefined"&&typeof p.postbody=="undefined"&&typeof p.parameters=="undefined"?p.method="get":p.method="post"),s){p.asynchronous=!0;var f=this,d=s,y=p.onComplete;p.onComplete=function(S){var P;S&&S.responseXML&&S.responseXML.documentElement&&(P=f.parseDOM(S.responseXML.documentElement)),d(P,S),y&&y(S)}}else p.asynchronous=!1;var x;if(typeof HTTP!="undefined"&&HTTP.Request){p.uri=g;var E=new HTTP.Request(p);E&&(x=E.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var E=new Ajax.Request(g,p);E&&(x=E.transport)}if(s)return x;if(x&&x.responseXML&&x.responseXML.documentElement)return this.parseDOM(x.responseXML.documentElement)};Kt.ObjTree.prototype.parseDOM=function(g){if(!!g){if(this.__force_array={},this.force_array)for(var v=0;v<this.force_array.length;v++)this.__force_array[this.force_array[v]]=1;var s=this.parseElement(g);if(this.__force_array[g.nodeName]&&(s=[s]),g.nodeType!=11){var p={};p[g.nodeName]=s,s=p}return s}};Kt.ObjTree.prototype.parseElement=function(g){if(g.nodeType!=7){if(g.nodeType==3||g.nodeType==4){var v=g.nodeValue.match(/[^\x00-\x20]/);return v==null?void 0:g.nodeValue}var s,p={};if(g.attributes&&g.attributes.length){s={};for(var u=0;u<g.attributes.length;u++){var f=g.attributes[u].nodeName;if(typeof f=="string"){var d=g.attributes[u].nodeValue;!d||(f=this.attr_prefix+f,typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(s,f,p[f],d))}}}if(g.childNodes&&g.childNodes.length){var y=!0;s&&(y=!1);for(var u=0;u<g.childNodes.length&&y;u++){var x=g.childNodes[u].nodeType;x==3||x==4||(y=!1)}if(y){s||(s="");for(var u=0;u<g.childNodes.length;u++)s+=g.childNodes[u].nodeValue}else{s||(s={});for(var u=0;u<g.childNodes.length;u++){var f=g.childNodes[u].nodeName;if(typeof f=="string"){var d=this.parseElement(g.childNodes[u]);!d||(typeof p[f]=="undefined"&&(p[f]=0),p[f]++,this.addNode(s,f,p[f],d))}}}}return s}};Kt.ObjTree.prototype.addNode=function(g,v,s,p){this.__force_array[v]?(s==1&&(g[v]=[]),g[v][g[v].length]=p):s==1?g[v]=p:s==2?g[v]=[g[v],p]:g[v][g[v].length]=p};Kt.ObjTree.prototype.writeXML=function(g){var v=this.hash_to_xml(null,g);return this.xmlDecl+v};Kt.ObjTree.prototype.hash_to_xml=function(g,v){var s=[],p=[];for(var u in v)if(!!v.hasOwnProperty(u)){var f=v[u];u.charAt(0)!=this.attr_prefix?typeof f=="undefined"||f==null?s[s.length]="<"+u+" />":typeof f=="object"&&f.constructor==Array?s[s.length]=this.array_to_xml(u,f):typeof f=="object"?s[s.length]=this.hash_to_xml(u,f):s[s.length]=this.scalar_to_xml(u,f):p[p.length]=" "+u.substring(1)+'="'+this.xml_escape(f)+'"'}var d=p.join(""),y=s.join("");return typeof g=="undefined"||g==null||(s.length>0?y.match(/\n/)?y="<"+g+d+`>
`+y+"</"+g+`>
`:y="<"+g+d+">"+y+"</"+g+`>
`:y="<"+g+d+` />
`),y};Kt.ObjTree.prototype.array_to_xml=function(g,v){for(var s=[],p=0;p<v.length;p++){var u=v[p];typeof u=="undefined"||u==null?s[s.length]="<"+g+" />":typeof u=="object"&&u.constructor==Array?s[s.length]=this.array_to_xml(g,u):typeof u=="object"?s[s.length]=this.hash_to_xml(g,u):s[s.length]=this.scalar_to_xml(g,u)}return s.join("")};Kt.ObjTree.prototype.scalar_to_xml=function(g,v){return g=="#text"?this.xml_escape(v):"<"+g+">"+this.xml_escape(v)+"</"+g+`>
`};Kt.ObjTree.prototype.xml_escape=function(g){return g.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var tu=globalThis&&globalThis.__read||function(g,v){var s=typeof Symbol=="function"&&g[Symbol.iterator];if(!s)return g;var p=s.call(g),u,f=[],d;try{for(;(v===void 0||v-- >0)&&!(u=p.next()).done;)f.push(u.value)}catch(y){d={error:y}}finally{try{u&&!u.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f},Vn;(function(g){g.START="bpmn:startEvent",g.END="bpmn:endEvent",g.GATEWAY="bpmn:exclusiveGateway",g.USER="bpmn:userTask",g.SYSTEM="bpmn:serviceTask",g.FLOW="bpmn:sequenceFlow"})(Vn||(Vn={}));var Yv=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function gs(g){var v={};return Object.entries(g).forEach(function(s){var p=tu(s,2),u=p[0],f=p[1];typeof f!="object"?u.indexOf("-")===0?v[u]=f:v["-"+u]=f:v[u]=gs(f)}),v}function bs(g){var v={};return Object.entries(g).forEach(function(s){var p=tu(s,2),u=p[0],f=p[1];typeof f=="string"?u.indexOf("-")===0?v[u.substr(1)]=f:v[u]=f:typeof f=="object"?v[u]=bs(f):v[u]=f}),v}function g1(g,v){var s=new Map;v.nodes.forEach(function(u){var f,d={"-id":u.id};if(((f=u.text)===null||f===void 0?void 0:f.value)&&(d["-name"]=u.text.value),u.properties){var y=gs(u.properties);Object.assign(d,y)}s.set(u.id,d),g[u.type]?Array.isArray(g[u.type])?g[u.type].push(d):g[u.type]=[g[u.type],d]:g[u.type]=d});var p=v.edges.map(function(u){var f,d,y=s.get(u.targetNodeId);y["bpmn:incoming"]?Array.isArray(y["bpmn:incoming"])?y["bpmn:incoming"].push(u.id):y["bpmn:incoming"]=[y["bpmn:incoming"],u.id]:y["bpmn:incoming"]=u.id;var x=s.get(u.sourceNodeId);x["bpmn:outgoing"]?Array.isArray(x["bpmn:outgoing"])?x["bpmn:outgoing"].push(u.id):x["bpmn:outgoing"]=[x["bpmn:outgoing"],u.id]:x["bpmn:outgoing"]=u.id;var E={"-id":u.id,"-sourceRef":u.sourceNodeId,"-targetRef":u.targetNodeId};if(((f=u.text)===null||f===void 0?void 0:f.value)&&(E["-name"]=(d=u.text)===null||d===void 0?void 0:d.value),u.properties){var S=gs(u.properties);Object.assign(E,S)}return E});g[Vn.FLOW]=p}function b1(g,v){g["bpmndi:BPMNEdge"]=v.edges.map(function(s){var p,u=s.id,f=s.pointsList.map(function(y){var x=y.x,E=y.y;return{"-x":x,"-y":E}}),d={"-id":u+"_di","-bpmnElement":u,"di:waypoint":f};return((p=s.text)===null||p===void 0?void 0:p.value)&&(d["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),d}),g["bpmndi:BPMNShape"]=v.nodes.map(function(s){var p,u=s.id,f=100,d=80,y=s.x,x=s.y,E=Jr.shapeConfigMap.get(s.type);E&&(f=E.width,d=E.height),y-=f/2,x-=d/2;var S={"-id":u+"_di","-bpmnElement":u,"dc:Bounds":{"-x":y,"-y":x,"-width":f,"-height":d}};return((p=s.text)===null||p===void 0?void 0:p.value)&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":s.text.x-s.text.value.length*10/2,"-y":s.text.y-7,"-width":s.text.value.length*10,"-height":14}}),S})}function m1(g){var v=[],s=[],p=g["bpmn:definitions"];if(p){var u=p["bpmn:process"];Object.keys(u).forEach(function(f){if(f.indexOf("bpmn:")===0){var d=u[f];if(f===Vn.FLOW){var y=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];s=O1(d,y)}else{var x=p["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];v=v.concat(_1(d,x,f))}}})}return{nodes:v,edges:s}}function _1(g,v,s){var p=[];if(Array.isArray(g))g.forEach(function(d){var y;Array.isArray(v)?y=v.find(function(E){return E["-bpmnElement"]===d["-id"]}):y=v;var x=Gv(y,s,d);p.push(x)});else{var u=void 0;Array.isArray(v)?u=v.find(function(d){return d["-bpmnElement"]===g["-id"]}):u=v;var f=Gv(u,s,g);p.push(f)}return p}function Gv(g,v,s){var p=Number(g["dc:Bounds"]["-x"]),u=Number(g["dc:Bounds"]["-y"]),f=s["-name"],d=Jr.shapeConfigMap.get(v);d&&(p+=d.width/2,u+=d.height/2);var y;Object.entries(s).forEach(function(P){var k=tu(P,2),O=k[0],z=k[1];Yv.indexOf(O)===-1&&(y||(y={}),y[O]=z)}),y&&(y=bs(y));var x;if(f&&(x={x:p,y:u,value:f},g["bpmndi:BPMNLabel"]&&g["bpmndi:BPMNLabel"]["dc:Bounds"])){var E=g["bpmndi:BPMNLabel"]["dc:Bounds"];x.x=Number(E["-x"])+Number(E["-width"])/2,x.y=Number(E["-y"])+Number(E["-height"])/2}var S={id:g["-bpmnElement"],type:v,x:p,y:u,properties:y};return x&&(S.text=x),S}function O1(g,v){var s=[];if(Array.isArray(g))g.forEach(function(u){var f;Array.isArray(v)?f=v.find(function(d){return d["-bpmnElement"]===u["-id"]}):f=v,s.push($v(f,u))});else{var p=void 0;Array.isArray(v)?p=v.find(function(u){return u["-bpmnElement"]===g["-id"]}):p=v,s.push($v(p,g))}return s}function $v(g,v){var s,p=v["-name"];if(p){var u=g["bpmndi:BPMNLabel"]["dc:Bounds"],f=0;p.split(`
`).forEach(function(x){f<x.length&&(f=x.length)}),s={value:p,x:Number(u["-x"])+f*10/2,y:Number(u["-y"])+7}}var d;Object.entries(v).forEach(function(x){var E=tu(x,2),S=E[0],P=E[1];Yv.indexOf(S)===-1&&(d||(d={}),d[S]=P)}),d&&(d=bs(d));var y={id:v["-id"],type:Vn.FLOW,pointsList:g["di:waypoint"].map(function(x){return{x:Number(x["-x"]),y:Number(x["-y"])}}),sourceNodeId:v["-sourceRef"],targetNodeId:v["-targetRef"],properties:d};return s&&(y.text=s),y}var Jr={pluginName:"bpmn-adapter",install:function(g){g.adapterIn=this.adapterIn,g.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(g,v){this.shapeConfigMap.set(g,v)},adapterOut:function(g){var v={"-id":"Process_"+Wv(),"-isExecutable":"false"};g1(v,g);var s={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};b1(s,g);var p={"bpmn:definitions":{"-id":"Definitions_"+Wv(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":v,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":s}}};return p},adapterIn:function(g){if(g)return m1(g)}};Jr.shapeConfigMap.set(Vn.START,{width:Fv.width,height:Fv.height});Jr.shapeConfigMap.set(Vn.END,{width:Hv.width,height:Hv.height});Jr.shapeConfigMap.set(Vn.GATEWAY,{width:Xv.width,height:Xv.height});Jr.shapeConfigMap.set(Vn.SYSTEM,{width:Uv.width,height:Uv.height});Jr.shapeConfigMap.set(Vn.USER,{width:Vv.width,height:Vv.height});var Kv=globalThis&&globalThis.__assign||function(){return Kv=Object.assign||function(g){for(var v,s=1,p=arguments.length;s<p;s++){v=arguments[s];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},Kv.apply(this,arguments)},qv;(function(g){g[g.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",g[g.START_EVENT=2]="START_EVENT",g[g.END_EVENT=3]="END_EVENT",g[g.USER_TASK=4]="USER_TASK",g[g.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"})(qv||(qv={}));var Zv;(function(g){g.HORIZONTAL="horizontal",g.VERTICAL="vertical"})(Zv||(Zv={}));var w1=globalThis&&globalThis.__read||function(g,v){var s=typeof Symbol=="function"&&g[Symbol.iterator];if(!s)return g;var p=s.call(g),u,f=[],d;try{for(;(v===void 0||v-- >0)&&!(u=p.next()).done;)f.push(u.value)}catch(y){d={error:y}}finally{try{u&&!u.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f};globalThis&&globalThis.__spread;var x1=globalThis&&globalThis.__read||function(g,v){var s=typeof Symbol=="function"&&g[Symbol.iterator];if(!s)return g;var p=s.call(g),u,f=[],d;try{for(;(v===void 0||v-- >0)&&!(u=p.next()).done;)f.push(u.value)}catch(y){d={error:y}}finally{try{u&&!u.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f};globalThis&&globalThis.__spread;var E1=globalThis&&globalThis.__read||function(g,v){var s=typeof Symbol=="function"&&g[Symbol.iterator];if(!s)return g;var p=s.call(g),u,f=[],d;try{for(;(v===void 0||v-- >0)&&!(u=p.next()).done;)f.push(u.value)}catch(y){d={error:y}}finally{try{u&&!u.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f},S1=globalThis&&globalThis.__spread||function(){for(var g=[],v=0;v<arguments.length;v++)g=g.concat(E1(arguments[v]));return g},Ai="lf:defaultNodeMenu",Ti="lf:defaultEdgeMenu",Di="lf:defaultGraphMenu",Jv="lf:defaultSelectionMenu",j1=function(){function g(v){var s=this,p=v.lf;this.__menuDOM=document.createElement("ul"),this.lf=p,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(u){s.resetMenuItem(u)},this.lf.addMenuConfig=function(u){s.addMenuItem(u)},this.lf.setMenuByType=function(u){s.setMenuByType(u)}}return g.prototype.init=function(){var v=this,s=[{text:"\u5220\u9664",callback:function(f){v.lf.deleteNode(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){v.lf.graphModel.setTextEditable(f.id)}},{text:"\u590D\u5236",callback:function(f){v.lf.cloneNode(f.id)}}];this.menuTypeMap.set(Ai,s);var p=[{text:"\u5220\u9664",callback:function(f){v.lf.deleteEdge(f.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(f){v.lf.graphModel.setTextEditable(f.id)}}];this.menuTypeMap.set(Ti,p),this.menuTypeMap.set(Di,[]);var u=[{text:"\u5220\u9664",callback:function(f){v.lf.clearSelectElements(),f.edges.forEach(function(d){return v.lf.deleteEdge(d.id)}),f.nodes.forEach(function(d){return v.lf.deleteNode(d.id)})}}];this.menuTypeMap.set(Jv,u)},g.prototype.render=function(v,s){var p=this;this.__container=s,this.__currentData=null,this.__menuDOM.className="lf-menu",s.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(u){u.stopPropagation();for(var f=u.target;Array.from(f.classList).indexOf("lf-menu-item")===-1&&Array.from(f.classList).indexOf("lf-menu")===-1;)f=f.parentElement;Array.from(f.classList).indexOf("lf-menu-item")>-1?(f.onclickCallback(p.__currentData),p.__menuDOM.style.display="none",p.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(u){var f=u.data,d=u.position,y=d.domOverlayPosition,x=y.x,E=y.y,S=f.id,P=p.lf.graphModel.getNodeModel(S),k=[],O=p.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?k=P.menu:O?k=O:k=p.menuTypeMap.get(Ai),p.__currentData=f,p.showMenu(x,E,k)}),this.lf.on("edge:contextmenu",function(u){var f=u.data,d=u.position,y=d.domOverlayPosition,x=y.x,E=y.y,S=f.id,P=p.lf.graphModel.getEdgeModel(S),k=[],O=p.menuTypeMap.get(P.type);P&&P.menu&&Array.isArray(P.menu)?k=P.menu:O?k=O:k=p.menuTypeMap.get(Ti),p.__currentData=f,p.showMenu(x,E,k)}),this.lf.on("blank:contextmenu",function(u){var f=u.position,d=p.menuTypeMap.get(Di),y=f.domOverlayPosition,x=y.x,E=y.y;p.showMenu(x,E,d)}),this.lf.on("selection:contextmenu",function(u){var f=u.data,d=u.position,y=p.menuTypeMap.get(Jv),x=d.domOverlayPosition,E=x.x,S=x.y;p.__currentData=f,p.showMenu(E,S,y)}),this.lf.on("node:mousedown",function(){p.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){p.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){p.__menuDOM.style.display="none"})},g.prototype.destroy=function(){var v;(v=this===null||this===void 0?void 0:this.__container)===null||v===void 0||v.removeChild(this.__menuDOM),this.__menuDOM=null},g.prototype.showMenu=function(v,s,p){if(!(!p||!p.length)){var u=this.__menuDOM;u.innerHTML="",u.append.apply(u,S1(this.__getMenuDom(p))),!!u.children.length&&(u.style.display="block",u.style.top=s+"px",u.style.left=v+"px")}},g.prototype.setMenuByType=function(v){!v.type||!v.menu||this.menuTypeMap.set(v.type,v.menu)},g.prototype.__getMenuDom=function(v){var s=[];return v&&v.length>0&&v.forEach(function(p){var u=document.createElement("li");if(p.className?u.className="lf-menu-item "+p.className:u.className="lf-menu-item",p.icon===!0){var f=document.createElement("span");f.className="lf-menu-item-icon",u.appendChild(f)}var d=document.createElement("span");d.className="lf-menu-item-text",p.text&&(d.innerText=p.text),u.appendChild(d),u.onclickCallback=p.callback,s.push(u)}),s},g.prototype.resetMenuItem=function(v){!v||(v.nodeMenu!==void 0&&this.menuTypeMap.set(Ai,v.nodeMenu?v.nodeMenu:[]),v.edgeMenu!==void 0&&this.menuTypeMap.set(Ti,v.edgeMenu?v.edgeMenu:[]),v.graphMenu!==void 0&&this.menuTypeMap.set(Di,v.graphMenu?v.graphMenu:[]))},g.prototype.addMenuItem=function(v){if(!!v){if(Array.isArray(v.nodeMenu)){var s=this.menuTypeMap.get(Ai);this.menuTypeMap.set(Ai,s.concat(v.nodeMenu))}if(Array.isArray(v.edgeMenu)){var s=this.menuTypeMap.get(Ti);this.menuTypeMap.set(Ti,s.concat(v.edgeMenu))}if(Array.isArray(v.graphMenu)){var s=this.menuTypeMap.get(Di);this.menuTypeMap.set(Di,s.concat(v.graphMenu))}}},g.prototype.changeMenuItem=function(v,s){if(v==="add")this.addMenuItem(s);else if(v==="reset")this.resetMenuItem(s);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},g.pluginName="Menu",g}();globalThis&&globalThis.__values;var Qv=globalThis&&globalThis.__extends||function(){var g=function(v,s){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,s)};return function(v,s){g(v,s);function p(){this.constructor=v}v.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Mi=globalThis&&globalThis.__read||function(g,v){var s=typeof Symbol=="function"&&g[Symbol.iterator];if(!s)return g;var p=s.call(g),u,f=[],d;try{for(;(v===void 0||v-- >0)&&!(u=p.next()).done;)f.push(u.value)}catch(y){d={error:y}}finally{try{u&&!u.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f};(function(g){Qv(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getEdge=function(){for(var s=this.getAttributes(),p=s.points,u=s.strokeWidth,f=s.stroke,d=s.strokeDashArray,y=p.split(" ").map(function(V){return V.split(",").map(function(K){return Number(K)})}),x=Mi(y[0],2),E=x[0],S=x[1],P="M"+E+" "+S,k=5,O=1;O<y.length-1;O++){var z=Mi(y[O-1],2),G=z[0],q=z[1],Y=Mi(y[O],2),U=Y[0],L=Y[1],H=Mi(y[O+1],2),$=H[0],N=H[1];if(U===G&&L!==q){var I=L>q?L-k:L+k;P=P+" L "+U+" "+I}if(L===q&&U!==G){var C=U>G?U-k:U+k;P=P+" L "+C+" "+L}if(P=P+" Q "+U+" "+L,U===$&&L!==N){var I=L>N?L-k:L+k;P=P+" "+U+" "+I}if(L===N&&U!==$){var C=U>$?U-k:U+k;P=P+" "+C+" "+L}}var F=Mi(y[y.length-1],2),B=F[0],R=F[1];return P=P+" L "+B+" "+R,Ae.exports.h("path",{d:P,strokeWidth:u,stroke:f,fill:"none",strokeDashArray:d})},v.extendKey="CurvedEdge",v})(Ae.exports.PolylineEdge);(function(g){Qv(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v})(Ae.exports.PolylineEdgeModel);var eg=globalThis&&globalThis.__extends||function(){var g=function(v,s){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,s)};return function(v,s){g(v,s);function p(){this.constructor=v}v.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),P1=globalThis&&globalThis.__read||function(g,v){var s=typeof Symbol=="function"&&g[Symbol.iterator];if(!s)return g;var p=s.call(g),u,f=[],d;try{for(;(v===void 0||v-- >0)&&!(u=p.next()).done;)f.push(u.value)}catch(y){d={error:y}}finally{try{u&&!u.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f},k1=globalThis&&globalThis.__spread||function(){for(var g=[],v=0;v<arguments.length;v++)g=g.concat(P1(arguments[v]));return g};(function(g){eg(v,g);function v(){var s=g!==null&&g.apply(this,arguments)||this;return s.isGroup=!0,s.children=new Set,s.isRestrict=!0,s}return v.prototype.setAttributes=function(){this.width=500,this.height=200,this.strokeWidth=1,this.zIndex=0},v.prototype.setIsRestrict=function(s){this.isRestrict=s},v.prototype.isInRange=function(s){var p=s.x1,u=s.y1,f=s.x2,d=s.y2;return p>=this.x-this.width/2&&f<=this.x+this.width/2&&u>=this.y-this.height/2&&d<=this.y+this.height/2},v.prototype.setAllowAppendChild=function(s){s?this.stroke="red":this.stroke="rgb(24, 125, 255)"},v.prototype.addChild=function(s){this.children.add(s)},v.prototype.removeChild=function(s){this.children.delete(s)},v.prototype.getData=function(){var s=g.prototype.getData.call(this);return s.children=k1(this.children),s},v})(Ae.exports.RectNodeModel);(function(g){eg(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.toFront=function(){},v.prototype.getShapeStyle=function(){var s=g.prototype.getShapeStyle.call(this);return s.radius=0,s},v})(Ae.exports.RectNode);var A1=globalThis&&globalThis.__read||function(g,v){var s=typeof Symbol=="function"&&g[Symbol.iterator];if(!s)return g;var p=s.call(g),u,f=[],d;try{for(;(v===void 0||v-- >0)&&!(u=p.next()).done;)f.push(u.value)}catch(y){d={error:y}}finally{try{u&&!u.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f};globalThis&&globalThis.__spread;var ms,vt,tg,Ni,ng,rg,og={},ig=[],T1=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function jr(g,v){for(var s in v)g[s]=v[s];return g}function ag(g){var v=g.parentNode;v&&v.removeChild(g)}function Ci(g,v,s){var p,u,f,d={};for(f in v)f=="key"?p=v[f]:f=="ref"?u=v[f]:d[f]=v[f];if(arguments.length>2&&(d.children=arguments.length>3?ms.call(arguments,2):s),typeof g=="function"&&g.defaultProps!=null)for(f in g.defaultProps)d[f]===void 0&&(d[f]=g.defaultProps[f]);return nu(g,d,p,u,null)}function nu(g,v,s,p,u){var f={type:g,props:v,key:s,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:u==null?++tg:u};return u==null&&vt.vnode!=null&&vt.vnode(f),f}function _s(g){return g.children}function Io(g,v){this.props=g,this.context=v}function Lo(g,v){if(v==null)return g.__?Lo(g.__,g.__.__k.indexOf(g)+1):null;for(var s;v<g.__k.length;v++)if((s=g.__k[v])!=null&&s.__e!=null)return s.__e;return typeof g.type=="function"?Lo(g):null}function ug(g){var v,s;if((g=g.__)!=null&&g.__c!=null){for(g.__e=g.__c.base=null,v=0;v<g.__k.length;v++)if((s=g.__k[v])!=null&&s.__e!=null){g.__e=g.__c.base=s.__e;break}return ug(g)}}function cg(g){(!g.__d&&(g.__d=!0)&&Ni.push(g)&&!ru.__r++||rg!==vt.debounceRendering)&&((rg=vt.debounceRendering)||ng)(ru)}function ru(){for(var g;ru.__r=Ni.length;)g=Ni.sort(function(v,s){return v.__v.__b-s.__v.__b}),Ni=[],g.some(function(v){var s,p,u,f,d,y;v.__d&&(d=(f=(s=v).__v).__e,(y=s.__P)&&(p=[],(u=jr({},f)).__v=f.__v+1,yg(y,f,u,s.__n,y.ownerSVGElement!==void 0,f.__h!=null?[d]:null,p,d==null?Lo(f):d,f.__h),M1(p,f),f.__e!=d&&ug(f)))})}function sg(g,v,s,p,u,f,d,y,x,E){var S,P,k,O,z,G,q,Y=p&&p.__k||ig,U=Y.length;for(s.__k=[],S=0;S<v.length;S++)if((O=s.__k[S]=(O=v[S])==null||typeof O=="boolean"?null:typeof O=="string"||typeof O=="number"||typeof O=="bigint"?nu(null,O,null,null,O):Array.isArray(O)?nu(_s,{children:O},null,null,null):O.__b>0?nu(O.type,O.props,O.key,null,O.__v):O)!=null){if(O.__=s,O.__b=s.__b+1,(k=Y[S])===null||k&&O.key==k.key&&O.type===k.type)Y[S]=void 0;else for(P=0;P<U;P++){if((k=Y[P])&&O.key==k.key&&O.type===k.type){Y[P]=void 0;break}k=null}yg(g,O,k=k||og,u,f,d,y,x,E),z=O.__e,(P=O.ref)&&k.ref!=P&&(q||(q=[]),k.ref&&q.push(k.ref,null,O),q.push(P,O.__c||z,O)),z!=null?(G==null&&(G=z),typeof O.type=="function"&&O.__k===k.__k?O.__d=x=lg(O,x,g):x=fg(g,O,k,Y,z,x),typeof s.type=="function"&&(s.__d=x)):x&&k.__e==x&&x.parentNode!=g&&(x=Lo(k))}for(s.__e=G,S=U;S--;)Y[S]!=null&&(typeof s.type=="function"&&Y[S].__e!=null&&Y[S].__e==s.__d&&(s.__d=Lo(p,S+1)),gg(Y[S],Y[S]));if(q)for(S=0;S<q.length;S++)vg(q[S],q[++S],q[++S])}function lg(g,v,s){for(var p,u=g.__k,f=0;u&&f<u.length;f++)(p=u[f])&&(p.__=g,v=typeof p.type=="function"?lg(p,v,s):fg(s,p,p,u,p.__e,v));return v}function fg(g,v,s,p,u,f){var d,y,x;if(v.__d!==void 0)d=v.__d,v.__d=void 0;else if(s==null||u!=f||u.parentNode==null)e:if(f==null||f.parentNode!==g)g.appendChild(u),d=null;else{for(y=f,x=0;(y=y.nextSibling)&&x<p.length;x+=2)if(y==u)break e;g.insertBefore(u,f),d=f}return d!==void 0?d:u.nextSibling}function D1(g,v,s,p,u){var f;for(f in s)f==="children"||f==="key"||f in v||ou(g,f,null,s[f],p);for(f in v)u&&typeof v[f]!="function"||f==="children"||f==="key"||f==="value"||f==="checked"||s[f]===v[f]||ou(g,f,v[f],s[f],p)}function pg(g,v,s){v[0]==="-"?g.setProperty(v,s):g[v]=s==null?"":typeof s!="number"||T1.test(v)?s:s+"px"}function ou(g,v,s,p,u){var f;e:if(v==="style")if(typeof s=="string")g.style.cssText=s;else{if(typeof p=="string"&&(g.style.cssText=p=""),p)for(v in p)s&&v in s||pg(g.style,v,"");if(s)for(v in s)p&&s[v]===p[v]||pg(g.style,v,s[v])}else if(v[0]==="o"&&v[1]==="n")f=v!==(v=v.replace(/Capture$/,"")),v=v.toLowerCase()in g?v.toLowerCase().slice(2):v.slice(2),g.l||(g.l={}),g.l[v+f]=s,s?p||g.addEventListener(v,f?dg:hg,f):g.removeEventListener(v,f?dg:hg,f);else if(v!=="dangerouslySetInnerHTML"){if(u)v=v.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(v!=="href"&&v!=="list"&&v!=="form"&&v!=="tabIndex"&&v!=="download"&&v in g)try{g[v]=s==null?"":s;break e}catch{}typeof s=="function"||(s!=null&&(s!==!1||v[0]==="a"&&v[1]==="r")?g.setAttribute(v,s):g.removeAttribute(v))}}function hg(g){this.l[g.type+!1](vt.event?vt.event(g):g)}function dg(g){this.l[g.type+!0](vt.event?vt.event(g):g)}function yg(g,v,s,p,u,f,d,y,x){var E,S,P,k,O,z,G,q,Y,U,L,H=v.type;if(v.constructor!==void 0)return null;s.__h!=null&&(x=s.__h,y=v.__e=s.__e,v.__h=null,f=[y]),(E=vt.__b)&&E(v);try{e:if(typeof H=="function"){if(q=v.props,Y=(E=H.contextType)&&p[E.__c],U=E?Y?Y.props.value:E.__:p,s.__c?G=(S=v.__c=s.__c).__=S.__E:("prototype"in H&&H.prototype.render?v.__c=S=new H(q,U):(v.__c=S=new Io(q,U),S.constructor=H,S.render=C1),Y&&Y.sub(S),S.props=q,S.state||(S.state={}),S.context=U,S.__n=p,P=S.__d=!0,S.__h=[]),S.__s==null&&(S.__s=S.state),H.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=jr({},S.__s)),jr(S.__s,H.getDerivedStateFromProps(q,S.__s))),k=S.props,O=S.state,P)H.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if(H.getDerivedStateFromProps==null&&q!==k&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(q,U),!S.__e&&S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(q,S.__s,U)===!1||v.__v===s.__v){S.props=q,S.state=S.__s,v.__v!==s.__v&&(S.__d=!1),S.__v=v,v.__e=s.__e,v.__k=s.__k,v.__k.forEach(function($){$&&($.__=v)}),S.__h.length&&d.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(q,S.__s,U),S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(k,O,z)})}S.context=U,S.props=q,S.state=S.__s,(E=vt.__r)&&E(v),S.__d=!1,S.__v=v,S.__P=g,E=S.render(S.props,S.state,S.context),S.state=S.__s,S.getChildContext!=null&&(p=jr(jr({},p),S.getChildContext())),P||S.getSnapshotBeforeUpdate==null||(z=S.getSnapshotBeforeUpdate(k,O)),L=E!=null&&E.type===_s&&E.key==null?E.props.children:E,sg(g,Array.isArray(L)?L:[L],v,s,p,u,f,d,y,x),S.base=v.__e,v.__h=null,S.__h.length&&d.push(S),G&&(S.__E=S.__=null),S.__e=!1}else f==null&&v.__v===s.__v?(v.__k=s.__k,v.__e=s.__e):v.__e=N1(s.__e,v,s,p,u,f,d,x);(E=vt.diffed)&&E(v)}catch($){v.__v=null,(x||f!=null)&&(v.__e=y,v.__h=!!x,f[f.indexOf(y)]=null),vt.__e($,v,s)}}function M1(g,v){vt.__c&&vt.__c(v,g),g.some(function(s){try{g=s.__h,s.__h=[],g.some(function(p){p.call(s)})}catch(p){vt.__e(p,s.__v)}})}function N1(g,v,s,p,u,f,d,y){var x,E,S,P=s.props,k=v.props,O=v.type,z=0;if(O==="svg"&&(u=!0),f!=null){for(;z<f.length;z++)if((x=f[z])&&"setAttribute"in x==!!O&&(O?x.localName===O:x.nodeType===3)){g=x,f[z]=null;break}}if(g==null){if(O===null)return document.createTextNode(k);g=u?document.createElementNS("http://www.w3.org/2000/svg",O):document.createElement(O,k.is&&k),f=null,y=!1}if(O===null)P===k||y&&g.data===k||(g.data=k);else{if(f=f&&ms.call(g.childNodes),E=(P=s.props||og).dangerouslySetInnerHTML,S=k.dangerouslySetInnerHTML,!y){if(f!=null)for(P={},z=0;z<g.attributes.length;z++)P[g.attributes[z].name]=g.attributes[z].value;(S||E)&&(S&&(E&&S.__html==E.__html||S.__html===g.innerHTML)||(g.innerHTML=S&&S.__html||""))}if(D1(g,k,P,u,y),S)v.__k=[];else if(z=v.props.children,sg(g,Array.isArray(z)?z:[z],v,s,p,u&&O!=="foreignObject",f,d,f?f[0]:s.__k&&Lo(s,0),y),f!=null)for(z=f.length;z--;)f[z]!=null&&ag(f[z]);y||("value"in k&&(z=k.value)!==void 0&&(z!==P.value||z!==g.value||O==="progress"&&!z)&&ou(g,"value",z,P.value,!1),"checked"in k&&(z=k.checked)!==void 0&&z!==g.checked&&ou(g,"checked",z,P.checked,!1))}return g}function vg(g,v,s){try{typeof g=="function"?g(v):g.current=v}catch(p){vt.__e(p,s)}}function gg(g,v,s){var p,u;if(vt.unmount&&vt.unmount(g),(p=g.ref)&&(p.current&&p.current!==g.__e||vg(p,null,v)),(p=g.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(f){vt.__e(f,v)}p.base=p.__P=null}if(p=g.__k)for(u=0;u<p.length;u++)p[u]&&gg(p[u],v,typeof g.type!="function");s||g.__e==null||ag(g.__e),g.__e=g.__d=void 0}function C1(g,v,s){return this.constructor(g,s)}ms=ig.slice,vt={__e:function(g,v){for(var s,p,u;v=v.__;)if((s=v.__c)&&!s.__)try{if((p=s.constructor)&&p.getDerivedStateFromError!=null&&(s.setState(p.getDerivedStateFromError(g)),u=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(g),u=s.__d),u)return s.__E=s}catch(f){g=f}throw g}},tg=0,Io.prototype.setState=function(g,v){var s;s=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=jr({},this.state),typeof g=="function"&&(g=g(jr({},s),this.props)),g&&jr(s,g),g!=null&&this.__v&&(v&&this.__h.push(v),cg(this))},Io.prototype.forceUpdate=function(g){this.__v&&(this.__e=!0,g&&this.__h.push(g),cg(this))},Io.prototype.render=_s,Ni=[],ng=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ru.__r=0;var Ri=globalThis&&globalThis.__assign||function(){return Ri=Object.assign||function(g){for(var v,s=1,p=arguments.length;s<p;s++){v=arguments[s];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},Ri.apply(this,arguments)};function Os(g){var v=g.x,s=g.y,p=g.width,u=g.height,f=g.radius,d=g.className,y=v-p/2,x=s-u/2,E=Ri(Ri({width:10,height:10,cx:0,cy:0,rx:f||0,ry:f||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+d},g),{x:y,y:x});return Ae.exports.h("rect",Ri({},E))}Os.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Ii;(function(g){g.NODE="node",g.CIRCLE_NODE="circle-node",g.POLYGON_NODE="polygon-node",g.RECT_NODE="rect-node",g.TEXT_NODE="text-node",g.ELLIPSE_NODE="ellipse-node",g.DIAMOND_NODE="diamond-node",g.EDGE="edge",g.LINE_EDGE="line-edge",g.POLYLINE_EDGE="polyline-edge",g.BEZIER_EDGE="bezier-edge",g.GRAPH="graph"})(Ii||(Ii={}));function iu(g){var v=g.x,s=g.y,p=g.width,u=g.height;return{minX:v-p/2,minY:s-u/2,maxX:v+p/2,maxY:s+u/2}}function bg(g){var v=iu(g),s=g.radius,p=v.minX,u=v.minY,f=v.maxX,d=v.maxY;return[{x:p+s,y:u+s},{x:f-s,y:u+s},{x:f-s,y:d-s},{x:p+s,y:d-s}]}function mg(g){var v=g.point,s=g.beforeNode,p=g.afterNode,u=v.x,f=v.y,d={x:u,y:f},y=s.radius,x=iu(s),E=iu(p);if(u===x.minX){d.x=E.minX;var S=(f-s.y)/(s.height/2-y);S?d.y=p.y+(p.height/2-y)*S:d.y=p.y}else if(u===x.maxX){d.x=E.maxX;var S=(f-s.y)/(s.height/2-y);S?d.y=p.y+(p.height/2-y)*S:d.y=p.y}else if(f===x.minY){d.y=E.minY;var S=(u-s.x)/(s.width/2-y);S?d.x=p.x+(p.width/2-y)*S:d.x=p.x}else if(f===x.maxY){d.y=E.maxY;var S=(u-s.x)/(s.width/2-y);S?d.x=p.x+(p.width/2-y)*S:d.x=p.x}else{var P=bg(s),k=bg(p),O=iu(s),z=O.minX,G=O.minY,q=O.maxX,Y=O.maxY,U=-1;if(u-z<y&&f-G<y?U=0:q-u<y&&f-G<y?U=1:q-u<y&&Y-f<y?U=2:u-z<y&&G-f<y&&(U=3),U>-1){var L=Math.atan2(f-P[U].y,u-P[U].x);d.x=k[U].x+y*Math.cos(L),d.y=k[U].y+y*Math.sin(L)}}return d}function _g(g){var v=g.point,s=g.beforeNode,p=g.afterNode,u=p.rx,f=p.ry,d=v,y=(v.y-s.y)/(v.x-s.x),x=u,E=f,S,P;return y>=1/0?(S=0,P=E):y<=-1/0?(S=0,P=-E):v.x-s.x>0?(S=x*E/Math.sqrt(E*E+x*x*y*y),P=x*E*y/Math.sqrt(E*E+x*x*y*y)):(S=-(x*E)/Math.sqrt(E*E+x*x*y*y),P=-(x*E*y)/Math.sqrt(E*E+x*x*y*y)),d={x:S+p.x,y:P+p.y},d}function Og(g){var v=g.point,s=g.beforeNode,p=g.afterNode,u=v,f,d,y=v.x-s.x,x=v.y-s.y,E=s.rx,S=s.ry,P=Math.sqrt((E-Math.abs(y))*(E-Math.abs(y))+x*x)/Math.sqrt(E*E+S*S),k=p.rx,O=p.ry,z=Math.sqrt((k*k+O*O)*P*P*(k*k/(k*k+O*O))),G=z*(O/k);return y>=0?f=k-z:f=z-k,x>0?d=G:d=-G,u={x:f+p.x,y:d+p.y},u}var R1=globalThis&&globalThis.__extends||function(){var g=function(v,s){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,s)};return function(v,s){g(v,s);function p(){this.constructor=v}v.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Qr=globalThis&&globalThis.__assign||function(){return Qr=Object.assign||function(g){for(var v,s=1,p=arguments.length;s<p;s++){v=arguments[s];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},Qr.apply(this,arguments)},I1=Ae.exports.LogicFlowUtil.createDrag,L1=function(g){R1(v,g);function v(s){var p=g.call(this)||this;p.updatePosition=function(d){var y=d.deltaX,x=d.deltaY,E=p.nodeModel,S=E.x,P=E.y;p.nodeModel.x=S+y/2,p.nodeModel.y=P+x/2,p.nodeModel.moveText(y/2,x/2)},p.getResize=function(d){var y=d.index,x=d.deltaX,E=d.deltaY,S=d.width,P=d.height,k=d.pct,O=k===void 0?1:k,z={width:S,height:P};switch(y){case 0:z.width=S-x*O,z.height=P-E*O;break;case 1:z.width=S+x*O,z.height=P-E*O;break;case 2:z.width=S+x,z.height=P+E*O;break;case 3:z.width=S-x*O,z.height=P+E*O;break}return z},p.updateRect=function(d){var y=d.deltaX,x=d.deltaY,E=p.nodeModel,S=E.id,P=E.x,k=E.y,O=E.width,z=E.height,G=E.radius,q=p.index,Y=p.getResize({index:q,deltaX:y,deltaY:x,width:O,height:z,pct:1}),U=p.nodeModel,L=U.minWidth,H=U.minHeight,$=U.maxWidth,N=U.maxHeight;if(!(Y.width<L||Y.width>$||Y.height<H||Y.height>N)){p.updatePosition({deltaX:y,deltaY:x}),p.nodeModel.width=Y.width,p.nodeModel.height=Y.height,p.nodeModel.setProperties({nodeSize:{width:Y.width,height:Y.height}});var I=p.getNodeEdges(S),C={x:P,y:k,width:O,height:z,radius:G},F={x:p.nodeModel.x,y:p.nodeModel.y,width:p.nodeModel.width,height:p.nodeModel.height,radius:G},B={point:"",beforeNode:C,afterNode:F},R;I.sourceEdges.forEach(function(V){B.point=V.startPoint,R=mg(B),V.updateStartPoint(R)}),I.targetEdges.forEach(function(V){B.point=V.endPoint,R=mg(B),V.updateEndPoint(R)}),p.eventEmit({beforeNode:C,afterNode:F})}},p.updateEllipse=function(d){var y=d.deltaX,x=d.deltaY,E=p.nodeModel,S=E.id,P=E.rx,k=E.ry,O=E.x,z=E.y,G=p.index,q=P,Y=k,U=p.getResize({index:G,deltaX:y,deltaY:x,width:q,height:Y,pct:1/2}),L=p.nodeModel,H=L.minWidth,$=L.minHeight,N=L.maxWidth,I=L.maxHeight;if(!(U.width<H/2||U.width>N/2||U.height<$/2||U.height>I/2)){p.updatePosition({deltaX:y,deltaY:x}),p.nodeModel.rx=U.width,p.nodeModel.ry=U.height,p.nodeModel.setProperties({nodeSize:{rx:U.width,ry:U.height}});var C=p.getNodeEdges(S),F={x:O,y:z},B={rx:U.width,ry:U.height,x:p.nodeModel.x,y:p.nodeModel.y},R={point:{},beforeNode:F,afterNode:B},V;C.sourceEdges.forEach(function(K){R.point=K.startPoint,V=_g(R),K.updateStartPoint(V)}),C.targetEdges.forEach(function(K){R.point=K.endPoint,V=_g(R),K.updateEndPoint(V)}),p.eventEmit({beforeNode:Qr(Qr({},F),{rx:P,ry:k}),afterNode:B})}},p.updateDiamond=function(d){var y=d.deltaX,x=d.deltaY,E=p.nodeModel,S=E.id,P=E.rx,k=E.ry,O=E.x,z=E.y,G=p.index,q=P,Y=k,U=p.getResize({index:G,deltaX:y,deltaY:x,width:q,height:Y,pct:1/2}),L=As.sizeRange.ellipse,H=L.minRx,$=L.minRy,N=L.maxRx,I=L.maxRy;if(!(U.width<H||U.width>N||U.height<$||U.height>I)){p.updatePosition({deltaX:y,deltaY:x}),p.nodeModel.rx=U.width,p.nodeModel.ry=U.height,p.nodeModel.setProperties({nodeSize:{rx:U.width,ry:U.height}});var C={x:O,y:z,rx:P,ry:k},F={rx:U.width,ry:U.height,x:p.nodeModel.x,y:p.nodeModel.y},B={point:{},beforeNode:C,afterNode:F},R,V=p.getNodeEdges(S);V.sourceEdges.forEach(function(K){B.point=K.startPoint,R=Og(B),K.updateStartPoint(R)}),V.targetEdges.forEach(function(K){B.point=K.endPoint,R=Og(B),K.updateEndPoint(R)}),p.eventEmit({beforeNode:C,afterNode:F})}},p.eventEmit=function(d){var y=d.beforeNode,x=d.afterNode,E=p.nodeModel,S=E.id,P=E.modelType,k=E.type,O=Qr({id:S,modelType:P,type:k},y),z=Qr({id:S,modelType:P,type:k},x);p.graphModel.eventCenter.emit("node:resize",{oldNodeSize:O,newNodeSize:z})},p.onDraging=function(d){var y=d.deltaX,x=d.deltaY,E=p.nodeModel.modelType;E===Ii.RECT_NODE?p.updateRect({deltaX:y,deltaY:x}):E===Ii.ELLIPSE_NODE?p.updateEllipse({deltaX:y,deltaY:x}):E===Ii.DIAMOND_NODE&&p.updateDiamond({deltaX:y,deltaY:x})},p.index=s.index,p.nodeModel=s.nodeModel,p.graphModel=s.graphModel;var u=p.graphModel.gridSize,f=2;return u>1&&(f=2*u),p.state={},p.dragHandler=I1({onDraging:p.onDraging,step:f}),p}return v.prototype.getNodeEdges=function(s){for(var p=this.graphModel,u=p.edges,f=[],d=[],y=0;y<u.length;y++){var x=u[y];x.sourceNodeId===s?f.push(x):u[y].targetNodeId===s&&d.push(x)}return{sourceEdges:f,targetEdges:d}},v.prototype.render=function(){var s=this.props,p=s.x,u=s.y,f=s.style,d=s.index,y=As.style.controlPoint,x=y.width,E=y.height,S=y.fill,P=y.stroke;return Ci("g",{className:"lf-resize-control-"+d},Ci(Os,Qr({className:"lf-node-control"},{x:p,y:u},f,{width:x,height:E,fill:S,stroke:P,onMouseDown:this.dragHandler})))},v}(Io),z1=globalThis&&globalThis.__extends||function(){var g=function(v,s){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,s)};return function(v,s){g(v,s);function p(){this.constructor=v}v.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),ws=globalThis&&globalThis.__assign||function(){return ws=Object.assign||function(g){for(var v,s=1,p=arguments.length;s<p;s++){v=arguments[s];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},ws.apply(this,arguments)},xs=function(g){z1(v,g);function v(){var s=g.call(this)||this;return s.state={},s}return v.prototype.getResizeControl=function(){var s=this.props,p=s.x,u=s.y,f=s.width,d=s.height,y=s.nodeModel,x=s.graphModel,E={minX:p-f/2,minY:u-d/2,maxX:p+f/2,maxY:u+d/2},S=E.minX,P=E.minY,k=E.maxX,O=E.maxY,z=[{x:S,y:P},{x:k,y:P},{x:k,y:O},{x:S,y:O}];return z.map(function(G,q){return Ci(L1,ws({index:q},G,{nodeModel:y,graphModel:x}))})},v.prototype.getGroupSolid=function(){var s=this.props,p=s.x,u=s.y,f=s.width,d=s.height,y=As.style.outline,x=y.stroke,E=y.strokeWidth,S=y.strokeDasharray;return Ci(Os,{fill:"none",x:p,y:u,width:f,height:d,stroke:x,strokeWidth:E,strokeDasharray:S})},v.prototype.render=function(){return Ci("g",{className:"lf-resize-control"},this.getResizeControl())},v}(Io),wg=globalThis&&globalThis.__extends||function(){var g=function(v,s){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,s)};return function(v,s){g(v,s);function p(){this.constructor=v}v.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),Es=globalThis&&globalThis.__assign||function(){return Es=Object.assign||function(g){for(var v,s=1,p=arguments.length;s<p;s++){v=arguments[s];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},Es.apply(this,arguments)},B1=function(g){wg(v,g);function v(){var s=g!==null&&g.apply(this,arguments)||this;return s.minWidth=30,s.minHeight=30,s.maxWidth=2e3,s.maxHeight=2e3,s}return v.prototype.setAttributes=function(){var s=this.properties.nodeSize;s&&(this.width=s.width,this.height=s.height)},v}(Ae.exports.RectNodeModel),F1=function(g){wg(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(s){var p=this.props,u=p.model,f=p.graphModel;return Ae.exports.h(xs,Es({},s,{nodeModel:u,graphModel:f}))},v.prototype.getShape=function(){var s=g.prototype.getAttributes.call(this),p=this.props.model.isSelected;return Ae.exports.h("g",null,g.prototype.getShape.call(this),p?this.getControlGroup(s):"")},v}(Ae.exports.RectNode),Ss={type:"rect",view:F1,model:B1},au=globalThis&&globalThis.__assign||function(){return au=Object.assign||function(g){for(var v,s=1,p=arguments.length;s<p;s++){v=arguments[s];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},au.apply(this,arguments)};function H1(g){var v=g.x,s=v===void 0?0:v,p=g.y,u=p===void 0?0:p,f=g.rx,d=f===void 0?4:f,y=g.ry,x=y===void 0?4:y,E=au({cx:s,cy:u,rx:d,ry:x,fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1},g);return Ae.exports.h("ellipse",au({},E))}var xg=globalThis&&globalThis.__extends||function(){var g=function(v,s){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,s)};return function(v,s){g(v,s);function p(){this.constructor=v}v.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),uu=globalThis&&globalThis.__assign||function(){return uu=Object.assign||function(g){for(var v,s=1,p=arguments.length;s<p;s++){v=arguments[s];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},uu.apply(this,arguments)},X1=function(g){xg(v,g);function v(){var s=g!==null&&g.apply(this,arguments)||this;return s.minWidth=30,s.minHeight=30,s.maxWidth=2e3,s.maxHeight=2e3,s}return v.prototype.setAttributes=function(){var s=this.properties.nodeSize;s&&(this.rx=s.rx,this.ry=s.ry)},v}(Ae.exports.EllipseNodeModel),U1=function(g){xg(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(s){var p=this.props,u=p.model,f=p.graphModel;return Ae.exports.h(xs,uu({},s,{nodeModel:u,graphModel:f}))},v.prototype.getResizeShape=function(s){return Ae.exports.h("g",null,Ae.exports.h(H1,uu({},s)))},v.prototype.getShape=function(){var s=g.prototype.getAttributes.call(this),p=this.props.model.isSelected;return Ae.exports.h("g",null,this.getResizeShape(s),p?this.getControlGroup(s):"")},v}(Ae.exports.EllipseNode),js={type:"ellipse",view:U1,model:X1},Ps=globalThis&&globalThis.__assign||function(){return Ps=Object.assign||function(g){for(var v,s=1,p=arguments.length;s<p;s++){v=arguments[s];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},Ps.apply(this,arguments)};function V1(g){var v=g.fillOpacity,s=v===void 0?1:v,p=g.strokeWidth,u=p===void 0?1:p,f=g.strokeOpacity,d=f===void 0?1:f,y=g.fill,x=y===void 0?"transparent":y,E=g.stroke,S=E===void 0?"#000":E,P=g.points,k=g.className,O=k===void 0?"lf-basic-shape":k,z={fill:x,fillOpacity:s,strokeWidth:u,stroke:S,strokeOpacity:d,points:"",className:O};return z.points=P.map(function(G){return G.join(",")}).join(" "),Ae.exports.h("polygon",Ps({},z))}var Eg=globalThis&&globalThis.__extends||function(){var g=function(v,s){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var f in u)u.hasOwnProperty(f)&&(p[f]=u[f])},g(v,s)};return function(v,s){g(v,s);function p(){this.constructor=v}v.prototype=s===null?Object.create(s):(p.prototype=s.prototype,new p)}}(),cu=globalThis&&globalThis.__assign||function(){return cu=Object.assign||function(g){for(var v,s=1,p=arguments.length;s<p;s++){v=arguments[s];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},cu.apply(this,arguments)},W1=function(g){Eg(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.setAttributes=function(){var s=this.properties.nodeSize;s&&(this.rx=s.rx,this.ry=s.ry)},v}(Ae.exports.DiamondNodeModel),Y1=function(g){Eg(v,g);function v(){return g!==null&&g.apply(this,arguments)||this}return v.prototype.getControlGroup=function(s){var p=this.props,u=p.model,f=p.graphModel;return Ae.exports.h(xs,cu({},s,{nodeModel:u,graphModel:f}))},v.prototype.getResizeShape=function(s){return Ae.exports.h("g",null,Ae.exports.h(V1,cu({},s)))},v.prototype.getShape=function(){var s=g.prototype.getAttributes.call(this),p=this.props.model.isSelected;return Ae.exports.h("g",null,this.getResizeShape(s),p?this.getControlGroup(s):"")},v}(Ae.exports.DiamondNode),ks={type:"diamond",view:Y1,model:W1},G1={pluginName:"node-resize",step:0,style:{outline:{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"},controlPoint:{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},sizeRange:{ellipse:{minRx:15,minRy:15,maxRx:150,maxRy:150},diamond:{minRx:15,minRy:15,maxRx:150,maxRy:150}},install:function(g){g.setTheme({rect:{strokeWidth:2,outlineColor:"transparent"},ellipse:{strokeWidth:2,outlineColor:"transparent"},diamond:{strokeWidth:2,outlineColor:"transparent"}}),g.register({type:Ss.type,view:Ss.view,model:Ss.model}),g.register({type:js.type,view:js.view,model:js.model}),g.register({type:ks.type,view:ks.view,model:ks.model})}},As=G1,$1=globalThis&&globalThis.__read||function(g,v){var s=typeof Symbol=="function"&&g[Symbol.iterator];if(!s)return g;var p=s.call(g),u,f=[],d;try{for(;(v===void 0||v-- >0)&&!(u=p.next()).done;)f.push(u.value)}catch(y){d={error:y}}finally{try{u&&!u.done&&(s=p.return)&&s.call(p)}finally{if(d)throw d.error}}return f};globalThis&&globalThis.__spread;var Sg=globalThis&&globalThis.__assign||function(){return Sg=Object.assign||function(g){for(var v,s=1,p=arguments.length;s<p;s++){v=arguments[s];for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(g[u]=v[u])}return g},Sg.apply(this,arguments)};const K1={class:"control-container"},q1=["title","onMouseenter"],Z1=["disabled","onClick"],J1=Ja({props:{lf:{default:null},catTurboData:{type:Boolean}},emits:["catData"],setup(g,{emit:v}){const s=g,p=Ov("controlButton3",null),u=Ov("controlButton4",null);let f=qr(-1),d=qr([{icon:"icon-zoom-out-hs",text:"\u7F29\u5C0F",disabled:!1},{icon:"icon-enlarge-hs",text:"\u653E\u5927",disabled:!1},{icon:"icon-full-screen-hs",text:"\u9002\u5E94",disabled:!1},{icon:"icon-previous-hs",text:"\u4E0A\u4E00\u6B65",disabled:!0},{icon:"icon-next-step-hs",text:"\u4E0B\u4E00\u6B65",disabled:!0},{icon:"icon-download-hs",text:"\u4E0B\u8F7D\u56FE\u7247",disabled:!1},{icon:"icon-watch-hs",text:"\u67E5\u770B\u6570\u636E",disabled:!1}]);const y=(E,S)=>{["zoom","zoom","resetZoom","undo","redo","getSnapshot"].forEach((P,k)=>{let O=s.lf;S===1&&O.zoom(!0),S===6&&v("catData"),S===k&&O[P]()})},x=E=>{f.value=E};return wv(()=>{s.lf.on("history:change",({data:{undoAble:E,redoAble:S}})=>{yt(d)[3].disabled=yt(p).disabled=!E,yt(d)[4].disabled=yt(u).disabled=!S})}),(E,S)=>(Xn(),Sr("div",K1,[Zr("ul",null,[(Xn(!0),Sr(xv,null,Ev(yt(d),(P,k)=>(Xn(),Sr("li",{key:k,title:P.text,style:Sv({background:yt(f)===k?"#ccc":""}),onMouseenter:jv(O=>x(k),["prevent"]),onMouseleave:S[0]||(S[0]=jv(O=>Pv(f)?f.value=-1:f=-1,["prevent"]))},[Zr("button",{ref_for:!0,ref:"controlButton"+k,disabled:P.disabled,style:Sv({cursor:P.disabled===!1?"pointer":"not-allowed"}),onClick:O=>y(P,k)},[Zr("span",{class:kv("iconfont "+P.icon)},null,2),Zr("p",null,Av(P.text),1)],12,Z1)],44,q1))),128))])]))}});var Ts=ys(J1,[["__scopeId","data-v-5704e260"]]);const Q1={class:"node-panel"},ex=["onMousedown"],tx={key:0,class:"shape"},nx={class:"node-label"},rx=Ja({props:{lf:{default:null},nodeList:{default:null}},setup(g){const v=g;let s=qr({a:"efrwe",b:"wewe"});const p=u=>{v.lf.dnd.startDrag({type:u.type,properties:yt(s)})};return(u,f)=>(Xn(),Sr("div",Q1,[(Xn(!0),Sr(xv,null,Ev(v.nodeList,d=>(Xn(),Sr("div",{class:"node-item",key:d.text,onMousedown:y=>p(d)},[Zr("div",{class:kv(["node-item-icon",d.class])},[d.type==="user"||d.type==="time"?(Xn(),Sr("div",tx)):Tv("",!0)],2),Zr("span",nx,Av(d.text),1)],40,ex))),128))]))}});var Ds=ys(rx,[["__scopeId","data-v-256a0c50"]]),jg={exports:{}};(function(g,v){(function(s,p){g.exports=p(Xw)})(Uw,function(s){return function(){var p={452:function(y){y.exports=s}},u={};function f(y){var x=u[y];if(x!==void 0)return x.exports;var E=u[y]={exports:{}};return p[y](E,E.exports,f),E.exports}f.d=function(y,x){for(var E in x)f.o(x,E)&&!f.o(y,E)&&Object.defineProperty(y,E,{enumerable:!0,get:x[E]})},f.o=function(y,x){return Object.prototype.hasOwnProperty.call(y,x)},f.r=function(y){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})};var d={};return function(){f.r(d),f.d(d,{default:function(){return B}});var y=f(452);function x(R,V){(V==null||V>R.length)&&(V=R.length);for(var K=0,ne=new Array(V);K<V;K++)ne[K]=R[K];return ne}function E(R,V){if(R){if(typeof R=="string")return x(R,V);var K=Object.prototype.toString.call(R).slice(8,-1);return K==="Object"&&R.constructor&&(K=R.constructor.name),K==="Map"||K==="Set"?Array.from(R):K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K)?x(R,V):void 0}}function S(R,V){return function(K){if(Array.isArray(K))return K}(R)||function(K,ne){var se=K==null?null:typeof Symbol!="undefined"&&K[Symbol.iterator]||K["@@iterator"];if(se!=null){var he,pe,ie=[],ce=!0,ae=!1;try{for(se=se.call(K);!(ce=(he=se.next()).done)&&(ie.push(he.value),!ne||ie.length!==ne);ce=!0);}catch(ue){ae=!0,pe=ue}finally{try{ce||se.return==null||se.return()}finally{if(ae)throw pe}}return ie}}(R,V)||E(R,V)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function P(R){return function(V){if(Array.isArray(V))return x(V)}(R)||function(V){if(typeof Symbol!="undefined"&&V[Symbol.iterator]!=null||V["@@iterator"]!=null)return Array.from(V)}(R)||E(R)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(R,V,K){return V in R?Object.defineProperty(R,V,{value:K,enumerable:!0,configurable:!0,writable:!0}):R[V]=K,R}var O=(0,y.defineComponent)({props:{data:{required:!0,type:String},onClick:Function},render:function(){var R=this.data,V=this.onClick;return(0,y.createVNode)("span",{class:"vjs-tree__brackets",onClick:V},[R])}}),z=(0,y.defineComponent)({emits:["change","update:modelValue"],props:{checked:{type:Boolean,default:!1},isMultiple:Boolean,onChange:Function},setup:function(R,V){var K=V.emit;return{uiType:(0,y.computed)(function(){return R.isMultiple?"checkbox":"radio"}),model:(0,y.computed)({get:function(){return R.checked},set:function(ne){return K("update:modelValue",ne)}})}},render:function(){var R=this.uiType,V=this.model,K=this.$emit;return(0,y.createVNode)("label",{class:["vjs-check-controller",V?"is-checked":""],onClick:function(ne){return ne.stopPropagation()}},[(0,y.createVNode)("span",{class:"vjs-check-controller__inner is-".concat(R)},null),(0,y.createVNode)("input",{checked:V,class:"vjs-check-controller__original is-".concat(R),type:R,onChange:function(){return K("change",V)}},null)])}});function G(R,V){var K=Object.keys(R);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(R);V&&(ne=ne.filter(function(se){return Object.getOwnPropertyDescriptor(R,se).enumerable})),K.push.apply(K,ne)}return K}function q(R){for(var V=1;V<arguments.length;V++){var K=arguments[V]!=null?arguments[V]:{};V%2?G(Object(K),!0).forEach(function(ne){k(R,ne,K[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(K)):G(Object(K)).forEach(function(ne){Object.defineProperty(R,ne,Object.getOwnPropertyDescriptor(K,ne))})}return R}function Y(R){return Object.prototype.toString.call(R).slice(8,-1).toLowerCase()}function U(R){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"root",K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,ne=arguments.length>3?arguments[3]:void 0,se=ne||{},he=se.key,pe=se.index,ie=se.type,ce=ie===void 0?"content":ie,ae=se.showComma,ue=ae!==void 0&&ae,ve=se.length,be=ve===void 0?1:ve,we=Y(R);if(we==="array"){var Ce=R.map(function(Be,Te,We){return U(Be,"".concat(V,"[").concat(Te,"]"),K+1,{index:Te,showComma:Te!==We.length-1,length:be,type:ce})}).reduce(function(Be,Te){return Be.concat(Te)},[]);return[U("[",V,K,{showComma:!1,key:he,length:R.length,type:"arrayStart"})[0]].concat(Ce,U("]",V,K,{showComma:ue,length:R.length,type:"arrayEnd"})[0])}if(we==="object"){var Pe=Object.keys(R),ot=Pe.map(function(Be,Te,We){return U(R[Be],Be.includes(".")?"".concat(V,'["').concat(Be,'"]'):"".concat(V,".").concat(Be),K+1,{key:Be,showComma:Te!==We.length-1,length:be,type:ce})}).reduce(function(Be,Te){return Be.concat(Te)},[]);return[U("{",V,K,{showComma:!1,key:he,index:pe,length:Pe.length,type:"objectStart"})[0]].concat(ot,U("}",V,K,{showComma:ue,length:Pe.length,type:"objectEnd"})[0])}var xt=Object.entries({content:R,level:K,key:he,index:pe,path:V,showComma:ue,length:be,type:ce}).reduce(function(Be,Te){var We=S(Te,2),lt=We[0],Ht=We[1];return Ht!==void 0?q(q({},Be),{},k({},lt,Ht)):Be},{});return[xt]}function L(R,V){var K=Object.keys(R);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(R);V&&(ne=ne.filter(function(se){return Object.getOwnPropertyDescriptor(R,se).enumerable})),K.push.apply(K,ne)}return K}function H(R){for(var V=1;V<arguments.length;V++){var K=arguments[V]!=null?arguments[V]:{};V%2?L(Object(K),!0).forEach(function(ne){k(R,ne,K[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(K)):L(Object(K)).forEach(function(ne){Object.defineProperty(R,ne,Object.getOwnPropertyDescriptor(K,ne))})}return R}var $={showLength:{type:Boolean,default:!1},showDoubleQuotes:{type:Boolean,default:!0},customValueFormatter:Function,selectableType:String,showSelectController:{type:Boolean,default:!1},showLine:{type:Boolean,default:!0},selectOnClickNode:{type:Boolean,default:!0},collapsedOnClickBrackets:{type:Boolean,default:!0},pathSelectable:{type:Function,default:function(){return!0}},highlightSelectedNode:{type:Boolean,default:!0}},N=(0,y.defineComponent)({name:"TreeNode",props:H(H({},$),{},{node:{type:Object,required:!0},collapsed:Boolean,checked:Boolean,onTreeNodeClick:{type:Function},onBracketsClick:{type:Function},onSelectedChange:{type:Function}}),setup:function(R,V){var K=V.emit,ne=(0,y.computed)(function(){return Y(R.node.content)}),se=(0,y.computed)(function(){return"vjs-value vjs-value__".concat(ne.value)}),he=(0,y.computed)(function(){return R.showDoubleQuotes?'"'.concat(R.node.key,'"'):R.node.key}),pe=(0,y.computed)(function(){return R.selectableType==="multiple"}),ie=(0,y.computed)(function(){return R.selectableType==="single"}),ce=(0,y.computed)(function(){return R.pathSelectable(R.node.path,R.node.content)&&(pe.value||ie.value)}),ae=function(ue){var ve=ue+"";return ne.value==="string"&&(ve='"'.concat(ve,'"')),ve};return{state:(0,y.reactive)({valueClass:se,prettyKey:he,isMultiple:pe,selectable:ce}),defaultFormatter:ae,customFormatter:function(ue){return R.customValueFormatter?R.customValueFormatter(ue,R.node.key,R.node.path,ae(ue)):ae(ue)},onBracketsClickHandler:function(){R.collapsedOnClickBrackets&&K("brackets-click",!R.collapsed,R.node.path)},onCheckedChange:function(){K("selected-change",R.node)},onNodeClick:function(){K("tree-node-click",R.node),ce.value&&R.selectOnClickNode&&K("selected-change",R.node)}}},render:function(){var R=this.state,V=this.node,K=this.showSelectController,ne=this.highlightSelectedNode,se=this.checked,he=this.showLength,pe=this.collapsed,ie=this.showLine,ce=this.customValueFormatter,ae=this.defaultFormatter,ue=this.customFormatter,ve=this.onNodeClick,be=this.onCheckedChange,we=this.onBracketsClickHandler;return(0,y.createVNode)("div",{class:{"vjs-tree__node":!0,"has-selector":K,"is-highlight":ne&&se},onClick:ve},[K&&R.selectable&&V.type!=="objectEnd"&&V.type!=="arrayEnd"&&(0,y.createVNode)(z,{isMultiple:R.isMultiple,checked:se,onChange:be},null),Array.from(Array(V.level)).map(function(Ce,Pe){return(0,y.createVNode)("div",{key:Pe,class:{"vjs-tree__indent":!0,"has-line":ie}},null)}),V.key&&(0,y.createVNode)("span",{class:"vjs-key"},["".concat(R.prettyKey,": ")]),(0,y.createVNode)("span",null,[V.type!=="content"?(0,y.createVNode)(O,{data:V.content,onClick:we},null):ce?(0,y.createVNode)("span",{class:R.valueClass,innerHTML:ue(V.content)},null):(0,y.createVNode)("span",{class:R.valueClass},[ae(V.content)]),V.showComma&&(0,y.createVNode)("span",null,[","]),he&&pe&&(0,y.createVNode)("span",{class:"vjs-comment"},[(0,y.createTextVNode)(" // "),V.length,(0,y.createTextVNode)(" items ")])])])}});function I(R,V){var K=Object.keys(R);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(R);V&&(ne=ne.filter(function(se){return Object.getOwnPropertyDescriptor(R,se).enumerable})),K.push.apply(K,ne)}return K}function C(R){for(var V=1;V<arguments.length;V++){var K=arguments[V]!=null?arguments[V]:{};V%2?I(Object(K),!0).forEach(function(ne){k(R,ne,K[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(K)):I(Object(K)).forEach(function(ne){Object.defineProperty(R,ne,Object.getOwnPropertyDescriptor(K,ne))})}return R}var F=(0,y.defineComponent)({name:"Tree",props:C(C({},$),{},{data:{type:Object,default:null},deep:{type:Number,default:1/0},deepCollapseChildren:{type:Boolean,default:!1},path:{type:String,default:"root"},virtual:{type:Boolean,default:!1},virtualLines:{type:Number,default:10},itemHeight:{type:Number,default:20},modelValue:{type:[String,Array],default:function(){return""}}}),emits:["click","change","update:modelValue"],setup:function(R,V){var K=V.emit,ne=(0,y.ref)(),se=(0,y.reactive)({translateY:0,visibleData:null,hiddenPaths:U(R.data,R.path).reduce(function(ae,ue){var ve=R.deepCollapseChildren?ue.level>=R.deep:ue.level===R.deep;return ue.type!=="objectStart"&&ue.type!=="arrayStart"||!ve?ae:C(C({},ae),{},k({},ue.path,1))},{})}),he=(0,y.computed)(function(){var ae=null;return U(R.data,R.path).reduce(function(ue,ve,be){var we=C(C({},ve),{},{id:be}),Ce=se.hiddenPaths[we.path];if(ae&&ae.path===we.path){var Pe=ae.type==="objectStart",ot=C(C(C({},ae),we),{},{content:Pe?"{...}":"[...]",type:Pe?"objectCollapsed":"arrayCollapsed"});return ae=null,ue.concat(ot)}return Ce&&!ae?(ae=we,ue):ae?ue:ue.concat(we)},[])}),pe=(0,y.computed)(function(){var ae=R.modelValue;return ae&&R.selectableType==="multiple"&&Array.isArray(ae)?ae:[ae]}),ie=(0,y.computed)(function(){return!R.selectableType||R.selectOnClickNode||R.showSelectController?"":"When selectableType is not null, selectOnClickNode and showSelectController cannot be false at the same time, because this will cause the selection to fail."}),ce=function(ae){if(R.virtual){var ue=ne.value,ve=R.virtualLines,be=ue&&ue.scrollTop||0,we=Math.floor(be/R.itemHeight),Ce=we<0?0:we+ve>ae.length?ae.length-ve:we;Ce<0&&(Ce=0);var Pe=Ce+ve;se.translateY=Ce*R.itemHeight,se.visibleData=ae.filter(function(ot,xt){return xt>=Ce&&xt<Pe})}else se.visibleData=ae};return(0,y.watchEffect)(function(){ie.value&&function(ae){throw new Error("[VueJSONPretty] ".concat(ae))}(ie.value)}),(0,y.watchEffect)(function(){he.value&&ce(he.value)}),{tree:ne,state:se,flatData:he,selectedPaths:pe,onTreeScroll:function(){ce(he.value)},onSelectedChange:function(ae){var ue=ae.path,ve=R.selectableType;if(ve==="multiple"){var be=pe.value.findIndex(function(ot){return ot===ue}),we=P(pe.value);be!==-1?we.splice(be,1):we.push(ue),K("update:modelValue",we),K("change",we,P(pe.value))}else if(ve==="single"&&pe.value[0]!==ue){var Ce=S(pe.value,1)[0],Pe=ue;K("update:modelValue",Pe),K("change",Pe,Ce)}},onTreeNodeClick:function(ae){var ue=ae.content,ve=ae.path;K("click",ve,ue)},onBracketsClick:function(ae,ue){if(ae)se.hiddenPaths=C(C({},se.hiddenPaths),{},k({},ue,1));else{var ve=C({},se.hiddenPaths);delete ve[ue],se.hiddenPaths=ve}}}},render:function(){var R=this.virtual,V=this.itemHeight,K=this.customValueFormatter,ne=this.showDoubleQuotes,se=this.showLength,he=this.showLine,pe=this.showSelectController,ie=this.selectOnClickNode,ce=this.pathSelectable,ae=this.highlightSelectedNode,ue=this.collapsedOnClickBrackets,ve=this.state,be=this.flatData,we=this.selectedPaths,Ce=this.selectableType,Pe=this.onTreeNodeClick,ot=this.onBracketsClick,xt=this.onSelectedChange,Be=this.onTreeScroll,Te=ve.visibleData&&ve.visibleData.map(function(We){return(0,y.createVNode)(N,{key:We.id,node:We,collapsed:!!ve.hiddenPaths[We.path],"custom-value-formatter":K,"show-double-quotes":ne,"show-length":se,"collapsed-on-click-brackets":ue,checked:we.includes(We.path),"selectable-type":Ce,"show-line":he,"show-select-controller":pe,"select-on-click-node":ie,"path-selectable":ce,"highlight-selected-node":ae,onTreeNodeClick:Pe,onBracketsClick:ot,onSelectedChange:xt},null)});return(0,y.createVNode)("div",{ref:"tree",class:{"vjs-tree":!0,"is-virtual":R},onScroll:Be},[R?(0,y.createVNode)("div",{style:{height:"".concat(be.length*V,"px")}},[(0,y.createVNode)("div",{style:{transform:"translateY(".concat(ve.translateY,"px)")}},[Te])]):Te])}}),B=(0,y.defineComponent)(F)}(),d}()})})(jg);var ox=_v(jg.exports);const Ms=Ja({props:{graphData:Object},setup(g){const v=g;return(s,p)=>(Xn(),Dv(yt(ox),{path:"res",deep:3,showLength:!0,data:v.graphData},null,8,["data"]))}}),ix=Object.assign(Ts,{install(g){g.component(Ts.name,Ts)}}),ax=Object.assign(Ds,{install(g){g.component(Ds.name,Ds)}}),ux=Object.assign(Ms,{install(g){g.component(Ms.name,Ms)}}),cx={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function sx(g){const{incoming:v,outgoing:s,properties:p,key:u}=g,{text:f,startPoint:d,endPoint:y,pointsList:x,logicFlowType:E}=p,S={id:u,type:E,sourceNodeId:v[0],targetNodeId:s[0],text:f,startPoint:d,endPoint:y,pointsList:x,properties:{}},P=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(g.properties).forEach(k=>{P.indexOf(k)===-1&&(S.properties[k]=g.properties[k])}),S}function lx(g){const{properties:v,key:s}=g,{x:p,y:u,text:f,logicFlowType:d}=v,y={id:s,type:d,x:p,y:u,text:f,properties:{}},x=["x","y","text","logicFlowType"];return Object.keys(g.properties).forEach(E=>{x.indexOf(E)===-1&&(y.properties[E]=g.properties[E])}),y}function fx(g){const v={nodes:[],edges:[]},s=g.flowElementList;return s&&s.length>0&&s.forEach(p=>{if(p.type===cx.SEQUENCE_FLOW){const u=sx(p);v.edges.push(u)}else{const u=lx(p);v.nodes.push(u)}}),v}const px=[{type:"bpmn:startEvent",text:"\u5F00\u59CB",class:"bpmn-start"},{type:"bpmn:endEvent",text:"\u7ED3\u675F",class:"bpmn-end"},{type:"bpmn:exclusiveGateway",text:"\u7F51\u5173",class:"bpmn-exclusiveGateway"},{type:"bpmn:userTask",text:"\u7528\u6237",class:"bpmn-user"}],hx=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var dx={flowElementList:hx};const yx=g=>(Vw("data-v-6a0daf5d"),g=g(),Ww(),g),vx={class:"logic-flow-view"},gx=yx(()=>Zr("div",{id:"LF-Turbo"},null,-1)),bx=Ja({setup(g){let v=qr(null),s=qr(null),p=qr(!1),u=qr({grid:!0,background:{color:"#f7f9ff"},keyboard:{enabled:!0}}),f=px;function d(){eu.use(y1),eu.use(d1),eu.use(j1);const E=new eu(mv(bv({},yt(u)),{container:document.querySelector("#LF-Turbo")}));v.value=E,yt(v).setDefaultEdgeType("bpmn:sequenceFlow"),y()}function y(){const E=fx(dx);v.value.render(E)}function x(){s.value=yt(v).getGraphData(),p.value=!0}return wv(()=>{d()}),(E,S)=>{const P=Mv("el-scrollbar"),k=Mv("el-dialog");return Xn(),Sr("div",vx,[yt(v)?(Xn(),Dv(yt(ix),{key:0,class:"demo-control",lf:yt(v),catTurboData:!1,onCatData:x},null,8,["lf"])):Tv("",!0),Qa(yt(ax),{lf:yt(v),nodeList:yt(f)},null,8,["lf","nodeList"]),gx,Qa(k,{customClass:"flow-dialog",title:"\u6570\u636E",modelValue:yt(p),"onUpdate:modelValue":S[0]||(S[0]=O=>Pv(p)?p.value=O:p=O),width:"50%"},{default:Nv(()=>[Qa(P,null,{default:Nv(()=>[Qa(yt(ux),{graphData:yt(s)},null,8,["graphData"])]),_:1})]),_:1},8,["modelValue"])])}}});var wx=ys(bx,[["__scopeId","data-v-6a0daf5d"]]);export{wx as default};
